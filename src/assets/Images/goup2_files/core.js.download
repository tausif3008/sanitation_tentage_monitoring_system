"use strict";(self.webpackChunkskype4life=self.webpackChunkskype4life||[]).push([[321],{369857:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({children:e,valueFrom:t,valueTo:i,value:d,maxHeight:u,inputMapper:p=a.defaultInputMapper}){const g=(0,n.useRef)(new r.Animated.Value(s)).current;(0,n.useEffect)((()=>{g.setValue(p(t,i,d))}));const h=g.interpolate({inputRange:[0,1],outputRange:[u,s],extrapolate:"clamp"}),m=g.interpolate({inputRange:[0,1],outputRange:[l,c],extrapolate:"clamp"});return(0,o.jsx)(r.Animated.View,{style:{height:h,opacity:m},children:e})};const o=i(785893),n=i(667294),r=i(537180),a=i(454865),s=0,l=1,c=0},584643:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({children:e,value:t,valueFrom:i,valueTo:l,maxOpacity:c=1,inputMapper:d=a.defaultInputMapper}){const u=(0,n.useRef)(new r.Animated.Value(s)).current;(0,n.useEffect)((()=>{u.setValue(d(i,l,t))}));const p=u.interpolate({inputRange:[0,1],outputRange:[s,c],extrapolate:"clamp"});return(0,o.jsx)(r.Animated.View,{style:{opacity:p},children:e})};const o=i(785893),n=i(667294),r=i(537180),a=i(454865),s=0},520404:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({children:e,value:t,valueFrom:i,valueTo:s,maxSlideValue:l,minSlideValue:c=0,zIndex:d=2,inputMapper:u=a.defaultInputMapper}){const p=(0,n.useRef)(new r.Animated.Value(0)).current;(0,n.useEffect)((()=>{p.setValue(u(i,s,t))}));const g=p.interpolate({inputRange:[0,1],outputRange:[c,l],extrapolate:"clamp"});return(0,o.jsx)(r.Animated.View,{style:{top:g,zIndex:d},children:e})};const o=i(785893),n=i(667294),r=i(537180),a=i(454865)},454865:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultInputMapper=function(e,t,i){if(e<t?i<e:i>e)return 0;if(e<t?i>t:i<t)return 1;return Number.parseFloat((Math.abs(i-e)/Math.abs(t-e)).toFixed(2))}},887480:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sliding=t.Fading=t.CollapsibleRow=void 0;const o=i(197582);var n=i(369857);Object.defineProperty(t,"CollapsibleRow",{enumerable:!0,get:function(){return o.__importDefault(n).default}});var r=i(584643);Object.defineProperty(t,"Fading",{enumerable:!0,get:function(){return o.__importDefault(r).default}});var a=i(520404);Object.defineProperty(t,"Sliding",{enumerable:!0,get:function(){return o.__importDefault(a).default}})},192478:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forNavigation=t.BaseNavigationWrapper=t.BaseNavigationView=void 0;const o=i(197582),n=i(785893),r=i(496486),a=i(217041),s=i(344175),l=o.__importDefault(i(54720)),c=i(736267),d=i(815146),u=o.__importStar(i(85385)),p=o.__importDefault(i(740794)),g=o.__importDefault(i(114818)),h=o.__importDefault(i(497910)),m=o.__importDefault(i(760989)),S=o.__importDefault(i(958868)),_=i(641400),f="StatusBar:";class y extends S.default{constructor(e){super(e),this._onBackButtonPressed=()=>{const e=m.default.newCauseId(),t=this._goBack(e);return u.log(d.LogTraceArea.HardwareBackButton,"goBack: "+t+" causeId: "+e),t},this._statusBarKey=(0,r.uniqueId)(f)}componentDidMount(){super.componentDidMount(),l.default.subscribe(this._onBackButtonPressed)}componentWillUnmount(){super.componentWillUnmount(),l.default.unsubscribe(this._onBackButtonPressed)}setVisible(e){var t;null===(t=this._getContext().componentVisibilityStatus)||void 0===t||t.updateVisibility(e)}_componentId(){return"BaseNavigationView"}_goBack(e){const t=this._getContext();return!!t.goBack&&t.goBack(e)}}t.BaseNavigationView=y;class C extends h.default{constructor(e){super(e),this._onBackButtonPressed=()=>{const e=m.default.newCauseId(),t=this._goBack(e);return u.log(d.LogTraceArea.HardwareBackButton,"goBack: "+t+" causeId: "+e),t},this._statusBarKey=(0,r.uniqueId)(f)}componentDidMount(){super.componentDidMount(),l.default.subscribe(this._onBackButtonPressed)}componentWillUnmount(){super.componentWillUnmount(),l.default.unsubscribe(this._onBackButtonPressed)}setVisible(e){const t=this._getContext();t.componentVisibilityStatus&&t.componentVisibilityStatus.updateVisibility(e)}_componentId(){return"BaseNavigationComponent"}_goBack(e){const t=this._getContext();return!!t.goBack&&t.goBack(e)}}t.default=C;class v extends a.ComponentBase{constructor(e,t){super(e),this._goBack=e=>!!(this._context.isPresentedByMobileStackNavigator||this._context.isPresentedInDesktopSubview||this._context.isPresentedInDesktopContentPanel)&&(u.log(d.LogTraceArea.Navigation,"BaseNavigationWrapper._goBack causeId: "+e),p.default.navigateBack(e,this._context)),this._customGoBack=e=>!(!this.props.goBack||!this.props.goBack(e))||this._goBack(e),this._context=this._createContext(e,t)}_createContext(e,t){var i,o;const n=Object.assign({},t);return e.isPresentedInDesktopSubview&&(n.isPresentedInDesktopSubview=!0),e.isPresentedInDesktopLeftNav&&(n.isPresentedInDesktopSubview=!0,n.isPresentedInDesktopLeftNav=!0),e.isPresentedInDesktopRightNav&&(n.isPresentedInDesktopSubview=!0,n.isPresentedInDesktopRightNav=!0),e.isPresentedInGenericDesktopModal&&(n.isPresentedInDesktopSubview=!0,n.isPresentedInGenericDesktopModal=!0),e.isPresentedInManagedModal&&(n.isPresentedInDesktopSubview=!1!==e.isPresentedInDesktopSubview,n.isPresentedInManagedModal=!0),e.isPresentedInSplitView&&(n.isPresentedInSplitView=!0),e.isPresentedInDesktopContentPanel&&(n.isPresentedInDesktopContentPanel=!0),e.isPresentedByMobileStackNavigator&&(n.componentVisibilityStatus||(n.componentVisibilityStatus=null!==(o=null===(i=this._context)||void 0===i?void 0:i.componentVisibilityStatus)&&void 0!==o?o:new c.ComponentVisibilityStatus),n.isPresentedByMobileStackNavigator=!0),e.goBack?n.goBack=this._customGoBack:n.goBack=this._goBack,n}render(){const e=this._createContext(this.props,this.context);return this._context&&(0,g.default)(e,this._context)||(this._context=e),(0,n.jsx)(c.CommonContext.Provider,{value:this._context,children:(0,n.jsx)(s.SUIIconsProvider,{icons:(0,_.resolveIcons)(),children:this.props.children})})}}t.BaseNavigationWrapper=v,v.contextType=c.CommonContext;t.forNavigation=e=>t=>(0,n.jsx)(e,Object.assign({},t.route.params))},808467:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseNavigationViewPresentedInModal=void 0;const o=i(197582).__importStar(i(192478));class n extends o.default{constructor(e){super(e)}componentDidMount(){var e,t;super.componentDidMount(),null===(t=(e=this.props).onAccessibilityTitleChange)||void 0===t||t.call(e,this._getHeaderText(this.state))}}t.default=n;class r extends o.BaseNavigationView{constructor(e){super(e)}componentDidMount(){var e,t;super.componentDidMount(),null===(t=(e=this.props.route.params).onAccessibilityTitleChange)||void 0===t||t.call(e,this._getHeaderText(this.state))}}t.BaseNavigationViewPresentedInModal=r},21874:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(815063),s=i(854646),l=o.__importStar(i(859745)),c=o.__importStar(i(516778)),d=o.__importStar(i(971988)),u=i(154235),p=o.__importDefault(i(615364)),g=o.__importDefault(i(601976)),h=o.__importStar(i(320820)),m=i(815146),S=o.__importStar(i(85385)),_=i(26703),f=o.__importStar(i(405640)),y=i(480327),C=o.__importDefault(i(252089)),v=o.__importDefault(i(740794)),b=o.__importDefault(i(942724)),T=i(395617),P=o.__importDefault(i(960282)),k=o.__importDefault(i(117475)),A=o.__importDefault(i(377556)),I=i(229179),w=i(16549),x=i(641400),N=o.__importDefault(i(827361)),D=o.__importDefault(i(497910)),M=o.__importDefault(i(601274)),L=o.__importStar(i(705676)),R=o.__importDefault(i(760989)),E=(0,_.lazyProperties)({toastContainer:()=>c.Styles.createViewStyle({top:0,bottom:0,left:0,right:0,position:"absolute",overflow:"visible"}),desktopToastContainer:()=>c.Styles.createViewStyle({justifyContent:"flex-start",alignItems:"center"}),desktopToastContent:()=>c.Styles.createViewStyle({width:425,height:80,justifyContent:"center",backgroundColor:w.Color.transparent}),mobileToastContent:()=>c.Styles.createViewStyle({alignSelf:"stretch",marginHorizontal:10,height:80,justifyContent:"center",backgroundColor:w.Color.transparent}),browserMobileToastContent:()=>c.Styles.createViewStyle({width:screen.width}),mobileToastContentNoMargins:()=>c.Styles.createViewStyle({marginHorizontal:0}),gestureViewOverlayDesktop:()=>c.Styles.createViewStyle({backgroundColor:w.Color.transparent,justifyContent:"center",alignItems:"center",overflow:"visible"}),gestureViewOverlayMobile:()=>c.Styles.createViewStyle({alignSelf:"stretch",backgroundColor:w.Color.transparent,justifyContent:"center",alignItems:"center",overflow:"visible"}),backgroundViewDesktopIOS:()=>c.Styles.createViewStyle({borderRadius:5}),shadow:()=>c.Styles.createViewStyle({shadowColor:w.Color.black,shadowOpacity:.7,shadowRadius:2,shadowOffset:{height:0,width:0}})});class B extends D.default{constructor(){super(...arguments),this._wasToastTapped=!1,this._onAnimatedViewRef=e=>{this._animatedView=e||void 0},this._handleIncomingNotification=e=>{this.isComponentMounted()&&(this._recalcDisplay(e),void 0!==this.state.notificationType&&void 0!==this.state.conversationId&&(this._toastEventToSend=new y.MessagingToastEvent(this.state.conversationId,this.state.notificationType,y.MessagingToastActionType.Ignored)))},this._onPanVertical=e=>{r.isUndefined(this._hideToastTimerId)||!this.state.currentMessage&&!this.state.messageText||(M.default.clearTimeout(this._hideToastTimerId),this._hideToastTimerId=void 0);let t=e.pageY-e.initialPageY,i=!1;t>30&&(t=30),this._animatedView&&this._animatedView.setValue({y:t});let o=t/30;o<0&&(o=0);i=this.state.toastHeight-Math.abs(t)<this.state.toastHeight/2||Math.abs(e.velocityY)>.35||t>=30,e.isComplete&&(i?(this._hideToast(0),void 0!==this.state.notificationType&&void 0!==this.state.conversationId&&(this._toastEventToSend=new y.MessagingToastEvent(this.state.conversationId,this.state.notificationType,y.MessagingToastActionType.Panned))):this._showToast(0))},this._onTapDismiss=e=>{var t;const i=R.default.newCauseId();S.log(m.LogTraceArea.Notifications,"NotificationToast._onTapDismiss "+i),this._wasToastTapped=!0,this.state.conversationId&&(void 0!==this.state.notificationType&&(this._toastEventToSend=new y.MessagingToastEvent(this.state.conversationId,this.state.notificationType,y.MessagingToastActionType.Tapped)),v.default.navigateToConversation({convId:this.state.conversationId,causeId:i,scrollToTimestamp:null===(t=this.state.currentMessage)||void 0===t?void 0:t.createdTime,origin:m.NavigationConversationOrigin.InAppNotification})),this._isToastCurrentlyHiding||(r.isUndefined(this._hideToastTimerId)||(M.default.clearTimeout(this._hideToastTimerId),this._hideToastTimerId=void 0),this._hideToast(0))},this._onToastDismissed=()=>{this.state.onToastDismissed&&this.state.onToastDismissed(this._wasToastTapped),this.setState({onToastDismissed:void 0}),this._wasToastTapped=!1},this._hideToastCallback=()=>{this._isToastCurrentlyHiding=!1,L.default.hideCurrentToastMessage(),this._onToastDismissed(),r.isUndefined(this._toastEventToSend)||S.track(this._toastEventToSend)}}static _topStartingValue(e){return(e.toastHeight?-e.toastHeight:0)-10}_recalcDisplay(e){const t=R.default.newCauseId();S.log(m.LogTraceArea.Notifications,"NotificationToast._recalcDisplay "+t);const i={},o=this._getRootViewId();if(e){const n=P.default.getDeviceOrientation(o),r=k.default.leavePaddingForStatusBar(),a=b.default.isUsingStackNavigationContext(),s=k.default.statusBarHeight(),l=80+(r?s:0);if(this._animatedView&&this._animatedView.setValue({y:-l},t),i.leavePaddingForStatusBar=r,i.statusBarHeight=s,i.toastHeight=l,i.toastWidth=P.default.getWidth(o)||0,i.deviceOrientation=n,i.safeAreaHorizontalPaddingStyle=k.default.horizontalPaddingStyle(u.HorizontalInsetDefault),i.isUsingStackNavigationContext=a,e instanceof L.SkypeNotificationToastMessage){i.messageText=void 0,i.currentMessage=e.message,i.notificationType=f.getMessageNotificationType(e.message);const t=(0,p.default)().getConversation(e.message.conversationId),o=g.default.getDisplayName(e.message.conversationId),n=g.default.getDisplayName(e.message.creator),r=g.default.getShortDisplayName(e.message.creator),a=h.getCompactNotificationDisplayInfo(e.message,t,n,r,o);i.headerText=a.title,i.toastCreator=t&&t.isOneOnOne()?t.getOtherPartyMri():void 0,i.conversationId=e.message.conversationId}else if(e instanceof L.TextNotificationToastMessage)i.messageText=e.textMessage,i.currentMessage=void 0,i.notificationType=void 0,i.headerText=void 0,i.toastCreator=void 0,i.conversationId=e.conversationId,i.onToastDismissed=e.onToastDismissed;else if(e instanceof L.ScheduledCallToastMessage){let t,o;switch(e.scheduledCallInfo.type){case I.ScheduleCallAlertTypes.Received:o=e.skypeMessage.creator,t=h.getScheduledCallDisplayInfoForInvitationReceivedAlert(o);break;case I.ScheduleCallAlertTypes.InvitationAccepted:case I.ScheduleCallAlertTypes.InvitationDeclined:o=e.scheduledCallInfo.initiator,t=h.getScheduledCallDisplayInfoForInvitationAlert(o,e.scheduledCallInfo.type,e.scheduledCallInfo.subject);break;case I.ScheduleCallAlertTypes.Edited:case I.ScheduleCallAlertTypes.Canceled:o=e.skypeMessage.creator,t=h.getScheduledCallDisplayInfoForInvitationUpdatedAlert(o,e.scheduledCallInfo.type,e.scheduledCallInfo.subject);break;default:return R.default.switchStatementExhaustiveChecking(e.scheduledCallInfo.type)}t&&(i.currentMessage=e.skypeMessage,i.notificationType=T.MessageNotificationType.ScheduledCall,i.messageText=t.body,i.messageTextIcon=x.SkypeIcon.Schedule,i.headerText=t.title,i.conversationId=e.skypeMessage.conversationId,i.toastCreator=o)}this.setState(i),this._animatedView&&this._animatedView.setValue({y:B._topStartingValue(i)},t),this._showToast()}else i.messageText=void 0,i.currentMessage=void 0,i.notificationType=void 0,this.setState(i)}_buildState(e,t){const i=this._getRootViewId();if(t){L.default.event_localNotificationReady.subscribe(this._handleIncomingNotification);const e={},t=P.default.getDeviceOrientation(i),o=k.default.leavePaddingForStatusBar(),n=b.default.isUsingStackNavigationContext(),r=k.default.statusBarHeight(),a=80+(o?r:0);return e.currentMessage=void 0,e.notificationType=void 0,e.messageText=void 0,e.messageTextIcon=void 0,e.headerText=void 0,e.toastCreator=void 0,e.leavePaddingForStatusBar=o,e.statusBarHeight=r,e.toastHeight=a,e.toastWidth=P.default.getWidth(i)||0,e.deviceOrientation=t,e.safeAreaHorizontalPaddingStyle=k.default.horizontalPaddingStyle(u.HorizontalInsetDefault),e.isUsingStackNavigationContext=n,this._isToastCurrentlyHiding=!1,e}return{}}componentWillUnmount(){super.componentWillUnmount(),L.default.event_localNotificationReady.unsubscribe(this._handleIncomingNotification)}render(){return this.state.currentMessage||this.state.messageText?this.state.currentMessage&&this.state.currentMessage.messagetype===d.MessageTypes.PopCard?null:this._renderSimpleToast():null}_renderSimpleToast(){let e=this._renderNotificationContent();if(!e)return null;const t=[E.toastContainer,E.desktopToastContainer],i=[this.state.isUsingStackNavigationContext?E.mobileToastContent:E.desktopToastContent];a.BrowserEnvironment.isMobile()&&!this.state.isUsingStackNavigationContext&&i.push(E.browserMobileToastContent),this.state.isUsingStackNavigationContext&&i.push(E.mobileToastContentNoMargins);const o=this.state.leavePaddingForStatusBar?Math.max(this.state.statusBarHeight,10):(this.state.isUsingStackNavigationContext,0);o&&i.push(A.default.marginTopStyle(o));const r=this.state.isUsingStackNavigationContext?E.gestureViewOverlayMobile:E.gestureViewOverlayDesktop,s=C.default.getGradientColorsNoSubscription();return e=(0,n.jsxs)(c.View,{style:i,children:[this._getBackgroundView(s,!1),e]}),(0,n.jsx)(l.View,{ref:this._onAnimatedViewRef,style:t,ignorePointerEvents:!0,y:-this.state.toastHeight,children:(0,n.jsx)(c.GestureView,{style:r,onTap:this._onTapDismiss,onPanVertical:this._onPanVertical,releaseOnRequest:!1,children:e})},"toast")}_getBackgroundView(e,t=!1){const i=[N.default.absoluteFill];return t&&i.push(E.backgroundViewDesktopIOS),this._themeStyles.notificationColorStyle?(0,n.jsx)(c.View,{style:[i,this._themeStyles.notificationColorStyle]}):(0,n.jsx)(s.GradientView,{style:i,direction:s.GradientDirection.RIGHT,colors:e})}_showToast(e=500){const t=R.default.newCauseId();S.log(m.LogTraceArea.Notifications,"NotificationToast._showToast causeId: "+t),M.default.setTimeout((()=>{if(this.isComponentMounted()&&this._animatedView){const e=0;this._animatedView.getAnimation({y:{toValue:e,duration:266,easing:l.Easing.SkypeExpoInOut5}},t).start((()=>{this.isComponentMounted()&&(this._hideToast(),this._announceForAccessibility())}))}}),e)}_hideToast(e=2500){const t=R.default.newCauseId();S.log(m.LogTraceArea.Notifications,"NotificationToast._hideToast causeId: "+t),this._hideToastTimerId=M.default.setTimeout((()=>{this.isComponentMounted()&&this._animatedView&&(this._isToastCurrentlyHiding=!0,this._animatedView.getAnimation({y:{toValue:B._topStartingValue(this.state),duration:266,easing:l.Easing.SkypeExpoInOut5}},t).start(this._hideToastCallback))}),e)}_announceForAccessibility(){this.state.messageText&&c.Accessibility.announceForAccessibility(this.state.messageText)}}t.default=B},7640:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(192478),l=i(815146),c=o.__importStar(i(85385)),d=i(26703),u=o.__importDefault(i(924849)),p=o.__importDefault(i(740794)),g=o.__importDefault(i(327400)),h=i(16549),m=o.__importDefault(i(497910)),S=o.__importDefault(i(601274)),_=(0,d.lazyProperties)({sceneContainer:()=>a.Styles.createViewStyle({flex:1,flexDirection:"row",alignSelf:"stretch"},!1),cardStyleAndroid:()=>a.Styles.createViewStyle({backgroundColor:h.Color.transparent},!1)});class f extends m.default{constructor(){super(...arguments),this._mountedRefsMap=new u.default,this._navigateBackCompleted=()=>{},this._transitionStarted=(e,t,i,o,n)=>{const r=t?this._navContextForNavigatorRouteId(parseInt(t,10)):void 0,a=i?this._navContextForNavigatorRouteId(parseInt(i,10)):void 0;p.default.stackNavigationStarted(e,r,a,o,n)},this._transitionCompleted=()=>{c.log(l.LogTraceArea.Navigation,"RootStackNavigationView: _transitionCompleted"),this._clearPendingNavigationAnimation(!1),r.defer((()=>{this._updateComponentVisibility(),p.default.stackNavigationCompleted()}))},this._onNavigatorRef=e=>{this._navigator=e||void 0},this._renderScene=e=>{if(!e)return null;const t=this._navContextForNavigatorRoute(e);t||c.warn(l.LogTraceArea.Navigation,"No nav context found corresponding to the Navigator Route");const i=this._routeIdKey(e),o=this._renderSceneContent(t,i);return(0,n.jsx)(s.BaseNavigationWrapper,{isPresentedByMobileStackNavigator:!0,children:(0,n.jsx)(a.View,{accessibilityViewIsModalIOS:!0,style:_.sceneContainer,children:o})})}}UNSAFE_componentWillUpdate(e,t,i){if(super.UNSAFE_componentWillUpdate(e,t,i),this._prevNavContextStack=this.props.navContextStack,!this._navigator)return;const o=e.navContextStack;let n=this._prevNavContextStack.length;o.length<n&&(n=o.length);let r=0;for(;r<n&&this._prevNavContextStack[r].id===o[r].id;r++);const a=this._prevNavContextStack.length-r,s=o.length-r;if(s>1&&c.warn(l.LogTraceArea.Navigation,"Only 1 scene can be added to the stack in a single transaction."),a||s){if(o[o.length-1].id===this._prevNavContextStack[this._prevNavContextStack.length-1].id||s>1){c.log(l.LogTraceArea.Navigation,"RootStackNavigationView: UNSAFE_componentWillUpdate immediatelyResetRouteStack");const e=this._createNavigatorRouteStack(o);return void this._navigator.immediatelyResetRouteStack(e)}}let d;if(1===s){const e=o[r],t=r>0?o[r-1]:void 0;d=this._createNavigatorRoute(e,t)}c.log(l.LogTraceArea.Navigation,"RootStackNavigationView: UNSAFE_componentWillUpdate prev stack length: "+this._prevNavContextStack.length+" next stack length: "+o.length+" totalPushing: "+s+" totalPopping: "+a),d&&a>=1?(c.log(l.LogTraceArea.Navigation,"RootStackNavigationView: UNSAFE_componentWillUpdate replaceAtIndex, routeId: "+d.routeId),this._registerPendingNavigationAnimation(),this._navigator.replaceAtIndex(d,r)):d?(c.log(l.LogTraceArea.Navigation,"RootStackNavigationView: UNSAFE_componentWillUpdate push, routeId: "+d.routeId),this._registerPendingNavigationAnimation(),this._navigator.push(d)):a>0&&(c.log(l.LogTraceArea.Navigation,"RootStackNavigationView: UNSAFE_componentWillUpdate popToRoute"),this._navigator.popToRoute(this._navigator.getCurrentRoutes()[r-1]))}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._updateComponentVisibility()}componentDidMount(){super.componentDidMount();const e=this._createNavigatorRouteStack(this.props.navContextStack);c.log(l.LogTraceArea.Navigation,"RootStackNavigationView: componentDidMount immediatelyResetRouteStack"),this._navigator&&this._navigator.immediatelyResetRouteStack(e),this._updateComponentVisibility()}_updateComponentVisibility(){const e=this._navigator?r.last(this._navigator.getCurrentRoutes()):void 0,t=this._routeIdKey(e);r.each(this._mountedRefsMap.allRefs(),((e,i)=>{e.ref&&e.ref.setVisible&&e.ref.setVisible(!this.props.isWholeStackInvisible&&i===t)}))}render(){const e=this._themeStyles.primaryBackgroundColorStyle;return(0,n.jsx)(a.Navigator,{renderScene:this._renderScene,navigateBackCompleted:this._navigateBackCompleted,transitionStarted:this._transitionStarted,transitionCompleted:this._transitionCompleted,ref:this._onNavigatorRef,cardStyle:e,delegateSelector:a.NavigatorDelegateSelector})}_registerPendingNavigationAnimation(){this._clearPendingNavigationAnimation(!1),this._pendingAnimationHandle=g.default.createPendingAnimation(),c.log(l.LogTraceArea.Navigation,"RootStackNavigationView: _registerPendingNavigationAnimation "+this._pendingAnimationHandle),this._pendingAnimationTimeout=S.default.setTimeout((()=>{this._clearPendingNavigationAnimation(!0)}),1e3)}_clearPendingNavigationAnimation(e){if(this._pendingAnimationTimeout&&(S.default.clearTimeout(this._pendingAnimationTimeout),this._pendingAnimationTimeout=void 0),this._pendingAnimationHandle){c.log(l.LogTraceArea.Navigation,"RootStackNavigationView: _clearPendingNavigationAnimation "+this._pendingAnimationHandle+" timed out: "+e);const t=this._pendingAnimationHandle;this._pendingAnimationHandle=void 0,g.default.clearPendingAnimation(t)}}_navContextForNavigatorRoute(e){if(e)return this._navContextForNavigatorRouteId(e.routeId)}_navContextForNavigatorRouteId(e){let t=r.find(this.props.navContextStack,(t=>t.id===e));return t||(t=r.find(this._prevNavContextStack,(t=>t.id===e))),t}_routeIdKey(e){return"routeId"+(e?e.routeId:r.uniqueId())}_createNavigatorRouteStack(e){return r.map(e,((t,i)=>{const o=i>0?e[i-1]:void 0;return this._createNavigatorRoute(t,o)}))}_createNavigatorRoute(e,t){const i=this._navigatorSceneConfigTypeForNavContext(e,t);return{routeId:e.id,sceneConfigType:i.direction,gestureResponseDistance:i.gestureResponseDistance,customSceneConfig:i.customSceneConfig}}}t.default=f},963721:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importDefault(i(369347)),s=o.__importDefault(i(244498)),l=o.__importStar(i(44717)),c=o.__importDefault(i(288547)),d=(o.__importDefault(i(601976)),o.__importDefault(i(421852))),u=i(815146),p=o.__importStar(i(85385)),g=o.__importDefault(i(528868)),h=o.__importStar(i(704704)),m=o.__importDefault(i(740794)),S=o.__importStar(i(122671)),_=o.__importDefault(i(160049)),f=o.__importDefault(i(400836)),y=i(641400),C=o.__importDefault(i(760989));t.default=new class{constructor(){this.showInvitePrompt=(e,t,i,o,r,a)=>{const l=C.default.newCauseId();p.log(u.LogTraceArea.Navigation,"CallOrInvitePrompt.showInvitePrompt causeId: "+l);const d=i||"",m=(r&&r.length,a?a.length:0),S=()=>e();if(1===m)return r&&0===m?this._inviteViaNativeShareSheet(o,t,S):a&&this._inviteViaEmail(a[0],d,o,t,S),void c.default.close(t,l);const _=i=>{p.log(u.LogTraceArea.CallNavigation,"CallOrInvitePrompt.onClose causeId: "+i),this._closePrompt(e,t)},f=m,y=s.default.getMinimumMenuHeightForItems(f);c.default.showWithContent({menuId:c.default.menuId(),anchor:e,rootViewId:t,menuHeight:y,content:(0,n.jsx)(g.default,{contactName:d,phoneNumbers:void 0,emails:a,inviteOrigin:o,onInviteViaEmail:this._inviteViaEmail,onInviteViaSms:this._inviteViaSms,onCloseMenu:_,anchor:S}),getTitle:()=>h.getString("CallOrInviteMenu.InviteTitle",{userDisplayName:d}),onCloseMenu:_},l)},this.showSendSmsPrompt=(e,t,i,o,n,r)=>{let a;if(r){const i=h.getString("SMSMessaging.SendViaSkype",{target:h.getString("SMSMessaging.SendViaSkypeStatic"),chevron:""});a=[{title:i,accessibilityLabel:i,icon:y.SkypeIcon.Message,onPress:()=>{this._closePrompt(e,t),n(void 0)}}]}const s={rootViewId:t,skypeMri:i,onStartSMSConversation:(i,o)=>{this._closePrompt(e,t,!0),n(o)},customButtons:a,phones:o,anchor:e,suppressVideoOption:!0,suppressInvite:!0,suppressCalling:!0,inviteOrigin:u.ContactInviteOrigin.Unknown,popupTitleOverride:r?h.getString("DetailsPanelHeader.SendMessageButtonTitle"):h.getString("SMSMessaging.ContactOptionsPopupSendSMSLabel"),showGroupTitles:r,callOrigin:u.NavigationCallOrigin.Unknown};this._showCallOrInvitePrompt(s)},this._closePrompt=(e,t,i=!1,o=!1)=>{const n=C.default.newCauseId();if(p.log(u.LogTraceArea.Navigation,"CallOrInvitePrompt._closePrompt causeId: "+n),i||_.default.clearNextFlowId(),c.default.close(t,n),!o){const t=e();t&&t.requestFocus&&t.requestFocus()}},this._inviteViaEmail=(e,t,i,o,n)=>{S.default.initiateJoinLinkInvite({target:new S.EmailInvite([e]),origin:i,showLoadingModalWhileGettingJoinLink:!0,recipientName:t,rootViewId:o,anchor:n})},this._inviteViaSms=(e,t,i,o,n)=>{S.default.initiateJoinLinkInvite({target:new S.SmsInvite(e),origin:i,showLoadingModalWhileGettingJoinLink:!0,recipientName:t,rootViewId:o,anchor:n})},this._inviteViaNativeShareSheet=(e,t,i)=>{S.default.initiateJoinLinkInvite({target:new S.ShareSheetInvite,origin:e,showLoadingModalWhileGettingJoinLink:!0,rootViewId:t,anchor:i})},this._startPstnCall=e=>{const t=C.default.newCauseId(),i=l.sanitizeMri(e,l.Namespaces.PSTN);p.log(u.LogTraceArea.CallNavigation,"CallActionMenu._callNumber causeId: "+t),a.default.CallNavigationHelper.startCall({conversationMri:i,withVideo:!1,origin:u.NavigationCallOrigin.CallOrInvitePrompt},t)},this._startSmsConversation=(e,t)=>{const i=C.default.newCauseId();p.log(u.LogTraceArea.Navigation,"CallOrInvitePrompt._startSmsConversation causeId: "+i),m.default.navigateToConversation({convId:e,origin:u.NavigationConversationOrigin.CallOrInvitePrompt,selectedNumberForSMS:l.isPhoneMri(e)?void 0:t,causeId:i})}}showForSkypeMri(e,t,i,o,n,r,a,s,c,d,g,h,m){if(i&&l.isPhoneMri(i))return void p.error(u.LogTraceArea.CallNavigation,"CallingOptionsPopup: MRI passed can not be a phone number.");f.default.isPaidUser()||(h=!1);const S={anchor:e,rootViewId:t,inviteOrigin:r,callOrigin:a,skypeMri:i,encryptedThreadId:o,onStartSkypeCall:s,suppressVideoOption:n,phones:g,onStartPstnCall:c,onStartSMSConversation:h?this._startSmsConversation:void 0,onStartEncryptedCall:d,popupTitleOverride:m};this._showCallOrInvitePrompt(S)}showForPhoneNumber(e,t,i,o,n){const r={anchor:e,rootViewId:t,inviteOrigin:o,phones:i,onStartPstnCall:this._startPstnCall,suppressInvite:!0,callOrigin:u.NavigationCallOrigin.CallOrInvitePrompt,popupTitleOverride:n};this._showCallOrInvitePrompt(r)}showForAddressContact(e,t,i,o,n,a,s,l,c,d){if(f.default.isPaidUser()||(c=!1),r.isEmpty(a))return void this.showInvitePrompt(e,t,i,o,void 0,s);const u={anchor:e,rootViewId:t,inviteOrigin:o,callOrigin:n,phones:a,contactName:i,emails:s,suppressInvite:l,popupTitleOverride:d,suppressVideoOption:!0,onStartPstnCall:this._startPstnCall,onStartSMSConversation:c?this._startSmsConversation:void 0};this._showCallOrInvitePrompt(u)}_showCallOrInvitePrompt(e){const t=C.default.newCauseId();p.log(u.LogTraceArea.Navigation,"CallOrInvitePrompt._showCallOrInvitePrompt causeId: "+t);const i=()=>this._closePrompt(e.anchor,e.rootViewId);let o;e.onStartSMSConversation&&(o=(t,i)=>{this._closePrompt(e.anchor,e.rootViewId,!0),e.onStartSMSConversation&&e.onStartSMSConversation(t,i)});const r={anchor:e.anchor,rootViewId:e.rootViewId,hasCameras:a.default.DeviceStore.hasCameras(),skypeToSkypeMri:e.skypeMri,encryptedThreadId:e.encryptedThreadId,suppressVideoOption:e.suppressVideoOption,phoneNumbers:e.phones,contactName:e.contactName,emails:e.emails,inviteOrigin:e.inviteOrigin,onStartSkypeCall:t=>{this._closePrompt(e.anchor,e.rootViewId,!1,!0),e.skypeMri?e.onStartSkypeCall&&e.onStartSkypeCall(e.skypeMri,t,e.callOrigin):p.error(u.LogTraceArea.CallNavigation,"CallingOptionsPopup: We must have a Skype MRI to make a call.")},onStartPstnCall:(i,o)=>{this._closePrompt(e.anchor,e.rootViewId,!1,!0);const n=()=>{e.onStartPstnCall&&e.onStartPstnCall(i,o,e.callOrigin)};d.default.shouldRequestAcknowledgementNoSubscription()?m.default.navigateToE911AcknowledgementPanel(t,e.rootViewId,n):n()},onStartEncryptedCall:t=>{e.onStartEncryptedCall&&e.onStartEncryptedCall(t)},onStartSmsConversation:o,onCloseMenu:i,onOpenInvitePrompt:this.showInvitePrompt,suppressInvite:e.suppressInvite,suppressCalling:e.suppressCalling,customButtons:e.customButtons,showGroupTitles:e.showGroupTitles},l=(0,n.jsx)(s.default,Object.assign({},r)),g=s.default.getMenuHeight(r);c.default.showWithContent({menuId:c.default.menuId(),anchor:e.anchor,rootViewId:e.rootViewId,menuHeight:g,content:l,onCloseMenu:i,getTitle:t=>e.popupTitleOverride&&!t?e.popupTitleOverride:void 0},t)}}},717008:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=(o.__importStar(i(667294)),i(344175)),a=i(535055),s=i(96397),l=i(206315);t.default=e=>{const{isMobileLandscape:t,withShadeGradient:i=!0}=e,o=(0,l.useSkypeTheme)().mode.isDark?.5:.3;return(0,n.jsxs)(r.Box,{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",children:[(0,n.jsx)(r.Box,{opacity:o,position:"absolute",width:"100%",height:"100%",children:(0,n.jsx)(a.ColorfulGradientOverlay,{withShadeGradient:i})}),(0,n.jsx)(s.CloudsMiddleOverlay,{isLandscape:t})]})}},633958:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=i(736267),s=o.__importDefault(i(114818)),l=o.__importDefault(i(206315)),c=i(925890),d=o.__importDefault(i(252089));class u extends r.PureComponent{constructor(e,t){super(e),this._createContext(e,t)}_createContext(e,t){const i=Object.assign(Object.assign({},t),e),{children:n}=i,r=o.__rest(i,["children"]);if(e.theme&&t.theme!==e.theme){const t=e.theme,{colors:i,themeMode:o,fonts:n,gradients:a}=(0,c.skypeThemeConnector)(t,d.default.getColorInfo().key);r.theme=t,r.themeColors=i,r.mode=o,r.fonts=n,r.gradients=a,r.themeStyles=l.default.themeStylesForTheme(t)}(0,s.default)(r,this._context)||(this._context=r)}render(){return this._createContext(this.props,this.context),(0,n.jsx)(a.CommonContext.Provider,{value:this._context,children:this.props.children})}}u.contextType=a.CommonContext,t.default=u},203868:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(460515),s=o.__importDefault(i(68210)),l=o.__importDefault(i(453761)),c=o.__importDefault(i(970035)),d=i(26703),u=o.__importStar(i(704704)),p=i(16549),g=i(641400),h=i(262725),m=o.__importDefault(i(497910)),S=o.__importDefault(i(52066)),_=o.__importDefault(i(150343)),f=g.IconSize.size20,y=(0,d.lazyProperties)({container:()=>r.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingVertical:10}),contentContainer:()=>r.Styles.createViewStyle({flex:1,flexDirection:"row",flexWrap:"wrap",paddingHorizontal:10,alignItems:"center"}),textComposite:()=>r.Styles.createTextStyle({flex:-1,lineHeight:24,alignSelf:"center",wordBreak:"break-word"}),avSettingsLinkStyle:()=>r.Styles.createTextStyle({flex:-1,lineHeight:24,alignSelf:"center",wordBreak:"break-word",marginLeft:4,color:p.Color.sxBlue}),buttonContainer:()=>r.Styles.createViewStyle({flex:1,flexDirection:"row",flexWrap:"wrap",paddingLeft:10}),buttonStyle:()=>r.Styles.createButtonStyle({paddingLeft:10})});class C extends m.default{constructor(){super(...arguments),this._onDownloadLinkPress=e=>{r.Linking.openUrl(this.state.downloadLink)},this._onCloseButtonPress=e=>{s.default.removeToast(this.props.toastId,a.ToastActionType.ManualDismissed)}}_buildState(e){return{downloadLink:_.default.getS4LUiFeatures().limitedSupportBrowserToastConfig.downloadGoLink}}render(){return(0,n.jsxs)(r.View,{style:y.container,children:[(0,n.jsx)(c.default,{icon:g.SkypeIcon.Warning,size:g.IconSize.size24,color:this._themeColors.headerIconColor}),this._getTextContent(),(0,n.jsx)(l.default,{icon:g.SkypeIcon.ClosePanel,size:f,color:this._themeColors.headerIconColor,hoverColor:this._themeColors.primaryIconColor,title:u.getString("Global.CloseButtonTitle"),onPress:this._onCloseButtonPress})]})}_getTextContent(){const e=u.getParts("LimitedSupportBrowserToast.LimitedSupportText",{downloadLink:this._getDownloadLink()});return(0,n.jsx)(r.View,{style:y.contentContainer,children:(0,n.jsx)(h.BodyText,{style:[this._themeStyles.headerTextColorStyle,y.textComposite],children:e})},"textContentContainer")}_getDownloadLink(){return(0,n.jsx)(S.default,{url:"#",blue:!0,onPress:this._onDownloadLinkPress,children:u.getString("LimitedSupportBrowserToast.LimitedSupportDownloadLink")},"downloadLink")}}t.default=C},979720:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(317588)),s=o.__importDefault(i(150343)),l=i(815146),c=i(560099),d=o.__importStar(i(85385)),u=i(26703),p=o.__importStar(i(372690)),g=o.__importStar(i(704704)),h=o.__importDefault(i(503411)),m=o.__importDefault(i(252089)),S=o.__importDefault(i(740794)),_=i(113002),f=o.__importStar(i(185201)),y=o.__importDefault(i(247286)),C=o.__importDefault(i(84830)),v=i(16549),b=o.__importDefault(i(20758)),T=o.__importDefault(i(52066)),P=o.__importDefault(i(497910)),k=o.__importDefault(i(855191)),A=(0,u.lazyProperties)({container:()=>r.Styles.createViewStyle({minHeight:32,alignItems:"center",justifyContent:"space-between",flexDirection:"row",flexWrap:"wrap",paddingRight:8}),containerWithoutPreview:()=>r.Styles.createViewStyle({paddingLeft:8}),innerContainer:()=>r.Styles.createViewStyle({flexDirection:"row",flex:-1,alignSelf:"stretch",alignItems:"center"}),webFooterText:()=>r.Styles.createTextStyle({font:b.default.font.uiDisplayRegular,fontSize:b.default.controlFontSize.webFooter}),linkText:()=>r.Styles.createTextStyle({color:v.Color.gray200,marginHorizontal:4,marginVertical:4}),spacerText:()=>r.Styles.createTextStyle({color:v.Color.gray200,marginHorizontal:4,top:-2}),shadow:()=>r.Styles.createViewStyle({position:"absolute",left:0,right:0,top:0,height:10,opacity:.6}),previewContainer:()=>r.Styles.createViewStyle({paddingHorizontal:6,alignSelf:"stretch",justifyContent:"center",marginRight:4}),borderStyle:()=>r.Styles.createViewStyle({borderTopWidth:1})});var I;!function(e){e[e.Feedback=0]="Feedback",e[e.Download=1]="Download",e[e.Language=2]="Language",e[e.TermsOfUse=3]="TermsOfUse",e[e.Privacy=4]="Privacy",e[e.Copyright=5]="Copyright",e[e.Preview=6]="Preview",e[e.PublicWebSafety=7]="PublicWebSafety",e[e.SignOut=8]="SignOut",e[e.ConsumerHealthPrivacy=9]="ConsumerHealthPrivacy"}(I||(I={}));const w=[I.Preview,I.Download,I.Feedback,I.Language,I.PublicWebSafety,I.SignOut],x=[I.ConsumerHealthPrivacy,I.TermsOfUse,I.Privacy,I.Copyright];class N extends P.default{constructor(){super(...arguments),this._renderFooterElement=(e,t)=>{let i,o,a,s=!1;switch(e){case I.Preview:this.state.showPreviewBadge&&(i=g.getString("WebFooter.Preview2"),s=!0);break;case I.Feedback:this.state.isChild||(i=g.getString("WebFooter.Feedback"),o=this._openFeedback);break;case I.Language:const e=g.getLocale();i=g.getString("WebFooter.Language")+(e?" ("+e+")":""),o=this._openLanguagePicker;break;case I.Download:i=g.getString("WebFooter.Download"),o=this._openDownloadPage;break;case I.TermsOfUse:i=g.getString("WebFooter.TermsOfUse"),o=this._openTerms;break;case I.PublicWebSafety:i=g.getString("WebFooter.PublicWebSafety"),o=this._openPublicWebSafety;break;case I.SignOut:i=g.getString("WebFooter.SignOut"),o=this._signOut;break;case I.Privacy:i=g.getString("WebFooter.Privacy"),o=this._openPrivacy;break;case I.Copyright:i=g.getString("WebFooter.Copyright");break;case I.ConsumerHealthPrivacy:i=g.getString("WebFooter.ConsumerHealthPrivacy"),o=this._openConsumerHealthPrivacy}if(!i)return null;const l=[A.webFooterText,A.linkText],d=[A.webFooterText,A.spacerText],u=this._useAccessibleTheme(),p=this._resolveFontColorStyle(s,u);if(p&&(l.push(p),d.push(p)),o?a=(0,n.jsx)(T.default,{style:l,url:"#",onPress:o,children:i},"link"+e):(a=(0,n.jsx)(c.HiddenText,{style:l,children:i},`text${e}`),s||(a=(0,n.jsx)(r.View,{accessibilityLabel:i,tabIndex:-1,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,children:a},`text${e}`))),s){const t=u?r.Styles.createViewStyle({backgroundColor:this._themeColors.primaryTextColor},!1):this.state.previewBackgroundStyle;a=(0,n.jsx)(r.View,{style:[A.previewContainer,t],accessibilityLabel:i,tabIndex:-1,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,children:a},"badge"+e)}return[a,t&&!s?(0,n.jsx)(c.HiddenText,{style:d,children:"."},"spacer"+e):void 0]},this._openPrivacy=()=>{p.openPrivacy()},this._openTerms=()=>{p.openTerms()},this._openLanguagePicker=()=>{S.default.navigateToLanguagePicker(!0,this._getRootViewId())},this._openDownloadPage=()=>{r.Linking.openUrl(s.default.getConfigSettingsNoSubscription().downloadSkype.downloadSkypeUrl)},this._openPublicWebSafety=()=>{r.Linking.openUrl(s.default.getConfigSettingsNoSubscription().skypeGoLinks.publicWebSafety)},this._signOut=()=>{k.default.showSignOutConfirmation(l.LogoutReason.CompositeNavigationFooter,this._getRootViewId())},this._openFeedback=()=>{d.track(new f.NavigationHelpAndFeedback(_.NavigationSettingsItem.SendFeedback,_.NavigationSettingsOrigin.WebFooter)),C.default.openFeedbackUrl(s.default.getConfigSettings().feedbackAndProblemGoParam.feedback,g.getString("MyProfilePanel.SendFeedbackButtonTitle"),this._getRootViewId(),!0)},this._openConsumerHealthPrivacy=()=>{r.Linking.openUrl(s.default.getConfigSettingsNoSubscription().consumerHealthPrivacy)},this._onLayout=e=>{h.default.setBottomMarginBase(e.height+10)}}_buildState(e,t){return{previewBackgroundStyle:m.default.getPrimaryBackgroundColorStyle(),showPreviewBadge:s.default.getS4LUiFeatures().enableWebFooterPreviewBadge,isChild:y.default.isChild()}}componentWillUnmount(){super.componentWillUnmount(),h.default.setBottomMarginBase(0)}_renderFooterElements(e){return e.map(((t,i)=>this._renderFooterElement(t,i!==e.length-1)))}render(){const e=this._useAccessibleTheme(),t=e?this._themeStyles.primaryBackgroundColorStyle:r.Styles.createViewStyle({backgroundColor:this._themeColors.webFooterColor},!1),i=[A.container,t];this.state.showPreviewBadge||i.push(A.containerWithoutPreview),e&&i.push(this._themeStyles.dividerBorderColorStyle,A.borderStyle);const o=e?void 0:(0,n.jsx)(r.Image,{style:A.shadow,resizeMode:"stretch",source:a.Collection.PHOTO_SHIM});return(0,n.jsxs)(r.View,{style:i,onLayout:this._onLayout,children:[o,(0,n.jsx)(r.View,{style:A.innerContainer,children:this._renderFooterElements(w)}),(0,n.jsx)(r.View,{style:A.innerContainer,children:this._renderFooterElements(x)})]})}_resolveFontColorStyle(e,t){return e?r.Styles.createTextStyle({color:t?this._themeColors.primaryBackgroundColor:v.Color.white},!1):t?this._themeStyles.primaryTextColorStyle:void 0}}t.default=N},799640:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(150343)),s=i(154235),l=o.__importDefault(i(68210)),c=o.__importDefault(i(453761)),d=i(26703),u=o.__importStar(i(704704)),p=o.__importDefault(i(84830)),g=i(16549),h=i(641400),m=o.__importDefault(i(52066)),S=i(262725),_=o.__importDefault(i(497910)),f=(0,d.lazyProperties)({container:()=>r.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",paddingHorizontal:s.CompositeNotificationToastInfo.horizontal,paddingVertical:s.CompositeNotificationToastInfo.vertical+3,minHeight:44}),contentContainer:()=>r.Styles.createViewStyle({flex:1,flexDirection:"row",flexWrap:"wrap",paddingHorizontal:10,alignItems:"center"}),notificationTextStyle:()=>r.Styles.createTextStyle({flex:-1,wordBreak:"break-word",paddingRight:5}),closeButtonStyle:()=>r.Styles.createButtonStyle({flex:1,paddingLeft:10,alignItems:"flex-end",justifyContent:"flex-start"}),linkText:()=>r.Styles.createTextStyle({color:g.Color.sxBlue})});class y extends _.default{constructor(){super(...arguments),this._onCloseButtonPress=e=>{l.default.removeToast(this.props.toastId)},this._onReportAProblemPress=()=>{p.default.reportProblem(!0,this._getRootViewId())},this._onLeaveFeedbackPress=()=>{p.default.openFeedbackUrl(a.default.getConfigSettings().feedbackAndProblemGoParam.feedback,u.getString("MyProfilePanel.SendFeedbackButtonTitle"),this._getRootViewId())}}render(){const e=this._useAccessibleTheme()?this._themeStyles.headerTextColorStyle:f.linkText,t=(0,n.jsx)(m.default,{style:e,url:"#",linkTextStyle:s.LinkTextStyle.BodyTextSmall,onPress:this._onReportAProblemPress,children:u.getString("WebBanner.ReportAProblemLink")},"problemlink"),i=(0,n.jsx)(m.default,{style:e,url:"#",linkTextStyle:s.LinkTextStyle.BodyTextSmall,onPress:this._onLeaveFeedbackPress,children:u.getString("WebBanner.LeaveFeedbackLink")},"feedbacklink"),o=u.getParts("WebBanner.BannerText",{link1:t,link2:i});return(0,n.jsxs)(r.View,{style:f.container,children:[(0,n.jsx)(r.View,{style:f.contentContainer,children:(0,n.jsx)(S.BodyText,{style:[f.notificationTextStyle,this._themeStyles.headerTextColorStyle],size:S.BodyTextSize.SmallDeprecated,children:o})}),(0,n.jsx)(c.default,{size:h.IconSize.size20,color:this._themeColors.headerIconColor,hoverColor:this._themeColors.primaryIconColor,icon:h.SkypeIcon.ClosePanel,style:f.closeButtonStyle,title:u.getString("Global.CloseButtonTitle"),onPress:this._onCloseButtonPress})]})}}t.default=y},690570:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=i(26703),l=o.__importDefault(i(11252)),c=(0,s.lazyProperties)({checkboxView:()=>r.Styles.createViewStyle({flexDirection:"row",alignSelf:"flex-start",paddingVertical:6}),reasonTextWrapper:()=>r.Styles.createTextStyle({flex:1,flexDirection:"column",justifyContent:"center"})});class d extends a.ComponentBase{constructor(){super(...arguments),this._onPress=e=>{this.props.onPress(this.props.reportedCategory)}}render(){return(0,n.jsxs)(r.Button,{style:c.checkboxView,onPress:this._onPress,accessibilityLabel:this.props.accessibilityLabel,children:[(0,n.jsx)(l.default,{isOn:this.props.isSelected}),(0,n.jsxs)(r.View,{style:c.reasonTextWrapper,children:[(0,n.jsx)(r.Text,{style:this.props.textStyle,children:this.props.displayedCategory}),this._maybeRenderSubtextForCategory()]})]})}_maybeRenderSubtextForCategory(){if(void 0!==this.props.displayedSubtextForCategory)return this.props.displayedSubtextForCategory}}t.default=d},19831:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopContextMenuTarget=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=(o.__importDefault(i(150343)),o.__importDefault(i(958868))),l=o.__importDefault(i(186477)),c=o.__importDefault(i(114818)),d=i(26703),u=o.__importDefault(i(888500)),p=i(16549),g="menutarget_",h="context-menu",m=(0,d.lazyProperties)({wrapper:()=>a.Styles.createViewStyle({flex:1,overflow:"visible"}),targetOnly:()=>a.Styles.createViewStyle({position:"absolute",height:1,width:1}),target:()=>a.Styles.createViewStyle({height:1,width:1,position:"absolute",backgroundColor:p.Color.transparent})});class S extends s.default{constructor(){super(...arguments),this._contextMenuAnchorX=new a.Animated.Value(0),this._contextMenuAnchorY=new a.Animated.Value(0),this._contextMenuStyle=a.Styles.createAnimatedViewStyle({top:this._contextMenuAnchorY,left:this._contextMenuAnchorX}),this._getMenuTarget=()=>this._menuTarget,this._onMenuTargetRef=e=>{this._menuTarget=e||void 0}}_buildState(e,t=!1){return{position:l.default.getAnchorPosition()}}requestFocus(){}componentDidMount(){super.componentDidMount(),_.addMenuTargetCallback(this._getRootViewId(),this._getMenuTarget),this.state.position&&(this._contextMenuAnchorX.setValue(this.state.position.x),this._contextMenuAnchorY.setValue(this.state.position.y))}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),t.position&&!(0,c.default)(t.position,this.state.position)&&(this._contextMenuAnchorX.setValue(t.position.x),this._contextMenuAnchorY.setValue(t.position.y))}render(){return(0,n.jsx)(a.Animated.View,{ref:this._onMenuTargetRef,style:[m.target,this._contextMenuStyle]})}}t.DesktopContextMenuTarget=S;class _ extends s.default{constructor(){super(...arguments),this.showContextMenu=e=>{if(!this.isComponentMounted())return;const t=this._getRootViewId();if(this.state.isShowingMenu)_.dismissContextMenu(t);else if(this.props.getMenuItems){_._showContextMenu(t,{getMenuItems:this.props.getMenuItems,onItemSelected:this.props.onItemSelected,onDismiss:()=>{this.props.onDismiss&&this.props.onDismiss(),this.isComponentMounted()&&this.setState({isShowingMenu:!1})}})&&!!1&&this.setState({isShowingMenu:!0})}},this._handleClick=e=>{e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this._handleOnContextMenu(e)},this._handleOnContextMenu=e=>{this.isComponentMounted()&&(l.default.setAnchorPosition({x:e.pageX||0,y:e.pageY||0}),r.defer((()=>this.showContextMenu(e))))}}static dismissContextMenu(e){u.default.dismiss(h,e)}static addMenuTargetCallback(e,t){this._menuTargetAnchors[g+e]=t}static getMenuTargetCallback(e){return this._menuTargetAnchors[g+e]||(()=>{})}_buildState(e,t=!1){return t?{isShowingMenu:!1}:{}}show(e){this._handleClick(e)}showOnTap(e){this._handleOnContextMenu(e)}render(){const e=this.props.isAnimated?this.props.renderAsText?a.Animated.Text:a.Animated.View:this.props.renderAsText?a.Text:a.View,t=[this.props.targetOnly?m.targetOnly:m.wrapper,this.props.wrapperStyle];return(0,n.jsx)(e,{style:t,onContextMenu:this.props.wrapperOnly?void 0:this._handleClick,onPress:this.props.wrapperOnly?void 0:this.props.onPress,onLongPress:this.props.wrapperOnly?void 0:this.props.onLongPress,children:this.props.children})}static _showContextMenu(e,t,i){return!!t.getMenuItems&&u.default.showWithOptions(Object.assign(Object.assign({},this._getActionMenuConfig(e,t)),{getMenuItems:t.getMenuItems,delay:1,enableMiniContextMenu:i}))}static _showGroupContextMenu(e,t){return!!t.getMenuGroups&&u.default.showGroupWithOptions(Object.assign(Object.assign({},this._getActionMenuConfig(e,t)),{getMenuGroups:t.getMenuGroups}))}}_._menuTargetAnchors={},_.showContextMenu=(e,t,i,o)=>{e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),l.default.setAnchorPosition({x:e.pageX||0,y:e.pageY||0}),r.defer((()=>i.getMenuItems?_._showContextMenu(t,i,o):_._showGroupContextMenu(t,i)))},_._getActionMenuConfig=(e,t)=>{const i=l.default.getAnchorPosition();return{id:h,config:{anchor:_.getMenuTargetCallback(e),useTheme:!0,popupDisableContextMenu:!0,popupBeakSize:{height:0,width:0},positionPriorities:["bottom","right","left","top"]},handleMenuCommand:e=>{t.onItemSelected&&t.onItemSelected(e)},onDismiss:()=>{t.onDismiss&&t.onDismiss()},rootViewId:e,invokingEvent:i?{pageX:i.x,pageY:i.y}:void 0}},t.default=_},244466:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileSelectionInput=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(331654),s=o.__importStar(i(516778)),l=i(217041),c=o.__importDefault(i(98794)),d=o.__importDefault(i(721657)),u=o.__importDefault(i(958868)),p=o.__importStar(i(984339)),g=o.__importDefault(i(601976)),h=o.__importDefault(i(97595)),m=i(26703),S=o.__importStar(i(704704)),_=o.__importDefault(i(942724)),f=o.__importDefault(i(960282)),y=o.__importDefault(i(117475)),C=i(240804),v=o.__importDefault(i(268558)),b=o.__importDefault(i(827361));l.StoreBase;const T=(0,m.lazyProperties)({inputContainer:()=>s.Styles.createViewStyle({alignSelf:"stretch"})});class P extends u.default{constructor(){super(...arguments),this._searchActive=!1,this._removeProfileFromSelection=e=>{const t=e.getConversationId();t&&this.props.selectorController.removeConversation(t),this.props.onProfileRemoved&&this.props.onProfileRemoved()},this._onInputChange=e=>{this.props.onInputChanged(e)},this._onSubmitEditing=()=>{this.props.onSubmit&&this.props.onSubmit()},this._onEscape=()=>(this.props.onCancel(),!0),this._searchInputRefCallback=e=>{this._searchInput=e||void 0},this._onSearchActive=e=>{this._showOrHideHeader(!e,!0),e||this.props.onInputChanged("")}}_buildState(e,t){const i={},o=this._getRootViewId();return t&&(this._headerAnimatedHeightValue=new s.Animated.Value(d.default.expandedHeight(o)),this._headerAnimatedTopValue=new s.Animated.Value(0),this._headerAnimatedHeightStyle=s.Styles.createAnimatedViewStyle({height:this._headerAnimatedHeightValue}),this._headerAnimatedTopStyle=s.Styles.createAnimatedViewStyle({transform:[{translateY:this._headerAnimatedTopValue}]})),i.statusBarPadding=y.default.statusBarPadding(),i.isPortrait=f.default.getDeviceOrientation(o)===a.DeviceOrientation.Portrait,i.selectedConversations=e.selectorController.getSelectedConversations(),i.canSubmit=e.allowSubmitWithNoProfile||e.selectorController.getSelectedConversations().length>0,i.isUsingStackNavigationContext=_.default.isUsingStackNavigationContext(),i.isSmallDevice=f.default.isSmallDevice(o),i.displayableProfiles=r.map(i.selectedConversations,(e=>g.default.getDisplayableProfile(e))),i}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this._addSubscription({store:this.props.selectorController})}componentDidMount(){super.componentDidMount(),this.props.autoFocusOnInput&&this.requestFocus(),this._showOrHideHeader(!this._searchActive,!1),h.default.addEscapeHandler(this._onEscape)}componentWillUnmount(){super.componentWillUnmount(),h.default.removeEscapeHandler(this._onEscape)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.statusBarPadding===t.statusBarPadding&&this.state.isPortrait===t.isPortrait||this._showOrHideHeader(!this._searchActive,!1),this.props.autoFocusOnInput&&!e.autoFocusOnInput&&r.delay((()=>{this.isComponentMounted()&&this.props.autoFocusOnInput&&this.requestFocus()}),1e3)}render(){let e=S.getString("SetConversationParticipantsPanel.InputPlaceholderTextPeopleAndBot");this.props.peopleType===C.PeopleType.AllExcludingBots||this.props.peopleType===C.PeopleType.AllWithPhoneNumbers?e=this.props.includeGroups?S.getString("SetConversationParticipantsPanel.InputPlaceholderTextPeopleAndGroup"):S.getString("SetConversationParticipantsPanel.InputPlaceholderTextPeople"):this.props.peopleType===C.PeopleType.Bots&&(e=S.getString("SetConversationParticipantsPanel.InputPlaceholderTextBot"));let t,i=this.props.headerConfig&&!this._shouldRemoveHeader()?this.props.headerConfig.getHeader():void 0;t=this.props.useCollapsableHeader||this.state.isUsingStackNavigationContext?(0,n.jsx)(c.default,{ref:this._searchInputRefCallback,initialValue:1,showButtonWhenInactive:!0,placeholderText:e,rawSearchQuery:this.props.inputText,onInputTextChange:this._onInputChange,onSubmitEditing:this._onSubmitEditing,onActive:this._onSearchActive}):(0,n.jsx)(s.View,{style:b.default.flexOne,children:(0,n.jsx)(p.default,{ref:this._searchInputRefCallback,showButtonWhenInactive:!0,placeholderText:e,rawSearchQuery:this.props.inputText,autoFocus:this.props.autoFocusOnInput,autoFocusWhenActive:this.props.autoFocusWhenActive,forceInputValueUpdate:!0,onInputTextChange:this._onInputChange,onSubmitEditing:this._onSubmitEditing,onKeyDown:this.props.onKeyDown})}),i&&!this.state.isUsingStackNavigationContext&&(i=(0,n.jsx)(s.View,{children:i}));const o=this.props.showSendButtonOnEverySearchItemUI?void 0:(0,n.jsx)(v.default,{selectedProfiles:this.state.displayableProfiles,onProfileRemoved:this._removeProfileFromSelection,colorThemeOverride:this.props.colorThemeOverride});let r;return r=this.state.isUsingStackNavigationContext?(0,n.jsx)(s.Animated.View,{style:[b.default.flexOne,this.props.noFixedHeight?void 0:this._headerAnimatedHeightStyle],children:(0,n.jsxs)(s.Animated.View,{style:this.props.noFixedHeight?void 0:this._headerAnimatedTopStyle,children:[i,t]})}):(0,n.jsxs)(s.View,{children:[i,t]}),(0,n.jsxs)(s.View,{children:[(0,n.jsx)(s.View,{style:[T.inputContainer,this.props.style],children:r}),o]})}_shouldRemoveHeader(){return this.props.noFixedHeight&&this.state.isUsingStackNavigationContext&&this._searchActive}requestFocus(){this.isComponentMounted()&&this._searchInput&&this._searchInput.focusInput()}_showOrHideHeader(e,t=!0){if(this._searchActive=!e,this.props.noFixedHeight&&this.state.isUsingStackNavigationContext)return void this.setState({forceRerender:!this.state.forceRerender});let i;const o=this._headerHeight(),n=e?0:-1*o;if(this.state.isUsingStackNavigationContext){const t=this._getRootViewId();i=e?o+d.default.collapsableHeight(t):d.default.expandedHeight(t)+this.state.statusBarPadding}else i=o+p.DesktopSearchHeaderHeight;t?s.Animated.parallel([s.Animated.timing(this._headerAnimatedTopValue,{toValue:n,duration:200,easing:s.Animated.Easing.Out()}),s.Animated.timing(this._headerAnimatedHeightValue,{toValue:i,duration:200,easing:s.Animated.Easing.Out()})]).start():(this._headerAnimatedTopValue.setValue(n),this._headerAnimatedHeightValue.setValue(i))}_headerHeight(){return this.props.headerConfig?this.props.headerConfig.getHeaderHeight():0}}t.ProfileSelectionInput=P,t.default=P},426633:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=o.__importStar(i(44717)),l=i(848822),c=o.__importDefault(i(601976)),d=o.__importDefault(i(970035)),u=i(26703),p=o.__importDefault(i(252089)),g=i(16549),h=i(641400),m=i(262725),S=o.__importDefault(i(497910)),_=o.__importDefault(i(266872)),f=i(403396),y=i(596648),C=(0,u.lazyProperties)({button:()=>r.Styles.createViewStyle({marginLeft:8,marginRight:8,alignItems:"center"}),cancelBadge:()=>r.Styles.createViewStyle({borderRadius:12,borderWidth:2,borderStyle:"solid",height:24,width:24,position:"absolute",right:-2,top:-2,justifyContent:"center",alignItems:"center"}),userName:()=>r.Styles.createTextStyle({maxWidth:y.UserIconSize.Size60}),lockWrapperStyle:()=>r.Styles.createViewStyle({backgroundColor:g.Color.red,borderRadius:9,width:18,height:18,alignItems:"center",justifyContent:"center",position:"absolute",left:0,bottom:0})});class v extends S.default{constructor(){super(...arguments),this._remove=()=>{this.props.onRemoveClickUserProfile(this.props.profile)}}_buildState(e,t){let i=!1;if(e.profile){const t=e.profile.getMri();i=!!t&&s.isUserMri(t)}return{isUserMri:i,backgroundColorStyle:_.default.isAccessibleTheme()?this._themeStyles.primaryViewColorStyle:p.default.getPrimaryBackgroundColorStyle()}}render(){const e=this.props.profile.getMri();let t;t=this.state.isUserMri?(0,n.jsx)(f.UserIcon,{userMri:e,size:y.UserIconSize.Size60}):(0,n.jsx)(l.ConversationIcon,{conversationId:e,size:y.ConversationIconSize.Size60});const i=[C.cancelBadge,this._themeStyles.primaryBorderColorStyle,this.state.backgroundColorStyle],o=this.props.accessibilityLabel||(this.props.profile?this.props.profile.getDisplayName():void 0),a=this.props.profile&&this.props.profile.isEncrypted()?(0,n.jsx)(r.View,{style:C.lockWrapperStyle,children:(0,n.jsx)(d.default,{icon:h.SkypeIcon.Lock,color:g.Color.white,size:h.IconSize.size12})}):void 0,s=this._useAccessibleTheme()&&this._themeColors.primaryBadgeTextColor?this._themeColors.primaryBadgeTextColor:g.Color.white;return(0,n.jsxs)(r.Button,{style:[C.button,this.props.style],onPress:this._remove,accessibilityLabel:o,children:[(0,n.jsxs)(r.View,{children:[t,(0,n.jsx)(r.View,{style:i,children:(0,n.jsx)(d.default,{icon:h.SkypeIcon.Cancel,color:s,size:h.IconSize.size12})}),a]}),(0,n.jsx)(b,{userMri:e,useShortName:!0,style:[C.userName,this._themeStyles.primaryTextColorStyle]})]})}}class b extends a.ComponentBase{_buildState(e,t){return{displayName:this._getDisplayName()}}_getDisplayName(){if(this.props.userMri)return this.props.useShortName?c.default.getShortDisplayName(this.props.userMri):c.default.getDisplayName(this.props.userMri)}render(){return(0,n.jsx)(m.Caption,{small:!0,style:this.props.style,numberOfLines:1,children:this.state.displayName})}}t.default=v},268558:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(217041),l=i(26703),c=o.__importStar(i(704704)),d=o.__importDefault(i(426633)),u=o.__importDefault(i(139221)),p=(0,l.lazyProperties)({scrollViewContainer:()=>a.Styles.createViewStyle({alignSelf:"stretch",justifyContent:"center"}),selectedList:()=>a.Styles.createViewStyle({flexDirection:"row"}),selectedListRTL:()=>a.Styles.createViewStyle({flexDirection:"row-reverse"}),flippedView:()=>a.Styles.createViewStyle({transform:[{scaleX:-1}]})});class g extends s.ComponentBase{constructor(e){super(e),this._onRemoveClickUserProfile=e=>{this.props.onProfileRemoved&&this.props.onProfileRemoved(e);const t=e.getDisplayName();t&&this._announceRemoval(t)},this._createProfileBubble=(e,t)=>{const i=e.getDisplayName(),o=c.getString("AccessibilityLabel.SelectedProfileBubbleRemoveUserOnDesktop",{displayName:i,index:t+1,totalCount:this.props.selectedProfiles.length});return(0,n.jsx)(d.default,{style:u.default.isRTL()?p.flippedView:void 0,profile:e,onRemoveClickUserProfile:this._onRemoveClickUserProfile,accessibilityLabel:o,colorThemeOverride:this.props.colorThemeOverride},"we-hub-user-tag-"+(e.getUniqueId()||i))},this._onInvitedListRef=e=>{this._selectedListRef=e||void 0},this._animatedHeightValue=new a.Animated.Value(e.selectedProfiles.length>0?84:0),this._animatedHeightStyle=a.Styles.createAnimatedViewStyle({height:this._animatedHeightValue})}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.props.selectedProfiles.length>e.selectedProfiles.length&&this._selectedListRef&&this._selectedListRef.setScrollLeft(0);const o=e.selectedProfiles.length>0,n=this.props.selectedProfiles.length>0;o!==n&&a.Animated.timing(this._animatedHeightValue,{toValue:n?84:0,duration:250,easing:a.Animated.Easing.InOut()}).start()}render(){const e=r.map(this.props.selectedProfiles,this._createProfileBubble),t=u.default.isRTL(),i=t?p.selectedListRTL:p.selectedList,o=[i];return t&&o.push([p.selectedListRTL,p.flippedView]),(0,n.jsx)(a.Animated.View,{style:[p.scrollViewContainer,this._animatedHeightStyle,this.props.style],children:(0,n.jsx)(a.ScrollView,{ref:this._onInvitedListRef,style:o,horizontal:!0,vertical:!1,scrollsToTop:!1,children:(0,n.jsx)(a.View,{style:i,children:e})})})}_announceRemoval(e){a.Accessibility.announceForAccessibility(c.getString("AccessibilityLabel.SelectedProfileBubbleRemoved",{displayName:e}))}}t.default=g},367911:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyStateHeader=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(26703),s=o.__importDefault(i(960282)),l=o.__importDefault(i(20758)),c=i(262725),d=o.__importDefault(i(497910)),u=(0,a.lazyProperties)({headerStyle:()=>r.Styles.createTextStyle({marginTop:20,marginBottom:4,textAlign:"center"})});class p extends d.default{_buildState(e,t){const i=this._getRootViewId();return{isSmallDevice:s.default.isSmallDevice(i)}}render(){const e=[u.headerStyle,this.state.isSmallDevice?l.default.fontStyle.panelHeaderLandscape:l.default.fontStyle.h5];return(0,n.jsx)(c.PanelHeader,{style:e,children:this.props.headerText})}}t.EmptyStateHeader=p,t.default=p},58474:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(150343)),l=o.__importDefault(i(13816)),c=o.__importDefault(i(428231)),d=o.__importDefault(i(192478)),u=o.__importDefault(i(859545)),p=o.__importDefault(i(630059)),g=o.__importDefault(i(135372)),h=o.__importDefault(i(340724)),m=i(154235),S=o.__importDefault(i(260928)),_=o.__importDefault(i(740794)),f=i(351947),y=i(635769),C=i(815146),v=o.__importDefault(i(326544)),b=o.__importStar(i(800662)),T=o.__importStar(i(85385)),P=o.__importDefault(i(214295)),k=i(437567),A=o.__importDefault(i(875377)),I=i(26703),w=o.__importStar(i(147286)),x=o.__importStar(i(704704)),N=o.__importDefault(i(101154)),D=o.__importDefault(i(924849)),M=o.__importDefault(i(363091)),L=o.__importDefault(i(670363)),R=i(113002),E=o.__importStar(i(697091)),B=o.__importDefault(i(399564)),O=o.__importStar(i(3025)),F=i(240804),V=o.__importDefault(i(660401)),U=o.__importDefault(i(48076)),j=i(262725),H=o.__importDefault(i(601274)),W=i(596648),z=o.__importDefault(i(685734)),G=o.__importStar(i(500645)),K=o.__importDefault(i(760989)),q=o.__importDefault(i(337249)),Q=i(844086),X=o.__importDefault(i(18026)),$=o.__importDefault(i(790149)),J=o.__importDefault(i(297418)),Y=i(842029);var Z;!function(e){e[e.StartNewConversation=0]="StartNewConversation"}(Z||(Z={}));const ee=(0,I.lazyProperties)({container:()=>a.Styles.createViewStyle({flex:1,paddingHorizontal:45,alignItems:"center",justifyContent:"center"}),containerTodayTab:()=>a.Styles.createViewStyle({flex:1,alignItems:"center",justifyContent:"center"}),innerContainer:()=>a.Styles.createViewStyle({flex:1,alignItems:"center",justifyContent:"center",alignSelf:"stretch"}),headerText:()=>a.Styles.createTextStyle({textAlign:"center",wordBreak:"break-word"}),welcomeSectionContainer:()=>a.Styles.createViewStyle({alignSelf:"stretch",flexDirection:"row",marginVertical:50}),welcomeSectionContainerVertical:()=>a.Styles.createViewStyle({flexDirection:"column"}),avatarContainer:()=>a.Styles.createViewStyle({alignItems:"center",alignSelf:"center"}),profileUpdateWrapper:()=>a.Styles.createViewStyle({alignItems:"center",alignSelf:"stretch",justifyContent:"center",marginVertical:38}),startConversationButton:()=>a.Styles.createViewStyle({marginTop:36,marginBottom:24,alignSelf:"center"}),startConversationWrapper:()=>a.Styles.createViewStyle({maxWidth:350}),startConversationDescription:()=>a.Styles.createTextStyle({textAlign:"center"}),scrollView:()=>a.Styles.createViewStyle({flex:1,alignContent:"flex-start"})});class te extends d.default{constructor(){super(...arguments),this._wasWelcomeTextAnnounced=!1,this._animatedOpacityValue=new a.Animated.Value(0),this._animatedOpacityStyle=a.Styles.createAnimatedViewStyle({opacity:this._animatedOpacityValue}),this._mountedRefsMap=new D.default,this._landingViewDisplayEventTracked=!1,this._landingPageShownTracked=!1,this._maybeLaunchTutorial=e=>{if(!e.isTutorialReady)return;const t=!e.isFirstRun&&!e.wasTutorialLaunched;e.enableCoachMarks&&t&&H.default.setTimeout((()=>{this.isComponentMounted()&&(B.default.track(new E.TutorialLaunched(E.TutorialLaunchOrigin.LandingScreenStandard,!1)),this._launchTutorial())}),1e3)},this._maybeAnnounceWelcomeText=()=>{this._wasWelcomeTextAnnounced||(this._wasWelcomeTextAnnounced=!0,a.Accessibility.announceForAccessibility(this._getWelcomeText()))},this._launchTutorial=()=>{const e=K.default.newCauseId();T.log(C.LogTraceArea.Navigation,"LandingScreen._launchTutorial, causeId: "+e),g.default.runFirstRunSequence(C.CoachMarkOrigin.LandingPage,this.state.useTabletUI),v.default.setWasTutorialStarted(!0)},this._onLayoutProfileLanding=e=>{if(this.isComponentMounted()){const t=e.height<440;this.state.showSmallProfileLanding!==t&&this.setState({showSmallProfileLanding:t})}},this._onContainerLayout=e=>{if(this.isComponentMounted()){const t=e.height<700;this.state.showCompactCheckAccountSection!==t&&this.setState({showCompactCheckAccountSection:t})}},this._onMyAvatarSelected=()=>{T.track(new O.MyAvatarChanged(C.AvatarUpdateLocation.LandingScreen))},this._onMyAvatarRemoved=()=>{T.track(new O.MyAvatarRemoved(C.AvatarUpdateLocation.LandingScreen))},this._onSeeMoreButtonPress=()=>{T.track(new f.TodayOnLandingScreenTelemetry(y.TodayOnLandingScreenActionType.SeeMoreClicked)),(0,Y.handleOpeningTodayTab)(!0),_.default.navigateToTodayTab({enableInterestManager:!0,openInterestsManagerOnLoad:!1})},this._onMainScreenCtaButtonClick=e=>{e.stopPropagation(),this._onCtaButtonPress(Z.StartNewConversation)}}_buildState(e,t){var i;const{todayTab:{showTodayTabOnLandingScreen:o}}=s.default.getS4LCommerceFeatures(),n=M.default.getSkypeMri(),r=z.default.getFullUserProfileByMri(n),a=s.default.getOnboardingFeatures(),c=U.default.isTabletUI(),d={displayName:r.getShortName(),gender:r.gender,userMri:n,enableCoachMarks:a.enableCoachMarks&&u.default.onboarding().canSeeCoachMarks,isFirstRun:v.default.isStartupFirstRun(),isNewUser:v.default.isStartupNewUser(),isSetupWizardCompleted:v.default.isSetupWizardCompleted(),checkAccountGoParam:s.default.getConfigSettings().checkAccountUrl.goParam,fixedHeight:c?q.default.windowHeightWithoutStatusBar(this._getRootViewId()):0,useTabletUI:c,isKeyboardShown:c&&P.default.isKeyboardSeen(),isMigrationLandingScreenSeen:v.default.isMigrationLandingScreenSeen(),isTutorialReady:v.default.isCoachmarkTutorialReady(),wasTutorialLaunched:v.default.wasTutorialStarted(),signedInAsId:M.default.getMsaIdFromSignIn(),enableOnboardingLandingScreenConfigs:a.landingPageWithCards,setupWizardCompletionTimestamp:v.default.setupWizardCompletionTimestamp(),whatsNewFlowAfterAppUpdate:a.landingPageWithCards.whatsNewCardAfterUpdate,enableRefreshedPalette:s.default.getS4LUiFeatures().enableRefreshedPalette,shouldRenderTodayTab:o,showSmsEntryCard:s.default.getS4LCommerceFeatures().smsNewEntry.enableOnLandingPage};return t&&(d.showSmallProfileLanding=!1,d.showCompactCheckAccountSection=!1,d.enableOnboardingLandingScreenConfigs&&d.enableOnboardingLandingScreenConfigs.enabled&&(d.landingPageCardIdsForToday=A.default.getLandingPageCardsIdsForToday(),d.enableLandingPageCardsShareProfileButton=A.default.shouldDisplayProfileButtonToday()),(null===(i=d.whatsNewFlowAfterAppUpdate)||void 0===i?void 0:i.enabled)&&l.default.isAppUpdated()&&d.landingPageCardIdsForToday&&(d.landingPageCardIdsForToday=A.default.getLandingPageCardsWithWhatsNewCard(d.landingPageCardIdsForToday)),a.landingPageWithCards.inviteFriendsConfig.enabled&&d.landingPageCardIdsForToday&&(d.landingPageCardIdsForToday=A.default.getLandingPageInviteFriendsCardId(d.landingPageCardIdsForToday)),a.landingPageWithCards.defaultTelAppConfig.enabled&&d.landingPageCardIdsForToday&&!X.default.getIsSkypeDefaultTelApp()&&(d.landingPageCardIdsForToday=A.default.getLandingPageDefaultTelAppCardId(d.landingPageCardIdsForToday)),J.default.shouldShowClipsStartUpsell()&&d.landingPageCardIdsForToday&&(d.landingPageCardIdsForToday=A.default.getLandingPageClipsCardId(d.landingPageCardIdsForToday)),d.showSmsEntryCard&&d.landingPageCardIdsForToday&&(d.landingPageCardIdsForToday=A.default.getLandingPageSmsEntryCardId(d.landingPageCardIdsForToday))),d}componentDidMount(){super.componentDidMount(),L.default.timing(this._animatedOpacityValue,{toValue:1,delay:L.default.delayDuration(1e3),duration:300,easing:a.Animated.Easing.Out(),useNativeDriver:!0}).start((()=>{this.state.isSetupWizardCompleted&&this._maybeAnnounceWelcomeText()})),this._maybeLaunchTutorial(this.state),this._landingPageShownTracked||(B.default.track(new E.LandingPageShown),this._landingPageShownTracked=!0)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),!t.isSetupWizardCompleted&&this.state.isSetupWizardCompleted&&this._maybeAnnounceWelcomeText(),!t.isTutorialReady&&this.state.isTutorialReady&&this._maybeLaunchTutorial(this.state),this._landingViewDisplayEventTracked||(this._landingViewDisplayEventTracked=!0,B.default.track(new E.WelcomeViewWithProfileUpdateDisplayed))}_getWelcomeText(){const e=w.getLocalizeParamForGender(this.state.gender);return this.state.displayName?x.getString("Onboarding.LandingScreenTitle",{name:this.state.displayName,gender:e}):x.getString("Onboarding.LandingScreenTitleNoName")}_renderWelcomeViewWithProfileUpdate(){const e=x.getString("Onboarding.LandingScreenStartConversationAlternativeCallToAction"),t=[ee.welcomeSectionContainer,ee.welcomeSectionContainerVertical,ee.profileUpdateWrapper];let i;return this.state.showSmallProfileLanding||(i=(0,n.jsx)(c.default,{style:ee.avatarContainer,mri:M.default.getSkypeMri(),iconSize:W.UserIconSize.Size120,statusTypes:G.myAllowedStatuses(),statusBorderColor:this._themeColors.primaryBackgroundColor,accessibilityLabel:x.getString("MyProfilePanel.SelectAvatarAccessibilityLabel"),onAvatarSelected:this._onMyAvatarSelected,onAvatarRemoved:this._onMyAvatarRemoved,origin:C.AvatarPickerOrigin.LandingScreen})),(0,n.jsx)(Q.KeyboardAvoidingView,{children:(0,n.jsxs)(a.View,{style:ee.innerContainer,onLayout:this._onLayoutProfileLanding,children:[(0,n.jsx)(j.Header,{size:this.state.showSmallProfileLanding?3:2,style:ee.headerText,children:this._getWelcomeText()}),(0,n.jsxs)(a.View,{style:t,children:[i,(0,n.jsx)(N.default,{userMri:this.state.userMri}),(0,n.jsxs)(a.View,{style:ee.startConversationWrapper,children:[(0,n.jsx)(V.default,{ref:this._mountedRefsMap.onComponentRef("cta"+Z.StartNewConversation),style:ee.startConversationButton,buttonStyle:m.SXButtonStyle.ThemeFill,onPress:this._onMainScreenCtaButtonClick,buttonSize:this.state.showSmallProfileLanding?m.SXButtonSize.Small:m.SXButtonSize.Medium,title:e}),(0,n.jsx)(j.BodyText,{style:ee.startConversationDescription,textThemeColor:j.TextThemeColor.Secondary,children:x.getString("Onboarding.LandingScreenStartConversationDescription")})]})]})]})})}_renderWelcomeViewWithCards(e,t={}){return(0,n.jsx)(a.View,{style:ee.innerContainer,children:(0,n.jsx)(k.LandingPage,{cards:e,settings:t,shouldDisableScroll:this.state.shouldRenderTodayTab})})}_renderCheckAccountSection(){if(!this.state.isKeyboardShown&&!this.state.useTabletUI)return(0,n.jsx)(p.default,{signedInAsId:this.state.signedInAsId,checkAccountGoParam:this.state.checkAccountGoParam,useCompactLayout:this.state.showCompactCheckAccountSection})}render(){const e=[this.state.shouldRenderTodayTab?ee.containerTodayTab:ee.container,this._themeStyles.primaryBackgroundColorStyle,this._animatedOpacityStyle],t={flexShrink:1,marginTop:15,marginBottom:15},i=this._shouldRenderEngagementLandingScreen();let o;return this.state.useTabletUI&&e.push(a.Styles.createViewStyle({height:this.state.fixedHeight},!1)),this.state.enableRefreshedPalette&&e.push(a.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfacePrimary},!1)),o=i?this._renderEngagementWelcomeScreen():this._renderWelcomeViewWithProfileUpdate(),this.state.shouldRenderTodayTab?(0,n.jsxs)(a.Animated.View,{onLayout:this._onContainerLayout,style:e,children:[(0,n.jsxs)(a.ScrollView,{style:ee.scrollView,children:[o,this._renderTodayTab()]}),(0,n.jsx)(V.default,{style:t,buttonStyle:m.SXButtonStyle.ThemeFill,onPress:this._onSeeMoreButtonPress,buttonSize:m.SXButtonSize.Medium,title:x.getString("ContentChannels.SeeMoreLabel")}),this._renderCheckAccountSection()]}):(0,n.jsxs)(a.Animated.View,{onLayout:this._onContainerLayout,style:e,children:[o,this._renderCheckAccountSection()]})}_renderTodayTab(){return(0,n.jsx)($.default,{route:{params:{interestPageEnabled:!1,isRenderedOnLandingScreen:!0}}})}_onCtaButtonPress(e){if(h.default.registerMobileFocusHandler(b.FocusEvent.CloseMobileModal,(()=>this._mountedRefsMap.ref("cta"+e))),e===Z.StartNewConversation){T.track(new E.StartNewConversationClicked);new S.default({navigationOrigin:C.NavigationConversationOrigin.HomeScreen,creating1on1Conversation:!0,isSingleContactSelect:!0,peopleType:F.PeopleType.All,filterPeopleType:F.FilterType.None,wizardSteps:[R.WizardSteps.setConvParticipants]}).start(this._getRootViewId())}}_shouldRenderEngagementLandingScreen(){const e=!!this.state.enableOnboardingLandingScreenConfigs&&this.state.enableOnboardingLandingScreenConfigs.enabled,t=!!this.state.landingPageCardIdsForToday&&!r.isEmpty(this.state.landingPageCardIdsForToday);return e&&t}_renderEngagementWelcomeScreen(){if(!this.state.landingPageCardIdsForToday)return;const e={cardTextAlignCenter:!1,cardHideImageBackground:!0,cardImageAlignBottom:!1,cardSmallImage:!0,renderSimplifiedHeader:!1,renderUserFullName:!0,renderHeaderSubtitle:!0,renderProfileShareButton:!!this.state.enableLandingPageCardsShareProfileButton};return this._renderWelcomeViewWithCards(this.state.landingPageCardIdsForToday,e)}}t.default=te},74776:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPickerWrapperView=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importDefault(i(883596)),s=o.__importStar(i(27954)),l=i(380157),c=o.__importStar(i(516778)),d=o.__importStar(i(397691)),u=i(584559),p=o.__importDefault(i(958868)),g=i(815146),h=(o.__importDefault(i(606617)),o.__importStar(i(85385))),m=i(26703),S=o.__importStar(i(704704)),_=o.__importDefault(i(251733)),f=o.__importDefault(i(246230)),y=o.__importDefault(i(655192)),C=i(16549),v=i(331079),b=o.__importDefault(i(760989)),T=(0,m.lazyProperties)({container:()=>c.Styles.createViewStyle({flex:1,backgroundColor:C.Color.white}),containerDark:()=>c.Styles.createViewStyle({flex:1,backgroundColor:C.Color.gray400}),rnGalleryDefaultStyle:()=>c.Styles.createViewStyle({flex:1,justifyContent:"center",backgroundColor:C.Color.gray400,borderColor:C.Color.blue})});class P extends p.default{constructor(){super(...arguments),this._pendingSelectionItemIds=[],this._mediaItemCache={},this._onMediaPickerViewRef=e=>{this._mediaPickerView=e||void 0},this._onSelectImages=e=>{if(this.props.onItemSelected&&e.nativeEvent.edge){const t=e.nativeEvent.edge;if(!t||!t.node||!t.node.image)return;const i=!!e.nativeEvent.selected,o=t.node.image.uri,n=e.nativeEvent.count,s=this._mediaItemCache[o];s?this.props.onItemSelected(o,s,i,n):i?(this._pendingSelectionItemIds.push(o),a.default.prepareMediaSelection(0,o,t).then((e=>{r.includes(this._pendingSelectionItemIds,o)&&(this.props.onItemSelected&&this.props.onItemSelected(o,e,i,n),this._pendingSelectionItemIds=r.without(this._pendingSelectionItemIds,o))}))):(this.props.onItemSelected(o,s,i,n),this._pendingSelectionItemIds=r.without(this._pendingSelectionItemIds,o))}},this._onScrolledToTop=e=>{this.props.onScrolledToTop&&this.props.onScrolledToTop(e.nativeEvent.scrolledToTop)},this._onPhotosLoaded=e=>{this.props.onPhotosLoaded&&this.props.onPhotosLoaded(e.nativeEvent.loadedCount)}}_buildState(e,t){return{cameraRollPermissionStatus:_.default.permissionStatus(v.PermissionType.CameraRoll)}}componentDidMount(){if(super.componentDidMount(),!this.props.pauseLoading){const e=b.default.newCauseId();h.log(g.LogTraceArea.MediaPickerWrapperView,"componentDidMount causeId:",e),this._maybeLoadPhotos(e)}}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),this.props.albumName!==e.albumName){const e=b.default.newCauseId();h.log(g.LogTraceArea.MediaPickerWrapperView,"componentDidUpdate album change causeId:",e),this._reset(),this._maybeLoadPhotos(e)}if(!this.props.pauseLoading&&e.pauseLoading){const e=b.default.newCauseId();h.log(g.LogTraceArea.MediaPickerWrapperView,"componentDidUpdate pauseLoading change causeId: ",e),this._maybeLoadPhotos(e)}}scrollToTop(){this._mediaPickerView&&this._mediaPickerView.scrollToTop()}_maybeLoadPhotos(e){this.props.pauseLoading||(h.log(g.LogTraceArea.MediaPickerWrapperView,"_maybeLoadPhotos: causeId:",e),this._getCameraRollPermission().catch((e=>{h.log(g.LogTraceArea.MediaPickerWrapperView,"_maybeLoadPhotos: error:",y.default.errorAsString(e)),this.props.onClose()})))}_getCameraRollPermission(){return _.default.shouldShowLimitedPhotoSelectionPrompt()?(f.default.showLimitedCameraRollPrompt(this._getRootViewId()),_.default.closeLimitedPhotoSelectionPrompt(),d.Resolved()):this.state.cameraRollPermissionStatus===l.PermissionStatus.Granted?d.Resolved():_.default.requestPermission(v.PermissionType.CameraRoll,v.PermissionPromptOptions.SkipPrePrompt|v.PermissionPromptOptions.PromptAgainIfDenied).then((e=>e===l.PermissionStatus.Granted?d.Resolved():(f.default.showDeniedPromptWithSettingsOption(v.PermissionType.CameraRoll,this._getRootViewId()),d.Rejected("Permission denied"))))}_reset(){this._pendingSelectionItemIds=[],this._mediaItemCache={},this.props.onReset()}_desiredThumbnailSize(){return this.props.maxThumbnailSize||120}_maxSelectionCount(){return r.isUndefined(this.props.maxSelectionCount)||r.isNull(this.props.maxSelectionCount)?5:this.props.maxSelectionCount}render(){const e=this._maxSelectionCount(),t=this.state.cameraRollPermissionStatus!==l.PermissionStatus.Granted||this.props.pauseLoading?null:(0,n.jsx)(s.default,{ref:this._onMediaPickerViewRef,allowMultipleSelections:e>1,style:T.rnGalleryDefaultStyle,maxSelectionCount:e,gridPadding:0,disableGifs:this.props.disableGifs,allowVideo:this.props.mediaType!==u.MediaType.PhotoOnly,disableScrolling:this.props.disableScrolling,maxThumbnailSize:this._desiredThumbnailSize(),album:this.props.albumName,onSelectImages:this._onSelectImages,onScrolledToTop:this._onScrolledToTop,onPhotosLoaded:this._onPhotosLoaded,typePhotoAccessibilityLabel:S.getString("Global.Photo"),typeVideoAccessibilityLabel:S.getString("Global.Video"),accessibilityLabelSelected:S.getString("MediaPickerPanel.MediaPickerGalleryItemSelected",{index:s.MediaPickerConsts.IndexReplacementKey,total:s.MediaPickerConsts.TotalReplacementKey,type:s.MediaPickerConsts.TypeReplacementKey}),accessibilityLabelDefault:S.getString("MediaPickerPanel.MediaPickerGalleryItem",{index:s.MediaPickerConsts.IndexReplacementKey,total:s.MediaPickerConsts.TotalReplacementKey,type:s.MediaPickerConsts.TypeReplacementKey}),screenChangeOnSelection:this.props.screenChangeOnSelection});return(0,n.jsx)(c.View,{style:this.props.darkTheme?T.containerDark:T.container,children:t})}}t.MediaPickerWrapperView=P,t.default=P},841614:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(68210)),a=o.__importDefault(i(983323)),s=o.__importDefault(i(497910)),l=o.__importStar(i(972830));class c extends s.default{_buildState(e,t){const i={},o=r.default.getToast(e.toastId);if(o&&o.state){const e=o.state;i.alertType=e.toastType,i.themeOverride=l.matchingLightOrDarkTheme(this._currentTheme)}return i}render(){return(0,n.jsx)(a.default,{fromToast:!0,alertType:this.state.alertType,colorThemeOverride:this.state.themeOverride})}}t.default=c},679405:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(406699)),s=i(26703),l=o.__importDefault(i(942724)),c=o.__importStar(i(983323)),d=o.__importDefault(i(497910)),u=o.__importStar(i(972830)),p=(0,s.lazyProperties)({container:()=>r.Styles.createViewStyle({flex:1,overflow:"hidden"})});class g extends d.default{constructor(){super(...arguments),this._alertAnimatedHeightValue=new r.Animated.Value(0),this._alertAnimatedStyle=r.Styles.createAnimatedViewStyle({height:this._alertAnimatedHeightValue})}_buildState(e,t){const i=l.default.isUsingStackNavigationContext(),o=a.default.getConnectivityAlertType(),n={alertType:o,height:o?i?c.HeightStack:c.HeightComposite:0,themeOverride:u.matchingLightOrDarkTheme(this._currentTheme)};return t&&n.height&&this._alertAnimatedHeightValue.setValue(n.height),n}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.height!==t.height&&this._toggleAlert(this.state.height)}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),0===t.height&&this.state.height>0&&this._toggleAlert(t.height)}_toggleAlert(e){r.Animated.timing(this._alertAnimatedHeightValue,{toValue:e,duration:250,easing:r.Animated.Easing.Out()}).start()}render(){const e=r.Styles.createViewStyle({backgroundColor:this._themeColors.primaryTextColor},!1);return(0,n.jsx)(r.Animated.View,{style:this._alertAnimatedStyle,children:(0,n.jsx)(r.View,{style:[p.container,e],children:(0,n.jsx)(c.default,{fromToast:!1,alertType:this.state.alertType,colorThemeOverride:this.state.themeOverride})})})}}t.default=g},983323:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeightStack=t.HeightComposite=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(150343)),s=o.__importDefault(i(340724)),l=i(154235),c=o.__importDefault(i(406699)),d=i(815146),u=o.__importDefault(i(453761)),p=o.__importDefault(i(970035)),g=o.__importStar(i(85385)),h=i(26703),m=o.__importStar(i(704704)),S=o.__importDefault(i(740794)),_=o.__importDefault(i(942724)),f=i(25083),y=o.__importDefault(i(163374)),C=o.__importDefault(i(791384)),v=i(16549),b=i(641400),T=i(262725),P=o.__importDefault(i(497910)),k=o.__importDefault(i(760989));t.HeightComposite=59,t.HeightStack=44;const A=(0,h.lazyProperties)({container:()=>r.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center"}),simpleText:()=>r.Styles.createViewStyle({flex:1,flexDirection:"row",justifyContent:"flex-start"}),button:()=>r.Styles.createButtonStyle({flex:1,flexDirection:"row",justifyContent:"flex-start"}),icon:()=>r.Styles.createViewStyle({alignSelf:"center"}),iconComposite:()=>r.Styles.createViewStyle({marginLeft:18,marginRight:11}),iconStack:()=>r.Styles.createViewStyle({marginLeft:8,marginRight:8}),textStack:()=>r.Styles.createTextStyle({lineHeight:20}),textComposite:()=>r.Styles.createTextStyle({lineHeight:24,alignSelf:"center"}),buttonTextStack:()=>r.Styles.createTextStyle({marginLeft:8}),buttonTextComposite:()=>r.Styles.createTextStyle({marginLeft:4}),closeButtonStyle:()=>r.Styles.createButtonStyle({flex:0,paddingHorizontal:10,justifyContent:"center"}),backgroundStyleStack:()=>r.Styles.createViewStyle({height:t.HeightStack}),backgroundStyleComposite:()=>r.Styles.createViewStyle({height:t.HeightComposite,paddingVertical:l.CompositeNotificationToastInfo.vertical})});class I extends P.default{constructor(){super(...arguments),this._onButtonPressed=e=>{e.stopPropagation(),g.log(d.LogTraceArea.GenericUnsafe,"NetworkConnectionAlertContent._onButtonPressed"),S.default.navigateToInAppBrowser({origin:d.BrowserOrigin.NetworkConnectionAlert,url:this.state.browserUrl,openUrlOptions:{onInAppWebBrowserClose:()=>y.default.runConnectivityCheck()}},this._getRootViewId());const t=new f.CaptivePortalOpenBrowserEvent;g.track(t)},this._onCloseButtonPress=e=>{const t=k.default.newCauseId();if(g.log(d.LogTraceArea.GenericUnsafe,"NetworkConnectionAlertContent._onCloseButtonPress, causeId: "+t),c.default.dismissConnectivityAlert(),this.state.showQuestionnaire&&S.default.navigateToCaptivePortalQuestionnaire(t,this._getRootViewId()),this.props.alertType){const e=new f.ConnectivityAlertDismissEvent(this.props.alertType);g.track(e)}}}_buildState(e,t){return{isUsingStackNavigationContext:_.default.isUsingStackNavigationContext(),browserUrl:a.default.getConfigSettings().captivePortalDetection.browserUrl,showQuestionnaire:c.default.shouldShowCaptivePortalQuestionnaire()}}componentDidMount(){super.componentDidMount(),this.props.alertType&&this._announceForAccessibility()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),!e.alertType&&this.props.alertType&&this._announceForAccessibility()}_announceForAccessibility(){C.default.shouldAnnounceForAccessibility()&&(this.props.alertType===d.ConnectivityAlertType.CaptivePortal?r.Accessibility.announceForAccessibility(m.getString("ConnectivityStatusBar.CaptivePortalAlert")):this.props.alertType===d.ConnectivityAlertType.NoNetwork&&r.Accessibility.announceForAccessibility(m.getString("ConnectivityStatusBar.NoInternetConnectionAccessibilityAnnouncement")))}render(){const e=[A.container,this.state.isUsingStackNavigationContext?A.backgroundStyleStack:A.backgroundStyleComposite,r.Styles.createViewStyle({backgroundColor:this._themeColors.primaryBackgroundColor},!1)];return(0,n.jsx)(r.View,{style:e,children:this._renderContent()})}_renderContent(){if(!this.props.alertType)return null;let e;return this.props.alertType!==d.ConnectivityAlertType.NoNetwork&&(e=(0,n.jsx)(u.default,{size:b.IconSize.size20,color:this._themeColors.primaryTextColor,hoverColor:this._themeColors.textHoverColor,icon:b.SkypeIcon.ClosePanel,style:A.closeButtonStyle,title:m.getString("Global.CloseButtonTitle"),onPress:this._onCloseButtonPress},"connectionAlertClose")),[this._renderText(),e]}_renderText(){const e=this.state.isUsingStackNavigationContext?A.iconStack:A.iconComposite,t=this._useAccessibleTheme()?this._themeStyles.primaryTextColorStyle:r.Styles.createTextStyle({color:this._themeColors.linkTextColor||v.Color.blueDark},!1),i=this.state.isUsingStackNavigationContext?T.Caption:T.BodyText,o=this.state.isUsingStackNavigationContext?[this._themeStyles.primaryTextColorStyle,A.textStack]:[this._themeStyles.primaryTextColorStyle,A.textComposite],a=this.state.isUsingStackNavigationContext?[t,A.textStack,A.buttonTextStack]:[t,A.textComposite,A.buttonTextComposite],l=(0,n.jsx)(p.default,{color:this._themeColors.primaryTextColor,style:[A.icon,e],size:this.state.isUsingStackNavigationContext?b.IconSize.size20:b.IconSize.size24,icon:b.SkypeIcon.Warning});if(this.props.alertType===d.ConnectivityAlertType.CaptivePortal){const e=m.getString("ConnectivityStatusBar.CaptivePortalAlert"),t=m.getString("ConnectivityStatusBar.CaptivePortalAlertAction");return(0,n.jsxs)(r.Button,{style:A.button,accessibilityLabel:s.default.combinedAccessibilityLabel(e,t),onPress:this._onButtonPressed,tabIndex:-1,children:[l,(0,n.jsx)(i,{style:o,children:e}),(0,n.jsx)(i,{style:a,children:t})]},"connectionAlertCaptivePortal")}return this.props.alertType===d.ConnectivityAlertType.NoNetwork?(0,n.jsxs)(r.View,{style:A.simpleText,children:[l,(0,n.jsx)(i,{style:o,children:m.getString("ConnectivityStatusBar.NoInternetConnection")})]},"connectionAlertNoNetwork"):null}}t.default=I},121537:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(690570)),s=o.__importDefault(i(150343)),l=i(16549),c=o.__importDefault(i(54945)),d=i(26703),u=i(483753),p=o.__importStar(i(704704)),g=(o.__importStar(i(50350)),o.__importDefault(i(247286))),h=i(815146),m=o.__importDefault(i(20758)),S=o.__importDefault(i(497910)),_=o.__importDefault(i(760989)),f=i(262725),y=o.__importDefault(i(827361)),C=o.__importDefault(i(340724)),v=[h.ReportCategory.Spam,h.ReportCategory.Fraud,h.ReportCategory.ChildExploitation,h.ReportCategory.Terrorism,h.ReportCategory.HateSpeech,h.ReportCategory.Harm,h.ReportCategory.NonConsensualIntimateImagery,h.ReportCategory.SelfHarm,h.ReportCategory.Harassment,h.ReportCategory.FalseInfo,h.ReportCategory.SexuallyInappropriate,h.ReportCategory.Infringement,h.ReportCategory.MalwareOrVirus],b=[...v,h.ReportCategory.FeedbackBotChat],T=[...v,h.ReportCategory.FeedbackBotImage],P=h.ReportCategory.Spam,k=(0,d.lazyProperties)({checkBoxContainer:()=>r.Styles.createViewStyle({paddingVertical:16}),reportReasonText:()=>r.Styles.createTextStyle({flex:-1,paddingRight:10,paddingTop:16}),selectReasonText:()=>r.Styles.createTextStyle({alignSelf:"center",marginBottom:16,font:m.default.font.uiDisplayBold}),reportDetails:()=>r.Styles.createTextStyle({backgroundColor:l.Color.gray200Overlay20,paddingVertical:10,paddingHorizontal:10,marginTop:20,marginBottom:20,borderRadius:3,textAlign:"left"}),reasonSubtext:()=>r.Styles.createTextStyle({fontSize:12})});class A extends S.default{constructor(){super(...arguments),this._onPress=e=>{this.setState({selectedReason:e}),this._announceSelectedReasonForAccessibility(e),this.props.reasonSelected(e)},this._onKeyPress=e=>{e.keyCode===c.default.ENTER&&e.stopPropagation()},this._getReportDetails=()=>this._showInputFieldToUser()?(0,n.jsx)(r.TextInput,{style:[k.reportDetails,{color:this._themeColors.primaryTextColor}],onChangeText:this._updateReportDetails,placeholder:p.getString("BlockUnblockDialog.reportDetailsInputFieldPlaceholder"),returnKeyType:"done",blurOnSubmit:!0,multiline:!0,placeholderTextColor:this._themeColors.primaryTextColor,autoCapitalize:"sentences",autoCorrect:!0,onKeyPress:this._onKeyPress}):null,this._updateReportDetails=e=>{this.props.onChangeDetails(e)},this._onPrivacyLinkPress=()=>{0},this._onCopyrightLinkPress=()=>{0}}_buildState(e,t){const i=s.default.getConfigSettings(),o={selectedReason:P};return t&&(o.linkToPrivacyStatementPage=i.privacyUrl.host,o.linkToInfringementPage=i.infringementUrl.host,o.isAdult=g.default.isAdult(),o.reportReasonCategories=e.isMagicBotConversation?this._getBingReasonCategories():v),o}render(){const e=p.getString("BlockUnblockDialog.SelectReasonText"),t=this._prepareReportButtons(e);return(0,n.jsxs)(r.View,{style:k.checkBoxContainer,children:[(0,n.jsx)(r.Text,{style:[k.selectReasonText,{color:this._themeColors.primaryTextColor}],children:e}),t,this._getReportDetails(),this._getPrivacyNote()]})}_prepareReportButtons(e){const t=[r.Styles.createTextStyle({color:this._themeColors.primaryTextColor},!1)];return this.state.reportReasonCategories.map((i=>{const o=this.state.selectedReason===i,r=this.getDisplayTextForBlockReason(i),s=p.getString("BlockUnblockDialog.ReportReasonAccessibilityLabel",{groupName:e,categoryName:r,isSelected:o?p.getString("Global.SelectedAccessibilityLabel"):""});return(0,n.jsx)(a.default,{displayedCategory:r,displayedSubtextForCategory:this._getDisplaySubTextForBlockReason(i),reportedCategory:i,textStyle:t,isSelected:o,onPress:this._onPress,linkToPrivacyStatementPage:this.state.linkToPrivacyStatementPage,accessibilityLabel:s},h.ReportCategory[i]+"button")}))}_getBingReasonCategories(){return this.props.isPictureMessage?T:b}_showInputFieldToUser(){return this.state.isAdult&&!this._isReportedExternally()}_isReportedExternally(){return this.state.selectedReason===h.ReportCategory.Infringement||this.state.selectedReason===h.ReportCategory.NonConsensualIntimateImagery}_getPrivacyNote(){if(!this._showInputFieldToUser())return;const e=this._getPrivacyLink(),t=p.getParts("BlockUnblockDialog.PersonalInformationDisplayText",{learnMoreLink:e}),i=C.default.linkAccessibilityInfo(p.getString("BlockUnblockDialog.PersonalInformationDisplayText",{learnMoreLink:p.getString("Global.LearnMore")}),!0);return(0,n.jsx)(r.View,{accessibilityLabel:null==i?void 0:i.label,accessibilityTraits:null==i?void 0:i.traits,importantForAccessibility:void 0,onPress:this._onPrivacyLinkPress,style:[k.reportReasonText,{color:this._themeColors.primaryTextColor}],children:(0,n.jsx)(f.Caption,{style:y.default.flexOne,children:t})})}_getPrivacyLink(){return(0,n.jsx)(u.Link,{url:this.state.linkToPrivacyStatementPage,textElement:f.Caption,correctiveMargin:-3,children:p.getString("Global.LearnMore")},"privacyLearnMore")}_getDisplaySubTextForBlockReason(e){if(e!==h.ReportCategory.Infringement)return;const t=C.default.linkAccessibilityInfo(p.getString("BlockUnblockDialog.CopyrightInformationDisplayText",{copyrightClaimsLink:p.getString("BlockUnblockDialog.CopyrightInformationDisplayLink")}),!0),i=this._getCopyrightClaimsLink(),o=p.getParts("BlockUnblockDialog.CopyrightInformationDisplayText",{copyrightClaimsLink:i});return(0,n.jsx)(r.View,{accessibilityLabel:null==t?void 0:t.label,accessibilityTraits:null==t?void 0:t.traits,importantForAccessibility:void 0,onPress:this._onCopyrightLinkPress,style:[k.reasonSubtext,{color:this._themeColors.primaryTextColor}],children:(0,n.jsx)(f.Caption,{style:y.default.flexOne,children:o})})}_getCopyrightClaimsLink(){return(0,n.jsx)(u.Link,{url:this.state.linkToInfringementPage,textElement:f.Caption,correctiveMargin:-3,children:p.getString("BlockUnblockDialog.CopyrightInformationDisplayLink")},"copyrightClaimsLink")}getDisplayTextForBlockReason(e){switch(e){case h.ReportCategory.Spam:return p.getString("BlockUnblockDialog.SpamDisplayText");case h.ReportCategory.Fraud:return p.getString("BlockUnblockDialog.FraudDisplayText");case h.ReportCategory.ChildExploitation:return p.getString("BlockUnblockDialog.ChildExploitationDisplayText");case h.ReportCategory.Terrorism:return p.getString("BlockUnblockDialog.TerrorismDisplayText");case h.ReportCategory.HateSpeech:return p.getString("BlockUnblockDialog.HateSpeechDisplayText");case h.ReportCategory.SelfHarm:return p.getString("BlockUnblockDialog.SelfHarmDisplayText");case h.ReportCategory.Harm:return p.getString("BlockUnblockDialog.HarmDisplayText");case h.ReportCategory.Harassment:return p.getString("BlockUnblockDialog.HarassmentDisplayText");case h.ReportCategory.FalseInfo:return p.getString("BlockUnblockDialog.FalseInfoDisplayText");case h.ReportCategory.Pornography:return p.getString("BlockUnblockDialog.PornographyDisplayText");case h.ReportCategory.MalwareOrVirus:return p.getString("BlockUnblockDialog.MalwareDisplayText");case h.ReportCategory.Infringement:return p.getString("BlockUnblockDialog.InfringementDisplayText");case h.ReportCategory.NonConsensualIntimateImagery:return p.getString("BlockUnblockDialog.NonConsensualIntimateImageryDisplayText");case h.ReportCategory.SexuallyInappropriate:return p.getString("BlockUnblockDialog.SexuallyInappropriateDisplayText");case h.ReportCategory.FeedbackBotChat:return p.getString("BlockUnblockDialog.GiveFeedbackAboutMagicBot");case h.ReportCategory.FeedbackBotImage:return p.getString("BlockUnblockDialog.GiveFeedbackAboutImageCreator");default:_.default.switchStatementExhaustiveChecking(e,`Unexpected reason code: ${e}`)}}_announceSelectedReasonForAccessibility(e){const t=this.getDisplayTextForBlockReason(e),i=p.getString("BlockUnblockDialog.ReportReasonSelectedAccessibilityAnnounce",{categoryName:t});r.Accessibility.announceForAccessibility(i)}}t.default=A},275642:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(174958),a=o.__importDefault(i(27133)),s=i(217041),l=o.__importStar(i(987364)),c=i(815146),d=o.__importStar(i(85385)),u=o.__importStar(i(216030)),p=o.__importStar(i(345500)),g=o.__importDefault(i(139221));class h extends s.ComponentBase{constructor(e){super(e),this._isMuted=!1,this._isLoaded=!1,this._onVideoPlayerRef=e=>{this._videoPlayer=e||void 0},this._onLoadStart=()=>{this._telemetryEvent=new u.FileReceived(this.props.source?r.pii.Omit(this.props.source):void 0,this.props.sizeInBytes,void 0),this._telemetryEvent.startDownload(),this._telemetryEvent.setMediaProfile(this.props.mediaProfile),this._telemetryEvent.setIntent(c.MediaDownloadIntent.VideoViewer),this._telemetryPlaybackEvent=new p.VideoPlayback(this.props.source,this.props.mediaProvider,this.props.size,this.props.origin,this.props.amsReferences,this.props.messagetype),this._telemetryPlaybackEvent.setCachingStatus(!0,this.props.cacheMode,this.props.cachingDuration),this._telemetryPlaybackEvent.startLoad(),this.props.playbackIntentScenario&&!this.props.playbackIntentScenario.isResolved()&&(this.props.playbackIntentScenario.setDuplicateStepMarkingEnabled(),this.props.playbackIntentScenario.markStepCompleted("LoadStart"),this.props.playbackIntentScenario.setDuplicateStepMarkingEnabled(!1)),this.props.onLoadStart&&this.props.onLoadStart()},this._onCanPlay=()=>{this._telemetryPlaybackEvent&&(this._telemetryPlaybackEvent.startPlay(),this._telemetryPlaybackEvent.setPlayStatus(!0)),this.props.playbackIntentScenario&&!this.props.playbackIntentScenario.isResolved()&&(this.props.playbackIntentScenario.markStepCompleted("UserPerception"),this.props.playbackIntentScenario.finish(),this.props.playbackIntentScenario.reset(),this.props.playbackIntentScenario.start()),this.props.onCanPlay&&this.props.onCanPlay()},this._onError=e=>{d.log(c.LogTraceArea.VideoWithTelemetry,`Video playback failed with source: ${this.props.source} authToken: ${this.props.authToken?r.pii.Omit(this.props.authToken):"undefined"} clientVersion: ${this._clientVersion} loop: ${this.props.loop} showControls: ${this.props.showControls} preload: ${this.props.preload} resizeMode: ${this.props.resizeMode}`);const t=e&&e.error?JSON.stringify(e.error):"";this._telemetryEvent&&(this._telemetryEvent.endDownload(),this._telemetryEvent.setSuccess(!1,c.MessagingFailureReason.AMSFailure,1,void 0,t),d.track(this._telemetryEvent),this._telemetryEvent=void 0),this._telemetryPlaybackEvent?(this._telemetryPlaybackEvent.endLoad(),this._telemetryPlaybackEvent.setLoadStatus(!1,0,c.MessagingFailureReason.AMSFailure,t),d.track(this._telemetryPlaybackEvent),d.log(c.LogTraceArea.VideoWithTelemetry,"Sent video playback telemetry"),this._telemetryPlaybackEvent=void 0):d.log(c.LogTraceArea.VideoWithTelemetry,"Video playback telemetry was not sent"),this.props.onError&&this.props.onError(e)},this._onLoadedData=e=>{this._isLoaded=!0,this._telemetryPlaybackEvent&&(this._telemetryPlaybackEvent.endLoad(),this._telemetryPlaybackEvent.setLoadStatus(!0,e.duration?1e3*e.duration:0,c.MessagingFailureReason.None)),this.props.onLoadedData&&this.props.onLoadedData(e)},this._onEnded=()=>{this._telemetryPlaybackEvent?(this._telemetryPlaybackEvent.endPlay(),d.track(this._telemetryPlaybackEvent),d.log(c.LogTraceArea.VideoWithTelemetry,"Sent video playback telemetry"),this._telemetryPlaybackEvent=void 0):d.log(c.LogTraceArea.VideoWithTelemetry,"Video playback telemetry was not sent"),this.props.onEnded&&this.props.onEnded()},this._onWaiting=()=>{this._telemetryPlaybackEvent&&this._telemetryPlaybackEvent.startRebuffering(),this.props.onWaiting&&this.props.onWaiting()},this._onPlaying=()=>{this._telemetryPlaybackEvent&&this._telemetryPlaybackEvent.endRebuffering(),this.props.onPlaying&&this.props.onPlaying()},this._onCanPlayThrough=()=>{this._telemetryEvent?(this._telemetryEvent.endDownload(),this._telemetryEvent.setSuccess(!0,c.MessagingFailureReason.None),d.track(this._telemetryEvent),this._telemetryEvent=void 0):d.log(c.LogTraceArea.VideoWithTelemetry,"Video playback telemetry was not sent"),this.props.onCanPlayThrough&&this.props.onCanPlayThrough()},this._clientVersion=g.default.getUIVersionWithPartnerID(),d.log(c.LogTraceArea.VideoWithTelemetry,`Client version: ${this._clientVersion}`)}play(){this._videoPlayer&&this._videoPlayer.play()}seek(e){this._videoPlayer&&this._videoPlayer.seek(e)}seekPercent(e){this._videoPlayer&&this._videoPlayer.seekPercent(e)}pause(){this._videoPlayer&&this._videoPlayer.pause()}stop(){this._videoPlayer&&this._videoPlayer.stop()}mute(e){!!e!==this._isMuted&&(this._videoPlayer&&this._videoPlayer.mute(e),this._isMuted=e)}componentDidMount(){super.componentDidMount(),this._checkIfSourceIsValid()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),e.source===this.props.source&&e.sourceObj===this.props.sourceObj||this._checkIfSourceIsValid()}componentWillUnmount(){super.componentWillUnmount(),this._telemetryPlaybackEvent&&(this._telemetryPlaybackEvent.endPlay(),this._isLoaded||(this._telemetryPlaybackEvent.setLoadStatus(!1,0,c.MessagingFailureReason.None),this._telemetryPlaybackEvent.endLoad()),d.track(this._telemetryPlaybackEvent),d.log(c.LogTraceArea.VideoWithTelemetry,"Sent video playback telemetry"),this._telemetryPlaybackEvent=void 0)}render(){return(0,n.jsx)(a.default,{ref:this._onVideoPlayerRef,style:this.props.style,children:this.props.children,source:this.props.source,sourceObj:this.props.sourceObj,authToken:this.props.authToken,clientVersion:this._clientVersion,mediaProvider:this.props.mediaProvider,accessibilityLabel:this.props.accessibilityLabel,ariaHidden:this.props.ariaHidden,loop:this.props.loop,showControls:this.props.showControls,preload:this.props.preload,resizeMode:this.props.resizeMode,onLoadedData:this._onLoadedData,onError:this._onError,onProgress:this.props.onProgress,onSeek:this.props.onSeek,onLoadStart:this._onLoadStart,onCanPlay:this._onCanPlay,onCanPlayThrough:this._onCanPlayThrough,onEnded:this._onEnded,onWaiting:this._onWaiting,onPlaying:this._onPlaying,onClick:this.props.onClick,shouldRedirectForAndroidHLS:this.props.shouldRedirectForAndroidHLS,resumeAfterForeground:this.props.resumeAfterForeground})}_checkIfSourceIsValid(){this.props.source||this.props.sourceObj||d.warn(c.LogTraceArea.VideoWithTelemetry,"The video source is not valid"),this.props.source&&l.checkIfSafeDomainToRender(this.props.source,this.props.origin)}}t.default=h},958868:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(217041),r=i(736267),a=(i(815146),o.__importStar(i(85385)),o.__importDefault(i(48076)));class s extends n.ComponentBase{constructor(e){super(e),this._visibilityChanged=e=>{const t=!e;this._paused!==t&&(this._paused=t,t||this._shouldUpdateWhenResumed&&(this.forceUpdate(),this._shouldUpdateWhenResumed=!1))}}shouldComponentUpdate(e,t,i){if(this._pauseResumeDesired){const o=this._shouldComponentUpdate(this._paused,e,t,this._renderedProps||this.props,this._renderedState||this.state,i);return!this._paused||o||this._shouldUpdateWhenResumed||(this._shouldUpdateWhenResumed=super.shouldComponentUpdate(e,t,i)),o}return super.shouldComponentUpdate(e,t,i)}componentDidMount(){super.componentDidMount(),this._pauseResumeDesired=this._pauseWhenNotVisible(),this._pauseResumeDesired&&this.context.componentVisibilityStatus&&(this._pauseResumeEnabled=!0,this._paused=!this.context.componentVisibilityStatus.isVisible(),this._renderedProps=this.props,this._renderedState=this.state,this._baseVisibilitySubscriptionToken=this.context.componentVisibilityStatus.isVisibleEvent().subscribe(this._visibilityChanged))}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),this._pauseResumeDesired&&this._componentWillUpdate(e,t,this._renderedProps||this.props,this._renderedState||this.state,i)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._pauseResumeDesired&&this._componentDidUpdate(this._renderedProps||e,this._renderedState||t,i),this._pauseResumeEnabled&&(this._renderedState=this.state,this._renderedProps=this.props)}componentWillUnmount(){super.componentWillUnmount(),this._baseVisibilitySubscriptionToken&&(this._baseVisibilitySubscriptionToken.unsubscribe(),this._baseVisibilitySubscriptionToken=void 0)}_shouldComponentUpdate(e,t,i,o,n,r){return!e&&super.shouldComponentUpdate(t,i,r)}_componentWillUpdate(e,t,i,o,n){}_componentDidUpdate(e,t,i){}_componentDidRender(){super._componentDidRender(),this._pauseResumeEnabled&&(this._shouldUpdateWhenResumed=!1,this._paused)}_getContext(){return this.context}_getRootViewId(){return this.context.rootViewId}_getRootViewType(){return this.context.rootViewType}_isComponentVisible(){const e=this.context.componentVisibilityStatus;return!e||e.isVisible()}_isPresentedInDesktopLeftNav(){return!!this.context.isPresentedInDesktopLeftNav&&!0}_isPresentedInTabletLeftNav(){return!!this.context.isPresentedInDesktopLeftNav&&a.default.isTabletUINoSubscription()}_isPresentedInTabletRightNav(){return!!this.context.isPresentedInDesktopRightNav&&a.default.isTabletUINoSubscription()}_isPresentedInDesktopModal(){const e=this.context;return e.isPresentedInDesktopSubview&&!e.isPresentedInDesktopLeftNav&&!e.isPresentedInDesktopRightNav}_pauseWhenNotVisible(){return!1}}s.contextType=r.CommonContext,t.default=s},395298:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(340724)),s=i(154235),l=o.__importDefault(i(560099)),c=i(26703),d=o.__importStar(i(704704)),u=o.__importDefault(i(421334)),p=o.__importDefault(i(799585)),g=o.__importDefault(i(497910)),h=o.__importDefault(i(429955)),m=(0,c.lazyProperties)({container:()=>r.Styles.createViewStyle({alignSelf:"stretch"})});class S extends g.default{constructor(){super(...arguments),this._onToggleSwitchRef=e=>{var t,i;this._toggleSwitchRef=e||void 0,e&&(null===(i=null===(t=this.props)||void 0===t?void 0:t.onToggleRef)||void 0===i||i.call(t,e))},this._onComponentRef=e=>{this._componentRef=e||void 0},this._toggleButton=e=>{this.props.onChange&&this.props.onChange(e,!this.props.isOn)},this._onAccessibilityTapIOS=e=>{e.stopPropagation(),this._toggleButton(e)},this._onPress=e=>{e.stopPropagation(),this._toggleButton(e)}}_buildState(e,t){return{isMobileScreenReaderEnabled:u.default.isMobileScreenReaderEnabled()}}focusToggle(){this._componentRef?this._componentRef.requestFocus():this._toggleSwitchRef&&this._toggleSwitchRef.requestFocus()}render(){const e=this.state.isMobileScreenReaderEnabled,t=this.props.showSpinner?(0,n.jsx)(p.default,{size:s.SXActivityIndicatorSize.Small,tintColor:this._themeColors.primaryTextColor}):(0,n.jsx)(h.default,{ref:this._onToggleSwitchRef,isOn:this.props.isOn,disableInteraction:e,disable:this.props.disable,overlayColorAndroid:this.props.overlayColorAndroid,accessibilityLabel:this.props.accessibilityLabel,onChange:this.props.onChange,toggleSwitchStyles:this.props.toggleSwitchStyles});if(e){const e=this.props.isOn?d.getString("ToggleSwitch.OnWithTextAccessibilityLabel",{text:this.props.accessibilityLabel||""}):d.getString("ToggleSwitch.OffWithTextAccessibilityLabel",{text:this.props.accessibilityLabel||""}),i=a.default.buttonAccessibilityInfo(e,!!this.props.disable);return(0,n.jsx)(r.Button,{ref:this._onComponentRef,style:m.container,onPress:this.props.disable?void 0:this._onPress,title:i.accessibilityLabel,accessibilityTraits:i.accessibilityTraits,onAccessibilityTapIOS:this.props.disable?void 0:this._onAccessibilityTapIOS,disabled:this.props.disable,children:(0,n.jsxs)(l.default,{style:this.props.style,children:[this.props.children,t]})})}return(0,n.jsxs)(r.View,{style:this.props.style,children:[this.props.children,t]})}}t.default=S},187140:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ActionButton=t.ActionButtonSize=void 0;const o=i(197582),n=i(785893),r=i(667294),a=i(854646),s=o.__importStar(i(859745)),l=o.__importStar(i(516778)),c=o.__importStar(i(473483)),d=i(815146),u=i(970035),p=o.__importStar(i(85385)),g=i(26703),h=(o.__importStar(i(704704)),o.__importDefault(i(252089))),m=i(16549),S=i(641400),_=o.__importDefault(i(497910)),f=o.__importStar(i(972830)),y=o.__importDefault(i(760989));var C;!function(e){e[e.Default=0]="Default",e[e.Medium=1]="Medium",e[e.Small=2]="Small",e[e.TMP=3]="TMP",e[e.Tiny=4]="Tiny",e[e.FAB=5]="FAB"}(C||(t.ActionButtonSize=C={}));const v=S.IconSize.size24,b=S.IconSize.size28,T=S.IconSize.size20,P=S.IconSize.size16,k=(0,g.lazyProperties)({common:()=>l.Styles.createViewStyle({alignItems:"center",justifyContent:"center",overflow:"visible"}),container:()=>l.Styles.createViewStyle({height:60,width:60}),containerMedium:()=>l.Styles.createViewStyle({height:54,width:54}),containerSmall:()=>l.Styles.createViewStyle({height:44,width:44}),containerTMP:()=>l.Styles.createViewStyle({height:40,width:40}),containerTiny:()=>l.Styles.createViewStyle({height:44,width:44}),containerFAB:()=>l.Styles.createViewStyle({height:64,width:64}),backgroundView:()=>l.Styles.createViewStyle({position:"absolute",height:60,width:60,borderRadius:30,top:0,left:0,alignItems:"center",justifyContent:"center"}),backgroundViewMedium:()=>l.Styles.createViewStyle({position:"absolute",height:50,width:50,borderRadius:25,top:2,left:2,alignItems:"center",justifyContent:"center"}),backgroundViewSmall:()=>l.Styles.createViewStyle({position:"absolute",height:40,width:40,borderRadius:20,top:2,left:2,alignItems:"center",justifyContent:"center"}),backgroundViewTMP:()=>l.Styles.createViewStyle({position:"absolute",height:32,width:32,borderRadius:16,top:4,left:4,alignItems:"center",justifyContent:"center"}),backgroundViewTiny:()=>l.Styles.createViewStyle({position:"absolute",height:30,width:30,borderRadius:15,top:7,left:7,alignItems:"center",justifyContent:"center"}),backgroundViewFAB:()=>l.Styles.createViewStyle({position:"absolute",height:56,width:56,borderRadius:28,top:4,left:4,alignItems:"center",justifyContent:"center"}),thickBorder:()=>l.Styles.createViewStyle({borderWidth:2}),backgroundNoBorder:()=>l.Styles.createViewStyle({borderColor:m.Color.transparent,borderWidth:0}),iconViewDisabled:()=>l.Styles.createViewStyle({opacity:.5}),sendIconView:()=>l.Styles.createViewStyle({marginLeft:2}),sendIconViewRTL:()=>l.Styles.createViewStyle({marginRight:2}),flippedView:()=>l.Styles.createViewStyle({transform:[{scaleX:-1}]}),shadow:()=>l.Styles.createViewStyle({overflow:"visible",shadowColor:m.Color.blackOverlay20,shadowOpacity:.25,shadowRadius:2,shadowOffset:{height:2,width:0},elevation:2})});class A extends _.default{constructor(){super(...arguments),this._buttonRef=(0,r.createRef)()}_buildState(e,t){const i=e.backgroundColor?void 0:e.userColor?c.gradientColorsForColorInfo(e.userColor):e.reverseGradientColor?h.default.getReversedGradientColors():h.default.getGradientColors(),[,o]=null!=i?i:[],n={gradientColors:i,defaultHoverColors:o?[o,o]:void 0};return t&&(n.isHovering=!1),n}requestFocus(){var e;null===(e=this._buttonRef.current)||void 0===e||e.requestFocus()}_useAccessibleTheme(){return this.props.themeOverride?f.isAccessibleTheme(this.props.themeOverride):super._useAccessibleTheme()}render(){return(0,n.jsx)(I,Object.assign({primaryBackgroundColor:this._themeColors.primaryBackgroundColor,headerIconColor:this._themeColors.headerIconColor,isUseAccessibleTheme:this._useAccessibleTheme(),buttonBackgroundColorStyle:this._themeStyles.buttonBackgroundColorStyle,primaryViewColorStyle:this._themeStyles.primaryViewColorStyle,primaryBorderColorStyle:this._themeStyles.primaryBorderColorStyle,defaultHoverColors:this.state.defaultHoverColors,gradientColors:this.state.gradientColors},this.props,{ref:this._buttonRef}))}}t.ActionButton=A;const I=(0,r.memo)((0,r.forwardRef)(((e,t)=>{var{accessibilityLabel:i,accessibilityTraits:c,autoFocus:g,backgroundColor:h,buttonBackgroundColorStyle:_,defaultHoverColors:f,deselected:A,disabled:I,disabledOpacity:w,flipIcon:x,gradientColors:N,headerIconColor:D,hideBorder:M,icon:L,iconColor:R,iconSize:E,isUseAccessibleTheme:B,importantForAccessibility:O,primaryBackgroundColor:F,primaryBorderColorStyle:V,primaryViewColorStyle:U,size:j,style:H,tabIndex:W,title:z,useSmallIcon:G,renderIcon:K,onHoverStart:q,onHoverEnd:Q}=e,X=o.__rest(e,["accessibilityLabel","accessibilityTraits","autoFocus","backgroundColor","buttonBackgroundColorStyle","defaultHoverColors","deselected","disabled","disabledOpacity","flipIcon","gradientColors","headerIconColor","hideBorder","icon","iconColor","iconSize","isUseAccessibleTheme","importantForAccessibility","primaryBackgroundColor","primaryBorderColorStyle","primaryViewColorStyle","size","style","tabIndex","title","useSmallIcon","renderIcon","onHoverStart","onHoverEnd"]);const $=(0,r.useRef)(null),[J,Y]=(0,r.useState)(!1),Z=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(()=>({requestFocus:()=>{var e;return null===(e=Z.current)||void 0===e?void 0:e.requestFocus()},blur:()=>{var e;return null===(e=Z.current)||void 0===e?void 0:e.blur()}})));const[ee,te]=(0,r.useMemo)((()=>{const e=[k.common];let t;switch(j){case C.Medium:t=[k.backgroundViewMedium],e.push(k.containerMedium);break;case C.Small:t=[k.backgroundViewSmall],e.push(k.containerSmall);break;case C.TMP:t=[k.backgroundViewTMP],e.push(k.containerTMP);break;case C.Tiny:t=[k.backgroundViewTiny],e.push(k.containerTiny);break;case C.FAB:t=[k.backgroundViewFAB,k.shadow],e.push(k.containerFAB);break;default:case C.Default:t=[k.backgroundView],e.push(k.container)}return[e,t]}),[j]),ie=(0,r.useMemo)((()=>{const e=[];let t,i;t=E||(j===C.Tiny||j===C.TMP?P:j===C.Medium?b:G?T:v),i=R||(A?D:B?F:m.Color.white),L===S.SkypeIcon.Send&&e.push(x?k.sendIconViewRTL:k.sendIconView),I&&1===w&&e.push(k.iconViewDisabled),x&&e.push(k.flippedView);const o={icon:L,size:t,color:i,style:e};return K?K(o):(0,n.jsx)(u.IconView,Object.assign({},o))}),[A,I,w,x,D,L,R,E,B,F,j,G,K]),oe=(0,r.useMemo)((()=>{let e;if(h)e=(0,n.jsx)(l.View,{style:[...te,l.Styles.createViewStyle({backgroundColor:h},!1)],children:ie});else if(A)e=(0,n.jsx)(l.View,{style:[...te,_],children:ie});else if(B){const t=[...te,U,V,k.thickBorder];M&&t.push(k.backgroundNoBorder),e=(0,n.jsx)(l.View,{style:t,children:ie})}else N&&(e=(0,n.jsx)(a.GradientView,{style:te,colors:J?f:N,direction:a.GradientDirection.BOTTOM_RIGHT,children:ie}));return e}),[ie,h,te,_,f,A,N,M,J,B,U,V]),[ne,re]=(0,r.useMemo)((()=>{let e=c||[l.Types.AccessibilityTrait.Button],t=i||z;return I&&(Array.isArray(e)?e.push(l.Types.AccessibilityTrait.Disabled):e=[e,l.Types.AccessibilityTrait.Disabled]),[e,t]}),[I,z,i,c]),[ae,se]=(0,r.useState)(!1),le=(0,r.useCallback)((()=>{!I&&se(!0)}),[I]),ce=(0,r.useCallback)((()=>{se(!1)}),[]),de=(0,r.useCallback)((e=>{Y(!0),null==q||q(e)}),[q]),ue=(0,r.useCallback)((e=>{Y(!1),se(!1),null==Q||Q(e)}),[Q]),pe=(0,r.useRef)();return(0,r.useEffect)((()=>{if(!$.current)return;const e=ae?.9:1,t=y.default.newCauseId();return p.log(d.LogTraceArea.SXAnimated,"ActionButton._internalUpdateButton causeId: "+t),pe.current=$.current.getAnimation({scale:{toValue:e,easing:s.Easing.SkypeExpoInOut5,duration:s.Common.Duration.Tiny}},t),pe.current.start((()=>{pe.current=void 0})),()=>{var e;null===(e=pe.current)||void 0===e||e.stop()}}),[ae]),(0,n.jsx)(s.View,{ref:$,style:l.Styles.combine(ee,H),children:(0,n.jsx)(l.Button,Object.assign({accessibilityLabel:re,accessibilityTraits:ne,autoFocus:g,disabled:I,disabledOpacity:w,disableTouchOpacityAnimation:!0,importantForAccessibility:O,onHoverEnd:ue,onHoverStart:de,onPressIn:I?void 0:le,onPressOut:I?void 0:ce,style:ee,tabIndex:W,title:z,ref:Z},X,{children:oe}))})})));t.default=A},335250:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=o.__importDefault(i(441498)),l=i(154235),c=i(26703),d=o.__importDefault(i(759664)),u=o.__importDefault(i(760989)),p=(0,c.lazyProperties)({extraSmall:()=>r.Styles.createViewStyle({width:20,height:20}),small:()=>r.Styles.createViewStyle({width:40,height:40}),medium:()=>r.Styles.createViewStyle({width:60,height:60}),large:()=>r.Styles.createViewStyle({width:80,height:80})});class g extends a.ComponentBase{render(){let e,t;switch(this.props.size){case l.SXActivityIndicatorSize.ExtraSmall:e=p.extraSmall;break;case l.SXActivityIndicatorSize.Small:e=p.small;break;case l.SXActivityIndicatorSize.Medium:e=p.medium;break;case l.SXActivityIndicatorSize.Large:e=p.large;break;default:e=u.default.switchStatementExhaustiveChecking(this.props.size)}switch(this.props.size){case l.SXActivityIndicatorSize.ExtraSmall:t=d.default.CIRCLE_SPINNER_40;break;default:case l.SXActivityIndicatorSize.Small:case l.SXActivityIndicatorSize.Medium:case l.SXActivityIndicatorSize.Large:t=d.default.CIRCLE_SPINNER}return(0,n.jsx)(r.View,{style:[e,this.props.style],children:(0,n.jsx)(s.default,{animation:t,loop:!0,delay:this.props.deferTimeMs,hiddenWhileWaiting:!!this.props.deferTimeMs,tintColor:this.props.tintColor,sizeToFit:!0})})}}t.default=g},441498:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=o.__importStar(i(496486)),s=o.__importDefault(i(198243)),l=o.__importStar(i(516778)),c=i(217041),d=o.__importDefault(i(151398)),u=o.__importDefault(i(827361));class p extends c.ComponentBase{constructor(){super(...arguments),this._animationCount=0,this._animatedOpacityValue=new l.Animated.Value(0),this._animatedOpacityStyle=l.Styles.createAnimatedViewStyle({opacity:this._animatedOpacityValue}),this._onAEAnimationViewRef=e=>{this._aeAnimationView=e||void 0,this._aeAnimationView&&(this.props.startPaused?this._aeAnimationView.reset():this.props.delay?(this._aeAnimationView.reset(),a.delay((()=>{this.isComponentMounted()&&this.play()}),this.props.delay)):this._aeAnimationView.play())}}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this._currentAnimation=this._getAnimationContext(this.props)}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),this.props.animation.key===e.animation.key&&this.props.tintColor===e.tintColor||(this._animationCount++,this._currentAnimation=this._getAnimationContext(e))}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.props.animation.key!==e.animation.key&&this._aeAnimationView&&this.isComponentMounted()&&this._aeAnimationView.play()}play(){this._animatedOpacityValue.setValue(1),this._aeAnimationView&&this._aeAnimationView.play()}reset(){this._aeAnimationView&&this._aeAnimationView.reset()}_getAnimationContext(e){return d.default.getAssetSourceWithColor(e.animation,e.tintColor)}render(){const e=this.props.animation;let t=this._currentAnimation?(0,r.createElement)(s.default,Object.assign({},this._currentAnimation,{key:"animation"+this._animationCount,ref:this._onAEAnimationViewRef,style:u.default.flexOne,loop:this.props.loop})):null;if(this.props.hiddenWhileWaiting&&(t=(0,n.jsx)(l.Animated.View,{style:[u.default.flexOne,this._animatedOpacityStyle],children:t})),this.props.sizeToFit)return t;{const i=this.props.shortSide||(this.props.preferHeight?e.intrinsicSize.height:e.intrinsicSize.width),o=i/(this.props.preferHeight?e.intrinsicSize.height:e.intrinsicSize.width),r=l.Styles.createViewStyle({width:this.props.preferHeight?o*e.intrinsicSize.width:i,height:this.props.preferHeight?i:o*e.intrinsicSize.height},!1);let a=(0,n.jsx)(l.View,{style:r,children:t});if(e.containerSize){const t=e.containerOffset?e.containerOffset.y*o:0,r=e.containerOffset?e.containerOffset.x*o:0,s=l.Styles.createViewStyle({width:this.props.preferHeight?o*e.containerSize.width:i,height:this.props.preferHeight?i:o*e.containerSize.height,top:t<0?t:0,left:r<0?r:0,paddingTop:t>=0?t:0,paddingLeft:r>=0?r:0},!1);a=(0,n.jsx)(l.View,{style:s,children:a})}return a}}}t.default=p},309520:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BadgeCounter=t.BadgeSize=t.BorderWidth=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(854646),s=i(154235),l=i(26703),c=o.__importDefault(i(942724)),d=o.__importDefault(i(960282)),u=i(16549),p=o.__importDefault(i(20758)),g=o.__importDefault(i(48076)),h=o.__importDefault(i(497910));var m,S;!function(e){e[e.None=0]="None",e[e.Thin=1]="Thin",e[e.Thick=2]="Thick"}(m||(t.BorderWidth=m={})),function(e){e[e.Default=0]="Default",e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Desktop=3]="Desktop"}(S||(t.BadgeSize=S={}));const _=(0,l.lazyProperties)({defaultBadge:()=>r.Styles.createViewStyle({justifyContent:"center",alignItems:"center",height:24,minWidth:24,borderRadius:12,backgroundColor:u.Color.gray300}),defaultBadgeSmall:()=>r.Styles.createViewStyle({height:12,minWidth:12,borderRadius:6}),defaultBadgeMedium:()=>r.Styles.createViewStyle({height:20,minWidth:20,borderRadius:10}),defaultBadgeText:()=>r.Styles.createTextStyle({color:u.Color.white,font:p.default.font.uiDisplayBold,fontSize:p.default.controlFontSize.smallBadge,lineHeight:p.default.controlFontSize.smallBadge,textAlign:"center",textAlignVertical:"center",backgroundColor:u.Color.transparent}),defaultBadgeTextSmall:()=>r.Styles.createTextStyle({fontSize:p.default.controlFontSize.tinyBadge,lineHeight:p.default.controlFontSize.tinyBadge}),defaultBadgeTextMedium:()=>r.Styles.createTextStyle({fontSize:p.default.controlFontSize.smallBadge,lineHeight:p.default.controlFontSize.smallBadge}),badgeDarkBackground:()=>r.Styles.createViewStyle({backgroundColor:u.Color.white}),badgeTextLight:()=>r.Styles.createTextStyle({color:u.Color.white}),badgeTextDark:()=>r.Styles.createTextStyle({color:u.Color.gray400}),badgeIOS:()=>r.Styles.createTextStyle({paddingTop:1}),badgeAndroid:()=>r.Styles.createViewStyle({paddingRight:.5}),badgeSingleDigit:()=>r.Styles.createViewStyle({width:24}),badgeSingleDigitSmall:()=>r.Styles.createViewStyle({width:12}),badgeSingleDigitMedium:()=>r.Styles.createViewStyle({width:20}),badgeDoubleDigit:()=>r.Styles.createViewStyle({paddingHorizontal:4}),badgeWithBorder:()=>r.Styles.createViewStyle({borderColor:u.Color.white,borderWidth:1,borderStyle:"solid"}),badgeWithThickBorder:()=>r.Styles.createViewStyle({borderColor:u.Color.white,borderWidth:2,borderStyle:"solid"}),gradientView:()=>r.Styles.createViewStyle({position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:u.Color.transparent}),gradientViewWithBorder:()=>r.Styles.createViewStyle({position:"absolute",left:-1,top:-1,right:0,bottom:0,backgroundColor:u.Color.transparent}),compositeNav:()=>(0,l.lazyProperties)({defaultBadge:()=>r.Styles.createViewStyle({height:16,borderRadius:8,minWidth:16,paddingHorizontal:4}),badgeSingleDigit:()=>r.Styles.createViewStyle({width:16})})});class f extends h.default{_buildState(e,t){return{useMobileUI:c.default.isUsingStackNavigationContext()||g.default.isTabletUI(),contentSizeMultiplier:e.fixedSize?1:d.default.getContentSizeMultiplier()}}_useDesktopBadges(){return!this.state.useMobileUI||this.props.badgeSize===S.Desktop}render(){const e=[_.defaultBadge],t=[_.defaultBadgeText],i=[_.badgeTextLight];if(this._useDesktopBadges()&&e.push(_.compositeNav.defaultBadge),this.props.darkBackground)e.push(_.badgeDarkBackground),i.push(_.badgeTextDark);else{const t=this.props.isHighPriority?this._themeStyles.primaryBadgeColorStyle:this._themeStyles.secondaryBadgeColorStyle;!this.props.colorStyle||t&&!this.props.themeOverride?t&&e.push(t):e.push(this.props.colorStyle),this._themeStyles.primaryBadgeTextColorStyle&&i.push(this._themeStyles.primaryBadgeTextColorStyle),this.props.themeOverride&&i.push(r.Styles.createTextStyle({color:this._themeColors.textPrimary,fontWeight:s.FontWeight.bold},!1))}this.props.badgeSize===S.Small?(t.push(_.defaultBadgeTextSmall),e.push(_.defaultBadgeSmall)):this.props.badgeSize===S.Medium&&(t.push(_.defaultBadgeTextMedium),e.push(_.defaultBadgeMedium));const o=this.props.rawCount>=0&&this.props.rawCount<10;if(o?this.props.badgeSize===S.Small?e.push(_.badgeSingleDigitSmall):this.props.badgeSize===S.Medium?e.push(_.badgeSingleDigitMedium):e.push(this._useDesktopBadges()?_.compositeNav.badgeSingleDigit:_.badgeSingleDigit):e.push(_.badgeDoubleDigit),this.state.contentSizeMultiplier>1){let t=this._useDesktopBadges()?16:24;this.props.badgeSize===S.Small?t=12:this.props.badgeSize===S.Medium&&(t=20);const i=t*Math.min(this.state.contentSizeMultiplier,s.MaxContentSizeMultiplier);e.push(r.Styles.createViewStyle({borderRadius:i/2,height:i,minWidth:i},!1)),o&&e.push(r.Styles.createViewStyle({width:i},!1))}let l;this.props.gradientColors&&(l=(0,n.jsx)(a.GradientView,{style:[...e,this.props.borderColor?_.gradientViewWithBorder:_.gradientView],colors:this.props.gradientColors,direction:a.GradientDirection.BOTTOM_RIGHT})),(this.props.borderColor||this.props.borderWidth)&&(e.push(this.props.borderWidth===m.Thick?_.badgeWithThickBorder:_.badgeWithBorder),this.props.borderColor&&e.push(r.Styles.createViewStyle({borderColor:this.props.borderColor},!1))),t.push(i),e.push(this.props.style);const c=isNaN(this.props.rawCount)?void 0:(0,n.jsx)(r.Text,{style:t,numberOfLines:1,allowFontScaling:!this.props.fixedSize,children:this.props.count||""});return(0,n.jsxs)(r.Animated.View,{style:[e,this.props.style],blockPointerEvents:this.props.blockPointerEvents,importantForAccessibility:this.props.importantForAccessibility,children:[l,c]})}}t.BadgeCounter=f,t.default=f},511548:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselScrollViewBase=t.ScrollDirecton=t.CarouselHeaderMarginBottom=t.CarouselMarginTop=t.CarouselHeightWithHeader=t.CarouselHeightBase=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(26703),s=(o.__importDefault(i(139221)),i(262725)),l=o.__importDefault(i(497910));t.CarouselHeightBase=150,t.CarouselHeightWithHeader=195,t.CarouselMarginTop=10,t.CarouselHeaderMarginBottom=10;const c=(0,a.lazyProperties)({containerWithHeader:()=>r.Styles.createViewStyle({alignItems:"stretch",height:t.CarouselHeightWithHeader}),heading:()=>r.Styles.createTextStyle({paddingLeft:10,paddingTop:20,marginBottom:t.CarouselHeaderMarginBottom}),headingRight:()=>r.Styles.createButtonStyle({justifyContent:"flex-start",paddingRight:10,paddingTop:20,marginBottom:t.CarouselHeaderMarginBottom}),headerContainerWrapper:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"stretch",alignSelf:"stretch",justifyContent:"space-between"}),scrollView:()=>r.Styles.createViewStyle({flexDirection:"row",marginTop:t.CarouselMarginTop}),scrollViewRTL:()=>r.Styles.createViewStyle({flexDirection:"row-reverse"}),flippedView:()=>r.Styles.createViewStyle({transform:[{scaleX:-1}]}),scrollWithButtons:()=>r.Styles.createViewStyle({flexDirection:"row"})});var d;!function(e){e[e.Previous=0]="Previous",e[e.Next=1]="Next"}(d||(t.ScrollDirecton=d={}));class u extends l.default{constructor(){super(...arguments),this._scrollLeft=0,this._scrollTop=0,this._useGestureTrap=!1,this._keyboardShouldPersistTaps=!1,this._titleRightOnPress=e=>{},this._onLayout=e=>{},this._renderScrollDirectionButton=()=>{},this._onTrapPan=()=>{},this._onMoveShouldSetResponder=e=>(e.preventDefault(),e.stopPropagation(),!1),this._onScrollViewRef=e=>{this._scrollViewRef=e},this._onScroll=(e,t)=>{this._scrollTop=e,this._scrollLeft=t}}_renderEmptyStateElement(){}_title(){}_titleRight(){}_height(){return t.CarouselHeightBase}_marginTop(){}_enableOnScroll(){return!1}setScrollLeft(e){this._scrollViewRef&&this._scrollViewRef.setScrollLeft(e,!0)}render(){if(this._elementCount()){const e=[c.scrollView];void 0!==this._marginTop()&&e.push(r.Styles.createViewStyle({marginTop:this._marginTop()},!1));const t=!1,i=this._renderElements(t),o=i?i.elements:void 0;let a;if(i&&i.useStaticContainer)a=(0,n.jsx)(r.View,{style:e,children:o});else{t&&(e.push(c.scrollViewRTL),e.push(c.flippedView));const i=this._getContext().isPresentedInTabView||this.props.preventBubblingOnSwipe,s={ref:this._onScrollViewRef,style:e,horizontal:!0,keyboardShouldPersistTaps:this._keyboardShouldPersistTaps,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,onMoveShouldSetResponder:i?this._onMoveShouldSetResponder:void 0,onScroll:this._enableOnScroll()?this._onScroll:void 0};a=(0,n.jsx)(r.ScrollView,Object.assign({},s,{children:o})),this._useGestureTrap&&i&&(a=(0,n.jsx)(r.GestureView,{onPan:this._onTrapPan,panPixelThreshold:5,releaseOnRequest:!1,children:a}))}const l=this._title(),u=l?(0,n.jsx)(s.Subtitle,{style:c.heading,children:l}):void 0,p=this._titleRight();let g,h;p&&(g=(0,n.jsx)(r.Button,{style:c.headingRight,onPress:this._titleRightOnPress,accessibilityLabel:p,children:(0,n.jsx)(s.Subtitle,{style:this._themeStyles.primaryTextColorStyle,children:p})})),h=l||p?c.containerWithHeader:r.Styles.createViewStyle({alignItems:"stretch",height:this._height()},!1);const m=this._renderScrollDirectionButton(d.Previous),S=this._renderScrollDirectionButton(d.Next);return(m||S)&&(a=(0,n.jsxs)(r.View,{style:c.scrollWithButtons,children:[m,a,S]})),(0,n.jsxs)(r.View,{style:h,onLayout:this._onLayout,children:[(0,n.jsxs)(r.View,{style:c.headerContainerWrapper,children:[u,g]}),a]})}{const e=this._renderEmptyStateElement();if(!e)return null;const t=r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",height:this._height()},!1);return(0,n.jsx)(r.View,{style:t,children:e})}}}t.CarouselScrollViewBase=u,t.default=u},298974:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(543915)),s=o.__importStar(i(560099)),l=i(26703),c=o.__importDefault(i(11252)),d=o.__importStar(i(704704)),u=o.__importDefault(i(497910)),p=(0,l.lazyProperties)({checkboxButton:()=>r.Styles.createViewStyle({flexDirection:"column",alignSelf:"flex-start",alignItems:"center",justifyContent:"center"}),checkboxLabel:()=>r.Styles.createTextStyle({flex:-1,marginLeft:5,lineHeight:24}),checkboxButtonView:()=>r.Styles.createViewStyle({flexDirection:"row",alignSelf:"flex-start"}),secondaryTextStyle:()=>r.Styles.createTextStyle({paddingTop:4,paddingLeft:40,alignSelf:"stretch"})});class g extends u.default{constructor(){super(...arguments),this._onButtonRef=e=>{this._componentRef=e||void 0},this._onViewRef=e=>{this._componentRef=e||void 0},this._onKeyPress=e=>a.default.maybeHandleKeyPress(e,(()=>{this._onPress(e)})),this._onPress=e=>{e.stopPropagation();this.props.onShouldToggleCheckbox(!!this.props.value);this.props.onPress&&this.props.onPress(e)}}requestFocus(){this._componentRef&&this._componentRef.requestFocus()}render(){const e=[r.Types.AccessibilityTrait.CheckBox];let t="";this.props.value&&e.push(r.Types.AccessibilityTrait.Checked),this.props.accessibilityLabelPrefix&&(t+=`${this.props.accessibilityLabelPrefix}, `);const i=r.Button,o=this._onButtonRef;return t+=this.props.text,this.props.secondaryText&&(t+=" "+this.props.secondaryText),this.props.disable&&(t+=". "+d.getString("AccessibilityLabel.Disabled")),(0,n.jsxs)(i,{ref:o,style:[p.checkboxButton,this.props.style],onPress:this.props.disable?void 0:this._onPress,onKeyPress:void 0,accessibilityTraits:e,accessibilityLabel:t,tabIndex:void 0,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,children:[(0,n.jsxs)(s.default,{style:p.checkboxButtonView,children:[(0,n.jsx)(c.default,{isOn:!!this.props.value,disable:this.props.disable,disableSelectionAnimation:this.props.disableSelectionAnimation,style:this.props.toggleStyle}),(0,n.jsx)(r.Text,{style:[p.checkboxLabel,this.props.textStyle],children:this.props.text})]}),this._secondaryText()]})}_secondaryText(){if(this.props.secondaryText)return(0,n.jsx)(s.HiddenText,{style:[p.secondaryTextStyle,this.props.secondaryTextStyle],children:this.props.secondaryText})}_getCheckboxAccessibilityLabel(e,t){const i=this._getCheckboxCheckedState(t);return d.getString("FeedbackMechanism.AccLabelCheckbox",{checkboxTitle:e,state:i})}_getCheckboxCheckedState(e){return e?d.getString("FeedbackMechanism.AccLabelCheckboxChecked"):d.getString("FeedbackMechanism.AccLabelCheckboxUnchecked")}}t.default=g},142193:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeIcon=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(560099)),l=o.__importDefault(i(970035)),c=o.__importDefault(i(827361)),d=o.__importDefault(i(497910));class u extends d.default{constructor(){super(...arguments),this._iconForIconConfig=(e,t,i)=>{const o=[];return i&&o.push(c.default.absoluteFill),!r.isUndefined(t.opacity)&&t.opacity<1&&o.push(a.Styles.createViewStyle({opacity:t.opacity},!1)),(0,n.jsx)(l.default,{style:[o,this.props.style],size:this.props.iconSize||24,color:t.color||this.props.color||this._themeColors.primaryIconColor,icon:t.icon},e)}}render(){const e=r.map(this.props.icons,((e,t)=>this._iconForIconConfig("icon"+t,e,t>0)));return(0,n.jsx)(s.default,{style:this.props.style,children:e})}}t.CompositeIcon=u,t.default=u},676301:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DismissibleModalWrapperLoaded=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=o.__importDefault(i(974634)),l=i(574703),c=i(26703),d=o.__importDefault(i(594365)),u=i(16549),p=(0,c.lazyProperties)({modalInnerContainer:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch",backgroundColor:u.Color.transparent,overflow:"visible"})});t.DismissibleModalWrapperLoaded=new s.default;class g extends a.ComponentBase{constructor(){super(...arguments),this._arbitrateFocus=e=>(t.DismissibleModalWrapperLoaded.fire(),(0,l.arbitrateModalOrPopupFocus)("DismissibleModalWrapper",e))}componentWillUnmount(){super.componentWillUnmount(),this.props.onDismiss&&this.props.onDismiss(),t.DismissibleModalWrapperLoaded.dispose()}render(){return(0,n.jsxs)(r.View,{style:p.modalInnerContainer,restrictFocusWithin:!0,arbitrateFocus:this._arbitrateFocus,children:[this.props.children,(0,n.jsx)(d.default,{},"miniToast")]})}}t.default=g},186325:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(26703),s=o.__importDefault(i(497910)),l={},c={},d={},u={},p=(0,a.lazyProperties)({itemDivider:()=>r.Styles.createViewStyle({height:1,alignSelf:"stretch"})});class g extends s.default{render(){const e=this._getDividerStyle(this.props.marginLeft||0,this.props.marginRight||0,this.props.marginTop||0,this.props.marginBottom||0),t=this._getDividerColorStyle(),i=[p.itemDivider,t,...e,this.props.style];return(0,n.jsx)(r.View,{style:i})}_getDividerColorStyle(){return this.props.color?r.Styles.createViewStyle({backgroundColor:this.props.color},!1):this.props.useLightTheme?this._themeStyles.headerShadowColorStyle:r.Styles.createViewStyle({backgroundColor:this._themeColors.dividerPrimary},!1)}_getDividerStyle(e,t,i,o){let n=d[e],a=u[t],s=l[i],p=c[o];return n||(n=r.Styles.createViewStyle({marginLeft:e}),d[e]=n),a||(a=r.Styles.createViewStyle({marginRight:t}),u[t]=a),s||(s=r.Styles.createViewStyle({marginTop:i}),l[i]=s),p||(p=r.Styles.createViewStyle({marginBottom:o}),c[o]=p),[n,a,s,p]}}t.default=g},844445:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(815063),s=o.__importDefault(i(326036)),l=i(6625),c=o.__importStar(i(516778)),d=o.__importStar(i(397691)),u=o.__importDefault(i(206483)),p=o.__importDefault(i(150343)),g=o.__importDefault(i(191867)),h=o.__importDefault(i(638260)),m=o.__importStar(i(172134)),S=i(627414),_=o.__importStar(i(44717)),f=o.__importDefault(i(958868)),y=o.__importDefault(i(615364)),C=i(535973),v=o.__importDefault(i(46209)),b=i(46209),T=i(815146),P=o.__importDefault(i(606617)),k=i(929418),A=o.__importStar(i(85385)),I=o.__importStar(i(704704)),w=i(901156),x=o.__importDefault(i(791612)),N=i(786531),D=i(675862),M=o.__importDefault(i(740794)),L=o.__importDefault(i(863132)),R=i(96575),E=o.__importDefault(i(791384)),B=o.__importStar(i(750822)),O=o.__importDefault(i(20758)),F=o.__importDefault(i(220534)),V=o.__importDefault(i(760989)),U=i(920440),j=i(693352),H=o.__importDefault(i(139221)),W=i(500983),z=o.__importDefault(i(555436));class G extends f.default{constructor(){super(...arguments),this._dragAndDropCount=0,this._onDragEnter=e=>{e.preventDefault(),e.stopPropagation();const t=v.default.isContactEntityInDataTransfer(e)&&this._isDroppingContactAllowed(),i=v.default.isFileEntityFromConversationInDataTransfer(e)&&this._isDroppingFileFromConversationAllowed(),o=v.default.isDataTransferFilesFromDesktop(e)&&this._isDroppingFileFromDesktopAllowed(),n=v.default.isTextOrLink(e)&&this.state.enableDragAndDropTextAndLink;(t||i||o||n)&&0==this._dragAndDropCount++&&(this.props.onDragEnter&&this.props.onDragEnter(e),n&&A.track(new j.DragAndDropTelemetry(j.DragAction.DragStart,j.DragOrigin.Unknown,j.DragType.TextOrLink,this.props.dropTargetSource===b.DropTargetOrigin.MessagePanel?j.DropTarget.MessagePanel:j.DropTarget.ConversationListItem)))},this._onDragOver=e=>{e.preventDefault(),e.stopPropagation(),a.BrowserEnvironment.supportsDragAndDropEffect()&&(e.dataTransfer.effectAllowed=b.DropEffect,e.dataTransfer.dropEffect=b.DropEffect)},this._onDragLeave=e=>{e.preventDefault(),e.stopPropagation(),0==--this._dragAndDropCount&&(this.props.onDragLeave&&this.props.onDragLeave(e),this._dragAndDropCount=0)},this._isMediaPreviewEnabled=e=>e&&x.default.isMediaPreviewEnabled(e)&&this.props.dropTargetSource===b.DropTargetOrigin.MessagePanel,this._maybeAddToGroupButton=e=>{if(!p.default.getS4LMessagingFeaturesNoSubscription().enableContactAddDragAndDrop)return;if(!e||!e.userMri||!this.props.conversationId)return;if(e.isS4B)return;const t=(0,y.default)().getConversation(this.props.conversationId);if(t&&(0,D.isRegularMemberInModeratedGroup)(t))return;const i=_.sanitizeMri(e.userMri,_.Namespaces.SkypeId);return t&&!t.isUserMember(i)?{text:I.getString("MessageStream.DragAndDropContactToGroupAddButton"),onPress:()=>this._onAddToGroupPress(i,t),textStyle:O.default.font.uiDisplayBold}:void 0},this._onAddToGroupPress=(e,t)=>{this.props.conversationId&&!_.isGroupConversation(this.props.conversationId)?this._maybeCreateNewGroupConversation(e):m.addMemberToThread(_.asSkypeThreadId(t.id),e,S.AddMemberToThreadSource.AddUserToGroupCallDragAndDrop)},this._onDragDrop=e=>{switch(e.preventDefault(),e.stopPropagation(),this._currentDragDropType=v.default.getDataTransferType(e),this._fileStringDrop=void 0,this._files=void 0,this._textOrLinkDataTransfer=void 0,this._currentDragDropType){case b.DragDropType.ContactFromRecentsToConversation:const t=v.default.extractContactEntityFromDataTransfer(e);this._sendContact(t);break;case b.DragDropType.FileFromConversationToRecents:this.props.conversationId&&this._isDroppingFileFromConversationAllowed()&&(this._fileStringDrop=e.dataTransfer.getData(b.DragDropType.FileFromConversationToRecents),this.props.onDropStarted?this.props.onDropStarted():this.onDragDropContinue(this.props.conversationId));break;case b.DragDropType.FileFromDesktop:this._files=e.dataTransfer.files,this.props.onDropStarted?this.props.onDropStarted():this.onDragDropContinue(this.props.conversationId);break;case b.DragDropType.TextOrLink:this.state.enableDragAndDropTextAndLink&&(this.props.onDropStarted?(this._textOrLinkDataTransfer=e.dataTransfer,this.props.onDropStarted()):this.props.onDragDropText&&(this.props.onDragDropText(e),this._dragAndDropCount=0),A.track(new j.DragAndDropTelemetry(j.DragAction.Drop,j.DragOrigin.Unknown,j.DragType.TextOrLink,this.props.dropTargetSource===b.DropTargetOrigin.MessagePanel?j.DropTarget.MessagePanel:j.DropTarget.ConversationListItem)))}this.props.onDropCompleted&&this.props.onDropCompleted()},this._onContainerRef=e=>{this._container=e||void 0}}_buildState(e,t){return{enableDragAndDropTextAndLink:H.default.isEdgeShoreline()&&(e.dropTargetSource===b.DropTargetOrigin.MessagePanel||e.dropTargetSource===b.DropTargetOrigin.ConversationListItem)}}_sendFiles(e,t,i,o){if(!this._isMediaPreviewEnabled(o)&&o){const n=this.props.callId;if(n){const r={callId:this.props.callId,scenarioInfo:t,properties:i};L.default.postUpload([o],e,T.PostSource.DragDrop,!1,r,this._getRootViewType()).then((()=>{t.name===R.ScenarioName.SendPicture&&(h.default.updateCallTelemetry(n,"MediaPicker",(e=>e.postMediaPickerPhotoReaction())),E.default.maybeAnnounceForAccessibility(I.getString("MessageComposer.FileSentLabel")))}))}else{const n={scenarioInfo:t,properties:i};L.default.postUpload([o],e,T.PostSource.DragDrop,!1,n,this._getRootViewType()).then((()=>{E.default.maybeAnnounceForAccessibility(I.getString("MessageComposer.FileSentLabel"))}))}}}_navigateToConversation(e){A.log(T.LogTraceArea.Navigation,"DragAndDropTarget._navigateToConversation, causeId: "+e.causeId),M.default.navigateToConversation(e)}_maybeCreateNewGroupConversation(e){if(!this.props.conversationId)return;const t=(0,y.default)().getConversation(this.props.conversationId),i=t?[...t.getMemberMrisWithoutMe(),e]:[],o=T.NavigationConversationOrigin.DragDropFromConversationToRecentLists,n=V.default.newCauseId();return C.ConversationUtils.createNewGroupConversationFromOneOnOne(i,o).then((e=>{this._navigateToConversation({causeId:n,convId:e,origin:o,isNewConversation:!0})}))}_sendContact(e){if(this._dragAndDropCount=0,!e||!e.skypeId)return;if(!this._isDroppingContactAllowed())return;const{enableContactAddDragAndDrop:t}=p.default.getS4LMessagingFeaturesNoSubscription();if(this.props.conversationId&&!_.isGroupConversation(this.props.conversationId)&&!t)return void this._handleContactDrop(e);const i=this._maybeAddToGroupButton(e);if(i){const t=[{text:I.getString("MessageStream.DragAndDropContactToGroupShareButton"),onPress:()=>this._handleContactDrop(e),textStyle:O.default.font.uiDisplayBold},i,{text:I.getString("Global.CancelLabel"),isCancel:!0}],o=I.getString("MessageStream.DragAndDropContactToGroupChatTitleWithAdd"),n=I.getString("MessageStream.DragAndDropContactToGroupChatConfirmationWithAdd",{displayName:e.fullName});u.default.showWithOptions({title:o,dialogAccessibilityTitle:o,message:n,buttons:t,rootViewId:this._getRootViewId(),useFocussedWindowFallback:!0})}else{let i=I.getString("MessageStream.DragAndDropContactToGroupChatConfirmation",{displayName:e.fullName});const o=I.getString("MessageStream.DragAndDropContactToGroupChatTitle");t&&!e.isS4B&&(i=I.getString("MessageStream.DragAndDropContactToGroupChatConfirmationAlreadyExistingParticipant",{displayName:e.fullName})),u.default.showWithOptions({title:o,dialogAccessibilityTitle:o,message:i,rootViewId:this._getRootViewId(),buttons:[{text:I.getString("Global.ConfirmLabel"),textStyle:O.default.font.uiDisplayBold,onPress:()=>this._handleContactDrop(e)},{text:I.getString("Global.CancelLabel"),isCancel:!0}]})}}onDragDropContinue(e){switch(this._currentDragDropType){case b.DragDropType.FileFromConversationToRecents:e&&(_.isEncryptedThread(e)?this._showCannotSendFileAlert():(this._dragAndDropCount=0,v.default.dropFileFromConversationToRecents(e,void 0,this._fileStringDrop)));break;case b.DragDropType.FileFromDesktop:this._files&&this._isDroppingFileFromDesktopAllowed()&&this.uploadFiles(this._files,e);break;case b.DragDropType.TextOrLink:if(e&&this._textOrLinkDataTransfer){const t=(0,l.handlePaste)(this._textOrLinkDataTransfer,(0,W.getConversationMaxMessageLength)(z.default.isConversationAccepted(e)),!1,!0,(e=>F.default.isUrlValid(e)),!0);(null==t?void 0:t.extractedEntities)&&v.default.dropTextOrLinkToConversation(e,t),A.track(new j.DragAndDropTelemetry(j.DragAction.Drop,j.DragOrigin.Unknown,j.DragType.TextOrLink,j.DropTarget.ConversationListItem))}}}uploadFiles(e,t){this._dragAndDropCount=0;const i=[],o=[],n=this._isMediaPreviewEnabled(t);r.each(e,(e=>{const a=P.default.extractFileExtension(e.name),l={file:e,extension:a};if(P.default.isImageExtension(a))o.push(s.default.getImageSize(F.default.getFileUrl(l)).then((e=>{e&&(l.dimensions=e),i.push(l);const o={name:R.ScenarioName.SendPicture},n=this.props.parentConversationId?g.default.getReactionsThreadPostParams(this.props.parentConversationId):void 0;this._sendFiles(l,o,n,t)})));else if(P.default.isVideoExtension(a))o.push((0,U.captureFrameFromVideo)(URL.createObjectURL(e)).then((o=>{if(o&&o.blob&&o.blob.size>0){const i=o.blob;let a=e.name;const s=e.name.lastIndexOf(".");if(s>0&&(a=a.substring(0,s)+"-thumbnail."+o.extension),r.attempt((()=>i.name=a)),r.attempt((()=>i.lastModifiedDate=new Date(e.lastModified))),l.thumbnail={file:i,extension:o.extension},o.width>=0&&o.height>=0){const e={width:o.width,height:o.height};l.dimensions=e,l.thumbnail.dimensions=e}if(t&&!n){const e={name:R.ScenarioName.SendVideo};L.default.postVideoWithThumbnail([t],l,T.PostSource.DragDrop,!1,e)}}else{const e={name:R.ScenarioName.SendFile};this._sendFiles(l,e,void 0,t)}i.push(l)})));else{if(t){const e={name:R.ScenarioName.SendFile},i=this.props.parentConversationId?g.default.getReactionsThreadPostParams(this.props.parentConversationId):void 0;this._sendFiles(l,e,i,t)}i.push(l)}})),d.all(o).then((()=>{if(t&&n)return x.default.addPreviews(i,t,T.PostSource.DragDrop);A.track(new w.FilesSentViaPicker(this.props.origin,0,!1,r.map(i,(e=>e.extension)))),this.props.onFileDataCallback&&this.props.onFileDataCallback(i)}))}render(){return this._isDroppingAllowed()?(0,n.jsx)(c.View,{ref:this._onContainerRef,style:this.props.style,onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDrop:this._onDragDrop,children:this.props.children}):(0,n.jsx)(c.View,{ref:this._onContainerRef,style:this.props.style,children:this.props.children})}_handleContactDrop(e){this.props.conversationId&&(B.shareContact(e,this.props.conversationId,T.PostSource.DragDrop),A.track(new N.ShareContactsTelemetry(k.ShareContactOrigin.DragAndDrop,this.props.conversationId,e.isPstn?1:0,e.isPstn?0:1,!1)))}requestFocus(){this._container&&this._container.requestFocus()}_isDroppingContactAllowed(){return this.props.conversationId&&!_.isEncryptedThread(this.props.conversationId)&&!_.isS4BBridgeMri(this.props.conversationId)&&this.props.dropTargetSource===b.DropTargetOrigin.MessagePanel}_isDroppingFileFromConversationAllowed(){return this.props.conversationId&&!_.isS4BBridgeMri(this.props.conversationId)&&this.props.dropTargetSource===b.DropTargetOrigin.ConversationListItem}_isDroppingFileFromDesktopAllowed(){return!this.props.conversationId||this.props.conversationId&&!_.isS4BBridgeMri(this.props.conversationId)}_isDroppingAllowed(){return this._isDroppingContactAllowed()||this._isDroppingFileFromConversationAllowed()||this._isDroppingFileFromDesktopAllowed()}_showCannotSendFileAlert(){const e=[{text:I.getString("Global.CancelLabel"),isCancel:!0}],t=I.getString("DragAndDrop.AlertForPrivateConversationDroppingBody");u.default.showWithOptions({title:I.getString("DragAndDrop.AlertForPrivateConversationDroppingTitle"),dialogAccessibilityTitle:t,message:t,buttons:e,rootViewId:this._getRootViewId()})}}t.default=G},694154:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=o.__importDefault(i(150343)),l=i(77395),c=i(26703),d=o.__importDefault(i(797061)),u=o.__importDefault(i(601274)),p=(0,c.lazyProperties)({altViewContainer:()=>r.Styles.createViewStyle({position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"})});class g extends a.ComponentBase{constructor(){super(...arguments),this._loadAltView=()=>{this._altViewLoadTimer=void 0,this.isComponentMounted()&&this.setState({showAltView:!0})},this._loadSucceeded=e=>{const{source:t}=this.props;this._clearAltViewTimer(),t&&(g.loadSucceededImages[t]=!0),this.isComponentMounted()&&this.setState({loadSucceeded:!0,showAltView:!1}),this.props.onLoad&&this.props.onLoad(e)},this._loadErrored=e=>{this._clearAltViewTimer(),this.isComponentMounted()&&this.setState({loadFailed:!0,showAltView:!0}),this.props.onError&&this.props.onError(e)},this._renderAltView=()=>{const{showAltView:e,loadFailed:t}=this.state,{source:i,errorView:o,altView:a}=this.props;if(!!!this.props.showAltViewImmediately){const i=t&&o||a;return e?(0,n.jsx)(r.View,{style:p.altViewContainer,children:i},"altview"):void 0}if(t||!i||!g.loadSucceededImages[i]){const e=t&&o||a,i=()=>{this.setState({showAltView:!1})},s="function"==typeof e?e(i,i):e;return(0,n.jsx)(r.View,{style:p.altViewContainer,children:s},"altview")}},this._gotImageRef=e=>{this._imageRef=e||void 0}}_buildState(e,t){const i=this.props,o=e.showAltView||!e.source,n=!!e.showAltViewImmediately;if(t||e.source!==i.source){const t={loadSucceeded:!1,loadFailed:!1,showAltView:n||o};if(this._clearAltViewTimer(),!n&&e.source){const e=s.default.getS4LUiFeatures().errorSafeImageAltViewDelayMs||100;this._altViewLoadTimer=u.default.setTimeout(this._loadAltView,e)}return t}}_clearAltViewTimer(){this._altViewLoadTimer&&(u.default.clearTimeout(this._altViewLoadTimer),this._altViewLoadTimer=void 0)}_renderImage(){const{source:e}=this.props,{showAltView:t}=this.state,i=!!this.props.showAltViewImmediately;if(!e)return;const o=(0,n.jsx)(d.default,{style:this.props.style,ref:this._gotImageRef,sourceUrl:e,skypeToken:this.props.skypeToken,origin:this.props.origin,resizeMode:this.props.resizeMode,shouldInstrument:this.props.shouldInstrument,telemetryProperties:this.props.telemetryProperties,noRetryOnError:this.props.noRetryOnError,blockUntrustedDomains:this.props.blockUntrustedDomains,onLoad:this._loadSucceeded,onError:this._loadErrored},"image");return i&&t&&!g.loadSucceededImages[e]?void 0:o}render(){const e=this._renderImage(),t=[this._renderAltView(),e,this.props.children];if(this.props.onPress||this.props.onKeyPress){const e=this.props.showHoverEffect?l.HoverableButton:r.Button;return(0,n.jsx)(e,{style:this.props.containerStyle,onPress:this.props.onPress,onKeyPress:this.props.onKeyPress,title:this.props.title,importantForAccessibility:this.props.importantForAccessibility,shouldRasterizeIOS:this.props.shouldRasterizeIOS,tabIndex:this.props.tabIndex,activeOpacity:this.props.activeOpacity,accessibilityLabel:this.props.accessibilityLabel,accessibilityTraits:r.Types.AccessibilityTrait.Button,children:t})}return(0,n.jsx)(r.View,{style:this.props.containerStyle,title:this.props.title,importantForAccessibility:this.props.importantForAccessibility,shouldRasterizeIOS:this.props.shouldRasterizeIOS,tabIndex:this.props.tabIndex,activeOpacity:this.props.activeOpacity,children:t})}getNativeImageSize(){return this._imageRef&&this._imageRef.getNativeImageSize()}}g.loadSucceededImages={},t.default=g},314297:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{themeColors:{iconOnColor:t}}=(0,l.useSkypeTheme)();return(0,n.jsx)(r.Box,{position:"absolute",bottom:15,right:15,children:(0,n.jsx)(a.default,{size:a.ActionButtonSize.FAB,icon:e.icon,iconSize:s.IconSize.size24,iconColor:t,accessibilityLabel:e.accessibilityLabel,reverseGradientColor:!0,onPress:e.onPress})})};const o=i(197582),n=i(785893),r=i(344175),a=o.__importStar(i(187140)),s=i(641400),l=i(206315)},929515:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(77395),s=o.__importDefault(i(970035)),l=i(26703),c=i(641400),d=o.__importDefault(i(827361)),u=i(262725),p=o.__importDefault(i(497910)),g=(0,l.lazyProperties)({pickerChevron:()=>r.Styles.createViewStyle({marginLeft:4,marginTop:2})});class h extends p.default{constructor(){super(...arguments),this._onFocusableComponentRef=e=>{this._focusableElement=e||void 0}}requestFocus(){this.isComponentMounted()&&this._focusableElement&&this._focusableElement.requestFocus&&this._focusableElement.requestFocus()}blur(){this.isComponentMounted()&&this._focusableElement&&this._focusableElement.blur&&this._focusableElement.blur()}render(){const e=[d.default.noncollapsibleView,this.props.style],t=[g.pickerChevron,this.props.chevronStyle],i=[];let o;return this.props.labelMaxWidth&&i.push(r.Styles.createTextStyle({maxWidth:this.props.labelMaxWidth},!1)),this.props.labelColor?i.push(r.Styles.createTextStyle({color:this.props.labelColor},!1)):this._useAccessibleTheme()&&i.push(this._themeStyles.primaryTextColorStyle),o=this.props.useBodyBoldLabel?(0,n.jsx)(u.BodyText,{bold:!0,size:u.BodyTextSize.SmallDeprecated,style:[this._themeStyles.secondaryTextColorStyle,i],numberOfLines:1,children:this.props.label}):(0,n.jsx)(u.Subtitle,{style:i,numberOfLines:1,children:this.props.label}),(0,n.jsxs)(a.HoverableButton,Object.assign({},this.props,{ref:this._onFocusableComponentRef,style:e,accessibilityTraits:[r.Types.AccessibilityTrait.Button,r.Types.AccessibilityTrait.HasPopup],children:[o,(0,n.jsx)(s.default,{icon:c.SkypeIcon.DownChevron,size:c.IconSize.size10,color:this.props.overrideIconColor||this._themeColors.secondaryTextColor,style:t})]}))}}t.default=h},36765:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(217041),l=i(284841),c=i(26703),d=o.__importStar(i(704704)),u=o.__importDefault(i(848633)),p=o.__importDefault(i(924849)),g=o.__importDefault(i(997226)),h=(0,c.lazyProperties)({panel:()=>a.Styles.createViewStyle({flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"}),tileContainer:()=>a.Styles.createViewStyle({padding:2}),scrollView:()=>a.Styles.createScrollViewStyle({flex:1,alignSelf:"stretch"})});class m extends s.ComponentBase{constructor(){super(...arguments),this._mountedRefsMap=new p.default,this._onScroll=(e,t)=>{this.props.onScroll&&this.props.onScroll(e,t)},this._onLayout=e=>{const t=this.props.thumbnailsPerRow||1,i=Math.floor(e.width/t);this.setState({tileSize:i})}}render(){let e=[];const t=r.isUndefined(this.props.thumbnailPadding)?h.tileContainer:a.Styles.createViewStyle({padding:this.props.thumbnailPadding},!1);return this.state.tileSize&&!r.isEmpty(this.props.mediaMessages)&&this.props.mediaMessages[0]instanceof g.default&&(e=(0,l.chain)(this.props.mediaMessages,(0,l.take)(this.props.mediaMessages.length),(0,l.mapWithKey)(((e,i)=>this._getMediaTile(e,i,t))))),(0,n.jsx)(a.ScrollView,{style:[h.scrollView,this.props.style],onScroll:this._onScroll,children:(0,n.jsx)(a.View,{style:this.props.contentStyles,children:(0,n.jsx)(a.View,{style:h.panel,onLayout:this._onLayout,children:e})})})}_getMediaTile(e,t,i){const o=d.getString("Global.CountOfTotal",{count:t+1,total:this.props.mediaMessages.length});return(0,n.jsx)(u.default,{ref:this._mountedRefsMap.onComponentRef(e.cuid),message:e,style:i,height:this.state.tileSize?Math.round(this.state.tileSize):void 0,width:this.state.tileSize,showVideoMediaTypeIcon:this.props.showVideoMediaTypeIcon,showOverlay:this.props.showThumbnailOverlay,showCreator:this.props.showCreatorOnThumbnails,onThumbnailPress:this.props.onGridItemPress,messageActions:this.props.getMessageActions?this.props.getMessageActions(e):void 0,borderRadius:this.props.itemBorderRadius,thumbnailIconsSize:this.props.thumbnailIconsSize,renderOrigin:this.props.renderOrigin,shouldUseMessageAccessibilityLabel:!0,accessibilityLabel:o},e.cuid)}getMediaNode(e){return this._mountedRefsMap.ref(e)}}t.default=m},560099:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenText=t.HiddenAnimatedView=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041);class s extends a.ComponentBase{render(){return(0,n.jsx)(r.View,Object.assign({},this.props,{importantForAccessibility:r.Types.ImportantForAccessibility.NoHideDescendants}))}}t.default=s;class l extends a.ComponentBase{render(){return(0,n.jsx)(r.Animated.View,Object.assign({},this.props,{importantForAccessibility:r.Types.ImportantForAccessibility.NoHideDescendants}))}}t.HiddenAnimatedView=l;class c extends a.ComponentBase{render(){return(0,n.jsx)(r.Text,Object.assign({},this.props,{importantForAccessibility:r.Types.ImportantForAccessibility.NoHideDescendants,children:this.props.children}))}}t.HiddenText=c},77395:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HoverableLink=t.HoverableButton=t.HoverableView=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=i(26703),l=o.__importDefault(i(827361)),c=(0,s.lazyProperties)({hoverStyle:()=>r.Styles.createViewStyle({opacity:.8})});class d extends a.ComponentBase{constructor(){super(...arguments),this._onHoverStart=e=>{this.isComponentMounted()&&(this.props.onHoverStart&&this.props.onHoverStart(e),this.setState({isHovering:!0}))},this._onHoverEnd=e=>{this.isComponentMounted()&&(this.props.onHoverEnd&&this.props.onHoverEnd(e),this.setState({isHovering:!1}))}}requestFocus(){this.isComponentMounted()&&this._focusableElement&&this._focusableElement.requestFocus&&this._focusableElement.requestFocus()}blur(){this.isComponentMounted()&&this._focusableElement&&this._focusableElement.blur&&this._focusableElement.blur()}_baseStyle(){const e=[this.props.style];return this.state.isHovering&&!this.props.disableHoverOpacityStyles&&e.push(c.hoverStyle),e}_baseProps(){return Object.assign(Object.assign({},this.props),{style:this._baseStyle()})}}t.HoverableView=class extends d{constructor(){super(...arguments),this._onFocusableComponentRef=e=>{this._focusableElement=e||void 0}}_baseStyle(){return[super._baseStyle(),this.props.disableCursor?l.default.defaultCursor:l.default.pointerCursor,this.state.isHovering?this.props.hoverStyle:void 0]}render(){return(0,n.jsx)(r.View,Object.assign({},this._baseProps(),{onMouseEnter:this._onHoverStart,onMouseLeave:this._onHoverEnd,ref:this._onFocusableComponentRef,children:this.props.children}))}};t.HoverableButton=class extends d{constructor(){super(...arguments),this._onFocusableComponentRef=e=>{this._focusableElement=e||void 0}}_baseStyle(){return[super._baseStyle(),this.props.disableCursor?l.default.defaultCursor:l.default.pointerCursor,this.state.isHovering?this.props.hoverStyle:void 0]}render(){return(0,n.jsx)(r.Button,Object.assign({},this._baseProps(),{onHoverStart:this.props.onPress?this._onHoverStart:void 0,onHoverEnd:this.props.onPress?this._onHoverEnd:void 0,ref:this._onFocusableComponentRef,children:this.props.children}))}};t.HoverableLink=class extends d{constructor(){super(...arguments),this._onFocusableComponentRef=e=>{this._focusableElement=e||void 0}}_baseStyle(){return[super._baseStyle(),this.state.isHovering?this.props.hoverStyle:void 0]}render(){return(0,n.jsx)(r.Link,Object.assign({},this._baseProps(),{onHoverStart:this._onHoverStart,onHoverEnd:this._onHoverEnd,ref:this._onFocusableComponentRef,children:this.props.children}))}},t.default=d},453761:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(142193)),l=o.__importDefault(i(958868)),c=i(815146),d=i(77395),u=i(970035),p=o.__importStar(i(85385)),g=i(26703),h=(o.__importStar(i(704704)),i(16549)),m=o.__importDefault(i(827361)),S=(0,g.lazyProperties)({text:()=>a.Styles.createViewStyle({flexDirection:"row",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:h.Color.transparent,overflow:"visible"}),shadow:()=>a.Styles.createViewStyle({shadowColor:h.Color.black,shadowOpacity:.7,shadowRadius:2,shadowOffset:{height:0,width:0}}),flippedView:()=>a.Styles.createViewStyle({transform:[{scaleX:-1}]})});class _ extends l.default{constructor(){super(...arguments),this._onHoverStart=e=>{this.props.disabled||this.setState({isHovering:!0}),this.props.onHover&&this.props.onHover(!0)},this._onHoverEnd=e=>{this.setState({isHovering:!1}),this.props.onHover&&this.props.onHover(!1)},this._onContentButtonRef=e=>{this._contentButton=e||void 0}}_buildState(e,t){const i={};return t&&(i.isHovering=!1),i}componentDidMount(){super.componentDidMount(),this.props.accessibilityLabel||this.props.title||p.warn(c.LogTraceArea.GenericUnsafe,"IconButton mounted without an accessibilityLabel or title")}render(){const e=this.state.isHovering&&this.props.hoverColor&&!this.props.disabled?this.props.hoverColor:this.props.color,t=[m.default.alignItemsCenter,this.props.style];this.props.showHoverEffect&&this.state.isHovering&&this.props.hoverStyle&&!this.props.disabled&&t.push(this.props.hoverStyle);const i=[S.text];let o;this.props.showShadow&&i.push(S.shadow),this.props.iconTextStyle&&i.push(this.props.iconTextStyle);const l=this.state.isHovering&&this.props.hoverIcon||this.props.icon;if(l instanceof Array)o=(0,n.jsx)(s.default,{icons:l,iconSize:this.props.size,style:i,color:this.props.color});else if(this.props.renderIcon)o=this.props.renderIcon({icon:l,color:e,size:this.props.size,style:i});else if(this.props.animatedTextStyle){const t=[...i,this.props.animatedTextStyle];o=(0,u.simpleAnimatedIcon)(l,e,this.props.size,t)}else o=(0,u.simpleIcon)(l,e,this.props.size,i);const c=this.props.accessibilityTraits?r.isArray(this.props.accessibilityTraits)?this.props.accessibilityTraits:[this.props.accessibilityTraits]:[a.Types.AccessibilityTrait.Button];let p=this.props.accessibilityLabel||this.props.title;this.props.disabled&&c.push(a.Types.AccessibilityTrait.Disabled),this.props.flipIcon&&(o=(0,n.jsx)(a.View,{style:S.flippedView,children:o}));const g=this.props.toolTip||this.props.title;if(this.props.showHoverEffect||this.props.onPress||this.props.onLongPress||this.props.onPressIn||this.props.onPressOut||this.props.onContextMenu||this.props.onKeyPress){const e=this.props.showHoverEffect?d.HoverableButton:a.Button;return(0,n.jsxs)(e,{style:t,title:g,ref:this._onContentButtonRef,autoFocus:this.props.autoFocus,onPress:this.props.onPress,onPressIn:this.props.onPressIn,onPressOut:this.props.onPressOut,onLongPress:this.props.onLongPress,onContextMenu:this.props.onContextMenu,onHoverStart:this._onHoverStart,onHoverEnd:this._onHoverEnd,onKeyPress:this.props.onKeyPress,disabled:this.props.disabled,onFocus:this.props.onFocus,onBlur:this.props.onBlur,accessibilityLabel:p,accessibilityTraits:c,tabIndex:this.props.tabIndex,disableTouchOpacityAnimation:this.props.disableTouchOpacityAnimation,activeOpacity:this.props.activeOpacity,importantForAccessibility:this.props.importantForAccessibility,disabledOpacity:this.props.disabledOpacity,children:[o,this.props.accessoryView]})}return(0,n.jsxs)(a.View,{title:g,style:t,importantForAccessibility:this.props.importantForAccessibility,children:[o,this.props.accessoryView]})}requestFocus(){this._contentButton&&this._contentButton.requestFocus()}}t.default=_},275184:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(344175),a=i(537180),s=o.__importStar(i(516778)),l=i(262725),c=i(736267),d=i(16549),u=i(26703),p=i(641400),g=o.__importDefault(i(970035)),h=i(623627),m=(0,u.lazyProperties)({hintContainer:()=>s.Styles.createViewStyle({flexDirection:"row",alignSelf:"flex-start",alignItems:"center",overflow:"visible"}),hintIconView:()=>s.Styles.createViewStyle({marginRight:5}),hintTextStyle:()=>s.Styles.createTextStyle({flex:1}),flippedView:()=>s.Styles.createViewStyle({transform:[{scaleX:-1}]})}),S=a.StyleSheet.create({hintContainer:{flexDirection:"row",alignSelf:"flex-start",alignItems:"center",backgroundColor:d.Color.transparent,overflow:"visible"}});t.default=({hintMessage:e,icon:t})=>{const{themeColors:i,isRTL:o}=(0,c.useCommonContext)();let a;return"string"==typeof t?a=(0,n.jsx)(h.AnimatedEmoticon,{size:h.Size.Small,style:[m.hintIconView,o?m.flippedView:{}],isStatic:!0,innerText:t,emoticonName:t,showPlaceHolder:!1,standaloneAnimation:!1}):void 0!==t&&(a=(0,n.jsx)(g.default,{style:[m.hintIconView,o?m.flippedView:{}],color:i.secondaryTextColor,size:p.IconSize.size18,icon:t})),(0,n.jsxs)(r.Row,{style:S.hintContainer,children:[a,(0,n.jsx)(l.Caption,{style:m.hintTextStyle,accessibilityHidden:!0,children:e})]})}},970035:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedIconView=t.IconView=void 0,t.simpleIcon=function(e,t,i,o){return(0,n.jsx)(r.View,{importantForAccessibility:r.Types.ImportantForAccessibility.NoHideDescendants,style:o,children:(0,s.getIcon)(e,i,t)})},t.simpleAnimatedIcon=function(e,t,i,o){return(0,n.jsx)(r.Animated.View,{importantForAccessibility:r.Types.ImportantForAccessibility.NoHideDescendants,style:o,children:(0,s.getIcon)(e,i,t)})},t.ThemedIcon=function(e){var t;const i=d[e.size]||e.size||s.IconSize.default;return e.name?(0,s.getIcon)(e.name,i,null!==(t=e.color)&&void 0!==t?t:"#000000"):null};const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(958868)),s=i(641400);class l extends a.default{constructor(){super(...arguments),this._onContentRef=e=>{this._contentRef=null!=e?e:void 0}}requestFocus(){var e;null===(e=this._contentRef)||void 0===e||e.requestFocus()}render(){const{icon:e,size:t,color:i}=this.props,o=this._isAnimated(),a=o?r.Animated.View:r.View,l=o?void 0:this._onContentRef;return(0,n.jsx)(a,Object.assign({ref:l,importantForAccessibility:r.Types.ImportantForAccessibility.NoHideDescendants},this.props,{children:(0,s.getIcon)(e,t,i)}))}}class c extends l{_isAnimated(){return!1}}t.IconView=c;t.AnimatedIconView=class extends l{_isAnimated(){return!0}};const d={"2xs":s.IconSize.size14,xs:s.IconSize.size16,sm:s.IconSize.size18,md:s.IconSize.size24,lg:s.IconSize.size32};t.default=c},174042:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=i(77395),l=o.__importDefault(i(970035)),c=i(26703),d=o.__importDefault(i(827361)),u=(0,c.lazyProperties)({buttonChildContainer:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",overflow:"visible"}),buttonChildContainerReverse:()=>r.Styles.createViewStyle({flexDirection:"row-reverse"}),titleContainer:()=>r.Styles.createViewStyle({alignItems:"center",justifyContent:"center"})});class p extends a.ComponentBase{constructor(){super(...arguments),this._onContentButtonRef=e=>{this._contentButton=e||void 0}}render(){const e=(0,n.jsx)(r.View,{style:u.titleContainer,children:(0,n.jsx)(r.Text,{style:this.props.titleStyle,children:this.props.title})}),t=(0,n.jsx)(l.default,{icon:this.props.icon,color:this.props.color,size:this.props.size,style:this.props.iconStyle}),i=[u.buttonChildContainer];return this.props.useTrailingIcon&&i.push(u.buttonChildContainerReverse),(0,n.jsx)(s.HoverableButton,{style:[d.default.alignItemsCenter,this.props.style],title:this.props.title,ref:this._onContentButtonRef,autoFocus:this.props.autoFocus,onPress:this.props.onPress,accessibilityLabel:this.props.accessibilityLabel||this.props.title,tabIndex:this.props.tabIndex,importantForAccessibility:this.props.importantForAccessibility,disabled:this.props.disabled,children:(0,n.jsxs)(r.View,{style:i,children:[t,e]})})}requestFocus(){this._contentButton&&this._contentButton.requestFocus()}}t.default=p},452045:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(344175),a=o.__importDefault(i(997996)),s=i(535055),l=o.__importDefault(i(349487));t.default=e=>(0,n.jsxs)(r.ZStack,{flexGrow:1,flexShrink:0,children:[(0,n.jsx)(s.ColorfulGradientOverlay,{}),(0,n.jsx)(a.default,{}),(0,n.jsx)(l.default,Object.assign({},e))]})},349487:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=(o.__importStar(i(667294)),i(344175)),a=i(623627);t.default=({topSlot:e,emoticon:t,bottomSlot:i})=>(0,n.jsxs)(r.Column,{justifyContent:"center",height:"full",children:[(0,n.jsx)(r.Box,{flexGrow:1,flexShrink:0,justifyContent:"center",children:e}),(0,n.jsx)(r.Box,{flexGrow:1,flexShrink:1,alignItems:"center",justifyContent:"center",children:(0,n.jsx)(a.AnimatedEmoticon,{size:a.Size.ExtraExtraLarge,innerText:t,emoticonName:t})}),(0,n.jsx)(r.Box,{flexGrow:1,justifyContent:"center",children:i})]})},45810:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=(o.__importStar(i(667294)),i(344175)),a=i(154235),s=i(262725),l=o.__importStar(i(589640)),c=i(206315),d=i(938827);t.default=({headerText:e,bodyText:t,useThemeHeaderColor:i})=>{const{textOnAccent:o}=(0,c.useSkypeTheme)().themeColors;return(0,n.jsxs)(r.Column,{flex:0,alignItems:"center",justifyContent:"center",space:"size160",marginX:"size320",children:[(0,n.jsx)(r.Box,{flexGrow:1,flexShrink:0,children:(0,n.jsx)(s.Header,{size:a.HeaderSize.h1,style:l.getIllustrationHeaderTextStyle(i?o:d.SkypeColor.blueDarkPrimary),children:e})}),(0,n.jsx)(r.Box,{flexGrow:1,flexShrink:0,children:(0,n.jsx)(s.BodyText,{style:l.styles.bodyTextStyle,textThemeColor:a.TextThemeColor.Secondary,children:t})})]})}},571059:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IllustrationScreenHeader=t.IllustrationScreen=void 0;const o=i(197582);var n=i(452045);Object.defineProperty(t,"IllustrationScreen",{enumerable:!0,get:function(){return o.__importDefault(n).default}});var r=i(45810);Object.defineProperty(t,"IllustrationScreenHeader",{enumerable:!0,get:function(){return o.__importDefault(r).default}})},844086:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardAvoidingView=function(e){var t,i,o;(0,d.useEffect)((()=>{const e=l.Keyboard.addListener("keyboardDidShow",(()=>{g.default.setKeyboardSeen(!0)})),t=l.Keyboard.addListener("keyboardDidHide",(()=>{g.default.setKeyboardSeen(!1)}));return()=>{e.remove(),t.remove()}}),[]);const r=(0,d.useContext)(c.HeaderHeightContext),a=(0,S.useIsFloatingKeyboard)(),s=null!==(t=e.enabled)&&void 0!==t?t:h.default.isUsingStackNavigationContextNoSubscription(),p=null!==(i=e.behavior)&&void 0!==i?i:m.default.getPlatformType()===u.PlatformType.iOS?"padding":void 0;return(0,n.jsx)(l.KeyboardAvoidingView,{behavior:p,style:null!==(o=e.style)&&void 0!==o?o:y.container,enabled:!a&&s,keyboardVerticalOffset:r,children:e.children})};const o=i(197582),n=i(785893),r=o.__importStar(i(149374)),a=(o.__importStar(i(994070)),o.__importStar(i(516778))),s=i(217041),l=i(537180),c=i(919640),d=i(667294),u=i(815146),p=o.__importStar(i(85385)),g=o.__importDefault(i(214295)),h=o.__importDefault(i(942724)),m=(o.__importDefault(i(827361)),o.__importDefault(i(139221))),S=i(720572);class _ extends s.ComponentBase{getViewStyle(){return this.props.style}_handleLayout(e){this.props.onLayout&&this.props.onLayout(e)}}class f extends _{constructor(){super(...arguments),this._viewHeight=0,this._onLayout=e=>{super._handleLayout(e),this._viewHeight=e.height},this._handleKeyboardHidden=e=>{g.default.setUpdateInfo({height:0}),p.log(u.LogTraceArea.KeyboardAwareView,"_handleKeyboardHidden event: NativeKeyboardHeight: 0")},this._handleKeyboardWillShow=e=>{let t;t=e.endCoordinates.screenY>=this._viewHeight||e.endCoordinates.screenY+e.endCoordinates.height<this._viewHeight-10?0:this.state.isUsingStackNavigation?e.endCoordinates.height:this._viewHeight-e.endCoordinates.screenY,a.App.getActivationState()!==a.Types.AppActivationState.Active&&0!==t&&this.state.isUsingStackNavigation||g.default.setUpdateInfo({height:t,duration:e.duration,easing:e.easing})}}_buildState(e,t){return{resizeMode:g.default.getResizeMode(),keyboardUpdateInfo:g.default.getUpdateInfo(),isUsingStackNavigation:h.default.isUsingStackNavigationContext()}}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this._keyboardWillShowSubscription=r.default.onKeyboardEvent(r.VirtualKeyboardEvent.keyboardWillShow,this._handleKeyboardWillShow),this._keyboardDidHideSubscription=r.default.onKeyboardEvent(r.VirtualKeyboardEvent.keyboardDidHide,this._handleKeyboardHidden)}componentWillUnmount(){super.componentWillUnmount(),this._keyboardWillShowSubscription&&this._keyboardWillShowSubscription.remove(),this._keyboardDidHideSubscription&&this._keyboardDidHideSubscription.remove()}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),t.keyboardUpdateInfo!==this.state.keyboardUpdateInfo&&t.resizeMode===r.KeyboardAwareResizeMode.Default&&r.default.onKeyboardLayoutAnimation(t.keyboardUpdateInfo)}getViewStyle(){const e=[super.getViewStyle()];return this.state.resizeMode===r.KeyboardAwareResizeMode.Default&&e.push(this._getPoppedKeyboardStyle(this.state.keyboardUpdateInfo.height)),e}_getPoppedKeyboardStyle(e){return f._styleCache[e]||(f._styleCache[e]=a.Styles.createViewStyle({paddingBottom:e},!1)),f._styleCache[e]}render(){return(0,n.jsx)(a.View,Object.assign({},this.props,{onLayout:this._onLayout,style:this.getViewStyle(),children:this.props.children}))}}f._styleCache={};t.default=class extends _{render(){return(0,n.jsx)(a.View,Object.assign({},this.props,{style:this.getViewStyle(),children:this.props.children}))}};const y=l.StyleSheet.create({container:{flex:1}})},5477:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibleLink=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(675952),s=i(231322);t.AccessibleLink=e=>{const{colorAccentStyle:t}=(0,a.useLinkTextColorStyles)(e.hasFixedColors),i=(0,s.useOnClick)(e.url,e.onPress),o=r.Styles.combine(e.style,t);return(0,n.jsx)(r.Link,Object.assign({},e,{style:o,url:e.url,title:e.title,onPress:i,children:e.children}))}},680338:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Link=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(667294),s=i(121316),l=i(675952),c=i(231322);t.Link=e=>{const[t,i]=(0,a.useState)(!1),o=(0,a.useCallback)((()=>i(!0)),[i]),d=(0,a.useCallback)((()=>i(!1)),[i]),{colorAccentStyle:u}=(0,l.useLinkTextColorStyles)(e.hasFixedColors),{hoveredStyle:p}=(0,s.useHoverTextStyles)(t),g=(0,c.useOnClick)(e.url,e.onPress,e.onError),h=r.Styles.combine(u,p),m=r.Styles.combine(e.style,h);return(0,n.jsx)(r.Link,Object.assign({},e,{style:m,url:e.url,title:e.title,onPress:g,onHoverStart:o,onHoverEnd:d,children:e.children}))}},483753:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibleLink=t.Link=void 0;var o=i(680338);Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return o.Link}});var n=i(5477);Object.defineProperty(t,"AccessibleLink",{enumerable:!0,get:function(){return n.AccessibleLink}})},121316:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useHoverTextStyles=function(e){return(0,r.useRXStyles)((()=>({hoveredStyle:e?a.textLinkUnderline:void 0})),[e])};const o=i(197582).__importStar(i(516778)),n=i(26703),r=i(964414),a=(0,n.lazyProperties)({textLinkUnderline:()=>o.Styles.createTextStyle({textDecorationLine:"underline"})})},675952:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useLinkTextColorStyles=function(e){return(0,n.useRXStyles)((t=>({colorAccentStyle:o.Styles.createTextStyle({color:e?t.themeColors.textAccentFixed:t.themeColors.textInteractive},!1)})),[e])};const o=i(197582).__importStar(i(516778)),n=i(964414)},231322:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useOnClick=void 0;const o=i(197582),n=i(667294),r=o.__importStar(i(516778)),a=i(167606),s=i(82485);t.useOnClick=(e,t,i)=>(0,n.useCallback)((()=>{null==t||t(),e?r.Linking.openUrl(e).fail((e=>i&&i(e))):s.Instrumentation.log(a.LogTraceArea.Navigation,"useOnClick: url is empty string")}),[e,t])},11252:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(970035)),l=i(26703),c=o.__importStar(i(704704)),d=o.__importDefault(i(252089)),u=i(16549),p=i(641400),g=o.__importStar(i(179582)),h=o.__importDefault(i(497910)),m=(0,l.lazyProperties)({selectionToggle:()=>a.Styles.createViewStyle({flex:0,alignSelf:"center",width:24,height:24,borderRadius:12,borderWidth:1,borderStyle:"solid",marginRight:10,alignItems:"center",justifyContent:"center"}),selectionToggleOn:()=>a.Styles.createViewStyle({borderColor:u.Color.transparent}),iconPadding:()=>a.Styles.createViewStyle({padding:6})});class S extends h.default{constructor(){super(...arguments),this._getTickColor=()=>this.props.disable&&!this._useAccessibleTheme()?this._themeColors.strokeDisabled:this._themeColors.iconOnColor,this._getToggleColorStyles=()=>this.props.disable?a.Styles.createViewStyle({backgroundColor:this._themeColors.surfacePrimary,borderColor:this._themeColors.strokeDisabled},!1):this._useAccessibleTheme()?a.Styles.createViewStyle({backgroundColor:this.state.checked?this._themeColors.strokePrimary:this._themeColors.surfacePrimary,borderWidth:this.state.checked?0:1,borderColor:this._themeColors.dividerPrimary},!1):a.Styles.createViewStyle({backgroundColor:this.state.checked?this._themeColors.surfaceInteractive:this._themeColors.surfacePrimary,borderWidth:this.state.checked?0:1,borderColor:this._themeColors.strokePrimary},!1)}_buildState(e,t){const i={primaryColor:e.disable?this._themeColors.disabledTextColor:e.selectionColor||d.default.getPrimaryColor()||u.Color.blue};return t&&(this._toggleBackgroundColorValue=new a.Animated.Value(e.isOn?1:0),i.checked=e.isOn),i}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),this.props.isOn!==e.isOn){this.props.isOn||this.setState({checked:!1});const e=()=>{this.props.isOn&&this.isComponentMounted()&&this.setState({checked:!0})};this.props.disableSelectionAnimation?(this._toggleBackgroundColorValue.setValue(this.props.isOn?1:0),e()):a.Animated.timing(this._toggleBackgroundColorValue,{toValue:this.props.isOn?1:0,duration:250,easing:a.Animated.Easing.Linear()}).start((()=>{e()}))}}render(){let e=this.props.falseLabel||c.getString("ToggleSwitch.OffText");this.props.isOn&&(e=this.props.trueLabel||c.getString("ToggleSwitch.OnText"));const t=g.okIcon(),i=r.isUndefined(this.props.importantForAccessibility)||this.props.importantForAccessibility===a.Types.ImportantForAccessibility.Yes;return(0,n.jsx)(a.Animated.View,{style:[this._getToggleStyles(),this.props.style],accessibilityLabel:i?e:void 0,importantForAccessibility:this.props.importantForAccessibility,children:(0,n.jsx)(s.default,{icon:this.state.checked?t:p.SkypeIcon.Blank,size:p.IconSize.size14,color:this._getTickColor(),style:m.iconPadding})})}_getToggleStyles(){return[m.selectionToggle,this._getToggleColorStyles()]}}t.default=S},594365:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(612285)),s=i(26703),l=o.__importDefault(i(601274)),c=o.__importDefault(i(20758)),d=o.__importDefault(i(503411)),u=o.__importDefault(i(958868)),p=i(262725),g=(0,s.lazyProperties)({containerRounded:()=>r.Styles.createViewStyle({position:"absolute",bottom:0,left:0,right:0,flexDirection:"row",height:130,justifyContent:"center",alignItems:"flex-end"}),barButton:()=>r.Styles.createButtonStyle({bottom:0,left:0,right:0,height:30}),contentContainer:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:25,height:30,borderRadius:15}),actionLabelText:()=>r.Styles.createTextStyle({textDecorationLine:"underline",marginLeft:10})});class h extends u.default{constructor(){super(...arguments),this._toastId=0,this._verticalAnimatedValue=new r.Animated.Value(130),this._verticalAnimatedStyle=r.Styles.createAnimatedViewStyle({transform:[{translateY:this._verticalAnimatedValue}]}),this._onMouseEnter=()=>{this._hideToastTimerId&&(l.default.clearTimeout(this._hideToastTimerId),this.setState({isHovered:!0}))},this._onMouseLeave=()=>{this.state.currentMessage&&(this.setState({isHovered:!1}),this._hideToast(this.state.currentMessage.params.duration||0,this.state.currentMessage.params.key))},this._onShowToast=(e,t)=>{this.isComponentMounted()&&this._recalcDisplay(e,t)},this._onTapDismiss=()=>{const e=this.state.currentMessage?this.state.currentMessage.params:void 0;e&&e.onPress&&e.onPress(),this._hideToast(0,e?e.key:void 0)}}_recalcDisplay(e,t){if(this.state.currentMessage!==e){const i=e&&e.params.rootViewId&&e.params.rootViewId!==this._getRootViewId()?void 0:e;this.setState({currentMessage:i},(()=>{i&&this._showToast(0,t)}))}else this._hideToast(0,e?e.params.key:void 0)}_buildState(e,t){const i={isNavigatingWithKeyboard:a.default.isNavigatingWithKeyboard()};return t&&(i.currentMessage=void 0,i.isToastHidden=!0),i}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),d.default.showToastEvent.subscribe(this._onShowToast)}componentWillUnmount(){super.componentWillUnmount(),d.default.showToastEvent.unsubscribe(this._onShowToast)}_renderOptionalActionLabel(){if(!this.state.currentMessage||!this.state.currentMessage.params.actionLabel)return null;const e=r.Styles.combine([g.actionLabelText,c.default.font.uiDisplayBold]);return(0,n.jsx)(r.Text,{style:e,children:this.state.currentMessage.params.actionLabel})}render(){if(!this.state.currentMessage)return null;const e=this._renderOptionalActionLabel(),t=[g.containerRounded];this.props.leftOffset&&t.push(r.Styles.createViewStyle({left:this.props.leftOffset},!1));const i=r.Styles.createTextStyle({color:this.state.isHovered&&this._getContext().mode.isDark?this._getContext().themeColors.textPrimary:this._getContext().themeColors.textOnColor},!1),o=r.Styles.combine(g.contentContainer,r.Styles.createViewStyle({backgroundColor:this.state.isHovered&&this._getContext().mode.isDark?this._getContext().themeColors.surfacePrimary:this._getContext().themeColors.surfaceInteractive,borderWidth:this.state.isHovered&&this._getContext().mode.isDark?1:0,borderColor:this._getContext().themeColors.strokePrimary},!1));return(0,n.jsx)(r.View,{style:t,ignorePointerEvents:!0,children:(0,n.jsx)(r.Animated.View,{style:this._verticalAnimatedStyle,children:(0,n.jsx)(r.Button,{style:g.barButton,onPress:this._onTapDismiss,disabled:this.state.isToastHidden,disabledOpacity:1,children:(0,n.jsx)(r.View,{style:o,accessibilityLiveRegion:r.Types.AccessibilityLiveRegion.Assertive,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,children:(0,n.jsxs)(p.Caption,{style:i,children:[this.state.currentMessage.params.textMessage,undefined,e]})})})})})}_showToast(e,t){const i=this.state.currentMessage;if(!i)return;this._toastId++,this._hideToastTimerId&&l.default.clearTimeout(this._hideToastTimerId),this._showToastTimerId&&l.default.clearTimeout(this._showToastTimerId);const o=this._toastId,n=-1*(t||10);this._showToastTimerId=l.default.setTimeout((()=>{this.isComponentMounted()&&r.Animated.timing(this._verticalAnimatedValue,{toValue:n,easing:r.Animated.Easing.Out(),duration:250,isInteraction:!1}).start((()=>{this.isComponentMounted()&&this._toastId===o&&(this.state.currentMessage&&r.Accessibility.announceForAccessibility(this.state.currentMessage.params.accessibilityLabel||this.state.currentMessage.params.textMessage),this.setState({isToastHidden:!1}),this._hideToast(this._getToastTimeout(i.params.duration),i.params.key))}))}),e)}_hideToast(e,t){this._hideToastTimerId&&l.default.clearTimeout(this._hideToastTimerId),this._hideToastTimerId=l.default.setTimeout((()=>{this.isComponentMounted()&&r.Animated.timing(this._verticalAnimatedValue,{toValue:130,easing:r.Animated.Easing.Out(),duration:200,isInteraction:!1}).start((e=>{d.default.toastDismissed(t),e.finished&&this.isComponentMounted()&&this.setState({isToastHidden:!0})}))}),e)}_getToastTimeout(e){return this.state.isNavigatingWithKeyboard?1e4:e||3e3}}t.default=h},159001:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PageIndicator=t.PageIndicatorFillStyle=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(859745)),s=o.__importStar(i(516778)),l=i(217041),c=i(26703),d=i(16549);var u;!function(e){e[e.Filled=0]="Filled",e[e.Unfilled=1]="Unfilled"}(u||(t.PageIndicatorFillStyle=u={}));const p=(0,c.lazyProperties)({parentContainer:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center"}),containerReversed:()=>s.Styles.createViewStyle({flexDirection:"row-reverse"}),indicatorDot:()=>s.Styles.createViewStyle({width:16,height:16,borderRadius:8,marginHorizontal:3,backgroundColor:d.Color.white}),unfilledIndicatorStyle:()=>s.Styles.createViewStyle({backgroundColor:"transparent",borderColor:"white",borderWidth:1.5})});class g extends l.ComponentBase{constructor(){super(...arguments),this._indicatorsAnimateLeftValue=new s.Animated.Value(0),this._indicatorsAnimateStyle=s.Styles.createAnimatedViewStyle({transform:[{translateX:this._indicatorsAnimateLeftValue}]}),this._indicatorsAnimateRightValue=new s.Animated.Value(0),this._indicatorsAnimateRTLStyle=s.Styles.createAnimatedViewStyle({right:this._indicatorsAnimateRightValue})}_buildState(e,t){const i={currentPage:e.currentPage},o=e.indicatorDotSize?e.indicatorDotSize:16,n=e.indicatorMargin?e.indicatorMargin:3;e.indicatorDotSize||e.indicatorMargin?(i.indicatorStyle=s.Styles.createViewStyle({width:o,height:o,borderRadius:o/2,marginHorizontal:n,backgroundColor:e.indicatorColor||d.Color.white},!1),i.selectedIndicatorStyle=s.Styles.createViewStyle({width:o,height:o,borderRadius:o/2,marginHorizontal:n,backgroundColor:e.selectedIndicatorColor||d.Color.white},!1)):(i.indicatorStyle=p.indicatorDot,i.selectedIndicatorStyle=p.indicatorDot,e.indicatorColor&&(i.indicatorStyle=[i.indicatorStyle,s.Styles.createViewStyle({backgroundColor:e.indicatorColor},!1)]),e.selectedIndicatorColor&&(i.selectedIndicatorStyle=[i.selectedIndicatorStyle,s.Styles.createViewStyle({backgroundColor:e.selectedIndicatorColor},!1)]));const a=r.size(e.pages);if(e.maxIndicators&&e.maxIndicators<a){const r=o+2*n;i.innerContainerStyle=s.Styles.createViewStyle({flexDirection:"row",maxWidth:e.maxIndicators*r,backgroundColor:d.Color.transparent},!1);const l=this.props,c=this.state;if(t)i.indicatorStartIndex=e.currentPage-Math.ceil(e.maxIndicators/2),i.indicatorStartIndex<0?i.indicatorStartIndex=0:i.indicatorStartIndex+e.maxIndicators>=a&&(i.indicatorStartIndex=a-e.maxIndicators),this._scrollIndicators(!1,e,i.indicatorStartIndex);else if(l.currentPage!==e.currentPage){const t=c.indicatorStartIndex||0,o=l.maxIndicators||e.maxIndicators;if(e.currentPage===c.indicatorStartIndex||e.currentPage===t+o-1)l.currentPage<e.currentPage&&t+o<a?i.indicatorStartIndex=t+1:l.currentPage>e.currentPage&&t>0&&(i.indicatorStartIndex=t-1);else if(e.currentPage<t||e.currentPage>t+o){const t=a-e.maxIndicators;i.indicatorStartIndex=Math.min(e.currentPage,t)}}}else i.innerContainerStyle=void 0;return i}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),this.state.indicatorStartIndex!==t.indicatorStartIndex&&this._scrollIndicators(!0,e,t.indicatorStartIndex||0)}_scrollIndicators(e,t,i){const o=t.indicatorMargin||3,n=t.indicatorDotSize||16,s=t.maxIndicators||10,l=n+2*o,c=i>0?-1*i*l:0;if(t.reverseOrder){const i=r.size(t.pages)-s*l;e?a.timing.easeOut({value:this._indicatorsAnimateRightValue,toValue:c+i,duration:a.Common.Duration.Tiny}).start():this._indicatorsAnimateRightValue.setValue(c+i)}else e?a.timing.easeOut({value:this._indicatorsAnimateLeftValue,toValue:c,duration:a.Common.Duration.Tiny,useNativeDriver:!0}).start():this._indicatorsAnimateLeftValue.setValue(c)}_renderIndicator(e,t){const i=t===this.state.currentPage;return(0,n.jsx)(h,{index:t,selected:i,minOpacity:e.minOpacity?e.minOpacity:.7,minIndicatorScale:this.props.minIndicatorScale,indicatorStyle:i?this.state.selectedIndicatorStyle:this.state.indicatorStyle,indicatorFillStyle:e.indicatorFillStyle},e.uid)}updateCurrentPage(e){this.isComponentMounted()&&e!==this.state.currentPage&&this.setState({currentPage:e})}render(){const e=[];r.each(this.props.pages,((t,i)=>{e.push(this._renderIndicator(t,i))}));const t=[this.props.style];if(t.push(p.parentContainer),this.props.reverseOrder&&!this.state.innerContainerStyle&&t.push(p.containerReversed),this.state.innerContainerStyle){const i=this.props.reverseOrder?[this._indicatorsAnimateRTLStyle]:[this._indicatorsAnimateStyle];return(0,n.jsx)(s.View,{style:t,blockPointerEvents:this.props.blockPointerEvents,ignorePointerEvents:this.props.ignorePointerEvents,children:(0,n.jsx)(s.View,{style:this.state.innerContainerStyle,children:(0,n.jsx)(s.Animated.View,{style:[i,t],children:e})})})}return(0,n.jsx)(s.View,{style:t,blockPointerEvents:this.props.blockPointerEvents,ignorePointerEvents:this.props.ignorePointerEvents,children:e})}}t.PageIndicator=g;class h extends l.ComponentBase{constructor(){super(...arguments),this._scaleAnimatedValue=new s.Animated.Value(.4),this._opacityValue=new s.Animated.Value(this.props.minOpacity),this._scaleAnimatedStyle=s.Styles.createAnimatedViewStyle({transform:[{scale:this._scaleAnimatedValue}],opacity:this._opacityValue})}componentDidMount(){super.componentDidMount(),this._updateIndicator(!1)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.props.selected===e.selected&&this.props.minOpacity===e.minOpacity||this._updateIndicator(!0)}_updateIndicator(e){const t=this.props.selected?1:this.props.minIndicatorScale||.4,i=this.props.selected?1:this.props.minOpacity;e?a.parallel([a.timing.easeOut({value:this._scaleAnimatedValue,toValue:t,duration:a.Common.Duration.Tiny,useNativeDriver:true}),a.timing.easeOut({value:this._opacityValue,toValue:i,duration:a.Common.Duration.Tiny,useNativeDriver:true})]).start():(this._scaleAnimatedValue.setValue(t),this._opacityValue.setValue(i))}render(){const e=[];return this.props.indicatorStyle&&e.push(this.props.indicatorStyle),this.props.indicatorFillStyle===u.Unfilled&&e.push(p.unfilledIndicatorStyle),e.push(this._scaleAnimatedStyle),(0,n.jsx)(s.Animated.View,{style:e})}}t.default=g},211618:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=o.__importStar(i(496486)),s=o.__importStar(i(516778)),l=i(315742),c=o.__importDefault(i(341714)),d=i(154235),u=o.__importDefault(i(543915)),p=o.__importDefault(i(958868)),g=i(815146),h=o.__importStar(i(85385)),m=o.__importDefault(i(114818)),S=o.__importDefault(i(670363)),_=o.__importDefault(i(117475)),f=o.__importDefault(i(655192)),y=o.__importDefault(i(827361)),C=o.__importDefault(i(601274)),v=i(26703),b=i(641400),T=i(16549),P={x:15,y:15},k=b.IconSize.size24,A=(0,v.lazyProperties)({arrowContainer:()=>s.Styles.createViewStyle({width:k,height:k,position:"absolute"})}),I=({anchorInfo:e,popupX:t=0,popupY:i=0,anchorPosition:o,popupHeight:a,arrowColor:c=T.Color.blackOverlay50})=>{const d=(({anchorInfo:e,popupX:t,popupY:i,anchorPosition:o,popupHeight:n=0})=>{const a=null==e?void 0:e.x,c=null==e?void 0:e.y,d=null==e?void 0:e.width,u=null==e?void 0:e.height;return(0,r.useMemo)((()=>{if(void 0!==a&&void 0!==t&&void 0!==d&&void 0!==c&&void 0!==i&&void 0!==u)switch(o){case l.PopupAnchorPositon.Top:{const e=a-t+d/2-k/2,i=-k;return s.Styles.createViewStyle({left:e,bottom:i},!1)}case l.PopupAnchorPositon.Bottom:{const e=a-t+d/2-k/2,i=-k,o=[{scaleY:-1}];return s.Styles.createViewStyle({left:e,top:i,transform:o},!1)}case l.PopupAnchorPositon.Right:{const e=Math.max(0,n/2-k/2),t=-k,i=[{rotate:90}];return s.Styles.createViewStyle({left:t,top:e,transform:i},!1)}case l.PopupAnchorPositon.Left:{const e=Math.max(0,n/2-k/2),t=-k,i=[{rotate:-90}];return s.Styles.createViewStyle({right:t,top:e,transform:i},!1)}default:return}}),[a,c,d,u,t,i,o,n])})({anchorPosition:o,popupX:t,popupY:i,anchorInfo:e,popupHeight:a});return d?(0,n.jsx)(s.View,{ignorePointerEvents:!0,style:[A.arrowContainer,d],children:(0,b.getIcon)(b.SkypeIcon.Nub,b.IconSize.size24,c,{viewBox:"0 0 24 6",width:k,height:6})}):null};class w extends p.default{constructor(){super(...arguments),this._animatedOpacityValue=new s.Animated.Value(0),this._animatedTranslateYValue=new s.Animated.Value(0),this._animatedTranslateXValue=new s.Animated.Value(0),this._animatedTranslateYStyle=s.Styles.createAnimatedViewStyle({transform:[{translateY:this._animatedTranslateYValue}]}),this._animatedTranslateXStyle=s.Styles.createAnimatedViewStyle({transform:[{translateX:this._animatedTranslateXValue}]}),this._animatedOpacityStyle=s.Styles.createAnimatedViewStyle({opacity:this._animatedOpacityValue}),this._onContainerViewRef=e=>{this._popupContainerView=e||void 0}}_buildState(e,t){const i=_.default.horizontalInsets(d.HorizontalInsetDefault);if(t){let t=!1;if(e.getAnchorInfo){const i=e.getAnchorInfo();t=!!i&&!!i.hidden}return{isMeasuringPopup:!0,anchorOffset:0,popupY:0,popupX:0,popupWidth:0,popupHeight:0,constrainedPopupWidth:0,constrainedPopupHeight:0,anchorHidden:t,safeAreaInsets:i}}return{safeAreaInsets:i}}componentDidMount(){super.componentDidMount(),h.log(g.LogTraceArea.CoachMarks,"PopupContainer.componentDidMount"),this.props.disablePositionAnimation&&(this._animatedTranslateYValue.setValue(0),this._animatedTranslateXValue.setValue(0)),this._recalcPosition(),this.props.timeoutMs&&(this._dismissalTimeout=C.default.setTimeout((()=>{this._dismissPopup(this.props.animateDismissal)}),this.props.timeoutMs))}UNSAFE_componentWillUpdate(e,t,i){if(super.UNSAFE_componentWillUpdate(e,t,i),t.anchorPosition!==this.state.anchorPosition)if(e.disablePositionAnimation)this._animatedTranslateYValue.setValue(0),this._animatedTranslateXValue.setValue(0);else{let i=t.anchorPosition;e.getAnimationDirection&&(i=e.getAnimationDirection(t.anchorHidden)),this._positionPopupForPresentation(i)}}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),!this.state.isMeasuringPopup&&t.isMeasuringPopup&&this._presentPopup()}componentWillUnmount(){super.componentWillUnmount(),this._dismissalTimeout&&this._dismissPopup()}updatePosition(e){e&&e.rect&&this.state.popupHeight&&this.state.popupWidth?this._recalcPositionFromLayoutData(e.rect,{width:this.state.popupWidth,height:this.state.popupHeight},!!e.hidden):this._recalcPosition(e)}dismiss(e=!1){this._dismissPopup(e)}render(){var e,t,i,o,r,a,c,d,u;const{showArrow:p,arrowColor:g,leftMargin:h,rightMargin:m}=this.props,S=this.props.heightOverride||this.state.popupHeight,_=this.state.anchorPosition||l.PopupAnchorPositon.Bottom,f=this.props.renderPopup(_,this.state.anchorOffset||0,this.state.constrainedPopupWidth||0,this.state.constrainedPopupHeight||0,this.state.anchorHidden);if(this.props.shareContainerLayoutInfo){const n={width:null!==(e=this.state.popupWidth)&&void 0!==e?e:0,height:null!==(t=this.state.popupHeight)&&void 0!==t?t:0,x:(null!==(i=this.state.popupX)&&void 0!==i?i:0)+(null!==(o=this.props.containerOffsetX)&&void 0!==o?o:0),y:(null!==(r=this.state.popupY)&&void 0!==r?r:0)+(null!==(a=this.props.containerOffsetY)&&void 0!==a?a:0)};this.props.shareContainerLayoutInfo(n)}const C=this._getContext().isRTL,v=this.props.leftMargin&&this.props.rightMargin?s.Styles.createViewStyle({position:"absolute",top:this.state.popupY,right:C?h:m,left:C?m:h,overflow:"visible"},!1):s.Styles.createViewStyle({position:"absolute",top:this.state.popupY,right:C?this.state.popupX:void 0,left:C?void 0:this.state.popupX,alignItems:"flex-start",alignSelf:"flex-start",overflow:"visible",width:this.props.widthOverride,height:this.props.heightOverride},!1);return(0,n.jsx)(s.Animated.View,{accessibilityTraits:s.Types.AccessibilityTrait.Dialog,ref:this._onContainerViewRef,style:[v,this._animatedTranslateYStyle],blockPointerEvents:!this.props.allowTaps,ignorePointerEvents:this.props.ignorePointerEvents,importantForAccessibility:this.props.preventFocus?s.Types.ImportantForAccessibility.NoHideDescendants:void 0,children:(0,n.jsx)(s.Animated.View,{style:[y.default.overflowVisible,this._animatedTranslateXStyle],ignorePointerEvents:this.props.ignorePointerEvents,children:(0,n.jsxs)(s.Animated.View,{style:[y.default.overflowVisible,this._animatedOpacityStyle],ignorePointerEvents:this.props.ignorePointerEvents,children:[f,p&&(0,n.jsx)(I,{anchorPosition:this.state.anchorPosition,anchorInfo:null===(u=null===(d=(c=this.props).getAnchorInfo)||void 0===d?void 0:d.call(c))||void 0===u?void 0:u.rect,popupX:this.state.popupX,popupY:this.state.popupY,popupHeight:S,arrowColor:g})]})})})}_animationPosition(e,t){let i;switch(i=this.props.animationConfig?t?this.props.animationConfig.dismissOffset||P:this.props.animationConfig.presentOffset||P:P,e){case l.PopupAnchorPositon.Left:return{x:-1*i.x,y:0};case l.PopupAnchorPositon.Right:return{x:i.x,y:0};case l.PopupAnchorPositon.Top:return{x:0,y:i.y};default:case l.PopupAnchorPositon.Bottom:return{x:0,y:-1*i.y}}}_positionPopupForPresentation(e){const t=this._animationPosition(e,!1);this._animatedTranslateXValue.setValue(t.x),this._animatedTranslateYValue.setValue(t.y)}_presentPopup(){this._animatePopup({x:0,y:0},1)}_dismissPopupWithAnimation(e,t){this._animatePopup(this._animationPosition(e,!0),0,t)}_animatePopup(e,t,i){const o=this.props.animationConfig&&this.props.animationConfig.duration?this.props.animationConfig.duration:200,n=this.props.animationConfig&&this.props.animationConfig.easing?this.props.animationConfig.easing:s.Animated.Easing.OutBack();s.Animated.parallel([S.default.timing(this._animatedOpacityValue,{toValue:t,duration:o/2,easing:s.Animated.Easing.Out(),useNativeDriver:!0}),S.default.timing(this._animatedTranslateYValue,{toValue:e.y,duration:o,easing:n,useNativeDriver:!0}),S.default.timing(this._animatedTranslateXValue,{toValue:e.x,duration:o,easing:n,useNativeDriver:!0})]).start(i)}_recalcPosition(e){if(!this.isComponentMounted())return;const t=(e,t=!1)=>{var i,o;const n=a.clone(e);null===(o=(i=this.props).shareAnchorLayoutInfo)||void 0===o||o.call(i,e),this.props.containerOffsetX&&(n.x-=this.props.containerOffsetX),this.props.containerOffsetY&&(n.y-=this.props.containerOffsetY),this.isComponentMounted()&&this._popupContainerView&&(this.state.popupWidth&&this.state.popupHeight?this._recalcPositionFromLayoutData(n,{width:this.state.popupWidth,height:this.state.popupHeight},t):u.default.measureLayoutRelativeToWindow((()=>this._popupContainerView)).then((e=>{this.isComponentMounted()&&this._recalcPositionFromLayoutData(n,e,t)}),(e=>{h.warn(g.LogTraceArea.CoachMarks,"Container not measured: "+f.default.errorAsString(e))})))};let i,o;if(e&&e.rect)i=e.rect,o=!!e.hidden;else{const e=this.props.getAnchorInfo?this.props.getAnchorInfo():void 0;if(e&&e.rect)i=e.rect,o=!!e.hidden;else if(this.props.getAnchorElement)return void a.defer((()=>{if(this.props.getAnchorElement){const e=this.props.getAnchorElement();this.isComponentMounted()&&e&&u.default.measureLayoutRelativeToWindow(this.props.getAnchorElement).then(t,(e=>{h.warn(g.LogTraceArea.CoachMarks,"Anchor not measured: "+f.default.errorAsString(e))}))}}))}a.defer((()=>t(i,o)))}_recalcPositionFromLayoutData(e,t,i=!1){if(t&&t.width>0&&t.height>0){if(!(e&&e.width>0&&e.height>0))return void this._dismissPopup();const o=a.extend({},this.state);o.anchorHidden=i,o.isMeasuringPopup&&(o.isMeasuringPopup=!1,o.popupWidth=t.width,o.popupHeight=t.height);const n=this.props.getPopupPositions?this.props.getPopupPositions(i):void 0,r=this.props.leftMargin&&this.props.rightMargin?this.props.leftMargin:void 0,s=c.default.popupPosition(e,o.safeAreaInsets,o.popupWidth||0,o.popupHeight||0,n,this._getRootViewId(),r);s&&(o.popupY=s.popupTop,o.popupX=s.popupLeft,o.anchorOffset=s.anchorOffset,o.anchorPosition=s.anchorPosition,o.constrainedPopupWidth=s.constrainedPopupWidth,o.constrainedPopupHeight=s.constrainedPopupHeight),(0,m.default)(o,this.state)||this.setState(o)}}_dismissPopup(e=!1){if(h.log(g.LogTraceArea.CoachMarks,"PopupContainer._dismissPopup, animated: "+e),this._stopDismissalTimeout(),e){let e=this.state.anchorPosition;this.props.getAnimationDirection&&(e=this.props.getAnimationDirection(this.state.anchorHidden)),this._dismissPopupWithAnimation(e,this.props.onDismissPopup)}else this.props.onDismissPopup&&this.props.onDismissPopup()}_stopDismissalTimeout(){this._dismissalTimeout&&(C.default.clearTimeout(this._dismissalTimeout),this._dismissalTimeout=void 0)}}t.default=w},250139:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrefetchedImage=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=o.__importDefault(i(296114)),l=i(419585),c=o.__importDefault(i(84530));class d extends a.ComponentBase{_buildState(e,t){return{prefetchState:c.default.getImagePrefetchState(e.source,!0,t)}}shouldComponentUpdate(e,t){return!s.default.comparator(this.props,e)||!s.default.comparator(this.state,t)&&(this.state.prefetchState!==l.ImagePrefetchState.None||t.prefetchState!==l.ImagePrefetchState.Prefetching)}render(){switch(this.state.prefetchState){case l.ImagePrefetchState.Prefetched:return(0,n.jsx)(r.Image,Object.assign({},this.props));case l.ImagePrefetchState.None:case l.ImagePrefetchState.Prefetching:return this.props.altView(this.props.config)||null;case l.ImagePrefetchState.Failed:return this.props.errorView(this.props.config)||null}}}t.PrefetchedImage=d},797533:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrimaryButton=void 0;const o=i(197582),n=i(785893),r=i(854646),a=o.__importStar(i(859745)),s=o.__importStar(i(516778)),l=o.__importDefault(i(340724)),c=i(154235),d=o.__importDefault(i(970035)),u=i(26703),p=o.__importDefault(i(252089)),g=o.__importDefault(i(799585)),h=o.__importDefault(i(692752)),m=i(16549),S=o.__importDefault(i(20758)),_=i(641400),f=o.__importDefault(i(827361)),y=i(262725),C=(0,u.lazyProperties)({centeredText:()=>s.Styles.createTextStyle({textAlign:"center"}),backgroundPadding:()=>s.Styles.createViewStyle({paddingLeft:25,paddingRight:25}),backgroundStyleStroke:()=>s.Styles.createViewStyle({borderWidth:1}),titleStyleDarkText:()=>s.Styles.createTextStyle({color:m.Color.gray400}),titleStyleWhiteText:()=>s.Styles.createTextStyle({color:m.Color.white}),innerContainerStyle:()=>s.Styles.createViewStyle({alignItems:"center",justifyContent:"center",height:60,borderRadius:30}),innerContainerMediumStyle:()=>s.Styles.createViewStyle({alignItems:"center",justifyContent:"center",height:40,borderRadius:20}),innerContainerFlexibleHeight:()=>s.Styles.createViewStyle({height:void 0,minHeight:60}),innerContainerFlexibleHeightMedium:()=>s.Styles.createViewStyle({height:void 0,minHeight:40}),floatingActivityIndicator:()=>s.Styles.createViewStyle({position:"absolute",left:10}),iconAndTextContainer:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center"}),iconAndTextVerticalContainer:()=>s.Styles.createViewStyle({flexDirection:"column",alignItems:"center"}),iconAndTextContainerReverse:()=>s.Styles.createViewStyle({flexDirection:"row-reverse"}),backgroundIcon:()=>s.Styles.createViewStyle({position:"absolute",top:8,right:8,opacity:.2}),iconHorizontalMargin:()=>s.Styles.createViewStyle({marginRight:8}),iconHorizontalMarginReverse:()=>s.Styles.createViewStyle({marginLeft:8}),iconTopMargin:()=>s.Styles.createViewStyle({marginBottom:6}),subtitleContainer:()=>s.Styles.createViewStyle({justifyContent:"center"}),textOnBottom:()=>s.Styles.createViewStyle({justifyContent:"flex-end"}),prominentTitle:()=>s.Styles.createTextStyle({fontSize:S.default.fontSize.size18,lineHeight:18}),pretitle:()=>s.Styles.createTextStyle({lineHeight:18,marginBottom:4}),subtitle:()=>s.Styles.createTextStyle({lineHeight:18,marginTop:4}),borderWidth:()=>s.Styles.createViewStyle({borderWidth:1}),secondaryIconAndTextContainer:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center",overflow:"visible"}),secondaryIcon:()=>s.Styles.createViewStyle({marginLeft:8}),image:()=>s.Styles.createViewStyle({width:24,height:24})});class v extends h.default{_buildState(e,t){const i=this._getButtonStyle(e);return{viewStyle:[],textColorInfo:e.buttonConfig&&e.buttonConfig.textColor?{color:e.buttonConfig.textColor,subtitleColor:e.buttonConfig.subtitleTextColor||e.buttonConfig.textColor,colorStyle:s.Styles.createTextStyle({color:e.buttonConfig.textColor},!1)}:this._textInfoForButtonStyle(i,e.colorInfoOverride,C.titleStyleWhiteText,C.titleStyleDarkText),updateOpacityOnHover:!e.buttonConfig||!e.buttonConfig.hoverBackgroundColor,gradientColors:this._getGradientColors(e),hoverGradientColors:i===c.SXButtonStyle.GradientFill?p.default.getHoverGradientColors():void 0}}_updateButton(e,t=!0){super._updateButton(e&&!!this.state.updateOpacityOnHover,t)}render(){var e,t;const i=this.props.buttonSize===c.SXButtonSize.Medium,o=[i?C.innerContainerMediumStyle:C.innerContainerStyle,this.props.allowTextWrap?i?C.innerContainerFlexibleHeightMedium:C.innerContainerFlexibleHeight:void 0,C.backgroundPadding,this.props.innerContainerStyle],r=this._applyButtonConfigStyles();if(r?o.push(r):o.push(this._viewStyleForButtonStyle(this._getButtonStyle(this.props),this.props.colorInfoOverride)),this.props.minHeight){const e=this.props.buttonSize===c.SXButtonSize.Medium?40:60;o.push(s.Styles.createViewStyle({minHeight:this.props.minHeight,borderRadius:(this.props.minHeight>e?this.props.minHeight:e)/2},!1))}let u,p;if(this.props.buttonConfig&&this.props.buttonConfig.hoverBackgroundColor&&this.state.isHovering&&o.push(s.Styles.createViewStyle({backgroundColor:this.props.buttonConfig.hoverBackgroundColor},!1)),this.props.showShadow&&o.push(f.default.shadowLightStyle),this.props.addBorderColor&&o.push([C.borderWidth,s.Styles.createViewStyle({borderColor:this.props.addBorderColor},!1)]),this.props.backgroundStyle&&o.push(s.Styles.createViewStyle(this.props.backgroundStyle,!1)),this.props.disabled&&o.push(this._getDisabledStyle(this._getButtonStyle(this.props))),!this.props.disabled&&this.state.isHovering&&o.push(this._getHoverStyle(this._getButtonStyle(this.props))),this.props.title){const e=[i?S.default.fontStyle.bodyBold:S.default.fontStyle.primaryButtonLarge,this.state.textColorInfo.colorStyle];this.props.maxTitleWidth&&e.push(s.Styles.createTextStyle({maxWidth:this.props.maxTitleWidth},!1)),this.props.allowTextWrap&&(this.props.backgroundIcon||e.push(C.centeredText),this.props.icon&&e.push(f.default.flexOne)),this.props.textStyleDeprecated&&e.push(this.props.textStyleDeprecated),this.props.textStyleOverride&&e.push(this.props.textStyleOverride);const t=this._getTextColorStyle(this._getButtonStyle(this.props));if(t&&e.push(t),this.props.pretitle&&!this.props.subtitle&&e.push(C.prominentTitle),u=(0,n.jsx)(s.Text,{style:e,numberOfLines:this.props.allowTextWrap?void 0:1,children:this.props.title}),this.props.subtitle||this.props.pretitle){const e=[s.Styles.createTextStyle({color:this.state.textColorInfo.subtitleColor},!1)];this.props.allowTextWrap&&!this.props.backgroundIcon&&e.push(C.centeredText);const t=this.props.pretitle?(0,n.jsx)(y.Caption,{style:s.Styles.combine([e,C.pretitle]),numberOfLines:this.props.allowTextWrap?void 0:1,children:this.props.pretitle}):null,i=this.props.subtitle?(0,n.jsx)(y.Caption,{style:s.Styles.combine([e,C.subtitle]),numberOfLines:this.props.allowTextWrap?void 0:1,children:this.props.subtitle}):null;u=(0,n.jsxs)(s.View,{style:[this.props.backgroundIcon?C.textOnBottom:C.subtitleContainer,f.default.flexOne],children:[t,u,i]})}}u&&(p=this._getAccessoryMarginStyle());let h=this.props.accessoryView?(0,n.jsx)(s.View,{style:p,children:this.props.accessoryView}):null;if(h||(this.props.icon?h=(0,n.jsx)(d.default,{icon:this.props.icon,size:this.props.iconSize||(i?_.IconSize.size16:_.IconSize.size24),color:null!==(e=this.props.iconColor)&&void 0!==e?e:this.state.textColorInfo.color,style:p}):this.props.imageSource&&(h=(0,n.jsx)(s.Image,{source:this.props.imageSource,style:[p,C.image]}))),h)if(u){const e=[this.props.iconPositon===c.SXButtonIconPosition.Top?C.iconAndTextVerticalContainer:C.iconAndTextContainer];this.props.iconPositon===c.SXButtonIconPosition.End&&e.push(C.iconAndTextContainerReverse),u=(0,n.jsxs)(s.View,{style:e,children:[h,u]})}else u=h;if(this.props.secondaryIcon){const e=[C.secondaryIcon];this.props.secondaryIconMarginLeft&&e.push(s.Styles.createViewStyle({marginLeft:this.props.secondaryIconMarginLeft},!1)),this.props.secondaryIconMarginRight&&e.push(s.Styles.createViewStyle({marginRight:this.props.secondaryIconMarginRight},!1)),u=(0,n.jsxs)(s.View,{style:C.secondaryIconAndTextContainer,children:[u,(0,n.jsx)(d.default,{style:e,icon:this.props.secondaryIcon,size:this.props.secondaryIconSize||this.props.iconSize||(i?_.IconSize.size16:_.IconSize.size24),color:this.props.secondaryIconColor||this.state.textColorInfo.color})]})}const m=this._getButtonStyle(this.props);let v;this.props.showActivityIndicator&&(v=(0,n.jsx)(g.default,{style:u?C.floatingActivityIndicator:void 0,size:u?c.SXActivityIndicatorSize.ExtraSmall:c.SXActivityIndicatorSize.Small,tintColor:this._indicatorColorForButtonStyle(m,this.props.colorInfoOverride)}));const b=this.state.gradientColors?this._getGradientView(this.props):void 0,T=this.props.disabled&&!this.props.disabledOpacityOverride||this.props.showActivityIndicator,P=this.props.accessibilityLabel||this.props.title||"",k=l.default.buttonAccessibilityInfo(P,!!T),A=this.props.backgroundIcon?(0,n.jsx)(d.default,{icon:this.props.backgroundIcon,size:_.IconSize.size40,color:null!==(t=this.props.iconColor)&&void 0!==t?t:this.state.textColorInfo.color,style:C.backgroundIcon}):null;return(0,n.jsx)(s.Button,{ref:this._onButtonRef,style:this.props.style,title:this.props.hoverText?this.props.hoverText:this.props.title,onFocus:this.props.disabled?void 0:this.props.onFocus,onPress:this.props.disabled?void 0:this.props.onPress,onPressIn:this._onPressInBound,onPressOut:this._onPressOutBound,onLongPress:this.props.disabled?void 0:this.props.onLongPress,onHoverStart:this._onHoverStartBound,onHoverEnd:this._onHoverEndBound,onKeyPress:this.props.disabled?void 0:this.props.onKeyPress,disabled:T,accessibilityLabel:k.accessibilityLabel,accessibilityTraits:this.props.accessibilityTraits||k.accessibilityTraits,tabIndex:this.props.tabIndex,disableTouchOpacityAnimation:!0,autoFocus:this.props.autoFocus,importantForAccessibility:this.props.accessibilityHidden?s.Types.ImportantForAccessibility.NoHideDescendants:this.props.importantForAccessibility,children:(0,n.jsxs)(a.View,{ref:this._onAnimatedInnerButtonRef,style:o,children:[b,A,v,u]})})}_getAccessoryMarginStyle(){let e;switch(this.props.iconPositon){case c.SXButtonIconPosition.End:e=this.props.iconHorizontalMargin?s.Styles.createViewStyle({marginLeft:this.props.iconHorizontalMargin},!1):C.iconHorizontalMarginReverse;break;case c.SXButtonIconPosition.Top:e=C.iconTopMargin;break;default:e=this.props.iconHorizontalMargin?s.Styles.createViewStyle({marginRight:this.props.iconHorizontalMargin},!1):C.iconHorizontalMargin}return e}_getGradientView(e){const{backgroundStyle:t,buttonSize:i,gradientDirection:o,innerContainerStyle:a}=e,s=[i===c.SXButtonSize.Medium?C.innerContainerFlexibleHeightMedium:C.innerContainerStyle,f.default.absoluteFill,a];t&&s.push(t);const l=this.state.isHovering?this.state.hoverGradientColors:void 0;return(0,n.jsx)(r.GradientView,{style:s,colors:this.state.gradientColors,secondaryColors:l,direction:null!=o?o:r.GradientDirection.BOTTOM_RIGHT})}_applyButtonConfigStyles(){let e;return this.props.buttonConfig&&(this.props.buttonConfig.backgroundColor||this.props.buttonConfig.borderColor)&&(this.props.buttonConfig.borderColor&&(e=s.Styles.combine(e,C.backgroundStyleStroke),e=s.Styles.combine(e,s.Styles.createViewStyle({borderColor:this.props.buttonConfig.borderColor},!1))),this.props.buttonConfig.backgroundColor&&(e=s.Styles.combine(e,s.Styles.createViewStyle({backgroundColor:this.props.buttonConfig.backgroundColor},!1)))),e}}t.PrimaryButton=v,t.default=v},613155:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressBar=void 0;const o=i(785893),n=i(344175),r=i(206315);function a(e,t,i){return t.isAccessible?[i.surfaceInverse,i.surfaceInverse]:e.secondary}t.ProgressBar=({value:e,totalValue:t,gradientColors:i,gradientDirection:s=n.Direction.topLeft,borderRadius:l=4,height:c=4})=>{const{gradients:d,mode:u,themeColors:p}=(0,r.useSkypeTheme)(),g=e/t*100,h=(0,n.useSUIThemeStyles)((e=>({container:{flexDirection:"row",height:c,flexGrow:1,backgroundColor:e.colors.surfaceSecondary,borderRadius:l,borderColor:u.isAccessible?e.colors.strokeHighContrast:"transparent",borderWidth:u.isAccessible?1:0,overflow:"hidden"}})),[c,l,u.isAccessible]);return(0,o.jsx)(n.Box,{style:h.container,children:(0,o.jsx)(n.Row,{width:`${g}%`,height:"full",borderRadius:l,overflow:"hidden",children:(0,o.jsx)(n.Gradient,{colors:i||a(d,u,p),direction:s})})})}},556791:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IndicatorSize=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importDefault(i(198243)),s=o.__importStar(i(516778)),l=i(217041),c=o.__importDefault(i(151398)),d=i(26703),u=o.__importDefault(i(759664)),p=o.__importDefault(i(827361)),g=o.__importDefault(i(760989));var h,m,S;!function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(h||(t.IndicatorSize=h={})),function(e){e[e.None=0]="None",e[e.OneThird=1]="OneThird",e[e.TwoThirds=2]="TwoThirds",e[e.Complete=3]="Complete"}(m||(m={})),function(e){e[e.None=0]="None",e[e.OneThird=1]="OneThird",e[e.OneThirdLooping=2]="OneThirdLooping",e[e.TwoThirds=3]="TwoThirds",e[e.TwoThirdsLooping=4]="TwoThirdsLooping",e[e.Complete=5]="Complete"}(S||(S={}));const _=(0,d.lazyProperties)({small:()=>s.Styles.createViewStyle({width:40,height:40}),medium:()=>s.Styles.createViewStyle({width:60,height:60}),large:()=>s.Styles.createViewStyle({width:80,height:80})});class f extends l.ComponentBase{constructor(){super(...arguments),this._animatedValue=new s.Animated.Value(0)}_buildState(e,t){const i={};let o=m.None;return o=!e.progress||e.progress<.33?m.None:e.progress<.66?m.OneThird:e.progress<1?m.TwoThirds:m.Complete,i.progressStep=o,(t||this.state.progressStep===m.None)&&(i.animationStep=this._animationStepForProgressStep(o)),i}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._shouldAnimate(this.state)&&!this._shouldAnimate(t)&&this._loopAnimation()}_shouldAnimate(e){return e.progressStep!==m.None}_loopAnimation(){if(!this.isComponentMounted())return;const e=this._animationDuration(this.state.animationStep);this._animatedValue.setValue(0),s.Animated.timing(this._animatedValue,{toValue:1,duration:e,easing:s.Animated.Easing.Linear(),isInteraction:!1}).start((()=>{if(this.isComponentMounted()){let e=this.state.animationStep,t=!1,i=!1;switch(this.state.animationStep){case S.OneThird:case S.OneThirdLooping:e=this._animationStepForProgressStep(this.state.progressStep,this.state.progressStep===m.OneThird),i=this.state.progressStep>m.OneThird,t=!0;break;case S.TwoThirds:case S.TwoThirdsLooping:e=this._animationStepForProgressStep(this.state.progressStep,this.state.progressStep===m.TwoThirds),i=this.state.progressStep>m.TwoThirds,t=!0}t&&(e>this.state.animationStep&&i&&(e=this._nextAnimationStep(this.state.animationStep)),this._setAnimationStepAndStartAnimation(e,!0))}}))}_setAnimationStepAndStartAnimation(e,t=!0){this.state.animationStep!==e?this.setState({animationStep:e},(()=>{t&&this._loopAnimation()})):t&&this._loopAnimation()}_animationDuration(e){const t=this._animationInfoForActivityStep(e);return t&&t.durationMs||1e3}_nextAnimationStep(e,t=!0){if(t)switch(e){case S.None:return S.OneThird;case S.OneThird:return S.TwoThirds;case S.TwoThirds:return S.Complete}return e===S.Complete?e:e+1}_animationStepForProgressStep(e,t=!1){switch(e){case m.OneThird:return t?S.OneThirdLooping:S.OneThird;case m.TwoThirds:return t?S.TwoThirdsLooping:S.TwoThirds;case m.Complete:return S.Complete}return S.None}_animationInfoForActivityStep(e){switch(e){case S.OneThird:return u.default.CIRCLE_STEP0;case S.OneThirdLooping:return u.default.CIRCLE_STEP1;case S.TwoThirds:return u.default.CIRCLE_STEP2;case S.TwoThirdsLooping:return u.default.CIRCLE_STEP3;case S.Complete:return u.default.CIRCLE_STEP4;case S.None:return;default:return g.default.switchStatementExhaustiveChecking(e)}}render(){if(this.state.animationStep!==S.None){const e=this._animationInfoForActivityStep(this.state.animationStep);if(!e)return null;const t=[];if(r.isUndefined(this.props.size))t.push(p.default.flexOne);else{const e=this.props.size===h.Small?_.small:this.props.size===h.Medium?_.medium:_.large;t.push(e)}this.props.style&&t.push(this.props.style);const i=c.default.getAssetSourceWithColor(e,this.props.tintColor);return(0,n.jsx)(s.View,{style:t,children:(0,n.jsx)(a.default,Object.assign({},i,{style:p.default.flexOne,progress:this._animatedValue}))})}return null}}t.default=f},128249:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BarStyle=void 0;const o=i(197582),n=i(785893),r=i(537180),a=i(667294),s=o.__importDefault(i(331654)),l=i(606720),c=i(206315),d=i(16549);var u;!function(e){e.DEFAULT="default",e.DARK_CONTENT="dark-content",e.LIGHT_CONTENT="light-content"}(u||(t.BarStyle=u={}));const p=(e,t,i)=>{if(e){const t=(0,r.processColor)(e);null!=t&&"number"==typeof t&&s.default.setNavigationBarColor(t,i)}t&&s.default.setNavigationBarStyle(t,i)},g=e=>{s.default.drawContentBehindSystemBars(null!=e&&e)};t.default=({animated:e=!1,backgroundColor:t,barStyle:i,hidden:o=!1,drawContentBehindSystemBars:s})=>{const{themeColors:h,mode:m}=(0,c.useSkypeTheme)(),S=(e=>{switch(e){case l.BarStyleTheme.Dark:return u.DARK_CONTENT;case l.BarStyleTheme.Light:return u.LIGHT_CONTENT;default:return u.DEFAULT}})(h.defaultStatusBarTheme),_=m.isAccessible&&m.isDark?d.Color.black:h.defaultStatusBarBackgroundColor,f=null!=t?t:_,y=null!=i?i:S;return(0,a.useEffect)((()=>(p(f,y,e),g(s),()=>{var e,t,i,o;if((null===(e=r.StatusBar._propsStack)||void 0===e?void 0:e.length)>0){const e=r.StatusBar._propsStack[r.StatusBar._propsStack.length-1];p(null===(t=null==e?void 0:e.backgroundColor)||void 0===t?void 0:t.value,null===(i=null==e?void 0:e.barStyle)||void 0===i?void 0:i.value,!!(null==e?void 0:e.animated)),g(null===(o=null==e?void 0:e.translucent)||void 0===o?void 0:o.value)}})),[f,y,e,s]),(0,n.jsx)(r.StatusBar,{animated:e,backgroundColor:f,barStyle:y,hidden:o})}},848203:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DividerType=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(298974)),l=o.__importDefault(i(186325)),c=o.__importDefault(i(54945)),d=i(26703),u=o.__importDefault(i(924849)),p=o.__importDefault(i(827361)),g=o.__importDefault(i(497910));var h;!function(e){e[e.None=0]="None",e[e.All=1]="All",e[e.Between=2]="Between"}(h||(t.DividerType=h={}));const m="checkbox",S=(0,d.lazyProperties)({checkboxView:()=>a.Styles.createViewStyle({alignSelf:"flex-start",paddingVertical:6}),checkboxViewFullWidth:()=>a.Styles.createViewStyle({alignSelf:"stretch",paddingVertical:6,alignItems:"flex-start"})});class _ extends g.default{constructor(){super(...arguments),this._mountedRefsMap=new u.default,this._onKeyPress=e=>{let t=this.state.focusedIndex;e.keyCode!==c.default.UP&&e.keyCode!==c.default.LEFT||(t-=1),e.keyCode!==c.default.DOWN&&e.keyCode!==c.default.RIGHT||(t+=1),t<0||t>=this.props.radioButtons.length||this.setState({focusedIndex:t})},this._onShouldToggleCheckbox=e=>!e}_buildState(e,t){const i={};return t&&(i.focusedIndex=0),i}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.focusedIndex!==t.focusedIndex&&this.focusItem(this.state.focusedIndex)}focusItem(e=0){if(!(e<0||e>this.props.radioButtons.length-1))if(this.state.focusedIndex===e){const t=this._mountedRefsMap.ref(m+e);t&&t.requestFocus()}else this.setState({focusedIndex:e})}render(){const e=this.props.radioButtons.length,t=r.map(this.props.radioButtons,((t,i)=>{const o=t.key===this.props.selectedKey,r=m+i,a=[],c=[this.props.fullWidth?S.checkboxViewFullWidth:S.checkboxView,this.props.rowStyle,t.rowStyle],d=(0,n.jsx)(s.default,{ref:this._mountedRefsMap.onComponentRef(r),style:c,text:t.text,textStyle:[p.default.flexOne,this.props.textStyle],secondaryText:t.secondaryText,secondaryTextStyle:this.props.secondaryTextStyle,accessibilityLabelPrefix:this.props.accessibilityLabelPrefix,onPress:()=>this.props.onSelected(t.key),onShouldToggleCheckbox:this._onShouldToggleCheckbox,value:o,disable:t.disabled,disableSelectionAnimation:this.props.disableSelectionAnimation},r);if(a.push(d),t.footer&&a.push(t.footer),!this.props.dividerType||this.props.dividerType===h.Between&&i===e-1)return a;const u=(0,n.jsx)(l.default,{colorThemeOverride:this.props.colorThemeOverride,style:this.props.dividerColorStyle},"divider"+i);return a.push(u),a}));return(0,n.jsx)(a.View,{style:this.props.style,onKeyPress:this._onKeyPress,children:t})}}t.default=_},888500:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SXActionMenuCancel=t.CancelButtonPosition=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(762025),s=o.__importStar(i(516778)),l=o.__importDefault(i(206483)),c=o.__importDefault(i(150343)),d=o.__importDefault(i(266311)),u=i(154235),p=o.__importDefault(i(543915)),g=i(815146),h=o.__importStar(i(85385)),m=o.__importDefault(i(97595)),S=o.__importStar(i(704704)),_=o.__importDefault(i(942724)),f=(o.__importDefault(i(791384)),o.__importDefault(i(393443)),i(16549)),y=o.__importDefault(i(262112)),C=o.__importDefault(i(790834)),v=o.__importDefault(i(577267)),b=o.__importDefault(i(206315)),T=o.__importDefault(i(48076)),P=o.__importDefault(i(266872)),k=o.__importStar(i(972830)),A=o.__importDefault(i(760989)),I=i(206467),w=i(138245);var x;!function(e){e[e.Default=0]="Default",e[e.End=1]="End"}(x||(t.CancelButtonPosition=x={})),t.SXActionMenuCancel="cancel";class N{static showWithOptions(e){return h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu showWithOptions"),this._show(e.id,e.config,e.getMenuItems,e.handleMenuCommand,e.menuTitle,e.cancelButtonTitleIOS||S.getString("Global.CancelLabel"),e.onDismiss,e.delay,e.destructiveButtonIndex,e.maintainAnchor,e.maintainTitleForDesktop,e.rootViewId,e.accessibilityAnnouncement,void 0,e.invokingEvent,e.enableMiniContextMenu)}static showGroupWithOptions(e){return h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu showGroupWithOptions"),this._showMenuGroup(e.id,e.config,e.getMenuGroups,e.handleMenuCommand,e.cancelButtonTitleIOS,e.onDismiss,e.delay,e.destructiveButtonIndex,e.maintainAnchor,e.maintainTitleForMobile,e.rootViewId,e.accessibilityAnnouncement,e.invokingEvent)}static showWithActionMenuConfig(e){if(h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu showWithActionMenuConfig"),e.useAlertForDesktop){const t=[],i={text:e.options.cancelButtonTitle||S.getString("Global.CancelLabel"),onPress:e.onCancel,isCancel:!0};e.options.cancelButtonPosition!==x.End&&t.push(i),r.each(e.options.buttons,((i,o)=>{t.push({text:i.text,onPress:()=>{e.callback(i.command)},isSubmit:o===e.options.destructiveButtonIndex})})),e.options.cancelButtonPosition===x.End&&t.push(i);const o=e.options.title||e.options.message||"",n=e.options.title?e.options.message:void 0;return l.default.showWithOptions({title:o,message:n,buttons:t,dialogAccessibilityTitle:e.options.dialogAccessibilityTitle||o,rootViewId:e.rootViewId,suppressModalDismissalEvents:e.suppressModalDismissalEvents,onClickOutside:e.onCancel,allowScrolling:e.allowScrolling}),!0}{const t={anchor:e.options.anchor,positionPriorities:e.options.positionPriorities,useTheme:!0};return N._show(this.actionMenuId(),t,(()=>e.options.buttons),e.callback,e.options.message||e.options.title,e.options.cancelButtonTitle,void 0,0,e.options.destructiveButtonIndex,e.maintainAnchor,void 0,e.rootViewId,e.accessibilityAnnouncement,e.onCancel,e.invokingEvent)}}static dismiss(e,t){d.default.dismissPopup(e,t)}static menuId(e){return this._popupId++,(e||"popup")+this._popupId}static actionMenuId(e){return this._actionMenuId++,(e||"actionmenu")+this._actionMenuId}static _show(e,t,i,o,n,a,s,l,c,u,p,g,h,m,S,_){const f=i(t);if(r.isEmpty(f))return!1;if(1===(null==f?void 0:f.length)&&f[0].command===I.CommandTypes[I.CommandTypes.Copy])return!1;d.default.validatePopupOffset(t.popupOffset);return N._presentMenu((()=>{{const i={key:"menu",title:p?n:void 0,menuItems:f};return this._renderWebActionMenu(e,t,o,[i],s,l,c,g)}}),h)}static _showMenuGroup(e,t,i,o,n,a,s,l,c,u,p,g,h){const m=i(t);if(r.isEmpty(m))return!1;d.default.validatePopupOffset(t.popupOffset);return N._presentMenu((()=>this._renderWebActionMenu(e,t,o,m,a,s,void 0,p)),g)}static _registerElectronContextMenuItemSelectedHandler(e,t,i,o,n){this._electronMenuItemSelectedEventConfigs[n]={id:e,config:i,handleMenuCommand:o,rootViewId:t}}static _registerELectronContextMenuClosedHandler(e,t){this._electronMenuCloseEventConfigs.set(e,t)}static _registerElectronContextMenuListeners(){window.electronApi.ipcProvider.contextMenu.menuItemClick.once((e=>{if(!this._electronMenuItemSelectedEventConfigs[e.requestId])return;const{id:t,config:i,handleMenuCommand:o,rootViewId:n}=this._electronMenuItemSelectedEventConfigs[e.requestId];N._handleWebMenuCommand(e.command,t,i,o,n),delete this._electronMenuItemSelectedEventConfigs[e.requestId]})),window.electronApi.ipcProvider.contextMenu.menuClose.once((e=>{if(this._electronMenuCloseEventConfigs.has(e.requestId)){const t=this._electronMenuCloseEventConfigs.get(e.requestId);t&&t(),this._electronMenuCloseEventConfigs.delete(e.requestId)}else h.error(g.LogTraceArea.GenericUnsafe,"Close menu request with uknown requestId: "+e.requestId);window.electronApi.ipcProvider.contextMenu.menuClose.removeAllListeners(),window.electronApi.ipcProvider.contextMenu.menuItemClick.removeAllListeners()}))}static _presentMenu(e,t){const i=A.default.newCauseId();return h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu._presentMenu, causeId: "+i),t&&(h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu._presentMenu with accessibility annoucement, causeId: "+i),s.Accessibility.announceForAccessibility(t)),e()}static _renderMobileActionMenu(e,i,o,n,s,l,c,d,u,p){const g={anchor:u||!_.default.isUsingStackNavigationContextNoSubscription()||T.default.isTablet()?e.anchor:void 0,buttons:o,title:n,destructiveButtonIndexIOS:d,cancelButtonTitleIOS:s||S.getString("Global.CancelLabel")},h=o=>{const n=o.toLowerCase()===t.SXActionMenuCancel?t.SXActionMenuCancel:o;i(n,e),l&&l(),p&&n===t.SXActionMenuCancel&&p()};return c?r.delay((()=>a.ActionMenu.show(g,h)),c):a.ActionMenu.show(g,h),!0}static _renderWebActionMenu(e,t,i,o,a,l,c,u,p){let g,h,m;const _=t.colorThemeOverride||P.default.colorThemeNoSubscription();if(t.colors)g=t.colors.strokeColor,h=t.colors.fillColor,m=t.colors.textColor;else if(t.useTheme){const e=b.default.themeColorsForTheme(_);g=k.isDarkTheme(_)?e.dividerColor:void 0,h=e.popoverBackgroundColor,m=e.primaryTextColor}else g=k.isDarkTheme(_)?b.default.themeColorsForTheme(_).dividerColor:f.Color.black,h=f.Color.black,m=f.Color.white;const T={getAnchor:()=>t.anchor(),renderPopup:(a,l,d,_)=>{let f;if(1===o.length){const a=o[0];if(!r.isUndefined(c)){const e=a.menuItems[c];e&&(e.isDestructiveButton=!0)}f=(0,n.jsx)(y.default,Object.assign({},t.menuStyles,{title:a.title,menuItems:a.menuItems,onSelectItem:o=>this._handleWebMenuCommand(o,e,t,i,u,p),menuTextStyles:a.menuTextStyles||s.Styles.createTextStyle({color:m},!1),menuButtonStyles:a.menuButtonStyles,focusFirst:!0}))}else o.length>1&&(f=(0,n.jsx)(C.default,Object.assign({},t.menuStyles,{sections:o,onSelectItem:o=>this._handleWebMenuCommand(o,e,t,i,u,p),menuTextStyles:s.Styles.createTextStyle({color:m},!1)})));return t.popupMaxWidth&&(f=(0,n.jsx)(s.View,{style:s.Styles.createViewStyle({maxWidth:t.popupMaxWidth},!1),children:f})),(0,n.jsx)(v.default,{disableContextMenu:t.popupDisableContextMenu,anchorPosition:a,anchorOffset:l,popupWidth:d,popupHeight:_,strokeColor:g,fillColor:h,offset:t.popupOffset,popupBeakHeight:t.popupBeakSize?t.popupBeakSize.height:void 0,popupBeakWidth:t.popupBeakSize?t.popupBeakSize.width:void 0,popupAccessibilityTitle:S.getString("Global.MoreOptions"),skipPopupAutoFocus:!0,children:f})},positionPriorities:t.positionPriorities||["top","bottom"],onDismiss:a,dismissIfShown:!0,rootViewId:u};return d.default.showPopup(T,e,l)}static _renderElectronActionMenu(e,t,i,o,n,a){const l=r.filter(t,(e=>e.menuItems.length>0));if(!l.length)return!1;const d=e=>r.isEmpty(e.text)?"":e.text.replace("&","&&"),S=e.colorThemeOverride||P.default.colorThemeNoSubscription(),_=k.isDarkTheme(S),f=[];let y,C;r.each(l,((t,i)=>{const o=r.map(t.menuItems,(t=>{return{text:d(t),group:i,type:t.selectableType&&t.selectableType===u.SXMenuItemSelectableType.Checkbox?"checkbox":void 0,checked:t.selected,disabled:t.disabled,accelerator:t.shortcut?m.default.acceleratorForKeyboardShortcut(t.shortcut):void 0,command:t.command,icon:(o=t.icon,o&&e.useTheme&&_?"Dark"+o:null==o?void 0:o.toString())};var o}));f.push(...o)}));const v=a;!v||r.isUndefined(v.pageX)||r.isUndefined(v.pageY)||(y=v.pageX,C=v.pageY);const b=()=>{if(h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu.showContextMenu, requestId: "+i),s.UserInterface.isNavigatingWithKeyboard()){const t=e.anchor();if(c.default.getS4LUiFeaturesNoSubscription().useNativeContextMenus&&t)return void p.default.measureLayoutRelativeToWindow(e.anchor).then((e=>{const t=e?{x:Math.round(e.x+e.width/2),y:Math.round(e.y+e.height/2),zoomFactor:window.electronApi.getZoomFactor()}:void 0,n={menuOptions:f,options:t,requestId:i,windowId:o};h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu - Navigated with keyboard. Calling IPC method showGenericPopupMenu(), requestId: "+i),window.electronApi.ipcProvider.contextMenu.showGenericPopupMenu.send(n)}),(e=>{h.warn(g.LogTraceArea.GenericUnsafe,"SXActionMenu not measured: "+e.toString())}))}const t={x:y,y:C,zoomFactor:window.electronApi.getZoomFactor()},n={menuOptions:f,options:t,requestId:i,windowId:o};h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu - Navigated with mouse. Calling IPC method showGenericPopupMenu(), requestId: "+i),h.track(new w.ContextMenuTelemetryEvents(w.ContextMenuAction.ContextMenuShown)),window.electronApi.ipcProvider.contextMenu.showGenericPopupMenu.send(n)};return n?r.delay(b,n):b(),!0}static _handleWebMenuCommand(e,t,i,o,n,r){N.dismiss(t,n);const a=r?w.ContextMenuAction.MiniContextMenuItemClicked:w.ContextMenuAction.ContextMenuItemClicked;h.track(new w.ContextMenuTelemetryEvents(a,e)),o(e,i)}static _flattenMenu(e){const t=[];return r.each(e,(e=>t.push(...e.menuItems))),t}}N._popupId=0,N._actionMenuId=0,N._electronMenuCloseEventConfigs=new Map,N._electronMenuItemSelectedEventConfigs={},t.default=N},799585:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=o.__importDefault(i(335250)),l=i(154235),c=i(16549);class d extends a.ComponentBase{render(){if(this.props.useRXIndicator){let e;switch(this.props.size){case l.SXActivityIndicatorSize.ExtraSmall:e="tiny";break;case l.SXActivityIndicatorSize.Medium:e="medium";break;case l.SXActivityIndicatorSize.Large:e="large";break;default:case l.SXActivityIndicatorSize.Small:e="small"}return(0,n.jsx)(r.ActivityIndicator,{style:this.props.style,size:e,color:this.props.tintColor||c.Color.white,deferTime:this.props.deferTimeMs})}{const e={size:this.props.size,tintColor:this.props.tintColor,deferTimeMs:this.props.deferTimeMs,style:this.props.style};return(0,n.jsx)(s.default,Object.assign({},e))}}}t.default=d},660401:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(154235),a=o.__importDefault(i(797533)),s=o.__importDefault(i(75401)),l=o.__importDefault(i(497910)),c=o.__importDefault(i(150343));class d extends l.default{constructor(){super(...arguments),this._onButtonTertirarytRef=e=>{this._button=e||void 0},this._onPrimaryButtonRef=e=>{this._button=e||void 0}}_buildState(e,t){return{enableRefreshedPalette:c.default.getS4LUiFeatures().enableRefreshedPalette}}requestFocus(){this._button&&this._button.requestFocus&&this._button.requestFocus()}render(){const e=this._useAccessibleTheme()?function(e,t){const i=u(e,t);switch(i){case r.SXButtonStyle.ColorStroke:return e?r.SXButtonStyle.LightStroke:r.SXButtonStyle.DarkStroke;case r.SXButtonStyle.ColorFill:case r.SXButtonStyle.BlueFill:case r.SXButtonStyle.GradientFill:case r.SXButtonStyle.AgnosticGradientFill:return e?r.SXButtonStyle.LightFill:r.SXButtonStyle.DarkFill;default:return i}}(this._useDarkTheme(),this.props.buttonStyle):u(this._useDarkTheme(),this.props.buttonStyle),t=(this.state.enableRefreshedPalette||this.props.disabledOpacityOverride)&&this._useAccessibleTheme();return this.props.buttonSize===r.SXButtonSize.Small?(0,n.jsx)(s.default,Object.assign({},this.props,{disabledOpacityOverride:t,ref:this._onButtonTertirarytRef,buttonStyle:e})):(0,n.jsx)(a.default,Object.assign({},this.props,{disabledOpacityOverride:t,ref:this._onPrimaryButtonRef,buttonStyle:e}))}}function u(e,t){switch(t){case r.SXButtonStyle.ThemeFill:return e?r.SXButtonStyle.LightFill:r.SXButtonStyle.DarkFill;case r.SXButtonStyle.ThemeStroke:return e?r.SXButtonStyle.LightStroke:r.SXButtonStyle.DarkStroke;case r.SXButtonStyle.ThemeNoBackground:return e?r.SXButtonStyle.LightNoBackground:r.SXButtonStyle.DarkNoBackground;case void 0:return r.SXButtonStyle.GradientFill;default:return t}}t.default=d},692752:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(859745)),r=o.__importStar(i(516778)),a=o.__importStar(i(725674)),s=i(154235),l=i(815146),c=o.__importStar(i(85385)),d=i(26703),u=o.__importDefault(i(252089)),p=i(16549),g=o.__importDefault(i(760989)),h=i(67850),m=o.__importDefault(i(497910)),S=(0,d.lazyProperties)({backgroundStyleStroke:()=>r.Styles.createViewStyle({borderWidth:1}),backgroundStyleDark:()=>r.Styles.createViewStyle({backgroundColor:p.Color.gray400}),backgroundStyleWhite:()=>r.Styles.createViewStyle({backgroundColor:p.Color.white}),backgroundStyleBlue:()=>r.Styles.createViewStyle({backgroundColor:p.Color.blue}),backgroundStyleLightStroke:()=>r.Styles.createViewStyle({borderColor:p.Color.white}),backgroundStyleDarkStroke:()=>r.Styles.createViewStyle({borderColor:p.Color.gray400})});class _ extends m.default{constructor(){super(...arguments),this._pressed=!1,this._onAnimatedInnerButtonRef=e=>{this._animatedInnerButton=e||void 0},this._onButtonRef=e=>{this._button=e||void 0},this._onHoverEndBound=e=>{this._onHoverEnd(e)},this._onHoverStartBound=e=>{this._onHoverStart(e)},this._onPressInBound=()=>{this._onPressIn()},this._onPressOutBound=()=>{this._onPressOut()}}requestFocus(){this._button&&this._button.requestFocus()}_indicatorColorForButtonStyle(e,t){switch(e){case s.SXButtonStyle.BlueFill:case s.SXButtonStyle.ColorFill:case s.SXButtonStyle.LightStroke:case s.SXButtonStyle.DarkFill:case s.SXButtonStyle.LightNoBackground:case s.SXButtonStyle.GradientFill:case s.SXButtonStyle.AgnosticGradientFill:return p.Color.white;case s.SXButtonStyle.ColorStroke:return t?this._accentColor(t):u.default.getPrimaryColorNoSubscription();default:case s.SXButtonStyle.LightFill:case s.SXButtonStyle.DarkStroke:case s.SXButtonStyle.DarkNoBackground:return p.Color.gray400}}_intOnPressIn(e,t){this.props.disabled||this.props.disablePressIn||(this._updateButton(!0,e),this._pressed=!0,t&&t())}_intOnPressOut(e){this._pressed&&(this._updateButton(!1,e),this._pressed=!1)}_internalUpdateButton(e,t=!0){if(this._animatedInnerButton&&(this._animation&&this._animation.stop(),t)){const t=g.default.newCauseId();c.log(l.LogTraceArea.SXAnimated,"SXButtonBase._internalUpdateButton causeId: "+t),this._animation=this._animatedInnerButton.getAnimation({scale:{toValue:e,easing:n.Easing.SkypeExpoInOut5,duration:n.Common.Duration.Tiny}},t),this._animation.start((()=>{delete this._animation}))}}_onHoverEnd(e){this._intOnPressOut(!0),this.setState({isHovering:!1}),this.props.onHoverEnd&&this.props.onHoverEnd(e)}_onHoverStart(e){this.setState({isHovering:!0}),this._intOnPressIn(!1,(()=>{this.props.onHoverStart&&this.props.onHoverStart(e)}))}_onPressIn(){this._intOnPressIn(!0)}_onPressOut(){this._intOnPressOut(!0)}_textInfoForButtonStyle(e,t,i,o){switch(e){case s.SXButtonStyle.BlueFill:case s.SXButtonStyle.ColorFill:case s.SXButtonStyle.LightStroke:case s.SXButtonStyle.DarkFill:case s.SXButtonStyle.LightNoBackground:case s.SXButtonStyle.GradientFill:case s.SXButtonStyle.AgnosticGradientFill:return{color:p.Color.white,subtitleColor:p.Color.gray100,colorStyle:i};case s.SXButtonStyle.ColorStroke:const e=t?this._accentColor(t):u.default.getPrimaryColor();return{color:e,subtitleColor:e,colorStyle:t?r.Styles.createTextStyle({color:e},!1):u.default.getPrimaryTextColorStyle()};default:case s.SXButtonStyle.LightFill:case s.SXButtonStyle.DarkStroke:case s.SXButtonStyle.DarkNoBackground:return{color:p.Color.gray400,subtitleColor:p.Color.gray300,colorStyle:o}}}_updateButton(e,t=!0){const i=e?.9:1;this._internalUpdateButton(i,t)}_viewStyleForButtonStyle(e,t){const i=this._getRefreshedBackgroundStyle(),o=this._getRefreshedStrokeStyle();switch(e){case s.SXButtonStyle.ColorFill:let e;return e=t?a.backgroundColorStyleForColorInfo(t):r.Styles.createViewStyle({backgroundColor:u.default.getPrimaryColorNoSubscription()},!1),i?[i]:[e];case s.SXButtonStyle.ColorStroke:let n;if(t){const e=this._accentColor(t);n=r.Styles.createViewStyle({borderColor:e},!1)}else n=r.Styles.createViewStyle({borderColor:u.default.getPrimaryColorNoSubscription()},!1);return o?[S.backgroundStyleStroke,o]:[S.backgroundStyleStroke,n];case s.SXButtonStyle.LightStroke:return o?[S.backgroundStyleStroke,o]:[S.backgroundStyleStroke,S.backgroundStyleLightStroke];case s.SXButtonStyle.DarkFill:return i?[i]:[S.backgroundStyleDark];case s.SXButtonStyle.DarkStroke:return o?[S.backgroundStyleStroke,o]:[S.backgroundStyleStroke,S.backgroundStyleDarkStroke];case s.SXButtonStyle.BlueFill:return[S.backgroundStyleBlue];case s.SXButtonStyle.LightNoBackground:case s.SXButtonStyle.DarkNoBackground:case s.SXButtonStyle.GradientFill:case s.SXButtonStyle.AgnosticGradientFill:return[];case s.SXButtonStyle.Custom:return[S.backgroundStyleWhite];case s.SXButtonStyle.LightFill:return i?[i]:[S.backgroundStyleWhite];default:return[S.backgroundStyleWhite]}}_getAgnosticGradientColors(e){const{agnosticGradientColor:t}=e;if((0,h.isAgnosticGradientColor)(t))return(0,h.getButtonsAgnosticGradientFillColor)(t)}_getCustomGradientColors(e){return 2===e.length?e:1===e.length?this._getStandardGradientColors(e[0]):void 0}_getStandardGradientColors(e){const t=p.GradientStopColorsByMainColor[e];if(t)return[t.gradientcolor1,t.gradientcolor2]}_getGradientColors(e){const{buttonStyle:t,colorInfoOverride:i}=e;return(null==i?void 0:i.colors)?this._getCustomGradientColors(i.colors):t===s.SXButtonStyle.AgnosticGradientFill?this._getAgnosticGradientColors(e):t===s.SXButtonStyle.GradientFill?u.default.getButtonGradientColors():void 0}_getButtonStyle(e){var t;return null!==(t=e.buttonStyle)&&void 0!==t?t:s.SXButtonStyle.GradientFill}_accentColor(e){return a.accentColor(e)}_getRefreshedBackgroundStyle(){if(this._useAccessibleTheme())return r.Styles.createViewStyle({backgroundColor:this._themeColors.iconPrimary},!1)}_getRefreshedStrokeStyle(){if(this._useAccessibleTheme())return r.Styles.createViewStyle({borderColor:this._themeColors.strokeAccent},!1)}_getHoverStyle(e){if(this._useAccessibleTheme())switch(e){case s.SXButtonStyle.DarkStroke:case s.SXButtonStyle.LightStroke:case s.SXButtonStyle.ColorStroke:case s.SXButtonStyle.DarkFill:case s.SXButtonStyle.LightFill:case s.SXButtonStyle.ColorFill:return r.Styles.createViewStyle({backgroundColor:this._themeColors.surfaceInteractive},!1);default:return}}_getDisabledStyle(e){if(this._useAccessibleTheme())switch(e){case s.SXButtonStyle.DarkStroke:case s.SXButtonStyle.LightStroke:case s.SXButtonStyle.ColorStroke:return r.Styles.createViewStyle({borderColor:this._themeColors.surfaceDisabled},!1);case s.SXButtonStyle.DarkFill:case s.SXButtonStyle.LightFill:case s.SXButtonStyle.ColorFill:return r.Styles.createViewStyle({backgroundColor:this._themeColors.surfaceDisabled},!1);default:return}}_getTextColorStyle(e){var t;if(!this._useAccessibleTheme()||(null===(t=this.props.buttonConfig)||void 0===t?void 0:t.textColor))return;let i="";switch(e){case s.SXButtonStyle.DarkStroke:case s.SXButtonStyle.LightStroke:i=this.props.disabled?this._themeColors.textDisabled:this.state.isHovering?this._themeColors.textOnColor:this._themeColors.textInteractive;break;case s.SXButtonStyle.DarkFill:case s.SXButtonStyle.LightFill:i=this._themeColors.textOnColor;break;case s.SXButtonStyle.DarkNoBackground:case s.SXButtonStyle.LightNoBackground:i=this.props.disabled?this._themeColors.textDisabled:this.state.isHovering?this._themeColors.textInteractive:this._themeColors.textPrimary;break;default:return}return r.Styles.createTextStyle({color:i},!1)}}t.default=_},797061:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(174958),a=o.__importStar(i(496486)),s=o.__importStar(i(516778)),l=i(217041),c=o.__importDefault(i(150343)),d=o.__importStar(i(201056)),u=o.__importStar(i(987364)),p=o.__importDefault(i(296114)),g=i(815146),h=o.__importStar(i(85385)),m=o.__importStar(i(345500)),S=o.__importDefault(i(163374)),_=o.__importDefault(i(655192)),f=o.__importDefault(i(139221)),y=o.__importDefault(i(601274));var C;!function(e){e[e.NothingToLoad=0]="NothingToLoad",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded",e[e.Error=3]="Error"}(C||(C={}));let v={prev:{},cur:{}};S.default.subscribe((()=>{v={prev:{},cur:{}}})),y.default.setInterval((()=>{v.prev=v.cur,v.cur={}}),36e5);class b extends l.ComponentBase{constructor(){super(...arguments),this._attemptedTokenRefresh=!1,this._onAuthRefreshed=()=>{const e=this.isComponentMounted()&&this.state.loadingState!==C.Loaded;h.log(g.LogTraceArea.ErrorSafeImage,"Auth token refreshed; is going to try one more time=",e,r.pii.Omit(this.props.sourceUrl)),e&&this.setState({loadingState:C.Loading,retryCount:this._retryCount()+1})},this._onImageLoadSuccess=e=>{this.props.sourceUrl&&(this._nativeDimensions=e,this.props.shouldInstrument&&this._telemetryEvent&&(this._telemetryEvent.endLoad(),this._telemetryEvent.setStatus(!0,g.MessagingFailureReason.None),h.track(this._telemetryEvent)),this._onImageLoadCommon()&&(this.props.onLoad&&this.props.onLoad(e),this.setState({loadingState:C.Loaded})))},this._onImageLoadError=e=>{if(!this.props.sourceUrl)return void h.log(g.LogTraceArea.ErrorSafeImage,"There was an error, but there is also no sourceUrl ... ","this should not happen because ErrorSafeImage does not call Image if sourceUrl is empty");const t=this._retryCount();if(h.log(g.LogTraceArea.ErrorSafeImage,"Image failed to load: "+r.pii.Omit(this.props.sourceUrl)+" nth try: "+(t+1)+" error: "+_.default.errorAsString(e)),this.props.shouldInstrument&&this._telemetryEvent&&(this._telemetryEvent.endLoad(),this._telemetryEvent.setStatus(!1,g.MessagingFailureReason.AMSFailure),h.track(this._telemetryEvent)),this._onImageLoadCommon()){if(!this.props.noRetryOnError){if(t<3)return void y.default.setTimeout((()=>{if(this.isComponentMounted()){const i=this.props.sourceUrl?r.pii.Omit(this.props.sourceUrl):"no source";h.log(g.LogTraceArea.ErrorSafeImage,"Retrying image load - previous retryCount=",t,i,_.default.errorAsString(e)),this.setState({retryCount:t+1})}}),1e3);this._attemptedTokenRefresh?h.log(g.LogTraceArea.ErrorSafeImage,"Image already attempted to refresh the token before this error response. Failing.",r.pii.Omit(this.props.sourceUrl)):(this._attemptedTokenRefresh=!0,d.attemptTokenRefresh(this.props.sourceUrl).then(this._onAuthRefreshed,a.noop))}if(!this.props.noRetryOnError||this.props.shouldInstrument){const t=e?_.default.errorAsString(e):void 0;h.log(g.LogTraceArea.ErrorSafeImage,"Image load failed: ",this._telemetryEvent||t&&e&&e.message)}b._cacheBadImage(this.props.sourceUrl),this.props.onError&&this.props.onError(e),this.setState({loadingState:C.Error})}}}_buildState(e,t){const i={skypetokenAllowedDomains:c.default.getS4LMessagingFeatures().skypetokenAllowedDomains},o=this.props;return(t||e.sourceUrl!==o.sourceUrl)&&(i.isDomainTrusted=!!e.sourceUrl&&u.checkIfSafeDomainToRender(e.sourceUrl,e.origin),i.isStaticAsyncMedia=!!e.sourceUrl&&u.isStaticAsyncMediaUrl(e.sourceUrl),i.loadingState=C.NothingToLoad,i.retryCount=0,e.sourceUrl&&(i.loadingState=b._isBadImage(e.sourceUrl)?C.Error:C.Loading)),i.hasNetworkConnectivity=S.default.isNetworkingAvailable(),i}shouldComponentUpdate(e,t){return!p.default.comparator(this.props,e)||t.loadingState!==C.Loaded&&!p.default.comparator(this.state,t)}componentDidMount(){super.componentDidMount(),this.props.shouldInstrument&&this.props.sourceUrl&&(this._telemetryEvent=new m.ImageLoad(this.props.sourceUrl,this.props.origin,this.props.telemetryProperties),this._telemetryEvent.startLoad()),this.state.loadingState===C.Error&&this.props.onError&&this.props.onError()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i);!t.hasNetworkConnectivity&&this.state.hasNetworkConnectivity&&this.state.loadingState===C.Error&&this._retryCount()>0&&this.setState({retryCount:0,loadingState:this.props.sourceUrl?C.Loading:C.NothingToLoad})}render(){const e=this._retryCount(),t=`image-${this.props.sourceUrl||""}-${e}`;return this.state.loadingState===C.Error||this.props.blockUntrustedDomains&&!this.state.isDomainTrusted?null:(0,n.jsx)(s.Image,{style:this.props.style,source:this.props.sourceUrl,onError:this._onImageLoadError,onLoad:this._onImageLoadSuccess,resizeMode:this.props.resizeMode,resizeMethod:"resize",headers:this._getHeaders(this.props.sourceUrl)},t)}_getHeaders(e){const t={},i=c.default.getConfigSettingsNoSubscription().images.cacheControlRequestHeader;if(i&&(t["Cache-Control"]=i),this.props.isCors&&(t.origin=f.default.getFrontendBaseUrl()),this.props.skypeToken){const i=/^(?:https?:\/\/)?(?:www\.)?([^:\/\n?]+)/gim.exec(e),o=i&&i[1];o&&a.includes(this.state.skypetokenAllowedDomains,o)?(t["X-SkypeToken"]=this.props.skypeToken.rawToken,h.log(g.LogTraceArea.ErrorSafeImage,`Set X-SkypeToken header for image request: ${r.pii.Omit(this.props.sourceUrl)}`)):h.warn(g.LogTraceArea.ErrorSafeImage,`Attempted to send SkypeToken to a non-whitelisted domain: ${o}`)}return Object.keys(t).length>0?t:void 0}_onImageLoadCommon(){return!!this.isComponentMounted()}_retryCount(){return this.state.retryCount||0}getNativeImageSize(){return this._nativeDimensions}static _cacheBadImage(e){v.prev[e]||(h.log(g.LogTraceArea.ErrorSafeImage,`Caching image ${r.pii.Omit(e)} in badImagesCache`,r.pii.Omit(e)),v.cur[e]=!0)}static _isBadImage(e){return v.prev[e]||v.cur[e]}}t.default=b},262112:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(317588)),s=i(344175),l=o.__importDefault(i(395298)),c=i(154235),d=o.__importDefault(i(970035)),u=o.__importDefault(i(54945)),p=i(26703),g=o.__importStar(i(704704)),h=o.__importDefault(i(924849)),m=o.__importDefault(i(252089)),S=i(16549),_=i(641400),f=i(262725),y=o.__importDefault(i(497910)),C=i(93193),v=(0,p.lazyProperties)({menuContainer:()=>r.Styles.createViewStyle({paddingVertical:5}),menuItemContainer:()=>r.Styles.createButtonStyle({minHeight:32,alignItems:"center",justifyContent:"flex-start",flexDirection:"row",borderLeftWidth:2,borderStyle:"solid",borderColor:S.Color.transparent}),menuItemText:()=>r.Styles.createTextStyle({flex:1,paddingLeft:12,paddingRight:35}),menuItemWithPostPill:()=>r.Styles.createViewStyle({paddingRight:4}),selectedCheckMark:()=>r.Styles.createViewStyle({marginRight:15}),legendText:()=>r.Styles.createTextStyle({marginLeft:15,marginTop:10}),divider:()=>r.Styles.createViewStyle({borderBottomWidth:1,borderStyle:"solid",height:0,marginHorizontal:15}),icon:()=>r.Styles.createImageStyle({height:20,width:20,alignSelf:"center",marginLeft:12}),toggleContainer:()=>r.Styles.createViewStyle({marginTop:10})}),b="menuitem";class T extends y.default{constructor(){super(...arguments),this._mountedRefsMap=new h.default,this._onKeyPress=e=>{let t=this.state.focusedIndex,i=c.SXMenuNavigationDirection.None;e.keyCode!==u.default.UP&&e.keyCode!==u.default.LEFT||(t-=1,i=c.SXMenuNavigationDirection.Up),e.keyCode!==u.default.DOWN&&e.keyCode!==u.default.RIGHT||(t+=1,i=c.SXMenuNavigationDirection.Down),t<0||t>=this.props.menuItems.length?this.props.shouldReleaseKeyboardFocus&&i!==c.SXMenuNavigationDirection.None&&this.props.shouldReleaseKeyboardFocus(i)&&this.setState({focusedIndex:-1}):this.setState({focusedIndex:t})}}_buildState(e,t){return t?{hoverCommand:void 0,focusedIndex:-1}:{}}componentDidMount(){super.componentDidMount(),this.props.focusFirst&&this.focusFirt()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.focusedIndex!==t.focusedIndex&&this.focusItem(this.state.focusedIndex)}focusFirt(){this.focusItem(0)}focusLast(){this.focusItem(this.props.menuItems.length-1)}focusItem(e=0){if(!(e<0||e>this.props.menuItems.length-1))if(this.state.focusedIndex===e){const t=this._mountedRefsMap.ref(b+e);t&&t.requestFocus()}else this.setState({focusedIndex:e})}render(){const e=r.Types.AccessibilityTrait.MenuItem,t=r.Types.AccessibilityTrait.Menu,i=this.props.menuItems.map(((t,i)=>{const o=this._themeStyles,u=[v.menuItemContainer];this.props.menuButtonStyles&&u.push(this.props.menuButtonStyles);const p=[v.menuItemText,o.primaryTextColorStyle];this.props.menuTextStyles&&p.push(this.props.menuTextStyles),t.textStyles&&p.push(t.textStyles),t.command!==this.state.hoverCommand||t.disabled||u.push(o.rowHoverViewStyle),t.isDestructiveButton&&p.push(this._themeStyles.destructiveTextColorStyle);const h=[e];let S=t.text;if(t.selected?S=g.getString("Global.ItemSelectedAccessibilityLabel",{text:S}):t.disabled&&(p.push(o.disabledTextColorStyle),h.push(r.Types.AccessibilityTrait.Disabled)),t.selectableType&&t.selectableType===c.SXMenuItemSelectableType.Toggle)return u.push(r.Styles.createButtonStyle({borderRightWidth:5,maxWidth:300},!1)),(0,n.jsxs)(r.View,{style:v.toggleContainer,children:[t.selected&&(0,n.jsx)(r.View,{style:[v.divider,this._themeStyles.dividerBorderColorStyle]}),(0,n.jsx)(l.default,{style:u,isOn:t.selected,accessibilityLabel:S,accessibilityTraits:e,onChange:e=>this._onClickItem(e,t),tabIndex:i===this.state.focusedIndex?0:-1,children:(0,n.jsx)(f.BodyText,{style:p,children:t.text})})]},t.command);{let e,o;if(t.icon){const i=a.Collection.getMenuIcon(t.icon,this._useDarkTheme());e=(0,n.jsx)(r.Image,{style:v.icon,source:i,resizeMode:"auto"},t.text)}t.selectableType&&c.SXMenuItemSelectableType.Checkbox&&t.selected&&(o=(0,n.jsx)(d.default,{icon:_.SkypeIcon.Ok,size:_.IconSize.size20,color:m.default.getPrimaryColorNoSubscription(),style:v.selectedCheckMark}));const l=t.postPill?(0,n.jsx)(C.Pill,{text:t.postPill}):null;return l&&p.push(v.menuItemWithPostPill),(0,n.jsxs)(r.Button,{ref:this._mountedRefsMap.onComponentRef(b+i),style:u,onPress:e=>this._onClickItem(e,t),onHoverStart:()=>this._onMouseEnter(t),onHoverEnd:()=>this._onMouseLeave(t),disabled:t.disabled,tabIndex:i===this.state.focusedIndex?0:-1,accessibilityTraits:h,accessibilityLabel:S,children:[e,(0,n.jsxs)(s.Row,{alignItems:"flex-start",children:[(0,n.jsx)(f.BodyText,{style:p,children:t.text}),l]}),o]},t.command)}})),o=this.props.title?(0,n.jsx)(f.Subtitle,{style:v.legendText,children:this.props.title}):void 0,u=this.props.showDivider?(0,n.jsx)(r.View,{style:[v.divider,this._themeStyles.dividerBorderColorStyle]}):void 0,p=[v.menuContainer],h=(0,n.jsx)(r.View,{style:p,accessibilityTraits:t,id:this.props.id,onKeyPress:this._onKeyPress,children:i});return o||u?(0,n.jsxs)(r.View,{children:[o,h,u]}):h}_onClickItem(e,t){e.stopPropagation(),!t.disabled&&this.props.onSelectItem&&this.props.onSelectItem(t.command)}_onMouseEnter(e){e.disabled||e.command===this.state.hoverCommand||this.setState({hoverCommand:e.command})}_onMouseLeave(e){e.disabled||e.command!==this.state.hoverCommand||this.setState({hoverCommand:void 0})}}t.default=T},790834:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(154235),l=i(26703),c=o.__importDefault(i(924849)),d=o.__importDefault(i(262112)),u=o.__importDefault(i(497910)),p=(0,l.lazyProperties)({menuContainer:()=>a.Styles.createViewStyle({minWidth:160})}),g="menu";class h extends u.default{constructor(){super(...arguments),this._mountedRefsMap=new c.default,this._menuForDescriptor=(e,t,i)=>(0,n.jsx)(d.default,{ref:this._mountedRefsMap.onComponentRef(g+t),title:e.title,menuItems:e.menuItems,onSelectItem:this.props.onSelectItem,menuTextStyles:e.menuTextStyles||this.props.menuTextStyles,menuButtonStyles:e.menuButtonStyles||this.props.menuButtonStyles,showDivider:t!==i-1,accessibilityTraits:this.props.accessibilityTraits,shouldReleaseKeyboardFocus:e=>this._shouldReleaseKeyboardFocus(e,t,i)},e.key)}_buildState(e,t){return{sections:r.filter(e.sections,(e=>e.menuItems.length>0))}}componentDidMount(){super.componentDidMount();const e=this._mountedRefsMap.ref(g+0);e&&e.focusFirt()}render(){const e=this.state.sections.length,t=r.map(this.state.sections,((t,i)=>this._menuForDescriptor(t,i,e)));return(0,n.jsx)(a.View,{style:p.menuContainer,children:t})}_shouldReleaseKeyboardFocus(e,t,i){const o=t===i-1;if(0===t&&e===s.SXMenuNavigationDirection.Up||o&&e===s.SXMenuNavigationDirection.Down||e===s.SXMenuNavigationDirection.None)return!1;if(e===s.SXMenuNavigationDirection.Up){const e=t-1,i=this._mountedRefsMap.ref(g+e);i&&i.focusLast()}else if(e===s.SXMenuNavigationDirection.Down){const e=t+1,i=this._mountedRefsMap.ref(g+e);i&&i.focusFirt()}return!0}}t.default=h},577267:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(331654),s=i(464291),l=i(13253),c=o.__importStar(i(516778)),d=o.__importDefault(i(266311)),u=o.__importDefault(i(958868)),p=i(574703),g=o.__importDefault(i(560099)),h=i(26703),m=o.__importDefault(i(960282)),S=i(16549),_=o.__importDefault(i(827361)),f=S.Color.gray50,y=(0,h.lazyProperties)({popupContainer:()=>c.Styles.createButtonStyle({overflow:"visible",backgroundColor:S.Color.transparent}),popupInnerContainer:()=>c.Styles.createViewStyle({flex:-1,overflow:"visible"}),popupPadding:()=>c.Styles.createViewStyle({paddingTop:1,paddingBottom:6,paddingLeft:0,paddingRight:6}),popupPaddingContentStretchTopBottom:()=>c.Styles.createViewStyle({paddingTop:0,paddingBottom:6,paddingLeft:2,paddingRight:2}),popupPaddingContentStretchLeftRight:()=>c.Styles.createViewStyle({paddingTop:2,paddingBottom:2,paddingLeft:0,paddingRight:6}),popupPaddingTop:()=>c.Styles.createViewStyle({paddingTop:6,paddingBottom:1,paddingLeft:3.5,paddingRight:3.5}),popupPaddingTopStretchContents:()=>c.Styles.createViewStyle({paddingTop:6,paddingBottom:0,paddingLeft:2,paddingRight:2}),popupPaddingRight:()=>c.Styles.createViewStyle({paddingTop:3.5,paddingBottom:3.5,paddingLeft:1,paddingRight:6}),popupPaddingRightStretchContents:()=>c.Styles.createViewStyle({paddingTop:2,paddingBottom:2,paddingLeft:0,paddingRight:6}),popupPaddingLeft:()=>c.Styles.createViewStyle({paddingTop:3.5,paddingBottom:3.5,paddingLeft:6,paddingRight:1}),popupPaddingLeftStretchContents:()=>c.Styles.createViewStyle({paddingTop:2,paddingBottom:2,paddingLeft:6,paddingRight:0}),popupPaddingBottom:()=>c.Styles.createViewStyle({paddingTop:1,paddingBottom:6,paddingLeft:3.5,paddingRight:3.5}),popupPaddingBottomStretchContents:()=>c.Styles.createViewStyle({paddingTop:0,paddingBottom:6,paddingLeft:2,paddingRight:2}),borderSvg:()=>c.Styles.createImageStyle({position:"absolute",left:0,top:0,overflow:"visible"}),overflowHidden:()=>c.Styles.createViewStyle({overflow:"hidden"})}),C="SXPopup";class v extends u.default{constructor(){super(...arguments),this._arbitrateFocus=e=>(0,p.arbitrateModalOrPopupFocus)(C,e),this._handleContextMenu=e=>{this.props.disableContextMenu&&(e.preventDefault(),e.stopPropagation())},this._onPress=e=>{e.preventDefault(),e.stopPropagation()}}_buildState(e,t){t&&d.default.validatePopupOffset(e.offset);const i=t=>r.isUndefined(t)?r.isUndefined(e.borderRadius)?e.popupRadius?e.popupRadius:3:e.borderRadius:t;this._borderBottomLeftRadius=i(e.borderBottomLeftRadius),this._borderBottomRightRadius=i(e.borderBottomRightRadius),this._borderTopLeftRadius=i(e.borderTopLeftRadius),this._borderTopRightRadius=i(e.borderTopRightRadius),this._popupBeakHeight=r.isUndefined(e.popupBeakHeight)?5:e.popupBeakHeight,this._popupBeakWidth=r.isUndefined(e.popupBeakWidth)?15:e.popupBeakWidth,this._fillOpacity=e.fillOpacity||1,this._strokeColor=e.strokeColor||f,this._strokeOpacity=e.strokeOpacity||1,this._shadow=e.shadow||"0px 6px 16px rgba(0, 0, 0, 0.1)";const o=this._getRootViewId();return{svgPathDef:this._buildSvgPath(e),svgStyle:this._buildSvgStyle(e),isPortraitMode:m.default.getDeviceOrientation(o)===a.DeviceOrientation.Portrait}}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.props.onOrientationChanged&&t.isPortraitMode!==this.state.isPortraitMode&&this.props.onOrientationChanged()}render(){const{surfacePrimary:e}=this._getContext().themeColors,t=[y.popupInnerContainer,y.popupPadding];let i;this.props.contentStretchAcrossWidth?t.push(y.popupPaddingContentStretchTopBottom):this.props.contentStretchAcrossHeight&&t.push(y.popupPaddingContentStretchLeftRight);const o=this._isAnchorPositionBottom(this.props),a=this._isAnchorPositionTop(this.props),d=this._isAnchorPositionRight(this.props),u=this._isAnchorPositionLeft(this.props);if(this.props.popupWidth>0&&this.props.popupHeight>0){this.props.contentStretchAcrossWidth||this.props.contentStretchAcrossHeight?o?t.push(y.popupPaddingTopStretchContents):a?t.push(y.popupPaddingBottomStretchContents):d?t.push(y.popupPaddingLeftStretchContents):t.push(y.popupPaddingRightStretchContents):d?t.push(y.popupPaddingLeft):o?t.push(y.popupPaddingTop):a?t.push(y.popupPaddingBottom):t.push(y.popupPaddingRight);const p=[y.borderSvg,this.state.svgStyle];let h=this.props.popupHeight,m=this.props.popupWidth;if(this.props.paddingInPopupCanvas&&((a||o)&&h>this.props.paddingInPopupCanvas?(h-=this.props.paddingInPopupCanvas,p.push(c.Styles.createImageStyle({marginTop:a?this.props.paddingInPopupCanvas:void 0,marginBottom:o?this.props.paddingInPopupCanvas:void 0},!1))):(d||u)&&m>this.props.paddingInPopupCanvas&&(m-=this.props.paddingInPopupCanvas,p.push(c.Styles.createImageStyle({marginRight:d?this.props.paddingInPopupCanvas:void 0,marginLeft:u?this.props.paddingInPopupCanvas:void 0},!1)))),r.isUndefined(this.props.blurBackgroundStyle))i=(0,n.jsx)(l.ImageSvg,{style:p,webShadow:this.props.hideShadow?void 0:this._shadow,width:m,height:h,children:(0,n.jsx)(l.SvgPath,{strokeColor:this._strokeColor,strokeWidth:this._strokeOpacity,strokeOpacity:this._strokeOpacity,fillColor:this.props.fillColor||e,fillOpacity:this._fillOpacity,d:this.state.svgPathDef})});else{const e=this._staticBackgroundStyle(m,h,!0);i=(0,n.jsx)(g.default,{style:[p,e,y.overflowHidden],children:(0,n.jsx)(s.BlurView,{style:_.default.flexOne,blurStyle:this.props.blurBackgroundStyle})})}}const p=[y.popupContainer];this.props.containerStyle&&p.push(this.props.containerStyle),this.props.offset&&p.push(c.Styles.createViewStyle({transform:[{translateX:this.props.offset.x},{translateY:this.props.offset.y}]},!1));const h=this.props.popupAccessibilityTitle;return(0,n.jsxs)(c.View,{onPress:this._onPress,importantForAccessibility:this.props.importantForAccessibility,onContextMenu:this._handleContextMenu,style:p,disableTouchOpacityAnimation:!0,children:[!this.props.hideBackground&&i,(0,n.jsx)(c.View,{style:[t,this.props.popupContentStyle],accessibilityId:C,accessibilityLabel:h,accessibilityTraits:c.Types.AccessibilityTrait.Dialog,restrictFocusWithin:!this.props.allowFocusOutside,tabIndex:-1,autoFocus:!this.props.skipPopupAutoFocus,arbitrateFocus:this._arbitrateFocus,children:this.props.children})]})}_staticBackgroundStyle(e,t,i=!1){const{surfacePrimary:o}=this._getContext().themeColors;return c.Styles.createViewStyle({width:e,height:t,borderWidth:i?void 0:this._strokeOpacity,borderColor:i?void 0:this._strokeColor,backgroundColor:i?void 0:this.props.fillColor||o,borderBottomLeftRadius:this._borderBottomLeftRadius,borderBottomRightRadius:this._borderBottomRightRadius,borderTopLeftRadius:this._borderTopLeftRadius,borderTopRightRadius:this._borderTopRightRadius},!1)}_isAnchorPositionTop(e){return"top"===e.anchorPosition}_isAnchorPositionBottom(e){return"bottom"===e.anchorPosition}_isAnchorPositionRight(e){return"right"===e.anchorPosition}_isAnchorPositionLeft(e){return"left"===e.anchorPosition}_buildSvgPath(e){let t=0,i=0,o=e.popupWidth,n=e.popupHeight,r=!0,a=e.anchorOffset;const s=this._isAnchorPositionTop(e),l=this._isAnchorPositionBottom(e),c=this._isAnchorPositionRight(e),d=this._isAnchorPositionLeft(e);return e.paddingInPopupCanvas&&((s||l)&&e.popupHeight>e.paddingInPopupCanvas?n=e.popupHeight-e.paddingInPopupCanvas:(c||d)&&e.popupWidth>e.paddingInPopupCanvas&&(o=e.popupWidth-e.paddingInPopupCanvas)),d?(o-=this._popupBeakHeight,a-=2.5,i+=2.5,n-=2.5,r=!1):c?(t+=this._popupBeakHeight,a-=2.5,i+=2.5,n-=2.5,r=!1):s?(n-=this._popupBeakHeight,a-=2.5,t+=2.5,o-=2.5):l&&(i+=this._popupBeakHeight,a-=2.5,t+=2.5,o-=2.5),a=r?Math.min(a,o-this._popupBeakWidth/2):Math.min(a,n-this._popupBeakWidth/2),a=e.beakOffset?e.beakOffset:a,this._genLineSegment(t+this._borderTopLeftRadius,i,"M")+this._genStraightLineSegmentWithOptionalBeak(o-t-this._borderTopRightRadius-this._borderTopLeftRadius,0,l,a-this._borderTopLeftRadius-this._popupBeakWidth/2,r,1,-1)+this._genLineSegment(this._borderTopRightRadius,0,"c")+this._genLineSegment(this._borderTopRightRadius,this._borderTopRightRadius)+this._genLineSegment(this._borderTopRightRadius,this._borderTopRightRadius)+this._genStraightLineSegmentWithOptionalBeak(0,n-i-this._borderBottomRightRadius-this._borderTopRightRadius,d,a-this._borderTopRightRadius-this._popupBeakWidth/2,r,1,1)+this._genLineSegment(0,this._borderBottomRightRadius,"c")+this._genLineSegment(-this._borderBottomRightRadius,this._borderBottomRightRadius)+this._genLineSegment(-this._borderBottomRightRadius,this._borderBottomRightRadius)+this._genStraightLineSegmentWithOptionalBeak(t-o+this._borderBottomLeftRadius+this._borderBottomRightRadius,0,s,o-this._borderBottomRightRadius-(t+a+this._popupBeakWidth/2),r,-1,1)+this._genLineSegment(-this._borderBottomLeftRadius,0,"c")+this._genLineSegment(-this._borderBottomLeftRadius,-this._borderBottomLeftRadius)+this._genLineSegment(-this._borderBottomLeftRadius,-this._borderBottomLeftRadius)+this._genStraightLineSegmentWithOptionalBeak(0,i-n+this._borderBottomLeftRadius+this._borderTopLeftRadius,c,n-this._borderBottomLeftRadius-(i+a+this._popupBeakWidth/2),r,-1,-1)+this._genLineSegment(0,-this._borderTopLeftRadius,"c")+this._genLineSegment(this._borderTopLeftRadius,-this._borderTopLeftRadius)+this._genLineSegment(this._borderTopLeftRadius,-this._borderTopLeftRadius)+"z"}_genLineSegment(e,t,i=""){return i+e+","+t+" "}_genStraightLineSegmentWithOptionalBeak(e,t,i,o,n,r,a){let s="";if(i)if(n){const t=o*r,i=e-(o+this._popupBeakWidth)*r;s=this._genLineSegment(t,0,"l")+this._genLineSegment(this._popupBeakWidth/2*r,this._popupBeakHeight*a,"l")+this._genLineSegment(this._popupBeakWidth/2*r,-this._popupBeakHeight*a,"l")+this._genLineSegment(i,0,"l")}else{const e=o*a,i=t-(o+this._popupBeakWidth)*a;s=this._genLineSegment(0,e,"l")+this._genLineSegment(this._popupBeakHeight*r,this._popupBeakWidth/2*a,"l")+this._genLineSegment(-this._popupBeakHeight*r,this._popupBeakWidth/2*a,"l")+this._genLineSegment(0,i,"l")}else s=this._genLineSegment(e,t,"l");return s}_buildSvgStyle(e){if(!e.popupWidth||!e.popupHeight)return;const t=this._isAnchorPositionBottom(e),i=this._isAnchorPositionTop(e),o=this._isAnchorPositionRight(e),n=this._isAnchorPositionLeft(e);let r=e.popupHeight,a=e.popupWidth;return e.paddingInPopupCanvas&&((i||t)&&r>e.paddingInPopupCanvas?r-=e.paddingInPopupCanvas:(o||n)&&a>e.paddingInPopupCanvas&&(a-=e.paddingInPopupCanvas)),c.Styles.createImageStyle({width:a,height:r},!1)}}t.default=v},235885:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(843890),a=i(560099),s=o.__importDefault(i(497910));class l extends s.default{render(){const e=r.UICapabilities.inlineTextFormattingSupported();return(0,n.jsx)(a.HiddenText,{style:this.props.style,children:e?"|":" | "})}}t.default=l},101476:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(496486)),s=o.__importDefault(i(543915)),l=o.__importDefault(i(958868)),c=o.__importDefault(i(970035)),d=i(26703),u=i(16549),p=i(641400),g=i(262725),h=(0,d.lazyProperties)({nametagContainer:()=>r.Styles.createViewStyle({backgroundColor:u.Color.blackOverlay50,borderRadius:5,paddingHorizontal:10,paddingVertical:5,flexDirection:"row",alignItems:"center"}),nameAdditionalStyle:()=>r.Styles.createViewStyle({flexShrink:1}),nameText:()=>r.Styles.createTextStyle({color:u.Color.white,flexShrink:1}),iconLeft:()=>r.Styles.createViewStyle({marginRight:6}),iconRight:()=>r.Styles.createViewStyle({marginLeft:6})}),m={textOverflow:"ellipsis",whiteSpace:"nowrap"};class S extends l.default{constructor(){super(...arguments),this.onKeyPress=e=>s.default.maybeHandleKeyPress(e,(()=>{this.props.onPress&&this.props.onPress(e)}))}render(){const e=this._iconView(this.props.leftIcon,h.iconLeft),t=a.map(this.props.rightIcons,(e=>this._iconView(e,h.iconRight))),i=this.props.ellipseCaption?[h.nameAdditionalStyle,m]:void 0,o=[h.nametagContainer,this.props.ellipseCaption?h.nameAdditionalStyle:void 0,this.props.style],s=this.props.onPress||this.props.onMouseEnter||this.props.onMouseLeave;return(0,n.jsxs)(r.Animated.View,{style:o,onPress:this.props.onPress,onKeyPress:this.props.onPress?this.onKeyPress:void 0,accessibilityLabel:this.props.accessibilityLabel,tabIndex:this.props.onPress?0:void 0,accessibilityTraits:this.props.onPress?r.Types.AccessibilityTrait.Button:void 0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,blockPointerEvents:!s,children:[this.props.leftElement,e,(0,n.jsx)(g.Caption,{style:[h.nameText,i,this.props.textColor&&{color:this.props.textColor}],children:this.props.displayText}),t]})}_iconView(e,t){return e?(0,n.jsx)(c.default,{icon:e,color:this.props.textColor?this.props.textColor:u.Color.white,size:p.IconSize.size12,style:t},e.toString()):void 0}}t.default=S},695050:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(154235),s=o.__importDefault(i(186325)),l=o.__importDefault(i(970035)),c=i(26703),d=(o.__importStar(i(704704)),o.__importDefault(i(998929))),u=o.__importDefault(i(799585)),p=i(641400),g=o.__importDefault(i(827361)),h=i(262725),m=o.__importDefault(i(497910)),S=(0,c.lazyProperties)({buttonStyle:()=>r.Styles.createButtonStyle({flexDirection:"row",alignSelf:"stretch",alignItems:"center",justifyContent:"flex-start",minHeight:a.ListItem.small.regularHeight}),iconStyleMargin:()=>r.Styles.createViewStyle({marginRight:10}),spinnerStyle:()=>r.Styles.createViewStyle({marginLeft:2,marginRight:12})});class _ extends m.default{constructor(){super(...arguments),this._onComponentRef=e=>{this._componentRef=e||void 0},this._onHoverStart=e=>{this.setState({isHovering:!0})},this._onHoverEnd=e=>{this.setState({isHovering:!1})}}_buildState(e,t){return t?{isHovering:!1}:{}}requestFocus(){this._componentRef&&this._componentRef.requestFocus()}render(){const e=this.state.isHovering&&!this.props.disabled&&!this.props.disableHover,t=this.props.style?[S.buttonStyle,this.props.style]:S.buttonStyle,i=[g.default.flexOne];e&&i.push(r.Styles.createTextStyle({color:this._themeColors.textSecondary},!1));const o=this.props.subtitle?(0,n.jsx)(h.Subtitle,{colorThemeOverride:this._currentTheme,children:this.props.subtitle}):void 0,c=this.props.hideDivider?void 0:(0,n.jsx)(s.default,{});let m;m=this.props.showSpinner?(0,n.jsx)(u.default,{size:a.SXActivityIndicatorSize.ExtraSmall,tintColor:this._themeColors.textPrimary,style:S.spinnerStyle}):(0,n.jsx)(l.default,{icon:this.props.icon,color:e?this._themeColors.iconSecondary:this._themeColors.iconPrimary,size:this.props.iconSize?this.props.iconSize:p.IconSize.size24,style:[S.iconStyleMargin,this.props.iconStyle]});let _=this.props.accessibilityLabel||this.props.title;this.props.disabled;const f=this.props.useRegularFont?h.BodyText:h.RowTitle,y=this.props.renderAsListItem?d.default.Button:r.Button;return(0,n.jsxs)(r.View,{ref:this._onComponentRef,style:g.default.noncollapsibleView,children:[(0,n.jsxs)(y,{ref:this.props.buttonRef,style:t,onPress:this.props.onPress,onLongPress:this.props.onLongPress,onPressIn:this.props.onPressIn,onPressOut:this.props.onPressOut,title:this.props.title,onHoverStart:this._onHoverStart,onHoverEnd:this._onHoverEnd,accessibilityLabel:_,accessibilityTraits:this.props.accessibilityTraits,tabIndex:this.props.tabIndex,disabled:this.props.disabled,children:[m,(0,n.jsx)(f,{style:i,numberOfLines:2,colorThemeOverride:this._currentTheme,children:this.props.title}),o]}),c]})}}t.default=_},817672:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(154235),s=o.__importDefault(i(958868)),l=o.__importDefault(i(214295)),c=i(26703),d=o.__importDefault(i(117475)),u=o.__importDefault(i(377556)),p=o.__importDefault(i(660401)),g=(0,c.lazyProperties)({container:()=>r.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",padding:10,alignItems:"center"})});class h extends s.default{_buildState(e,t){const i={};return i.isKeyboardSeen=l.default.isKeyboardSeen(),i.safeAreaPadding=i.isKeyboardSeen?0:d.default.bottomSafeAreaInset(),i}render(){const e=[g.container];this.state.safeAreaPadding&&e.push(u.default.paddingBottomStyle(this.state.safeAreaPadding));const t=(0,n.jsx)(p.default,{ref:this.props.button.setButtonRef,backgroundStyle:this.props.button.backgroundStyle,icon:this.props.button.icon,iconSize:this.props.button.iconSize,iconHorizontalMargin:this.props.button.iconHorizontalMargin,buttonSize:a.SXButtonSize.Medium,title:this.props.button.text,buttonStyle:this.props.button.buttonStyle,onPress:this.props.button.onPress,disabled:this.props.button.disabled,accessibilityLabel:this.props.button.accessibilityLabel,showActivityIndicator:this.props.button.showActivityIndicator,textStyleOverride:this.props.button.textStyleOverride}),i=this.props.secondaryButton?(0,n.jsx)(p.default,{ref:this.props.secondaryButton.setButtonRef,backgroundStyle:this.props.secondaryButton.backgroundStyle,icon:this.props.secondaryButton.icon,iconSize:this.props.secondaryButton.iconSize,buttonSize:a.SXButtonSize.Medium,title:"",buttonStyle:this.props.secondaryButton.buttonStyle,onPress:this.props.secondaryButton.onPress,accessibilityLabel:this.props.secondaryButton.accessibilityLabel,buttonConfig:this.props.secondaryButton.buttonConfig,style:this.props.secondaryButton.style}):null;return(0,n.jsxs)(r.View,{style:e,children:[t,i]})}}t.default=h},375258:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SimplePanelHeader=t.HeaderHeightLandscapeSmall=t.HeaderHeightLandscape=t.HeaderHeightSmall=t.HeaderHeight=t.CloseButtonType=t.HeaderPosition=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(331654),s=o.__importStar(i(516778)),l=o.__importDefault(i(150343)),c=i(843890),d=o.__importDefault(i(340724)),u=i(154235),p=i(154235),g=i(815146),h=i(560099),m=o.__importDefault(i(453761)),S=o.__importDefault(i(970035)),_=o.__importStar(i(85385)),f=i(26703),y=o.__importStar(i(704704)),C=o.__importDefault(i(740794)),v=o.__importDefault(i(960282)),b=o.__importDefault(i(117475)),T=o.__importDefault(i(377556)),P=o.__importDefault(i(799585)),k=o.__importDefault(i(660401)),A=i(16549),I=o.__importDefault(i(139221)),w=o.__importDefault(i(20758)),x=i(641400),N=o.__importStar(i(179582)),D=o.__importDefault(i(827361)),M=o.__importDefault(i(497910)),L=o.__importDefault(i(760989));var R,E;!function(e){e[e.Default=0]="Default",e[e.Start=1]="Start",e[e.End=2]="End"}(R||(t.HeaderPosition=R={})),function(e){e[e.Close=1]="Close",e[e.Back=2]="Back"}(E||(t.CloseButtonType=E={}));const B="leftbutton",O="rightbutton";t.HeaderHeight=60,t.HeaderHeightSmall=50,t.HeaderHeightLandscape=60,t.HeaderHeightLandscapeSmall=50;const F={position:"absolute",top:0,left:0,right:0,overflow:"visible",zIndex:1},V=(0,f.lazyProperties)({header:()=>s.Styles.createViewStyle({flexDirection:"row",height:60,alignSelf:"stretch",alignItems:"center"}),headerSmall:()=>s.Styles.createViewStyle({height:50}),headerBorder:()=>s.Styles.createViewStyle({borderBottomWidth:1,borderStyle:"solid"}),headerFloating:()=>s.Styles.createViewStyle(F),headerDesktop:()=>s.Styles.createViewStyle({paddingHorizontal:10}),iconButton:()=>s.Styles.createButtonStyle({flexDirection:"row",justifyContent:"center",alignItems:"center",width:x.IconSize.default,height:x.IconSize.default}),iconButtonLandscape:()=>s.Styles.createViewStyle({height:60,paddingTop:5}),iconButtonLandscapeSmall:()=>s.Styles.createViewStyle({height:50,paddingTop:5}),iconButtonLandscapeMobile:()=>s.Styles.createViewStyle({paddingTop:2}),textButton:()=>s.Styles.createViewStyle({marginHorizontal:10}),titleContainer:()=>s.Styles.createViewStyle({flexGrow:0,flexDirection:"row"}),titleContainerMobileCentered:()=>s.Styles.createViewStyle({height:x.IconSize.default,alignItems:"center",overflow:"visible"}),titleContainerMobile:()=>s.Styles.createViewStyle({height:x.IconSize.default,alignSelf:"center",alignItems:"center",overflow:"visible",flexGrow:1,flexShrink:1}),titleCentered:()=>s.Styles.createTextStyle({textAlign:"center"}),rightControlContainer:()=>s.Styles.createViewStyle({flexDirection:"row",justifyContent:"flex-end"}),rightControlContainerCenterText:()=>s.Styles.createViewStyle({flexGrow:1,flexBasis:0}),leftControlContainer:()=>s.Styles.createViewStyle({width:64,flexDirection:"row",justifyContent:"flex-start"}),leftControlContainerCenterText:()=>s.Styles.createViewStyle({flexGrow:1,flexBasis:0}),leftControlContainerRightNav:()=>s.Styles.createViewStyle({width:48}),controlsContainerDesktop:()=>s.Styles.createViewStyle({paddingBottom:3}),spacer:()=>s.Styles.createViewStyle({width:64,height:x.IconSize.default}),smallSpacer:()=>s.Styles.createViewStyle({width:12}),displayNameDesktopMaxHeight:()=>s.Styles.createTextStyle({maxHeight:54}),backgroundView:()=>[D.default.absoluteFill,s.Styles.createViewStyle({justifyContent:"center",alignItems:"center"})],centeredIcon:()=>s.Styles.createViewStyle({marginRight:10}),centeredTitleWithIcon:()=>s.Styles.createViewStyle({justifyContent:"center",alignItems:"center"}),centeredTitleNameWithIcon:()=>s.Styles.createTextStyle({flex:0})}),U={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"};class j extends M.default{constructor(){super(...arguments),this._onCenterControlsRef=e=>{this._centerControls=e||void 0},this._onLeftControlRef=e=>{this._leftControl=e||void 0},this._onRightControlRef=e=>{this._rightControl=e||void 0},this._getControl=(e,t)=>{if(e)return e.icon||e.closeButtonType?this._getIconButton(e,t):this._getTextButton(e,t)},this._getTextButton=(e,t)=>e.text?(0,n.jsx)(k.default,{ref:e.setButtonRef,style:V.textButton,buttonStyle:e.textButtonStyle,buttonSize:u.SXButtonSize.Small,title:e.text,icon:e.textButtonIcon,showActivityIndicator:e.showActivityIndicator,onPress:e.onPress,onHoverStart:e.onHoverStart,onHoverEnd:e.onHoverEnd,disabled:e.disabled,accessibilityLabel:e.accessibilityLabel,accessibilityTraits:e.accessibilityTraits,allowTextWrap:!1,overrideStyle:this.props.overrideStyle},t):void 0,this._onIconButtonClosePress=()=>{const e=L.default.newCauseId();_.log(g.LogTraceArea.Navigation,"SimplePanelHeader.onPress, causeId: "+e),C.default.goBack(e,this._getContext())},this._getIconButton=(e,t)=>{if(this._getRootViewType()===p.RootViewType.NativeWindow&&e.closeButtonType===E.Close)return;const i=this.state.isLandscape?x.IconSize.size20:x.IconSize.size24,o=[V.iconButton];let r;this.state.isLandscape&&(o.push(this.state.isSmallDevice?V.iconButtonLandscapeSmall:V.iconButtonLandscape),this.state.isMobileScreenSize&&o.push(V.iconButtonLandscapeMobile)),o.push(e.buttonStyle),e.onPress?r=e.onPress:e.closeButtonType&&(r=this._onIconButtonClosePress);let a="";if(e.title?a=e.title:e.closeButtonType===E.Close?a=y.getString("Global.CloseButtonTitle"):e.closeButtonType===E.Back&&(a=y.getString("Global.BackButtonTitle")),e.showActivityIndicator)return(0,n.jsx)(s.View,{style:o,onPress:e.onPress,title:a,children:(0,n.jsx)(P.default,{size:u.SXActivityIndicatorSize.Small,tintColor:e.color||A.Color.gray300,useRXIndicator:!0})},t);{let s;return e.icon?s=e.icon:e.closeButtonType===E.Close?s=N.closeIcon():e.closeButtonType===E.Back&&(s=N.backIcon()),s?(0,n.jsx)(m.default,{ref:e.setButtonRef,disabled:e.disabled,style:o,hoverStyle:e.buttonHoverStyle,onPress:r,onFocus:e.onFocus,icon:s,size:i,color:e.color||this._themeColors.headerIconColor,hoverColor:e.hoverColor||this._themeColors.iconHoverColor,title:a,accessibilityLabel:e.accessibilityLabel,accessibilityTraits:e.accessibilityTraits,flipIcon:e.flipIcon},t):void 0}}}_buildState(e,t){const i=this._getContext(),o=this._getRootViewId(),n=v.default.getDeviceOrientation(o);let r=!!e.leavePaddingForStatusBar;!1!==e.leavePaddingForStatusBar&&s.StatusBar.isOverlay()&&b.default.leavePaddingForStatusBar()&&(i.isPresentedInDesktopLeftNav||i.isPresentedInDesktopRightNav||i.isPresentedInManagedModal?r=!0:i.isPresentedInMobileSheet||i.isPresentedInDesktopSubview||(r=!0));let c=i.isPresentedInDesktopSubview?void 0:b.default.horizontalInsets(u.HorizontalInsetDefault);if(c&&(e.headerPosition===R.Start||e.headerPosition===R.End))switch(e.headerPosition){case R.Start:c={left:c.left,right:0};break;case R.End:c={left:0,right:c.right}}return{isMobileScreenSize:v.default.isMobileScreenSize(o),leavePaddingForStatusBar:r,statusBarHeight:b.default.statusBarHeight(),isLandscape:n===a.DeviceOrientation.Landscape&&!this._getContext().isPresentedInDesktopContentPanel||!!this._getContext().isPresentedInDesktopSubview,isSmallDevice:v.default.isSmallDevice(o),deviceOrientation:n,safeAreaHorizontalInsets:c,enableRefreshedPalette:l.default.getS4LUiFeatures().enableRefreshedPalette}}componentDidMount(){if(super.componentDidMount(),this.props.dontFocusOnMount||r.isUndefined(this.props.titleViewTabIndexDeprecated))return;const e=()=>{this.isComponentMounted()&&this._centerControls&&(_.log(g.LogTraceArea.Navigation,"SimplePanelHeader.componentDidMount, focus center controls"),this._centerControls.requestFocus(),this.props.shouldAnnouncePanelNameOnMount&&this.props.panelName&&s.Accessibility.announceForAccessibility(this.props.panelName))};this.props.delayHeaderFocus?r.delay(e,100):r.defer(e)}requestFocus(){this._centerControls&&this._centerControls.requestFocus()}render(){var e;const t=this._getContext(),i=!!t.isPresentedInDesktopSubview,o=this._isPresentedInTabletLeftNav()||this._isPresentedInTabletRightNav(),a=!!t.isPresentedInDesktopRightNav,u=!!t.isPresentedInMobileSheet,p=!!t.isPresentedInSplitView,g=!!t.isPresentedInManagedModal;t.isPresentedInDesktopContentPanel;let m=!1;m=r.isUndefined(this.props.useCenteredControls)?u||i&&!a&&!p&&!g:this.props.useCenteredControls;const _=[V.header];let f;this.props.backgroundColor?_.push(s.Styles.createViewStyle({backgroundColor:this.props.backgroundColor},!1)):this.props.useTransparentBackground?_.push(D.default.transparentBackground):_.push(this._themeStyles.primaryBackgroundColorStyle),this.props.hideBottomBorder||p||(_.push(V.headerBorder),_.push(this._themeStyles.dividerBorderColorStyle)),(this.state.isSmallDevice||p||this.props.useCompactHeader)&&_.push(V.headerSmall),this.state.leavePaddingForStatusBar&&!this.props.removeHeaderPadding&&(_.push(T.default.heightStyle((this.state.isSmallDevice?50:60)+this.state.statusBarHeight)),f=T.default.paddingTopStyle(this.state.statusBarHeight),_.push(f)),this.props.floating&&_.push(V.headerFloating),!i||a||p||g||_.push(V.headerDesktop),this.state.safeAreaHorizontalInsets&&T.default.hasHorizontalSafeAreas(this.state.safeAreaHorizontalInsets)&&_.push(T.default.horizontalPaddingStyle(this.state.safeAreaHorizontalInsets)),this.props.style&&_.push(this.props.style),this.state.enableRefreshedPalette&&!this.props.useTransparentBackground&&_.push(s.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfacePrimary},!1));const y=[D.default.flexOne,this._themeStyles.headerTextColorStyle];let C;if(m&&y.push(V.titleCentered),!i||o||p||g?u||o||g?y.push(this.props.useSmallFont?w.default.fontStyle.panelHeaderLandscape:w.default.fontStyle.panelHeader):this.state.isLandscape?y.push(w.default.fontStyle.panelHeaderLandscape):y.push(this.props.useSmallFont?w.default.fontStyle.panelHeaderLandscape:w.default.fontStyle.panelHeader):y.push(this.props.useSmallFont?w.default.fontStyle.bodySmallBoldDeprecated:w.default.fontStyle.h5),this.props.titleTextStyle&&y.push(this.props.titleTextStyle),this.props.panelName){const e=[V.titleContainer];m||e.push(V.titleContainerMobile),this.props.textOverflowElipsis&&e.push(U);const t=d.default.headerAccessibilityInfo(this.props.accessibleName||this.props.panelName),i=this.props.allowTextWrap?2:1;i>1&&!c.UICapabilities.textNumberOfLinesSupported()&&y.push(V.displayNameDesktopMaxHeight),this.props.centeredIcon&&(e.push(V.centeredTitleWithIcon),y.push(V.centeredTitleNameWithIcon)),C=(0,n.jsxs)(s.View,{tabIndex:this.props.titleViewTabIndexDeprecated,ref:this._onCenterControlsRef,style:e,accessibilityLabel:t.accessibilityLabel,importantForAccessibility:s.Types.ImportantForAccessibility.Yes,accessibilityTraits:t.accessibilityTraits,accessibilityLiveRegion:this.props.centralControlAccessibilityLiveRegion,children:[this.props.centeredIcon&&(0,n.jsx)(S.default,{color:this._themeColors.primaryIconColor,size:x.IconSize.size24,style:V.centeredIcon,icon:this.props.centeredIcon}),(0,n.jsx)(h.HiddenText,{style:y,numberOfLines:i,children:this.props.panelName})]},"centercontrols")}else this.props.titleView&&(C=this.props.titleView);let v=[],b=!1;if(this.props.rightButtons){if(r.isArray(this.props.rightButtons))v=r.compact(r.map(this.props.rightButtons,((e,t)=>{var i;return null!==(i=e.customButtonComponent)&&void 0!==i?i:this._getControl(e,O+t)})));else{const t=null!==(e=this.props.rightButtons.customButtonComponent)&&void 0!==e?e:this._getControl(this.props.rightButtons,O);t&&v.push(t)}b=!0}else this.props.leftButton&&this.props.titleView&&v.push(this._getSpacer(O));const P=[V.leftControlContainer],k=[V.rightControlContainer];let A;if(m?(P.push(V.leftControlContainerCenterText),k.push(V.rightControlContainerCenterText)):(a||g)&&P.push(V.leftControlContainerRightNav),this.props.leftButton)if(l.default.getS4LUiFeaturesNoSubscription().enableWindowRightClose&&I.default.isWindowCloseOnRight()&&this.props.leftButton.closeButtonType===E.Close){const e=(0,n.jsx)(s.View,{ref:this._onLeftControlRef,children:this._getControl(this.props.leftButton,O)},O+"x");v.push(e),P.push(V.smallSpacer),A=(0,n.jsx)(s.View,{style:P},B),b=!0}else A=(0,n.jsx)(s.View,{ref:this._onLeftControlRef,style:P,children:this._getControl(this.props.leftButton,B)},B);else A=(0,n.jsx)(s.View,{style:P},B);i&&(P.push(V.controlsContainerDesktop),k.push(V.controlsContainerDesktop),0===v.length&&!1!==this.props.useCenteredControls&&k.push(V.smallSpacer));const N=this.props.backgroundView?(0,n.jsx)(s.View,{style:[V.backgroundView,f],children:this.props.backgroundView}):void 0;return(N||v.length>0)&&!C&&(C=(0,n.jsx)(s.View,{style:D.default.flexOne,ignorePointerEvents:!0,blockPointerEvents:!0})),(0,n.jsxs)(s.View,{style:_,ignorePointerEvents:this.props.ignorePointerEvents,blockPointerEvents:this.props.blockPointerEvents,children:[N,A,C,(0,n.jsx)(s.View,{ref:b?this._onRightControlRef:void 0,style:k,children:v},O)]})}_getSpacer(e){return(0,n.jsx)(s.View,{style:V.spacer,ignorePointerEvents:!0},e)}}t.SimplePanelHeader=j},290589:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(496486)),s=i(854646),l=o.__importDefault(i(54945)),c=i(26703),d=o.__importDefault(i(252089)),u=i(16549),p=o.__importDefault(i(827361)),g=o.__importDefault(i(497910)),h=(0,c.lazyProperties)({gestureViewStyle:()=>r.Styles.createViewStyle({backgroundColor:u.Color.transparent})});class m extends g.default{constructor(){super(...arguments),this._trackHeight=10,this._handleSize=20,this._animatedSelectedBackgroundWidthValue=new r.Animated.Value(0),this._animatedSelectedBackgroundStyle=r.Styles.createAnimatedViewStyle({width:this._animatedSelectedBackgroundWidthValue}),this._animatedDragHandlePositionValue=new r.Animated.Value(0),this._animatedDragHandlePositionStyle=r.Styles.createAnimatedViewStyle({left:this._animatedDragHandlePositionValue}),this._onPanDragHandle=e=>{let t=e.pageX-e.initialPageX;r.International.isRTL()&&(t=-t);let i=this._currentPosition+t;i<0?i=0:i>this.state.dragAreaWidth&&(i=this.state.dragAreaWidth),this.state.dragAreaWidth&&(!this.props.dragStep||0===i||i===this.state.dragAreaWidth||Math.abs(i/this.state.dragAreaWidth-this._currentValue)>=this.props.dragStep)&&this._updatePosition(i,this.state.dragAreaWidth),e.isComplete&&(this._currentPosition=i)},this._onTap=e=>{let t=e.clientX;r.International.isRTL()&&(t=this.state.dragAreaWidth-t),t<0?t=0:t>this.state.dragAreaWidth&&(t=this.state.dragAreaWidth),this.state.dragAreaWidth&&this._updatePosition(t,this.state.dragAreaWidth),this._currentPosition=t},this._onLayout=e=>{const t=e.width-this._handleSize;t!==this.state.dragAreaWidth&&this.setState({dragAreaWidth:t})},this._onKeyPress=e=>{const t=this.props.keyboardNavStep||.05;e.keyCode===l.default.LEFT||e.keyCode===l.default.DOWN?(this.updateValue(this._currentValue-t),e.preventDefault()):e.keyCode!==l.default.RIGHT&&e.keyCode!==l.default.UP||(this.updateValue(this._currentValue+t),e.preventDefault())}}_buildState(e,t){const i=d.default.getColorInfo().colors.slice().reverse(),o={selectedBackgroundColorStyle:d.default.getPrimaryBackgroundColorStyle(),gradientColors:i};return t&&(this._currentValue=e.value||0,this._currentPosition=0,this._trackHeight=e.trackHeight||10,this._handleSize=e.handleSize||20,o.dragAreaWidth=0),o}componentDidMount(){super.componentDidMount(),this._currentValue&&this.state.dragAreaWidth&&this._updatePosition(this._currentValue*this.state.dragAreaWidth,this.state.dragAreaWidth,!1)}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i);let o=!1;a.isUndefined(e.value)||(e.value!==this.props.value&&(o=!0),this._currentValue=e.value),(o||this.state.dragAreaWidth!==t.dragAreaWidth)&&(this._currentPosition=this._currentValue*t.dragAreaWidth,this._updatePosition(this._currentPosition,t.dragAreaWidth,!1))}updateValue(e){e<0?e=0:e>1&&(e=1),this._currentValue=e,this.state.dragAreaWidth&&this._updatePosition(e*this.state.dragAreaWidth,this.state.dragAreaWidth)}_updatePosition(e,t,i=!0){this._currentValue=t?e/t:0,this.props.onProgressChange&&i&&this.props.onProgressChange(this._currentValue),this._animatedDragHandlePositionValue.setValue(e),this._animatedSelectedBackgroundWidthValue.setValue(e+this._handleSize/2)}render(){const e={container:r.Styles.createViewStyle({alignSelf:"stretch",height:this._handleSize,alignItems:"center",justifyContent:"center"},!1),backgroundContainer:r.Styles.createViewStyle({alignSelf:"stretch",height:this._trackHeight,borderRadius:this._trackHeight/2,marginHorizontal:this._handleSize/2},!1),selectedBackground:r.Styles.createViewStyle({height:this._trackHeight,borderRadius:this._trackHeight/2},!1),dragHandleContainer:r.Styles.createViewStyle({position:"absolute",width:this._handleSize,height:this._handleSize,borderRadius:this._handleSize/2,overflow:"hidden"},!1)},t=[e.selectedBackground,this.state.selectedBackgroundColorStyle,this._animatedSelectedBackgroundStyle],i=[e.dragHandleContainer,this._animatedDragHandlePositionStyle],o=[p.default.absoluteFill,h.gestureViewStyle],a=[e.selectedBackground,r.Styles.createViewStyle({width:this.state.dragAreaWidth},!1)],l=[e.dragHandleContainer,this._themeStyles.sliderHandleColorStyle,this._themeStyles.viewBorderStyle];return(0,n.jsxs)(r.View,{style:[e.container,this.props.style],onLayout:this._onLayout,onKeyPress:this._onKeyPress,tabIndex:0,accessibilityTraits:r.Types.AccessibilityTrait.Adjustable,accessibilityLabel:this.props.accessibilityLabel,ariaValueNow:this.props.ariaValueNow,children:[(0,n.jsx)(r.View,{style:[e.backgroundContainer,this._themeStyles.secondaryBackgroundColorStyle],children:(0,n.jsx)(r.Animated.View,{style:t,children:(0,n.jsx)(s.GradientView,{style:a,colors:this.state.gradientColors,direction:s.GradientDirection.RIGHT})})}),(0,n.jsx)(r.Animated.View,{style:i,children:(0,n.jsx)(r.View,{style:l})}),(0,n.jsx)(r.GestureView,{style:o,preferredPan:r.Types.PreferredPanGesture.Horizontal,onPanHorizontal:this._onPanDragHandle,onTap:this._onTap})]})}}t.default=m},450301:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SwipableItemActionSide=t.SwipeActionLayout=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(859745)),s=o.__importStar(i(516778)),l=i(217041),c=i(154235),d=o.__importDefault(i(958868)),u=o.__importDefault(i(207864)),p=i(970035),g=i(26703),h=o.__importDefault(i(924849)),m=o.__importDefault(i(960282)),S=o.__importStar(i(322094)),_=i(16549),f=i(641400),y=o.__importDefault(i(827361)),C=i(262725);var v,b;!function(e){e[e.Reveal=0]="Reveal",e[e.Pull=1]="Pull"}(v||(t.SwipeActionLayout=v={})),function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(b||(t.SwipableItemActionSide=b={}));const T=80,P=_.Color.white,k="action",A=(0,g.lazyProperties)({outerStaticContainer:()=>s.Styles.createViewStyle({flex:1,flexDirection:"row"}),gestureContainer:()=>s.Styles.createViewStyle({overflow:"visible",flex:1}),rightSwipeActionContainerReveal:()=>s.Styles.createViewStyle({flexDirection:"row",justifyContent:"flex-end",alignItems:"stretch"}),leftSwipeActionContainerReveal:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"stretch"}),iconContainerReveal:()=>s.Styles.createViewStyle({justifyContent:"center",alignItems:"center",padding:20,width:T}),rightIconInnerContainerReveal:()=>s.Styles.createViewStyle({position:"absolute",left:0,top:0,bottom:0}),leftIconInnerContainerReveal:()=>s.Styles.createViewStyle({position:"absolute",right:0,top:0,bottom:0}),icon:()=>s.Styles.createTextStyle({color:P,paddingHorizontal:4}),iconButton:()=>s.Styles.createViewStyle({justifyContent:"center",alignItems:"center"}),caption:()=>s.Styles.createTextStyle({marginTop:8,color:P,paddingHorizontal:4,textAlign:"center"})});class I extends d.default{constructor(){super(...arguments),this._rightSwipeItemRefs=new h.default,this._leftSwipeItemRefs=new h.default,this._currentX=0,this._innerMovingContainerXOffsetValue=new s.Animated.Value(0),this._innerMovingContainerXOffsetStyle=s.Styles.createAnimatedViewStyle({transform:[{translateX:this._innerMovingContainerXOffsetValue}]}),this._rightIconButtonOpacityValue=new s.Animated.Value(0),this._rightIconButtonOpacityStyle=s.Styles.createAnimatedViewStyle({opacity:this._rightIconButtonOpacityValue}),this._leftIconButtonOpacityValue=new s.Animated.Value(0),this._leftIconButtonOpacityStyle=s.Styles.createAnimatedViewStyle({opacity:this._leftIconButtonOpacityValue}),this._hapticFeedbackPrepared=!1,this._hapticFeedbackSent=!1,this._isSwiping=!1,this._isRevealAdvanceGesture=!1,this._renderSwipeAction=(e,t,i,o,r,a)=>{const s=t===b.Right?this._rightSwipeItemRefs.onComponentRef(e):this._leftSwipeItemRefs.onComponentRef(e);return(0,n.jsx)(w,{ref:s,side:t,position:i,commandOrId:this._swipeActionCommandOrId(o),style:a,swipeAction:o,layoutType:this.props.layoutType,allowOverscroll:r,isPresentedInDesktopLeftNav:this._getContext().isPresentedInDesktopLeftNav,useNativeAnimationDriver:!1,onPress:o.onComplete||o.onConfirm?this._onPerformAction:void 0,numberOfLines:this.props.numberOfLines?this.props.numberOfLines:1},e)},this._onPerformAction=(e,t)=>{const i=i=>{i?e.onComplete?(this._cancelSwipe(),e.onComplete(t)):this._cancelSwipe((()=>{e.onComplete&&e.onComplete(t)})):this._cancelSwipe()};e.onConfirm?e.onConfirm(t).then(i).catch((e=>i(!1))):i(!0)},this._onContainerRef=e=>{this._container=e||void 0},this._onPanView=e=>{const t=e.pageX-e.initialPageX,i=this.props.layoutType===v.Reveal,o=this.props.layoutType===v.Pull;let n=!1;if((this.state.rightActions.length&&(t<0||this._currentX<0)||this.state.leftActions&&this.state.leftActions.length&&(t>0||this._currentX>0))&&(n=!0),!n)return;this.state.renderActions||this.setState({renderActions:!0}),this._isSwiping||(this.props.onSwiping&&this.props.onSwiping(!0,!!this.state.openSide,!0,this._getCurrentItemRef()),this._isSwiping=!0);let a=this._currentX+t;this._hapticFeedbackPrepared||(this._hapticFeedbackPrepared=!0,u.default.prepareFeedback());const s=this._allowOverscroll(b.Left),l=this._allowOverscroll(b.Right);let c;if(i&&(a>0&&!s?a=Math.min(this.state.leftActions.length*T*1.25,a):a<0&&!l&&(a=Math.max(this.state.rightActions.length*T*1.25*-1,a))),this._rightIconButtonOpacityValue.setValue(a<-1&&this.state.openSide!==b.Left?1:0),this._leftIconButtonOpacityValue.setValue(a>1&&this.state.openSide!==b.Right?1:0),this.props.overscrollSides||o){const e=this.props.swipeDistanceThreshold||160;this.state.openSide!==b.Right&&a>e&&s?c=b.Left:this.state.openSide!==b.Left&&a<-1*e&&l&&(c=b.Right),c?this._hapticFeedbackSent||(this._hapticFeedbackSent=!0,u.default.triggerFeedback()):this._isRevealAdvanceGesture&&(u.default.triggerFeedback(),this._hapticFeedbackSent=!1)}if(this._isRevealAdvanceGesture=!!c,this._innerMovingContainerXOffsetValue.setValue(a),this._updateOffsets(a,!1,c),e.isComplete){if(c){const e=c===b.Left?r.first(this.state.leftActions):r.last(this.state.rightActions);e&&this._onPerformAction(e,this._swipeActionCommandOrId(e)),this._cancelSwipe()}else if(i){let t;this.state.openSide===b.Right?(e.velocityX<0||-1*a>T*this.state.rightActions.length)&&(t=b.Right):this.state.openSide===b.Left&&this.state.leftActions?(e.velocityX>0||a>T*this.state.leftActions.length)&&(t=b.Left):a>0?(e.velocityX>=1||a>50)&&(t=b.Left):(e.velocityX<=-1||-1*a>50)&&(t=b.Right),t?this._openMenu(t):this._cancelSwipe()}else this._cancelSwipe();this._isRevealAdvanceGesture=!1,this._hapticFeedbackSent=!1,this._hapticFeedbackPrepared=!1}},this._close=()=>{this._cancelSwipe()},this._cancelSwipe=e=>{this.props.onSwiping&&this.props.onSwiping(!1,!1,!1,this._getCurrentItemRef(),!0),this._isSwiping=!1,this._currentX=0,this._updateOffsets(this._currentX,!0);const t=!1;a.parallel([a.timing.shotgun({value:this._innerMovingContainerXOffsetValue,toValue:this._currentX,useNativeDriver:t}),a.timing.shotgun({value:this._rightIconButtonOpacityValue,toValue:0,useNativeDriver:t}),a.timing.shotgun({value:this._leftIconButtonOpacityValue,toValue:0,useNativeDriver:t})]).start((t=>{e&&e(),this.isComponentMounted()&&this.state.openSide&&(this.setState({openSide:void 0,renderActions:!1}),t.finished||this._innerMovingContainerXOffsetValue.setValue(this._currentX))}))},this._onLongPressClose=()=>{},this._getCurrentItem=()=>this.isComponentMounted()?this:void 0}_buildState(e,t){const i={rightActions:I._actionsForSide(e,b.Right),leftActions:I._actionsForSide(e,b.Left)};return t&&(i.renderActions=e.layoutType!==v.Reveal),i}requestFocus(){this._container&&this._container.requestFocus()}close(){return!(!this.state.openSide||this._isSwiping)&&(this._cancelSwipe(),!0)}componentWillUnmount(){super.componentWillUnmount(),u.default.unprepareFeedback()}render(){const e=!r.isEmpty(this.state.rightActions)||!r.isEmpty(this.state.leftActions);if(this.props.disableSwipe||!e){const e=[A.outerStaticContainer,y.default.overflowVisible];return(0,n.jsx)(s.View,{style:e,children:this.props.children})}const t=this.state.openSide?(0,n.jsx)(s.View,{onPress:this._close,onLongPress:this._onLongPressClose,style:[y.default.absoluteFill,y.default.noncollapsibleView]}):void 0;let i,o;if(this.state.renderActions){const e=this.state.rightActions,t=e?e.length:0,a=!!t&&this._allowOverscroll(b.Right),l=r.map(e,((e,i)=>this._renderSwipeAction(k+i,b.Right,t-i,e,a,A.iconContainerReveal))),c=[y.default.absoluteFill,y.default.overflowVisible,this.props.backgroundStyle];if(i=(0,n.jsx)(s.Animated.View,{style:[c,this._rightIconButtonOpacityStyle,A.rightSwipeActionContainerReveal],ignorePointerEvents:!0,children:l},"rightactions"),this.state.leftActions){const e=this.state.leftActions,t=e?e.length:0,i=!!t&&this._allowOverscroll(b.Left),a=r.map(e,((e,o)=>this._renderSwipeAction(k+o,b.Left,t-o,e,i,A.iconContainerReveal)));o=(0,n.jsx)(s.Animated.View,{style:[c,this._leftIconButtonOpacityStyle,A.leftSwipeActionContainerReveal],ignorePointerEvents:!0,children:a},"leftactions")}}const a=r.compact([i,o,(0,n.jsxs)(s.Animated.View,{style:[this._innerMovingContainerXOffsetStyle,y.default.overflowVisible],children:[this.props.children,t]},"content")]);return(0,n.jsx)(s.View,{ref:this._onContainerRef,style:this.props.style||A.outerStaticContainer,onLayout:undefined,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,importantForAccessibility:this.props.importantForAccessibility,accessibilityLabel:this.props.accessibilityLabel,accessibilityTraits:this.props.accessibilityTraits,children:this._wrapGestureContent(a,A.gestureContainer)})}_allowOverscroll(e){return!(!r.includes(this.props.overscrollSides,e)&&this.props.layoutType===v.Reveal)}_wrapGestureContent(e,t){return(0,n.jsx)(s.GestureView,{onPanHorizontal:this._onPanView,panPixelThreshold:this.props.dragThreshold||3,preferredPan:s.Types.PreferredPanGesture.Horizontal,releaseOnRequest:!1,importantForAccessibility:s.Types.ImportantForAccessibility.No,style:t,children:e})}_updateOffsets(e,t,i){const o=T*this.state.rightActions.length;if(o){const n=this.state.openSide===b.Left?0:Math.min(e,0),a=Math.abs(n)/o;r.each(this._rightSwipeItemRefs.allRefs(),(e=>{e.ref&&e.ref.updateOffset(a,t,i===b.Right)}))}if(!this.state.leftActions)return;const n=T*this.state.leftActions.length;if(n){const o=this.state.openSide===b.Right?0:Math.max(e,0),a=Math.abs(o)/n;r.each(this._leftSwipeItemRefs.allRefs(),(e=>{e.ref&&e.ref.updateOffset(a,t,i===b.Left)}))}}_openMenu(e){this._isSwiping=!1,this.props.onSwiping&&this.props.onSwiping(!1,!0,!0,this._getCurrentItemRef()),e===b.Right?this._currentX=T*this.state.rightActions.length*-1:this.state.leftActions&&(this._currentX=T*this.state.leftActions.length),this._updateOffsets(this._currentX,!0);const t=!1;a.parallel([a.timing.easeOut5({value:this._innerMovingContainerXOffsetValue,toValue:this._currentX,duration:a.Common.Duration.Tiny,useNativeDriver:t}),a.timing.easeOut5({value:this._rightIconButtonOpacityValue,toValue:e===b.Right?1:0,duration:a.Common.Duration.Tiny,useNativeDriver:t}),a.timing.easeOut5({value:this._leftIconButtonOpacityValue,toValue:e===b.Left?1:0,duration:a.Common.Duration.Tiny,useNativeDriver:t})]).start((()=>{this.isComponentMounted()&&this.state.openSide!==e&&this.setState({openSide:e})}))}_getCurrentItemRef(){return{itemId:this.props.itemId,ref:this._getCurrentItem}}_swipeActionCommandOrId(e){return e.command||this.props.itemId}static _actionsForSide(e,t){const i=e.layoutType!==v.Reveal;return t===b.Right?r.compact(e.rightActions&&e.rightActions.length?i?[r.first(e.rightActions)]:e.rightActions:[]):r.compact(e.leftActions&&e.leftActions.length?i?[r.first(e.leftActions)]:e.leftActions:[])}}t.default=I;class w extends l.ComponentBase{constructor(){super(...arguments),this._iconHighlighted=!1,this._animatedOffsetValue=new s.Animated.Value(0),this._animatedBackgroundWidthValue=new s.Animated.Value(136),this._animatedBackgroundWidthStyle=s.Styles.createAnimatedViewStyle({width:this._animatedBackgroundWidthValue}),this._animatedIconOpacityValue=new s.Animated.Value(.7),this._animatedIconOpacityStyle=s.Styles.createAnimatedViewStyle({opacity:this._animatedIconOpacityValue}),this._animatedIconScaleValue=new s.Animated.Value(1),this._animatedIconScaleStyle=s.Styles.createAnimatedViewStyle({transform:[{scale:this._animatedIconScaleValue}]}),this._onPress=()=>{this.props.onPress&&this.props.onPress(this.props.swipeAction,this.props.commandOrId)}}_buildState(e,t){if(e.allowOverscroll){const t=e.isPresentedInDesktopLeftNav?S.default.getWidth(S.SideBar.Left):m.default.getWidth(c.MainRootViewId);this._animatedBackgroundWidthValue.setValue(t||136)}return{}}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this._updateAnimatedStyle(this.props.position),this._updateStaticStyles(this.props.swipeAction)}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),this.props.position!==e.position&&this._updateAnimatedStyle(e.position);const o=this.props.swipeAction,n=e.swipeAction;o.backgroundColor===n.backgroundColor&&o.iconColor===n.iconColor||this._updateStaticStyles(n)}updateOffset(e,t,i=!1){let o=e;if(!this.props.allowOverscroll){const e=this.props.layoutType===v.Reveal?1.2:1;o=o>e?e:o}t?a.timing.easeOut5({value:this._animatedOffsetValue,toValue:o,duration:a.Common.Duration.Tiny,useNativeDriver:this.props.useNativeAnimationDriver}).start():this._animatedOffsetValue.setValue(o),this._iconHighlighted!==i&&(this._animatedIconOpacityValue.setValue(i?1:.7),i?a.timing.bounceIn([{value:this._animatedIconScaleValue,toValue:1.25,duration:a.Common.Duration.Tiny,useNativeDriver:this.props.useNativeAnimationDriver}],[{value:this._animatedIconScaleValue,toValue:1.2,duration:a.Common.Duration.Short,useNativeDriver:this.props.useNativeAnimationDriver}]).start():a.timing.easeOut5({value:this._animatedIconScaleValue,toValue:1,duration:a.Common.Duration.Tiny,useNativeDriver:this.props.useNativeAnimationDriver}).start(),this._iconHighlighted=i)}render(){const e=this.props.swipeAction;let t;e.label&&(t=(0,n.jsx)(C.Caption,{style:[A.caption,this._textColorStyle],numberOfLines:this.props.numberOfLines,children:e.label},"caption"));const i=[this.props.side===b.Right?A.rightIconInnerContainerReveal:A.leftIconInnerContainerReveal,this._animatedBackgroundWidthStyle,this._backgroundColorStyle];let o=r.compact([(0,n.jsx)(p.AnimatedIconView,{icon:e.icon,color:e.iconColor,size:f.IconSize.size20,style:[A.icon,this._animatedIconScaleStyle]},"icon"),t]);if(this.props.onPress){const e=[y.default.absoluteFill,A.iconButton];this.props.layoutType===v.Pull&&e.push(this._animatedIconOpacityStyle),o=(0,n.jsx)(s.Animated.View,{style:e,accessibilityLabel:this.props.swipeAction.accessibilityLabel||this.props.swipeAction.label,accessibilityTraits:s.Types.AccessibilityTrait.Button,onPress:this._onPress,children:o})}const a=[this.props.style,this._animatedOffsetStyle,y.default.overflowVisible];return(0,n.jsxs)(s.Animated.View,{style:a,children:[(0,n.jsx)(s.Animated.View,{style:i}),o]})}_updateAnimatedStyle(e){const t=e*T*(this.props.side===b.Right?1:-1);this._animatedOffsetStyle=s.Styles.createAnimatedViewStyle({transform:[{translateX:this._animatedOffsetValue.interpolate({inputRange:[0,1],outputRange:[t,0]})}]})}_updateStaticStyles(e){this._backgroundColorStyle=s.Styles.createViewStyle({backgroundColor:e.backgroundColor},!1),this._textColorStyle=s.Styles.createTextStyle({color:e.iconColor},!1)}}},960615:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SyncIndicator=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=i(970035),l=i(16549),c=i(641400);class d extends a.ComponentBase{constructor(){super(...arguments),this._rotateTextValue=new r.Animated.Value(0),this._rotateTextStyle=r.Styles.createAnimatedViewStyle({transform:[{rotate:this._rotateTextValue.interpolate({inputRange:[0,360],outputRange:["0deg","360deg"]})}]}),this._onSyncIndicatorRef=e=>{e&&this._startAnimation()}}_buildState(e,t){return{containerStyle:r.Styles.createViewStyle({height:e.size,width:e.size,borderRadius:e.size/2,backgroundColor:e.color,alignItems:"center",justifyContent:"center"},!1)}}render(){var e;return(0,n.jsx)(r.View,{style:this.state.containerStyle,testId:"SyncIndicator",children:(0,n.jsx)(s.AnimatedIconView,{icon:c.SkypeIcon.Refresh,color:null!==(e=this.props.indicatorColor)&&void 0!==e?e:l.Color.white,size:2*Math.floor(this.props.size*(this.props.largeIndicator?.4:.3)),style:this._rotateTextStyle,ref:this._onSyncIndicatorRef})})}_startAnimation(){this._rotateTextValue.setValue(0),r.Animated.timing(this._rotateTextValue,{toValue:360,easing:r.Animated.Easing.Linear(),duration:1200,isInteraction:!1}).start((()=>{this.isComponentMounted()&&this._startAnimation()}))}}t.SyncIndicator=d,t.default=d},978762:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TabFilters=void 0;const o=i(197582),n=i(785893),r=i(496486),a=o.__importStar(i(516778)),s=o.__importDefault(i(340724)),l=o.__importDefault(i(331824)),c=o.__importDefault(i(560099)),d=o.__importDefault(i(54945)),u=i(26703),p=i(16549),g=o.__importDefault(i(20758)),h=o.__importDefault(i(497910)),m=o.__importDefault(i(601274)),S=(0,u.lazyProperties)({container:()=>a.Styles.createViewStyle({flex:1,flexDirection:"row",height:40}),containerCompact:()=>a.Styles.createViewStyle({flex:1,flexDirection:"row",height:30}),button:()=>a.Styles.createViewStyle({flex:1,minWidth:0,justifyContent:"center",alignItems:"center"}),inner:()=>a.Styles.createViewStyle({flex:1,borderBottomWidth:2,borderColor:p.Color.transparent,paddingTop:2,justifyContent:"center",overflow:"visible"}),text:()=>a.Styles.createTextStyle({fontSize:g.default.controlFontSize.searchFiltersTab}),textCompact:()=>a.Styles.createTextStyle({fontSize:g.default.controlFontSize.caption}),selectedText:()=>a.Styles.createTextStyle({fontWeight:"bold"}),fixedWidthTab:()=>a.Styles.createViewStyle({width:100})});class _ extends h.default{constructor(){super(...arguments),this._setButtonRef=e=>{this._buttonRef=e||void 0},this._onPress=e=>{this.props.onTabPress&&this.props.onTabPress(this.props.tabId)},this._onHoverStart=()=>{this.isComponentMounted()&&this.setState({hovered:!0})},this._onHoverEnd=()=>{this.isComponentMounted()&&this.setState({hovered:!1})}}_buildState(e,t){if(t){return{hovered:!1}}return{}}UNSAFE_componentWillReceiveProps(e,t){super.UNSAFE_componentWillReceiveProps(e,t),e.shouldUpdateOnFocus&&e.focused&&!this.props.focused&&this._buttonRef&&this._buttonRef.requestFocus&&this._buttonRef.requestFocus()}render(){const e=[S.inner],t=[this.props.useCompactLayout?S.textCompact:S.text],i=s.default.tabAccessibilityLabel(this.props.title,this.props.tabIndex,this.props.tabCount,this.props.includeTabCountOnDesktop),o=s.default.tabAccessibilityTraits(this.props.selected);if(this.props.selected){const i=a.Styles.createViewStyle({borderColor:this._themeColors.primaryTextColor},!1);e.push(i),t.push(S.selectedText,this._themeStyles.primaryTextColorStyle)}else if(t.push(this._themeStyles.secondaryTextColorStyle),this.state.hovered){const t=a.Styles.createViewStyle({borderColor:this._themeColors.secondaryTextColor},!1);e.push(t)}const r=[S.button];return this.props.widthStyle&&r.push(this.props.widthStyle),(0,n.jsx)(a.Button,{style:r,onPress:this._onPress,ref:this._setButtonRef,onHoverStart:this._onHoverStart,onHoverEnd:this._onHoverEnd,accessibilityTraits:o,tabIndex:this.props.focused?0:-1,accessibilityLabel:i,children:(0,n.jsx)(c.default,{style:e,children:(0,n.jsx)(a.Text,{style:t,children:this.props.title})})})}}class f extends h.default{constructor(){super(...arguments),this._onKeyPress=e=>{let t=this.state.focusedIndex;e.keyCode!==d.default.DOWN&&e.keyCode!==d.default.LEFT||(t-=1),e.keyCode!==d.default.UP&&e.keyCode!==d.default.RIGHT||(t+=1),t<0?t=this.props.tabs.length-1:t>=this.props.tabs.length&&(t=0),this.setState({focusedIndex:t})},this._onBlur=()=>{this._focusResetTimeout&&m.default.clearTimeout(this._focusResetTimeout),this._focusResetTimeout=m.default.setTimeout((()=>{const e=this._findTabIndexById(this.state.selectedId,this.props.tabs);this.isComponentMounted()&&this.state.focusedIndex!==e&&this.setState({hasFocus:!1,focusedIndex:e})}),250)},this._onFocus=()=>{this.isComponentMounted()&&!this.state.hasFocus&&this.setState({hasFocus:!0}),this._focusResetTimeout&&(m.default.clearTimeout(this._focusResetTimeout),this._focusResetTimeout=void 0)},this._onTabPress=e=>{this.setState({selectedId:e}),this.props.onChanged(e)}}_buildState(e,t){if(t){const t=e.initialySelectedId||e.tabs[0].id;return{selectedId:t,focusedIndex:this._findTabIndexById(t,e.tabs),hasFocus:!1}}return{}}UNSAFE_componentWillReceiveProps(e,t){super.UNSAFE_componentWillReceiveProps(e,t),this.props.initialySelectedId!==e.initialySelectedId&&this.setState({selectedId:e.initialySelectedId})}render(){const e=this._renderTabs(this.props.tabs,this.props.useFixedWidth?S.fixedWidthTab:void 0);return(0,n.jsx)(a.View,{onKeyPress:this._onKeyPress,onBlur:this._onBlur,onFocus:this._onFocus,style:this.props.useCompactLayout?S.containerCompact:S.container,accessibilityTraits:l.default.shouldUseTabListContainer()?a.Types.AccessibilityTrait.TabList:void 0,accessibilityLabel:this.props.accessibilityLabel,children:e})}_findTabIndexById(e,t){return(0,r.findIndex)(t,(t=>t.id===e))}_renderTabs(e,t){let i;this._getContext().isRTL?(i=e.slice(0),i.reverse()):i=e;const o=i.length;return i.map(((e,i)=>(0,n.jsx)(_,{tabId:e.id,title:e.title,focused:this.state.focusedIndex===i,selected:this.state.selectedId===e.id,shouldUpdateOnFocus:this.state.hasFocus,widthStyle:t,useCompactLayout:this.props.useCompactLayout,tabIndex:i,tabCount:o,includeTabCountOnDesktop:!l.default.shouldUseTabListContainer(),onTabPress:this._onTabPress},"tab-"+e.id)))}}t.TabFilters=f},75401:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TertiaryButton=void 0;const o=i(197582),n=i(785893),r=i(854646),a=o.__importStar(i(859745)),s=o.__importStar(i(516778)),l=i(154235),c=o.__importDefault(i(970035)),d=i(26703),u=(o.__importStar(i(704704)),o.__importDefault(i(799585))),p=o.__importDefault(i(692752)),g=i(16549),h=o.__importDefault(i(20758)),m=i(641400),S=o.__importDefault(i(827361)),_=i(262725),f=o.__importDefault(i(252089)),y=(0,d.lazyProperties)({titleStyle:()=>s.Styles.createTextStyle({color:g.Color.white}),darkTitleStyle:()=>s.Styles.createTextStyle({color:g.Color.gray400}),hiddenTitle:()=>s.Styles.createViewStyle({opacity:0}),innerContainerStyle:()=>s.Styles.createViewStyle({alignItems:"center",justifyContent:"center",paddingHorizontal:15}),innerContainerStroke:()=>s.Styles.createViewStyle({borderWidth:1}),activityIndicatorContainer:()=>s.Styles.createViewStyle({alignItems:"center",justifyContent:"center"}),iconAndTextContainer:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center"}),iconAndTextContainerReverse:()=>s.Styles.createViewStyle({flexDirection:"row-reverse"}),iconHorizontalMargin:()=>s.Styles.createViewStyle({marginRight:5}),iconHorizontalMarginReverse:()=>s.Styles.createViewStyle({marginLeft:5}),borderWidth:()=>s.Styles.createViewStyle({borderWidth:1}),secondaryIcon:()=>s.Styles.createViewStyle({marginLeft:8}),secondaryIconAndTextContainer:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center",overflow:"visible"}),image:()=>s.Styles.createViewStyle({width:24,height:24}),overrideStyle:()=>s.Styles.createViewStyle({paddingVertical:11})});class C extends p.default{constructor(){super(...arguments),this._onPillLayout=e=>{this.isComponentMounted()&&e.height>0&&this.state.pillHeight!==e.height&&this.setState({pillHeight:e.height})}}_buildState(e,t){const i=this._getButtonStyle(e);return{textColorInfo:this._textInfoForButtonStyle(i,e.colorInfoOverride,y.titleStyle,y.darkTitleStyle),gradientColors:this._getGradientColors(e),pillHeight:e.minHeight||30,hoverGradientColors:i===l.SXButtonStyle.GradientFill?f.default.getHoverGradientColors():void 0}}render(){var e;const t=[];this.props.showShadow&&t.push(S.default.overflowVisible),this.props.style&&t.push(this.props.style);const i=[y.innerContainerStyle,this.props.innerContainerStyle];this.props.buttonConfig&&(this.props.buttonConfig.backgroundColor||this.props.buttonConfig.borderColor)?(this.props.buttonConfig.borderColor&&(i.push(y.innerContainerStroke),i.push(s.Styles.createViewStyle({borderColor:this.props.buttonConfig.borderColor},!1))),this.props.buttonConfig.backgroundColor&&i.push(s.Styles.createViewStyle({backgroundColor:this.props.buttonConfig.backgroundColor},!1))):i.push(this._viewStyleForButtonStyle(this._getButtonStyle(this.props),this.props.colorInfoOverride)),i.push(s.Styles.createViewStyle({borderRadius:this.state.pillHeight/2,minHeight:this.props.minHeight||30},!1)),this.props.overrideStyle&&i.push(y.overrideStyle),this.props.showShadow&&i.push(S.default.shadowLightStyle),this.props.addBorderColor&&i.push([y.borderWidth,s.Styles.createViewStyle({borderColor:this.props.addBorderColor},!1)]);const o=[h.default.fontStyle.tertiaryButton,y.titleStyle,S.default.flexNegativeOne,this.props.textStyleOverride||void 0];let d,p;this.props.buttonConfig&&this.props.buttonConfig.textColor?(d=this.props.buttonConfig.textColor,p=s.Styles.createTextStyle({color:this.props.buttonConfig.textColor},!1)):(d=this.state.textColorInfo.color,p=this.state.textColorInfo.colorStyle),o.push(p),this.props.textStyleDeprecated&&o.push(this.props.textStyleDeprecated),this.props.showActivityIndicator&&o.push(y.hiddenTitle);const g=this._getTextColorStyle(this._getButtonStyle(this.props));let f,C;if(g&&o.push(g),this.props.title&&(f=(0,n.jsx)(s.Text,{style:o,numberOfLines:this.props.allowTextWrap?void 0:1,children:this.props.title}),this.props.subtitle)){let e;e=this.props.buttonConfig?this.props.buttonConfig.subtitleTextColor||this.props.buttonConfig.textColor:this.state.textColorInfo.subtitleColor;const t=[s.Styles.createTextStyle({color:e},!1),S.default.flexNegativeOne];f=(0,n.jsxs)(s.View,{style:S.default.flexNegativeOne,children:[f,(0,n.jsx)(_.Caption,{style:t,numberOfLines:this.props.allowTextWrap?void 0:1,children:this.props.subtitle})]})}f&&(C=this._getAccessoryMarginStyle());let v=this.props.accessoryView||void 0;if(!v&&this.props.icon){const e=[C];this.props.showActivityIndicator&&e.push(y.hiddenTitle),v=(0,n.jsx)(c.default,{icon:this.props.icon,size:this.props.iconSize||m.IconSize.size16,color:d,style:e})}else!v&&this.props.imageSource&&(v=(0,n.jsx)(s.Image,{source:this.props.imageSource,style:[C,y.image]}));if(f){const e=[y.iconAndTextContainer,S.default.flexNegativeOne];this.props.iconPositon===l.SXButtonIconPosition.End&&e.push(y.iconAndTextContainerReverse),f=(0,n.jsxs)(s.View,{style:e,children:[v,f]})}else f=v;if(this.props.secondaryIcon){const e=[y.secondaryIcon];this.props.secondaryIconMarginLeft&&e.push(s.Styles.createViewStyle({marginLeft:this.props.secondaryIconMarginLeft},!1)),this.props.secondaryIconMarginRight&&e.push(s.Styles.createViewStyle({marginRight:this.props.secondaryIconMarginRight},!1)),f=(0,n.jsxs)(s.View,{style:y.secondaryIconAndTextContainer,children:[f,(0,n.jsx)(c.default,{style:e,icon:this.props.secondaryIcon,size:this.props.secondaryIconSize||this.props.iconSize||m.IconSize.size16,color:this.props.secondaryIconColor||d})]})}f||(f=(0,n.jsx)(s.Text,{style:o,children:""}));const b=this._getButtonStyle(this.props),T=this.props.showActivityIndicator?(0,n.jsx)(s.View,{style:[S.default.absoluteFill,y.activityIndicatorContainer],children:(0,n.jsx)(u.default,{size:l.SXActivityIndicatorSize.ExtraSmall,tintColor:this.props.buttonConfig&&this.props.buttonConfig.indicatorColor?this.props.buttonConfig.indicatorColor:this._indicatorColorForButtonStyle(b,this.props.colorInfoOverride)})}):void 0,P=this.state.isHovering?this.state.hoverGradientColors:void 0,k=this.state.gradientColors?(0,n.jsx)(r.GradientView,{style:[...i,S.default.absoluteFill],colors:this.state.gradientColors,secondaryColors:P,direction:null!==(e=this.props.gradientDirection)&&void 0!==e?e:r.GradientDirection.BOTTOM_RIGHT}):void 0,A=[...i];this.props.backgroundStyle&&A.push(s.Styles.createViewStyle(this.props.backgroundStyle,!1)),this.props.disabled&&A.push(this._getDisabledStyle(this._getButtonStyle(this.props))),!this.props.disabled&&this.state.isHovering&&A.push(this._getHoverStyle(this._getButtonStyle(this.props)));const I=!!this.props.onPress||!!this.props.onLongPress,w=this.props.disabled&&!this.props.disabledOpacityOverride||this.props.showActivityIndicator;let x=this.props.accessibilityLabel||this.props.title||"";let N=this.props.accessibilityTraits;!N&&I&&(N=[s.Types.AccessibilityTrait.Button],w&&N.push(s.Types.AccessibilityTrait.Disabled));const D=I?s.Button:s.View;return(0,n.jsx)(D,{ref:this._onButtonRef,style:t,title:this.props.hoverText?this.props.hoverText:this.props.title,onFocus:this.props.disabled?void 0:this.props.onFocus,onPress:!this.props.disabled&&I?this.props.onPress:void 0,onPressIn:I?this._onPressInBound:void 0,onPressOut:I?this._onPressOutBound:void 0,onLongPress:!this.props.disabled&&I?this.props.onLongPress:void 0,onKeyPress:this.props.disabled?void 0:this.props.onKeyPress,onHoverStart:this._onHoverStartBound,onHoverEnd:this._onHoverEndBound,disabled:w,accessibilityLabel:x,accessibilityTraits:N,tabIndex:this.props.tabIndex,disableTouchOpacityAnimation:!0,autoFocus:this.props.autoFocus,importantForAccessibility:this.props.accessibilityHidden?s.Types.ImportantForAccessibility.NoHideDescendants:this.props.importantForAccessibility,children:(0,n.jsxs)(a.View,{ref:this._onAnimatedInnerButtonRef,style:A,onLayout:this._onPillLayout,children:[k,f,T]})})}_getAccessoryMarginStyle(){let e;if(this.props.iconPositon===l.SXButtonIconPosition.End)e=this.props.iconHorizontalMargin?s.Styles.createViewStyle({marginLeft:this.props.iconHorizontalMargin},!1):y.iconHorizontalMarginReverse;else e=this.props.iconHorizontalMargin?s.Styles.createViewStyle({marginRight:this.props.iconHorizontalMargin},!1):y.iconHorizontalMargin;return e}}t.TertiaryButton=C,t.default=C},734204:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(165986)),l=i(154235),c=i(26703),d=i(16549),u=o.__importDefault(i(20758)),p=o.__importDefault(i(827361)),g=o.__importDefault(i(497910)),h=(0,c.lazyProperties)({textEditContainer:()=>a.Styles.createViewStyle({flex:1,flexDirection:"row",alignSelf:"stretch",alignItems:"center",justifyContent:"center",paddingBottom:1,borderWidth:0,borderBottomWidth:1,borderStyle:"solid",borderColor:d.Color.transparent}),textEditInputBox:()=>a.Styles.createTextInputStyle({flex:1,flexDirection:"row",backgroundColor:d.Color.transparent,textAlign:"center",paddingBottom:1}),text:()=>a.Styles.createTextStyle({flexDirection:"row",paddingBottom:1,textAlign:"center",justifyContent:"center",flexShrink:1}),textView:()=>a.Styles.createViewStyle({flexShrink:1,flexDirection:"row",paddingBottom:1,justifyContent:"center"}),textContainerHover:()=>a.Styles.createViewStyle({opacity:.7})});class m extends g.default{constructor(){super(...arguments),this._textEditSetFocus=!1,this._onTextInputRef=e=>{this._inputRef=e||void 0,this._inputRef&&this._textEditSetFocus&&(this._inputRef.requestFocus(),this._textEditSetFocus=!1)},this._textViewPress=()=>{this.props.canEdit&&!this.state.isEditing&&this.setState({isEditing:!0})},this._onChangeText=e=>{this.props.onChangeText&&this.props.onChangeText(e),this.setState({newText:e})},this._submitEdit=()=>{const e=this.state.newText;if(this.props.originalText!==e){if(this.props.onSubmitEdit&&this.props.onSubmitEdit(e))return}this._cancelEdit()},this._onMouseEnter=()=>{this.props.canEdit&&this.setState({isHovering:!0})},this._onMouseLeave=()=>{this.setState({isHovering:!1})},this._onFocus=e=>{this.props.onFocus&&this.props.onFocus(e),this.props.onFocusWithRef&&this.props.onFocusWithRef(this),this.props.canEdit&&this.setState({isEditing:!0})},this._onBlur=()=>{this.setState({isEditing:!1},(()=>{this.props.onBlur&&(this.props.onBlur(),(void 0===this.props.submitOnBlur||this.props.submitOnBlur)&&this._submitEdit()),this.props.onBlurWithRef&&this.props.onBlurWithRef(this)}))}}_buildState(e,t){const i={},o=this.props.originalText||"",n=e.originalText||"";return(t||n!==o)&&(i.newText=n),i}requestFocus(){this._inputRef&&this.props.canEdit?this._inputRef.requestFocus():this._textEditSetFocus=!0}finishEditing(){this._onBlur()}submit(){this._submitEdit()}resetText(e){this.isComponentMounted()&&this._inputRef&&this.setState({newText:e||""})}render(){const e=[h.textEditContainer];return this.props.canEdit&&(this.state.isEditing||this.props.showEditable?e.push(this._themeStyles.dividerBorderColorStyle):this.state.isHovering&&e.push(h.textContainerHover)),this.props.style&&e.push(this.props.style),(0,n.jsx)(a.View,{style:e,onMouseEnter:this.props.canEdit?this._onMouseEnter:void 0,onMouseLeave:this.props.canEdit?this._onMouseLeave:void 0,onPress:this.props.canEdit?this._textViewPress:void 0,children:this._renderTextWithAutoFocus()})}_renderTextWithAutoFocus(){var e;if((this.state.isEditing||this.props.showEditable)&&this.props.canEdit){const t=[h.textEditInputBox,this._themeStyles.primaryTextColorStyle,this._textStyle()],i=null===(e=this.props.autoFocus)||void 0===e||e,o=this.props.autoFocusable||!1;return(0,n.jsx)(s.default,{ref:this._onTextInputRef,autoFocusable:o,style:t,value:this.state.newText,placeholder:this.props.placeholderText,placeholderTextColor:this._getPlaceholderColor(),autoFocus:this.state.isEditing&&i,autoCapitalize:this.props.autoCapitalize,autoCorrect:this.props.autoCorrect,onChangeText:this._onChangeText,onSubmitEditing:this._submitEdit,returnKeyType:"done",keyboardAppearance:this._useDarkTheme()?"dark":void 0,onFocus:this._onFocus,onBlur:this._onBlur,editable:this.props.canEdit,blurOnSubmit:void 0===this.props.blurOnSubmit||this.props.blurOnSubmit,maxLength:this.props.maxLength,multiline:this.props.multiline,importantForAccessibility:this.props.accessibilityLabel?a.Types.ImportantForAccessibility.Yes:void 0,accessibilityLabel:this.props.accessibilityLabel,clearButtonMode:"never",tabIndex:this.props.tabIndex,disableFullscreenUI:this.props.disableFullscreenUI},"textInput")}const t=this._textStyle();if(this.props.originalTextReact||this.props.originalText&&this.props.originalText.length>0){const e=this.props.addAccessibilityLabelToOriginalTextReact&&this.props.accessibilityLabel;if(this.props.originalTextReact){const t=[h.textView];return this.props.canEdit&&t.push(p.default.pointerCursor),(0,n.jsx)(a.View,{style:t,importantForAccessibility:e?a.Types.ImportantForAccessibility.Yes:void 0,accessibilityLabel:e?this.props.accessibilityLabel:void 0,children:this.props.originalTextReact},"textContainer")}const i=[h.text,a.Styles.createTextStyle({color:this._getContext().themeColors.textPrimary},!1),t];return this.props.canEdit&&i.push(p.default.pointerCursor),(0,n.jsx)(a.Text,{style:i,numberOfLines:this.props.numberOfLines||1,children:this.props.originalText&&this.props.originalText.length>0?this.props.originalText:this.props.placeholderText},"textContainer")}return(0,n.jsx)(a.Text,{style:[h.text,this._themeStyles.secondaryTextColorStyle,t],numberOfLines:1,children:this.props.placeholderText},"textContainer")}_getPlaceholderColor(){return this.props.placeholderColorOverride?this.props.placeholderColorOverride:this._useDarkTheme()?this._themeColors.secondaryTextColor:void 0}_cancelEdit(){this.setState({isEditing:!1,newText:this.props.originalText||""})}_textStyle(){const e=[];if(!r.isUndefined(this.props.textEditTextStyle))switch(this.props.textEditTextStyle){case l.TextEditTextStyle.Caption:e.push(u.default.fontStyle.caption);break;case l.TextEditTextStyle.BodyText:e.push(u.default.fontStyle.body);break;case l.TextEditTextStyle.BodyTextBold:e.push(u.default.fontStyle.bodyBold);break;case l.TextEditTextStyle.MessagingHeader:e.push(u.default.fontStyle.messagingHeader);break;case l.TextEditTextStyle.MessagingHeaderSmall:e.push(u.default.fontStyle.messagingHeaderSmall)}return this.props.textStyle&&e.push(this.props.textStyle),e}}t.default=m},52066:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(154235),s=i(26703),l=i(16549),c=o.__importDefault(i(20758)),d=o.__importDefault(i(497910)),u=(0,s.lazyProperties)({linkUnderline:()=>r.Styles.createTextStyle({textDecorationLine:"underline"}),linkBlue:()=>r.Styles.createTextStyle({color:l.Color.blue}),linkWhite:()=>r.Styles.createTextStyle({color:l.Color.white})});class p extends d.default{constructor(){super(...arguments),this._onTextElementRef=e=>{this._textElement=e||void 0}}requestFocus(){this.isComponentMounted()&&this._textElement&&this._textElement.requestFocus&&this._textElement.requestFocus()}blur(){this.isComponentMounted()&&this._textElement&&this._textElement.blur&&this._textElement.blur()}render(){const e=this._useAccessibleTheme(),t=[];switch(this.props.linkTextStyle){case a.LinkTextStyle.BodyText:t.push(c.default.bodyFontStyle(this._currentTheme));break;case a.LinkTextStyle.BodyTextSmall:t.push(c.default.bodyFontStyle(this._currentTheme,a.BodyTextSize.SmallDeprecated));break;case a.LinkTextStyle.BodyTextBold:t.push(c.default.bodyBoldFontStyle(this._currentTheme));break;case a.LinkTextStyle.Caption:t.push(c.default.captionFontStyle(this._currentTheme))}if((this.props.underline||e)&&t.push(u.linkUnderline),this.props.white)t.push(u.linkWhite);else if(this.props.blue&&!e)t.push(u.linkBlue);else if(this.props.textThemeColor)switch(this.props.textThemeColor){case a.TextThemeColor.Primary:t.push(this._themeStyles.primaryTextColorStyle);break;case a.TextThemeColor.Secondary:t.push(this._themeStyles.secondaryTextColorStyle);break;case a.TextThemeColor.Disabled:t.push(this._themeStyles.disabledTextColorStyle);break;case a.TextThemeColor.Destructive:t.push(this._themeStyles.destructiveTextColorStyle)}return this.props.style&&t.push(this.props.style),(0,n.jsx)(r.Link,Object.assign({},this.props,{style:t,ref:this._onTextElementRef,children:this.props.children}))}}t.default=p},141144:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextBase=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(154235),s=(i(815146),o.__importStar(i(85385)),o.__importDefault(i(497910)));class l extends s.default{constructor(){super(...arguments),this._onTextElementRef=e=>{this._textElement=e||void 0}}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount()}requestFocus(){this.isComponentMounted()&&this._textElement&&this._textElement.requestFocus&&this._textElement.requestFocus()}blur(){this.isComponentMounted()&&this._textElement&&this._textElement.blur&&this._textElement.blur()}render(){const e=this._textStyles();if(this.props.textThemeColor)switch(this.props.textThemeColor){case a.TextThemeColor.Primary:e.push(this._themeStyles.primaryTextColorStyle);break;case a.TextThemeColor.Secondary:e.push(this._themeStyles.secondaryTextColorStyle);break;case a.TextThemeColor.Disabled:e.push(this._themeStyles.disabledTextColorStyle);break;case a.TextThemeColor.Destructive:e.push(this._themeStyles.destructiveTextColorStyle)}this.props.style&&e.push(this.props.style);const t=Object.assign(Object.assign({},this.props),{style:e});return this.props.accessibilityHidden&&(t.importantForAccessibility=r.Types.ImportantForAccessibility.NoHideDescendants),(0,n.jsx)(r.Text,Object.assign({},t,{ref:this._onTextElementRef}))}}t.TextBase=l,t.default=l},262725:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextThemeColor=t.HeaderSize=t.BodyTextSize=t.ThemeAwareText=t.PanelHeader=t.CardTitle=t.RowTitle=t.Subtitle=t.Header=t.Caption=t.BodyText=void 0;const o=i(197582),n=o.__importStar(i(516778)),r=i(154235);Object.defineProperty(t,"BodyTextSize",{enumerable:!0,get:function(){return r.BodyTextSize}}),Object.defineProperty(t,"HeaderSize",{enumerable:!0,get:function(){return r.HeaderSize}}),Object.defineProperty(t,"TextThemeColor",{enumerable:!0,get:function(){return r.TextThemeColor}});const a=o.__importStar(i(172792)),s=i(954225),l=o.__importDefault(i(960282)),c=o.__importDefault(i(20758)),d=o.__importDefault(i(141144));class u extends d.default{_textStyles(){return[this.props.bold?c.default.bodyBoldFontStyle(this._currentTheme,this.props.size):c.default.bodyFontStyle(this._currentTheme,this.props.size)]}}t.BodyText=u;class p extends d.default{_textStyles(){const e=[this.props.small?c.default.fontStyle.captionSmall:c.default.fontStyle.caption];if(this.props.messageStreamFontSize&&this.props.messageStreamFontSize!==s.MessageStreamFontSize.Normal){const t=a.getStyleFromStyle(e,this.props.messageStreamFontSize);e.push(t)}return e.push(n.Styles.createTextStyle({color:this._themeColors.textSecondary},!1)),e}}t.Caption=p;class g extends d.default{_textStyles(){let e;switch(this.props.size){case r.HeaderSize.h0:e=this.props.light?c.default.fontStyleNext.h0Light:c.default.fontStyle.h0;break;case r.HeaderSize.h1:e=this.props.light?c.default.fontStyleNext.h1Light:c.default.fontStyle.h1;break;case r.HeaderSize.h2:e=this.props.light?c.default.fontStyleNext.h2Light:c.default.fontStyle.h2;break;case r.HeaderSize.h3:e=this.props.light?c.default.fontStyleNext.h3Light:c.default.fontStyle.h3;break;case r.HeaderSize.h4:e=this.props.light?c.default.fontStyleNext.h4Light:c.default.fontStyle.h4;break;default:case r.HeaderSize.h5:e=this.props.light?c.default.fontStyleNext.h5Light:c.default.fontStyle.h5}return[e,this._themeStyles.primaryTextColorStyle]}}t.Header=g;class h extends d.default{_textStyles(){return[m(this._themeColors,this.props.useMobileUI)]}}function m(e,t){let i=c.default.fontSize.size14;return t&&(i=c.default.fontSize.size15),n.Styles.createTextStyle({font:c.default.font.uiDisplaySemibold,fontSize:i,color:e.textSecondary},!1)}t.Subtitle=h;class S extends d.default{_textStyles(){const e=[c.default.rowTitleFontStyle(this._currentTheme),this.props.textStyle];return this.props.disabled&&e.push(this._themeStyles.disabledTextColorStyle),e}}t.RowTitle=S;class _ extends d.default{_textStyles(){const e=l.default.isSmallDeviceNoSubscription(this._getRootViewId())&&!1!==this.props.useSmallTitle;return[c.default.cardTitleFontStyle(this._currentTheme,e)]}}t.CardTitle=_;class f extends d.default{_textStyles(){return[c.default.panelHeaderFontStyle(this.props.landscape,this._currentTheme)]}}t.PanelHeader=f;class y extends d.default{_textStyles(){return[]}}t.ThemeAwareText=y},429955:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(854646),a=o.__importStar(i(859745)),s=o.__importStar(i(516778)),l=o.__importDefault(i(150343)),c=i(815146),d=o.__importStar(i(85385)),u=i(26703),p=o.__importStar(i(704704)),g=o.__importDefault(i(252089)),h=i(16549),m=o.__importDefault(i(139221)),S=o.__importDefault(i(497910)),_=o.__importDefault(i(760989)),f=(0,u.lazyProperties)({container:()=>s.Styles.createButtonStyle({flexDirection:"row",alignItems:"center"}),toggleSwitch:()=>s.Styles.createViewStyle({flexDirection:"row",borderRadius:15,marginVertical:8,height:30,width:50,backgroundColor:h.Color.gray300}),toggleSwitchAndroid:()=>s.Styles.createViewStyle({backgroundColor:h.Color.transparent,borderRadius:0,alignItems:"center",justifyContent:"center"}),toggleSwitchUWP:()=>s.Styles.createViewStyle({backgroundColor:h.Color.transparent,borderRadius:0,alignItems:"center",justifyContent:"center"}),toggleSwitchBackgroundWrapperAndroid:()=>s.Styles.createViewStyle({position:"absolute",top:8,left:8,width:34,height:14,borderRadius:7}),toggleSwitchBackgroundWrapperColorAndroid:()=>s.Styles.createViewStyle({backgroundColor:h.Color.gray300}),toggleSwitchBackgroundWrapperUWP:()=>s.Styles.createViewStyle({position:"absolute",top:6,left:5,width:40,height:18}),toggleSwitchBackground:()=>s.Styles.createViewStyle({position:"absolute",top:0,bottom:0,left:0,right:0,borderRadius:15}),toggleSwitchBackgroundAndroid:()=>s.Styles.createViewStyle({borderRadius:7}),toggleSwitchBackgroundUWP:()=>s.Styles.createViewStyle({borderRadius:10}),toggleKnob:()=>s.Styles.createViewStyle({top:2,height:26,width:26,borderRadius:13}),toggleKnobAndroid:()=>s.Styles.createViewStyle({top:0,height:24,width:24,borderRadius:12,borderWidth:2,borderStyle:"solid",backgroundColor:h.Color.gray300}),toggleKnobUWP:()=>s.Styles.createViewStyle({height:10,width:10,borderRadius:5})});class y extends S.default{constructor(){super(...arguments),this._onButtonRef=e=>{this._buttonRef=e||void 0},this._onKnobAnimatedViewRef=e=>{this._animatedKnobView=e||void 0},this._onBackgroundAnimatedViewRef=e=>{this._animatedBackgroundView=e||void 0},this._handleClick=e=>{e.stopPropagation(),this.props.onChange&&this.props.onChange(e,!this.props.isOn)}}_buildState(e,t){const i={colors:g.default.getGradientColors(),primaryBackgroundColorStyle:g.default.getPrimaryBackgroundColorStyle()};return t&&(i.useUwpToggleStyle=m.default.getPlatformType()===c.PlatformType.Windows,i.useUwpToggleStyle&&(this._uwpToggleBackgroundValue=new s.Animated.Value(e.isOn?1:0))),i.enableRefreshedPalette=l.default.getS4LUiFeatures().enableRefreshedPalette,i}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),this.props.isOn!==e.isOn){const e=_.default.newCauseId();d.log(c.LogTraceArea.SXAnimated,"ToggleSwitch.componentDidUpdate causeId: "+e);const t=[];this._backgroundAnimation&&this._backgroundAnimation.stop(),this._animatedKnobView&&t.push(this._animatedKnobView.getAnimation({x:{toValue:this.props.isOn?this._knobLeftOnValue(this.state.useUwpToggleStyle):this._knobLeftOffValue(this.state.useUwpToggleStyle),easing:a.Easing.SkypeShotgun,duration:a.Common.Duration.Tiny}},e)),this.state.useUwpToggleStyle&&this._uwpToggleBackgroundValue?(this._backgroundAnimation=a.timing.shotgun({value:this._uwpToggleBackgroundValue,toValue:this.props.isOn?1:0,duration:a.Common.Duration.Tiny}),t.push(this._backgroundAnimation)):this._animatedBackgroundView&&(this._backgroundAnimation=this._animatedBackgroundView.getAnimation({opacity:this.props.isOn?1:0},e),t.push(this._backgroundAnimation)),t.length&&a.parallel(t).start((()=>{delete this._backgroundAnimation}))}}render(){let e=s.Styles.combine(f.toggleKnob,this._themeStyles.primaryBackgroundColorStyle),t=s.Styles.combine(f.toggleSwitchBackground),i=s.Styles.combine(f.toggleSwitch,this.props.toggleSwitchStyles);const o=this._useAccessibleTheme(),l=this.state.enableRefreshedPalette?s.Styles.createViewStyle({backgroundColor:this.props.isOn?this._themeColors.iconInteractive:this._themeColors.iconSecondary},!1):void 0,c=this.state.enableRefreshedPalette&&this.props.disable?s.Styles.createViewStyle({backgroundColor:this._themeColors.iconDisabled},!1):void 0;if(!this.state.useUwpToggleStyle&&this.state.enableRefreshedPalette&&(i=this.props.disable?s.Styles.combine(i,c):s.Styles.combine(i,l)),this.state.useUwpToggleStyle&&this._uwpToggleBackgroundValue){const o=this._getWindowsStyles(t,e,i);t=o.backgroundStyle,i=o.toggleSwitchStyles,e=o.knobStyles}const d=this.state.useUwpToggleStyle||o?void 0:(0,n.jsx)(r.GradientView,{style:f.toggleSwitchBackground,direction:this._getContext().isRTL?r.GradientDirection.LEFT:r.GradientDirection.RIGHT,colors:this.state.colors});let u;u=this.state.useUwpToggleStyle?(0,n.jsx)(s.Animated.View,{style:[t,this._uwpToggleBackgroundStyle]},"background"):(0,n.jsx)(a.View,{ref:this._onBackgroundAnimatedViewRef,style:t,opacity:this.props.isOn?1:0,children:d},"background"),this.state.useUwpToggleStyle&&(u=(0,n.jsx)(s.View,{style:f.toggleSwitchBackgroundWrapperUWP,children:u},"background-wrapper"));const g=[u,(0,n.jsx)(a.View,{ref:this._onKnobAnimatedViewRef,style:e,x:this.props.isOn?this._knobLeftOnValue(this.state.useUwpToggleStyle):this._knobLeftOffValue(this.state.useUwpToggleStyle),y:this.state.useUwpToggleStyle?-2:void 0},"knob")];let h;const m={style:i,key:"switch"};if(h=(0,n.jsx)(a.View,Object.assign({},m,{opacity:1,children:g})),this.props.disableInteraction)return h;let S,_,y;S=this.props.accessibilityLabel,_=this.props.isOn?p.getString("ToggleSwitch.OnText"):p.getString("ToggleSwitch.OffText"),y=[s.Types.AccessibilityTrait.CheckBox],this.props.isOn&&y.push(s.Types.AccessibilityTrait.Checked);const C=this.props.onChange?s.Button:s.View;return(0,n.jsx)(C,{style:f.container,onPress:this.props.onChange?this._handleClick:void 0,disabled:this.props.disable,disableTouchOpacityAnimation:!0,accessibilityLabel:S,accessibilityTraits:y,disabledOpacity:this.state.enableRefreshedPalette?1:void 0,title:_,ref:this._onButtonRef,children:h})}_knobLeftOnValue(e){return e?this._getContext().isRTL?-11:11:22*(this._getContext().isRTL?-1:1)}_knobLeftOffValue(e){return e?this._getContext().isRTL?11:-11:2*(this._getContext().isRTL?-1:1)}requestFocus(){this._buttonRef&&this._buttonRef.requestFocus()}_getAndroidStyles(e,t,i,o,n){return t=s.Styles.combine(t,f.toggleKnobAndroid),i=s.Styles.combine(i,f.toggleSwitchAndroid),t=this.props.overlayColorAndroid?s.Styles.combine(t,s.Styles.createViewStyle({borderColor:this.props.overlayColorAndroid},!1)):s.Styles.combine(t,this._themeStyles.primaryBorderColorStyle),this.state.enableRefreshedPalette?this.props.disable?(e=s.Styles.combine(e,n),t=s.Styles.combine(t,s.Styles.createViewStyle({backgroundColor:this._themeColors.surfacePrimary,borderColor:this._themeColors.iconDisabled},!1))):(t=s.Styles.combine(t,s.Styles.createViewStyle({backgroundColor:this._themeColors.surfacePrimary,borderColor:this.props.isOn?this._themeColors.iconInteractive:this._themeColors.iconSecondary},!1)),e=s.Styles.combine(e,o)):(e=s.Styles.combine(e,f.toggleSwitchBackgroundAndroid),e=s.Styles.combine(e,this.state.primaryBackgroundColorStyle),this.props.isOn&&(t=s.Styles.combine(t,this.state.primaryBackgroundColorStyle))),{toggleSwitchStyles:i,knobStyles:t,backgroundStyle:e}}_getWindowsStyles(e,t,i){i=s.Styles.combine(i,f.toggleSwitchUWP),t=s.Styles.combine(t,[f.toggleKnobUWP,this._themeStyles.primaryBackgroundColorStyle]),e=s.Styles.combine(e,f.toggleSwitchBackgroundUWP);let o=[h.Color.gray300,g.default.getPrimaryColorNoSubscription()];return this.state.enableRefreshedPalette&&(o=this.props.disable?[this._themeColors.iconDisabled,this._themeColors.iconDisabled]:[this._themeColors.iconSecondary,this._themeColors.iconInteractive]),this._uwpToggleBackgroundValue&&(this._uwpToggleBackgroundStyle=s.Styles.createAnimatedViewStyle({backgroundColor:this._uwpToggleBackgroundValue.interpolate({inputRange:[0,1],outputRange:o})})),{toggleSwitchStyles:i,knobStyles:t,backgroundStyle:e}}}t.default=y},281453:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(315742),a=o.__importDefault(i(958868)),s=o.__importDefault(i(211618)),l=o.__importDefault(i(101476)),c=o.__importDefault(i(984263));class d extends a.default{constructor(){super(...arguments),this._updateAnchorRect=()=>{this._popupView&&this._popupView.updatePosition(this.state.config)},this._onPopupViewRef=e=>{this._popupView=e||void 0},this._getPopUpPositions=()=>[r.PopupAnchorPositon.Top],this._getAnchorInfo=()=>this.state.config,this._renderPopupContent=()=>{const{displayText:e,style:t,textColor:i}=this.state.config;return(0,n.jsx)(l.default,{displayText:e||"",style:t,textColor:i})}}_buildState(e,t){return{config:c.default.getToolTipConfig(this._getRootViewId())}}componentDidMount(){super.componentDidMount(),this._updateAnchorRect()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.config!==t.config&&this.state.config&&this._updateAnchorRect()}render(){var e;return this.state.config&&this.state.config.displayText.length?(0,n.jsx)(s.default,{ref:this._onPopupViewRef,disablePositionAnimation:!0,getAnchorInfo:this._getAnchorInfo,getPopupPositions:this._getPopUpPositions,containerOffsetY:null!==(e=this.state.config.containerOffsetY)&&void 0!==e?e:5,renderPopup:this._renderPopupContent,showArrow:this.state.config.showArrow,arrowColor:this.state.config.arrowColor}):null}}t.default=d},746154:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(217041),a=i(848822),s=i(403396),l=o.__importDefault(i(38217)),c=o.__importStar(i(500645));class d extends r.ComponentBase{render(){const e=l.default.getIconSize(this.props.size);return this.props.isOneOnOne?(0,n.jsx)(s.UserIcon,{userMri:this.props.mri,size:e.user,statusTypes:this.props.showStatus?c.contactAllowedStatuses():void 0,statusBorderColor:this.props.statusBorderColor}):(0,n.jsx)(a.ConversationIcon,{conversationId:this.props.mri,size:e.conversation})}}t.default=d},483877:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WideButton=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(537180),l=i(344175),c=i(154235),d=o.__importDefault(i(142193)),u=o.__importDefault(i(186325)),p=o.__importDefault(i(560099)),g=o.__importDefault(i(970035)),h=i(26703),m=o.__importStar(i(704704)),S=o.__importDefault(i(799585)),_=i(16549),f=o.__importDefault(i(20758)),y=i(641400),C=o.__importStar(i(179582)),v=o.__importDefault(i(827361)),b=i(262725),T=o.__importDefault(i(497910)),P=(0,h.lazyProperties)({container:()=>a.Styles.createViewStyle({alignSelf:"stretch"}),buttonInner:()=>a.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",minHeight:60,alignItems:"center",alignSelf:"stretch"}),iconStyleMargin:()=>a.Styles.createViewStyle({marginRight:10}),bottomTextLine:()=>a.Styles.createViewStyle({marginTop:2}),divider:()=>a.Styles.createViewStyle({position:"absolute",left:0,right:0,bottom:0,height:1}),rightLabelText:()=>a.Styles.createTextStyle({textAlignVertical:"center",marginLeft:6,alignSelf:"center"}),rightArrowView:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:6,overflow:"visible"}),rightArrowText:()=>a.Styles.createViewStyle({backgroundColor:_.Color.transparent,overflow:"visible"})});class k extends T.default{constructor(){super(...arguments),this._handleOnClick=e=>{e.stopPropagation(),this.props.onPressed&&this.props.onPressed(e)},this._onHoverStart=()=>{this.isComponentMounted()&&this.setState({isHovering:!0})},this._onButtonRef=e=>{this._focussableComponentRef=e||void 0},this._onHoverEnd=()=>{this.isComponentMounted()&&this.setState({isHovering:!1})}}_buildState(e,t){const i={};return t&&(i.isHovering=!1),i}requestFocus(){this._focussableComponentRef&&this._focussableComponentRef.focus()}render(){var e,t;let i,o,h;if(this.props.icon){let o;const s=this.state.isHovering?this._themeColors.textHoverColor:this.props.isDestructive?this._themeColors.destructiveTextColor:void 0;o=r.isArray(this.props.icon)?r.map(this.props.icon,((e,t)=>({icon:e,color:s,opacity:t>0?.6:1}))):[{icon:this.props.icon,color:s}];const l=this.props.iconMargins||this.props.iconPadding?a.Styles.createViewStyle({marginLeft:null===(e=this.props.iconMargins)||void 0===e?void 0:e.left,marginRight:null===(t=this.props.iconMargins)||void 0===t?void 0:t.right,padding:this.props.iconPadding},!1):P.iconStyleMargin;i=(0,n.jsx)(p.default,{style:l,children:(0,n.jsx)(d.default,{icons:o,iconSize:this.props.iconSize})})}this.props.showSpinner?o=(0,n.jsx)(S.default,{size:c.SXActivityIndicatorSize.Small,tintColor:this._themeColors.primaryTextColor}):this.props.hideArrow||(o=(0,n.jsx)(p.default,{style:P.rightArrowView,children:(0,n.jsx)(g.default,{icon:C.navForwardIcon(),size:y.IconSize.size20,color:this._themeColors.disclosureArrowColor,style:P.rightArrowText})})),this.props.labelBottom&&(h=(0,n.jsx)(b.Caption,{style:P.bottomTextLine,numberOfLines:this.props.labelBottomSingleLine?1:2,children:this.props.labelBottom}));const _=[this.props.useRegularFont?f.default.bodyFontStyle(this._currentTheme):f.default.rowTitleFontStyle(this._currentTheme),v.default.flexOne];this.props.disabled&&!this.props.showFullOpacityWhenDisabled?_.push(this._themeStyles.disabledTextColorStyle):this.props.isDestructive&&_.push(this._themeStyles.destructiveTextColorStyle),this.props.labelStyle&&_.push(this.props.labelStyle),this.state.isHovering&&_.push(this._themeStyles.textHoverColorStyle);const T=[P.buttonInner,v.default.pointerCursor];this.props.buttonStyles&&T.push(this.props.buttonStyles);const k=this.props.hideDivider?void 0:(0,n.jsx)(u.default,{style:P.divider});let A=this.props.accessibilityLabel;if(!A){const e=r.compact([this.props.label,this.props.labelBottom,this.props.labelRight]);A=r.join(e,", ")}this.props.disabled,!this._useLinkTrait()&&this.props.treatAsLink&&A&&(A+=", "+m.getString("Browser.OpenUrlInBrowserTitle"));const I=this._useLinkTrait()?"link":"button";return(0,n.jsxs)(a.View,{style:[P.container,v.default.noncollapsibleView,this.props.style],children:[(0,n.jsxs)(s.Pressable,{ref:this._onButtonRef,accessibilityLabel:A,accessibilityRole:I,style:T,onPress:this._handleOnClick,onLongPress:this.props.onLongPress,disabled:this.props.disabled,onHoverIn:this.props.disabled?void 0:this._onHoverStart,onHoverOut:this.props.disabled?void 0:this._onHoverEnd,children:[i,(0,n.jsxs)(l.Row,{flex:1,children:[(0,n.jsxs)(l.Column,{flex:1,children:[(0,n.jsx)(a.Text,{style:_,numberOfLines:r.isUndefined(this.props.labelNumberOfLines)?2:this.props.labelNumberOfLines,children:this.props.label}),h]}),(0,n.jsx)(b.RowTitle,{style:[this._themeStyles.secondaryTextColorStyle,P.rightLabelText],numberOfLines:2,children:this.props.labelRight})]}),o]}),k]})}_useLinkTrait(){return this.props.treatAsLink&&!0}}t.WideButton=k},202752:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(217041),a=i(44717),s=i(742403),l=o.__importDefault(i(615364)),c=o.__importDefault(i(601976)),d=o.__importDefault(i(541181)),u=i(673115);class p extends r.ComponentBase{constructor(){super(...arguments),this._onImageError=()=>{this.setState({avatarUrl:void 0})}}_buildState(e){return{avatarUrl:c.default.getDisplayableProfile(e.id).getAvatarUrl(),variant:g((0,l.default)().getConversation(e.id))}}render(){return(0,n.jsx)(u.EntityAvatar,{avatarUrl:this.state.avatarUrl,onImageError:this._onImageError,BottomSlot:this.props.bottomSlot,FallbackSlot:(0,n.jsx)(d.default,{id:this.props.id,variant:this.state.variant,size:this.props.size}),size:this.props.size,variant:this.state.variant})}}function g(e){return e&&(0,a.isAgent)(e.id)||(0,s.isContentChannel)(e)?"square":"round"}t.default=p},541181:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(217041),a=i(673115),s=o.__importDefault(i(601976));class l extends r.ComponentBase{_buildState(e){return{initials:s.default.getDisplayableProfile(e.id).getUpperCaseInitials()}}render(){return(0,n.jsx)(a.EntityInitialsAvatar,{id:this.props.id,initials:this.state.initials,variant:this.props.variant,size:this.props.size||"md"})}}t.default=l},343055:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InitialsConversationAvatar=t.ConversationAvatar=void 0;const o=i(197582);var n=i(202752);Object.defineProperty(t,"ConversationAvatar",{enumerable:!0,get:function(){return o.__importDefault(n).default}});var r=i(541181);Object.defineProperty(t,"InitialsConversationAvatar",{enumerable:!0,get:function(){return o.__importDefault(r).default}})},513983:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(633958)),l=i(815146),c=o.__importStar(i(800662)),d=o.__importStar(i(85385)),u=o.__importDefault(i(54945)),p=o.__importDefault(i(924849)),g=o.__importDefault(i(827361)),h=o.__importDefault(i(497910)),m="row";class S extends h.default{constructor(){super(...arguments),this._focusedButtonIndex=0,this._mountedRefsMap=new p.default,this.handleFocusEvent=e=>(d.log(l.LogTraceArea.GenericUnsafe,"CustomActionMenuBase.handleFocusEvent"),e===c.FocusEvent.CustomActionMenuDisplayed&&(this.focusFirst(),!0)),this._onKeyPress=e=>{switch(e.keyCode){case u.default.UP:case u.default.LEFT:--this._focusedButtonIndex;break;case u.default.DOWN:case u.default.RIGHT:++this._focusedButtonIndex;break;default:return}const t=r.size(this._mountedRefsMap.allRefs());this._focusedButtonIndex<0?this._focusedButtonIndex=0:this._focusedButtonIndex>t-1&&(this._focusedButtonIndex=t-1);const i=this._mountedRefsMap.ref(m+this._focusedButtonIndex);i&&i.requestFocus(),e.preventDefault(),e.stopPropagation()}}focusFirst(){const e=this._mountedRefsMap.ref(m+0);e&&e.requestFocus()}componentDidMount(){super.componentDidMount(),c.register(c.FocusEvent.CustomActionMenuDisplayed,this)}componentWillUnmount(){super.componentWillUnmount(),c.unregister(c.FocusEvent.CustomActionMenuDisplayed,this)}render(){return(0,n.jsx)(s.default,{isPresentedInMobileSheet:!0,children:(0,n.jsx)(a.View,{style:[this.props.style,g.default.flexOne],onKeyPress:this._onKeyPress,children:this._renderRows(this.props,this.state)})})}_renderRows(e,t){const i=this._buildRows(e,t),o=i.length-1;let n=0;return r.map(i,((t,i)=>{const r=!t.nonInteractive,a=Object.assign(Object.assign({},t.props),{ref:r?this._mountedRefsMap.onComponentRef(m+n):void 0,hideBorder:t.props.hideBorder||i===o,colorThemeOverride:e.colorThemeOverride});return r&&n++,t.builder(a)}))}}t.default=S},397232:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(217041),a=o.__importDefault(i(186325));class s extends r.ComponentBase{static rowHeight(e){return 1+(e.marginTop||0)+(e.marginBottom||0)}render(){return(0,n.jsx)(a.default,Object.assign({},this.props))}}s.buildRow=e=>(0,n.jsx)(s,Object.assign({},e)),t.default=s},531829:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GridAlignment=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(142193)),l=i(77395),c=i(26703),d=o.__importDefault(i(924849)),u=i(16549),p=o.__importDefault(i(827361)),g=i(262725),h=o.__importDefault(i(497910));var m;!function(e){e[e.Default=0]="Default",e[e.Center=1]="Center"}(m||(t.GridAlignment=m={}));const S=(0,c.lazyProperties)({buttonStyle:()=>a.Styles.createViewStyle({height:80,alignSelf:"stretch",alignItems:"center",justifyContent:"center",backgroundColor:u.Color.transparent}),tabTitle:()=>a.Styles.createTextStyle({textAlign:"center",marginTop:5,height:28}),gridView:()=>a.Styles.createViewStyle({flexWrap:"wrap",flexDirection:"row",justifyContent:"space-around",alignItems:"center",marginTop:8,paddingHorizontal:10}),icon:()=>a.Styles.createViewStyle({width:40,height:40,borderRadius:8,alignItems:"center",justifyContent:"center"})});class _ extends h.default{constructor(){super(...arguments),this._mountedRefsMap=new d.default,this._onLayout=e=>{this.state.viewWidth!==e.width&&this.setState({viewWidth:e.width})},this._renderButton=(e,t)=>{const i=r.isArray(e.icon)?e.icon:[e.icon];return(0,n.jsx)(a.View,{style:t,children:(0,n.jsxs)(l.HoverableButton,{ref:this._mountedRefsMap.onComponentRef("griditem"+e.key),style:S.buttonStyle,title:e.title,onPress:e.onPress,activeOpacity:.8,accessibilityLabel:e.accessibilityLabel,disableHoverOpacityStyles:!0,hoverStyle:this._themeStyles.rowHoverViewStyle,children:[(0,n.jsx)(a.View,{style:[S.icon,this._themeStyles.secondaryBackgroundColorStyle],children:(0,n.jsx)(s.default,{icons:i})}),(0,n.jsx)(g.Caption,{style:S.tabTitle,numberOfLines:2,allowFontScaling:!1,colorThemeOverride:this.props.colorThemeOverride,children:e.title})]})},e.key)},this._renderSpacer=(e,t)=>(0,n.jsx)(a.View,{style:t},e)}static rowHeight(e,t=4){if(!e)return 0;return 8+80*Math.ceil(e/t)}_buildState(e,t){const i={};return t&&(i.viewWidth=e.estimatedWidth||0),i}requestFocus(){const e=r.keys(this._mountedRefsMap.allRefs());if(e&&e[0]){const t=this._mountedRefsMap.ref(e[0]);t&&t.requestFocus()}}render(){let e;if(this.state.viewWidth){const t=this.props.buttonDescriptors,i=Math.min(t.length,this.props.columnCount||4),o=[a.Styles.createViewStyle({width:i>0?Math.floor((this.state.viewWidth-20)/i):this.state.viewWidth,alignItems:"center",justifyContent:"center"},!1),p.default.noncollapsibleView];if(e=r.map(this.props.buttonDescriptors,(e=>this._renderButton(e,o))),this.props.gridAlignment!==m.Center){const n=t.length%i==0?0:i-t.length%i;for(let t=0;t<n;t++)e.push(this._renderSpacer("spacer"+t,o))}}return(0,n.jsx)(a.View,{style:S.gridView,ignorePointerEvents:!0,onLayout:this._onLayout,children:e})}}_.buildRow=e=>(0,n.jsx)(_,Object.assign({},e)),t.default=_},31126:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(340724)),s=i(26703),l=o.__importDefault(i(942724)),c=i(262725),d=o.__importDefault(i(497910)),u=(0,s.lazyProperties)({frame:()=>r.Styles.createViewStyle({minHeight:30}),innerContainer:()=>r.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",marginHorizontal:10,paddingTop:10,paddingBottom:0}),innerContainerBottomBorder:()=>r.Styles.createViewStyle({borderBottomWidth:1}),innerContainerDesktop:()=>r.Styles.createViewStyle({marginHorizontal:15})});class p extends d.default{static getMenuItemHeight(){return 30}_buildState(e,t){return{isUsingStackNav:l.default.isUsingStackNavigationContext()}}render(){const e=[u.innerContainer];this.props.hideBorder||e.push(this._themeStyles.dividerBorderColorStyle,u.innerContainerBottomBorder),this.state.isUsingStackNav||e.push(u.innerContainerDesktop);const t=a.default.headerAccessibilityInfo(this.props.title);let i;return i=this.props.rowHeight?r.Styles.createViewStyle({height:this.props.rowHeight},!1):u.frame,(0,n.jsx)(r.View,{style:i,children:(0,n.jsx)(r.View,{style:e,accessibilityLabel:t.accessibilityLabel,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,accessibilityTraits:t.accessibilityTraits,children:(0,n.jsx)(c.Subtitle,{colorThemeOverride:this.props.colorThemeOverride,accessibilityHidden:!0,children:this.props.title})})})}}p.buildRow=e=>(0,n.jsx)(p,Object.assign({},e)),t.default=p},85115:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(464291),s=o.__importStar(i(516778)),l=o.__importDefault(i(54720)),c=i(410098),d=i(815146),u=o.__importStar(i(85385)),p=i(26703),g=i(375258),h=o.__importDefault(i(577267)),m=o.__importDefault(i(206315)),S=i(262725),_=o.__importDefault(i(497910)),f=o.__importDefault(i(266872)),y=o.__importStar(i(972830)),C=o.__importDefault(i(760989)),v=(0,p.lazyProperties)({captionContainerBase:()=>s.Styles.createViewStyle({alignSelf:"stretch",alignItems:"center",justifyContent:"center",marginHorizontal:8}),captionContainerFixedHeight:()=>s.Styles.createViewStyle({height:40}),captionContainerFlexibleHeight:()=>s.Styles.createViewStyle({minHeight:40}),caption:()=>s.Styles.createTextStyle({textAlign:"center",alignSelf:"stretch"}),title:()=>s.Styles.createViewStyle({alignSelf:"stretch"})});class b extends _.default{constructor(){super(...arguments),this._onBackButtonPressed=()=>{const e=C.default.newCauseId();return u.log(d.LogTraceArea.HardwareBackButton,"CustomActionMenuPopup._onBackButtonPressed, causeId: "+e),!!this.props.onDismiss&&(this.props.onDismiss(e),!0)}}_buildState(e){return{themeColors:r.isUndefined(e.colorThemeOverride)?f.default.themeColors():m.default.themeColorsForTheme(e.colorThemeOverride)}}componentDidMount(){super.componentDidMount(),l.default.subscribe(this._onBackButtonPressed)}componentWillUnmount(){super.componentWillUnmount(),l.default.unsubscribe(this._onBackButtonPressed)}render(){const e=this.props.menuHeight,t=this.props.staticContent||!e,i=this.props.title||this.props.headerConfig&&this.props.headerConfig.headerType!==c.HeaderType.Slim?(0,n.jsx)(g.SimplePanelHeader,{panelName:this.props.title,hideBottomBorder:!0,useCenteredControls:!0,style:v.title,rightButtons:this.props.headerConfig?this.props.headerConfig.rightButton:void 0,colorThemeOverride:this.props.colorThemeOverride,useTransparentBackground:!0}):void 0,o=this.props.subtitle?(0,n.jsx)(s.View,{style:[v.captionContainerBase,t?v.captionContainerFlexibleHeight:v.captionContainerFixedHeight],children:(0,n.jsx)(S.Caption,{style:v.caption,colorThemeOverride:this.props.colorThemeOverride,children:this.props.subtitle})}):void 0,r=(e||0)+(i?g.HeaderHeight:0)+(o?40:0),l=this.props.menuWidth?this.props.menuWidth:c.PopupWidth,d=l-(t?0:30),u=t?s.Styles.createViewStyle({minHeight:r,maxWidth:d},!1):s.Styles.createViewStyle({height:r,maxWidth:d},!1),p=this.props.useBlurredBackground?y.isDarkTheme(this._currentTheme)?a.BlurStyle.Dark:a.BlurStyle.ExtraLight:void 0,m=s.Styles.createViewStyle({width:l},!1),_=t?s.View:s.ScrollView;return(0,n.jsx)(h.default,{anchorPosition:this.props.anchorPosition,anchorOffset:this.props.anchorOffset,offset:this.props.offset,popupWidth:this.props.popupWidth,popupHeight:this.props.popupHeight,fillColor:this.props.backgroundColor?this.props.backgroundColor:this.state.themeColors.primaryBackgroundColor,strokeColor:this.state.themeColors.popupBorderColor,importantForAccessibility:s.Types.ImportantForAccessibility.No,popupAccessibilityTitle:this.props.title,popupBeakHeight:this.props.hidePopupArrow?0:void 0,popupBeakWidth:this.props.hidePopupArrow?0:void 0,blurBackgroundStyle:p,borderRadius:this.props.borderRadius,children:(0,n.jsxs)(s.View,{style:u,children:[i,(0,n.jsxs)(_,{style:m,children:[o,this.props.content]})]})})}}t.default=b},860947:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(266311)),a=o.__importDefault(i(543915)),s=o.__importDefault(i(85115)),l=i(815146),c=o.__importStar(i(85385)),d="customactionmenu";t.default=new class{show(e,t){if(c.log(l.LogTraceArea.GenericUnsafe,"CustomActionMenuPopupController.show causeId: "+t),this._showing&&(this.close(e.rootViewId),e.togglable))return;if(!e.anchor||!e.anchor())return c.error(l.LogTraceArea.GenericUnsafe,"CustomActionMenuPopupController.show, anchor is undefined!"),void this.close(e.rootViewId);if(!a.default.maybeMountedAnchor(e.anchor()))return c.error(l.LogTraceArea.GenericUnsafe,"CustomActionMenuPopupController.show, anchor is not mounted!"),void this.close(e.rootViewId);const i={getAnchor:()=>a.default.maybeMountedAnchor(e.anchor()),renderPopup:(t,i,o,r)=>{var a;return(0,n.jsx)(s.default,{anchorPosition:t,anchorOffset:i,offset:e.offset,popupWidth:o,popupHeight:r,title:null===(a=e.getTitle)||void 0===a?void 0:a.call(e),subtitle:e.getSubtitle?e.getSubtitle():void 0,hideSubtitleDivider:e.hideSubtitleDivider,content:e.content,headerConfig:e.headerConfig,staticContent:e.staticContent,hidePopupArrow:e.hidePopupArrow,colorThemeOverride:e.colorThemeOverride,menuHeight:e.menuHeight,menuWidth:e.menuWidth,backgroundColor:e.backgroundColor,borderRadius:e.borderRadius,useBlurredBackground:e.useBlurredBackground,onDismiss:t=>{c.log(l.LogTraceArea.GenericUnsafe,"CustomActionMenuPopupController.onHandleDismiss causeId: "+t),this.close(e.rootViewId)}})},positionPriorities:["bottom","top"],dismissIfShown:!0,onDismiss:()=>{var i;c.log(l.LogTraceArea.GenericUnsafe,"CustomActionMenuPopupController.onDismiss causeId: "+t),this.close(e.rootViewId),null===(i=e.onCloseMenu)||void 0===i||i.call(e,t)},rootViewId:e.rootViewId};this._showing=r.default.showPopup(i,d)}close(e){c.log(l.LogTraceArea.GenericUnsafe,"CustomActionMenuPopupController.close"),this._showing&&(this._showing=!1,r.default.dismissPopup(d,e))}}},225511:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CustomActionMenuRowType=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(667294)),s=i(398861),l=o.__importDefault(i(929515)),c=o.__importDefault(i(970035)),d=i(26703),u=o.__importDefault(i(11252)),p=o.__importStar(i(704704)),g=o.__importDefault(i(252089)),h=o.__importDefault(i(942724)),m=o.__importDefault(i(612851)),S=o.__importDefault(i(20758)),_=i(641400),f=o.__importDefault(i(827361)),y=i(262725),C=o.__importDefault(i(497910)),v=o.__importDefault(i(429955));var b;!function(e){e[e.Default=1]="Default",e[e.Toggle=2]="Toggle",e[e.List=3]="List",e[e.Checkbox=4]="Checkbox",e[e.Alert=5]="Alert",e[e.Custom=6]="Custom"}(b||(t.CustomActionMenuRowType=b={}));const T=(0,d.lazyProperties)({frameStackNav:()=>r.Styles.createViewStyle({minHeight:80}),frameCompositeNav:()=>r.Styles.createViewStyle({minHeight:60}),innerContainer:()=>r.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",marginHorizontal:10,paddingVertical:10,overflow:"visible"}),innerContainerBottomBorder:()=>r.Styles.createViewStyle({borderBottomWidth:1}),innerContainerDesktop:()=>r.Styles.createViewStyle({marginHorizontal:15}),icon:()=>r.Styles.createViewStyle({paddingRight:14,overflow:"visible"}),accessoryIcon:()=>r.Styles.createViewStyle({marginLeft:8}),chevron:()=>r.Styles.createTextStyle({marginTop:4}),button:()=>r.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10}),image:()=>r.Styles.createViewStyle({paddingRight:14,width:_.IconSize.size24,height:_.IconSize.size24}),titleRow:()=>r.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",alignItems:"center"}),subtitle:()=>r.Styles.createTextStyle({lineHeight:22}),rightSideText:()=>r.Styles.createTextStyle({flexShrink:0,textAlign:"right"}),newLabel:()=>r.Styles.createTextStyle({marginRight:5,marginLeft:-2})});class P extends C.default{constructor(){super(...arguments),this._onPress=()=>{var e,t;null===(t=(e=this.props).onRowPress)||void 0===t||t.call(e,this.props.itemId)},this._onContainerRef=e=>{var t,i;this._containerRef=e||void 0,null===(i=(t=this.props).onRef)||void 0===i||i.call(t,this._containerRef)},this._onMouseEnter=()=>{this.isComponentMounted()&&(this.state.isHovered||this.setState({isHovered:!0}))},this._onMouseLeave=()=>{this.isComponentMounted()&&this.state.isHovered&&this.setState({isHovered:!1})}}_buildState(e,t){return{isUsingStackNav:h.default.isUsingStackNavigationContext(),userColor:g.default.getPrimaryColor()}}render(){const e=this.props.rowType===b.Alert&&!this._useAccessibleTheme();let t;if(this.props.subtitleText||this.props.keepSpaceForSubtitle){const i=this.state.isUsingStackNav?y.BodyText:y.Caption,o=[T.subtitle,f.default.noncollapsibleView];this._useAccessibleTheme()?o.push(this._themeStyles.secondaryTextColorStyle):e||this.props.treatAsLink?o.push(r.Styles.createTextStyle({color:this.state.userColor},!1)):o.push(this._themeStyles.secondaryTextColorStyle);const a={style:o,size:this.state.isUsingStackNav?y.BodyTextSize.SmallDeprecated:void 0};t=(0,n.jsx)(i,Object.assign({},a,{children:this.props.subtitleText}))}const i=this._showRightSideText()?(0,n.jsx)(y.Caption,{style:T.rightSideText,children:this.props.rightSideText}):void 0;let o;if(this.props.rowType===b.Checkbox)o=(0,n.jsx)(u.default,{isOn:!!this.props.isSelected});else if(this.props.rowType===b.Toggle)o=(0,n.jsx)(v.default,{isOn:!!this.props.isSelected,disableInteraction:!!this.props.disabled,overlayColorAndroid:this.props.toggleOverlayColorAndroid});else if(this.props.rowType===b.List)o=(0,n.jsx)(l.default,{style:T.button,label:this.props.listLabel?this.props.listLabel:"",useBodyBoldLabel:!0,chevronStyle:T.chevron,onPress:this.props.onRowPress?this._onPress:void 0,importantForAccessibility:s.ImportantForAccessibility.No});else if(this.props.accessoryIcon){let t=e?this.state.userColor:this._themeColors.secondaryTextColor;this.props.accessoryIconColor&&(t=this.props.accessoryIconColor),o=(0,n.jsx)(c.default,{style:T.accessoryIcon,size:this.props.accessoryIconSize||_.IconSize.size20,color:t,icon:this.props.accessoryIcon})}const d=[];this.props.rowHeight?d.push(r.Styles.createViewStyle({minHeight:this.props.rowHeight},!1)):d.push(this.state.isUsingStackNav?T.frameStackNav:T.frameCompositeNav),this.state.isHovered&&d.push(this.props.hoverStyle?this.props.hoverStyle:this._themeStyles.rowHoverViewStyle),this.props.style&&d.push(this.props.style);const g=[T.innerContainer];if(!this.props.hideBorder&&!e){const e=this.props.borderColor?r.Styles.createViewStyle({borderColor:this.props.borderColor},!1):this._themeStyles.dividerBorderColorStyle;g.push(e,T.innerContainerBottomBorder)}this.state.isUsingStackNav||g.push(T.innerContainerDesktop),this.props.containerStyleOverride&&g.push(this.props.containerStyleOverride);const h=[f.default.transparentBackground,f.default.flexNegativeOne];e&&!t?h.push(this.state.isUsingStackNav?S.default.fontStyle.body:S.default.fontStyle.caption):this.state.isUsingStackNav?h.push(S.default.fontStyle.secondaryButton):this.props.titleStyle&&h.push(this.props.titleStyle);const C=e?r.Styles.createTextStyle({color:this.state.userColor},!1):this._themeStyles.primaryTextColorStyle;h.push(this.props.titleTextColor?r.Styles.createTextStyle({color:this.props.titleTextColor},!1):C);const P=this.props.isNew&&(0,n.jsx)(m.default,{style:T.newLabel});let k;if(this.props.icon){const t=P?[T.icon,r.Styles.createViewStyle({paddingRight:8},!1)]:T.icon;let i=e?this.state.userColor:this._themeColors.primaryIconColor;this.props.iconColor&&(i=this.props.iconColor),k=(0,n.jsx)(c.default,{style:t,size:this.props.iconSize||_.IconSize.size24,color:i,icon:this.props.icon})}else this.props.imageSource&&(k=(0,n.jsx)(r.Image,{style:T.image,source:this.props.imageSource}));const A=this.props.rowType===b.Custom,I=!A&&this.props.onRowPress?r.Button:r.View;let w,x=this.props.accessibilityLabel;if(!this._useLinkTrait()&&this.props.treatAsLink&&(x=x||this.props.titleText+(this.props.subtitleText?", "+this.props.subtitleText:""),x&&(x+=", "+p.getString("Browser.OpenUrlInBrowserTitle"))),this.props.isSelected&&!this.props.suppressSelectedAccessibilityLabel&&(x+=", "+p.getString("Global.SelectedAccessibilityLabel")),e){const e=[f.default.absoluteFill,r.Styles.createViewStyle({backgroundColor:this.state.userColor,opacity:.2},!1)];w=(0,n.jsx)(r.View,{style:e})}const N=this.props.titleText?(0,n.jsx)(r.Text,{style:h,numberOfLines:this.props.autoShortenText?1:void 0,children:this.props.titleText}):void 0,D=A?this.props.customElement:(0,n.jsxs)(a.Fragment,{children:[k,P,(0,n.jsxs)(r.View,{style:f.default.flexOne,children:[(0,n.jsxs)(r.View,{style:T.titleRow,children:[N,i]}),t]}),o]}),M=A||this.props.removeTabIndex?void 0:0,L=A?r.Types.ImportantForAccessibility.No:r.Types.ImportantForAccessibility.Yes,R=A?void 0:x;return(0,n.jsxs)(I,{style:d,ref:this._onContainerRef,onPress:this.props.onRowPress?this._onPress:void 0,accessibilityLabel:R,accessibilityTraits:this._useLinkTrait()?r.Types.AccessibilityTrait.Link:void 0,importantForAccessibility:L,disabled:!!this.props.disabled,title:this.props.tooltip,tabIndex:M,children:[w,(0,n.jsx)(r.View,{style:g,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,children:D})]})}requestFocus(){this._containerRef&&this._containerRef.requestFocus()}_showRightSideText(){return this.props.rightSideText&&(!this.props.rowType||this.props.rowType===b.Default||this.props.rowType===b.Alert)}_useLinkTrait(){return this.props.treatAsLink&&!0}static getMenuItemHeight(){return 1+(h.default.isUsingStackNavigationContextNoSubscription()?80:60)}}P.buildRow=e=>(0,n.jsx)(P,Object.assign({},e)),t.default=P},931688:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(331654),a=i(464291),s=o.__importStar(i(859745)),l=o.__importStar(i(516778)),c=i(398861),d=o.__importDefault(i(54720)),u=o.__importDefault(i(633958)),p=i(154235),g=i(410098),h=o.__importDefault(i(471113)),m=i(761393),S=o.__importStar(i(170881)),_=o.__importDefault(i(186325)),f=i(815146),y=o.__importStar(i(800662)),C=o.__importStar(i(85385)),v=o.__importDefault(i(214295)),b=i(26703),T=o.__importStar(i(704704)),P=o.__importDefault(i(960282)),k=o.__importDefault(i(117475)),A=o.__importDefault(i(421334)),I=i(375258),w=i(16549),x=o.__importDefault(i(139221)),N=i(641400),D=o.__importDefault(i(827361)),M=o.__importDefault(i(206315)),L=o.__importDefault(i(48076)),R=i(262725),E=o.__importDefault(i(497910)),B=o.__importStar(i(972830)),O=o.__importDefault(i(601274)),F=o.__importDefault(i(760989)),V=o.__importDefault(i(337249)),U=o.__importDefault(i(453761)),j=o.__importDefault(i(20758)),H=(0,b.lazyProperties)({frame:()=>l.Styles.createViewStyle({position:"absolute",top:0,right:0,left:0,bottom:0,alignItems:"center",justifyContent:"center"}),background:()=>l.Styles.createViewStyle({position:"absolute",top:0,right:0,left:0,bottom:0,backgroundColor:w.Color.blackOverlay50}),menuContainer:()=>l.Styles.createViewStyle({position:"absolute",bottom:0,right:0,left:0}),menuContainerBackground:()=>l.Styles.createViewStyle({position:"absolute",bottom:-0,right:0,left:0,top:0,borderTopLeftRadius:p.CustomActionSheetBorderRadius,borderTopRightRadius:p.CustomActionSheetBorderRadius}),menuContainerCentered:()=>l.Styles.createViewStyle({borderRadius:p.CustomActionSheetBorderRadius}),caption:()=>l.Styles.createTextStyle({textAlign:"center",alignSelf:"stretch",marginBottom:8,marginHorizontal:8}),defaultWidthStyle:()=>l.Styles.createViewStyle({width:m.DefaultWidth}),grabberViewContainer:()=>l.Styles.createViewStyle({alignSelf:"stretch",height:25,alignItems:"center",justifyContent:"center"}),grabber:()=>l.Styles.createViewStyle({width:40,height:6,borderRadius:3,opacity:.2}),closeButtonRow:()=>l.Styles.createViewStyle({alignItems:"center",justifyContent:"flex-start",paddingVertical:16,marginHorizontal:10,flexDirection:"row"}),closeText:()=>l.Styles.combine(l.Styles.createTextStyle({flexGrow:0,flexShrink:1,paddingVertical:8,paddingLeft:12,color:w.Color.darkThemeSisuTextColor}),j.default.fontStyle.secondaryButton)});class W extends E.default{constructor(){super(...arguments),this._renderSlimHeaderGrabber=x.default.getPlatformType()===f.PlatformType.iOS,this._animationInProgress=!1,this._containerYPositionValue=new l.Animated.Value(99999),this._containerAnimationStyle=l.Styles.createAnimatedViewStyle({transform:[{translateY:this._containerYPositionValue}]}),this._backgroundOpacityValue=new l.Animated.Value(0),this._backgroundOpacityStyle=l.Styles.createAnimatedViewStyle({opacity:this._backgroundOpacityValue}),this._isDragging=!1,this._contentTransform=0,this._getCloseButtonRow=e=>{const t=l.Styles.createTextStyle({color:e.primaryTextColor},!1);return(0,n.jsxs)(l.View,{children:[(0,n.jsx)(_.default,{marginLeft:10,marginRight:10,marginTop:5,color:e.secondaryTextColor}),(0,n.jsxs)(l.Button,{style:H.closeButtonRow,onPress:this._onCloseButtonPressed,accessibilityLabel:T.getString("Global.CloseButtonTitle"),importantForAccessibility:c.ImportantForAccessibility.Yes,children:[(0,n.jsx)(U.default,{icon:N.SkypeIcon.ClosePanel,size:N.IconSize.size24,color:e.secondaryTextColor}),(0,n.jsx)(l.Text,{style:[H.closeText,t],children:T.getString("Global.CloseButtonTitle")})]})]})},this._onBackButtonPressed=()=>{var e,t;const i=F.default.newCauseId();return C.log(f.LogTraceArea.HardwareBackButton,"MobileCustomActionMenuContainer._onBackButtonPressed, causeId: "+i),this.state.visibleConfiguration?(null===(t=(e=this.state.visibleConfiguration).onCloseMenu)||void 0===t||t.call(e,i),C.log(f.LogTraceArea.HardwareBackButton,"goBack: true componentId: MobileCustomActionMenuContainer, causeId: "+i),!0):(C.log(f.LogTraceArea.HardwareBackButton,"goBack: false componentId: MobileCustomActionMenuContainer"),!1)},this._onBackgroundPressed=e=>{e.stopPropagation();const t=F.default.newCauseId();C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._onBackgroundPressed, causeId: "+t),h.default.close(this._getRootViewId(),t)},this._onCloseButtonPressed=e=>{e.stopPropagation();const t=F.default.newCauseId();C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._onCloseButtonPressed, causeId: "+t),h.default.close(this._getRootViewId(),t)},this._onContainerLayout=e=>{let t=I.HeaderHeight;this.state.visibleConfiguration&&this.state.visibleConfiguration.headerConfig&&this.state.visibleConfiguration.headerConfig.headerType===g.HeaderType.Slim&&(t=this._renderSlimHeaderGrabber?25:0);let i=e.height+t+this.state.safeBottomPadding;const o=this.state.useFullscreenLayoutIfNeeded&&i>=this.state.screenHeight-this.state.safeTopPadding;if(o&&(this.state.screenHeight,1)&&(i=this.state.screenHeight),!this.state.containerHeight){const e=this.state.useCenteredLayout?W._centeredYOffset(i,this._getRootViewId()):i;C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._onContainerLayout, no previous container height, positioning container: "+e),this._containerYPositionValue.setValue(this.state.useCenteredLayout?W._centeredYOffset(i,this._getRootViewId()):i),this._backgroundOpacityValue.setValue(0)}this.state.containerHeight===i&&this.state.isFullScreenMode===o||(C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._onContainerLayout, updating container height: "+i),this.setState({isFullScreenMode:o,containerHeight:i}))},this._onHeaderRef=e=>{this._headerRef=e||void 0},this._dismiss=()=>{var e,t;const i=F.default.newCauseId();C.log(f.LogTraceArea.HardwareBackButton,"MobileCustomActionMenuContainer._dismiss, causeId: "+i),null===(t=null===(e=this.state.visibleConfiguration)||void 0===e?void 0:e.onCloseMenu)||void 0===t||t.call(e,i)},this._onPanVertical=e=>{const t=e.pageY-e.initialPageY;let i=this._contentTransform+t;if(i<-0&&(i=-0),this._containerYPositionValue.setValue(i),this._isDragging||(this._isDragging=!0),e.isComplete)if(this._contentTransform+=t,e.velocityY>.1||this._contentTransform>this.state.containerHeight/2)this._dismiss();else{const e=F.default.newCauseId();C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._onPanVertical, causeId: "+e),this._showContainer(e)}}}_buildState(e,t){const i=this._getRootViewId(),o=L.default.isTabletUI(),n=h.default.getCurrent(),a={safeTopPadding:k.default.statusBarPadding(),safeBottomPadding:k.default.bottomSafeAreaInset(),configuration:n&&!n.useDesktopPopup?n:void 0,isKeyboardShown:v.default.isKeyboardSeen(),useFullscreenLayoutIfNeeded:P.default.getDeviceOrientation(i)===r.DeviceOrientation.Landscape&&!o,screenHeight:P.default.getHeight(i),safeAreaHorizontalPaddingStyle:k.default.horizontalPaddingStyle(p.HorizontalInsetDefault),windowWidth:V.default.measureWindow(this._getRootViewId()).width,useCenteredLayout:o,isMobileScreenReaderEnabled:A.default.isMobileScreenReaderEnabled()};return t&&(a.containerHeight=0),a}UNSAFE_componentWillUpdate(e,t,i){if(super.UNSAFE_componentWillUpdate(e,t,i),!this.state.configuration&&t.configuration)this._setConfigurationVisible(t.configuration);else if(this.state.configuration&&!t.configuration){const e=F.default.newCauseId();C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer.UNSAFE_componentWillUpdate, configuration cleared, causeId: "+e),this._hideContainer(e,(()=>{this.isComponentMounted()&&this.setState({visibleConfiguration:void 0})}))}else if(this.state.configuration&&t.configuration&&this.state.configuration.content!==t.configuration.content){const e=F.default.newCauseId();C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer.UNSAFE_componentWillUpdate, configuration updated, causeId: "+e),this._hideContainer(e,(()=>this._setConfigurationVisible(t.configuration)))}}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i);const o=this.state.visibleConfiguration&&!t.visibleConfiguration,n=!this.state.visibleConfiguration&&t.visibleConfiguration,r=this.state.visibleConfiguration&&t.visibleConfiguration&&this.state.visibleConfiguration!==t.visibleConfiguration&&this.state.visibleConfiguration.menuId!==t.visibleConfiguration.menuId,a=this.state.containerHeight&&!t.containerHeight;if(this.state.containerHeight&&o||r||a){const e=F.default.newCauseId();C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer.componentDidUpdate visibleConfigSet: "+o+" visibleConfigChanged: "+r+" containerHeightSet: "+a+" containerHeight: "+(this.state.containerHeight!==t.containerHeight?t.containerHeight+" -> "+this.state.containerHeight:this.state.containerHeight)+" causeId: "+e),d.default.subscribe(this._onBackButtonPressed),o&&this.state.containerHeight&&(C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer.componentDidUpdate, visibleConfigSet: true positioning container: "+this.state.containerHeight),this._containerYPositionValue.setValue(this.state.containerHeight)),this._showContainer(e,(()=>{this._headerRef?this._headerRef.requestFocus():y.setFocus(y.FocusEvent.CustomActionMenuDisplayed)}))}else n&&d.default.unsubscribe(this._onBackButtonPressed)}render(){var e,t;if(!this.state.visibleConfiguration)return null;if(this.state.visibleConfiguration.rootViewId!==this._getRootViewId())return null;const i=void 0!==this.state.visibleConfiguration.colorThemeOverride?M.default.themeStylesForTheme(this.state.visibleConfiguration.colorThemeOverride):this._themeStyles,o=void 0!==this.state.visibleConfiguration.colorThemeOverride?M.default.themeColorsForTheme(this.state.visibleConfiguration.colorThemeOverride):this._themeColors,r=l.Styles.createViewStyle({paddingTop:this.state.isFullScreenMode?this.state.safeTopPadding:0,paddingBottom:this.state.safeBottomPadding,height:this.state.containerHeight},!1),s=this.state.visibleConfiguration.backgroundColor?l.Styles.createViewStyle({backgroundColor:this.state.visibleConfiguration.backgroundColor},!1):void 0;let c,d;if(this.state.useCenteredLayout)c=[H.menuContainerCentered,i.primaryBackgroundColorStyle,s,this._containerAnimationStyle,r,H.defaultWidthStyle];else if(c=[H.menuContainer,r,this._containerAnimationStyle,D.default.overflowVisible],this.state.visibleConfiguration.useBlurredBackground){const e=this.state.visibleConfiguration.colorThemeOverride||this._currentTheme,t=B.isDarkTheme(e)?a.BlurStyle.Dark:a.BlurStyle.ExtraLight;d=(0,n.jsx)(a.BlurView,{style:H.menuContainerBackground,blurStyle:t})}else d=(0,n.jsx)(l.View,{style:[H.menuContainerBackground,i.primaryBackgroundColorStyle,s]});const p=this.state.visibleConfiguration.headerConfig,h=p&&p.hideCloseButton?void 0:{icon:N.SkypeIcon.ClosePanel,onPress:this._dismiss,title:T.getString("Global.CloseButtonTitle")},m=this.state.visibleConfiguration.getSubtitle?this.state.visibleConfiguration.getSubtitle(this.state.isFullScreenMode):void 0,S=m&&!this.state.visibleConfiguration.hideSubtitleDivider?(0,n.jsx)(_.default,{marginLeft:10,marginRight:10},"divider"):void 0,f=m?[(0,n.jsx)(R.Caption,{style:[H.caption,this.state.safeAreaHorizontalPaddingStyle],colorThemeOverride:this.state.visibleConfiguration.colorThemeOverride,children:m},"caption"),S]:void 0;let y;const C=p&&p.headerType===g.HeaderType.Slim;C?this._renderSlimHeaderGrabber&&(y=(0,n.jsx)(l.GestureView,{style:H.grabberViewContainer,onPanVertical:this._onPanVertical,onTap:this._dismiss,accessibilityLabel:T.getString("Global.CloseButtonTitle"),accessibilityTraits:l.Types.AccessibilityTrait.Button,children:(0,n.jsx)(l.View,{style:[H.grabber,i.primaryViewColorStyle]})})):y=(0,n.jsx)(I.SimplePanelHeader,{ref:this._onHeaderRef,panelName:null===(t=(e=this.state.visibleConfiguration).getTitle)||void 0===t?void 0:t.call(e,this.state.isFullScreenMode),leftButton:h,rightButtons:p?p.rightButton:void 0,hideBottomBorder:!0,colorThemeOverride:this.state.visibleConfiguration.colorThemeOverride,useTransparentBackground:!0});const v=y&&h?null:this._getCloseButtonRow(o),b=(0,n.jsxs)(l.View,{style:this.state.safeAreaHorizontalPaddingStyle,onLayout:this._onContainerLayout,children:[f,this.state.visibleConfiguration.content,v]}),P=this.state.visibleConfiguration.staticContent||!this.state.isFullScreenMode;let k=(0,n.jsx)(l.ScrollView,{style:D.default.flexOne,scrollEnabled:!P,children:b});P&&C&&this.state.isMobileScreenReaderEnabled;const A=[H.background,this._backgroundOpacityStyle];return this.state.visibleConfiguration.useTransparentShim&&A.push(D.default.transparentBackground),(0,n.jsx)(u.default,{isPresentedInMobileSheet:!0,children:(0,n.jsxs)(l.View,{style:H.frame,restrictFocusWithin:!0,children:[(0,n.jsx)(l.Animated.View,{style:A,onPress:this._onBackgroundPressed,disableTouchOpacityAnimation:!0,importantForAccessibility:l.Types.ImportantForAccessibility.No}),(0,n.jsxs)(l.Animated.View,{style:c,children:[d,y,k]})]})})}_showContainer(e,t){C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._showContainer, causeId: "+e),this._startContainerAnimation(0,1,t,e)}_hideContainer(e,t){C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._hideContainer, causeId: "+e);const i=this.state.useCenteredLayout?W._centeredYOffset(this.state.containerHeight,this._getRootViewId()):this.state.containerHeight;this._startContainerAnimation(i,0,t,e)}_setConfigurationVisible(e){C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._setConfigurationVisible"),this.isComponentMounted()&&(l.Modal.dismissAll(),this.setState({visibleConfiguration:e},(()=>O.default.setTimeout((()=>S.dismissAll()),20))))}_startContainerAnimation(e,t,i,o){C.log(f.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._startContainerAnimation ytranslation: "+e+" backgroundOpacity: "+t+" animationInProgress: "+this._animationInProgress+" causeId: "+o),this._animationInProgress=!0,this._contentTransform=e;const n=[s.timing.easeOut({value:this._containerYPositionValue,toValue:e,useNativeDriver:!0}),s.timing.easeOut({value:this._backgroundOpacityValue,toValue:t,useNativeDriver:!0})];s.parallel(n).start((()=>{this._animationInProgress=!1,i&&i()}))}static _centeredYOffset(e,t){const i=V.default.measureWindow(t).height;return e?i-(i-e)/2:i}}t.default=W},702141:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582).__importDefault(i(513983));class n extends o.default{_buildRows(e,t){return e.rowBuilders}}t.default=n},631080:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(496486)),s=i(815063),l=o.__importDefault(i(852789)),c=o.__importDefault(i(150343)),d=o.__importStar(i(603094)),u=o.__importDefault(i(631681)),p=i(315742),g=o.__importDefault(i(266311)),h=o.__importDefault(i(543915)),m=o.__importDefault(i(68210)),S=o.__importDefault(i(129082)),_=o.__importDefault(i(29400)),f=o.__importDefault(i(18026)),y=o.__importDefault(i(438752)),C=i(22478),v=o.__importDefault(i(37679)),b=o.__importDefault(i(453761)),T=i(26703),P=o.__importStar(i(704704)),k=o.__importStar(i(507700)),A=o.__importDefault(i(252089)),I=o.__importDefault(i(683395)),w=o.__importDefault(i(363091)),x=o.__importDefault(i(740794)),N=o.__importDefault(i(960282)),D=o.__importDefault(i(117475)),M=o.__importDefault(i(377556)),L=i(928722),R=o.__importStar(i(446574)),E=i(16549),B=o.__importDefault(i(20758)),O=i(641400),F=o.__importDefault(i(827361)),V=i(262725),U=o.__importDefault(i(497910)),j=o.__importDefault(i(266872)),H=o.__importDefault(i(601274)),W=i(403396),z=i(596648),G=i(557463),K=i(320403),q=i(503308),Q=o.__importDefault(i(685734)),X=o.__importStar(i(500645)),$=o.__importDefault(i(760989)),J=o.__importDefault(i(632145)),Y=i(670466),Z=i(160878),ee=o.__importDefault(i(247286)),te=o.__importDefault(i(459778)),ie=o.__importStar(i(812822)),oe=i(82485),ne=i(815146),re=i(15752),ae="MeControlModal",se=z.UserIconSize.Size40,le=E.Color.gray300,ce=(0,T.lazyProperties)({container:()=>r.Styles.createViewStyle({flexDirection:"row",paddingVertical:8,justifyContent:"space-between",overflow:"visible"}),controlsContainer:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",paddingLeft:8,paddingRight:16,overflow:"visible"}),leftControlsContainer:()=>r.Styles.createViewStyle({marginLeft:16,marginRight:8,overflow:"visible"}),rightControlsContainer:()=>r.Styles.createViewStyle({justifyContent:"flex-end"}),iconButtonText:()=>r.Styles.createViewStyle({margin:5}),userButton:()=>r.Styles.createViewStyle({position:"relative",flexDirection:"row",justifyContent:"center",alignItems:"center",overflow:"visible",width:se,height:se}),buttonContainer:()=>r.Styles.createViewStyle({marginLeft:5}),topTabs:()=>(0,T.lazyProperties)({infoContainer:()=>r.Styles.createViewStyle({alignSelf:"stretch",alignItems:"flex-start",justifyContent:"center",flexDirection:"row",width:180}),firstLine:()=>r.Styles.createTextStyle({justifyContent:"flex-start",flexDirection:"row"}),balance:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",flexShrink:0,marginLeft:8}),moodTextFixedHeight:()=>r.Styles.createTextStyle({height:20})}),balanceInfoCaptionStyle:()=>r.Styles.createTextStyle({color:le,paddingTop:1,lineHeight:19}),captionStyles:()=>r.Styles.createTextStyle({lineHeight:20}),limitArea:()=>r.Styles.createViewStyle({flexShrink:1})});class de extends U.default{constructor(){super(...arguments),this.getUserIconRef=()=>this._myInfoButtonRef,this.openMeControl=()=>this._openMeControlPanel(),this._renderAvatar=e=>{const t=!0,i=(0,n.jsx)(W.UserIcon,{size:se,userMri:w.default.getSkypeMri(),statusTypes:X.myAllowedStatuses(),statusBorderColor:this._themeColors.secondaryBackgroundColor,onBadgePress:this._showPresenceMenu,onBadgeRef:this._onBadgeRef,allowHoverChevronBadge:t}),o=de._getEdgeScreenReaderNotice()+P.getString("UserIcon.MyInfo")+(a.isUndefined(this.state.userStatus)?"":", "+X.userStatusLabel(this.state.userStatus,this.state.gender));return(0,n.jsx)(u.default.Button,{anchorRef:this._onMyInfoButtonRef,style:[e,ce.userButton,F.default.noncollapsibleView,F.default.pointerCursor],activeOpacity:.8,onPress:this._openMeControlPanel,onKeyPress:this._onAvatarKeyPress,tabIndex:0,coachMarkType:p.CoachMarkType.Profile,accessibilityLabel:o,accessibilityTraits:r.Types.AccessibilityTrait.Button,anchorAccessibilityLabel:o,onAnchorPress:this._openMeControlPanel,onContextMenu:this._onContextMenu,onBlur:s.BrowserEnvironment.isEngineEdgeHTML()?this._onMyInfoBlur:void 0,ref:this._onAvatarButtonRef,children:i})},this._onAvatarButtonRef=e=>{R.EnsureStarted(y.default).then((()=>{y.default.setAnchor(C.EngagementTooltipType.Profile,e)}))},this._onContextMenu=e=>{e.stopPropagation(),e.preventDefault(),this._showPresenceMenu(void 0,e)},this._showPresenceMenu=(e,t)=>{this._presenceBadge&&G.UserPresenceMenu.show((()=>this._presenceBadge),this._getRootViewId(),t,K.UserPresenceChangeOrigin.Avatar)},this._onOverflowButtonClick=e=>{this._overflowButton&&(oe.Instrumentation.track(new q.PressAction(q.PressScenario.NavigationHeader,"OverflowButton")),_.default.showOptionsMenu((()=>this._overflowButton),this._getRootViewId(),e,this._themeColors.textDanger))},this._openMeControlPanel=(e,t)=>{if(N.default.isSmallOrTinyScreenSize(this._getRootViewId()))x.default.navigateToMeControl(this._getRootViewId(),$.default.newCauseId(),L.StackNavigationDirection.Push,t);else{const e=(0,n.jsx)(S.default,{userMri:w.default.getSkypeMri(),dialogId:ae,anchor:()=>this._myInfoButtonRef,isMoodMessageEditMode:!!t},"DesktopMeControlPanel");J.default.maybeSetTooltipVisibility(!1),g.default.showModal(e,ae,{rootViewId:this._getRootViewId()})}},this._openAlertsPanel=e=>{if(N.default.isSmallOrTinyScreenSize(this._getRootViewId()))x.default.navigateToAlertsHub();else{const e=(0,n.jsx)(Y.AlertsPanelWrapper,{dismiss:this._alertsWrapperDismiss,anchor:()=>this._alertsButtonRef},"AlertsPanel");J.default.maybeSetTooltipVisibility(!1),g.default.showModal(e,"AlertsModal",{rootViewId:this._getRootViewId()})}},this._onAlertsContextMenu=e=>{te.default.showDesktopTabOptionsMenu(ie.HubTab.Notifications,(()=>this._alertsButtonRef),this._getRootViewId(),e)},this._onAlertsButtonRef=e=>{this._alertsButtonRef=e||void 0},this._alertsWrapperDismiss=()=>{g.default.dismissModal("AlertsModal",this._getRootViewId())},this._onAvatarKeyPress=e=>h.default.maybeHandleKeyPress(e,(()=>{this._openMeControlPanel()})),this._onBadgeRef=e=>{this._presenceBadge=e||void 0},this._onOverflowButtonRef=e=>{this._overflowButton=e||void 0},this._onMyInfoButtonRef=e=>{this._myInfoButtonRef=e||void 0},this._openBalanceStatePanel=()=>{x.default.navigateToBalanceStatePanel(ne.BalancePanelSource.DesktopNavigationHeader,this._getRootViewId())},this._onMyInfoBlur=()=>{s.BrowserEnvironment.isEngineEdgeHTML()&&r.UserInterface.isNavigatingWithKeyboard()&&(de._myInfoEdgeBlurCount++,2===de._myInfoEdgeBlurCount&&this.forceUpdate())}}_buildState(e,t){const i=this._getRootViewId(),{enableRefreshedPalette:o}=c.default.getS4LUiFeatures(),n=Q.default.getFullUserProfileByMri(w.default.getSkypeMri()),s=n.getDisplayName(),d=I.default.getStatus(),u=a.includes(X.myAllowedStatuses(),d)?d:re.UserStatus.Online,{gender:p}=n,g=[B.default.fontStyle.caption,ce.captionStyles];o&&g.push(r.Styles.createTextStyle({color:this._getContext().themeColors.textOnAccent},!1));const h=k.getMoodMessageInfo(n.mood,j.default.themeStyles(),j.default.themeColors(),g),{todayTab:{enabled:m}}=c.default.getS4LCommerceFeatures(),S=ee.default.isChildOrMinor(),_=m&&!S,y={unreadAlertsCount:l.default.getUnreadAlertsCount(),shouldShowUpdateBadge:f.default.shouldShowUpdateBadge(),isHeartEntryPointEnabled:c.default.getConfigSettings().brb.enableHeartEntryPoint,shouldShowUpdateReminder:f.default.shouldShowUpdateReminder(),responsiveWidth:N.default.getResponsiveWidth(i),gradientColors:A.default.getSubtleGradientColors(),statusBarHeight:r.StatusBar.isOverlay()?D.default.statusBarHeight():0,userDisplayName:s,userStatus:u,gender:p,moodInfo:h,creditEntitlement:v.default.getCreditEntitlement(),enableRefreshedPalette:o,shouldShowTodayTab:_};return t&&(y.skypeMri=w.default.getSkypeMri()),y}componentDidMount(){super.componentDidMount(),de._isFirstMount&&(H.default.setTimeout((()=>{this._myInfoButtonRef&&this._myInfoButtonRef.requestFocus()}),250),de._isFirstMount=!1),m.default.addWebFeebackToast({})}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i);const o=this._badgeCount(this.state);if(this._badgeCount(t)!==o){const e=P.getString("Hub.NotificationCounterScreenReaderLabel",{count:o});r.Accessibility.announceForAccessibility(e)}}render(){const e=[ce.container],t=[ce.controlsContainer,ce.rightControlsContainer];this.state.statusBarHeight&&e.push(M.default.paddingTopStyle(this.state.statusBarHeight+12)),this.props.style&&e.push(this.props.style),this.state.enableRefreshedPalette&&e.push(r.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfaceAccent},!1));const i=this._renderLeftControls(ce.leftControlsContainer)||(0,n.jsx)(r.View,{style:ce.controlsContainer}),o=this._renderRightControls(),a=o?(0,n.jsx)(r.View,{style:t,children:o},"rightControls"):void 0,s=this._renderCenterControls();return(0,n.jsxs)(r.View,{style:e,children:[i,s,a]},"desktopNavigation")}_renderLeftControls(e){return this._renderAvatar(e)}_renderCenterControls(){return(0,n.jsx)(r.View,{style:[F.default.flexOne,ce.topTabs.infoContainer],children:(0,n.jsxs)(r.View,{style:F.default.flexOne,children:[this._getUserNameControl(),this._getMoodMessageControl()]})},"centerControls")}_getUserNameControl(){const e=[F.default.flexNegativeOne,this._themeStyles.primaryTextColorStyle,this.state.enableRefreshedPalette?B.default.fontStyle.semibold16:B.default.fontStyle.semibold14,ce.captionStyles];return this.state.enableRefreshedPalette&&e.push(r.Styles.createTextStyle({color:this._getContext().themeColors.textOnAccent},!1)),(0,n.jsxs)(r.View,{style:ce.topTabs.firstLine,children:[(0,n.jsx)(r.Button,{style:ce.limitArea,accessibilityLabel:this.state.userDisplayName,onPress:this._openMeControlPanel,children:(0,n.jsx)(r.Text,{style:e,numberOfLines:1,ellipsizeMode:"tail",children:this.state.userDisplayName})}),this._renderOptionalBalanceInfo()]})}_getMoodMessageControl(){const{moodInfo:e}=this.state,t=!!(null==e?void 0:e.moodReact)&&!!e.moodString,i=t?null==e?void 0:e.moodString:P.getString("MyProfilePanel.SetStatusLabel"),o=t?null==e?void 0:e.moodLabel:P.getString("MyProfilePanel.SetStatusLabel"),a=this._constructMoodStyle(!(!(null==e?void 0:e.moodReact)||!t));return(0,n.jsx)(r.Button,{style:[F.default.pointerCursor,F.default.flexOne],onPress:e=>this._openMeControlPanel(e,!0),onKeyPress:this._onAvatarKeyPress,accessibilityLabel:o,accessibilityTraits:r.Types.AccessibilityTrait.Button,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,title:i,tabIndex:0,children:(0,n.jsx)(r.Text,{style:a,numberOfLines:1,ellipsizeMode:"tail",children:t?null==e?void 0:e.moodReact:P.getString("MyProfilePanel.SetStatusLabel")})})}_constructMoodStyle(e){return[e?ce.topTabs.moodTextFixedHeight:[B.default.fontStyle.caption,ce.topTabs.moodTextFixedHeight],this.state.enableRefreshedPalette?r.Styles.createTextStyle({color:this._getContext().themeColors.textOnAccent},!1):void 0]}_renderRightControls(){return[this._renderAlertsButton(),this._renderOverflowButton()]}_renderOptionalBalanceInfo(){if(void 0===this.state.creditEntitlement)return null;let e;const t=[];let i;return d.hasUsableCredit(this.state.creditEntitlement)?(e=d.getFormattedBalance(this.state.creditEntitlement),i=P.getString("BalanceStatePanel.SkypeCreditAccessibilityText",{amount:e||""})):(t.push(ce.balanceInfoCaptionStyle),e=d.getFormattedBalance(this.state.creditEntitlement),i=P.getString("BalanceStatePanel.SkypeCreditAccessibilityText",{amount:e||""})),this.state.enableRefreshedPalette&&t.push(r.Styles.createTextStyle({color:this._getContext().themeColors.textOnAccent},!1)),(0,n.jsx)(r.Button,{style:ce.topTabs.balance,accessibilityLabel:i,onPress:this._openBalanceStatePanel,children:(0,n.jsx)(V.Caption,{style:t,children:e})})}_renderAlertsButton(){const e=this._badgeCount();return this.state.shouldShowTodayTab?(0,n.jsx)(Z.AlertButton,{title:P.getString("Hub.NotificationCounterScreenReaderLabel",{count:e}),onClick:this._openAlertsPanel,onRef:this._onAlertsButtonRef,onContextMenu:this._onAlertsContextMenu,unreadAlertsCount:e},"notifications"):null}_renderOverflowButton(){const e=this.state.enableRefreshedPalette?this._getContext().themeColors.iconOnAccent:this._themeColors.headerIconColor,t=this.state.enableRefreshedPalette?this._getContext().themeColors.iconOnAccent:this._themeColors.iconHoverColor;return(0,n.jsx)(b.default,{ref:this._onOverflowButtonRef,style:ce.buttonContainer,size:O.IconSize.size20,color:e,hoverColor:t,icon:O.SkypeIcon.More,onPress:this._onOverflowButtonClick,title:P.getString("Global.MoreButtonTitle"),iconTextStyle:ce.iconButtonText,accessibilityLabel:P.getString("Global.MoreOptions"),accessibilityTraits:[r.Types.AccessibilityTrait.Button,r.Types.AccessibilityTrait.HasPopup]},"overflow")}_badgeCount(e=this.state){let t=e.unreadAlertsCount||0;return(e.shouldShowUpdateBadge||e.shouldShowUpdateReminder)&&t++,t}static _getEdgeScreenReaderNotice(){return s.BrowserEnvironment.isEngineEdgeHTML()&&de._myInfoEdgeBlurCount<2?P.getString("Global.AccessibilitySkipLink")+" "+P.getString("Global.AccessibilityDesktopSkipLink")+" ":""}}de._isFirstMount=!0,de._myInfoEdgeBlurCount=0,t.default=de},966386:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(659312)),a=o.__importDefault(i(805121)),s=o.__importDefault(i(369347)),l=i(154235),c=o.__importDefault(i(615364)),d=i(815146),u=o.__importStar(i(85385)),p=o.__importStar(i(704704)),g=o.__importDefault(i(740794)),h=o.__importDefault(i(942724)),m=o.__importDefault(i(511592)),S=o.__importDefault(i(497910)),_=o.__importDefault(i(760989)),f=i(483877);class y extends S.default{constructor(){super(...arguments),this._onArchive=e=>{e.stopPropagation();const t=_.default.newCauseId();u.log(d.LogTraceArea.GenericUnsafe,"ArchiveConversaionControl._archiveConversation, causeId: "+t),r.default.showIfRequired(this._getRootViewId()).then((()=>{g.default.navigateAfterArchivingConversation(this.props.conversationId,t,this._getContext()),m.default.isNavigationAnimationFinished().thenAsync((()=>{a.default.archiveConversation(this.props.conversationId,d.ArchiveConversationOrigin.ProfilePanel,this._getRootViewId())}))}))},this._onUnarchive=e=>{e.stopPropagation();const t=_.default.newCauseId();u.log(d.LogTraceArea.GenericUnsafe,"ArchiveConversaionControl._onUnarchive, causeId: "+t),a.default.unarchiveConversation(this.props.conversationId,d.UnarchiveConversationOrigin.ProfilePanel),this.state.isUsingStackNavigationContext||g.default.navigateAfterUnarchivingConversation(this.props.conversationId,t,this._getContext())}}_buildState(e){const t=(0,c.default)().getConversation(e.conversationId);return{isArchived:!!t&&t.isArchived(),hasActiveCall:s.default.ActiveCallUIHelper.hasActiveCall(e.conversationId),isUsingStackNavigationContext:h.default.isUsingStackNavigationContext()}}render(){if(this.state.hasActiveCall)return null;const e=this.state.isArchived?p.getString("InfoPanel.UnhideConversationButtonLabel"):p.getString("InfoPanel.HideConversationButtonLabel");return(0,n.jsx)(f.WideButton,{label:e,onPressed:this.state.isArchived?this._onUnarchive:this._onArchive,hideArrow:!0,buttonStyles:this.props.shorterControlHeight?l.ListItem.small.shortHeightStyle:void 0})}}t.default=y},402505:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(44717)),s=o.__importStar(i(172134)),l=o.__importDefault(i(615364)),c=i(26703),d=o.__importStar(i(704704)),u=i(154235),p=o.__importDefault(i(395298)),g=i(262725),h=o.__importDefault(i(497910)),m=o.__importDefault(i(340724)),S=(0,c.lazyProperties)({notificationControlContainer:()=>r.Styles.createViewStyle({overflow:"visible",alignSelf:"stretch"}),notificationsSettingContainer:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomWidth:1,paddingTop:1}),smartNotificationsLabelContainer:()=>r.Styles.createViewStyle({flex:1,alignItems:"stretch",alignSelf:"center"})});class _ extends h.default{constructor(){super(...arguments),this._onChangeEnableNotifications=(e,t)=>{if(this.state.conversationIsOneOnOne)t?this._setNotificationLevel(a.SubscriptionTypes.Loud):this._setNotificationLevel(a.SubscriptionTypes.Muted),this.setState({enableNotifications:t});else{const e={};t&&!this.state.enableImportantNotifications?(e.disableImportantNotificationSwitch=!1,this._setNotificationLevel(a.SubscriptionTypes.Loud)):t||this.state.enableImportantNotifications?!t&&this.state.enableImportantNotifications&&(e.disableImportantNotificationSwitch=!0,e.enableImportantNotifications=!1,this._setNotificationLevel(a.SubscriptionTypes.Muted)):(e.disableImportantNotificationSwitch=!0,this._setNotificationLevel(a.SubscriptionTypes.Muted)),e.enableNotifications=t,this.setState(e)}},this._onChangeEnableImportantNotifications=(e,t)=>{this.state.conversationIsOneOnOne||(t&&this.state.enableNotifications?(this.setState({enableImportantNotifications:t}),this._setNotificationLevel(a.SubscriptionTypes.Normal)):!t&&this.state.enableNotifications&&(this.setState({enableImportantNotifications:t}),this._setNotificationLevel(a.SubscriptionTypes.Loud)))}}_buildState(e,t){const i={},o=(0,l.default)().getConversation(e.conversationId);o&&(i.conversationSubscription=o.getSubscription(),i.conversationIsOneOnOne=o.isOneOnOne());const n=this.props;if(t||e.conversationId!==n.conversationId)switch(i.conversationSubscription){case a.SubscriptionTypes.Muted:i.enableNotifications=!1,i.enableImportantNotifications=!1,i.disableImportantNotificationSwitch=!0;break;case a.SubscriptionTypes.Loud:i.enableNotifications=!0,i.enableImportantNotifications=!1,i.disableImportantNotificationSwitch=!1;break;case a.SubscriptionTypes.Normal:i.enableNotifications=!0,i.enableImportantNotifications=!0,i.disableImportantNotificationSwitch=!1}return i}render(){const e=[],t=[S.notificationsSettingContainer,this._themeStyles.dividerBorderColorStyle,this.props.shorterControlHeight?u.ListItem.small.shortHeightStyle:u.ListItem.small.regularHeightStyle];if(e.push((0,n.jsx)(p.default,{style:t,isOn:this.state.enableNotifications,accessibilityLabel:d.getString("Notifications.Notify"),onChange:this._onChangeEnableNotifications,disable:this.props.disabled,children:(0,n.jsx)(g.RowTitle,{disabled:this.props.disabled,children:d.getString("Notifications.Notify")})},"enableNotifications")),!this.state.conversationIsOneOnOne){const i=[],o=this.state.disableImportantNotificationSwitch||this.props.disabled;o&&i.push(this._themeStyles.disabledTextColorStyle);const a=d.getString("Notifications.SmartNotifications"),s=d.getString("Notifications.SmartNotificationsHelper");e.push((0,n.jsx)(p.default,{style:t,isOn:this.state.enableImportantNotifications,accessibilityLabel:m.default.combinedAccessibilityLabel(a,s),onChange:this._onChangeEnableImportantNotifications,disable:o,children:(0,n.jsxs)(r.View,{style:S.smartNotificationsLabelContainer,children:[(0,n.jsx)(g.RowTitle,{disabled:o,children:a}),(0,n.jsx)(g.Caption,{style:i,children:s})]})},"enableImportantNotifications"))}return(0,n.jsx)(r.View,{style:S.notificationControlContainer,children:e})}_setNotificationLevel(e){s.setConversationSubscription(this.props.conversationId,e)}}t.default=_},190799:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(217041),l=o.__importDefault(i(252089)),c=o.__importStar(i(808164)),d=o.__importStar(i(770644)),u=o.__importDefault(i(655192)),p=i(331079);class g extends s.ComponentBase{constructor(){super(...arguments),this._highlightedTextStyle=l.default.getTextColorStyleNoSubscription()}render(){const e=u.default.deburrLowerCase(this.props.displayText),t=u.default.deburrLowerCase(this.props.textToHighlight);if(""!==t&&-1!==e.indexOf(t)){const[i,o,r]=this._getHighlightedText(e,t);return(0,n.jsxs)(a.Text,{style:this.props.containerStyles,numberOfLines:1,importantForAccessibility:this.props.importantForAccessibility,children:[(0,n.jsx)(a.Text,{selectable:this.props.selectable,style:this.props.inlineTextStyle,numberOfLines:1,children:i}),(0,n.jsx)(a.Text,{selectable:this.props.selectable,style:[this.props.inlineTextStyle,this._highlightedTextStyle],numberOfLines:1,children:o}),(0,n.jsx)(a.Text,{selectable:this.props.selectable,style:this.props.inlineTextStyle,numberOfLines:1,children:r})]})}let i=this.props.displayText;if(c.default.isPossiblyPhoneNumber(i)&&c.default.isPossibleNumber(i)){i=c.default.parseAndFormat(e,c.PhoneNumberFormat.INTERNATIONAL)||i}return(0,n.jsx)(a.Text,{style:this.props.containerStyles,numberOfLines:1,selectable:this.props.selectable,children:i?i.split("\n",1):void 0})}_getHighlightedText(e,t){if(r.startsWith(e,"+")&&c.default.isPossibleNumber(e))return this._getHighlightedTextFromPhoneNumber(e,t);let i=0;i=this.props.highlightType===p.TextToHighlightType.PhoneNumber?e.indexOf(t):d.findIndexOfQueryInName(e,t);const o=i+this.props.textToHighlight.length-1;return[this.props.displayText.slice(0,i),this.props.displayText.slice(i,o+1),this.props.displayText.slice(o+1,this.props.displayText.length)]}_getHighlightedTextFromPhoneNumber(e,t){const i=c.default.parseAndFormat(e,c.PhoneNumberFormat.INTERNATIONAL);if(!i)return[e,"",""];const o="[ \\-\\(\\)]?";let n="("+o;r.each(t,(e=>{"+"===e&&(e="\\+"),n+=e+o})),n+=")";const a=new RegExp(n).exec(i);if(!a)return[i,"",""];const s=a.index,l=s+a[0].length;return[i.slice(0,s),i.slice(s,l),i.slice(l,i.length)]}}t.default=g},3215:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(854646),a=o.__importStar(i(516778)),s=o.__importStar(i(317588)),l=o.__importDefault(i(150343)),c=o.__importDefault(i(192478)),d=i(154235),u=o.__importStar(i(833382)),p=i(26703),g=o.__importStar(i(704704)),h=o.__importDefault(i(740794)),m=o.__importStar(i(693921)),S=o.__importDefault(i(660401)),_=i(16549),f=o.__importDefault(i(20758)),y=i(641400),C=(0,p.lazyProperties)({container:()=>a.Styles.createViewStyle({position:"absolute",top:0,bottom:0,left:0,right:0,flex:1,backgroundColor:_.Color.blue}),content:()=>a.Styles.createViewStyle({flex:1,alignSelf:"center",alignItems:"center",justifyContent:"center",maxWidth:600,marginVertical:15}),illustration:()=>a.Styles.createViewStyle({height:235,width:321,marginBottom:30}),text:()=>a.Styles.createTextStyle({font:f.default.font.uiDisplayBold,color:_.Color.white,textAlign:"center",marginBottom:15}),title:()=>a.Styles.createTextStyle({fontSize:y.IconSize.size48,marginBottom:15}),subtitle:()=>a.Styles.createTextStyle({fontSize:y.IconSize.size16,marginBottom:90}),updateButton:()=>a.Styles.createButtonStyle({height:60,minWidth:300,marginBottom:15}),learnMoreButtonText:()=>a.Styles.createTextStyle({fontSize:y.IconSize.size14}),learnMoreButtonTextHover:()=>a.Styles.createTextStyle({textDecorationLine:"underline"})});class v extends c.default{constructor(){super(...arguments),this._goToLearnMorePage=()=>{const e=m.addSsoFlagToUrl(l.default.getConfigSettings().helpGoParam.upgradeLearnMore,!0);h.default.navigateToSsoWebFlow(e,"","",this._getRootViewId(),[],!0)},this._onLearnMoreHoverStart=()=>{this.setState({isLearnMoreButtonHovered:!0})},this._onLearnMoreHoverEnd=()=>{this.setState({isLearnMoreButtonHovered:!1})}}render(){const e=[C.text,C.learnMoreButtonText];return this.state.isLearnMoreButtonHovered&&e.push(C.learnMoreButtonTextHover),(0,n.jsx)(r.GradientView,{style:C.container,colors:d.BlueGradient,direction:r.GradientDirection.BOTTOM,children:(0,n.jsxs)(a.View,{style:C.content,children:[(0,n.jsx)(a.Image,{style:C.illustration,resizeMode:"contain",source:s.Collection.ELECTRON_UPDATE_ILLUSTRATION}),(0,n.jsx)(a.Text,{style:[C.text,C.title],children:g.getString("ElectronForceUpgradeScreen.Title")}),(0,n.jsx)(a.Text,{style:[C.text,C.subtitle],children:g.getString("ElectronForceUpgradeScreen.Subtitle")}),(0,n.jsx)(S.default,{buttonStyle:d.SXButtonStyle.LightFill,title:g.getString("ElectronForceUpgradeScreen.UpdateButton"),onPress:u.quitAndUpdate,style:C.updateButton}),(0,n.jsx)(a.Button,{onPress:this._goToLearnMorePage,onHoverStart:this._onLearnMoreHoverStart,onHoverEnd:this._onLearnMoreHoverEnd,children:(0,n.jsx)(a.Text,{style:e,children:g.getString("ElectronForceUpgradeScreen.LearnMoreButton")})})]})})}}t.default=v},370585:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({avatarUrl:e,variant:t,size:i,onImageError:r,BottomSlot:a,FallbackSlot:s}){const l=a?(0,o.jsx)(n.Box,{right:-4,bottom:-4,position:"absolute",borderWidth:2,borderColor:"strokeAvatar",borderRadius:"full",children:a}):null,c=e?(0,o.jsx)(n.ImageAvatar,{uri:e,variant:t,size:i,onError:r}):s;return(0,o.jsxs)(n.Box,{children:[c,l]})};const o=i(785893),n=i(344175)},49860:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({TitleSlot:e,AvatarSlot:t,onPress:i,accessibilityLabel:s}){const l=(0,o.jsxs)(r.Row,{flex:"1",alignItems:"center",space:"size80",children:[t,e]});return i?(0,o.jsx)(n.Pressable,{style:a.pressable,onPress:i,role:"button",accessibilityLabel:s,children:l}):l};const o=i(785893),n=i(537180),r=i(344175);const a=n.StyleSheet.create({pressable:{flexGrow:0,flexShrink:1,flexDirection:"row",alignItems:"center",alignSelf:"stretch"}})},214156:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({id:e,initials:t,variant:i,size:o}){const c=(0,l.useInitialsAvatarBackground)(e),{textStyle:d}=(0,s.useInitialsAvatarFontStyles)(e,o);return(0,n.jsx)(r.CompoundAvatar,{background:c,variant:i,size:o,element:(0,n.jsx)(a.Text,{style:d,numberOfLines:1,allowFontScaling:!1,importantForAccessibility:a.Types.ImportantForAccessibility.NoHideDescendants,children:t})})};const o=i(197582),n=i(785893),r=i(344175),a=o.__importStar(i(516778)),s=i(490917),l=i(174365)},22159:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({name:e,textToHighlight:t,isVerified:i,SubtitleSlot:o}){const{titleFontStyle:d}=(0,l.useRXStyles)((({themeColors:{textPrimary:e}})=>({titleFontStyle:a.Styles.createTextStyle({color:e,overflow:"hidden"},!1)})),[]);return(0,n.jsxs)(r.Column,{justifyContent:"center",space:o?1:void 0,children:[(0,n.jsxs)(r.Row,{alignItems:"center",children:[(0,n.jsx)(c.default,{displayText:e,textToHighlight:null!=t?t:"",containerStyles:d,inlineTextStyle:d}),i?(0,n.jsx)(s.default,{name:e}):null]}),null!=o?o:null]})};const o=i(197582),n=i(785893),r=i(344175),a=i(516778),s=o.__importDefault(i(498801)),l=i(964414),c=o.__importDefault(i(190799))},300083:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({name:e,isVerified:t,Subtitle:i}){return(0,n.jsxs)(r.Column,{justifyContent:"center",flexGrow:1,flexShrink:1,children:[(0,n.jsxs)(r.Row,{alignItems:"center",flexGrow:1,children:[(0,n.jsx)(r.Title,{variant:"3",truncate:!0,text:e}),t?(0,n.jsx)(a.default,{name:e}):null]}),null!=i?i:null]})};const o=i(197582),n=i(785893),r=i(344175),a=o.__importDefault(i(498801))},673115:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useInitialsAvatarFontStyles=t.EntityInitialsAvatar=t.EntityAvatar=t.EntityTitleSearch=t.EntityTitle=t.EntityCard=void 0;const o=i(197582);var n=i(49860);Object.defineProperty(t,"EntityCard",{enumerable:!0,get:function(){return o.__importDefault(n).default}});var r=i(300083);Object.defineProperty(t,"EntityTitle",{enumerable:!0,get:function(){return o.__importDefault(r).default}});var a=i(22159);Object.defineProperty(t,"EntityTitleSearch",{enumerable:!0,get:function(){return o.__importDefault(a).default}});var s=i(370585);Object.defineProperty(t,"EntityAvatar",{enumerable:!0,get:function(){return o.__importDefault(s).default}});var l=i(214156);Object.defineProperty(t,"EntityInitialsAvatar",{enumerable:!0,get:function(){return o.__importDefault(l).default}});var c=i(490917);Object.defineProperty(t,"useInitialsAvatarFontStyles",{enumerable:!0,get:function(){return c.useInitialsAvatarFontStyles}})},174365:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useInitialsAvatarBackground=function(e){const{mode:{isAccessible:t,isDark:i}}=(0,r.useSkypeTheme)(),a=t?"highContrast":(0,o.mapIdToUserColorKey)(e);return(0,n.getSkypeGradients)(a,i?"dark":"light").tertiary};const o=i(560890),n=i(925890),r=i(206315)},490917:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useInitialsAvatarFontStyles=function(e,t){return(0,r.useRXStyles)((({mode:{isDark:i,isAccessible:o}})=>{const r=(0,c.getSkypeColors)(o?"highContrast":(0,l.mapIdToUserColorKey)(e),i?"dark":"light").textAvatar;return{textStyle:n.Styles.createTextStyle({fontSize:d[t]||d.md,fontFamily:s.default.fontFamily.uidDisplaySemibold,fontWeight:a.FontWeight.semiBold,color:r},!1)}}),[t,e])};const o=i(197582),n=i(516778),r=i(964414),a=i(154235),s=o.__importDefault(i(20758)),l=i(560890),c=i(925890),d={xxxs:6,xxs:8,xs:9,sm:10,md:14,lm:s.default.fontSize.size14,lg:20,xl:36,xxl:43,xxxl:54}},68914:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=(i(785893),o.__importStar(i(496486))),r=o.__importStar(i(516778)),a=i(217041),s=o.__importStar(i(85385)),l=i(26703),c=i(16549);(0,l.lazyProperties)({errorBar:()=>r.Styles.createViewStyle({bottom:0,left:0,right:0,padding:10,flexDirection:"row",alignSelf:"stretch",alignItems:"center",justifyContent:"center",opacity:.7}),text:()=>r.Styles.createTextStyle({flex:1,textAlign:"center"}),barErrorColor:()=>r.Styles.createViewStyle({backgroundColor:c.Color.red}),barWarningColor:()=>r.Styles.createViewStyle({backgroundColor:c.Color.yellow})});class d extends a.ComponentBase{constructor(){super(...arguments),this._warningCallback=(...e)=>{n.defer((()=>{this.isComponentMounted()&&this.setState({currentWarningCount:this.state.currentWarningCount+1})}))},this._errorCallback=(...e)=>{n.defer((()=>{this.isComponentMounted()&&this.setState({currentErrorCount:this.state.currentErrorCount+1})}))},this._onPress=()=>{this.setState({currentErrorCount:0,currentWarningCount:0})}}_buildState(e,t){return t?{currentErrorCount:0,currentWarningCount:0}:{}}componentDidMount(){super.componentDidMount()}componentWillUnmount(){super.componentWillUnmount(),s.devErrorEvent.unsubscribe(this._errorCallback),s.devWarningEvent.unsubscribe(this._warningCallback)}render(){return null}}t.default=d},2968:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=i(516778),s=i(217041),l=o.__importDefault(i(247286)),c=o.__importDefault(i(236827)),d=o.__importDefault(i(27249)),u=o.__importStar(i(812822)),p=i(964414),g=i(677982),h=i(704704),m=i(641400),S=o.__importStar(i(187140)),_=o.__importDefault(i(186325)),f=o.__importDefault(i(62298)),y=(0,r.forwardRef)((function({currentHubTab:e,uxVariant:t,onMenuOpen:i},o){const{dividerStyle:r,createMenuStyle:s}=(0,p.useRXStyles)((({themeColors:{dividerPrimary:e}})=>({dividerStyle:a.Styles.createViewStyle({backgroundColor:e,marginBottom:6,height:.5},!1),createMenuStyle:a.Styles.createViewStyle({alignSelf:"center",left:3},!1)})),[]);if("legacy"===t)return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.default,{selectedHubTab:e}),(0,n.jsx)(_.default,{style:r})]});const l=(0,n.jsx)(c.default,{trigger:e=>(0,n.jsx)(S.default,{style:s,icon:m.SkypeIcon.Compose,onPress:e,title:(0,h.getString)("Hub.New1on1ChatLabel"),accessibilityLabel:(0,h.getString)("Hub.New1on1ChatLabel"),size:S.ActionButtonSize.TMP,ref:o}),onOpen:i});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.default,{style:r}),(0,n.jsx)(d.default,{ControlSlot:l})]})}));class C extends s.ComponentBase{constructor(){super(...arguments),this._createButtonRef=(0,r.createRef)(),this.getCreateRef=()=>{var e;return null!==(e=this._createButtonRef.current)&&void 0!==e?e:void 0}}_buildState(e,t){const{enableContentChannels:i}=g.AppConfigStore.getS4LUiFeatures(),o=l.default.isChildOrMinor();return{uxVariant:v(e.currentHubTab,i,o)}}render(){return void 0===this.state.uxVariant?null:(0,n.jsx)(y,{currentHubTab:this.props.currentHubTab,uxVariant:this.state.uxVariant,ref:this._createButtonRef,onMenuOpen:this.props.onMenuOpen})}}function v(e,t,i){return e===u.HubTab.Recents?t&&!i?"current":"legacy":e===u.HubTab.Calls||e===u.HubTab.People?"legacy":void 0}t.default=C},160878:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertButton=function(e){const{themeColors:{surfacePrimary:t,iconOnAccent:i}}=(0,d.useSkypeTheme)(),{badgeColorStyle:o,badgeStyle:u,buttonContainer:p,iconText:g}=(0,c.useRXStyles)((({themeColors:{iconDanger:e}})=>({badgeColorStyle:r.Styles.createTextStyle({backgroundColor:e},!1),badgeStyle:r.Styles.createViewStyle({position:"absolute",top:0,left:16},!1),buttonContainer:r.Styles.createViewStyle({overflow:"visible"},!1),iconText:r.Styles.createViewStyle({margin:5},!1)})),[]),h=e.unreadAlertsCount?(0,n.jsx)(s.default,{style:u,blockPointerEvents:!0,count:e.unreadAlertsCount.toString(),rawCount:e.unreadAlertsCount,colorStyle:o,borderColor:t,badgeSize:s.BadgeSize.Desktop,borderWidth:1,isHighPriority:!0,fixedSize:!0,importantForAccessibility:r.Types.ImportantForAccessibility.NoHideDescendants}):void 0;return(0,n.jsx)(a.default,{accessoryView:h,ref:e.onRef,style:p,size:l.IconSize.size20,color:i,hoverColor:i,icon:l.SkypeIcon.Alert,onPress:e.onClick,onContextMenu:e.onContextMenu,title:e.title,iconTextStyle:g,accessibilityLabel:e.title,accessibilityTraits:[r.Types.AccessibilityTrait.Button,r.Types.AccessibilityTrait.HasPopup]},"alerts")};const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(453761)),s=o.__importStar(i(309520)),l=i(641400),c=i(964414),d=i(206315)},973816:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(380157),s=i(854646),l=o.__importStar(i(516778)),c=i(22336),d=o.__importStar(i(47440)),u=o.__importDefault(i(852789)),p=i(623627),g=i(284841),h=o.__importStar(i(172134)),m=o.__importStar(i(971988)),S=o.__importStar(i(44717)),_=o.__importDefault(i(615364)),f=o.__importDefault(i(389659)),y=o.__importStar(i(463519)),C=o.__importDefault(i(601976)),v=o.__importStar(i(320820)),b=o.__importStar(i(242561)),T=o.__importDefault(i(259319)),P=o.__importDefault(i(892915)),k=i(815146),A=o.__importDefault(i(694154)),I=i(495681),w=o.__importDefault(i(970035)),x=o.__importStar(i(85385)),N=i(26703),D=o.__importStar(i(147286)),M=o.__importStar(i(704704)),L=o.__importDefault(i(998929)),R=o.__importDefault(i(848633)),E=o.__importDefault(i(211124)),B=o.__importStar(i(435395)),O=o.__importDefault(i(341126)),F=i(606933),V=o.__importStar(i(954225)),U=o.__importDefault(i(252089)),j=o.__importDefault(i(363091)),H=o.__importDefault(i(740794)),W=o.__importDefault(i(942724)),z=o.__importDefault(i(184920)),G=i(71301),K=i(651318),q=i(849487),Q=o.__importStar(i(73018)),X=i(773151),$=i(229179),J=i(16549),Y=o.__importDefault(i(20758)),Z=i(641400),ee=o.__importStar(i(179582)),te=i(331079),ie=o.__importDefault(i(827361)),oe=o.__importDefault(i(48076)),ne=i(262725),re=o.__importDefault(i(497910)),ae=o.__importDefault(i(601274)),se=i(403396),le=i(596648),ce=o.__importDefault(i(760989)),de=o.__importDefault(i(139221)),ue=o.__importDefault(i(251733)),pe=i(677982),ge=o.__importDefault(i(921691)),he=o.__importDefault(i(201721));var me,Se,_e;!function(e){e[e.Simple=1]="Simple",e[e.SecondaryButtons=2]="SecondaryButtons"}(me||(me={})),function(e){e[e.Standard=1]="Standard",e[e.Simple=2]="Simple"}(Se||(Se={})),function(e){e[e.Standard=1]="Standard",e[e.WhiteOnBlue=2]="WhiteOnBlue",e[e.Themed=3]="Themed"}(_e||(_e={}));const fe=V.messageTextLineHeight,ye=24,Ce=(0,N.lazyProperties)({cardBody:()=>l.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",backgroundColor:J.Color.transparent}),container:()=>l.Styles.createViewStyle({flexDirection:"row",flex:1,paddingLeft:8,paddingRight:10,alignItems:"center"}),containerMobileModernize:()=>l.Styles.createViewStyle({flexDirection:"row",flex:1,paddingHorizontal:16,paddingVertical:10,alignItems:"center"}),containerWithSimpleLayout:()=>l.Styles.createViewStyle({paddingLeft:15}),lightThemeSimpleLayoutBorder:()=>l.Styles.createViewStyle({borderColor:J.Color.gray50}),darkThemeSimpleLayoutBorder:()=>l.Styles.createViewStyle({borderColor:J.Color.gray400}),blueBackground:()=>l.Styles.createViewStyle({backgroundColor:J.Color.blue}),cardBottomBorder:()=>l.Styles.createViewStyle({borderBottomWidth:10}),cardText:()=>l.Styles.createTextStyle({lineHeight:fe}),cardContentContainer:()=>l.Styles.createViewStyle({maxHeight:fe}),userIcon:()=>l.Styles.createViewStyle({marginRight:20,overflow:"visible",paddingBottom:5,paddingRight:5}),contentDetailsContainer:()=>l.Styles.createViewStyle({flexDirection:"row"}),contentDetailsText:()=>l.Styles.createTextStyle({flex:1,lineHeight:fe}),whiteText:()=>l.Styles.createTextStyle({color:J.Color.white}),timestampText:()=>l.Styles.createTextStyle({flex:0,marginRight:8}),optionalSecondaryContentContainer:()=>l.Styles.createViewStyle({marginLeft:8,marginVertical:4}),optionalSecondaryContentContainerEngagement:()=>l.Styles.createViewStyle({alignSelf:"center"}),thumbnailContainer:()=>l.Styles.createViewStyle({alignItems:"center",justifyContent:"center"}),iconContainer:()=>l.Styles.createViewStyle({alignItems:"center",justifyContent:"center",borderRadius:30,height:60,width:60,backgroundColor:J.Color.gray300}),engagementIconStyle:()=>l.Styles.createImageStyle({flex:0,alignSelf:"stretch",width:le.UserIconSize.Size60,height:le.UserIconSize.Size60,justifyContent:"center",alignItems:"center",borderRadius:10}),engagementIconStyleDesktop:()=>l.Styles.createImageStyle({width:le.UserIconSize.Size40,height:le.UserIconSize.Size40}),engagementIconStyleCompact:()=>l.Styles.createImageStyle({width:ye,height:ye}),alertIconContainer:()=>l.Styles.createViewStyle({position:"absolute",bottom:2,right:2}),alertMentionQuoteIconContainer:()=>l.Styles.createViewStyle({backgroundColor:J.Color.gray300,width:ye,height:ye,borderRadius:12,bottom:0,right:0,justifyContent:"center"}),alertMentionIcon:()=>l.Styles.createTextStyle({top:-1}),userIconBadge:()=>l.Styles.createViewStyle({borderRadius:15}),userIconBorder:()=>l.Styles.createViewStyle({padding:2}),compactUserIconContainer:()=>l.Styles.createViewStyle({height:ye,width:ye,alignItems:"center",justifyContent:"center",overflow:"visible",marginRight:8}),compositeNav:()=>(0,N.lazyProperties)({container:()=>l.Styles.createViewStyle({paddingLeft:10,paddingRight:15,paddingVertical:10,alignItems:"flex-start"}),userIcon:()=>l.Styles.createViewStyle({marginRight:10,marginTop:5}),iconContainer:()=>l.Styles.createViewStyle({borderRadius:20,height:40,width:40}),alertIconContainer:()=>l.Styles.createViewStyle({bottom:0,right:0}),alertMentionQuoteIconContainer:()=>l.Styles.createViewStyle({bottom:-2,right:-2})}),experimentalNav:()=>(0,N.lazyProperties)({userIcon:()=>l.Styles.createViewStyle({marginRight:8,marginTop:5}),container:()=>l.Styles.createViewStyle({paddingVertical:10,alignItems:"flex-start"}),containerHorizontalPaddingModernize:()=>l.Styles.createViewStyle({paddingLeft:8,paddingRight:8}),optionalSecondaryContentContainer:()=>l.Styles.createViewStyle({marginLeft:2,marginVertical:4})}),ios:()=>(0,N.lazyProperties)({alertMentionIcon:()=>l.Styles.createTextStyle({top:-2})}),osx:()=>(0,N.lazyProperties)({alertMentionIcon:()=>l.Styles.createTextStyle({top:0})}),unreadBadge:()=>(0,N.lazyProperties)({circle:()=>l.Styles.createViewStyle({marginTop:1,width:8,height:8,borderRadius:4}),badgeContainer:()=>l.Styles.createViewStyle({alignItems:"center",justifyContent:"center"})}),badgeIcon:()=>l.Styles.createViewStyle({alignItems:"center"}),notificationPermissionHeader:()=>l.Styles.createTextStyle({fontSize:14})});class ve extends re.default{constructor(){super(...arguments),this._hoverStart=()=>{this.setState({isHovering:!0})},this._hoverEnd=()=>{this.setState({isHovering:!1})},this._onPress=e=>{this._onCompletePress(e)},this._onCompletePress=e=>{const t=ce.default.newCauseId();if(x.log(k.LogTraceArea.Navigation,"AlertCard._onPress, causeId: "+t),x.track(new d.AlertClicked(this._getAlertTypeForTelemetryEvent())),this.state.isReaction&&this.state.messageToDisplay){const e=(0,_.default)().getConversation(this.state.messageToDisplay.conversationId);e&&!e.isHighlightsThread()&&x.track(new Q.ReactionsSummaryViewed(this.state.messageToDisplay))}if(this._markRead(),this.state.messageToDisplay){const e=(0,_.default)().getConversation(this.state.messageToDisplay.conversationId);e&&e.isReactionsThread()?E.default.showWithMessageConfig({initialMessage:this.state.messageToDisplay,origin:k.NavigationMediaViewerOrigin.Unknown,rootViewId:this._getRootViewId()}):this.props.alert.scheduledCallInfo&&this.props.alert.scheduledCallInfo.type===$.ScheduleCallAlertTypes.Canceled||H.default.navigateToMessage(this.state.messageToDisplay,{shouldResetNavStack:this.state.isUsingStackNav,shouldFlattenNavOnInteraction:!0,causeId:t,origin:k.NavigationConversationOrigin.AlertsPanel},this._getRootViewId())}if(this.props.alert.alertType===c.AlertType.OldFriendBack){const e={convId:this.props.alert.oldFriendMri,causeId:t};H.default.navigateToConversation(e)}e.stopPropagation(),this.props.onAlertCardPress&&this.props.onAlertCardPress(this.props.alert)}}_buildState(e,t){const i=e.alert.alertType===c.AlertType.Reaction||e.alert.alertType===c.AlertType.AdditionalReaction;let o,n,r,s,l=!1,d="";const u=e.alert.message;let p,h,f=!1,b=!1;if(u){const t=(0,_.default)().getConversation(u.conversationId);o=u.creator;const r=y.decode(u),a=r.getFirstUriObjectChild(F.UriObjectNode);if(a&&(s=a.getNameForUI()),l=r.hasOnlyQuotedContent(),i){h=v.getReactionAlertAccessibilityLabel(u);const e=(0,g.chain)(u.getEmotionAnnotations(),(0,g.filter)((e=>e.key!==m.MessageAnnotations.ViewCount&&e.key!==m.MessageAnnotations.ReactionsConsumptionHorizon)),(0,g.map)((e=>e.users)),(0,g.flatten)());n=v.getReactionsDisplayInfo(e,{objectType:m.getMessageTypeGroup(u),isQuoteOnly:l,isPushNotification:!1},r),n.mostRecentMri&&(o=n.mostRecentMri)}else e.alert.alertType===c.AlertType.HighPriorityMessage?n=v.getMessageDisplayInfo(u,l):e.alert.alertType===c.AlertType.ScheduledCall&&e.alert.scheduledCallInfo&&!S.isThread(e.alert.scheduledCallInfo.initiator)&&(n=v.getScheduledCallDisplayInfo(e.alert.scheduledCallInfo),o=e.alert.scheduledCallInfo.initiator);d=t&&!t.isOneOnOne()&&!t.isHighlightsThread()&&!t.isReactionsThread()&&C.default.getDisplayName(t.id)||""}else if(e.alert.alertType===c.AlertType.Engagement){n=void 0;const t=e.alert.popCardInfo;r={title:t&&t.title,text:t&&t.subtitle,placeholders:t&&t.placeholders,showOnlyTitle:t&&t.showOnlyTitle}}else if(e.alert.alertType===c.AlertType.Notice){n=void 0;const t=e.alert.noticeMessageInfo;r={title:t&&t.title,text:t&&t.text,placeholders:t&&t.placeholders,showOnlyTitle:t&&t.showOnlyTitle}}else if(this._isNotificationPermissionAlert()){const e=ue.default.permissionStatus(te.PermissionType.Notifications);n=void 0,b=(e===a.PermissionStatus.Unknown||e===a.PermissionStatus.Prompt)&&he.default.getNotificationPromptClosedTimes()>=3,p=pe.AppConfigStore.getConfigSettings().webNotificationPromptCooldown.enabledOnEdge&&de.default.isEdgeShoreline()&&ue.default.isNotificationsPromptDismissed()&&b?M.getString("NotificationsPrompt.TextForWebCooldown"):M.getString("NotificationsPrompt.ShortText"),f=!0}else if(e.alert.alertType===c.AlertType.MissedCallbackReminder&&e.alert.missedCallbackReminderCalleeMri){n=void 0;const t=C.default.getDisplayName(e.alert.missedCallbackReminderCalleeMri);p=M.getString("Notifications.CallUserAgain",{user:t||""})}else if(e.alert.alertType===c.AlertType.OldFriendBack&&e.alert.oldFriendMri){n=void 0;const t=C.default.getShortDisplayName(e.alert.oldFriendMri)||"";p=M.getString("Notifications.OldFriendBackNotificationContent",{firstName:t})}const T={isUsingStackNav:W.default.isUsingStackNavigationContext(),messageToDisplay:u,description:"",descriptionAccessibilityLabel:h,posterMri:o,isReaction:i,notificationDisplayInfo:n,engagementDisplayInfo:r,formattedTimestamp:this._getElapsedTimeAndUpdateTimer(e.alert.alertTime),hideTimestamp:f,displayFilenameForIcon:s,isQuoteOnlyMessage:l,replySymbol:ee.getReplySymbol(),convDisplayName:d,headerTextOverride:p,colors:U.default.getGradientColors(),isTabletUI:oe.default.isTabletUI(),isNotificationCooldownEnabled:b};return t&&(T.isHovering=!1),T}_renderDisplayParts(){let e,t,i,o=me.Simple,r=[],a=[],d=Se.Standard,u=_e.Standard,g=!1;const h=this._useCompactLayout();let _;_=h?le.UserIconSize.Size24:this.state.isUsingStackNav?le.UserIconSize.Size64:le.UserIconSize.Size40;let f=(0,n.jsx)(se.UserIcon,{size:_,userMri:this.state.posterMri,importantForAccessibility:l.Types.ImportantForAccessibility.NoHideDescendants});if(this.props.alert.isRead||(t=(0,n.jsx)(l.View,{style:Ce.unreadBadge.badgeContainer,accessibilityLabel:M.getString("AlertCard.UnreadAccessibilityLabel"),children:(0,n.jsx)(s.GradientView,{style:Ce.unreadBadge.circle,direction:s.GradientDirection.BOTTOM_RIGHT,colors:this.state.colors})})),this.state.messageToDisplay){this.props.alert.alertType!==c.AlertType.Reaction&&this.props.alert.alertType!==c.AlertType.AdditionalReaction||(i=this.state.descriptionAccessibilityLabel,this.props.alert.isRead||(i+=", "+M.getString("AlertCard.UnreadAccessibilityLabel")));const t=m.getMessageTypeGroup(this.state.messageToDisplay),o=[Ce.alertIconContainer,Ce.userIconBadge],r=[Ce.userIconBorder,Ce.userIconBadge];let s;switch(this.state.isUsingStackNav?o.push(this._themeStyles.primaryBackgroundColorStyle):(o.push(Ce.compositeNav.alertIconContainer),o.push(this._themeStyles.popoverBackgroundColorStyle)),this.state.isHovering&&r.push(this._themeStyles.rowHoverViewStyle),h||(s=(0,n.jsx)(l.View,{style:o,children:(0,n.jsx)(l.View,{style:r,children:(0,n.jsx)(se.UserIcon,{size:le.UserIconSize.Size24,userMri:this.state.posterMri,importantForAccessibility:l.Types.ImportantForAccessibility.NoHideDescendants})})})),t){case m.MessageTypeGroups.Video:case m.MessageTypeGroups.Picture:const i=this._renderMediaThumbnail();i&&(e=s,f=i);break;case m.MessageTypeGroups.Audio:case m.MessageTypeGroups.Location:case m.MessageTypeGroups.SwiftCard:const o=this._renderIconThumbnail(t);o&&(e=s,f=o);break;case m.MessageTypeGroups.UriFile:const n=this._renderFileThumbnail();n&&(e=s,f=n);break;case m.MessageTypeGroups.Text:if(!this.state.isQuoteOnlyMessage){a=this._renderMessageParts()||[]}}}else if(this.props.alert.alertType===c.AlertType.OnboardingX||this.props.alert.isEngagementAlert()){let e;this.props.alert.alertType===c.AlertType.Notice&&this.props.alert.noticeMessageInfo&&(t=z.default.renderNoticeButton(this.props.alert.noticeMessageInfo,this._getRootViewId()),o=t?me.SecondaryButtons:me.Simple),this.props.alert.isEngagementAlert()&&this.state.engagementDisplayInfo?e=P.default.getFormattedAlertContent(this.state.engagementDisplayInfo,!0,o===me.SecondaryButtons):(e="\n"+this.state.description,i=M.getString("PopCards.NotificationHeader")+", "+(this.state.descriptionAccessibilityLabel||"")),r.push((0,n.jsx)(ne.BodyText,{style:Ce.cardText,children:e},"messagePrefix"))}else this._isNotificationPermissionAlert()&&(t=this._renderNotificationPermissionActionButton(),o=me.SecondaryButtons);const y=[Ce.engagementIconStyle];switch(h?y.push(Ce.engagementIconStyleCompact):this.state.isUsingStackNav||y.push(Ce.engagementIconStyleDesktop),this.props.alert.alertType){case c.AlertType.Notice:const t=this.props.alert.noticeMessageInfo;switch(t.contentType){case G.NoticeMessageContentType.Notice:f=(0,n.jsx)(A.default,{origin:"NoticeAlertIcon",style:y,containerStyle:y,resizeMode:"cover",source:t.iconUrl});break;case G.NoticeMessageContentType.NoticeWithAvatar:if(t.skypeId){const e=S.skypeIdToMri(S.asSkypeId(t.skypeId));f=(0,n.jsx)(se.UserIcon,{size:_,statusTypes:t.showStatusIndicator?T.default.getAllowedUserStatuses():[],userMri:e,importantForAccessibility:l.Types.ImportantForAccessibility.NoHideDescendants})}}break;case c.AlertType.Engagement:this.props.alert.popCardInfo&&this.props.alert.popCardInfo.iconUrl&&(f=(0,n.jsx)(A.default,{origin:"EngagementAlertIcon",style:y,containerStyle:y,resizeMode:"cover",source:this.props.alert.popCardInfo.iconUrl}));break;case c.AlertType.NotificationPermission:f=void 0,d=Se.Simple,u=_e.Themed,g=!1;break;case c.AlertType.ScheduledCall:d=Se.Standard,e=this._renderTextBadge(Z.SkypeIcon.Schedule,Z.IconSize.size16);break;case c.AlertType.MissedCallbackReminder:this.props.alert.missedCallbackReminderCalleeMri&&(e=this._renderTextBadge(Z.SkypeIcon.CallStart,Z.IconSize.size16),f=(0,n.jsx)(se.UserIcon,{size:_,userMri:this.props.alert.missedCallbackReminderCalleeMri}));break;case c.AlertType.OldFriendBack:e=this._renderTextBadge(Z.SkypeIcon.PersonAvailable,Z.IconSize.size16),f=(0,n.jsx)(se.UserIcon,{size:_,userMri:this.props.alert.oldFriendMri})}if(this.props.alert.alertType===c.AlertType.HighPriorityMessage){let t=Z.SkypeIcon.Blank;this.state.messageToDisplay&&(this.state.messageToDisplay.isCurrentUserQuoted()?t=this.state.replySymbol:this.state.messageToDisplay.isCurrentUserMentioned()&&(t=Z.SkypeIcon.Mention)),e=this._renderTextBadge(t,Z.IconSize.size16)}else if(this.props.alert.alertType===c.AlertType.Reaction&&!e){const t=this.props.alert.message&&this.props.alert.message.getReactions();if(t&&t.length&&(1===t.length||h)){const i=(0,n.jsx)(p.AnimatedEmoticon,{size:p.Size.Small,innerText:t[0].key,emoticonName:t[0].key,isStatic:!0});if(h)e=i;else{const t=[Ce.alertIconContainer];this.state.isUsingStackNav||t.push(Ce.compositeNav.alertIconContainer),e=(0,n.jsx)(l.View,{style:t,children:i})}}}return{layout:o,mainContentPartLayout:d,icon:h&&e?void 0:f,secondaryContent:t,extraHeaderText:r,messageContent:a,iconBadge:e,mainAccessibilityLabel:i,colorVariant:u,showBottomDelimiter:g}}_renderTextBadge(e,t){var i;const o=[Ce.alertIconContainer,Ce.alertMentionQuoteIconContainer];if(this.state.isUsingStackNav||(this._useCompactLayout()?o.push(Ce.compositeNav.alertIconContainer):o.push(Ce.compositeNav.alertMentionQuoteIconContainer)),!this.props.alert.isRead&&this.props.color){const e=l.Styles.createViewStyle({backgroundColor:this.props.color},!1);o.push(e)}return(0,n.jsx)(l.View,{style:o,children:(0,n.jsx)(w.default,{icon:e,color:J.Color.white,size:null!==(i=Y.default.controlFontSize.bodyBigDeprecated)&&void 0!==i?i:t,importantForAccessibility:l.Types.ImportantForAccessibility.No,style:Ce.badgeIcon})})}render(){const e=this._isPresentedInDesktopLeftNav(),t=this._renderDisplayParts(),i=[Ce.cardBody],o=[Ce.contentDetailsText];const r=[this.state.isUsingStackNav?Ce.containerMobileModernize:Ce.container,ie.default.noncollapsibleView];let a,s,c,d;if(t.mainContentPartLayout===Se.Simple&&(r.push(Ce.containerWithSimpleLayout),t.showBottomDelimiter&&(i.push(Ce.cardBottomBorder),i.push(this._useDarkTheme()?Ce.darkThemeSimpleLayoutBorder:Ce.lightThemeSimpleLayoutBorder))),this.state.isUsingStackNav||(r.push(e?Ce.experimentalNav.container:Ce.compositeNav.container),e&&r.push(Ce.experimentalNav.containerHorizontalPaddingModernize),(this._isEngagementAlert()||this._isNotificationPermissionAlert())&&r.push(ie.default.alignItemsCenter)),t.colorVariant===_e.WhiteOnBlue&&(i.push(Ce.blueBackground),o.push(Ce.whiteText)),t.colorVariant===_e.Themed&&(i.push(l.Styles.createViewStyle({backgroundColor:this._themeColors.surfaceInteractive},!1)),o.push(l.Styles.createTextStyle({color:this._themeColors.textOnColor},!1))),t.icon){const i=[Ce.userIcon];this.state.isUsingStackNav||i.push(e?Ce.experimentalNav.userIcon:Ce.compositeNav.userIcon),a=(0,n.jsxs)(l.View,{style:i,children:[t.icon,t.iconBadge]})}else t.iconBadge?a=(0,n.jsx)(l.View,{style:Ce.compactUserIconContainer,children:t.iconBadge}):this._useCompactLayout()&&(a=(0,n.jsx)(l.View,{style:Ce.compactUserIconContainer}));o.push(this._getOptionalRefreshedPaletteAwareAccessibleStyles()),this.state.hideTimestamp||(s=(0,n.jsx)(l.View,{accessibilityLabel:this.state.formattedTimestamp.valueAccessible,children:(0,n.jsx)(ne.Caption,{style:[...o,Ce.timestampText],children:this.state.formattedTimestamp.value})})),t.mainContentPartLayout===Se.Standard&&(c=(0,n.jsx)(l.View,{style:Ce.cardContentContainer,children:t.messageContent}),d=(0,n.jsxs)(l.View,{style:Ce.contentDetailsContainer,children:[s,(0,n.jsx)(ne.Caption,{style:o,numberOfLines:1,children:this.state.convDisplayName})]}));let u=(0,n.jsxs)(l.View,{style:ie.default.flexOne,children:[this._renderCardHeader(t.extraHeaderText||[],!this.props.alert.isRead,t.colorVariant),c,d]});const p=[e?Ce.experimentalNav.optionalSecondaryContentContainer:Ce.optionalSecondaryContentContainer,Ce.optionalSecondaryContentContainerEngagement],g=t.secondaryContent?(0,n.jsx)(l.View,{style:p,children:t.secondaryContent}):void 0;t.layout===me.SecondaryButtons&&(void 0!==a&&(a=(0,n.jsx)(l.Button,{onPress:this._onPress,accessibilityLabel:t.mainAccessibilityLabel,children:a})),u=(0,n.jsx)(l.Button,{onPress:this._onPress,style:ie.default.flexOne,accessibilityTraits:l.Types.AccessibilityTrait.Text,children:u}));const h=(0,n.jsxs)(l.View,{style:[r,this._getItemStyle()],children:[a,u,g]});return t.layout===me.SecondaryButtons?(0,n.jsx)(l.View,{style:i,underlayColor:this._themeColors.rowHighlightColor,children:h}):(0,n.jsx)(L.default.Button,{style:i,onPress:this._onPress,activeOpacity:.7,accessibilityLabel:t.mainAccessibilityLabel,onHoverStart:this._hoverStart,onHoverEnd:this._hoverEnd,children:h})}_getItemStyle(){return[B.getListItemBackgroundStyle(!1,!!this.state.isHovering,this._getContext().themeColors)]}_getOptionalRefreshedPaletteAwareAccessibleStyles(){if(this._useAccessibleTheme()&&this.state.isHovering)return l.Styles.createTextStyle({color:this._themeColors.textOnColor},!1)}_getOptionalModernizeTitleStyle(){return B.getItemTitleTextStyle(!1,!this.props.alert.isRead)}_renderCardHeader(e,t=!0,i=_e.Standard){let o=this._themeStyles.primaryTextColorStyle;i===_e.WhiteOnBlue&&(o=Ce.whiteText),i===_e.Themed&&(o=l.Styles.createTextStyle({color:this._themeColors.textOnColor},!1));const a=[Ce.cardText,o];let s;a.push(this._getOptionalRefreshedPaletteAwareAccessibleStyles());const c=this.props.rowSize===X.RowSize.ExtraCompact?ne.BodyTextSize.SmallDeprecated:void 0;if(this._isNotificationPermissionAlert()&&a.push(Ce.notificationPermissionHeader),this.props.alert.isEngagementAlert()&&this.state.engagementDisplayInfo)s=(0,n.jsx)(ne.BodyText,{bold:t,size:c,style:a,numberOfLines:2,children:P.default.getReplacedPlaceholders(r.toString(this.state.engagementDisplayInfo.title),this.state.engagementDisplayInfo.placeholders)},"cardHeader");else if(this.state.headerTextOverride)s=(0,n.jsx)(ne.BodyText,{bold:t,size:c,style:a,numberOfLines:2,children:this.state.headerTextOverride},"cardHeader");else if(this.state.notificationDisplayInfo&&this.state.notificationDisplayInfo.labelKey){let e=0;a.push(this._getOptionalModernizeTitleStyle()),a.push(this._getOptionalRefreshedPaletteAwareAccessibleStyles()),s=(0,n.jsx)(ne.BodyText,{bold:t,size:c,style:a,numberOfLines:2,forceDirection:!0,children:M.getParts(this.state.notificationDisplayInfo.labelKey,{you:(0,n.jsx)(l.Text,{children:M.getString("AlertCard.YouLowerCase")},"you"),all:(0,n.jsx)(l.Text,{children:M.getString("AlertCard.All")},"all"),user:(0,n.jsx)(l.Text,{children:this.state.notificationDisplayInfo.creatorDisplayName},"cardHeaderUser"),firstOtherPerson:(0,n.jsx)(l.Text,{children:this.state.notificationDisplayInfo.firstPersonToReact},"firstOtherPerson"),secondOtherPerson:(0,n.jsx)(l.Text,{children:this.state.notificationDisplayInfo.secondPersonToReact},"secondOtherPerson"),gender:D.getLocalizeParamForGender(this.state.notificationDisplayInfo.gender),otherCount:this.state.notificationDisplayInfo.othersCount,subject:this.state.notificationDisplayInfo.subject},(t=>(0,n.jsx)(l.Text,{children:t},"dynamic"+e++)))},"cardHeader")}return(0,n.jsx)(l.Text,{numberOfLines:this._isEngagementAlert()?0:2,forceLayoutInRTL:!0,forceDirection:!0,children:r.flatten(r.compact([s,e]))})}_renderMessageParts(){if(!this.state.messageToDisplay)return;const e=[],t=[this.props.rowSize===X.RowSize.ExtraCompact?Y.default.fontStyle.bodySmallDeprecated:this.state.isUsingStackNav?Y.default.fontStyle.modernizeRowTitle:Y.default.fontStyle.body,Ce.cardText,this._themeStyles.primaryTextColorStyle,B.getItemSubtitleTextStyle()];t.push(this._getOptionalRefreshedPaletteAwareAccessibleStyles());const i={processing:b.ProcessingDefaults.Preview,renderMedia:!1,mediaPlaceholderIconColor:this._themeColors.primaryTextColor,allowLargeEmoticons:!1,trimToFirstLine:!0,forceLayoutInRTL:!0,numberOfLines:1,textOverrideStyle:t,boldTextStyle:t,regularTextStyle:t,linkStyle:t,atMentionStyle:t,atMentionMeOverrideStyle:t,renderSimpleAtMentions:!0};return e.push((0,n.jsx)(O.default,{message:this.state.messageToDisplay,options:i},"messageContent")),e}_renderFileThumbnail(){const e=I.FileIconHelper.getIconFromFileType(this.state.displayFilenameForIcon),t=[Ce.iconContainer,e.backgroundStyle];let i=Z.IconSize.size32;return this.state.isUsingStackNav||(t.push(Ce.compositeNav.iconContainer),i=Z.IconSize.size24),(0,n.jsx)(l.View,{style:t,children:(0,n.jsx)(w.default,{icon:e.icon,size:i,color:J.Color.white},this.props.alert.guid)})}_renderIconThumbnail(e){const t=[Ce.iconContainer];let i;switch(this.state.isUsingStackNav||t.push(Ce.compositeNav.iconContainer),e){case m.MessageTypeGroups.Audio:i=Z.SkypeIcon.Microphone;break;case m.MessageTypeGroups.Location:i=Z.SkypeIcon.LocationPin;break;case m.MessageTypeGroups.SwiftCard:i=Z.SkypeIcon.ContactCard}const o=i?(0,n.jsx)(w.default,{icon:i,size:Z.IconSize.size24,color:J.Color.white},this.props.alert.guid):void 0;return(0,n.jsx)(l.View,{style:t,children:o})}_renderMediaThumbnail(){const e=this.state.isUsingStackNav?60:40;return this.state.messageToDisplay?(0,n.jsx)(l.View,{style:Ce.thumbnailContainer,children:(0,n.jsx)(R.default,{message:this.state.messageToDisplay,height:e,width:e,showCreator:!1,thumbnailIconsSize:Z.IconSize.size24,showVideoMediaTypeIcon:!0,borderRadius:10},this.props.alert.guid)}):void 0}_renderNotificationPermissionActionButton(){if(de.default.isEdgeShoreline())return(0,n.jsx)(K.NotificationPermissionPromptActionButton,{origin:q.NotificationPromptOrigin.AlertPanel,title:M.getString(this.state.isNotificationCooldownEnabled?"NotificationsPrompt.ButtonLabel":"NotificationsPrompt.ButtonLabelAlternative"),onPress:()=>{this.state.isNotificationCooldownEnabled?ge.default.initNotificationsAndRequestPermissions(!0):H.default.navigateToNotificationAugmentedPermissionPrompt()}})}_getElapsedTimeAndUpdateTimer(e){const t=Date.now()-e;if(t>=36e5){const t=f.default.getDisplayDateTimeString(e);return{value:t,valueAccessible:t}}{const e=6e4-Math.floor(t%6e4);if(ae.default.setTimeout((()=>{this._updateTimeState()}),e),t>=6e4){const e=Math.floor(t/6e4).toString();return{value:M.getString("SearchResultsList.ElapsedTimeMinutes",{minutes:e}),valueAccessible:M.getString("SearchResultsList.ElapsedTimeMinutesAccessible",{minutes:e})}}return{value:M.getString("SearchResultsList.ElapsedTimeOneMinute"),valueAccessible:M.getString("SearchResultsList.ElapsedTimeOneMinuteAccessible")}}}_updateTimeState(){this.isComponentMounted()&&this.setState({formattedTimestamp:this._getElapsedTimeAndUpdateTimer(this.props.alert.alertTime)})}_markRead(){this.props.alert.alertType!==c.AlertType.MissedCallbackReminder&&this.props.alert.alertType!==c.AlertType.OldFriendBack?!this.props.alert.isRead&&this.state.messageToDisplay&&(this.props.alert.alertType===c.AlertType.Reaction||this.props.alert.alertType===c.AlertType.AdditionalReaction?j.default.isMyMri(this.state.messageToDisplay.creator)&&h.markReactionsAsRead(this.state.messageToDisplay):this.props.alert.alertType===c.AlertType.ScheduledCall&&h.markScheduledCallAsRead(this.state.messageToDisplay)):u.default.markAsRead(this.props.alert.guid)}_getAlertTypeForTelemetryEvent(){let e=k.AlertTypeForTelemetry.Unknown;switch(this.props.alert.alertType){case c.AlertType.Reaction:case c.AlertType.AdditionalReaction:e=k.AlertTypeForTelemetry.Reaction;break;case c.AlertType.OnboardingX:e=k.AlertTypeForTelemetry.Onboarding;break;case c.AlertType.Engagement:e=k.AlertTypeForTelemetry.Engagement;break;case c.AlertType.HighPriorityMessage:this.state.messageToDisplay&&this.state.messageToDisplay.isCurrentUserQuoted()?e=k.AlertTypeForTelemetry.Quote:this.state.messageToDisplay&&this.state.messageToDisplay.isCurrentUserMentioned()&&(e=k.AlertTypeForTelemetry.Mention);break;case c.AlertType.Notice:e=k.AlertTypeForTelemetry.Notice;break;case c.AlertType.ScheduledCall:e=k.AlertTypeForTelemetry.ScheduledCall;break;case c.AlertType.OldFriendBack:e=k.AlertTypeForTelemetry.OldFriendBack}return e}_isEngagementAlert(){return this.props.alert.alertType===c.AlertType.Engagement||this.props.alert.alertType===c.AlertType.Notice}_useCompactLayout(){return this.props.rowSize===X.RowSize.Compact||this.props.rowSize===X.RowSize.ExtraCompact}_isNotificationPermissionAlert(){return this.props.alert.alertType===c.AlertType.NotificationPermission}}t.default=ve},347044:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.onAlertCardPress=function(e){const t=h.default.newCauseId();switch(g.Instrumentation.log(m.LogTraceArea.Navigation,`[AlertsCardActions][onAlertCardPress][${t}]Card in alerts was pressed`),e.alertType){case S.AlertType.MissedCallbackReminder:e.missedCallbackReminderCalleeMri&&_.default.navigateToConversation({convId:e.missedCallbackReminderCalleeMri,causeId:t,origin:m.NavigationConversationOrigin.AlertsPanel});break;case S.AlertType.Engagement:if(e.popCardInfo)if(p.default.isUsingStackNavigationContext())_.default.navigateToHub(t),a.default.toggleCardById(!0,e.popCardInfo.guid);else{const t=a.default.getCardsById([e.popCardInfo.guid]);s.default.openPopCard(t,n.MainRootViewId)}break;case S.AlertType.Notice:if(e.noticeMessageInfo){const t=e.noticeMessageInfo,i={eventType:f.EngagementTelemetryEventType.NoticeTapCard,campaignId:t.campaignId,campaignTrackId:l.default.getTrackingQueryParam(t.mainActionUri),actionOrigin:f.ActionOrigin.Notification,messageCorrelationId:t.messageCorrelationId,engagementTelemetryAttributes:t.engagementTelemetryAttributes};if(t.contentType===c.NoticeMessageContentType.NoticeWithAvatar&&t.skypeId&&t.showStatusIndicator){const e=r.skypeIdToMri(r.asSkypeId(t.skypeId));if(r.isMriWithUserMetadata(e)){const t=u.default.getUserStatusWithOptions(e,d.default.getAllowedUserStatuses());i.userStatus=t}}g.Instrumentation.track(new f.EngagementNoticeTelemetryEvent(i));const o=()=>{e.noticeMessageInfo&&v.default.onNoticeOpen(e.noticeMessageInfo)};if(!e.noticeMessageInfo.mainActionUri)return;y.default.openUri({onDone:o,type:C.EngagementType.Notice,title:e.noticeMessageInfo.modalTitle,uri:e.noticeMessageInfo.mainActionUri,target:e.noticeMessageInfo.mainActionTarget,campaignId:e.noticeMessageInfo.campaignId,messageCorrelationId:e.noticeMessageInfo.messageCorrelationId},n.MainRootViewId)}}};const o=i(197582),n=i(720415),r=o.__importStar(i(44717)),a=o.__importDefault(i(810551)),s=o.__importDefault(i(932541)),l=o.__importDefault(i(362910)),c=i(71301),d=o.__importDefault(i(259319)),u=o.__importDefault(i(839970)),p=o.__importDefault(i(942724)),g=i(82485),h=o.__importDefault(i(760989)),m=i(815146),S=i(22336),_=o.__importDefault(i(740794)),f=i(224958),y=o.__importDefault(i(59082)),C=i(22478),v=o.__importDefault(i(858419))},120920:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(331654),s=i(614080),l=o.__importStar(i(516778)),c=o.__importDefault(i(973816)),d=o.__importDefault(i(341835)),u=o.__importDefault(i(521106)),p=i(22336),g=o.__importStar(i(47440)),h=o.__importDefault(i(852789)),m=o.__importDefault(i(150343)),S=i(154235),_=o.__importDefault(i(615364)),f=i(20107),y=o.__importDefault(i(18026)),C=o.__importDefault(i(762665)),v=o.__importDefault(i(988074)),b=i(815146),T=o.__importStar(i(800662)),P=o.__importStar(i(85385)),k=o.__importDefault(i(214295)),A=i(26703),I=o.__importStar(i(704704)),w=o.__importDefault(i(252089)),x=i(658726),N=o.__importDefault(i(658726)),D=o.__importDefault(i(935506)),M=i(975741),L=o.__importDefault(i(942724)),R=o.__importDefault(i(810551)),E=o.__importDefault(i(459778)),B=o.__importDefault(i(960282)),O=o.__importDefault(i(117475)),F=o.__importDefault(i(799585)),V=i(16549),U=o.__importDefault(i(827361)),j=o.__importDefault(i(497910)),H=o.__importDefault(i(38217)),W=i(596648),z=o.__importDefault(i(452045)),G=o.__importDefault(i(45810)),K=o.__importDefault(i(463171)),q=i(589640),Q=o.__importDefault(i(929012)),X="alp_alert",$="native_ad",J="alp_update",Y="alp_spacer",Z=(0,A.lazyProperties)({panel:()=>l.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),emptyStateContainer:()=>l.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center",paddingHorizontal:40}),emptyStateImageV3:()=>l.Styles.createImageStyle({height:130,width:130,alignSelf:"center"}),emptyStateMessage:()=>l.Styles.createTextStyle({textAlign:"center"}),activityIndicatorContainer:()=>l.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center"}),itemDividerComposite:()=>l.Styles.createViewStyle({height:1,marginLeft:68}),itemDividerStackNav:()=>l.Styles.createViewStyle({height:1,marginLeft:93})});class ee extends j.default{constructor(){super(...arguments),this._currentScrollTop=0,this._haveAlertsBeenTracked=!1,this.handleFocusEvent=e=>(P.log(b.LogTraceArea.GenericUnsafe,"AlertsPanel.handleFocusEvent"),!(e!==T.FocusEvent.Notifications||!this._vlvRef)&&(this._vlvRef.scrollToTop(!1),this._vlvRef.focus(!0),!0)),this._onLayoutVlvContainer=e=>{this.isComponentMounted()&&(this.state.listItemContainerHeight===e.height&&this.state.listItemContainerWidth===e.width||this.setState({listItemContainerHeight:e.height,listItemContainerScreenAvailableHeight:ee._getItemContainerHeightDisregardingKeyboard(e.height,this.state),listItemContainerWidth:e.width}))},this._renderItem=(e,t)=>{switch(e.template){case X:const t=this.state.alerts[e.key];let i;return this.props.showDivider&&(i=this._renderOptionalDivider()),r.compact([(0,n.jsx)(c.default,{alert:t,height:e.height,onAlertCardPress:this._onPressAlertCard,color:e.color,item:e,rowSize:this.state.rowSize},t.guid),i]);case J:return(0,n.jsx)(C.default,{rowSize:this.state.rowSize},e.key);case Y:return(0,n.jsx)(l.View,{style:l.Styles.createViewStyle({height:e.height},!1)},e.key);case $:const o=e;let a;return a=o.adsType===f.AdsType.ListItemNarrow?(0,n.jsx)(d.default,{adsGuid:o.adsGuid,adGuid:o.adGuid,dimensions:o.dimensions,placementId:o.placementId,canHide:o.canHide,provider:o.provider},o.key):(0,n.jsx)(u.default,{adsGuid:o.adsGuid,adGuid:o.adGuid,dimensions:o.dimensions,placementId:o.placementId,canHide:o.canHide,provider:o.provider},o.key),r.compact([a,this._renderOptionalDivider()]);default:return[]}},this._onScroll=(e,t)=>{this.props.onScroll&&this.props.onScroll(e,this._currentScrollTop),this._currentScrollTop=e},this._onPressAlertCard=e=>{this.props.onPressAlertCard&&this.props.onPressAlertCard(e)},this._onVLVRef=e=>{this._vlvRef=e||void 0}}_buildState(e,t){const i=m.default.getAdsFeatures(),o=i.placementSettings.alertsPanel,n=h.default.getRecentAlerts(e.filter),s={};if(!h.default.isLoadingAlertsFromDb()&&!this._haveAlertsBeenTracked){const e=(0,_.default)().getDisplayableRecentConversationsSortedAll().length,t=this._setupAlertTypesInfo(n);P.track(new g.AlertsPanelOpened(t,e)),this._haveAlertsBeenTracked=!0}r.each(n,(e=>{s["n_"+e.guid]=e}));const c=this._getRootViewId(),d=L.default.isUsingStackNavigationContext(),u={alerts:s,isLoadingAlertsFromDb:h.default.isLoadingAlertsFromDb(),isUsingStackNavigationContext:d,safeAreaHorizontalInsets:O.default.horizontalInsets(S.HorizontalInsetDefaultModernize),isLandscape:B.default.getDeviceOrientation(c)===a.DeviceOrientation.Landscape&&!this._getContext().isPresentedInDesktopSubview,rowSize:E.default.nonRecentRowSizeAndChanges(),keyboardHeight:k.default.getUpdateInfo().height,emptyNotificationsTabEmoticon:m.default.getS4LMessagingFeatures().emoticonForEmptyNotificationsTab,displayEmptyStateScreen:K.default.getNotificationsEmpty()},p=ee._calculateAlertCardHeight(d),C=this._isPresentedInDesktopLeftNav()||this._isPresentedInTabletLeftNav();let b=0;const T=w.default.getPrimaryColor();u.itemList=r.flatten(r.map(u.alerts,(e=>{const t=[{key:"n_"+e.guid,height:p,template:X,color:T,measureHeight:!0,accessibilityTrait:l.Types.AccessibilityTrait.Button}];return C&&t.push(this._getItemSpacer(2,b++)),t}))),y.default.getUpdateStatus()===v.default.UpdateDownloaded&&(u.itemList=[{key:"update_notification",height:p,template:J,measureHeight:!0,accessibilityTrait:l.Types.AccessibilityTrait.Button},...u.itemList]);const A=m.default.getS4LMessagingFeatures().enableRecyclerListViewUseCases;u.enabledRecyclerView=A.indexOf("MainScreen.Tabs.Notifications")>-1;const I=(i.naExperimentEnabled||i.enabled)&&(o.adsType===f.AdsType.ListItem||o.adsType===f.AdsType.ListItemNarrow)&&u.itemList.length>=o.minRequiredAdjacentItems?N.default.getAdsState(o.placementIds[0],{refreshIntervalInMinutes:o.refreshIntervalInMinutes,isAdMediaClickable:o.isAdMediaClickable,placementName:M.NativeAdPlacementName.AlertsPanel,provider:o.provider,adsType:o.adsType,otherProviders:o.otherProviders,testDevices:i.testDevices}):void 0;return I&&I.status===x.AdsStatus.Loaded&&this._insertNativeAdIntoList(u,o,I,p,C,b),u}_getItemSpacer(e,t){return{key:Y+t,height:e,template:Y,isNavigable:!1}}scrollToTop(){this._vlvRef&&this._vlvRef.scrollToTop()}componentDidMount(){super.componentDidMount(),h.default.maybeAddOrRemoveNotificationPermissionAlert(),h.default.clearAlertsPanelCount(),T.register(T.FocusEvent.Notifications,this)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),r.some(this.state.alerts,(e=>e.alertType===p.AlertType.Engagement))&&R.default.initialize(),K.default.setNotificationsEmpty(r.filter(this.state.alerts,(e=>e.alertType!==p.AlertType.NotificationPermission)).length)}componentWillUnmount(){super.componentWillUnmount(),T.unregister(T.FocusEvent.Notifications,this)}render(){const e=0===this.state.itemList.length,t=r.size(this.state.alerts)<=1,i=e&&this.state.isLoadingAlertsFromDb;let o;o=i?(0,n.jsx)(l.View,{style:Z.activityIndicatorContainer,children:(0,n.jsx)(F.default,{size:S.SXActivityIndicatorSize.Medium,tintColor:V.Color.gray400})}):e?void 0:(0,n.jsx)(s.VirtualListView,{ref:this._onVLVRef,enabledRecyclerView:this.state.enabledRecyclerView,itemList:this.state.itemList,renderItem:this._renderItem,animateChanges:!0,horizontalPadding:this.state.safeAreaHorizontalInsets,onScroll:this._onScroll,accessibilityLabel:I.getString("AlertsPanel.NotificationsTitle"),style:this.state.displayEmptyStateScreen?q.styles.panelWrapperStyle:void 0});const a=!i&&this.state.displayEmptyStateScreen&&t?this._renderEmptyState():void 0;return(0,n.jsx)(l.View,{style:[Z.panel,U.default.noncollapsibleView],onLayout:this._onLayoutVlvContainer,children:(0,n.jsx)(Q.default,{ContentSlot:o,EmptySlot:a})})}_renderEmptyState(){return(0,n.jsx)(z.default,{emoticon:this.state.emptyNotificationsTabEmoticon,topSlot:(0,n.jsx)(G.default,{headerText:I.getString("AlertsPanel.EmptyStateHeader"),bodyText:I.getString("AlertsPanel.EmptyStateDescriptionAlternative"),useThemeHeaderColor:!0})},"noNotificationsItem")}_insertNativeAdIntoList(e,t,i,o,n,r){if(!e.itemList)return;const a=this._getRootViewId(),s=this.state&&this.state.listItemContainerScreenAvailableHeight?this.state.listItemContainerScreenAvailableHeight:B.default.getHeight(a),l=this._createNativeAdItem(e,t,i,o),c=D.default.calculateNativeAdsPositionInListView({maxHeight:s,items:e.itemList,startPosition:0,nativeAdsHeight:l.height,adsConfig:t}),d=[l];n&&d.push(this._getItemSpacer(2,r)),e.itemList.splice(c,0,...d)}_createNativeAdItem(e,t,i,o){const n=t.placementIds[0],r=this.state&&this.state.listItemContainerWidth?this.state.listItemContainerWidth:300,a=this._getIconSize(!!e.isUsingStackNavigationContext),s=D.default.calculateAlertCardNativeAdDimensions(!!e.isUsingStackNavigationContext,r,o,D.default.includeMediaInAdHeight(i),a,H.default.getIconSize(a).user,t.dynamicDimensionsSettings,i.adsType);return{key:"native_ad"+n,adsGuid:i.guid,adGuid:i.ads[0],height:s.totalHeight,dimensions:s,placementId:n,template:$,accessibilityTrait:l.Types.AccessibilityTrait.Group,accessibilityLabel:I.getString("NativeAd.AdAccessibilityLabel"),canHide:t.canHide,provider:i.provider,adsType:i.adsType}}_getIconSize(e){return e?W.AvatarIconSize.Size60:W.AvatarIconSize.Size40}_renderOptionalDivider(){const e=[this.state.isUsingStackNavigationContext?Z.itemDividerStackNav:Z.itemDividerComposite,this._themeStyles.dividerColorStyle];return(0,n.jsx)(l.View,{style:e},"itemDivider")}_setupAlertTypesInfo(e){return{engagementsCount:r.filter(e,(e=>e.alertType===p.AlertType.Engagement)).length,quotesCount:r.filter(e,(e=>e.message&&e.message.isCurrentUserQuoted())).length,reactionsCount:r.filter(e,(e=>e.alertType===p.AlertType.Reaction)).length,mentionsCount:r.filter(e,(e=>e.message&&e.message.isCurrentUserMentioned())).length}}static _calculateAlertCardHeight(e){const t=B.default.getContentSizeMultiplier(),i=e?64:70;return 20+Math.round(i*Math.min(t,S.MaxContentSizeMultiplier))+2}static _getItemContainerHeightDisregardingKeyboard(e,t){return t.keyboardHeight<=0?e:t.listItemContainerScreenAvailableHeight?t.listItemContainerScreenAvailableHeight:t.listItemContainerHeight?t.listItemContainerHeight:e}}t.default=ee},670466:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertsPanelWrapper=function(e){const{themeColors:{surfacePrimary:t}}=(0,m.useSkypeTheme)(),i={fillColor:t,strokeColor:t};return(0,n.jsx)(l.default,{isPresentedInDesktopSubview:!0,children:(0,n.jsxs)(d.default,{modalWidth:p.default.headerModalBaseWidth,modalHeight:p.default.headerModalBaseHeight,onClickOutside:e.dismiss,modalTitle:"alerts",popupColorInfo:i,horizontalPadding:0,anchor:e.anchor,hideBackground:!0,fullSize:!1,children:[_(),(0,n.jsx)(u.default,{onPressAlertCard:S.onAlertCardPress},"AlertsModal")]})})};const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(344175),s=i(389008),l=o.__importDefault(i(633958)),c=o.__importStar(i(704704)),d=o.__importDefault(i(954780)),u=o.__importDefault(i(120920)),p=o.__importDefault(i(266311)),g=i(262725),h=i(964414),m=i(206315),S=i(347044);function _(){const{headerStyle:e}=(0,h.useSkypeStyles)((({themeColors:e})=>({headerStyle:{borderBottomColor:e.dividerPrimary,borderBottomWidth:1}})),[]),{headerTextStyle:t}=(0,h.useRXStyles)((({themeColors:e})=>({headerTextStyle:r.Styles.createTextStyle({color:e.textSecondary,fontWeight:s.Types.FontWeights.normal},!1)})),[]);return(0,n.jsx)(a.Row,{height:60,paddingX:"size160",alignItems:"center",style:e,children:(0,n.jsx)(g.PanelHeader,{style:t,children:c.getString("SettingsHubHeader.NotificationsTitle")})})}},762665:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(18026)),s=o.__importStar(i(833382)),l=i(815146),c=i(26703),d=o.__importStar(i(704704)),u=o.__importDefault(i(998929)),p=i(773151),g=i(963254),h=i(16549),m=o.__importDefault(i(139221)),S=o.__importDefault(i(20758)),_=i(641400),f=i(262725),y=o.__importDefault(i(497910)),C=o.__importDefault(i(150343)),v=_.IconSize.size40,b=_.IconSize.size24,T=(0,c.lazyProperties)({container:()=>r.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",paddingVertical:10,paddingHorizontal:15}),containerCompact:()=>r.Styles.createViewStyle({paddingHorizontal:10}),text:()=>r.Styles.createTextStyle({flex:1,marginLeft:15,marginRight:10,lineHeight:22}),textCompact:()=>r.Styles.createTextStyle({marginLeft:8}),updateButton:()=>r.Styles.createViewStyle({backgroundColor:h.Color.green,height:30,borderRadius:15,paddingHorizontal:15,justifyContent:"center",alignItems:"center"}),mandatoryUpdateButton:()=>r.Styles.createViewStyle({backgroundColor:h.Color.red}),updateButtonText:()=>r.Styles.createTextStyle({color:h.Color.white,fontSize:S.default.controlFontSize.smallButton})});class P extends y.default{constructor(){super(...arguments),this._onHoverStart=()=>{this.isComponentMounted()&&this.setState({isHovering:!0})},this._onHoverEnd=()=>{this.isComponentMounted()&&this.setState({isHovering:!1})},this._onPress=()=>{s.tryToQuitAndInstallUpdate(this._getRootViewId())}}_buildState(e,t){return{isRedBadge:a.default.shouldShowUpdateReminder(),enableRefreshedPalette:C.default.getS4LUiFeatures().enableRefreshedPalette}}render(){const e=this.props.rowSize===p.RowSize.ExtraCompact||this.props.rowSize===p.RowSize.Compact,t=[T.container,this._themeStyles.updateCard],i=[T.text];e&&(t.push(T.containerCompact),i.push(T.textCompact)),this.state.isRedBadge&&t.push(this._themeStyles.mandatoryUpdateCard),this.state.isHovering&&(this.state.isRedBadge?t.push(this._themeStyles.mandatoryUpdateCardHover):t.push(this._getHoverStyles()));const o=[T.updateButton];return this.state.isRedBadge&&o.push(T.mandatoryUpdateButton),(0,n.jsxs)(u.default.Button,{style:t,onHoverStart:this._onHoverStart,onHoverEnd:this._onHoverEnd,onPress:this._onPress,children:[(0,n.jsx)(g.SkypeLogo,{size:e?b:v}),(0,n.jsx)(f.BodyText,{style:i,size:e?f.BodyTextSize.SmallDeprecated:void 0,children:this._getUpdateMessage()}),(0,n.jsx)(r.View,{style:o,children:(0,n.jsx)(r.Text,{style:T.updateButtonText,children:this._getUpdateButton()})})]})}_getHoverStyles(){return this.state.enableRefreshedPalette?r.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfaceAccent},!1):this._themeStyles.updateCardHover}_getUpdateMessage(){return this.state.isRedBadge?d.getString("ElectronUpdateCard.ElectronUpdateMandatory"):m.default.getPlatformType()===l.PlatformType.Linux?d.getString("ElectronUpdateCard.ElectronUpdateLinux"):d.getString("ElectronUpdateCard.ElectronUpdate")}_getUpdateButton(){return m.default.getPlatformType()===l.PlatformType.Linux?d.getString("ElectronUpdateCard.UpdateButtonLinux"):d.getString("ElectronUpdateCard.UpdateButton")}}t.default=P},119389:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopHubTabBar=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importDefault(i(852789)),s=o.__importDefault(i(958868)),l=o.__importDefault(i(574489)),c=o.__importDefault(i(18026)),d=o.__importDefault(i(261914)),u=o.__importDefault(i(54945)),p=o.__importDefault(i(341994)),g=o.__importStar(i(812822)),h=o.__importStar(i(322094)),m=o.__importDefault(i(601274));class S extends s.default{constructor(){super(...arguments),this._onKeyPress=e=>{if(!this.isComponentMounted())return;let t=r.indexOf(this.props.tabs,this.state.focusedHubTab);e.keyCode!==u.default.DOWN&&e.keyCode!==u.default.LEFT||(t-=1),e.keyCode!==u.default.UP&&e.keyCode!==u.default.RIGHT||(t+=1),t<0?t=this.props.tabs.length-1:t>=this.props.tabs.length&&(t=0),this.setState({focusedHubTab:this.props.tabs[t]})},this._onBlur=()=>{this._focusResetTimeout&&m.default.clearTimeout(this._focusResetTimeout),this._focusResetTimeout=m.default.setTimeout((()=>{this.isComponentMounted()&&this.state.focusedHubTab!==this.props.currentHubTab&&this.setState({hasFocus:!1,focusedHubTab:this.props.currentHubTab})}),250)},this._onFocus=()=>{this.isComponentMounted()&&!this.state.hasFocus&&this.setState({hasFocus:!0}),this._focusResetTimeout&&(m.default.clearTimeout(this._focusResetTimeout),this._focusResetTimeout=void 0)},this._onTabBarRef=e=>{this._tabBar=e||void 0},this._onTabBarLayout=e=>{if(!this.state.resizingEnabled)return;const t=e.width<=this.props.smallTabsThreshold;this.state.useSmallTabs!==t&&this.setState({useSmallTabs:t})}}_buildState(e,t){const i=r.includes(e.tabs,g.HubTab.Notifications),o=r.includes(e.tabs,g.HubTab.Today),n={activeConversationsCount:r.includes(e.tabs,g.HubTab.Recents)?l.default.getActiveRecentsConversationCount():0,unreadAlertsCount:i?a.default.getUnreadAlertsCount():0,showTodayTabBadge:o&&p.default.shouldShowTodayBadge(!0),shouldShowUpdateBadge:i&&(c.default.shouldShowUpdateBadge()||c.default.shouldShowUpdateReminder()),focusedHubTab:e.currentHubTab,resizingEnabled:h.default.resizingEnabled(h.SideBar.Left)};return t&&(n.hasFocus=!1,n.useSmallTabs=e.useSmallTabsOnMount),n}tabRef(e){return this._tabBar?this._tabBar.tabRef(e):void 0}_badgeCount(){let e=this.state.unreadAlertsCount||0;return this.state.shouldShowUpdateBadge&&e++,e}render(){return(0,n.jsx)(d.default,{ref:this._onTabBarRef,style:this.props.style,tabs:this.props.tabs,currentHubTab:this.props.currentHubTab,focussedHubTab:this.state.focusedHubTab,activeConversationsCount:this.state.activeConversationsCount,unreadAlertsCount:this._badgeCount(),showTodayTabBadge:this.state.showTodayTabBadge,hasFocus:this.state.hasFocus,useSmallTabs:this.state.useSmallTabs,hideLabels:this.props.hideLabels,onTabPress:this.props.onTabPress,onTabContextMenu:this.props.onTabLongPress,onKeyPress:this._onKeyPress,onFocus:this._onFocus,onBlur:this._onBlur,onLayout:this.state.resizingEnabled?this._onTabBarLayout:void 0,showSpinnerWhenSyncing:!0})}}t.DesktopHubTabBar=S,t.default=S},973636:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopNewActionPicker=t.DesktopNewActionPickerType=void 0;const o=i(197582),n=i(785893),r=i(496486),a=o.__importStar(i(516778)),s=o.__importDefault(i(150343)),l=o.__importDefault(i(631681)),c=i(315742),d=i(154235),u=i(215070),p=o.__importDefault(i(260928)),g=i(413686),h=o.__importDefault(i(601976)),m=i(815146),S=i(482564),_=o.__importDefault(i(457468)),f=o.__importStar(i(85385)),y=i(627924),C=i(26703),v=o.__importStar(i(963369)),b=o.__importStar(i(704704)),T=i(85755),P=o.__importDefault(i(443333)),k=i(44557),A=o.__importDefault(i(363091)),I=o.__importDefault(i(740794)),w=o.__importStar(i(812822)),x=i(113002),N=o.__importDefault(i(690051)),D=i(240804),M=o.__importDefault(i(400836)),L=i(928722),R=o.__importStar(i(888500)),E=i(16549),B=o.__importDefault(i(139221)),O=i(641400),F=o.__importDefault(i(48076)),V=o.__importDefault(i(497910)),U=o.__importDefault(i(760989));var j;!function(e){e[e.Default=0]="Default",e[e.TextButtonWithShadow=1]="TextButtonWithShadow",e[e.TextButtonWithBorderAndIcon=2]="TextButtonWithBorderAndIcon"}(j||(t.DesktopNewActionPickerType=j={}));const H=(0,C.lazyProperties)({iconContainer:()=>a.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",alignItems:"center"}),iconButtonText:()=>a.Styles.createViewStyle({margin:5}),iconButtonTextCompactIcon:()=>a.Styles.createViewStyle({paddingTop:4})}),W="moderatedgroup",z="group",G="1on1",K="private",q="newCall",Q="findBots",X="addContact",$="cellularSms",J="inviteToSkype",Y="syncAddressBook",Z="newChat";class ee extends V.default{constructor(){super(...arguments),this._menuId=R.default.menuId(),this._onPlusButtonClick=e=>{if(e.stopPropagation(),this.state.superComposerEnabled){new p.default({creating1on1Conversation:!0,useSuperComposerFor1on1Conversation:!0,peopleType:D.PeopleType.All,filterPeopleType:D.FilterType.None,isSingleContactSelect:!0,navigationOrigin:m.NavigationConversationOrigin.SuperComposer,wizardSteps:[x.WizardSteps.setConvParticipants]}).start(this._getRootViewId())}else{const t=e;this._openPopup(t.shiftKey||t.metaKey,e)}},this._onPlusButtonRef=e=>{this._plusButtonRef=e},this._openAnchorPopup=()=>{this._openPopup(!1)},this._openPopup=(e,t)=>{if(!e&&this.state.enableNewConversationCreation)return void this._onHandleAddMenuCommand(Z);const i={anchor:()=>this._plusButtonRef,useTheme:!0,showAdvancedItems:e,positionPriorities:["bottom","right"],popupBeakSize:{width:0,height:0}};if(void 0!==this.props.hubTab){let e;switch(this.props.hubTab){case w.HubTab.Recents:e=this._getRecentMenuItems(i);break;case w.HubTab.MeetNowChats:case w.HubTab.MeetNowCalls:e=T.MeetNowHelpers.getMeetNowMenuItems();break;case w.HubTab.Calls:e=this._getCallsMenuItems(i);break;case w.HubTab.People:e=this._getAddMenuItems(i)}if(e){if(1===e.length)return void this._onHandleAddMenuCommand(e[0].command);if(this.props.hubTab===w.HubTab.People){const e=[{key:"addsection",menuItems:this._getAddMenuItems(i)},{key:"invitesection",menuItems:this._getInviteMenuItems(i)}];v.isAddressBookEnabled()&&!this.state.syncAddressBookEnabled&&e.push({key:"synccontactssection",menuItems:this._getSyncContactsMenuItems(i)}),R.default.showGroupWithOptions({id:this._menuId,config:i,getMenuGroups:()=>e,handleMenuCommand:this._onHandleAddMenuCommand,cancelButtonTitleIOS:b.getString("Global.CancelLabel"),rootViewId:this._getRootViewId(),invokingEvent:t})}else{const o=e;R.default.showWithOptions({id:this._menuId,config:i,getMenuItems:()=>o,handleMenuCommand:this._onHandleAddMenuCommand,rootViewId:this._getRootViewId(),invokingEvent:t,onDismiss:r.noop})}}}else if(this.props.showGroupedActions){const e=[{key:"newsection",menuItems:this._getNewMenuItems(i)},{key:"addsection",menuItems:this._getAddMenuItems(i)}];R.default.showGroupWithOptions({id:this._menuId,config:i,getMenuGroups:()=>e,handleMenuCommand:this._onHandleAddMenuCommand,cancelButtonTitleIOS:b.getString("Global.CancelLabel"),rootViewId:this._getRootViewId(),invokingEvent:t})}else R.default.showWithOptions({id:this._menuId,config:i,getMenuItems:this._getAllMenuItems,handleMenuCommand:this._onHandleAddMenuCommand,rootViewId:this._getRootViewId(),invokingEvent:t})},this._getAllMenuItems=e=>[...this._getNewMenuItems(e),...this._getAddMenuItems(e)],this._getNewMenuItems=e=>{const t=[{text:b.getString("Hub.NewGroupChatLabel"),command:z}];return(e.showAdvancedItems||this.state.enableModeratedGroupChats)&&t.push({text:b.getString("Hub.NewModeratedGroupChatLabel"),command:W}),t.push({text:b.getString("Hub.New1on1ChatLabel"),command:G}),this.state.disableHighBandwidthOperations||t.push({text:b.getString("Hub.NewCallLabel"),command:q}),t.push({text:b.getString("Hub.NewPrivateChatLabel"),command:K}),this._canShowSmsEntryPoint()&&t.push({text:b.getString("Hub.NewCellularSmsChatLabel"),command:$}),t},this._getAddMenuItems=e=>{const t=[];return this.state.addContactFlowEnabled&&t.push({text:b.getString("Hub.AddContactMenuLabel"),command:X}),this.state.ecsBotDiscoveryEnabled&&t.push({text:this.props.showGroupedActions?b.getString("Hub.FindBotLabelGrouped"):b.getString("Hub.FindBotLabel"),command:Q}),t},this._getInviteMenuItems=e=>{const t=[];return t.push({text:b.getString("Hub.InviteToSkypeLabel"),command:J}),t},this._getSyncContactsMenuItems=e=>{const t=[],i=B.default.getPlatformType()===m.PlatformType.OSX,o=B.default.getPlatformType()===m.PlatformType.Windows;let n="";return i?n=b.getString("Hub.SyncMacContacts"):o&&(n=b.getString("Hub.SyncPcContacts")),t.push({text:n,command:Y}),t},this._getRecentMenuItems=e=>{const t=[{text:b.getString("Hub.NewGroupChatLabel"),command:z}];return(e.showAdvancedItems||this.state.enableModeratedGroupChats)&&t.push({text:b.getString("Hub.NewModeratedGroupChatLabel"),command:W}),t.push({text:b.getString("Hub.New1on1ChatLabel"),command:G}),t.push({text:b.getString("Hub.NewPrivateChatLabel"),command:K}),this._canShowSmsEntryPoint()&&t.push({text:b.getString("Hub.NewCellularSmsChatLabel"),command:$}),t},this._getCallsMenuItems=e=>{const t=[];return this.state.disableHighBandwidthOperations||t.push({text:b.getString("Hub.NewCallLabel"),command:q}),t},this._onHandleAddMenuCommand=e=>{const t=U.default.newCauseId();switch(f.log(m.LogTraceArea.Navigation,"DesktopNewActionPicker._onHandleAddMenuCommand,  causeId: "+t),f.track(new S.HubPlusButtonEvent(e)),e){case W:new p.default({navigationOrigin:m.NavigationConversationOrigin.NewModeratedGroup,peopleType:D.PeopleType.All,filterPeopleType:D.FilterType.GroupCapable}).start(this._getRootViewId());break;case z:new p.default({navigationOrigin:m.NavigationConversationOrigin.NewGroup,peopleType:D.PeopleType.All,filterPeopleType:D.FilterType.GroupCapable}).start(this._getRootViewId());break;case G:new p.default({creating1on1Conversation:!0,peopleType:D.PeopleType.All,filterPeopleType:D.FilterType.None,isSingleContactSelect:!0,navigationOrigin:m.NavigationConversationOrigin.NewChat,wizardSteps:[x.WizardSteps.setConvParticipants]}).start(this._getRootViewId());break;case K:new p.default({creating1on1Conversation:!0,peopleType:D.PeopleType.AllExcludingBots,filterPeopleType:D.FilterType.None,isSingleContactSelect:!0,navigationOrigin:m.NavigationConversationOrigin.NewPrivateChat,wizardSteps:[x.WizardSteps.setConvParticipants]}).start(this._getRootViewId());break;case q:this.props.showGroupedActions?I.default.navigateToQuickCallPanelWithParams({newGroup:!0,causeId:t},this._getRootViewId()):I.default.navigateToQuickCallPanel(t,this._getRootViewId());break;case Q:I.default.navigateToBotDiscovery(void 0,this._getRootViewId());break;case X:I.default.navigateToAddContactPanel(u.AddContactPanelOrigin.DesktopNewActionPicker,L.StackNavigationDirection.Push,this._getRootViewId());break;case J:const i=A.default.getSkypeMri(),o=h.default.getDisplayName(i);I.default.navigateToInviteShare(i,o,y.InviteLinkOrigin.DesktopNewActionPicker,this._getRootViewId());break;case Y:I.default.navigateToSyncAddressBook({origin:g.DialogNavOrigin.LocalContactsTab,hideSkipButton:!0},void 0,this._getRootViewId());break;case R.SXActionMenuCancel:break;case $:new p.default({creating1on1Conversation:!0,peopleType:D.PeopleType.AllWithPhoneNumbers,filterPeopleType:D.FilterType.CallCapable,isSingleContactSelect:!0,navigationOrigin:m.NavigationConversationOrigin.NewChat,wizardSteps:[x.WizardSteps.setConvParticipants],createCellularSmsConversation:!0}).start(this._getRootViewId());break;case Z:new p.default({peopleType:D.PeopleType.All,filterPeopleType:D.FilterType.None,navigationOrigin:m.NavigationConversationOrigin.Recents,wizardSteps:[x.WizardSteps.setConvParticipants]}).start(this._getRootViewId());break;case k.MeetNowButtonActionCommands.CreateMeetNow:case k.MeetNowButtonActionCommands.JoinMeetNow:const n=e===k.MeetNowButtonActionCommands.CreateMeetNow?this.props.hubTab===w.HubTab.MeetNowCalls?k.MeetNowOrigin.CallsHubDesktop:k.MeetNowOrigin.RecentChatsHubDesktop:this.props.origin||k.MeetNowOrigin.JoinLobby;T.MeetNowHelpers.handleMeetNowActionMenuCommand(e,n)}},this._canShowSmsEntryPoint=()=>this.state.enable2WaySmsEntryPoint}_buildState(e){const{enableNewConversationCreation:t,enableModeratedGroupChats:i}=s.default.getS4LMessagingFeatures(),{botDiscoveryEnabled:o}=s.default.getS4LCaapFeatures();return{ecsBotDiscoveryEnabled:o,superComposerEnabled:F.default.isTabletUI(),addContactFlowEnabled:!!e.showGroupedActions,disableHighBandwidthOperations:_.default.isUsingGogoNetwork(),syncAddressBookEnabled:N.default.getSyncAddressBookPrivacySetting(),enable2WaySmsEntryPoint:M.default.isPaidUser(),enableNewConversationCreation:e.hubTab===w.HubTab.Recents&&t,enableModeratedGroupChats:i}}_getIcon(){if(this.props.buttonType===j.TextButtonWithBorderAndIcon)switch(this.props.hubTab){case w.HubTab.Recents:return O.SkypeIcon.Compose;case w.HubTab.Calls:return O.SkypeIcon.CallAdd;case w.HubTab.People:return O.SkypeIcon.ContactAdd;case w.HubTab.MeetNowChats:case w.HubTab.MeetNowCalls:return P.default.getMeetNowIcon()}return O.SkypeIcon.Plus}render(){let e,t,i=[a.Types.AccessibilityTrait.Button,a.Types.AccessibilityTrait.HasPopup];const o=this.props.buttonType===j.TextButtonWithShadow||this.props.buttonType===j.TextButtonWithBorderAndIcon,r=this.props.buttonType===j.TextButtonWithBorderAndIcon;let s=r;switch(this.props.hubTab){case w.HubTab.Recents:e=b.getString("Hub.New1on1ChatLabel"),o&&(t=r?b.getString("Hub.New1on1ChatLabel"):b.getString("Hub.NewChatMenuShortLabel"));break;case w.HubTab.Calls:e=b.getString("Hub.NewCallLabel"),o&&(t=r?b.getString("Hub.NewCallLabel"):b.getString("Hub.NewCallMenuShortLabel")),i=[a.Types.AccessibilityTrait.Button],s=!1;break;case w.HubTab.People:e=b.getString("Hub.AddContactsLabelGrouped"),o&&(t=r?b.getString("Hub.NewContactButton"):b.getString("Hub.NewContactMenuShortLabel")),i=[a.Types.AccessibilityTrait.Button],s=!1;break;case w.HubTab.MeetNowChats:case w.HubTab.MeetNowCalls:e=b.getString("MeetNow.FeatureName"),t=b.getString("MeetNow.FeatureName");break;default:e=b.getString("HubHeaderPanel.NewConversationOrCallAccessibilityLabel"),t=b.getString("HubHeaderPanel.NewConversationOrCallTitle")}const u={coachMarkType:c.CoachMarkType.Plus,onAnchorPress:this._openAnchorPopup,anchorAccessibilityLabel:e,accessibilityLabel:e,accessibilityTraits:i,anchorRef:this._onPlusButtonRef,style:[H.iconContainer,this.props.style],onPress:this._onPlusButtonClick,icon:this.props.hideIcon?O.SkypeIcon.Blank:this._getIcon(),title:t||e,secondaryIcon:s?O.SkypeIcon.DownChevron:void 0,secondaryIconSize:s?O.IconSize.size12:void 0,secondaryIconColor:s&&!this._useAccessibleTheme()?E.Color.gray300:void 0,secondaryIconMarginLeft:s?O.IconSize.size12:void 0,secondaryIconMarginRight:s?-O.IconSize.size12:void 0};if(o){const e=this._useAccessibleTheme();let t,i;this._useDarkTheme()?(t=d.SXButtonStyle.DarkFill,i=E.Color.gray300Overlay10):(t=d.SXButtonStyle.LightFill,i=E.Color.gray100),e&&(t=d.SXButtonStyle.ThemeFill,i=E.Color.transparent);const o=void 0===this.props.buttonSize?d.SXButtonSize.Small:this.props.buttonSize,a=void 0===this.props.buttonStyle?t:this.props.buttonStyle;return(0,n.jsx)(l.default.SXButton,Object.assign({},u,{buttonSize:o,buttonStyle:a,iconSize:this.props.iconSize||O.IconSize.size12,secondaryIconColor:this.props.secondaryIconColor||void 0,minHeight:r?32:void 0,showShadow:!e&&this.props.buttonType===j.TextButtonWithShadow,addBorderColor:r?i:void 0,textStyleOverride:this.props.textStyleOverride}))}{const e=this.props.useCompactLayout?H.iconButtonTextCompactIcon:H.iconButtonText;return(0,n.jsx)(l.default.IconButton,Object.assign({},u,{size:this.props.iconSize||(this.props.useCompactLayout?O.IconSize.size16:O.IconSize.size24),color:this.props.color||this._themeColors.headerIconColor,hoverColor:this.props.hoverColor||this._themeColors.iconHoverColor,iconTextStyle:e}))}}}t.DesktopNewActionPicker=ee,t.default=ee},381967:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(44717)),a=o.__importDefault(i(340724)),s=i(154235),l=o.__importDefault(i(574489)),c=o.__importDefault(i(710427)),d=o.__importDefault(i(615364)),u=o.__importDefault(i(766603)),p=i(815146),g=o.__importStar(i(85385)),h=o.__importStar(i(704704)),m=o.__importDefault(i(201721)),S=o.__importDefault(i(459778)),_=i(773151),f=i(490003),y=o.__importDefault(i(791384)),C=i(888500),v=o.__importDefault(i(760989)),b=i(491839),T=i(318315),P="recents",k="archived",A="time",I="unread",w="active",x="default",N="compact",D="markAllRead",M="showCategoriesToggle";class L extends u.default{_buildState(e,t){const i=m.default.getUserPreferencesLocal(),o=(0,T.getContentChannelsStore)().getFollowedChannels().some((e=>e.unreadCount>0)),a=n.keys(l.default.getConversationsWithUnreadCounts()),s=n.filter(a,(e=>!r.isHighlightsThread(e)));let u=i.recentsSortedBy||_.RecentsSortBy.Time;this._isPresentedInDesktopLeftNav()&&u===_.RecentsSortBy.Active&&(u=_.RecentsSortBy.Time);const p=o||s.length>0;return Object.assign(Object.assign({},super._buildState(e,t)),{sortBy:u,hasUnreadContent:p,rowSize:i.recentsRowSize||_.RowSize.Default,showCategories:S.default.shouldShowCategories(),recentsViewMode:c.default.getConversationsListMode(),archivedConversationsCount:(0,d.default)().getArchivedConversations().length})}_getMenuSections(){const e=[];return this.state.archivedConversationsCount>0&&e.push({key:"filterby",menuItems:this._getFilterMenuItems()}),this.state.recentsViewMode===b.ConversationsListMode.AllConversations&&e.push({key:"sortby",title:h.getString("DesktopRecentsFilter.SortBy"),menuItems:this._getSortMenuItems()}),e.push({key:"more",title:h.getString("Global.MoreButtonTitle"),menuItems:this._getMoreMenuItems()}),e}_onHandlePickerClick(e){super._onHandlePickerClick(e)}_currentMenuText(){return this.state.recentsViewMode===b.ConversationsListMode.AllConversations?h.getString("DesktopRecentsFilter.RecentConversations"):h.getString("DesktopRecentsFilter.HiddenConversations")}_accessibilityText(){return this._accessibilityTextForSortByMode(this.state.sortBy)}_onHandleMenuCommand(e){super._onHandleMenuCommand(e);const t=v.default.newCauseId();g.log(p.LogTraceArea.Navigation,"DesktopRecentsFilter._onHandleMenuCommand, causeId: "+t);const i=this._accessibilityAnnouncementForCommand(e);i&&y.default.maybeAnnounceForAccessibility(i);const o=()=>{const e=new f.RemoteUserAppearanceTelemetryEvent;e.setDidUpdateRecentsRowSize(),g.track(e)},r=()=>{switch(e){case A:S.default.sortByTime();break;case I:S.default.sortByUnread();break;case w:S.default.sortByActive();break;case x:o(),S.default.setRowSizeToDefault();break;case N:o(),S.default.setRowSizeToCompact();break;case D:S.default.showMarkAllReadConfirmationDialog(this._getRootViewId());break;case M:this.state.recentsViewMode!==b.ConversationsListMode.AllConversations&&c.default.setConversationsListMode(b.ConversationsListMode.AllConversations),this.state.showCategories?S.default.hideCategories():S.default.showCategories();break;case P:S.default.showAllConversations();break;case k:S.default.showArchivedConversations();case C.SXActionMenuCancel:}};switch(e){case A:case I:case w:const t=this._getSortModeFromCommand(e);this.isComponentMounted()&&this.state.sortBy!==t?this.setState({sortBy:t},(()=>{n.defer((()=>{r()}))})):r();break;default:r()}}_getSortModeFromCommand(e){switch(e){default:case A:return _.RecentsSortBy.Time;case I:return _.RecentsSortBy.Unread;case w:return _.RecentsSortBy.Active}}_accessibilityTextForSortByMode(e){const t=h.getString("DesktopRecentsFilter.SortByMenu")+", ";return this.state.recentsViewMode===b.ConversationsListMode.ArchivedConversations?t+h.getString("DesktopRecentsFilter.HiddenConversations"):t+h.getString("DesktopRecentsFilter.RecentConversations")}_accessibilityAnnouncementForCommand(e){let t;switch(e){case A:t=h.getString("DesktopRecentsFilter.Time");break;case I:t=h.getString("DesktopRecentsFilter.Unread");break;case w:t=h.getString("DesktopRecentsFilter.Active");break;case P:t=h.getString("DesktopRecentsFilter.RecentConversations");break;case k:t=h.getString("DesktopRecentsFilter.HiddenConversations")}if(t)return a.default.combinedAccessibilityLabel(t,h.getString("Global.SelectedAccessibilityLabel"))}_getSortMenuItems(){const e=[{text:h.getString("DesktopRecentsFilter.Time"),command:A,selected:this.state.sortBy===_.RecentsSortBy.Time,selectableType:s.SXMenuItemSelectableType.Checkbox},{text:h.getString("DesktopRecentsFilter.Unread"),command:I,selected:this.state.sortBy===_.RecentsSortBy.Unread,selectableType:s.SXMenuItemSelectableType.Checkbox}];return this._isPresentedInDesktopLeftNav()||e.push({text:h.getString("DesktopRecentsFilter.Active"),command:w,selected:this.state.sortBy===_.RecentsSortBy.Active,selectableType:s.SXMenuItemSelectableType.Checkbox}),e}_getMoreMenuItems(){const e=[];this.state.hasUnreadContent&&this.state.recentsViewMode===b.ConversationsListMode.AllConversations&&e.push({text:h.getString("MobileRecentsFilter.MarkRead"),command:D});const t=this.state.showCategories?"DesktopRecentsFilter.HideFavorites":"DesktopRecentsFilter.ShowFavorites";return e.push({text:h.getString(t),command:M}),e}_getFilterMenuItems(){return[{text:h.getString("DesktopRecentsFilter.RecentConversations"),command:P,selected:this.state.recentsViewMode===b.ConversationsListMode.AllConversations,selectableType:s.SXMenuItemSelectableType.Checkbox},{text:h.getString("DesktopRecentsFilter.HiddenConversations"),command:k,selected:this.state.recentsViewMode===b.ConversationsListMode.ArchivedConversations,selectableType:s.SXMenuItemSelectableType.Checkbox}]}}t.default=L},417411:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopShadow=void 0;const o=i(197582),n=i(785893),r=i(854646),a=o.__importStar(i(516778)),s=i(26703),l=i(16549),c=o.__importDefault(i(827361)),d=o.__importDefault(i(497910)),u=(0,s.lazyProperties)({shadowContainer:()=>a.Styles.createViewStyle({position:"absolute",top:0,left:0,right:0,height:0,overflow:"visible"}),shadowInnerContainer:()=>a.Styles.createViewStyle({height:5,borderTopWidth:1})});class p extends d.default{render(){const e=[u.shadowInnerContainer,this._themeStyles.headerShadowBorderColorStyle,this.props.opacityStyle];return(0,n.jsx)(a.View,{style:u.shadowContainer,children:(0,n.jsx)(a.Animated.View,{style:e,children:(0,n.jsx)(r.GradientView,{style:c.default.flexOne,direction:r.GradientDirection.BOTTOM,colors:[l.Color.blackOverlay10,l.Color.transparent]})})})}}t.DesktopShadow=p,t.default=p},62298:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(973636)),s=i(26703),l=o.__importStar(i(812822)),c=o.__importDefault(i(497910)),d=i(641400).IconSize.size16,u=(0,s.lazyProperties)({container:()=>r.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-around",paddingBottom:2,paddingHorizontal:3}),button:()=>r.Styles.createViewStyle({marginHorizontal:5,marginVertical:3,paddingHorizontal:2,alignItems:"stretch",flexDirection:"column",flex:1,flexBasis:20}),buttontitleStyle:()=>r.Styles.createTextStyle({overflow:"hidden",maxWidth:60})});class p extends c.default{_renderMeetNowButton(){if(!this._isMeetNowButtonVisible())return;const e=this.props.selectedHubTab===l.HubTab.Calls?l.HubTab.MeetNowCalls:l.HubTab.MeetNowChats;return(0,n.jsx)(a.default,{hubTab:e,iconSize:d,style:u.button,buttonType:a.DesktopNewActionPickerType.TextButtonWithBorderAndIcon,showGroupedActions:!0,textStyleOverride:[u.buttontitleStyle]})}_isMeetNowButtonVisible(){return this.props.selectedHubTab===l.HubTab.Recents||this.props.selectedHubTab===l.HubTab.Calls}render(){const e=[u.container];return(0,n.jsxs)(r.View,{style:e,children:[this._renderMeetNowButton(),(0,n.jsx)(a.default,{hubTab:this.props.selectedHubTab,iconSize:d,style:u.button,buttonType:a.DesktopNewActionPickerType.TextButtonWithBorderAndIcon,showGroupedActions:!0})]})}}t.default=p},766603:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopUtilityBar=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importStar(i(973636)),l=o.__importDefault(i(929515)),c=i(26703),d=o.__importStar(i(704704)),u=o.__importDefault(i(888500)),p=o.__importDefault(i(497910)),g=(0,c.lazyProperties)({container:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingLeft:16,paddingRight:10,paddingTop:6,paddingBottom:6}),containerFixedHeight:()=>a.Styles.createViewStyle({height:44}),picker:()=>a.Styles.createButtonStyle({flexDirection:"row",alignItems:"center",marginTop:2})}),h="pickerButton";class m extends p.default{constructor(){super(...arguments),this._onPickerClick=e=>{e.stopPropagation(),this._onHandlePickerClick(e)},this._onPickerButtonRef=e=>{this._pickerButton=e||void 0}}_buildState(e,t){return{showNewActionPicker:!1}}_onHandleMenuCommand(e){u.default.dismiss(h,this._getRootViewId())}_onDismiss(){}_onHandlePickerClick(e){const t={anchor:()=>this._pickerButton,useTheme:!0,positionPriorities:["bottom"],popupBeakSize:{width:0,height:0},popupOffset:{x:30,y:10}};u.default.showGroupWithOptions({id:h,config:t,getMenuGroups:()=>this._getMenuSections(),onDismiss:()=>this._onDismiss(),handleMenuCommand:e=>this._onHandleMenuCommand(e),cancelButtonTitleIOS:d.getString("Global.CancelLabel"),rootViewId:this._getRootViewId(),invokingEvent:e})}render(){const e=this.state.showNewActionPicker&&!r.isUndefined(this.props.newActionPickerContext)?(0,n.jsx)(s.default,{hubTab:this.props.newActionPickerContext,useCompactLayout:!0,buttonType:s.DesktopNewActionPickerType.TextButtonWithShadow,showGroupedActions:!0}):void 0,t=[g.container];this._isPresentedInDesktopLeftNav()&&t.push(g.containerFixedHeight);const i=this._accessibilityText();return(0,n.jsxs)(a.View,{style:t,children:[(0,n.jsx)(l.default,{ref:this._onPickerButtonRef,style:g.picker,onPress:this._onPickerClick,accessibilityLabel:i,label:this._currentMenuText()}),e]})}}t.DesktopUtilityBar=m,t.default=m},929012:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({EmptySlot:e,ContentSlot:t}){return e?(0,o.jsxs)(n.ScrollView,{contentContainerStyle:a.scrollContainer,children:[t,(0,o.jsx)(r.Box,{flexGrow:1,flexShrink:1,children:e})]}):t};const o=i(785893),n=i(537180),r=i(344175);const a=n.StyleSheet.create({scrollContainer:{flexGrow:1,marginTop:6}})},433343:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HubTab=void 0,t.iconColorForColor=x;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importStar(i(309520)),l=o.__importDefault(i(631681)),c=o.__importDefault(i(340724)),d=o.__importDefault(i(331824)),u=i(154235),p=i(815146),g=o.__importDefault(i(560099)),h=o.__importDefault(i(970035)),m=i(26703),S=o.__importDefault(i(252089)),_=o.__importStar(i(812822)),f=i(16549),y=o.__importDefault(i(139221)),C=o.__importDefault(i(20758)),v=i(641400),b=o.__importDefault(i(827361)),T=o.__importDefault(i(169269)),P=o.__importDefault(i(48076)),k=o.__importDefault(i(497910)),A=o.__importDefault(i(266872)),I=(0,m.lazyProperties)({buttonStyle:()=>a.Styles.createViewStyle({width:80,alignItems:"center",justifyContent:"center",paddingTop:2}),buttonStyleDesktop:()=>a.Styles.createViewStyle({width:80}),buttonInnerStyleDesktop:()=>a.Styles.createViewStyle({width:80,alignItems:"center"}),buttonStyleSmall:()=>a.Styles.createViewStyle({width:60}),buttonInnerStyleDesktopSmall:()=>a.Styles.createViewStyle({width:60,alignItems:"center"}),buttonStyleLandscapeIOS:()=>a.Styles.createViewStyle({flex:-1,flexDirection:"row",justifyContent:"center",width:100,backgroundColor:f.Color.transparent}),badgeCounterContainer:()=>a.Styles.createViewStyle({position:"absolute",height:24,width:46,top:0,overflow:"visible",justifyContent:"center",alignItems:"flex-end"}),badgeCounterContainerIOSLandscape:()=>a.Styles.createViewStyle({position:"absolute",height:24,width:24,top:-1,left:0,overflow:"visible",alignItems:"flex-end"}),badgeCounterContainerSmall:()=>a.Styles.createViewStyle({paddingHorizontal:3}),syncIndicator:()=>a.Styles.createViewStyle({paddingBottom:6,paddingLeft:5}),tabTitle:()=>a.Styles.createTextStyle({textAlign:"center",marginTop:2}),tabTitleDesktop:()=>a.Styles.createTextStyle({alignSelf:"stretch"}),tabTitleAndroid:()=>a.Styles.createTextStyle({textAlign:"center",marginTop:5}),tabTitleIOSLandscape:()=>a.Styles.createTextStyle({flex:-1,marginLeft:5,fontSize:C.default.controlFontSize.tabHeaderSmall}),tabTitleSmall:()=>a.Styles.createTextStyle({fontSize:C.default.controlFontSize.captionTiny,marginTop:4}),tabContainer:()=>a.Styles.createViewStyle({flexDirection:"row",justifyContent:"center"}),iconOpacity:()=>a.Styles.createViewStyle({opacity:.8}),buttonInnerContainer:()=>a.Styles.createViewStyle({justifyContent:"center",alignItems:"center"})});class w extends k.default{constructor(){super(...arguments),this._onTabRef=e=>{this._componentRef=e||void 0},this._onAnchorPress=()=>{this.props.onTabPress(this.props.tabDescriptor.tab,void 0)},this._onPress=e=>{this.props.onTabPress(this.props.tabDescriptor.tab,e&&e.timeStamp,e)},this._onContextMenu=e=>{e.stopPropagation(),this.props.onTabContextMenu&&this.props.onTabContextMenu(this.props.tabDescriptor.tab,e)},this._onHoverStart=()=>{this.isComponentMounted()&&this.setState({isHovering:!0})},this._onHoverEnd=()=>{this.isComponentMounted()&&this.setState({isHovering:!1})}}_buildState(e,t){let i,o;e.tabDescriptor.selected&&(o=A.default.isAccessibleTheme()?this._themeColors.tabIndicatorColor:x(S.default.getPrimaryColor()),i=a.Styles.createTextStyle({color:o},!1));const n={useSmallTitles:!!e.useSmallTitles||P.default.isTablet()||P.default.isTabletUI(),iconColorStyle:i,iconColor:o};return t&&(n.isHovering=!1),n}requestFocus(){this._componentRef&&this._componentRef.requestFocus&&this._componentRef.requestFocus()}_shouldComponentUpdate(e,t,i,o,n,r){return e?t.tabBarHeight!==o.tabBarHeight:super._shouldComponentUpdate(e,t,i,o,n,r)}render(){var e;const t=this._isPresentedInDesktopLeftNav(),i=this.props.tabBarHeight===u.TabBarHeight.iosLandscape,o=y.default.getPlatformType()===p.PlatformType.Android,m=o&&!this._useAccessibleTheme()||this.state.isHovering,S=this.props.tabDescriptor.selectedIcon&&(m||this.props.tabDescriptor.selected)?this.props.tabDescriptor.selectedIcon:this.props.tabDescriptor.icon,f=[this._themeStyles.primaryIconColorStyle],P=4===this.props.tabGroup.length;let k;m&&f.push(I.iconOpacity);const A=this.props.tabDescriptor.badgeCount,w=[i?I.badgeCounterContainerIOSLandscape:I.badgeCounterContainer];if(A&&!this.props.tabDescriptor.showSpinner){const e=this.props.tabDescriptor.tab===_.HubTab.Today,o=i||e?void 0:A.toString(),r=i||e?s.BadgeSize.Small:s.BadgeSize.Medium;r===s.BadgeSize.Small&&w.push(I.badgeCounterContainerSmall);const l=a.Styles.createViewStyle({backgroundColor:this._themeColors.iconDanger},!1);k=(0,n.jsx)(g.default,{style:w,blockPointerEvents:!0,children:(0,n.jsx)(s.default,{count:o,rawCount:A,colorStyle:l,borderColor:this._badgeBorderColor(t),badgeSize:r,borderWidth:2,isHighPriority:!0,fixedSize:!0})})}const x=this.props.tabDescriptor.showSpinner?(0,n.jsx)(g.default,{style:[w,I.syncIndicator],blockPointerEvents:!0,children:(0,n.jsx)(T.default,{size:"lg"})}):void 0,N=d.default.tabBarHeightStyle(this.props.tabBarHeight),D=[I.buttonStyle,N,t?P&&!this.props.useSmallTabs?I.buttonStyleDesktop:I.buttonStyleSmall:void 0],M=[I.buttonInnerContainer];i&&M.push(I.buttonStyleLandscapeIOS),this.props.widthStyle?(D.push(this.props.widthStyle),M.push(this.props.widthStyle)):t&&M.push(P&&!this.props.useSmallTabs?I.buttonInnerStyleDesktop:I.buttonInnerStyleDesktopSmall,N);const L=[i?C.default.fontStyle.body:C.default.fontStyle.captionSmall,this.state.iconColorStyle||this._themeStyles.secondaryTextColorStyle];this.props.tabDescriptor.selected||this._useAccessibleTheme()||!this._isPresentedInDesktopLeftNav()||L.push(I.iconOpacity),i?L.push(I.tabTitleIOSLandscape):(L.push(o?I.tabTitleAndroid:I.tabTitle),this.state.useSmallTitles&&L.push(I.tabTitleSmall),t&&L.push(I.tabTitleDesktop));const R=i||t?v.IconSize.size20:v.IconSize.size24;let E=(0,n.jsx)(h.default,{icon:S,color:null!==(e=this.state.iconColor)&&void 0!==e?e:this._themeColors.primaryIconColor,size:R,style:this.state.iconColor?void 0:I.iconOpacity},"icon");i&&(E=(0,n.jsxs)(a.View,{style:b.default.overflowVisible,children:[E,k,x]},"icon"));const B=c.default.tabAccessibilityLabel(this.props.tabDescriptor.accessibilityLabel||this.props.tabDescriptor.title,r.indexOf(this.props.tabGroup,this.props.tabDescriptor.tab),this.props.tabGroup.length,this.props.includeTabCountOnDesktop),O=c.default.tabAccessibilityTraits(!!this.props.tabDescriptor.selected),F={style:D,title:this.props.tabDescriptor.title,accessibilityLabel:B,accessibilityTraits:O,importantForAccessibility:a.Types.ImportantForAccessibility.Yes,tabIndex:this.props.tabIndex,disabled:this.props.tabDescriptor.disabled,onPress:this._onPress,onContextMenu:this._onContextMenu,onHoverEnd:this._onHoverEnd,onHoverStart:this._onHoverStart},V=this.props.hideLabel?void 0:(0,n.jsx)(a.Text,{style:L,numberOfLines:1,allowFontScaling:!1,children:this.props.useSmallTabs?" ":this.props.tabDescriptor.title},"label"),U=(0,n.jsxs)(a.View,{style:M,children:[E,V,t?k:void 0,t?x:void 0]}),j=i||t;{let e;return e=this.props.coachMarkType?(0,n.jsx)(l.default.View,{coachMarkType:this.props.coachMarkType,onAnchorPress:this._onAnchorPress,onPress:F.onPress,anchorAccessibilityLabel:B,children:U}):U,(0,n.jsxs)(a.Button,Object.assign({style:b.default.overflowVisible,ref:this._onTabRef},F,{children:[e,j?void 0:k,j?void 0:x]}))}}_badgeBorderColor(e){return e||this._isPresentedInTabletLeftNav()?this._themeColors.surfacePrimary:e?this._themeColors.surfaceSecondary:this._themeColors.surfacePrimary}_pauseWhenNotVisible(){return!0}}function x(e){return e===f.Color.yellow?f.Color.orange:e||f.Color.blue}t.HubTab=w,t.default=w},261914:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HubTabBar=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(496486)),s=(i(331654),i(315742)),l=o.__importDefault(i(340724)),c=o.__importDefault(i(331824)),d=i(154235),u=o.__importDefault(i(433343)),p=o.__importDefault(i(214295)),g=i(26703),h=o.__importStar(i(704704)),m=o.__importDefault(i(443333)),S=o.__importDefault(i(924849)),_=o.__importDefault(i(252089)),f=o.__importStar(i(812822)),y=(o.__importDefault(i(960282)),o.__importDefault(i(117475))),C=o.__importDefault(i(377556)),v=i(641400),b=o.__importDefault(i(974884)),T=o.__importDefault(i(48076)),P=o.__importDefault(i(497910)),k=o.__importDefault(i(760989)),A=o.__importDefault(i(337249)),I=(0,g.lazyProperties)({contentContainer:()=>r.Styles.createViewStyle({alignSelf:"stretch",flexDirection:"row",justifyContent:"space-around",alignItems:"center",overflow:"visible"}),tabShadow:()=>r.Styles.createViewStyle({position:"absolute",left:0,right:0,top:-1,height:1})});class w extends P.default{constructor(){super(...arguments),this._mountedRefsMap=new S.default,this._renderTab=(e,t,i)=>{let o;return a.isUndefined(this.props.focussedHubTab)||(o=this.props.focussedHubTab===e.tab?0:-1),(0,n.jsx)(u.default,{ref:this._mountedRefsMap.onComponentRef("tab"+e.tab),tabDescriptor:e,tabGroup:this.props.tabs,tabBarHeight:t,widthStyle:i,onTabPress:this.props.onTabPress,onTabContextMenu:this.props.onTabContextMenu,coachMarkType:e.coachMarkType,tabIndex:o,includeTabCountOnDesktop:!c.default.shouldUseTabListContainer(),useSmallTitles:this.props.useSmallTitles,useSmallTabs:this.props.useSmallTabs,hideLabel:this.props.hideLabels},e.tab)}}_buildState(e,t){const i=b.default.isSyncingConversationList()||b.default.isSyncingMessages(),o=(this._getRootViewId(),{gradientColors:_.default.getGradientColors(),safeAreaPadding:this._getContext().isPresentedByMobileStackNavigator||!p.default.isKeyboardSeen()?y.default.bottomSafeAreaInset():0,useIOSLandscapeStyles:!1,useTabletUI:T.default.isTabletUI(),isSyncInProgress:i});return e.hideLabels?o.tabBarHeight=d.TabBarHeight.CompactDesktop:o.useIOSLandscapeStyles?o.tabBarHeight=d.TabBarHeight.iosLandscape:o.useTabletUI?o.tabBarHeight=d.TabBarHeight.Tablet:o.tabBarHeight=d.TabBarHeight.Default,o}_shouldComponentUpdate(e,t,i,o,n,r){return e?i.tabBarHeight!==n.tabBarHeight:super._shouldComponentUpdate(e,t,i,o,n,r)}UNSAFE_componentWillUpdate(e,t,i){if(super.UNSAFE_componentWillUpdate(e,t,i),e.hasFocus&&!a.isUndefined(e.focussedHubTab)&&this.props.focussedHubTab!==e.focussedHubTab){const t=this.tabRef(e.focussedHubTab);t&&t.requestFocus&&t.requestFocus()}}tabRef(e){return this._mountedRefsMap.ref("tab"+e)}_getBackgroundColorStyle(){return this._isPresentedInDesktopLeftNav()?void 0:r.Styles.createViewStyle({backgroundColor:this._themeColors.surfacePrimary},!1)}render(){let e;const t=[I.contentContainer,this._getBackgroundColorStyle(),c.default.tabBarHeightStyle(this.state.tabBarHeight)],i=a.map(this.props.tabs,(e=>this._descriptorForTab(this.props,e,this.state.isSyncInProgress)));if(this.state.useIOSLandscapeStyles){const t=i.length,o=10*t,n=Math.floor((A.default.measureWindow(this._getRootViewId()).width-o)/t);e=t?r.Styles.createViewStyle({width:n},!1):void 0}this.state.safeAreaPadding&&(t.push(C.default.paddingBottomStyle(this.state.safeAreaPadding)),t.push(C.default.heightStyle(c.default.tabBarHeight(this.state.tabBarHeight)+this.state.safeAreaPadding))),this.props.style&&t.push(this.props.style);return(0,n.jsxs)(r.View,{style:t,onKeyPress:this.props.onKeyPress,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onLayout:this.props.onLayout,accessibilityTraits:c.default.shouldUseTabListContainer()?r.Types.AccessibilityTrait.TabList:void 0,children:[undefined,a.map(i,(t=>this._renderTab(t,this.state.tabBarHeight,e)))]})}_descriptorForTab(e,t,i){let o=0;const n=e.showSpinnerWhenSyncing&&i&&t===f.HubTab.Recents;let r;return t===f.HubTab.Recents?o=e.activeConversationsCount||0:t===f.HubTab.Notifications?o=e.unreadAlertsCount||0:t===f.HubTab.Today&&(o=e.showTodayTabBadge?1:0),t===f.HubTab.People&&(r=s.CoachMarkType.People),Object.assign(Object.assign({},w._displayInfoForTab(t,o)),{selected:e.currentHubTab===t,tab:t,badgeCount:o,showSpinner:n,coachMarkType:r})}static _displayInfoForTab(e,t){switch(e){case f.HubTab.Recents:const i=h.getString("Hub.RecentsTabTitle");return{icon:v.SkypeIcon.Message,selectedIcon:v.SkypeIcon.ChatsInvertedGradient,title:i,accessibilityLabel:l.default.combinedAccessibilityLabel(i,h.getString("Hub.UnreadCounterScreenReaderLabel",{count:t}))};case f.HubTab.MeetNowChats:case f.HubTab.MeetNowCalls:const o=h.getString("MeetNow.FeatureName");return{icon:m.default.getMeetNowIcon(),title:o,accessibilityLabel:o};case f.HubTab.Calls:return{icon:v.SkypeIcon.Video,selectedIcon:v.SkypeIcon.VideoFilledInvertedGradient,title:h.getString("Hub.CallsTabTitle")};case f.HubTab.People:return{icon:v.SkypeIcon.BookContacts,selectedIcon:v.SkypeIcon.BookContactsFillInvertedGradient,title:h.getString("Hub.ContactsTabTitle")};case f.HubTab.Notifications:const n=h.getString("Notifications.Notify");return{icon:v.SkypeIcon.Alert,selectedIcon:v.SkypeIcon.AlertFillNewFontGradient,title:n,accessibilityLabel:l.default.combinedAccessibilityLabel(n,h.getString("Hub.NotificationCounterScreenReaderLabel",{count:t}))};case f.HubTab.Today:return{icon:v.SkypeIcon.TodayTabInverted,selectedIcon:v.SkypeIcon.TodayTabInvertedGradient,title:h.getString("Hub.MyFeedTabTitle")};case f.HubTab.Phone:return{icon:v.SkypeIcon.DialpadFilledInvertedGradient,selectedIcon:v.SkypeIcon.Dialpad,title:h.getString("Hub.PhoneTabTitle")};default:return k.default.switchStatementExhaustiveChecking(e)}}_pauseWhenNotVisible(){return!0}}t.HubTabBar=w,t.default=w},58042:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(331654),s=o.__importStar(i(516778)),l=o.__importDefault(i(465434)),c=o.__importDefault(i(852789)),d=o.__importDefault(i(150343)),u=o.__importStar(i(309520)),p=o.__importDefault(i(631681)),g=i(315742),h=o.__importDefault(i(340724)),m=o.__importDefault(i(266311)),S=o.__importDefault(i(247825)),_=o.__importDefault(i(129082)),f=o.__importStar(i(170881)),y=o.__importDefault(i(438752)),C=i(22478),v=i(815146),b=o.__importStar(i(800662)),T=i(223715),P=o.__importDefault(i(932836)),k=o.__importDefault(i(453761)),A=o.__importStar(i(85385)),I=i(26703),w=o.__importStar(i(704704)),x=i(85755),N=i(966666),D=o.__importDefault(i(443333)),M=o.__importDefault(i(247286)),L=o.__importStar(i(435395)),R=o.__importDefault(i(201721)),E=o.__importDefault(i(683395)),B=o.__importDefault(i(363091)),O=o.__importDefault(i(740794)),F=o.__importStar(i(812822)),V=o.__importDefault(i(84830)),U=o.__importDefault(i(960282)),j=o.__importDefault(i(117475)),H=o.__importDefault(i(377556)),W=o.__importDefault(i(421334)),z=o.__importDefault(i(322094)),G=i(928722),K=o.__importStar(i(446574)),q=i(16549),Q=i(641400),X=o.__importDefault(i(20758)),$=o.__importDefault(i(827361)),J=o.__importDefault(i(48076)),Y=o.__importDefault(i(497910)),Z=i(403396),ee=i(596648),te=o.__importDefault(i(685734)),ie=o.__importStar(i(500645)),oe=o.__importDefault(i(760989)),ne=o.__importDefault(i(375809)),re=o.__importDefault(i(942724)),ae=o.__importDefault(i(888500)),se=o.__importDefault(i(92179)),le=i(96575),ce=i(503308),de=i(15752);var ue;!function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(ue||(ue={}));const pe=5*Q.IconSize.size24,ge=2*Q.IconSize.size24,he="MeControlModal",me=(0,I.lazyProperties)({hubHeader:()=>s.Styles.createViewStyle({flex:1,flexDirection:"row",alignSelf:"stretch",alignItems:"center",justifyContent:"space-between",backgroundColor:q.Color.transparent,overflow:"visible"}),titleWrapper:()=>s.Styles.createViewStyle({height:Q.IconSize.default,justifyContent:"center",alignItems:"center",overflow:"visible"}),titleWrapperLandscape:()=>s.Styles.createViewStyle({height:Q.IconSize.size32}),leftControls:()=>s.Styles.createViewStyle({flexDirection:"row"}),leftControlWidth:()=>s.Styles.createViewStyle({width:pe}),rightControls:()=>s.Styles.createViewStyle({flexDirection:"row",justifyContent:"flex-end"}),rightControlsWidth:()=>s.Styles.createViewStyle({width:pe}),smallControls:()=>s.Styles.createViewStyle({width:ge}),iconContainer:()=>s.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",alignItems:"center",width:Q.IconSize.default,height:Q.IconSize.default}),iconContainerSmall:()=>s.Styles.createViewStyle({width:Q.IconSize.size32,marginRight:4}),iconContainerLandscape:()=>s.Styles.createViewStyle({height:Q.IconSize.size32,marginTop:5}),badgeStyle:()=>s.Styles.createViewStyle({position:"absolute",top:2,right:2}),title:()=>s.Styles.createTextStyle({textAlign:"center"}),userIconLeftContainer:()=>s.Styles.createViewStyle({marginLeft:10}),userNameAndMoodContainer:()=>s.Styles.createViewStyle({marginLeft:10,justifyContent:"flex-start"}),extraHorizontalPaddingStyle:()=>s.Styles.createViewStyle({paddingHorizontal:6}),userNameControl:()=>s.Styles.createTextStyle({justifyContent:"flex-start",flexDirection:"row"}),limitArea:()=>s.Styles.createViewStyle({flexShrink:1})});class Se extends Y.default{constructor(){super(...arguments),this.handleFocusEvent=e=>!(e!==b.FocusEvent.CloseRightPanel||!this._userIconRef)&&(this._userIconRef.requestFocus(),!0),this._onLayoutChanged=e=>{this.state.viewWidth!==e.width&&this.setState({viewWidth:e.width})},this._onNotificationsSettingsButtonRef=e=>{this._notificationsSettingsButton=e||void 0},this._onMeetNowButtonRef=e=>{this._meetNowButton=e||void 0},this._onQuickCallButtonClick=(e,t)=>{t&&t.stopPropagation&&t.stopPropagation();const i=oe.default.newCauseId();A.log(v.LogTraceArea.Navigation,"MobileHubHeader._onQuickCallButtonClick, causeId: "+i),this._registerMobileFocusHandler((()=>this._quickCallButton)),O.default.navigateToQuickCallPanelWithParams({causeId:i,newGroup:!0},this._getRootViewId())},this._onFeedbackButtonClick=(e,t)=>{t&&t.stopPropagation&&t.stopPropagation(),V.default.reportProblem(!0,e)},this._onMeetNowButtonClick=(e,t)=>{t&&t.stopPropagation&&t.stopPropagation();const i=oe.default.newCauseId();t&&se.default.createOneShotTrackerAndMarkPressTime(i,le.ScenarioName.ResponsivenessMeetNow,t);let o=N.MeetNowOrigin.Unknown;this.props.currentHubTab===F.HubTab.Recents?o=N.MeetNowOrigin.RecentChatsTabMobile:this.props.currentHubTab===F.HubTab.Calls&&(o=N.MeetNowOrigin.CallsTabMobile),A.track(new ce.PressAction(ce.PressScenario.MeetNow,o)),re.default.isUsingStackNavigationContext()?ne.default.navigateToCreateOrJoinFlyout():J.default.isTablet()?this._showMeetNowPopup(o,e,t):x.MeetNowHelpers.showNewMeetNow(o)},this._onNotificationsSettingsButtonClick=(e,t)=>{t&&t.stopPropagation&&t.stopPropagation();const i=()=>this._notificationsSettingsButton;this._registerMobileFocusHandler(i),l.default.showMenu(this.state.hasUnreadAlerts,i,this._getRootViewId(),t)},this._onUserIconAnchorClick=()=>{this._onUserIconButtonClick()},this._onUserIconRef=e=>{this._userIconRef=e||void 0,K.EnsureStarted(y.default).then((()=>{y.default.setAnchor(C.EngagementTooltipType.Profile,e)}))},this._onQuickCallButtonRef=e=>{this._quickCallButton=e||void 0},this._onUserIconButtonClick=e=>{e&&e.stopPropagation&&e.stopPropagation();const t=oe.default.newCauseId();let i;if(A.log(v.LogTraceArea.Navigation,"MobileHubHeader._onUserIconButtonClick navigateToMeControl, causeId: "+t),f.dismissAll(),e&&(i=oe.default.newCauseId(),se.default.createTrackerAndMarkPressTime(i,le.ScenarioName.ResponsivenessOpenProfile,e)),this._registerMobileFocusHandler((()=>this._userIconRef)),J.default.isTabletUINoSubscription()){const e=(0,n.jsx)(_.default,{userMri:B.default.getSkypeMri(),dialogId:he,anchor:()=>this._userIconRef},"DesktopMeControlPanel");m.default.showModal(e,he,{rootViewId:this._getRootViewId()})}else O.default.navigateToMeControl(this._getRootViewId(),t,G.StackNavigationDirection.Present);i&&se.default.markActionDoneAndRemoveTracker(i)},this._onNotificationsButtonClick=(e,t)=>{t&&t.stopPropagation&&t.stopPropagation(),O.default.navigateToAlertsHub()}}_buildState(e,t){const i=this._isPresentedInTabletLeftNav();let o=j.default.statusBarHeight();o&&i&&(o-=J.default.isTabletUI()?1:7);const n=te.default.getFullUserProfileByMri(B.default.getSkypeMri());let l,u;const p=W.default.isMobileScreenReaderEnabled();if(p){const e=E.default.getStatus();l=r.includes(ie.myAllowedStatuses(),e)?e:de.UserStatus.Online,u=n.gender}const g=d.default.getS4LContactsFeatures(),h=d.default.getOnboardingFeatures(),m=L.getRowPadding(!1),S=this._getRootViewId(),_=n.getDisplayName(),f=n.mood,y={left:m.left,right:m.right};return{leavePaddingForStatusBar:s.StatusBar.isOverlay()&&(e.deviceOrientation===a.DeviceOrientation.Portrait||i),statusBarHeight:o,safeAreaHorizontalPaddingStyle:j.default.horizontalPaddingStyle(y),safeAreaHorizontalInsets:j.default.horizontalInsets(y),hasUnreadAlerts:!!e.shouldTrackUnreadAlerts&&c.default.hasUnreadAlerts(!0),contactsPanelTabSelected:R.default.getUserPreferencesLocal().contactsPanelV2Filter,enableAlwaysShowActiveNowFilter:g.enableAlwaysShowActiveNowFilter,enableHeartEntryPoint:d.default.getConfigSettings().brb.enableHeartEntryPoint,userStatus:l,gender:u,isMobileScreenReaderEnabled:p,displayUserIconInAllHubs:h.displayUserIconInAllHubs,isChild:M.default.isChild(),moodString:f,userName:_,viewWidth:i?z.default.getWidth():U.default.getWidth(S),enableRefreshedPalette:d.default.getS4LUiFeatures().enableRefreshedPalette}}componentDidMount(){super.componentDidMount(),b.register(b.FocusEvent.ConversationDeleted,this)}componentWillUnMount(){super.componentWillUnmount(),b.unregister(b.FocusEvent.ConversationDeleted,this)}_shouldComponentUpdate(e,t,i,o,n,r){return e?t.deviceOrientation!==o.deviceOrientation||t.currentHubTab!==o.currentHubTab||i.userName!==n.userName:super._shouldComponentUpdate(e,t,i,o,n,r)}UNSAFE_componentWillReceiveProps(e,t){if(super.UNSAFE_componentWillReceiveProps(e,t),e.unreadAlertsCount!==this.props.unreadAlertsCount){const t=w.getString("Hub.NotificationCounterScreenReaderLabel",{count:e.unreadAlertsCount||0});s.Accessibility.announceForAccessibility(t)}}focusCenterControl(){this._userIconRef?this._userIconRef.requestFocus():this._titleRef&&this._titleRef.requestFocus()}render(){const e=P.default.headerButtonLayoutForHubTab({hubTab:this.props.currentHubTab,useTabletUI:this._isPresentedInTabletLeftNav(),enableHeartEntryPoint:this.state.enableHeartEntryPoint,hideAlertsButton:!!this.props.hideAlertsButton,notificationsToHeader:!0}),t=this._getLeftControls(e),i=this._getRightControls(e),o=[me.hubHeader];return this.state.leavePaddingForStatusBar&&(this.state.enableRefreshedPalette,o.push(H.default.marginTopStyle(this.state.statusBarHeight))),this.props.style&&o.push(this.props.style),this.state.safeAreaHorizontalPaddingStyle&&o.push(this.state.safeAreaHorizontalPaddingStyle),o.push(me.extraHorizontalPaddingStyle),this.state.enableRefreshedPalette&&o.push(s.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfaceAccent},!1)),(0,n.jsxs)(s.View,{style:o,onLayout:this._onLayoutChanged,children:[t,i]})}_renderIconButton(e,t){const i=this._useLandscapeLayout()?Q.IconSize.size20:Q.IconSize.size28,o=e.onPressCallback;let r=o?e=>o(this._getRootViewId(),e):void 0;r&&t&&(r=i=>{e.onPressCallback&&e.onPressCallback(this._getRootViewId(),i,void 0,t)});const a=this.state.enableRefreshedPalette?this._getContext().themeColors.iconOnAccent:this._themeColors.headerIconColor,s=this.state.enableRefreshedPalette?this._getContext().themeColors.iconOnAccent:this._themeColors.iconHoverColor,l=e.coachMarkDescriptor,c={style:e.iconButtonStyles,size:i,color:a,hoverColor:s,icon:e.icon,title:e.title,accessibilityLabel:e.accessibilityLabel||e.title,disabled:e.disabled,key:e.key,onPress:r};return l?(0,n.jsx)(p.default.IconButton,Object.assign({anchorRef:e.ref,coachMarkType:l.type,positions:l.positions,onAnchorPress:l.onPress,anchorAccessibilityLabel:l.accessibilityLabel},c)):(0,n.jsx)(k.default,Object.assign({ref:e.ref},c))}_renderMeetNowButton(e){return this._renderIconButton({title:w.getString("MeetNow.FeatureName"),icon:D.default.getMeetNowIcon(),iconButtonStyles:e,onPressCallback:this._onMeetNowButtonClick,key:"meetnow",ref:this._onMeetNowButtonRef})}_renderFeedbackButton(e){if(this.state.isChild)return;const t=w.getString("HubHeaderPanel.FeedbackButtonLabel");return this._renderIconButton({title:t,icon:Q.SkypeIcon.HeartOutline,iconButtonStyles:e,onPressCallback:this._onFeedbackButtonClick,key:"feedback"})}_renderNotificationsSettingsButton(e){return this._renderIconButton({title:w.getString("Global.MoreOptions"),icon:Q.SkypeIcon.Settings,iconButtonStyles:e,ref:this._onNotificationsSettingsButtonRef,onPressCallback:this._onNotificationsSettingsButtonClick,key:"notificationsettings"})}_renderNotificationButton(e){const t=w.getString("Hub.NotificationCounterScreenReaderLabel",{count:this.props.unreadAlertsCount||0}),i=this._renderIconButton({title:t,accessibilityLabel:t,icon:Q.SkypeIcon.Alert,iconButtonStyles:e,onPressCallback:this._onNotificationsButtonClick,key:"notifications"});let o;if(this.props.unreadAlertsCount){const t=s.Styles.createViewStyle({backgroundColor:this._themeColors.iconDanger},!1);o=(0,n.jsxs)(s.View,{style:e,children:[i,(0,n.jsx)(u.default,{style:me.badgeStyle,blockPointerEvents:!0,count:this.props.unreadAlertsCount.toString(),rawCount:this.props.unreadAlertsCount,colorStyle:t,borderColor:this._themeColors.surfacePrimary,badgeSize:u.BadgeSize.Medium,borderWidth:2,isHighPriority:!0,fixedSize:!0,importantForAccessibility:s.Types.ImportantForAccessibility.NoHideDescendants})]},"notifications")}else o=i;return(0,n.jsx)(s.View,{children:o},"notifications")}_getLeftControls(e){const t=[me.iconContainer];this._useLandscapeLayout()&&t.push(me.iconContainerLandscape);const i=r.map(e.leftControls,(e=>this._renderControlForType(e,t,ue.Left))),o=[me.leftControls,$.default.flexOne];return(0,n.jsx)(s.View,{style:o,children:i})}_renderControlForType(e,t,i){const o=w.getString("UserIcon.MyInfo");switch(e){case T.HeaderButtonType.Profile:return(0,n.jsx)(p.default.Button,{onPress:this._onUserIconButtonClick,style:me.userIconLeftContainer,activeOpacity:.8,coachMarkType:g.CoachMarkType.Profile,accessibilityLabel:o,anchorAccessibilityLabel:o,onAnchorPress:this._onUserIconAnchorClick,anchorRef:this._onUserIconRef,children:this._renderUserIcon()},"usericon");case T.HeaderButtonType.NameAndMoodText:return(0,n.jsxs)(p.default.Button,{onPress:this._onUserIconButtonClick,style:[me.userIconLeftContainer,me.limitArea,$.default.flexOne],coachMarkType:g.CoachMarkType.Profile,accessibilityLabel:o,anchorAccessibilityLabel:o,onAnchorPress:this._onUserIconAnchorClick,anchorRef:this._onUserIconRef,children:[this._renderUserName(),this._renderUserMood()]},"usernameandmood");case T.HeaderButtonType.Notifications:return this._renderNotificationButton(t);case T.HeaderButtonType.Feedback:return this._renderFeedbackButton(t);case T.HeaderButtonType.NotificationsSettings:return this._renderNotificationsSettingsButton(t);case T.HeaderButtonType.Call:return this._renderIconButton({title:w.getString("QuickCallPanel.PanelHeaderNewCall"),icon:Q.SkypeIcon.CallAdd,iconButtonStyles:t,onPressCallback:this._onQuickCallButtonClick,ref:this._onQuickCallButtonRef,key:"quickcall"});case T.HeaderButtonType.MeetNow:return this._renderMeetNowButton(t)}}_renderUserIcon(){return(0,n.jsx)(Z.UserIcon,{size:ee.UserIconSize.Size40,userMri:B.default.getSkypeMri(),hideBlockedOverlay:!0,statusTypes:ie.myAllowedStatuses(),statusBorderColor:this._themeColors.primaryBackgroundColor},"usericon")}_renderUserName(){let e=s.Styles.combine(X.default.modernizeSmallHeaderMobileFontStyle(),me.userNameControl);return this.state.enableRefreshedPalette&&(e=s.Styles.combine(e,s.Styles.createTextStyle({color:this._getContext().themeColors.textOnAccent},!1))),(0,n.jsx)(s.Text,{numberOfLines:1,style:e,ellipsizeMode:"tail",children:this.state.userName},"userName")}_renderUserMood(){return(0,n.jsx)(S.default,{shouldRenderEditor:!1,hideIcons:!0,moodMessageInStore:this.state.moodString,placeholderText:w.getString("UserSettingsPanel.SetMoodTitle"),onShowMoodEditor:this._onUserIconAnchorClick},"userMood")}_getRightControls(e){const t=[me.iconContainer];this._useLandscapeLayout()&&t.push(me.iconContainerLandscape);const i=r.map(e.rightControls,(e=>this._renderControlForType(e,t,ue.Right)));return(0,n.jsx)(s.View,{style:me.rightControls,children:i})}_showMeetNowPopup(e,t,i){const o=()=>this._meetNowButton;this._registerMobileFocusHandler(o),ae.default.showWithOptions({id:ae.default.menuId(),config:{anchor:o,useTheme:!0,positionPriorities:["bottom"]},getMenuItems:x.MeetNowHelpers.getMeetNowMenuItems,handleMenuCommand:t=>x.MeetNowHelpers.handleMeetNowActionMenuCommand(t,e),rootViewId:t,invokingEvent:i})}_useLandscapeLayout(){return this.props.deviceOrientation===a.DeviceOrientation.Landscape&&!this._getContext().isPresentedInDesktopLeftNav}_registerMobileFocusHandler(e){J.default.isTabletUINoSubscription()&&h.default.registerMobileFocusHandler(b.FocusEvent.CloseMobileModal,e)}_pauseWhenNotVisible(){return!0}}t.default=Se},130626:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useHeaderLeftWidth=V;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(344175),s=i(701025),l=i(667294),c=o.__importDefault(i(150343)),d=o.__importDefault(i(631681)),u=o.__importDefault(i(247825)),p=i(315742),g=o.__importDefault(i(438752)),h=i(22478),m=o.__importDefault(i(932836)),S=i(641400),_=o.__importStar(i(85385)),f=i(26703),y=o.__importStar(i(704704)),C=i(815146),v=o.__importDefault(i(363091)),b=o.__importDefault(i(740794)),T=o.__importDefault(i(92179)),P=o.__importDefault(i(960282)),k=i(96575),A=i(928722),I=o.__importStar(i(446574)),w=o.__importDefault(i(827361)),x=i(736267),N=o.__importDefault(i(403396)),D=i(596648),M=o.__importDefault(i(760989)),L=o.__importDefault(i(685734)),R=o.__importStar(i(500645)),E=i(921869),B=o.__importDefault(i(958868)),O=i(206315),F=(0,f.lazyProperties)({userIconLeftContainer:()=>r.Styles.createViewStyle({marginLeft:10})});function V(e,t,i){const o=(0,x.useCommonContext)(),n=m.default.headerButtonLayoutForHubTab({hubTab:e,useTabletUI:!o.isPresentedInDesktopLeftNav,enableHeartEntryPoint:t,notificationsToHeader:!0}),r=(0,s.useSafeAreaInsets)();return(0,l.useMemo)((()=>i-n.rightControls.length*S.IconSize.default-r.right-r.left-40),[i,n.rightControls.length,r])}function U({name:e,enableHeartEntryPoint:t,isLandscapeLayout:i,headerWidth:o,skypeMri:s,userName:c,mood:m}){const S=(0,x.useCommonContext)(),{themeColors:{surfacePrimary:f}}=(0,O.useSkypeTheme)(),v=V(e,t,o),P=(0,E.useTextStyles)(i),L=(0,l.useCallback)((e=>{null==e||e.stopPropagation();const t=M.default.newCauseId();let i;_.log(C.LogTraceArea.Navigation,"MobileHubHeader._onUserIconButtonClick navigateToMeControl, causeId: "+t),e&&(i=M.default.newCauseId(),T.default.createTrackerAndMarkPressTime(i,k.ScenarioName.ResponsivenessOpenProfile,e)),b.default.navigateToMeControl(S.rootViewId,t,A.StackNavigationDirection.Present),i&&T.default.markActionDoneAndRemoveTracker(i)}),[S]),B=(0,l.useCallback)((e=>{I.EnsureStarted(g.default).then((()=>{g.default.setAnchor(h.EngagementTooltipType.Profile,e)}))}),[]),U=(0,n.jsx)(d.default.Button,{onPress:L,activeOpacity:.8,coachMarkType:p.CoachMarkType.Profile,accessibilityLabel:y.getString("UserIcon.MyInfo"),anchorAccessibilityLabel:y.getString("UserIcon.MyInfo"),onAnchorPress:L,anchorRef:B,children:(0,n.jsx)(N.default,{size:i?D.UserIconSize.Size24:D.UserIconSize.Size40,userMri:s,hideBlockedOverlay:!0,statusTypes:R.myAllowedStatuses(),statusBorderColor:f},"usericon")},"usericon"),j=(0,n.jsxs)(d.default.Button,{onPress:L,style:[F.userIconLeftContainer,w.default.flexOne],coachMarkType:p.CoachMarkType.Profile,accessibilityLabel:y.getString("UserIcon.MyInfo"),anchorAccessibilityLabel:y.getString("UserIcon.MyInfo"),onAnchorPress:L,anchorRef:B,children:[(0,n.jsx)(r.Text,{numberOfLines:1,style:P.userName,ellipsizeMode:"tail",children:c},"userName"),(0,n.jsx)(u.default,{shouldRenderEditor:!1,hideIcons:!0,moodMessageInStore:m,placeholderText:y.getString("UserSettingsPanel.SetMoodTitle"),onShowMoodEditor:L,nativeHeaderLandscape:i},"userMood")]},"usernameandmood");return(0,n.jsxs)(a.Row,{marginLeft:"size160",alignItems:"center",width:v,children:[U,j]})}class j extends B.default{_buildState(e,t){const{brb:{enableHeartEntryPoint:i}}=c.default.getConfigSettings(),o=P.default.getWidth(this._getRootViewId()),n=v.default.getSkypeMri(),r=L.default.getFullUserProfileByMriForHooks(n);return{enableHeartEntryPoint:i,headerWidth:o,skypeMri:n,userName:r.getDisplayName(),mood:r.mood}}render(){return(0,n.jsx)(U,Object.assign({},this.props,{enableHeartEntryPoint:this.state.enableHeartEntryPoint,headerWidth:this.state.headerWidth,skypeMri:this.state.skypeMri,userName:this.state.userName,mood:this.state.mood}))}}t.default=j},551728:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(667294),s=i(344175),l=o.__importDefault(i(465434)),c=o.__importDefault(i(852789)),d=o.__importDefault(i(150343)),u=i(223715),p=o.__importDefault(i(932836)),g=o.__importDefault(i(453761)),h=i(26703),m=o.__importStar(i(704704)),S=i(641400),_=i(44557),f=i(85755),y=o.__importDefault(i(375809)),C=o.__importDefault(i(740794)),v=o.__importDefault(i(942724)),b=o.__importStar(i(812822)),T=o.__importDefault(i(92179)),P=o.__importDefault(i(84830)),k=i(96575),A=i(736267),I=o.__importDefault(i(760989)),w=i(16549),x=i(309520),N=i(206315),D=i(887480),M=i(375369),L=o.__importDefault(i(958868)),R=o.__importStar(i(85385)),E=i(503308),B=(0,h.lazyProperties)({iconContainer:()=>r.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",alignItems:"center",width:S.IconSize.default,height:S.IconSize.default}),iconContainerLandscape:()=>r.Styles.createViewStyle({height:S.IconSize.size32}),badgeStyle:()=>r.Styles.createViewStyle({position:"absolute",top:2,right:2}),redBadge:()=>r.Styles.createViewStyle({backgroundColor:w.Color.red})}),O=e=>(0,a.useMemo)((()=>r.Styles.combine(B.iconContainer,e?B.iconContainerLandscape:void 0)),[e]);function F(e){const t=(0,A.useCommonContext)(),i=t.themeColors.iconOnAccent,o=t.themeColors.iconOnAccent,r=m.getString("HubHeaderPanel.FeedbackButtonLabel");return(0,n.jsx)(g.default,{style:O(e.useLandscapeLayout),size:e.useLandscapeLayout?S.IconSize.size20:S.IconSize.size28,icon:S.SkypeIcon.HeartOutline,title:r,accessibilityLabel:r,color:i,hoverColor:o,onPress:e=>{null==e||e.stopPropagation(),P.default.reportProblem(!0,t.rootViewId)}},"feedback")}function V(e){const t=(0,A.useCommonContext)(),i=(0,a.useRef)(null),o=t.themeColors.iconOnAccent,r=t.themeColors.iconOnAccent;return(0,n.jsx)(g.default,{ref:i,style:O(e.useLandscapeLayout),size:e.useLandscapeLayout?S.IconSize.size20:S.IconSize.size28,icon:S.SkypeIcon.MeetNow,title:m.getString("MeetNow.FeatureName"),accessibilityLabel:m.getString("MeetNow.FeatureName"),color:o,hoverColor:r,onPress:t=>{null==t||t.stopPropagation();const i=I.default.newCauseId();t&&T.default.createOneShotTrackerAndMarkPressTime(i,k.ScenarioName.ResponsivenessMeetNow,t);let o=_.MeetNowOrigin.Unknown;e.currentHubTab===b.HubTab.Recents?o=_.MeetNowOrigin.RecentChatsTabMobile:e.currentHubTab===b.HubTab.Calls&&(o=_.MeetNowOrigin.CallsTabMobile),R.track(new E.PressAction(E.PressScenario.MeetNow,o)),v.default.isUsingStackNavigationContext()?y.default.navigateToCreateOrJoinFlyout():f.MeetNowHelpers.showNewMeetNow(o)}},"meetnow")}function U(e){const t=(0,A.useCommonContext)(),i=(0,a.useRef)(null),o=t.themeColors.iconOnAccent,r=t.themeColors.iconOnAccent;return(0,n.jsx)(g.default,{ref:i,style:O(e.useLandscapeLayout),size:e.useLandscapeLayout?S.IconSize.size20:S.IconSize.size28,icon:S.SkypeIcon.CallAdd,title:m.getString("QuickCallPanel.PanelHeaderNewCall"),accessibilityLabel:m.getString("QuickCallPanel.PanelHeaderNewCall"),color:o,hoverColor:r,onPress:e=>{null==e||e.stopPropagation();const i=I.default.newCauseId();C.default.navigateToQuickCallPanelWithParams({causeId:i,newGroup:!0},t.rootViewId)}},"quickcall")}function j(e){const{themeColors:t}=(0,N.useSkypeTheme)(),i=m.getString("Hub.NotificationCounterScreenReaderLabel",{count:e.unreadAlertsCount||0}),o=t.iconOnAccent,s=t.iconOnAccent,l=(0,a.useMemo)((()=>e.unreadAlertsCount?(0,n.jsx)(x.BadgeCounter,{style:B.badgeStyle,blockPointerEvents:!0,count:e.unreadAlertsCount.toString(),rawCount:e.unreadAlertsCount,colorStyle:B.redBadge,borderColor:t.primaryBackgroundColor,badgeSize:x.BadgeSize.Medium,borderWidth:2,isHighPriority:!0,fixedSize:!0,importantForAccessibility:r.Types.ImportantForAccessibility.NoHideDescendants}):void 0),[t,e]),c=(0,a.useCallback)((()=>{R.track(new E.PressAction(E.PressScenario.Notification,"MobileHubHeaderRight","AlertsHub")),C.default.navigateToAlertsHub()}),[]);return(0,n.jsx)(g.default,{accessoryView:e.unreadAlertsCount?l:void 0,style:O(e.useLandscapeLayout),size:e.useLandscapeLayout?S.IconSize.size20:S.IconSize.size28,icon:S.SkypeIcon.Alert,title:i,accessibilityLabel:i,color:o,hoverColor:s,onPress:c},"notifications")}function H(e){const t=(0,a.useRef)(null),i=(0,A.useCommonContext)(),o=i.themeColors.iconOnAccent,r=i.themeColors.iconOnAccent;return(0,n.jsx)(g.default,{ref:t,style:O(e.useLandscapeLayout),size:e.useLandscapeLayout?S.IconSize.size20:S.IconSize.size28,icon:S.SkypeIcon.Settings,title:m.getString("Global.MoreOptions"),accessibilityLabel:m.getString("Global.MoreOptions"),color:o,hoverColor:r,onPress:e=>{null==e||e.stopPropagation();const o=c.default.hasUnreadAlerts(!0);l.default.showMenu(o,(()=>t.current),i.rootViewId,e)}},"notificationsettings")}function W({name:e,scrollValue:t,unreadAlertsCount:i,enableHeartEntryPoint:o,isLandscapeLayout:r,enableNewCallsTabPanel:a}){const l=(0,A.useCommonContext)(),c=p.default.headerButtonLayoutForHubTab({hubTab:e,useTabletUI:!l.isPresentedInDesktopLeftNav,enableHeartEntryPoint:o,notificationsToHeader:!0}),d=null==c?void 0:c.rightControls.map((t=>{switch(t){case u.HeaderButtonType.Feedback:return(0,n.jsx)(F,{useLandscapeLayout:r,currentHubTab:e},"feedback");case u.HeaderButtonType.NotificationsSettings:return(0,n.jsx)(H,{useLandscapeLayout:r,currentHubTab:e},"notificationsettings");case u.HeaderButtonType.Call:return(0,n.jsx)(U,{useLandscapeLayout:r,currentHubTab:e},"quickcallbutton");case u.HeaderButtonType.MeetNow:return(0,n.jsx)(V,{useLandscapeLayout:r,currentHubTab:e},"meetnow");case u.HeaderButtonType.Notifications:return(0,n.jsx)(j,{useLandscapeLayout:r,currentHubTab:e,unreadAlertsCount:i},"notifications")}}));return(0,n.jsx)(s.Row,{marginRight:"size120",alignItems:"center",children:a&&e===b.HubTab.Calls&&void 0!==t?(0,n.jsx)(D.Fading,{value:t,valueFrom:75,valueTo:155,children:(0,n.jsx)(s.Row,{children:d})}):d})}class z extends L.default{_buildState(e,t){const i=c.default.getUnreadAlertsCount(),{brb:{enableHeartEntryPoint:o}}=d.default.getConfigSettings(),{enableNewCallsTabPanel:n}=d.default.getS4LMessagingFeatures();return{scrollValue:e.name===b.HubTab.Calls?(0,M.getHubTabScrollStore)("calls").getValue():void 0,unreadAlertsCount:i,enableHeartEntryPoint:o,enableNewCallsTabPanel:n}}render(){return(0,n.jsx)(W,Object.assign({},this.props,{scrollValue:this.state.scrollValue,unreadAlertsCount:this.state.unreadAlertsCount,enableHeartEntryPoint:this.state.enableHeartEntryPoint,enableNewCallsTabPanel:this.state.enableNewCallsTabPanel}))}}t.default=z},920147:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=i(344175),s=i(736267),l=o.__importDefault(i(141547)),c=o.__importDefault(i(261349)),d=o.__importDefault(i(804144)),u=o.__importDefault(i(632145)),p=o.__importDefault(i(13816)),g=o.__importDefault(i(150343)),h=o.__importDefault(i(740794)),m=i(928722),S=o.__importDefault(i(760989)),_=o.__importStar(i(704704)),f=o.__importDefault(i(218902)),y=o.__importDefault(i(719155)),C=i(770169),v=i(526849);t.default=(0,v.WithResub)((function({headerHeight:e,showBookmarkTooltip:t,showWhatsNewTooltip:i}){const{rootViewId:o}=(0,s.useCommonContext)(),d=(0,r.useRef)();(0,r.useEffect)((()=>(d.current=new f.default,()=>{var e;null===(e=d.current)||void 0===e||e.destroy()})),[]);const u=(0,r.useRef)(null),p=t?(0,n.jsx)(l.default,{title:_.getString("BookmarksTooltips.BookmarksCanBeFoundHere"),accessibilityLabel:_.getString("BookmarksTooltips.BookmarksCanBeFoundHere"),anchor:()=>u.current||void 0}):void 0,g=i?(0,n.jsx)(c.default,{title:_.getString("Onboarding.LandingScreenWithCardsCardTitle1"),accessibilityLabel:_.getString("Onboarding.LandingScreenWithCardsCardTitle1"),anchor:()=>u.current||void 0,onPress:e=>{e.stopPropagation(),e.preventDefault();const t=S.default.newCauseId();h.default.navigateToMeControl(o,t,m.StackNavigationDirection.Present)}}):void 0;return d.current?(0,n.jsxs)(a.Box,{position:"absolute",alignSelf:"center",top:e+2,zIndex:1,children:[(0,n.jsxs)(a.Box,{ref:u,children:[p,g]}),(0,n.jsx)(y.default,{statusPillInstance:d.current,statusPillMaxWidth:500}),(0,n.jsx)(C.StatusPillView,{disableAbsolutePosition:!0,statusPillInstance:d.current,connectionStatusOnly:!0})]}):null}),(e=>{const{enabled:t,coachmarkEnabled:i}=g.default.getEngagementFeatures().whatsNewSetting;return Object.assign(Object.assign({},e),{showBookmarkTooltip:d.default.shouldDisplayTooltipOnMobile(e.isFocused),showWhatsNewTooltip:t&&i&&p.default.isAppUpdated()&&u.default.showTooltip()})}))},405853:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(815063),s=o.__importStar(i(516778)),l=i(962234),c=o.__importDefault(i(808467)),d=o.__importDefault(i(369347)),u=o.__importDefault(i(378473)),p=i(154235),g=o.__importDefault(i(186325)),h=i(815146),m=o.__importStar(i(85385)),S=i(26703),_=o.__importStar(i(704704)),f=o.__importDefault(i(628703)),y=i(884853),C=o.__importDefault(i(695050)),v=o.__importDefault(i(411862)),b=o.__importDefault(i(139221)),T=i(641400),P=o.__importDefault(i(760989)),k=i(843890),A=o.__importDefault(i(233597)),I=(0,S.lazyProperties)({sectionTitle:()=>s.Styles.createViewStyle({marginTop:20})});class w extends c.default{constructor(){super(...arguments),this._callInitiatedByAVSettings=!1,this._handleTestCall=()=>{const e=P.default.newCauseId();this.state.activeEchoCallId?(m.log(h.LogTraceArea.AVSettings,"User requested to end the test call, causeId: "+e),this._callInitiatedByAVSettings=!1,d.default.CallingStore.endCall(this.state.activeEchoCallId,e)):(m.log(h.LogTraceArea.AVSettings,"User requested to start the test call, causeId: "+e),this._callInitiatedByAVSettings=!0,d.default.CallNavigationHelper.startEchoCallWithoutUI(e),this.props.onTestCallPerformed&&this.props.onTestCallPerformed())}}_buildState(e,t){return{isInCall:d.default.CallingStore.hasConnectedCalls(),activeEchoCallId:r.first(d.default.CallingStore.getCallIdsForConversationMri(b.default.getEchoMri())),microphones:d.default.DeviceStore.getMicrophones(),speakers:d.default.DeviceStore.getSpeakers(),callingNotAllowed:!d.default.CallNavigationHelper.isOutgoingCallingAllowed(b.default.getEchoMri())}}componentWillUnmount(){super.componentWillUnmount();const e=P.default.newCauseId();m.log(h.LogTraceArea.AVSettings,"componentWillUnmount causeId: "+e),this.state.activeEchoCallId&&this._callInitiatedByAVSettings&&(m.log(h.LogTraceArea.AVSettings,"User is closing AV settings, ending the test call, causeId: "+e),this._callInitiatedByAVSettings=!1,d.default.CallingStore.endCall(this.state.activeEchoCallId,e))}render(){const e=this.props.settingsMode===l.SettingsMode.All||this.props.settingsMode===l.SettingsMode.Video,t=this.props.settingsMode===l.SettingsMode.All||this.props.settingsMode===l.SettingsMode.Audio;let i,o,a,s,c;const d=this.props.settingsMode!==l.SettingsMode.All&&this.props.isInOnboarding?void 0:(0,n.jsx)(g.default,{colorThemeOverride:this.props.colorThemeOverride});if(t){if(i=(0,n.jsx)(y.SectionTitle,{title:_.getString("AudioVideoSettings.AudioLabel"),titleStyles:I.sectionTitle,colorThemeOverride:this.props.colorThemeOverride},"audiotitle"),a=(0,n.jsx)(f.default,{onMicrophoneSelected:this.props.onMicrophoneSelected,onToggleAGC:this.props.onMicrophoneAutoAdjustChanged,onToggleAEC:this.props.onEchoCancellationChanged,onToggleMusicMode:this.props.onMusicModeChanged,onNoiseSuppressionChanged:this.props.onNoiseSuppressionControlChanged,onAdjustVolume:this.props.onMicrophoneAdjusted,backgroundColor:this.props.backgroundColor,isInOnboarding:this.props.isInOnboarding,colorThemeOverride:this.props.colorThemeOverride,origin:l.MicrophoneSettingsOrigin.AVSettings}),this._isTestCallSupported()&&(!this.state.isInCall||this.state.activeEchoCallId)){const e=this.state.activeEchoCallId?T.SkypeIcon.CallEnd:T.SkypeIcon.CallStart,t=this.state.activeEchoCallId?"AudioVideoSettings.EndTestCallButton":"AudioVideoSettings.StartTestCallButton";o=(0,n.jsx)(C.default,{style:p.ListItem.small.shortHeightStyle,title:_.getString(t),icon:e,disabled:this.state.callingNotAllowed,colorThemeOverride:this.props.colorThemeOverride,onPress:this._handleTestCall,hideDivider:!0})}r.isEmpty(this.state.speakers)||(s=(0,n.jsx)(v.default,{onSpeakerSelected:this.props.onSpeakerSelected,isInOnboarding:this.props.isInOnboarding,colorThemeOverride:this.props.colorThemeOverride,onAdjustVolume:this.props.onSpeakerVolumeChanged,onAudioTestPerformed:this.props.onAudioTestPerformed,onRingingDeviceSelected:this.props.onRingingDeviceSelected}))}return e&&(c=(0,n.jsx)(u.default,{onCameraSelected:this.props.onCameraSelected,isInOnboarding:this.props.isInOnboarding,hideBackgroundBlurCapability:this.props.hideBackgroundBlurCapability,showNewBackgroundReplacementUI:!0,forceUpdateDefaultDevice:!0})),(0,n.jsxs)(A.default,{children:[c,e?d:void 0,this.props.isInOnboarding?void 0:i,a,t?d:void 0,s,o]})}_isTestCallSupported(){return k.CallingCapabilities.anyCallingSupported()&&!r.isEmpty(this.state.microphones)&&(!r.isEmpty(this.state.speakers)||a.BrowserEnvironment.isEngineEdgeHTML()||a.BrowserEnvironment.isEngineWebkit()||a.BrowserEnvironment.isEngineGecko())}_getHeaderText(e){return w.getHeaderText()}static getHeaderText(){return _.getString("UserSettingsPanel.AudioVideoSettingsTitle")}}t.default=w},185247:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(154235),l=i(26703),c=o.__importDefault(i(827361)),d=i(262725),u=o.__importDefault(i(497910)),p=(o.__importDefault(i(929515)),o.__importStar(i(888500))),g=o.__importStar(i(704704)),h=o.__importDefault(i(596026)),m=(0,l.lazyProperties)({oneRowContainer:()=>a.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",alignItems:"center",alignSelf:"stretch"}),container:()=>a.Styles.createViewStyle({flexDirection:"column",justifyContent:"center"}),button:()=>a.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10})}),S="avSettingsPickerMenu";class _ extends u.default{constructor(){super(...arguments),this._onPickerButtonRef=e=>{this._pickerButton=e||void 0},this._onPickerClick=e=>{e.stopPropagation();const t={anchor:()=>this._pickerButton,useTheme:!0,positionPriorities:["bottom","top"],colorThemeOverride:this.props.colorThemeOverride};return p.default.showWithOptions({id:S,config:t,getMenuItems:this._getMenuItems,handleMenuCommand:this._onHandleMenuCommand,rootViewId:this._getRootViewId(),invokingEvent:e})},this._getMenuItems=()=>this.props.items.map((e=>({text:e.label,command:e.value,selected:this.props.selectedValue===e.value,selectableType:s.SXMenuItemSelectableType.Checkbox}))),this._onHandleMenuCommand=e=>{if(e===p.SXActionMenuCancel)return;const t=r.findIndex(this.props.items,(t=>t.value===e));this.props.onValueChange(e,t)}}render(){g.getString("AudioVideoSettings.SectionwithSelectionAccessibilityLabel",{title:this.props.title||"",selection:this._getSelectedItemLabel()});const e=this.props.title?(0,n.jsx)(d.RowTitle,{colorThemeOverride:this._currentTheme,children:this.props.title}):void 0;let t;r.isEmpty(this.props.items)||(t=(0,n.jsx)(h.default,{id:S,items:this.props.items,selectedValue:this.props.selectedValue,onValueChange:this.props.onValueChange,labelColor:this.props.labelColor,labelMaxWidth:this.props.labelMaxWidth||266}));const i=(0,n.jsxs)(a.View,{style:m.oneRowContainer,children:[e,t]});return(0,n.jsx)(a.View,{style:[m.container,s.ListItem.small.shortHeightStyle,this.props.style],children:this.props.subtitle?(0,n.jsxs)(a.View,{style:c.default.flexOne,children:[i,this.props.subtitle]}):i})}_getSelectedItemLabel(){const e=r.find(this.props.items,(e=>e.value===this.props.selectedValue));return e?e.label:""}}t.default=_},791106:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(150343)),s=o.__importDefault(i(340724)),l=i(815146),c=o.__importDefault(i(970035)),d=i(26703),u=o.__importStar(i(50350)),p=o.__importStar(i(704704)),g=i(16549),h=i(641400),m=o.__importDefault(i(52066)),S=i(262725),_=o.__importDefault(i(497910)),f=(0,d.lazyProperties)({deviceNotPresentContainer:()=>r.Styles.createViewStyle({flex:1,marginVertical:10,alignSelf:"stretch"}),deviceNotPresentInnercontainer:()=>r.Styles.createViewStyle({flex:1,flexDirection:"row",marginTop:10}),deviceNotPresentTextContainer:()=>r.Styles.createViewStyle({flex:1,flexWrap:"wrap"}),errorIconPadding:()=>r.Styles.createViewStyle({paddingTop:0,paddingRight:10,paddingLeft:1,paddingBottom:1})});class y extends _.default{constructor(){super(...arguments),this._onLearnMorePressed=()=>{const e="AudioVideoSettings.WebcamMaybeNotPresent"===this.props.errorStringKey?a.default.getS4LCMCFeaturesNoSubscription().cameraHelp.cameraIssuesLink:a.default.getConfigSettingsNoSubscription().avSettings.learnMoreLink;u.openUrlWithParams({origin:l.BrowserOrigin.AudioVideoSettings,url:e,rootViewId:this._getRootViewId()})}}render(){const e=p.getString("AudioVideoSettings.LearnMore"),t=(0,n.jsx)(m.default,{url:"#",blue:!0,colorThemeOverride:this.props.colorThemeOverride,onPress:this._onLearnMorePressed,children:e},"learnMoreLink");let i;if(this.props.errorStringKey&&this.props.errorIcon){const o=p.getParts(this.props.errorStringKey,{learnMoreLink:t}),a=!1,l=[(0,n.jsx)(c.default,{icon:this.props.errorIcon,size:h.IconSize.size20,color:g.Color.red,style:f.errorIconPadding},"icon"),(0,n.jsx)(r.View,{style:f.deviceNotPresentTextContainer,importantForAccessibility:a?r.Types.ImportantForAccessibility.NoHideDescendants:void 0,children:(0,n.jsx)(S.BodyText,{colorThemeOverride:this.props.colorThemeOverride,textThemeColor:S.TextThemeColor.Secondary,children:o})},"label")];if(a){const t=p.getString(this.props.errorStringKey,{learnMoreLink:e});i=s.default.wrapLinkWithAccessibilityView(l,t,this._onLearnMorePressed,f.deviceNotPresentInnercontainer)}else i=(0,n.jsx)(r.View,{style:f.deviceNotPresentInnercontainer,children:l})}const o=this.props.audioTitleKey?(0,n.jsx)(S.RowTitle,{colorThemeOverride:this.props.colorThemeOverride,children:p.getString(this.props.audioTitleKey)}):void 0;return(0,n.jsxs)(r.View,{style:f.deviceNotPresentContainer,children:[o,i]})}}t.default=y},971648:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(264596)),a=o.__importStar(i(516778)),s=o.__importDefault(i(73297)),l=o.__importDefault(i(808467)),c=i(154235),d=o.__importDefault(i(509839)),u=i(815146),p=o.__importStar(i(85385)),g=i(26703),h=o.__importStar(i(704704)),m=(o.__importDefault(i(503411)),o.__importDefault(i(942724))),S=o.__importDefault(i(117475)),_=o.__importDefault(i(421334)),f=i(375258),y=i(963254),C=o.__importDefault(i(139221)),v=i(641400),b=i(262725),T=o.__importDefault(i(760989)),P=(i(240265),o.__importDefault(i(742631))),k=o.__importDefault(i(150343)),A=(0,g.lazyProperties)({panel:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),marginTopVersion:()=>a.Styles.createTextStyle({marginTop:20,textAlign:"center"}),otherVersion:()=>a.Styles.createTextStyle({textAlign:"center"}),buttonsContainer:()=>a.Styles.createViewStyle({alignSelf:"stretch"}),copyright:()=>a.Styles.createTextInputStyle({marginTop:2}),upperTextContainer:()=>a.Styles.createViewStyle({alignItems:"center",marginHorizontal:10,marginTop:18}),panelContainer:()=>a.Styles.createViewStyle({flex:1,flexDirection:"column"}),panelContainerCompositeNav:()=>a.Styles.createViewStyle({marginHorizontal:10})});class I extends l.default{constructor(){super(...arguments),this._onVersionPress=()=>{0},this._onLeftButtonPressed=()=>{const e=T.default.newCauseId();p.log(u.LogTraceArea.Navigation,"AboutPanel._onLeftButtonPressed,  causeId: "+e),this._goBack(e)}}_buildState(e,t){const{enableMagicBot:i}=k.default.getS4LMessagingFeatures();return{isUsingStackNavigationContext:m.default.isUsingStackNavigationContext(),safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:S.default.horizontalPaddingStyle(c.HorizontalInsetDefault),isMobileScreenReaderEnabled:_.default.isMobileScreenReaderEnabled(),magicBotStatus:P.default.getWaitlistStatus(),magicBotEnabled:i}}render(){let e;if(this.props.showHeader){const t=this.props.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.isAloneInNavStack?f.CloseButtonType.Close:f.CloseButtonType.Back,onPress:this.state.isUsingStackNavigationContext?void 0:this._onLeftButtonPressed};e=this.props.isAloneInNavStack&&!this.state.isMobileScreenReaderEnabled&&this._getContext().isPresentedInSplitView?void 0:(0,n.jsx)(f.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t})}r.default.getVersion();const t=this._maybeGetBotStatusElement(),i=[];let o;this.state.isUsingStackNavigationContext||i.push(A.panelContainerCompositeNav),this.state.safeAreaHorizontalPaddingStyle&&i.push(this.state.safeAreaHorizontalPaddingStyle);const s=C.default.getUWPPackageVersion()||C.default.getMSIXPackageVersion();s&&(o=(0,n.jsx)(b.BodyText,{style:A.otherVersion,selectable:!0,children:h.getString("AboutPanel.UWPPackageVersion",{version:s})}));let l=(0,n.jsx)(b.BodyText,{style:A.marginTopVersion,selectable:!0,children:h.getString("AboutPanel.SkypeVersion",{version:C.default.getAppVersion()})});let c=(0,n.jsx)(a.View,{style:this.props.isPartOfOtherPanel?void 0:i,children:(0,n.jsxs)(a.View,{style:A.upperTextContainer,children:[(0,n.jsx)(y.SkypeLogo,{size:v.IconSize.size64}),l,o,undefined,t,(0,n.jsx)(b.Caption,{style:A.copyright,children:h.getString("AboutPanel.Copyright")}),(0,n.jsx)(d.default,{}),this.props.isPartOfOtherPanel?void 0:this._getAboutButtons()]})});return this.props.isPartOfOtherPanel||(c=(0,n.jsx)(a.ScrollView,{style:A.panelContainer,children:c})),(0,n.jsxs)(a.View,{style:[A.panel,this._themeStyles.primaryBackgroundColorStyle],children:[e,c]})}_getAboutButtons(){return(0,n.jsx)(s.default,{buttonStyles:this.state.isUsingStackNavigationContext?void 0:c.ListItem.small.shortHeightStyle,style:this.props.isPartOfOtherPanel?void 0:A.buttonsContainer})}_getHeaderText(e){return e.isUsingStackNavigationContext?h.getString("AboutPanel.AboutTitle"):h.getString("UserSettingsPanel.AboutButton")}_maybeGetBotStatusElement(){}}t.default=I},822028:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(395298)),s=o.__importDefault(i(150343)),l=i(843890),c=o.__importDefault(i(340724)),d=o.__importDefault(i(958868)),u=i(815146),p=o.__importStar(i(85385)),g=o.__importStar(i(50350)),h=o.__importStar(i(704704)),m=o.__importDefault(i(201721)),S=o.__importDefault(i(740794)),_=o.__importStar(i(812822)),f=i(884853),y=o.__importDefault(i(95114)),C=i(967338),v=o.__importDefault(i(52066)),b=o.__importDefault(i(827361)),T=i(262725),P=o.__importDefault(i(760989)),k=i(483877);class A extends d.default{constructor(){super(...arguments),this._onLocalHotKeysPress=()=>{const e=P.default.newCauseId();p.log(u.LogTraceArea.Navigation,"AccessibilitySettings._onLocalHotKeysPress causeId: "+e),S.default.navigateToDesktopSettingsGroup(_.SettingsGroup.HotKeys,this._getRootViewId(),e)},this._onSystemHotKeysChanged=(e,t)=>{m.default.setUserPreferencesLocal({enableSystemHotKeys:t}),p.track(new C.GlobalShortcutsSettingTelemetryEvent(t))},this._getHotkeysCaptionWithAccessibility=(e,t)=>(0,n.jsx)(r.View,{accessibilityLabel:t.label,accessibilityTraits:t.traits,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,children:(0,n.jsx)(T.Caption,{style:y.default.subtitleMediumSemiLarge,children:e})}),this._onHotkeysLearnMore=()=>{g.openUrlWithParams({origin:u.BrowserOrigin.HotkeysSettingsDescription,url:s.default.getConfigSettingsNoSubscription().hotkeys.learnMoreUrl,rootViewId:this._getRootViewId()})}}_buildState(e,t){return{enableHotKeysPanel:!0,userEnableSystemHotKey:!!m.default.getUserPreferencesLocal().enableSystemHotKeys}}render(){let e;this.state.enableHotKeysPanel&&(e=(0,n.jsx)(k.WideButton,{label:h.getString("KeyboardShortcuts.Title2"),labelStyle:y.default.titleMediumSemiLarge,onPressed:this._onLocalHotKeysPress},"hotkeys"));const t=h.getString("UserSettingsPanel.HotkeysLearnMoreLink"),i=(0,n.jsx)(v.default,{url:s.default.getConfigSettingsNoSubscription().hotkeys.learnMoreUrl,onPress:this._onHotkeysLearnMore,blue:!0,children:t},"hotkeysLearnMoreLink ");let o;if(l.UICapabilities.systemHotKeysSupported()){const e=h.getString("KeyboardShortcuts.GlobalHotkeysHeader"),s=h.getString("UserSettingsPanel.GlobalHotkeys"),l=c.default.combinedAccessibilityLabel(e,h.getString("UserSettingsPanel.GlobalHotkeysSecondary",{learnMoreLink:""})),d=h.getParts("UserSettingsPanel.GlobalHotkeysSecondary",{learnMoreLink:i}),u=c.default.linkAccessibilityInfo(h.getString("UserSettingsPanel.GlobalHotkeysSecondary",{learnMoreLink:t})),p=this._getHotkeysCaptionWithAccessibility(d,u);o=(0,n.jsxs)(r.View,{children:[(0,n.jsx)(a.default,{style:y.default.controlRowWithDescription,isOn:this.state.userEnableSystemHotKey,accessibilityLabel:l,onChange:this._onSystemHotKeysChanged,children:(0,n.jsx)(r.View,{style:b.default.flexOne,children:(0,n.jsx)(T.RowTitle,{style:y.default.switchTitleMediumSemiLarge,children:s})})},"systemHotKeysToggle"),p]},"systemHotKeysPanel")}return e||o?(0,n.jsxs)(r.View,{children:[(0,n.jsx)(f.SectionTitle,{title:h.getString("UserSettingsPanel.AccessibilityTitleUpper")}),e,o]}):null}}t.default=A},381432:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(808467)),a=o.__importDefault(i(601976)),s=i(815146),l=o.__importStar(i(85385)),c=o.__importStar(i(704704)),d=o.__importDefault(i(305297)),u=o.__importDefault(i(363091)),p=o.__importDefault(i(573678)),g=o.__importStar(i(3025)),h=i(884853),m=i(641400),S=o.__importDefault(i(203502)),_=o.__importDefault(i(233597));class f extends r.default{_buildState(e,t){return{showAddPhotoLabel:!a.default.getDisplayableProfile(u.default.getSkypeMri()).getAvatarUrl()}}render(){return(0,n.jsxs)(_.default,{children:[(0,n.jsx)(h.SectionTitle,{title:c.getString("UserSettingsPanel.YourProfileTitleUpper")}),(0,n.jsx)(p.default,{buttonStyles:this.props.buttonStyles,icon:m.SkypeIcon.Picture,showAddPhotoLabel:this.state.showAddPhotoLabel}),(0,n.jsx)(S.default,{userMri:u.default.getSkypeMri()}),(0,n.jsx)(d.default,{buttonStyles:this.props.buttonStyles})]})}componentDidMount(){super.componentDidMount(),l.track(new g.ProfileOpened(s.ProfileType.My,s.ProfileOpenOrigin.AppSettings))}_getHeaderText(e){return f.getHeaderText()}static getHeaderText(){return c.getString("UserSettingsPanel.AccountAndProfileSettingsTitle")}}t.default=f},826137:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(395298)),s=o.__importDefault(i(185247)),l=o.__importStar(i(235894)),c=o.__importDefault(i(369347)),d=i(815146),u=o.__importStar(i(85385)),p=i(26703),g=o.__importStar(i(704704)),h=o.__importDefault(i(201721)),m=i(262725),S=o.__importDefault(i(497910)),_=o.__importDefault(i(760989)),f=(0,p.lazyProperties)({toggleContainer:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",marginBottom:5}),toggleText:()=>r.Styles.createTextStyle({flexGrow:1,flexShrink:1,marginRight:10})});class y extends S.default{constructor(){super(...arguments),this._onToggleSecondaryRingerEnabled=(e,t)=>{h.default.setUserPreferencesLocal({secondaryRingerOptionEnabled:t})},this._onRingingSpeakerSelected=e=>{const t=_.default.newCauseId();u.log(d.LogTraceArea.AVSettings,"_onRingingSpeakerSelected "+e+" causeId: "+t),this.props.onRingerDeviceSelected&&this.props.onRingerDeviceSelected(e!==this.state.selectedRingerDevice),c.default.DeviceStore.chooseSecondarySpeakerDevice(e,t)}}_buildState(e,t){return{secondaryRingerOptionEnabled:!!h.default.getUserPreferencesLocal().secondaryRingerOptionEnabled,ringerDevices:c.default.DeviceStore.getSecondarySpeakers(),selectedRingerDevice:c.default.DeviceStore.getCurrentSecondarySpeakerDevice()}}render(){return(0,n.jsxs)(r.View,{children:[this._getRingerToggle(),this._getRingerDevicePicker()]})}_getRingerToggle(){return(0,n.jsx)(a.default,{style:f.toggleContainer,isOn:this.state.secondaryRingerOptionEnabled,accessibilityLabel:g.getString("AudioVideoSettings.RingAdditionalDeviceLabel"),onChange:this._onToggleSecondaryRingerEnabled,children:(0,n.jsx)(m.BodyText,{style:f.toggleText,colorThemeOverride:this.props.colorThemeOverride,children:g.getString("AudioVideoSettings.RingAdditionalDeviceLabel")})},"ringAdditionalDevices")}_getRingerDevicePicker(){if(!this.state.secondaryRingerOptionEnabled)return;const e=l.formatDevicesForPicker(this.state.ringerDevices);return(0,n.jsx)(s.default,{title:g.getString("AudioVideoSettings.RingingDeviceLabel"),items:e,onValueChange:this._onRingingSpeakerSelected,selectedValue:this.state.selectedRingerDevice||"",colorThemeOverride:this.props.colorThemeOverride})}}t.default=y},917381:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(465434)),l=i(22336),c=o.__importDefault(i(120920)),d=o.__importDefault(i(852789)),u=o.__importDefault(i(192478)),p=o.__importDefault(i(340724)),g=o.__importDefault(i(417411)),h=i(26703),m=o.__importStar(i(704704)),S=o.__importDefault(i(201721)),_=o.__importDefault(i(81122)),f=i(375258),y=o.__importStar(i(179582)),C=o.__importDefault(i(827361)),v=o.__importDefault(i(463171)),b=i(347044),T=[l.AlertTypeFilter.All,l.AlertTypeFilter.HighPriorityMessages,l.AlertTypeFilter.Reactions],P=(0,h.lazyProperties)({container:()=>a.Styles.createViewStyle({alignSelf:"stretch",flex:1})});class k extends u.default{constructor(){super(...arguments),this._shadowVisible=!1,this._shadowOpacityValue=new a.Animated.Value(0),this._shadowOpacityStyle=a.Styles.createAnimatedViewStyle({opacity:this._shadowOpacityValue}),this._handleMenuCommand=e=>{if(!this.isComponentMounted())return;if(s.default.handleOverflowActionMenuCommand(e,this._getRootViewId()))return;const t=s.default.filterForCommand(e);r.isUndefined(t)||(S.default.setUserPreferencesLocal({alertsFilter:t}),this.setState({filter:t}))},this._onAlertsPanelRef=e=>{this._alertsPanel=e||void 0},this._onScroll=(e,t)=>{if(this.props.useExperimentalDesktopUtilityBar){const t=e>0;this._shadowVisible!==t&&(this._shadowOpacityValue.setValue(t?.5:0),this._shadowVisible=t)}},this._onOverflowButtonPress=e=>{s.default.showMenu(this.state.hasUnreadAlerts,(()=>this._overflowIconButton),this._getRootViewId(),e)},this._onOverflowButtonRef=e=>{this._overflowIconButton=e||void 0}}_buildState(e,t){let i=l.AlertTypeFilter.All;e.useExperimentalDesktopUtilityBar&&(i=S.default.getUserPreferencesLocal().alertsFilter||l.AlertTypeFilter.All);return{hasUnreadAlerts:d.default.hasUnreadAlerts(!0),filter:i,displayEmptyStateScreen:v.default.getNotificationsEmpty()}}componentDidMount(){super.componentDidMount()}scrollToTop(){this._alertsPanel&&this._alertsPanel.scrollToTop()}_getBackgroundColorStyle(){return a.Styles.createViewStyle({backgroundColor:this._themeColors.surfacePrimary},!1)}render(){const e=this.props.useExperimentalDesktopUtilityBar?this._renderUtilityBar():void 0,t=this.props.useExperimentalDesktopUtilityBar?this._renderShadow():void 0,i=[P.container,this._getBackgroundColorStyle()];let o=(0,n.jsx)(c.default,{ref:this._onAlertsPanelRef,filter:this.state.filter,onScroll:this.props.useExperimentalDesktopUtilityBar?this._onScroll:void 0,onPressAlertCard:b.onAlertCardPress});return t&&(o=(0,n.jsxs)(a.View,{style:C.default.flexOne,children:[o,t]})),this.state.displayEmptyStateScreen?(0,n.jsxs)(a.View,{style:i,children:[this._renderSimpleHeader(),o]}):(0,n.jsxs)(a.View,{style:i,children:[this._renderSimpleHeader(),e,o]})}_renderUtilityBar(){const e=s.default.menuItemTitle(this.state.filter),t=p.default.combinedAccessibilityLabel(m.getString("AlertsPanel.ViewByMenu"),e);return(0,n.jsx)(_.default,{getMenuSections:this._getMenuSections(),currentMenuText:e,accessibilityText:t,onHandleMenuCommand:this._handleMenuCommand})}_renderShadow(){return(0,n.jsx)(g.default,{opacityStyle:this._shadowOpacityStyle})}_getMenuSections(){return[{key:"alertfilters",menuItems:r.map(T,(e=>({text:s.default.menuItemTitle(e),command:s.default.menuItemCommand(e),selected:e===this.state.filter,isCheckbox:!0})))},{key:"alertcommands",menuItems:s.default.menuItems(this.state.hasUnreadAlerts)}]}_renderSimpleHeader(){if(this.props.hideHeader)return;const e=this._getContext().isPresentedInDesktopSubview,t={closeButtonType:f.CloseButtonType.Close},i=e?void 0:{icon:y.moreIcon(),title:m.getString("MyProfilePanel.OverflowButtonTitle"),onPress:this._onOverflowButtonPress,setButtonRef:this._onOverflowButtonRef},o=this._getContext().themeColors.surfacePrimary;return(0,n.jsx)(f.SimplePanelHeader,{panelName:m.getString("SettingsHubHeader.NotificationsTitle"),leftButton:t,rightButtons:i,useTransparentBackground:e,backgroundColor:o})}}t.default=k},915457:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,s.useCommonContext)(),t=e.themeColors,i=(0,a.useCallback)((()=>{const t=u.default.newGuid();p.default.goBack(t,e)}),[e]),o=(0,g.useRXStyles)((()=>({mobileCloseButton:r.Styles.createViewStyle({marginLeft:10,marginRight:0})})),[]);return(0,n.jsx)(c.default,{icon:l.SkypeIcon.ClosePanel,size:l.IconSize.size24,color:t.primaryIconColor,hoverColor:t.iconHoverColor,style:o.mobileCloseButton,title:d.getString("BookmarksConversation.CloseButtonLabel"),autoFocus:!0,onPress:i})};const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(667294),s=i(736267),l=i(641400),c=o.__importDefault(i(453761)),d=o.__importStar(i(704704)),u=o.__importDefault(i(760989)),p=o.__importDefault(i(740794)),g=i(964414)},265369:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(808467)),s=o.__importDefault(i(818481)),l=i(26703),c=o.__importStar(i(704704)),d=i(375258),u=o.__importDefault(i(827361)),p=(0,l.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),container:()=>r.Styles.createViewStyle({alignSelf:"stretch",padding:20,overflow:"visible",flexGrow:1})});class g extends a.default{_getHeaderText(){return c.getString("AudioVideoSettings.CameraBackgroundReplacementLabel")}render(){const e=this.props.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.isAloneInNavStack?d.CloseButtonType.Close:d.CloseButtonType.Back},t=(0,n.jsx)(d.SimplePanelHeader,{panelName:this._getHeaderText(),leftButton:e});return(0,n.jsxs)(r.View,{style:[p.panel,this._themeStyles.primaryBackgroundColorStyle],children:[t,(0,n.jsx)(r.ScrollView,{style:u.default.flexOne,children:(0,n.jsx)(r.View,{style:p.container,children:(0,n.jsx)(s.default,{fullList:!0})})})]})}}t.default=g},914868:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(808467),s=i(154235),l=i(26703),c=o.__importDefault(i(117475)),d=i(375258),u=o.__importDefault(i(827361)),p=o.__importStar(i(972830)),g=(0,l.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>r.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible"})});class h extends a.BaseNavigationViewPresentedInModal{_buildState(e,t){return{safeAreaPaddingStyle:c.default.horizontalPaddingStyle(s.HorizontalInsetZero)}}render(){const e=[g.settingsBlockContainer],t=this.state;t.safeAreaPaddingStyle&&e.push(t.safeAreaPaddingStyle);const i=this.props.navigation?void 0:(0,n.jsx)(d.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:{closeButtonType:this.props.route.params.isAloneInNavStack?d.CloseButtonType.Close:d.CloseButtonType.Back}}),{primaryBackgroundColorStyle:o}=p.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(r.View,{style:[g.panel,o],children:[i,(0,n.jsx)(r.ScrollView,{style:u.default.flexOne,children:(0,n.jsx)(r.View,{style:e,children:this._renderContent()})})]})}}t.default=h},427453:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(537180),a=i(217041),s=o.__importDefault(i(247286)),l=o.__importDefault(i(395298)),c=o.__importDefault(i(95114)),d=i(884853),u=o.__importStar(i(704704)),p=o.__importDefault(i(150343)),g=i(206315),h=o.__importDefault(i(341994));function m(e,t){h.default.setBingSearchHistoryEnabled(t)}function S(e,t){h.default.setBingSearchTrendingEnabled(t)}const _=e=>{const{themeStyles:{dividerBorderColorStyle:t}}=(0,g.useSkypeTheme)();if(e.isChild)return null;const i=u.getString("SearchResultsList.WebSearchHistoryHeader"),o=u.getString("SearchResultsList.WebSearchTrendingHeader"),a=e.enableHistory?(0,n.jsx)(l.default,{style:[c.default.controlRow,t],isOn:e.enableSearchHistory,accessibilityLabel:i,onChange:m,children:(0,n.jsx)(d.SwitchLabel,{title:i})}):null,s=e.enableTrending?(0,n.jsx)(l.default,{style:[c.default.controlRow,t],isOn:e.enableSearchTrending,accessibilityLabel:o,onChange:S,children:(0,n.jsx)(d.SwitchLabel,{title:o})}):null;return a||s?(0,n.jsxs)(r.View,{children:[(0,n.jsx)(d.SectionTitle,{title:u.getString("UserSettingsPanel.WebSearchSettingsUpper")}),a,s]}):null};class f extends a.ComponentBase{_buildState(){const{enableHistory:e,enableTrending:t}=p.default.getS4LSearchFeatures().bingSearch;return{enableHistory:e,enableTrending:t,enableSearchHistory:h.default.getBingSearchHistoryEnabled(),enableSearchTrending:h.default.getBingSearchTrendingEnabled(),isChild:s.default.isChild()}}render(){return(0,n.jsx)(_,{enableHistory:this.state.enableHistory,enableTrending:this.state.enableTrending,enableSearchHistory:this.state.enableSearchHistory,enableSearchTrending:this.state.enableSearchTrending,isChild:this.state.isChild})}}t.default=f},73297:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(496486),s=o.__importDefault(i(150343)),l=o.__importDefault(i(958868)),c=o.__importStar(i(372690)),d=o.__importStar(i(704704)),u=o.__importDefault(i(740794)),p=i(483877);class g extends l.default{constructor(){super(...arguments),this._onThirdPartyNoticesPressed=()=>{u.default.navigateToThirdPartyNotices(this._getRootViewId())}}render(){const e=(0,a.compact)([(0,n.jsx)(p.WideButton,{label:d.getString("AboutPanel.ThirdPartyNoticesLabel"),onPressed:this._onThirdPartyNoticesPressed,buttonStyles:this.props.buttonStyles},"third-party-notices-label"),(0,n.jsx)(p.WideButton,{label:d.getString("AboutPanel.PrivacyPolicyLabel"),onPressed:c.openPrivacy,buttonStyles:this.props.buttonStyles},"privacy-policy-label"),this._getAccessibilityConformanceButton(),this._getItalianAccesibiltyConformanceButton(),(0,n.jsx)(p.WideButton,{label:d.getString("WebFooter.ConsumerHealthPrivacy"),onPressed:c.openConsumerHealthPrivacy,buttonStyles:this.props.buttonStyles},"consumer-health-privacy-label"),(0,n.jsx)(p.WideButton,{label:d.getString("AboutPanel.TermsOfUseLabel"),onPressed:c.openTerms,buttonStyles:this.props.buttonStyles},"terms-of-use-label")]);return(0,n.jsx)(r.View,{style:this.props.style,children:e})}_getItalianAccesibiltyConformanceButton(){if("it-IT"===d.getLocale())return(0,n.jsx)(p.WideButton,{label:s.default.getConfigSettingsNoSubscription().italianAccessibilityConformanceUrl.label,onPressed:c.openItalianAccessibilityConformance,buttonStyles:this.props.buttonStyles},"it-accessibility")}_getAccessibilityConformanceButton(){if("fr-FR"===d.getLocale())return(0,n.jsx)(p.WideButton,{label:s.default.getConfigSettingsNoSubscription().frenchAccessibilityConformanceUrl.label,onPressed:c.openAccessibilityConformance,buttonStyles:this.props.buttonStyles},"fr-accessibility")}}t.default=g},59154:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(395298)),a=o.__importDefault(i(340724)),s=o.__importStar(i(85385)),l=o.__importStar(i(704704)),c=i(196761),d=o.__importDefault(i(201721)),u=i(884853),p=o.__importDefault(i(95114)),g=o.__importDefault(i(497910));class h extends g.default{constructor(){super(...arguments),this._onChange=(e,t)=>{this.state.autoDownloadFilesEnabled!==t&&(d.default.setUserPreferencesLocal({autoDownloadFiles:t}),s.track(new c.AutoDownloadFilesToggleSetting(t)))}}_buildState(e,t){return{autoDownloadFilesEnabled:!!d.default.getUserPreferencesLocal().autoDownloadFiles}}render(){const e=l.getString("UserSettingsPanel.AutoDownloadFilesTitle"),t=l.getString("UserSettingsPanel.AutoDownloadFilesSubtitle"),i=[p.default.controlRow,this._themeStyles.dividerBorderColorStyle],o=a.default.combinedAccessibilityLabel(e,t);return(0,n.jsx)(r.default,{style:[i,this.props.style],isOn:this.state.autoDownloadFilesEnabled,accessibilityLabel:o,onChange:this._onChange,children:(0,n.jsx)(u.SwitchLabel,{title:e,subtitle:t})},"autoDownloadFiles")}}t.default=h},66957:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=i(154235),s=o.__importStar(i(704704)),l=o.__importStar(i(85385)),c=o.__importDefault(i(248126)),d=i(136464),u=o.__importDefault(i(95114)),p=i(483877),g=o.__importDefault(i(201721)),h=i(196761),m=i(526849),S=i(736267),_=(0,m.WithResub)((e=>{const t=(0,r.useRef)(),{rootViewId:i}=(0,S.useCommonContext)(),o=(0,r.useCallback)((t=>{void 0!==t&&e.autoDownloadFilesMode!==t&&(g.default.setUserPreferencesLocal({autoDownloadFilesMode:t}),l.track(new h.AutoDownloadFilesV2ToggleSetting(t)))}),[e.autoDownloadFilesMode]),m=(0,r.useMemo)((()=>new c.default(o)),[o]),_=s.getString("UserSettingsPanel.AutoDownloadFilesTitle");let f;switch(e.autoDownloadFilesMode){case d.PrefetchMode.Off:f=s.getString("UserSettingsPanel.PicturePrefetchStatusOff");break;case d.PrefetchMode.On:f=s.getString("UserSettingsPanel.PicturePrefetchStatusOn");break;case d.PrefetchMode.Wifi:f=s.getString("UserSettingsPanel.PicturePrefetchStatusWifi")}return(0,n.jsx)(p.WideButton,{ref:t,label:_,labelStyle:u.default.titleMediumSemiLarge,buttonStyles:a.ListItem.small.shortHeightStyle,labelBottom:f,onPressed:e=>{m.show(s.getString("UserSettingsPanel.AutoDownloadFilesTitle"),(()=>t.current),i,e)},hideArrow:!0})}),(e=>{const{autoDownloadFilesMode:t=d.PrefetchMode.Off}=g.default.getUserPreferencesLocal();return Object.assign(Object.assign({},e),{autoDownloadFilesMode:t})}));t.default=_},229914:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importDefault(i(150343)),s=o.__importStar(i(603094)),l=o.__importDefault(i(340724)),c=i(154235),d=o.__importDefault(i(958868)),u=o.__importDefault(i(37679)),p=o.__importStar(i(704704)),g=o.__importDefault(i(740794)),h=o.__importDefault(i(660401)),m=i(641400),S=o.__importDefault(i(600684)),_=i(483877),f=i(815146);class y extends d.default{constructor(){super(...arguments),this._onUserInfoSectionPress=()=>{g.default.navigateToBalanceStatePanel(f.BalancePanelSource.MySettingsPanel,this._getRootViewId())},this._onSkypeToPhonePress=()=>{g.default.navigateToBalanceStatePanel(f.BalancePanelSource.MySettingsPanelCombinedSettings,this._getRootViewId())}}_buildState(e,t){const i=u.default.getCreditEntitlement(),o=u.default.getSubscriptions();return{userFormattedBalance:s.getFormattedBalance(i),userSubscriptionsCount:o?r.size(o):0,userEntitlementsSummary:s.getEntitlementCombination(i,o),skypeToPhoneInProfile:a.default.getS4LEntitlementFeatures().SCE.UserServices.Client.Experiments.SkypeToPhoneInProfile}}render(){const e=this.state.userFormattedBalance?p.getString("BalanceStatePanel.SkypeToPhoneAccessibilityText",{amount:this.state.userFormattedBalance,count:this.state.userSubscriptionsCount}):void 0;if("none"===this.state.userEntitlementsSummary&&this.state.skypeToPhoneInProfile){const t=p.getString("Entitlements.SkypeToPhoneTitle"),i=p.getString("Entitlements.AddFundsLabel"),o=p.getString("Entitlements.SkypeToPhoneIntro"),r=l.default.combinedAccessibilityLabel(e||t,i);return(0,n.jsx)(S.default,{icon:m.SkypeIcon.SkypeCredit,label:t,labelBottom:o,labelBottomSingleLine:!0,onPress:this._onUserInfoSectionPress,accessibilityLabel:r,children:(0,n.jsx)(h.default,{buttonSize:c.SXButtonSize.Small,buttonStyle:c.SXButtonStyle.ThemeStroke,title:p.getString("Entitlements.AddFundsLabel"),accessibilityHidden:!0,allowTextWrap:!0})})}const t=this.state.userSubscriptionsCount>0?p.getString("Entitlements.Subscriptions",{count:this.state.userSubscriptionsCount}):void 0;return(0,n.jsx)(_.WideButton,{icon:m.SkypeIcon.SkypeCredit,label:p.getString("Entitlements.SkypeToPhoneTitle"),labelBottom:t,labelBottomSingleLine:!0,onPressed:this._onSkypeToPhonePress,labelRight:this.state.userFormattedBalance,accessibilityLabel:e,buttonStyles:this.props.buttonStyles},"user-credit-and-subscriptions")}}t.default=y},217148:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(380157),a=o.__importDefault(i(395298)),s=o.__importDefault(i(370253)),l=o.__importStar(i(443140)),c=i(815146),d=o.__importStar(i(85385)),u=o.__importDefault(i(89984)),p=o.__importStar(i(704704)),g=o.__importDefault(i(201721)),h=i(884853),m=o.__importDefault(i(95114)),S=o.__importDefault(i(497910)),_=o.__importDefault(i(247286)),f=o.__importDefault(i(150343));class y extends S.default{constructor(){super(...arguments),this._onToggleBingLocation=(e,t)=>{t?s.default.displayModal(this._getRootViewId(),{onModalClosed:this._onBingConsentModalClosed}):(d.track(new l.BingPermissionsInteractionEvent(c.BingPermissionsEntryPoint.BingSettings,r.PermissionStatus.Denied)),g.default.setUserPreferencesLocal({bingLocationConsentGranted:!1,locationStoreLastPromptTime:Date.now()}))},this._onShareLocationWithBingRef=e=>{this._shareLocationWithBingRef=e||void 0},this._onBingConsentModalClosed=()=>{this._shareLocationWithBingRef&&this._shareLocationWithBingRef.focusToggle()}}_buildState(e,t){const{enableMagicBot:i}=f.default.getS4LMessagingFeatures();return{bingEnabled:!!u.default.getBingIntegration()||i,bingLocationEnabled:!!g.default.getUserPreferencesLocal().bingLocationConsentGranted,isChild:_.default.isChild()}}render(){const e=p.getString("UserSettingsPanel.BingLocation");return this.state.isChild||!this.state.bingEnabled?null:(0,n.jsx)(a.default,{ref:this._onShareLocationWithBingRef,style:[m.default.controlRow,this._themeStyles.dividerBorderColorStyle],isOn:this.state.bingLocationEnabled,accessibilityLabel:e,onChange:this._onToggleBingLocation,children:(0,n.jsx)(h.SwitchLabel,{title:e})},"bingLocationEnabled")}}t.default=y},142048:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(395298)),a=o.__importDefault(i(340724)),s=o.__importStar(i(147286)),l=o.__importStar(i(704704)),c=o.__importDefault(i(341994)),d=o.__importDefault(i(363091)),u=i(884853),p=o.__importDefault(i(95114)),g=i(331079),h=o.__importDefault(i(497910)),m=o.__importDefault(i(685734));class S extends h.default{constructor(){super(...arguments),this._onChange=(e,t)=>{c.default.setCallNotificationsWhileDNDEnabled(t)}}_buildState(e,t){const i=m.default.getFullUserProfileByMri(d.default.getSkypeMri());return{callNotificationsWhileDNDEnabled:!!c.default.getCallNotificationsWhileDNDEnabled(),gender:i&&i.gender||g.eGender.Unspecified}}render(){const e=l.getString("UserSettingsPanel.CallNotificationsDuringDNDLabel"),t=l.getString("UserSettingsPanel.CallNotificationsDuringDNDSecondary",{gender:s.getLocalizeParamForGender(this.state.gender)});return(0,n.jsx)(r.default,{style:[p.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.callNotificationsWhileDNDEnabled,accessibilityLabel:a.default.combinedAccessibilityLabel(e,t),onChange:this._onChange,children:(0,n.jsx)(u.SwitchLabel,{title:e,subtitle:t})},"callNotificationsDuringDND")}}t.default=S},152370:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(395298)),a=o.__importDefault(i(340724)),s=o.__importStar(i(147286)),l=o.__importStar(i(704704)),c=o.__importStar(i(405640)),d=o.__importDefault(i(341994)),u=o.__importDefault(i(363091)),p=i(884853),g=o.__importDefault(i(95114)),h=i(331079),m=o.__importDefault(i(497910)),S=o.__importDefault(i(685734));class _ extends m.default{constructor(){super(...arguments),this._onChange=(e,t)=>{d.default.setChatNotificationsWhileDNDEnabled(t)}}_buildState(e,t){const i=S.default.getFullUserProfileByMri(u.default.getSkypeMri());return{chatNotificationsWhileDNDEnabled:!!d.default.getChatNotificationsWhileDNDEnabled(),gender:i&&i.gender||h.eGender.Unspecified,enableChatNotifications:c.areNotificationsEnabled()}}render(){const e=l.getString("UserSettingsPanel.ChatNotificationsDuringDNDLabel"),t=l.getString("UserSettingsPanel.ChatNotificationsDuringDNDSecondary",{gender:s.getLocalizeParamForGender(this.state.gender)});return(0,n.jsx)(r.default,{style:[g.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.chatNotificationsWhileDNDEnabled,accessibilityLabel:a.default.combinedAccessibilityLabel(e,t),onChange:this._onChange,disable:!this.state.enableChatNotifications,children:(0,n.jsx)(p.SwitchLabel,{title:e,subtitle:t})},"chatNotificationsDuringDND")}}t.default=_},304099:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=(o.__importStar(i(496486)),o.__importStar(i(516778))),a=o.__importDefault(i(206483)),s=o.__importDefault(i(150343)),l=o.__importDefault(i(958868)),c=i(815146),d=o.__importStar(i(85385)),u=(o.__importStar(i(50350)),o.__importStar(i(704704))),p=o.__importDefault(i(855191)),g=(o.__importDefault(i(740794)),o.__importDefault(i(942724))),h=o.__importStar(i(3025)),m=o.__importDefault(i(95114)),S=i(641400),_=i(483877),f=o.__importStar(i(363091)),y=o.__importDefault(i(787263)),C=(o.__importDefault(i(222537)),o.__importDefault(i(196374))),v=i(905617),b=o.__importDefault(i(628782)),T=i(482461);class P extends l.default{constructor(){super(...arguments),this._showCloseAccountFailedAlert=e=>{if(e===T.AccountDeleteResponseStatus.GenericFailure){const e=u.getString("PhoneAuth.InvalidSkypeIdOrEmailAlertTitle"),t=u.getString("ConfirmationDialog.ReportFailMessage");a.default.showErrorAlertWithOptions({errorText:t,errorTitle:e,dialogAccessibilityTitle:e,rootViewId:this._getRootViewId()})}else if(e===T.AccountDeleteResponseStatus.TflAccountFailure){const e=u.getString("PhoneAuth.AcountDeleteWarningTitle"),t=u.getString("PhoneAuth.AccountDeleteUsedInTeamsMessage");a.default.showWithOptions({title:e,dialogAccessibilityTitle:t,message:t,buttons:[{text:u.getString("PhoneAuth.Continue"),onPress:this._handleMsaCloseAccountButtonPress,isSubmit:!0},{text:u.getString("Global.CancelLabel"),isCancel:!0}],rootViewId:this._getRootViewId(),useFocussedWindowFallback:!0})}},this._handleCloseAccount=e=>o.__awaiter(this,void 0,void 0,(function*(){this.setState({isAccountDeleteInProgress:!0});const t=yield C.default.deletePhoneAccount(e);this.setState({isAccountDeleteInProgress:!1}),this._handleModalClose(),t!==T.AccountDeleteResponseStatus.Success?(d.error(c.LogTraceArea.SISU,"Closing account failed"),this._showCloseAccountFailedAlert(t)):p.default.redirectToLogout(c.LogoutReason.CloseAccount,!0,!1,this._getRootViewId())})),this._handlePhoneAuthCloseAccountButtonPress=()=>{this.setState({isModalOpen:!0})},this._handleModalClose=()=>{this.setState({isModalOpen:!1})},this._handleMsaCloseAccountButtonPress=()=>{{d.track(new h.CloseMyAccountInfoLinkClicked);const e=`${this.state.closeMyAccountWebUrl}?setlang=${u.getLocale()}`;return void r.Linking.openUrl(e)}}}_buildState(e,t){const i=s.default.getConfigSettings().profileCard,o=f.default.isPhoneAuthUser(),n=b.default.getPhoneNumber(),r={phone:n?(0,v.getRawFormattedPhoneNumber)(n):void 0,closeMyAccountEndUrl:i.closeMyAccountEndUrl,closeMyAccountUrl:i.closeMyAccountUrl,closeMyAccountWebUrl:i.closeMyAccountWebUrl,isUsingStackNavigation:g.default.isUsingStackNavigationContext(),userAccountType:f.default.getUserAccountType()};return t?Object.assign(Object.assign({},r),{isPhoneAuthUser:o}):r}render(){if(this.state.isPhoneAuthUser){const e=this.state.userAccountType===f.UserAccountType.PhoneAuthWithLinkedMsa;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.WideButton,{icon:S.SkypeIcon.Cancel,label:u.getString("UserSettingsPanel.CloseAccountLabel"),labelStyle:m.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,labelBottom:u.getString("UserSettingsPanel.CloseSkypeAccountDescription"),onPressed:this._handlePhoneAuthCloseAccountButtonPress,disabled:!!this.state.isAccountDeleteInProgress,disabledOpacity:.6,hideArrow:!0},"closeAccountButton"),(0,n.jsx)(y.default,{isOpen:!!this.state.isModalOpen,onClose:this._handleModalClose,phoneNumber:this.state.phone,isPhoneAuthUserWithLinkedMsa:e,onCloseAccount:this._handleCloseAccount})]})}return(0,n.jsx)(_.WideButton,{icon:S.SkypeIcon.Cancel,label:u.getString("UserSettingsPanel.CloseAccountLabel"),labelStyle:m.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,labelBottom:u.getString("UserSettingsPanel.CloseAccountDescription"),onPressed:this._handleMsaCloseAccountButtonPress},"closeAccountButton")}}t.default=P},488197:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(395298)),s=o.__importDefault(i(284341)),l=i(26703),c=o.__importStar(i(704704)),d=o.__importDefault(i(459778)),u=i(773151),p=i(884853),g=o.__importDefault(i(95114)),h=o.__importDefault(i(497910)),m=(0,l.lazyProperties)({noBorder:()=>r.Styles.createViewStyle({borderBottomWidth:0})});class S extends h.default{constructor(){super(...arguments),this._onChangeListMode=(e,t)=>{this.state.rowSize===u.RowSize.Compact||this.state.rowSize===u.RowSize.ExtraCompact?d.default.setRowSizeToDefault():d.default.setRowSizeToCompact(!0),this.props.onChangeListMode&&this.props.onChangeListMode()},this._onChangeAvatarMode=(e,t)=>{const i=this.state.rowSize===u.RowSize.ExtraCompact;d.default.setRowSizeToCompact(i)}}_buildState(e,t){return{rowSize:d.default.recentRowSizeAndChanges()}}render(){const e=[g.default.controlRow,this.props.buttonStyles],t=this.state.rowSize===u.RowSize.Compact||this.state.rowSize===u.RowSize.ExtraCompact,i=c.getString("ColorThemeDialog.EnableCompactLayoutIcons"),o=[...e];this.props.hideBottomBorder?o.push(m.noBorder):o.push(this._themeStyles.dividerBorderColorStyle);const s=(0,n.jsx)(a.default,{style:o,isOn:this.state.rowSize===u.RowSize.Compact,accessibilityLabel:i,onChange:this._onChangeAvatarMode,disable:!t,children:(0,n.jsx)(p.SwitchLabel,{title:i,disabled:!t})},"enableCompactLayoutIcons"),l=[...e];!this.props.hideBottomBorder||s?l.push(this._themeStyles.dividerBorderColorStyle):l.push(m.noBorder);const d=c.getString("ColorThemeDialog.EnableCompactLayout");return(0,n.jsxs)(r.View,{children:[(0,n.jsx)(p.SectionTitle,{title:c.getString("ColorThemeDialog.SidebarUpper"),titleStyles:this.props.titleStyles}),this._getLastAuthorAvatarToggle(),(0,n.jsx)(a.default,{style:l,isOn:t,accessibilityLabel:d,onChange:this._onChangeListMode,children:(0,n.jsx)(p.SwitchLabel,{title:d})},"enableCompactLayout"),s]})}_getLastAuthorAvatarToggle(){return(0,n.jsx)(s.default,{style:this.props.buttonStyles,forceTurnOff:this.state.rowSize===u.RowSize.Compact||this.state.rowSize===u.RowSize.ExtraCompact})}}t.default=S},840135:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(395298)),a=o.__importDefault(i(340724)),s=o.__importStar(i(704704)),l=o.__importDefault(i(201721)),c=i(884853),d=o.__importDefault(i(95114)),u=o.__importDefault(i(497910));class p extends u.default{constructor(){super(...arguments),this._onChangeAllowHugeEmoticons=(e,t)=>{l.default.setUserPreferencesLocal({allowHugeEmoticons:t})}}_buildState(e,t){return{allowHugeEmoticons:!!l.default.getUserPreferencesLocal().allowHugeEmoticons}}render(){const e=s.getString("UserSettingsPanel.DisplayLargeEmoticons"),t=s.getString("UserSettingsPanel.DisplayLargeEmoticonsSubtitle");return(0,n.jsx)(r.default,{style:[d.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.allowHugeEmoticons,accessibilityLabel:a.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeAllowHugeEmoticons,children:(0,n.jsx)(c.SwitchLabel,{title:e,subtitle:t})},"allowHugeEmoticons")}}t.default=p},618111:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(395298)),a=o.__importDefault(i(340724)),s=o.__importStar(i(704704)),l=o.__importDefault(i(341994)),c=i(884853),d=o.__importDefault(i(95114)),u=o.__importDefault(i(497910));class p extends u.default{constructor(){super(...arguments),this._onDisplayUrlPreviewsEnabled=(e,t)=>{this.state.displayUrlPreviewsEnabled!==t&&l.default.setDisplayUrlPreviewsEnabled(t)}}_buildState(e,t){return{displayUrlPreviewsEnabled:!!l.default.getDisplayUrlPreviews()}}render(){const e=s.getString("UserSettingsPanel.DisplayUrlPreviews"),t=s.getString("UserSettingsPanel.DisplayUrlPreviewsSubtitle"),i=[d.default.controlRow,this._themeStyles.dividerBorderColorStyle];return(0,n.jsx)(r.default,{style:[i,this.props.style],isOn:this.state.displayUrlPreviewsEnabled,accessibilityLabel:a.default.combinedAccessibilityLabel(e,t),onChange:this._onDisplayUrlPreviewsEnabled,children:(0,n.jsx)(c.SwitchLabel,{title:e,subtitle:t})},"displayUrlPreviews")}}t.default=p},123504:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(395298)),s=o.__importDefault(i(266311)),l=o.__importDefault(i(958868)),c=o.__importDefault(i(898486)),d=o.__importDefault(i(421852)),u=i(815146),p=o.__importDefault(i(970035)),g=o.__importStar(i(85385)),h=i(26703),m=o.__importStar(i(704704)),S=o.__importDefault(i(201721)),_=o.__importDefault(i(341994)),f=o.__importDefault(i(740794)),y=i(427393),C=i(884853),v=o.__importDefault(i(95114)),b=i(641400),T=i(16549),P=o.__importDefault(i(497910)),k=o.__importDefault(i(760989)),A=(0,h.lazyProperties)({togglePadding:()=>r.Styles.createViewStyle({paddingBottom:10}),iconPadding:()=>r.Styles.createViewStyle({padding:10})}),I="E911LocationConsentConfirmationModal";class w extends P.default{constructor(){super(...arguments),this._onToggleRef=e=>{this._toggleRef=e||void 0},this._onToggleChange=(e,t)=>{if(t)if(_.default.isE911Acknowledged())S.default.setE911LocationConsentGranted(!0),g.track(new y.E911LocationConsentEvent(!0)),d.default.updateLocationWithPermission(u.LocationUpdateReason.E911ConsentUpdate);else{const e=k.default.newCauseId();g.log(u.LogTraceArea.Navigation,"E911LocationConsentToggle._onToggleChange, causeId: "+e),f.default.navigateToE911AcknowledgementPanel(e,this._getRootViewId(),this._onAcknowledgementPanelComplete,!0)}else s.default.showModal((0,n.jsx)(x,{onClose:this._onConfirmationModalClose}),I,{rootViewId:this._getRootViewId()})},this._onAcknowledgementPanelComplete=()=>{const e=k.default.newCauseId();g.log(u.LogTraceArea.Navigation,"E911LocationConsentToggle._onAcknowledgementPanelComplete, causeId: "+e),f.default.goBack(e,this._getContext()),S.default.setE911LocationConsentGranted(!0),d.default.updateLocationWithPermission(u.LocationUpdateReason.E911ConsentUpdate)},this._onConfirmationModalClose=()=>{this._toggleRef&&this._toggleRef.focusToggle()}}_buildState(e,t){return{isConsentGranted:!!S.default.isE911LocationConsentGranted()}}render(){const e=m.getString("UserSettingsPanel.E911LocationConsentToggleLabel"),t=m.getString("UserSettingsPanel.E911LocationConsentToggleExplanation"),i=e+", "+t;return(0,n.jsx)(a.default,{ref:this._onToggleRef,style:[v.default.controlRow,this._themeStyles.dividerBorderColorStyle,A.togglePadding],isOn:this.state.isConsentGranted,accessibilityLabel:i,onChange:this._onToggleChange,children:(0,n.jsx)(C.SwitchLabel,{title:e,subtitle:t})})}}t.default=w;class x extends l.default{constructor(){super(...arguments),this._onOkButtonClick=()=>{S.default.setE911LocationConsentGranted(!1),g.track(new y.E911LocationConsentEvent(!1))}}render(){const e=(0,n.jsx)(p.default,{size:b.IconSize.size67,color:T.Color.gray300,icon:b.SkypeIcon.Location,style:A.iconPadding});return(0,n.jsx)(c.default,{dialogId:I,title:m.getString("UserSettingsPanel.E911LocationConsentConfirmationTitle"),description:m.getString("UserSettingsPanel.E911LocationConsentConfirmationText"),iconView:e,okButtonLabel:m.getString("UserSettingsPanel.E911LocationConsentConfirmationButtonTitle"),onOkButtonClick:this._onOkButtonClick,cancelButtonLabel:m.getString("Global.CancelLabel"),onModalClosed:this.props.onClose})}}},713054:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(958868)),a=o.__importStar(i(704704)),s=o.__importDefault(i(740794)),l=i(483877);class c extends r.default{constructor(){super(...arguments),this._onPress=()=>{s.default.navigateToTranslationSettingsPanel(!1,this._getContext())}}render(){return(0,n.jsx)(l.WideButton,{buttonStyles:this.props.buttonStyles,label:a.getString("UserSettingsPanel.TranslationSettingsTitle"),onPressed:this._onPress})}}t.default=c},688794:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(537180),a=i(667294),s=o.__importStar(i(94534)),l=i(483877),c=i(262725),d=o.__importDefault(i(340724)),u=(o.__importDefault(i(827361)),o.__importDefault(i(95114))),p=r.StyleSheet.create({buttonStyle:{marginBottom:14}});t.default=(0,a.memo)((({label:e,captionText:t,onPress:i,activeLabel:o,hideDivider:a,buttonStyles:g})=>{const h=d.default.linkAccessibilityInfo(t||"");return(0,n.jsxs)(r.View,{style:p.buttonStyle,children:[(0,n.jsx)(l.WideButton,{buttonStyles:g,label:e||"",accessibilityLabel:e,onPressed:i,labelRight:s.getShortLanguageTitle(o||""),hideDivider:a}),(0,n.jsx)(r.View,{accessibilityLabel:h.label,children:(0,n.jsx)(c.Caption,{style:u.default.subtitleMediumSemiLarge,children:t})})]})}))},284341:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(395298)),a=o.__importDefault(i(340724)),s=o.__importStar(i(85385)),l=o.__importStar(i(704704)),c=i(196761),d=o.__importDefault(i(201721)),u=i(884853),p=o.__importDefault(i(95114)),g=o.__importDefault(i(497910));class h extends g.default{constructor(){super(...arguments),this._onChange=(e,t)=>{d.default.setUserPreferencesLocal({lastMessageAuthorAvatarEnabled:t}),s.track(new c.LastMessageAuthorAvatarToggleSetting(t))}}_buildState(){return{lastMessageAuthorAvatarEnabled:d.default.getLastMessageAuthorAvatarSwitchedOn()}}render(){const e=l.getString("UserSettingsPanel.LastMessageAuthorAvatarToggleLabel");return(0,n.jsx)(r.default,{style:[p.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.lastMessageAuthorAvatarEnabled&&!this.props.forceTurnOff,accessibilityLabel:a.default.combinedAccessibilityLabel(e),onChange:this._onChange,disable:this.props.forceTurnOff,children:(0,n.jsx)(u.SwitchLabel,{title:e})},"lastMessageAuthorAvatar")}}t.default=h},765006:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(958868)),s=o.__importStar(i(704704)),l=o.__importDefault(i(740794)),c=o.__importDefault(i(95114)),d=i(483877);class u extends a.default{constructor(){super(...arguments),this._onPressManageBlockedUsers=()=>{l.default.navigateToBlockedUsersList(this._getRootViewId())},this._onPressManageConnectedUsers=()=>{l.default.navigateToConnectedUsersList(this._getRootViewId())}}render(){return(0,n.jsxs)(r.View,{children:[this._getManageConnectedContactsButton(),this._getBlockedContactsButton()]})}_getManageConnectedContactsButton(){return(0,n.jsx)(d.WideButton,{label:s.getString("UserSettingsPanel.ConnectedContactsTitle"),labelStyle:c.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,onPressed:this._onPressManageConnectedUsers},"connectedUsers")}_getBlockedContactsButton(){return(0,n.jsx)(d.WideButton,{label:s.getString("UserSettingsPanel.BlockedContactsTitle"),labelStyle:c.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,onPressed:this._onPressManageBlockedUsers},"blockedUsers")}}t.default=u},524996:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(958868)),a=o.__importStar(i(704704)),s=o.__importDefault(i(740794)),l=i(342561),c=o.__importDefault(i(95114)),d=i(483877);class u extends r.default{constructor(){super(...arguments),this._onPress=()=>{s.default.navigateToManageSearchInfoPanel(l.ManageSearchOrigin.ApplicationSettings,this._getRootViewId())}}render(){const e=a.getString("ManageSearchInfoPanel.PanelTitleContactsPrivacy");return(0,n.jsx)(d.WideButton,{label:e,labelStyle:c.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,onPressed:this._onPress},"manageSearchInfo")}}t.default=u},548196:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(395298)),a=o.__importDefault(i(340724)),s=i(815146),l=o.__importStar(i(85385)),c=o.__importStar(i(147286)),d=o.__importStar(i(704704)),u=o.__importDefault(i(341994)),p=o.__importDefault(i(363091)),g=i(898989),h=i(884853),m=o.__importDefault(i(95114)),S=i(331079),_=o.__importDefault(i(497910)),f=o.__importDefault(i(685734));class y extends _.default{constructor(){super(...arguments),this._onChange=(e,t)=>{u.default.setNotifyOnPresenceChangeEnabled(t),l.track(new g.PresenceChangeNotificationToggleSetting(t)),l.log(s.LogTraceArea.PresenceChangeNotification,"Setting notify on presence change, enabled="+t)}}_buildState(e,t){const i=f.default.getFullUserProfileByMri(p.default.getSkypeMri());return{notifyOnPresenceChangeEnabled:!("true"!==u.default.getNotifyOnPresenceChangeState()),gender:i&&i.gender||S.eGender.Unspecified}}render(){const e=d.getString("UserSettingsPanel.NotifyOnPresenceChangeLabel"),t=d.getString("UserSettingsPanel.NotifyOnPresenceChangeSecondary",{gender:c.getLocalizeParamForGender(this.state.gender)});return(0,n.jsx)(r.default,{style:[m.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.notifyOnPresenceChangeEnabled,accessibilityLabel:a.default.combinedAccessibilityLabel(e,t),onChange:this._onChange,children:(0,n.jsx)(h.SwitchLabel,{title:e,subtitle:t})},"notifyOnPresenceChange")}}t.default=y},94893:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=o.__importStar(i(704704)),s=o.__importDefault(i(395298)),l=i(884853),c=o.__importDefault(i(340724)),d=o.__importDefault(i(341994)),u=o.__importDefault(i(95114)),p=i(206315),g=i(526849);t.default=(0,g.WithResub)((0,r.memo)((function(e){const{themeStyles:t}=(0,p.useSkypeTheme)(),{oldFriendBackNotificationEnabled:i}=e,o=a.getString("UserSettingsPanel.OldFriendBackNotificationLabel"),g=a.getString("UserSettingsPanel.OldFriendBackNotificationSecondary"),h=(0,r.useCallback)(((e,t)=>{d.default.setOldFriendBackNotificationEnabled(t)}),[]);return(0,n.jsx)(s.default,{style:[u.default.controlRow,t.dividerBorderColorStyle],isOn:i,accessibilityLabel:c.default.combinedAccessibilityLabel(o,g),onChange:h,children:(0,n.jsx)(l.SwitchLabel,{title:o,subtitle:g})},"OldFriendBackNotificationToggleSwitch")})),(e=>{const t=!("false"===d.default.getOldFriendBackNotificationState());return Object.assign(Object.assign({},e),{oldFriendBackNotificationEnabled:t})}))},611553:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(395298)),a=o.__importDefault(i(340724)),s=o.__importStar(i(85385)),l=o.__importStar(i(704704)),c=i(196761),d=o.__importDefault(i(201721)),u=i(884853),p=o.__importDefault(i(95114)),g=o.__importDefault(i(497910));class h extends g.default{constructor(){super(...arguments),this._onChange=(e,t)=>{d.default.setUserPreferencesLocal({pasteAsQuotesEnabled:t}),s.track(new c.PasteAsQuoteToggleSetting(t))}}_buildState(){return{pasteAsQuotesEnabled:d.default.getUserPreferencesLocal().pasteAsQuotesEnabled}}render(){const e=l.getString("UserSettingsPanel.PasteAsQuotesToggleLabel");return(0,n.jsx)(r.default,{style:[p.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.pasteAsQuotesEnabled,accessibilityLabel:a.default.combinedAccessibilityLabel(e),onChange:this._onChange,children:(0,n.jsx)(u.SwitchLabel,{title:e})},"pasteAsQuote")}}t.default=h},929284:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(150343)),a=i(154235),s=o.__importStar(i(85385)),l=o.__importStar(i(704704)),c=i(196761),d=o.__importDefault(i(201721)),u=o.__importDefault(i(248126)),p=o.__importDefault(i(95114)),g=o.__importDefault(i(497910)),h=i(483877);class m extends g.default{constructor(){super(...arguments),this._onChange=e=>{this._prefetchOptionsMenu.show(l.getString("UserSettingsPanel.PicturePrefetchTitle"),(()=>this._wideButton),this._getRootViewId(),e)},this._handleModeChange=e=>{void 0!==e&&this.state.prefetchStatus!==e&&(d.default.setUserPreferencesLocal({picturePrefetchMode:e}),s.track(new c.PicturePrefetchToggleSetting(e)))},this._onRefWideButton=e=>{this._wideButton=e||void 0}}_buildState(e,t){t&&(this._prefetchOptionsMenu=new u.default(this._handleModeChange));return{prefetchStatus:d.default.getUserPreferencesLocal().picturePrefetchMode||r.default.getS4LCMCFeatures().picturePrefetch.status}}render(){const e=l.getString("UserSettingsPanel.PicturePrefetchTitle");let t;switch(this.state.prefetchStatus){case"Off":t=l.getString("UserSettingsPanel.PicturePrefetchStatusOff");break;case"On":t=l.getString("UserSettingsPanel.PicturePrefetchStatusOn");break;case"Wifi":t=l.getString("UserSettingsPanel.PicturePrefetchStatusWifi")}return(0,n.jsx)(h.WideButton,{ref:this._onRefWideButton,label:e,labelStyle:p.default.titleMediumSemiLarge,buttonStyles:a.ListItem.small.shortHeightStyle,labelBottom:t,onPressed:this._onChange,hideArrow:!0,treatAsLink:!1},"manageProfile")}}t.default=m},127686:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(395298)),a=o.__importDefault(i(150343)),s=o.__importStar(i(85385)),l=o.__importStar(i(704704)),c=i(196761),d=o.__importDefault(i(201721)),u=i(884853),p=o.__importDefault(i(95114)),g=o.__importDefault(i(497910)),h=i(136464);class m extends g.default{constructor(){super(...arguments),this._onChange=(e,t)=>{if(this.state.prefetchEnabled!==t){const e=t?h.PrefetchMode.On:h.PrefetchMode.Off;d.default.setUserPreferencesLocal({picturePrefetchMode:e}),s.track(new c.PicturePrefetchToggleSetting(e))}}}_buildState(e,t){return{prefetchEnabled:"Off"!==(d.default.getUserPreferencesLocal().picturePrefetchMode||a.default.getS4LCMCFeatures().picturePrefetch.status)}}render(){const e=l.getString("UserSettingsPanel.PicturePrefetchTitle");return(0,n.jsx)(r.default,{style:[p.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.prefetchEnabled,accessibilityLabel:e,onChange:this._onChange,children:(0,n.jsx)(u.SwitchLabel,{title:e})},"autoDownloadFiles")}}t.default=m},573678:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(958868)),a=o.__importStar(i(704704)),s=o.__importDefault(i(740794)),l=o.__importDefault(i(95114)),c=i(483877);class d extends r.default{constructor(){super(...arguments),this._onPress=()=>{s.default.navigateToProfilePicturePanel(this._getRootViewId())}}render(){return(0,n.jsx)(c.WideButton,{icon:this.props.icon,label:a.getString("UserSettingsPanel.ProfilePictureTitle"),labelRight:this.props.showAddPhotoLabel?a.getString("UserSettingsPanel.AddPhotoLabel"):void 0,labelStyle:l.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,onPressed:this._onPress},"profilePicturePrivacy")}}t.default=d},563925:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(395298)),a=o.__importDefault(i(340724)),s=o.__importStar(i(704704)),l=o.__importDefault(i(341994)),c=o.__importDefault(i(942724)),d=i(884853),u=o.__importDefault(i(95114)),p=o.__importDefault(i(497910));class g extends p.default{constructor(){super(...arguments),this._onChange=(e,t)=>{l.default.setReactionNotificationsEnabled(t)}}_buildState(e,t){return{isUsingStackNavigation:c.default.isUsingStackNavigationContext(),reactionNotificationsEnabled:!!l.default.getReactionNotificationsEnabled()}}render(){const e=s.getString("UserSettingsPanel.EnableReactionPushNotifications"),t=s.getString("UserSettingsPanel.EnableReactionPushNotificationsSecondary");return(0,n.jsx)(r.default,{style:[u.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.reactionNotificationsEnabled,accessibilityLabel:a.default.combinedAccessibilityLabel(e,t),onChange:this._onChange,disable:this.props.disable,children:(0,n.jsx)(d.SwitchLabel,{title:e,subtitle:t})})}}t.default=g},487566:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(395298)),a=o.__importDefault(i(340724)),s=i(815146),l=o.__importStar(i(85385)),c=o.__importStar(i(704704)),d=i(196761),u=o.__importDefault(i(201721)),p=i(884853),g=o.__importDefault(i(95114)),h=o.__importDefault(i(139221)),m=o.__importDefault(i(48076)),S=o.__importDefault(i(497910));class _ extends S.default{constructor(){super(...arguments),this._onChangeSendMessageWithEnter=(e,t)=>{u.default.setUserPreferencesLocal({sendMessageWithEnter:t}),l.track(new d.SendMessageWithEnterToggleSetting(t))}}_buildState(e,t){return{sendMessageWithEnterEnabled:!!u.default.getUserPreferencesLocal().sendMessageWithEnter}}render(){const e=c.getString("UserSettingsPanel.SendMessageWithEnterToggleLabel"),t=this._getSubtitle();return(0,n.jsx)(r.default,{style:[g.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.sendMessageWithEnterEnabled,accessibilityLabel:a.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeSendMessageWithEnter,children:(0,n.jsx)(p.SwitchLabel,{title:e,subtitle:t})},"sendMessageWithEnter")}_getSubtitle(){if(m.default.isTabletNoSubscription())return c.getString("UserSettingsPanel.TabletSubtextSendMessageWithEnter");const e=h.default.getPlatformType();return e===s.PlatformType.Windows?this.state.sendMessageWithEnterEnabled?c.getString("UserSettingsPanel.PcSubtextSendMessageWithEnterToggleOn"):c.getString("UserSettingsPanel.PcSubtextSendMessageWithEnterToggleOff"):e===s.PlatformType.OSX||e===s.PlatformType.Linux?this.state.sendMessageWithEnterEnabled?c.getString("UserSettingsPanel.MacSubtextSendMessageWithEnterToggleOn"):c.getString("UserSettingsPanel.MacSubtextSendMessageWithEnterToggleOff"):void 0}}t.default=_},878540:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(395298)),s=o.__importDefault(i(150343)),l=o.__importDefault(i(340724)),c=i(815146),d=i(26703),u=o.__importStar(i(50350)),p=o.__importStar(i(704704)),g=i(196761),h=o.__importDefault(i(341994)),m=o.__importDefault(i(683395)),S=o.__importDefault(i(740794)),_=o.__importDefault(i(450312)),f=i(884853),y=o.__importDefault(i(95114)),C=o.__importDefault(i(52066)),v=i(262725),b=o.__importDefault(i(497910)),T=i(15752),P=(0,d.lazyProperties)({descriptionRow:()=>r.Styles.createViewStyle({paddingBottom:5,borderBottomWidth:1})});class k extends b.default{constructor(){super(...arguments),this._onReadReceiptsLearnMore=()=>{u.openUrlWithParams({origin:c.BrowserOrigin.ReadReceiptsSettingsDescription,url:s.default.getConfigSettingsNoSubscription().readReceipts.learnMoreLink,rootViewId:this._getRootViewId()})},this._onChangeSendReadReceiptsEnabled=(e,t)=>{this.state.sendReadReceiptsEnabled!==t&&(h.default.setReadReceiptsEnabled(t,g.ReadReceiptsSettingOrigin.UserAction),!t&&this.state.activeConversationId&&S.default.fetchMemberConsumptionHorizon(this.state.activeConversationId))}}_buildState(e,t){return{sendReadReceiptsEnabled:!!h.default.getReadReceiptsEnabled(),sendReadReceiptsOptionDisabled:m.default.getStatus()===T.UserStatus.Hidden,activeConversationId:_.default.getActiveConversationId(this._getRootViewId())}}render(){return this.state.sendReadReceiptsOptionDisabled?(0,n.jsxs)(r.View,{style:[this._themeStyles.dividerBorderColorStyle,P.descriptionRow],children:[this._renderToggleButton(),this._getDisabledButtonDescription()]}):this._renderToggleButton()}_renderToggleButton(){const e=p.getString("UserSettingsPanel.SendReadReceipts"),t=p.getString("UserSettingsPanel.SendReadReceiptsSubtitle"),i=this.state.sendReadReceiptsOptionDisabled?y.default.controlRowWithDescription:[y.default.controlRow,this._themeStyles.dividerBorderColorStyle];return(0,n.jsx)(a.default,{style:[i,this.props.style],isOn:this.state.sendReadReceiptsEnabled,accessibilityLabel:l.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeSendReadReceiptsEnabled,disable:this.state.sendReadReceiptsOptionDisabled,children:(0,n.jsx)(f.SwitchLabel,{title:e,subtitle:t})},"sendReadReceipts")}_getDisabledButtonDescription(){const e=p.getString("UserSettingsPanel.SendReadReceiptsLearnMore"),t=(0,n.jsx)(C.default,{url:s.default.getConfigSettingsNoSubscription().readReceipts.learnMoreLink,onPress:this._onReadReceiptsLearnMore,textThemeColor:v.TextThemeColor.Secondary,blue:!0,children:e},"readReceiptsLearnMoreLink ");return(0,n.jsx)(v.Caption,{style:y.default.subtitleMediumSemiLarge,children:p.getParts("UserSettingsPanel.SendReadReceiptsDisabledComment",{learnMoreLink:t})},"disabledReadReceiptsComment")}}t.default=k},589298:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(154235),s=o.__importDefault(i(186325)),l=i(815146),c=i(609099),d=o.__importStar(i(47013)),u=i(77395),p=o.__importStar(i(85385)),g=i(26703),h=o.__importStar(i(704704)),m=i(196761),S=o.__importDefault(i(201721)),_=o.__importDefault(i(95114)),f=o.__importDefault(i(52066)),y=o.__importDefault(i(827361)),C=i(262725),v=o.__importDefault(i(497910)),b=o.__importDefault(i(760989)),T=(0,g.lazyProperties)({container:()=>r.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",alignItems:"center",alignSelf:"stretch"}),changeLocationText:()=>r.Styles.createTextStyle({maxWidth:270})});class P extends v.default{constructor(){super(...arguments),this._fallbackPathName="Downloads",this._onLocationLinkPress=e=>{e.preventDefault();const t=b.default.newCauseId();p.log(l.LogTraceArea.FileNode,"SetFileDownloadLocationButton._onLocationLinkPress causeId: "+t),d.openFolderLocation(this.state.fileDownloadPathDesktop)},this._onChangeLocationPress=e=>{e.preventDefault();c.FilePickerUtils.showOpenDialog({properties:["openDirectory"]},(e=>{if(e.path===this.state.fileDownloadPathDesktop&&e.displayName===this.state.fileDownloadDisplayNameDesktop)return;S.default.setFileDownloadPath(e);const t=b.default.newCauseId();p.track(new m.FileDownloadPathDesktopSetting),p.log(l.LogTraceArea.FileNode,"SetFileDownloadLocationButton._onChangeLocationPress causeId: "+t)}))}}_buildState(e,t){const i=S.default.getUserPreferencesLocal();return{fileDownloadPathDesktop:i.fileDownloadPathDesktop||this._fallbackPathName,fileDownloadDisplayNameDesktop:i.fileDownloadDisplayNameDesktop||this._fallbackPathName}}render(){const e=h.getString("UserSettingsPanel.FileDownloadLocationLabel"),t=h.getString("UserSettingsPanel.ChangeFileDownloadLocationButton"),i=e+t,o=(0,n.jsx)(C.RowTitle,{colorThemeOverride:this._currentTheme,numberOfLines:2,style:_.default.switchTitleMediumSemiLarge,children:e},"title"),l=(0,n.jsx)(f.default,{url:"#",blue:!0,onPress:this._onLocationLinkPress,children:this.state.fileDownloadDisplayNameDesktop},"keyDownloadPath"),c=h.getParts("UserSettingsPanel.FileDownloadDefaultLocation",{downloadLocationLink:l}),d=(0,n.jsx)(C.Caption,{style:_.default.subtitleMediumSemiLarge,numberOfLines:4,children:c},"subtitle");return(0,n.jsxs)(r.View,{children:[(0,n.jsxs)(r.View,{style:[T.container,a.ListItem.small.shortHeightStyle],children:[(0,n.jsxs)(r.View,{style:y.default.flexOne,children:[o,d]}),(0,n.jsx)(u.HoverableButton,{style:y.default.noncollapsibleView,accessibilityTraits:[r.Types.AccessibilityTrait.Button,r.Types.AccessibilityTrait.HasPopup],onPress:this._onChangeLocationPress,accessibilityLabel:i,children:(0,n.jsx)(C.BodyText,{size:C.BodyTextSize.SmallDeprecated,style:T.changeLocationText,textThemeColor:C.TextThemeColor.Secondary,children:t})})]}),(0,n.jsx)(s.default,{})]})}}t.default=P},466585:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=i(77395),l=i(26703),c=o.__importStar(i(704704)),d=i(262725),u=(0,l.lazyProperties)({moreButton:()=>r.Styles.createButtonStyle({height:44})});class p extends a.ComponentBase{render(){const e=c.getString("DetailsPanelHeader.ShowMoreTitle");return(0,n.jsx)(r.View,{style:this.props.style,children:(0,n.jsx)(s.HoverableButton,{style:u.moreButton,accessibilityLabel:this.props.accessibilityLabel||e,accessibilityTraits:r.Types.AccessibilityTrait.Button,onPress:this.props.onPress,children:(0,n.jsx)(d.Caption,{children:e})})})}}t.default=p},999120:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=(o.__importStar(i(720415)),o.__importDefault(i(206483))),a=o.__importDefault(i(958868)),s=i(154235),l=o.__importStar(i(704704)),c=o.__importDefault(i(95114)),d=i(641400),u=i(483877),p=o.__importDefault(i(196374)),g=i(815146),h=o.__importDefault(i(855191)),m=o.__importDefault(i(363091));class S extends a.default{constructor(){super(...arguments),this._handleSignOutFromAllDevicesButtonPress=()=>{const e=[{text:l.getString("SignOutConfirmation.SignOutTitle"),onPress:()=>o.__awaiter(this,void 0,void 0,(function*(){(yield p.default.signOutFromAllSessions())?h.default.redirectToLogout(g.LogoutReason.SignOutFromAllDevices,!0,!1,this._getRootViewId()):this._showFailureAlert()})),isSubmit:!0},{text:l.getString("Global.CancelLabel"),isCancel:!0}],t=l.getString("MyProfilePanel.SignOutFromAllDevicesButtonTitle"),i=l.getString("SignOutConfirmation.SignOutFromAllDevicesExplanation"),n=this._getRootViewId();r.default.showWithOptions({title:t,dialogAccessibilityTitle:t,message:i,buttons:e,rootViewId:n})},this._showFailureAlert=()=>{const e=l.getString("PhoneAuth.InvalidSkypeIdOrEmailAlertTitle"),t=l.getString("ConfirmationDialog.ReportFailMessage");r.default.showErrorAlertWithOptions({errorText:t,errorTitle:e,dialogAccessibilityTitle:e,rootViewId:s.MainRootViewId})}}_buildState(e,t){return{isPhoneAuthUser:m.default.isPhoneAuthUser()}}componentDidMount(){super.componentDidMount(),this.state.isPhoneAuthUser&&this._getPhoneAuthActiveSessions()}render(){if(!this.state.isPhoneAuthUser||!this.state.activePhoneAuthSessions)return null;const e=l.getString("MyProfilePanel.SignOutFromAllDevicesButtonTitle");return(0,n.jsx)(u.WideButton,{icon:d.SkypeIcon.PhoneLaptop,label:e,labelStyle:c.default.titleMediumSemiLarge,buttonStyles:s.ListItem.small.shortHeightStyle,labelBottom:l.getString("MyProfilePanel.SignOutFromAllDevicesButtonSubtitle",{count:this.state.activePhoneAuthSessions}),onPressed:this._handleSignOutFromAllDevicesButtonPress,hideArrow:!0},"signOutFromAllDevices")}_getPhoneAuthActiveSessions(){return o.__awaiter(this,void 0,void 0,(function*(){const e=yield p.default.getActiveSessionCount();this.setState({activePhoneAuthSessions:e})}))}}t.default=S},846757:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(395298)),l=i(134894),c=o.__importDefault(i(389659)),d=i(413686),u=i(815146),p=o.__importDefault(i(174042)),g=o.__importStar(i(85385)),h=i(26703),m=o.__importDefault(i(432091)),S=o.__importStar(i(963369)),_=o.__importStar(i(704704)),f=o.__importDefault(i(201721)),y=o.__importDefault(i(740794)),C=i(812822),v=o.__importDefault(i(942724)),b=o.__importDefault(i(690051)),T=i(884853),P=o.__importDefault(i(95114)),k=i(16549),A=o.__importDefault(i(139221)),I=o.__importDefault(i(20758)),w=i(641400),x=o.__importDefault(i(827361)),N=i(960615),D=i(262725),M=o.__importDefault(i(497910)),L=o.__importDefault(i(760989)),R=o.__importDefault(i(247286)),E=(0,h.lazyProperties)({refreshSyncContainer:()=>a.Styles.createViewStyle({flexGrow:0,flexShrink:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}),customCaptionStyle:()=>a.Styles.createViewStyle({flexGrow:0,flexShrink:1,flexDirection:"row",marginRight:0,marginTop:5}),refreshButtonTitle:()=>a.Styles.createTextStyle({marginHorizontal:5}),refreshButtonContainer:()=>a.Styles.createViewStyle({height:25}),syncContainer:()=>a.Styles.createViewStyle({flex:1,flexDirection:"row",marginTop:5,marginBottom:5,paddingRight:5,height:15}),refreshSyncContainerWithLastSyncTime:()=>a.Styles.createViewStyle({paddingLeft:10}),subtitleContainer:()=>a.Styles.createViewStyle({flex:1,flexDirection:"row"})});class B extends M.default{constructor(){super(...arguments),this._onRefreshPress=e=>{this.setState({isSyncingContacts:!0}),m.default.syncLocalAddressBook(!1,!0),l.ContactsTelemetryHelper.syncABContactsRefreshClicked()},this._onChangeSyncAddressBook=(e,t)=>{const i=L.default.newCauseId();g.log(u.LogTraceArea.Navigation,"SyncAddressBookButton._onChangeSyncAddressBook causeId: "+i),this.state.syncAddressBookEnabled!==t&&(t?this.state.isUsingStackNavigationContext?y.default.navigateToSyncAddressBook({origin:d.DialogNavOrigin.Settings,hideSkipButton:!0,hideCloseButton:!1},void 0,this._getRootViewId()):y.default.navigateToDesktopSettingsGroup(C.SettingsGroup.SyncAddressBook,this._getRootViewId(),i):b.default.setSyncAddressBookPrivacySetting(t))}}_buildState(e,t){const i=f.default.getUserPreferencesLocal().lastAddressbookSyncTime;return{syncAddressBookEnabled:b.default.getSyncAddressBookPrivacySetting(),isUsingStackNavigationContext:v.default.isUsingStackNavigationContext(),lastSyncTime:i,isSyncingContacts:m.default.isFetching(),isRefreshDisabled:!r.isUndefined(i)&&!(Date.now()-i>18e5),isUserChild:R.default.isChild()}}render(){if(!S.isAddressBookEnabled()||this.state.isUserChild)return null;let e="";if(this.state.lastSyncTime){const t=c.default.getLastSyncTime(this.state.lastSyncTime);e=_.getString("UserSettingsPanel.SyncAddressBookSubtitle")+t}const t=""!==e,i=a.Styles.createTextStyle({color:this.state.isRefreshDisabled?this._themeColors.secondaryTextColor:k.Color.blue},!1),o=[x.default.noncollapsibleView,E.refreshButtonContainer,t?E.refreshSyncContainerWithLastSyncTime:void 0],r=(0,n.jsx)(p.default,{size:w.IconSize.size12,color:this.state.isRefreshDisabled?this._themeColors.secondaryTextColor:k.Color.blue,icon:w.SkypeIcon.Refresh,title:_.getString("InAppWebBrowser.RefreshTitle"),accessibilityLabel:_.getString("SyncAddressBookDialog.RefreshContacts")+(e?", "+e:""),titleStyle:[I.default.captionFontStyle(this._currentTheme),i,E.refreshButtonTitle],onPress:this._onRefreshPress,style:o,disabled:this.state.isRefreshDisabled}),l=(0,n.jsxs)(a.View,{style:[E.subtitleContainer,t?E.refreshSyncContainerWithLastSyncTime:void 0],accessibilityLabel:_.getString("SyncAddressBookDialog.SyncingContacts"),children:[(0,n.jsx)(a.View,{style:E.syncContainer,children:(0,n.jsx)(N.SyncIndicator,{size:15,color:k.Color.transparent,indicatorColor:this._themeColors.secondaryTextColor,largeIndicator:!0})}),(0,n.jsx)(a.View,{style:E.syncContainer,children:(0,n.jsx)(D.Caption,{children:_.getString("UserSettingsPanel.Syncing")})})]}),d=this.state.isSyncingContacts?l:r,u=A.default.isElectronOsx()&&this.state.syncAddressBookEnabled?(0,n.jsxs)(a.View,{style:E.subtitleContainer,children:[(0,n.jsx)(D.Caption,{style:[P.default.subtitleMediumSemiLarge,E.customCaptionStyle],children:e}),(0,n.jsx)(a.View,{style:E.refreshSyncContainer,children:d})]}):void 0,g=_.getString("UserSettingsPanel.SyncAddressBook");return(0,n.jsx)(a.View,{children:(0,n.jsx)(s.default,{style:[P.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.syncAddressBookEnabled,accessibilityLabel:g+(e?", "+e:""),onChange:this._onChangeSyncAddressBook,children:(0,n.jsxs)(a.View,{style:x.default.flexOne,children:[(0,n.jsx)(T.SwitchLabel,{title:g}),u]})},"syncAddressBook")})}}t.default=B},369983:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(85385)),s=o.__importStar(i(704704)),l=o.__importDefault(i(201721)),c=o.__importDefault(i(341994)),d=o.__importDefault(i(95114)),u=o.__importDefault(i(497910)),p=(o.__importDefault(i(827361)),i(342561)),g=o.__importDefault(i(150343)),h=o.__importDefault(i(340724)),m=i(815146),S=i(26703),_=o.__importStar(i(50350)),f=i(262725),y=i(843890),C=i(483877),v=i(483753),b=(0,S.lazyProperties)({switchStyle:()=>r.Styles.createViewStyle({marginBottom:15})});class T extends u.default{constructor(){super(...arguments),this._onTelemetryConsentToggle=e=>{const t=!this.state.telemetryConsentGiven;c.default.setOptionalTelemetryPreferences({enabled:t,onboardingCompleted:!0}),a.track(new p.SendFullTelemetryEvent(t,p.SendFullTelemetryOrigin.ApplicationSettings))},this._onLearnMoreLinkPress=()=>{_.openUrlWithParams({origin:m.BrowserOrigin.TelemetryConsentSettingsDescription,url:g.default.getConfigSettingsNoSubscription().telemetryInfoUrl.url,rootViewId:this._getRootViewId()})}}_buildState(e,t){return{telemetryConsentGiven:l.default.shouldSendOptionalTelemetryData(),telemetryInfoUrl:g.default.getConfigSettingsNoSubscription().telemetryInfoUrl.url}}render(){const e=s.getString("UserSettingsPanel.TelemetryConsentSwitch"),t=s.getString("UserSettingsPanel.TelemetryConsentSwitchLearnMoreLinkText"),i=this._getLearnMoreLink(),o=this._getConsentValue(),a=h.default.combinedAccessibilityLabel(e,o),l=s.getParts("UserSettingsPanel.TelemetryConsentSwitchDescription",{learnMoreLink:i}),c=h.default.linkAccessibilityInfo(s.getString("UserSettingsPanel.TelemetryConsentSwitchDescription",{learnMoreLink:t}));return(0,n.jsxs)(r.View,{style:b.switchStyle,children:[(0,n.jsx)(C.WideButton,{label:e,accessibilityLabel:a,labelRight:o,onPressed:this._onTelemetryConsentToggle,labelNumberOfLines:3,disabled:!y.UICapabilities.telemetryConsentOptOutSupported(),showFullOpacityWhenDisabled:!0,hideDivider:!0}),(0,n.jsx)(r.View,{accessibilityLabel:c.label,accessibilityTraits:c.traits,importantForAccessibility:void 0,onPress:void 0,children:(0,n.jsx)(f.Caption,{style:d.default.subtitleMediumSemiLarge,children:l})})]},"diagnosticInfoPanel")}_getLearnMoreLink(){return(0,n.jsx)(v.AccessibleLink,{url:this.state.telemetryInfoUrl,textElement:f.Caption,correctiveMargin:-3,children:s.getString("Global.LearnMore")},"telemetryInfo")}_getConsentValue(){return this.state.telemetryConsentGiven?s.getString("CallingSettingsPanel.Enabled"):s.getString("CallingSettingsPanel.Disabled")}}t.default=T},833843:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(667294),s=o.__importDefault(i(395298)),l=o.__importDefault(i(340724)),c=o.__importStar(i(85385)),d=i(26703),u=i(351947),p=o.__importDefault(i(201721)),g=i(884853),h=o.__importDefault(i(95114)),m=i(526849),S=i(704704),_=(0,d.lazyProperties)({noBorder:()=>r.Styles.createViewStyle({borderBottomWidth:0})});t.default=(0,m.WithResub)((({todayTabToggleButtonEnabled:e})=>{const t=(0,S.getString)("UserSettingsPanel.EnableTodayTab"),i=(0,S.getString)("UserSettingsPanel.EnableTodayTabDescription"),o=(0,a.useCallback)(((e,t)=>{p.default.setUserPreferencesLocal({todayTabToggleButtonEnabled:t}),c.track(new u.TodayTabToggleSetting(t))}),[]);return(0,n.jsx)(s.default,{style:[h.default.controlRow,_.noBorder],isOn:e,accessibilityLabel:l.default.combinedAccessibilityLabel(t,i),onChange:o,children:(0,n.jsx)(g.SwitchLabel,{title:t,subtitle:i})},"lastMessageAuthorAvatar")}),(e=>Object.assign(Object.assign({},e),{todayTabToggleButtonEnabled:p.default.getTodayTabToggledButtonSwitchedOn()})))},262657:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=o.__importDefault(i(395298)),s=o.__importDefault(i(340724)),l=o.__importStar(i(704704)),c=o.__importDefault(i(341994)),d=i(884853),u=o.__importDefault(i(95114)),p=i(526849);t.default=(0,p.WithResub)((function({isEnabled:e}){const t=l.getString("UserSettingsPanel.EnableToneRewrite"),i=l.getString("UserSettingsPanel.EnableToneRewriteDescription"),o=(0,r.useCallback)(((e,t)=>{c.default.setToneRewriteSuggestionsEnabled(t)}),[]);return(0,n.jsx)(a.default,{style:[u.default.controlRow,u.default.controlRowWithNoBorder],isOn:e,accessibilityLabel:s.default.combinedAccessibilityLabel(t,i),onChange:o,children:(0,n.jsx)(d.SwitchLabel,{title:t,subtitle:i})})}),(()=>({isEnabled:c.default.getToneRewriteSuggestionsEnabled()})))},693881:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(150343)),a=o.__importStar(i(94534)),s=o.__importDefault(i(599526)),l=o.__importStar(i(704704)),c=o.__importDefault(i(341994)),d=o.__importDefault(i(497910)),u=o.__importDefault(i(740794)),p=o.__importDefault(i(688794)),g="default";class h extends d.default{constructor(){super(...arguments),this._onPress=()=>{u.default.navigateToSpokenLanguagePicker(!1,this._getRootViewId(),!1,void 0)},this._getSelectedItemDefaultText=()=>{var e;return null!==(e=this.props.selectOptionText)&&void 0!==e?e:l.getString("CallSubtitleToast.SpokenLanguageDropdownOptionDefaultText")},this._getSelectedItemLabel=()=>{var e;return(null===(e=this.state.items.find((e=>e.value===this.state.spokenLanguageLocale)))||void 0===e?void 0:e.label)||this._getSelectedItemDefaultText()},this._isSelected=e=>e===this.state.spokenLanguageLocale}_buildState(e){const t=r.default.getS4LCMCFeatures().callTranslatorBotConfig.languageSupport.speech,i=l.getLanguageFromLocale();return{items:[...t].sort(((e,t)=>{const o=this._getLanguageShortNameFromLocale(e),n=this._getLanguageShortNameFromLocale(t);return o.localeCompare(n,i)})).map((e=>{const t=a.getLanguageTitle(e);return""!==t?{label:t,value:e}:void 0})).filter((e=>void 0!==e)),spokenLanguageLocale:e.showSelectOption?g:c.default.getCallTranslatorBotSpokenLanguageLocale()}}render(){return r.default.getS4LCMCFeaturesNoSubscription().enableNewLanguageSelectors?(0,n.jsx)(p.default,{label:l.getString("LanguageAndTranslationSettingsPanel.SpokenLanguageLabel"),captionText:this._getCaption(),onPress:this._onPress,activeLabel:a.getShortLanguageTitle(this.state.spokenLanguageLocale||g),hideDivider:!0}):(0,n.jsx)(s.default,{id:"spokenLanguagePicker",items:this.state.items,rowTitle:this._getRowTitle(),caption:this._getCaption(),isItemSelected:this._isSelected,onHandleItemSelection:this.props.onHandleMenuCommand,selectedItemLabel:this._getSelectedItemLabel(),style:this.props.style,labelColor:this.props.labelColor})}_getLanguageShortNameFromLocale(e){const t=a.getShortLanguageTitle(e);return null!=t?t:e}_getRowTitle(){return this.props.showRowTitle?l.getString("LanguageAndTranslationSettingsPanel.SpokenLanguageLabel"):void 0}_getCaption(){if(this.props.showCaption)return r.default.getS4LCMCFeaturesNoSubscription().enableMessageTranslation?l.getString("SubtitlesSettingsPanel.SpokenLanguageNewExplanation"):l.getString("LanguageAndTranslationSettingsPanel.SpokenLanguageExplanation")}}t.default=h},818481:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(148540),l=o.__importStar(i(317588)),c=o.__importDefault(i(150343)),d=o.__importStar(i(433035)),u=o.__importDefault(i(369347)),p=o.__importStar(i(873324)),g=o.__importDefault(i(358911)),h=i(315742),m=o.__importDefault(i(958868)),S=i(815146),_=i(609099),f=o.__importDefault(i(532016)),y=o.__importDefault(i(606617)),C=o.__importDefault(i(453761)),v=o.__importDefault(i(970035)),b=o.__importStar(i(85385)),T=o.__importDefault(i(114818)),P=i(26703),k=o.__importStar(i(704704)),A=o.__importDefault(i(341994)),I=o.__importDefault(i(201721)),w=o.__importDefault(i(740794)),x=i(16549),N=o.__importDefault(i(20758)),D=i(641400),M=o.__importDefault(i(827361)),L=i(262725),R=o.__importDefault(i(497910)),E=i(444256),B=i(920440),O=70,F=50;var V;!function(e){e[e.merged=0]="merged",e[e.compact=1]="compact",e[e.full=2]="full",e[e.onboarding=3]="onboarding"}(V||(V={}));const U=[{label:k.getString("AudioVideoSettings.CameraBackgroundReplacementNone"),effectType:s.VideoEffectType.Off,value:S.BackgroundEffect.Off},{label:k.getString("AudioVideoSettings.CameraBackgroundReplacementBlur"),effectType:s.VideoEffectType.BackgroundBlurDefault,value:S.BackgroundEffect.Blur}],j=[d.BING_CATEGORY_NAME],H=(0,P.lazyProperties)({itemButtonWrapper:()=>a.Styles.createViewStyle({overflow:"visible"}),category:()=>a.Styles.createViewStyle({marginBottom:0}),sectionBackgroundReplacementTitle:()=>a.Styles.createTextStyle({marginBottom:10,fontSize:N.default.controlFontSize.tabHeaderSmall}),itemSize:()=>a.Styles.createViewStyle({width:O,height:F}),itemWrapper:()=>a.Styles.createViewStyle({borderRadius:4,borderWidth:1,alignItems:"center",justifyContent:"center",marginBottom:5}),itemContainer:()=>a.Styles.createViewStyle({maxWidth:O,justifyContent:"center",marginBottom:10,marginRight:10}),itemWrapperSelected:()=>a.Styles.createViewStyle({borderColor:x.Color.blue}),categories:()=>a.Styles.createViewStyle({marginBottom:10}),itemsContainerRow:()=>a.Styles.createViewStyle({flexDirection:"row",flexWrap:"wrap",flex:1,marginBottom:5,overflow:"visible"}),bingSettingContainerRow:()=>a.Styles.createViewStyle({flexDirection:"row",flexWrap:"nowrap",alignItems:"stretch",flex:1,borderRadius:3,borderWidth:1,padding:8,marginBottom:15}),bingSettingsWrapper:()=>a.Styles.createViewStyle({flexDirection:"row",flexWrap:"nowrap",alignItems:"stretch",flexGrow:1}),bingSettingsImgContainer:()=>a.Styles.createViewStyle({borderRadius:3,borderWidth:1,alignItems:"center",justifyContent:"center",maxWidth:O,marginRight:8}),bingSettingsTextContainer:()=>a.Styles.createViewStyle({flexGrow:1,marginRight:8,paddingVertical:0,flexDirection:"column",alignItems:"flex-start"}),bingSettingsTextCaptionContainer:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"flex-start"}),bingSettingsTextCaption:()=>a.Styles.createViewStyle({marginTop:8}),bingSettingsTextContainerFont:()=>a.Styles.createTextStyle({fontSize:N.default.controlFontSize.tabHeaderSmall,fontWeight:"bold"}),itemContainerExtraMargin:()=>a.Styles.createViewStyle({marginBottom:100}),itemContainerExtraAndTooltipMargin:()=>a.Styles.createViewStyle({marginBottom:170}),itemLabel:()=>a.Styles.createTextStyle({textAlign:"center"}),removeIconWrapper:()=>a.Styles.createViewStyle({position:"absolute",top:4,right:14,backgroundColor:x.Color.blackOverlay35,borderRadius:D.IconSize.size12/2,borderStyle:"solid",borderWidth:1,borderColor:x.Color.white,alignItems:"center",justifyContent:"center",width:D.IconSize.size12,height:D.IconSize.size12}),blurLabelStyle:()=>a.Styles.createTextStyle({position:"absolute",bottom:0,width:O,paddingVertical:2,backgroundColor:x.Color.blackOverlay35,color:x.Color.white,textAlign:"center",fontSize:11}),bingLabelStyle:()=>a.Styles.createViewStyle({position:"absolute",bottom:0,width:O,paddingTop:2,paddingBottom:1,backgroundColor:x.Color.blackOverlay35,alignContent:"center",alignItems:"center"}),bingCoachmarkStyle:()=>a.Styles.createViewStyle({position:"absolute",top:F}),bingLabelLogoStyle:()=>a.Styles.createViewStyle({width:11,height:16}),itemImageWrapper:()=>a.Styles.createViewStyle({position:"relative"}),GIFIcon:()=>a.Styles.createViewStyle({position:"absolute",bottom:5,left:5}),bingWatermarkStyle:()=>a.Styles.createTextStyle({position:"absolute",flexDirection:"row",alignContent:"center",bottom:0,width:O,paddingBottom:2,paddingHorizontal:4}),itemBingWatermark:()=>a.Styles.createTextStyle({height:10,width:61}),bingArrow:()=>a.Styles.createViewStyle({borderRadius:8,borderWidth:1,padding:3,height:16,width:16,borderColor:x.Color.gray300,alignItems:"center",alignContent:"center"}),bingArrowContainer:()=>a.Styles.createViewStyle({padding:8,marginLeft:8})});class W extends m.default{constructor(){super(...arguments),this._displayVideoIcon=e=>"MP4"===e||"MOV"===e||"GIF"===e,this._createFileUrl=e=>{var t,i;if(!e.imagePath)return;const o=(0,E.getCompressType)(e.imagePath);if(null===(t=e.thumbnail)||void 0===t?void 0:t.data){const t=(0,B.convertRawDataToBlob)(e.thumbnail.data,null===(i=e.thumbnail)||void 0===i?void 0:i.mimeType);this.setState({imageUri:URL.createObjectURL(t),compressFormat:o})}else(0,E.getThumbnailFromImageFilePath)(e.imagePath,O,0,o).then((e=>this.setState({imageUri:e.imageUri,compressFormat:o})))}}componentDidMount(){super.componentDidMount(),this._createFileUrl(this.props.item)}render(){return this.state.imageUri?(0,n.jsxs)(a.View,{style:[H.itemImageWrapper,H.itemSize],children:[(0,n.jsx)(a.Image,{source:this.state.imageUri,style:H.itemSize,resizeMode:"cover"}),this._displayVideoIcon(this.state.compressFormat)&&(0,n.jsx)(v.default,{style:H.GIFIcon,color:x.Color.white,icon:D.SkypeIcon.VideoFilled,size:D.IconSize.size14})]}):null}}class z extends R.default{constructor(){super(...arguments),this._getGroupedItems=()=>{const{lastUsedBackgroundEffects:e,items:t}=this.state,{true:i,false:o}=r.groupBy(t,(t=>r.includes(e,t.value))),n=c.default.getS4LCMCFeaturesNoSubscription().numberOfVisibleLastUsedEffects;return[...r.slice(r.sortBy(r.filter(o,(e=>r.isNumber(e.order))),(e=>e.order)),0,n-r.size(i)),...null!=i?i:[]]},this._renderContent=()=>{switch(this.state.layoutType){case V.full:return this._renderCategories();case V.compact:const e=[...this.state.cameraEffects,...this._getBingBackgroundsMenuItem(),...r.filter(this.state.items,(e=>r.includes(this.state.lastUsedBackgroundEffects,e.value)&&!r.includes(j,e.category)))];return this._renderList(e,!0,!0,!1);case V.onboarding:const t=[...this.state.cameraEffects,...this._getBingBackgroundsMenuItem(),...r.sortBy(r.filter(this.state.items,(e=>r.isNumber(e.order)&&!r.includes(j,e.category))),(e=>e.order))];return this._renderList(t,!1,!1);case V.merged:default:return this._renderList(this.state.items)}},this._renderCategories=()=>(0,n.jsx)(a.View,{style:H.categories,children:this.state.backgroundCategories.map((e=>{var t;const i=null===(t=this.state.itemsByCategory)||void 0===t?void 0:t[e];return i?(0,n.jsxs)(a.View,{style:H.category,children:[(0,n.jsx)(L.RowTitle,{colorThemeOverride:this._currentTheme,style:H.sectionBackgroundReplacementTitle,children:this._getLocalizedStringByCategory(e)}),this._renderList(i,"myBackgrounds"===e,!1,e===d.BING_CATEGORY_NAME)]},e):null}))}),this._renderList=(e,t=!0,i=!1,o=!1)=>{const s=o?r.orderBy(e,(e=>e.order)):r.clone(e);return(0,n.jsxs)(a.View,{style:H.itemsContainerRow,children:[s&&s.map((e=>this._renderItem(e))),t&&this._renderAddButton(i),this._renderTooltips()]})},this._renderItem=e=>{const{isNewBackgroundEffectsLayoutEnabled:t}=this.state,i=[H.itemWrapper,H.itemSize,this._themeStyles.dividerBorderColorStyle],o=[H.itemLabel,N.default.captionFontStyle()];return e.value===this.state.selectedItem&&(i.push(H.itemWrapperSelected),o.push(N.default.selectedCaptionFontStyle())),(0,n.jsxs)(a.View,{style:H.itemButtonWrapper,children:[(0,n.jsxs)(a.Button,{accessibilityLabel:e.label,importantForAccessibility:a.Types.ImportantForAccessibility.NoHideDescendants,accessibilityTraits:a.Types.AccessibilityTrait.Button,onPress:t=>{this._onPress(t,e)},style:H.itemContainer,children:[(0,n.jsx)(a.View,{style:i,children:this._renderItemContent(e)}),!t&&(0,n.jsx)(a.Text,{ellipsizeMode:"tail",numberOfLines:1,style:o,children:y.default.extractFileName(e.label)})]}),this._renderItemRemove(e)]},e.value)},this._onBackgroundChangePress=e=>{_.FilePickerUtils.showSingleFilePicker((e=>{const t=null==e?void 0:e.file;if(t){const i=t.path||e.path||void 0,o=f.default.getBackgroundEffectPrefix(i),n={label:t.name,effectType:s.VideoEffectType.BackgroundReplacement,imagePath:i,category:"myBackgrounds",value:o};if(r.some(this.state.items,{value:o}))return;this.state.isVideoBackgroundEffectsEnabled?(0,E.getImageOrVideoThumbnail)(URL.createObjectURL(t),e.extension,O,F).then((e=>{(null==e?void 0:e.rawData)&&(null==e?void 0:e.mimeType)&&(n.thumbnail={data:null==e?void 0:e.rawData,mimeType:null==e?void 0:e.mimeType},this._trackItem(n),this._changeCameraEffect(n))})).catch((()=>{this._trackItem(n),this._changeCameraEffect(n)})):(this._trackItem(n),this._changeCameraEffect(n))}}),this._getRootViewId(),e,{acceptType:this.state.isVideoBackgroundEffectsEnabled?_.FilePickerAcceptType.ImageOrVideo:_.FilePickerAcceptType.Image})},this._navigateToBackgroundEffectsList=()=>{w.default.navigateToBackgroundEffectsSettings(this._getRootViewId())}}_buildState(e,t){const i={},o=f.default.getAllBackgroundEffectsFiles(),n=r.map(o,(({localFileName:e,localUri:t,originalUrl:i,category:o,order:n,thumbnail:r},a)=>({label:e,effectType:s.VideoEffectType.BackgroundReplacement,imagePath:t,value:a,isPredefinedImage:o===d.BING_CATEGORY_NAME||!!i,category:o||(i?"myBackgrounds":"skypebackgroundimage"),order:n,thumbnail:r}))),a=c.default.getS4LCMCFeatures();if(i.isNewBackgroundEffectsLayoutEnabled=a.enableNewBackgroundEffectsLayout,i.isBackgroundEffectsCategoriesEnabled=a.enableBackgroundEffectsCategories,i.isVideoBackgroundEffectsEnabled=a.enableVideoBackgroundEffects,i.backgroundCategories=a.backgroundCategories,i.layoutType=this._getLayoutType(i.isBackgroundEffectsCategoriesEnabled,e.fullList),i.lastUsedBackgroundEffects=I.default.getLastUsedBackgroundEffects(),i.cameraEffects=U,i.items=[...i.cameraEffects,...r.sortBy(n,{isPredefinedImage:!1})],i.itemsByCategory=r.groupBy(n,"category"),i.activeCallId=u.default.CallingStore.getConnectedOrOutgoingAndNotOnHoldCallId(),i.selectedItem=u.default.DeviceStore.getBackgroundEffectType(),i.selectedItem){const e=d.default.getImageIsoDateFromId(i.selectedItem);i.isBingPictureOfDayBgSelected=!!e}else i.isBingPictureOfDayBgSelected=!1;return i.isBingPictureofDayBgTooltipDismissed=A.default.getBingBackgroundsEffectDismissed(),i.isBingPictureOfDayBgLoaded=r.filter(n,(e=>e.category===d.BING_CATEGORY_NAME)).length>0,i}componentDidMount(){super.componentDidMount();const e=this.state.items.filter((e=>e.value===this.state.selectedItem))[0],t=this._getGroupedItems().map((e=>e.value));I.default.setAllLastUsedBackgroundEffects(t),e&&this._changeCameraEffect(e)}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),!(0,T.default)(this.state.items,t.items)||t.selectedItem!==this.state.selectedItem){const e=this.state.items.filter((e=>e.value===this.state.selectedItem))[0];e&&this._changeCameraEffect(e)}}render(){const e=[M.default.flexOne,M.default.overflowVisible];return this.props.isInOnboarding&&(this._isTooltipVisible()?e.push(H.itemContainerExtraAndTooltipMargin):e.push(H.itemContainerExtraMargin)),(0,n.jsx)(a.View,{style:e,children:this._renderContent()})}_getBingItem(){const e=r.filter(this.state.items,(e=>e.category===d.BING_CATEGORY_NAME));if(0!==e.length)return e[0]}_getBingBackgroundsMenuItem(){const e=c.default.getS4LCMCFeaturesNoSubscription().bingBackgrounds,t=this._getBingItem();return t&&e.showInSettings?[t]:[]}_enableBingBackgroundEffect(){const e=this._getBingItem();e&&this._onPress(void 0,e)}_getBingBackgroundsEffectTooltip(){const e={y:0,x:160,width:O,height:F},t=[{title:k.getString("AudioVideoSettings.BackgroundEffectBingCoachMarkDismiss"),closeOnClick:!0,onClick:e=>{A.default.setBingBackgroundsEffectDismissed(!0),this.setState({isBingPictureofDayBgTooltipDismissed:!0})}},{title:k.getString("AudioVideoSettings.BackgroundEffectBingCoachMarkTurnOn"),closeOnClick:!0,onClick:e=>{this._enableBingBackgroundEffect(),A.default.setBingBackgroundsEffectDismissed(!0),this.setState({isBingPictureofDayBgTooltipDismissed:!0})}}];return(0,n.jsx)(g.default,{id:"bingtooltip",title:k.getString("AudioVideoSettings.BackgroundEffectCategoryBing"),body:[k.getString("AudioVideoSettings.BackgroundEffectBingCoachMarkText")],getElement:()=>{},positions:[h.PopupAnchorPositon.Bottom],anchorAccessibilityLabel:"Title",onPress:this.props.onPress,anchorInfoOverride:e,widthOverride:236,buttonOverrides:t})}_isTooltipVisible(){return!this.state.isBingPictureofDayBgTooltipDismissed&&this.state.isBingPictureOfDayBgLoaded&&(this.state.layoutType===V.compact||this.state.layoutType===V.onboarding)}_renderTooltips(){const e=[];return this._isTooltipVisible()&&e.push(this._getBingBackgroundsEffectTooltip()),e}_renderItemRemove(e){if(!e.isPredefinedImage&&!r.includes([s.VideoEffectType.Off,s.VideoEffectType.BackgroundBlurDefault],e.effectType))return(0,n.jsx)(a.View,{style:H.removeIconWrapper,children:(0,n.jsx)(C.default,{icon:D.SkypeIcon.ClosePanel,color:x.Color.white,hoverColor:x.Color.white,size:D.IconSize.size8,onPress:()=>this._onItemRemove(e.value),title:k.getString("MediaPreview.RemoveItem",{fileName:e.label})})})}_renderAddButton(e=!1){const{isNewBackgroundEffectsLayoutEnabled:t,isVideoBackgroundEffectsEnabled:i}=this.state,{secondaryBackgroundColorStyle:o,dividerBorderColorStyle:r}=this._themeStyles;return(0,n.jsxs)(a.Button,{accessibilityLabel:k.getString("AudioVideoSettings.AddMoreMedia"),onPress:e?this._navigateToBackgroundEffectsList:this._onBackgroundChangePress,style:H.itemContainer,children:[(0,n.jsx)(a.View,{style:[H.itemWrapper,H.itemSize,o,r],children:(0,n.jsx)(v.default,{color:this._themeColors.iconDisabledColor,icon:e?D.SkypeIcon.More:D.SkypeIcon.Plus,size:D.IconSize.size18})}),!t&&(0,n.jsx)(a.Text,{ellipsizeMode:"tail",numberOfLines:1,style:[H.itemLabel,N.default.captionFontStyle()],children:i?k.getString("AudioVideoSettings.AddMedia"):k.getString("AudioVideoSettings.AddImage")})]})}_renderItemContent(e){if(e.effectType===s.VideoEffectType.Off)return(0,n.jsx)(v.default,{color:this._themeColors.iconDisabledColor,icon:D.SkypeIcon.PresenceBlocked,size:D.IconSize.size18});if(e.effectType===s.VideoEffectType.BackgroundBlurDefault){const t=(0,n.jsx)(a.Image,{source:l.Collection.OFFICE_BLUR_BACKGROUND,style:H.itemSize,resizeMode:"cover"},"CameraEffectBlurImage"),i=(0,n.jsx)(a.Text,{ellipsizeMode:"tail",numberOfLines:1,style:H.blurLabelStyle,children:y.default.extractFileName(e.label)},"CameraEffectBlurLabel");return this.state.isNewBackgroundEffectsLayoutEnabled?[t,i]:t}if(e.effectType===s.VideoEffectType.BackgroundReplacement&&e.category===d.BING_CATEGORY_NAME){return[(0,n.jsx)(W,{item:e},"BingImage"),(0,n.jsx)(a.View,{style:H.bingLabelStyle,children:(0,n.jsx)(a.Image,{source:l.Collection.BING_LOGO_SMALL,style:H.bingLabelLogoStyle,resizeMode:"cover"},"CameraEffectBingImage")},"CameraEffectBingLabel")]}return e.effectType===s.VideoEffectType.BackgroundReplacement?(0,n.jsx)(W,{item:e},"Image-"+e.label):null}_onItemRemove(e){f.default.removeTrackedFile(e),this._setBackgroundEffect(S.BackgroundEffect.Off)}_onPress(e,t){this._changeCameraEffect(t);const i=this._getEffectTypeFromVideoEffect(t.effectType);b.track(new p.BackgroundEffectsSettingsEvent(!!this.state.activeCallId,!!t.isPredefinedImage,i,t.isPredefinedImage?t.label:void 0,t.category))}_getEffectTypeFromVideoEffect(e){switch(e){case s.VideoEffectType.BackgroundReplacement:return S.BackgroundEffect.BackgroundImage;case s.VideoEffectType.BackgroundBlurDefault:return S.BackgroundEffect.Blur;case s.VideoEffectType.Off:default:return S.BackgroundEffect.Off}}_changeCameraEffect(e){e.effectType===s.VideoEffectType.BackgroundReplacement?(this._shouldSaveItemToHistory(e)&&I.default.setLastUsedBackgroundEffects(e.value),this._setBackgroundEffect(e.value)):this._setBackgroundEffect(this._getEffectTypeFromVideoEffect(e.effectType))}_shouldSaveItemToHistory(e){return!r.includes(j,e.category)}_setBackgroundEffect(e){u.default.DeviceStore.setBackgroundEffectType(e)}_trackItem(e){f.default.canTrackFiles()&&e.imagePath&&f.default.addFileInformationForTracking(e.value,e.imagePath,e.label,{category:e.category,thumbnail:e.thumbnail})}_getLocalizedStringByCategory(e){switch(e){case"myBackgrounds":return k.getString("AudioVideoSettings.BackgroundEffectCategoryMyBackgrounds");case"holidays":return k.getString("AudioVideoSettings.BackgroundEffectCategoryHolidays");case"movies":return k.getString("AudioVideoSettings.BackgroundEffectCategoryMovies");case"nature":return k.getString("AudioVideoSettings.BackgroundEffectCategoryNature");case"professional":return k.getString("AudioVideoSettings.BackgroundEffectCategoryProfessional");case"featured":return k.getString("AudioVideoSettings.BackgroundEffectCategoryFeatured");case"new":return k.getString("AudioVideoSettings.BackgroundEffectCategoryNew");case"fun":return k.getString("AudioVideoSettings.BackgroundEffectCategoryFun");case"colors":return k.getString("AudioVideoSettings.BackgroundEffectCategoryColors");case"textures":return k.getString("AudioVideoSettings.BackgroundEffectCategoryTextures");case"cultural":return k.getString("AudioVideoSettings.BackgroundEffectCategoryCultural");case"pride":return k.getString("AudioVideoSettings.BackgroundEffectCategoryPride");case"animated":return k.getString("AudioVideoSettings.BackgroundEffectCategoryAnimated");case"bing":return k.getString("AudioVideoSettings.BackgroundEffectCategoryBing");default:return k.getString("AudioVideoSettings.BackgroundEffectCategoryOther")}}_getLayoutType(e,t){return e?t?V.full:this.props.isInOnboarding?V.onboarding:V.compact:V.merged}}t.default=z},378473:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CameraSettingsSeparateWindowWidth=t.CameraSettingsStandardWidth=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(380157),s=o.__importStar(i(516778)),l=o.__importStar(i(397691)),c=o.__importStar(i(317588)),d=o.__importDefault(i(395298)),u=o.__importDefault(i(150343)),p=o.__importDefault(i(185247)),g=o.__importDefault(i(791106)),h=o.__importStar(i(235894)),m=o.__importDefault(i(433035)),S=o.__importStar(i(369347)),_=o.__importDefault(i(818481)),f=i(843890),y=i(815146),C=o.__importDefault(i(970035)),v=o.__importStar(i(85385)),b=i(26703),T=o.__importStar(i(704704)),P=o.__importDefault(i(351695)),k=o.__importDefault(i(251733)),A=o.__importDefault(i(246230)),I=i(884853),w=i(16549),x=o.__importDefault(i(139221)),N=o.__importDefault(i(20758)),D=o.__importDefault(i(827361)),M=i(641400),L=i(331079),R=i(262725),E=o.__importDefault(i(497910)),B=o.__importDefault(i(760989));t.CameraSettingsStandardWidth=440,t.CameraSettingsSeparateWindowWidth=410;const O=(0,b.lazyProperties)({sectionTitle:()=>s.Styles.createViewStyle({marginTop:20}),sectionBackgroundReplacementTitle:()=>s.Styles.createTextStyle({marginBottom:20,fontSize:N.default.controlFontSize.tabHeaderSmall}),videoPreviewContainer:()=>s.Styles.createViewStyle({backgroundColor:w.Color.black,marginBottom:20,alignSelf:"center",alignItems:"stretch",justifyContent:"center"}),videoPreviewContainerStandardSize:()=>s.Styles.createViewStyle({width:t.CameraSettingsStandardWidth,height:Math.round(t.CameraSettingsStandardWidth*(5/9))}),videoPreviewContainerWindowSize:()=>s.Styles.createViewStyle({width:t.CameraSettingsSeparateWindowWidth,height:Math.round(t.CameraSettingsSeparateWindowWidth*(5/9))}),toggleContainer:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center",marginBottom:5}),toggleText:()=>s.Styles.createTextStyle({flexGrow:1,flexShrink:1,marginRight:10}),webcamSettingsView:()=>s.Styles.createViewStyle({flex:1,marginBottom:20}),webcamSettingText:()=>s.Styles.createTextStyle({color:w.Color.blue}),videoPreviewBingInfo:()=>s.Styles.createViewStyle({position:"absolute",overflow:"hidden",alignItems:"flex-start",justifyContent:"flex-start",flexDirection:"row",left:5,top:5,backgroundColor:w.Color.blackOverlay50,borderRadius:4,paddingHorizontal:8,paddingVertical:5}),videoPreviewBingInfoIcon:()=>s.Styles.createViewStyle({height:16}),videoPreviewBingLogoInfoIcon:()=>s.Styles.createViewStyle({height:16,width:16}),videoPreviewBingInfoTextContainer:()=>s.Styles.createTextStyle({position:"absolute",overflow:"hidden",alignItems:"center",justifyContent:"center",flexDirection:"row",left:0,right:0,bottom:10}),videoPreviewBingInfoTextContainerStandardSize:()=>s.Styles.createViewStyle({maxWidth:t.CameraSettingsStandardWidth}),videoPreviewBingInfoTextContainerWindowSize:()=>s.Styles.createViewStyle({maxWidth:t.CameraSettingsSeparateWindowWidth}),videoPreviewBingInfoText:()=>s.Styles.createTextStyle({padding:3,fontSize:10,backgroundColor:w.Color.blackOverlay50,borderRadius:4,textAlign:"center",color:w.Color.white})});class F extends E.default{constructor(){super(...arguments),this._shouldStartVideoOnClose=!1,this._shouldShowNewBackgroundReplacement=()=>this.state.enableBackgroundReplacement&&this.props.showNewBackgroundReplacementUI,this._shouldStartVideo=()=>!!this._shouldStartVideoOnClose&&!this.props.skipVideoOnClose,this._openWebCamSetting=()=>{const e=this._getSelectedCamera();e&&S.default.DeviceStore.popupCameraSettings(e)},this._onCameraSelected=e=>{var t;const i=B.default.newCauseId();v.log(y.LogTraceArea.AVSettings,"_onCameraSelected "+e+" causeId: "+i),this.props.onCameraSelected&&this.props.onCameraSelected(e!==this._getSelectedCamera(),e),this.props.forceUpdateDefaultDevice?(e!==this.state.selectedCamera&&this.state.callId&&(S.default.CallingStore.isProvidingVideo(this.state.callId)||this.props.forceVideoOnClose)&&(this._shouldStartVideoOnClose=!0,null===(t=S.default.CallingStore.getLocalVideoState(this.state.callId))||void 0===t||t.setLocalVideoEnabled(!1)),S.default.DeviceStore.choosePreferredDevices({camera:e},i)):this.setState({selectedCameraForPreview:e})},this._onToggleBlur=(e,t)=>{this.props.onToggleBlur&&this.props.onToggleBlur(t),S.default.DeviceStore.setBackgroundEffectType(t?y.BackgroundEffect.Blur:y.BackgroundEffect.Off)},this._getSelectedCamera=()=>this.props.forceUpdateDefaultDevice?this.state.selectedCamera:this.state.selectedCameraForPreview}_buildState(e,t){const i=S.default.DeviceStore.getCurrentDevices(),o=u.default.getS4LCMCFeatures(),n=S.default.CallingStore.getConnectedAndNotOnHoldCallId(),r={cameras:S.default.DeviceStore.getCameras(),selectedCamera:null==i?void 0:i.camera,cameraPreviewSupported:f.CallingCapabilities.avSettingsCameraPreviewSupported()&&k.default.permissionStatus(L.PermissionType.Camera)===a.PermissionStatus.Granted,cameraPermissionStatus:k.default.permissionStatus(L.PermissionType.Camera),callId:n,backgroundBlurCapable:S.default.DeviceStore.isBackgroundBlurCapable(),backgroundBlurred:S.default.DeviceStore.isBackgroundBlurred(),hasConnectedCalls:S.default.CallingStore.hasConnectedCalls(),enableBackgroundReplacement:S.default.DeviceStore.isBackgroundReplacementEnabled(),showCameraIssuesText:o.cameraHelp.showCameraIssuesText,backgroundReplaceEffectId:S.default.DeviceStore.getBackgroundEffectType()};return t&&(r.selectedCameraForPreview=r.selectedCamera),r}componentDidMount(){if(super.componentDidMount(),this.state.cameras&&this.state.cameraPermissionStatus===a.PermissionStatus.Unknown){const e=L.PermissionPromptOptions.SkipPrePrompt|L.PermissionPromptOptions.PromptAgainIfDenied|L.PermissionPromptOptions.SkipAugmentedWebPanel;k.default.requestPermission(L.PermissionType.Camera,e,this.props.isInOnboarding?a.PermissionOrigin.OnboardingAVSettings:a.PermissionOrigin.AVSettings)}}componentWillUnmount(){super.componentWillUnmount();const e=B.default.newCauseId();v.log(y.LogTraceArea.AVSettings,"componentWillUnmount causeId: "+e),S.LocalStreamInfo.previewPromise.chainPromise((()=>{var e;return this._shouldStartVideo()&&this.state.callId&&(null===(e=S.default.CallingStore.getLocalVideoState(this.state.callId))||void 0===e||e.setLocalVideoEnabled(!0)),l.Resolved()}),"stop",e)}render(){let e,t,i,o,l,S,f,y,v;this.props.hideVideoLabel||this.props.isOutgoingVideoDisabled||this.props.isInOnboarding||(e=(0,n.jsx)(I.SectionTitle,{title:T.getString("AudioVideoSettings.VideoLabel"),titleStyles:O.sectionTitle,colorThemeOverride:this.props.colorThemeOverride},"videotitle")),this._shouldShowNewBackgroundReplacement()&&(t=(0,n.jsx)(R.RowTitle,{colorThemeOverride:this._currentTheme,style:O.sectionBackgroundReplacementTitle,children:T.getString("AudioVideoSettings.CameraBackgroundReplacementLabel")}),i=(0,n.jsx)(_.default,{isInOnboarding:this.props.isInOnboarding}));const b=h.formatDevicesForPicker(this.state.cameras),k=this._getSelectedCamera();if(this.props.isOutgoingVideoDisabled)l=(0,n.jsx)(g.default,{audioTitleKey:"AudioVideoSettings.OutgoingVideoDisabled",colorThemeOverride:this.props.colorThemeOverride});else if(r.isEmpty(b))l=(0,n.jsx)(g.default,{audioTitleKey:"AudioVideoSettings.CameraLabel",errorStringKey:"AudioVideoSettings.NoDevicePresent",errorIcon:M.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride});else if(this.props.isVideoDisabledDuringScreenSharing)l=(0,n.jsx)(g.default,{audioTitleKey:"AudioVideoSettings.CameraLabel",errorStringKey:"CallPanel.OutgoingVideoDisabledScreenSharing",errorIcon:M.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride});else{if(this.state.cameraPreviewSupported){const e=this.props.isInOnboarding?O.videoPreviewContainerStandardSize:O.videoPreviewContainerWindowSize,t=this.props.overrideVideoPreviewDimensions?s.Styles.createViewStyle({width:this.props.overrideVideoPreviewDimensions.width,height:this.props.overrideVideoPreviewDimensions.height}):void 0,i=this.props.overrideVideoPreviewDimensions?s.Styles.createViewStyle({maxWidth:this.props.overrideVideoPreviewDimensions.width},!1):this.props.isInOnboarding?O.videoPreviewBingInfoTextContainerStandardSize:O.videoPreviewBingInfoTextContainerWindowSize,r=[];if(this.state.backgroundReplaceEffectId){const e=u.default.getS4LCMCFeaturesNoSubscription().bingBackgrounds;if(m.default.getImageFromId(this.state.backgroundReplaceEffectId)){e.useBingLogoInsteadOfSearchIcon?r.push((0,n.jsx)(s.View,{style:O.videoPreviewBingInfo,children:(0,n.jsx)(s.Image,{source:c.Collection.BING_LOGO_SMALL,style:[O.videoPreviewBingInfoIcon,O.videoPreviewBingLogoInfoIcon],resizeMode:"cover"},"BingIcon")},"BingIconView")):r.push((0,n.jsx)(s.View,{style:O.videoPreviewBingInfo,children:(0,n.jsx)(C.default,{icon:M.SkypeIcon.Search,color:w.Color.white,size:M.IconSize.size16,style:O.videoPreviewBingInfoIcon},"SearchIcon")},"SearchIconView"));const t=T.getString("AudioVideoSettings.BackgroundEffectBingCameraTitle");r.push((0,n.jsx)(s.View,{accessibilityLabel:t,style:O.videoPreviewBingInfoTextContainer,children:(0,n.jsx)(s.Text,{style:[O.videoPreviewBingInfoText,i],children:t})},"BingFeatureLabel"))}}o=(0,n.jsxs)(s.View,{style:[O.videoPreviewContainer,e,t],children:[(0,n.jsx)(P.default,{nametag:"video_local_avSettings",device:k}),r]}),f=void 0,this.state.backgroundBlurCapable&&!this.state.enableBackgroundReplacement&&(v=(0,n.jsx)(d.default,{style:[O.toggleContainer],accessibilityLabel:T.getString("CallControls.CallMenuBlurBackground"),onChange:this._onToggleBlur,isOn:this.state.backgroundBlurred,children:(0,n.jsx)(R.BodyText,{style:O.toggleText,colorThemeOverride:this.props.colorThemeOverride,children:T.getString("CallControls.CallMenuBlurBackground")})}))}if(this.state.cameraPermissionStatus===a.PermissionStatus.Denied){const e=A.default.getDeniedPromptKey(L.PermissionType.Camera);e&&(S=(0,n.jsx)(g.default,{audioTitleKey:"AudioVideoSettings.CameraLabel",errorStringKey:e,errorIcon:M.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride}))}else l=(0,n.jsx)(p.default,{title:T.getString("AudioVideoSettings.CameraLabel"),items:b,onValueChange:this._onCameraSelected,labelMaxWidth:this.props.labelMaxWidth,selectedValue:k||"",colorThemeOverride:this.props.colorThemeOverride})}return x.default.isElectronWindows()&&k&&(y=(0,n.jsx)(s.Button,{style:O.webcamSettingsView,accessibilityLabel:T.getString("AudioVideoSettings.WebcamSettingsLabel"),onPress:this._openWebCamSetting,children:(0,n.jsx)(R.BodyText,{style:O.webcamSettingText,colorThemeOverride:this.props.colorThemeOverride,children:T.getString("AudioVideoSettings.WebcamSettingsLabel")})})),(0,n.jsxs)(s.View,{style:D.default.overflowVisible,children:[e,l,S,f,o,v,t,i,y]})}_getWebcamMayNotBePresentLabel(){return(0,n.jsx)(g.default,{audioTitleKey:void 0,errorStringKey:"AudioVideoSettings.WebcamMaybeNotPresent",errorIcon:M.SkypeIcon.Warning,colorThemeOverride:this.props.colorThemeOverride})}}t.default=F},555648:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(150343)),a=o.__importDefault(i(59154)),s=o.__importDefault(i(808467)),l=o.__importDefault(i(840135)),c=o.__importDefault(i(618111)),d=o.__importDefault(i(831937)),u=o.__importStar(i(704704)),p=o.__importDefault(i(611553)),g=i(186907),h=(o.__importDefault(i(929284)),o.__importDefault(i(127686))),m=o.__importDefault(i(487566)),S=o.__importDefault(i(878540)),_=o.__importDefault(i(589298)),f=i(884853),y=(o.__importDefault(i(48076)),o.__importDefault(i(233597))),C=o.__importDefault(i(66957)),v=o.__importDefault(i(262657));class b extends s.default{_buildState(){const e=r.default.getS4LMessagingFeatures();return{hugeEmoticonsFeatureEnabled:e.singleEmoticonSize>=g.EmoticonSize.ExtraLarge,sendReadReceiptsFeatureEnabled:e.enableReadReceipts,customFileDownloadLocationEnabled:e.enableCustomFileDownloadLocation,autoDownloadFileOnDesktopEnabled:!1,autoDownloadFileOnMobileEnabled:!1,toneRewriteEnabled:e.enableToneRewrite,enableHtmlComposer:e.enableHtmlComposer}}render(){return(0,n.jsxs)(y.default,{children:[(0,n.jsx)(f.SectionTitle,{title:u.getString("UserSettingsPanel.MessagingAndChatsUpperTitle")}),this._getSendReadReceiptsToggle(),this._getDisplayLargeEmoToggle(),this._getDisplayUrlPreviewsToggle(),this._getFontSizePicker(),this._getSendMessageWithEnterButton(),this._getPasteAsQuoteToggle(),this._getPicturePrefetchButton(),this._getAutoDownloadToggle(),this._setFileDownloadLocationButton(),this._getToneRewriteToggleButton()]})}_getDisplayLargeEmoToggle(){return this.state.hugeEmoticonsFeatureEnabled?(0,n.jsx)(l.default,{style:this.props.buttonStyles}):void 0}_getSendReadReceiptsToggle(){return this.state.sendReadReceiptsFeatureEnabled?(0,n.jsx)(S.default,{style:this.props.buttonStyles}):void 0}_getAutoDownloadToggle(){return this.state.autoDownloadFileOnDesktopEnabled?(0,n.jsx)(a.default,{style:this.props.buttonStyles}):this.state.autoDownloadFileOnMobileEnabled?(0,n.jsx)(C.default,{style:this.props.buttonStyles}):void 0}_getPicturePrefetchButton(){return(0,n.jsx)(h.default,{})}_getDisplayUrlPreviewsToggle(){return(0,n.jsx)(c.default,{style:this.props.buttonStyles})}_getSendMessageWithEnterButton(){return this.state.enableHtmlComposer?void 0:(0,n.jsx)(m.default,{style:this.props.buttonStyles})}_getPasteAsQuoteToggle(){return(0,n.jsx)(p.default,{style:this.props.buttonStyles})}_setFileDownloadLocationButton(){return this.state.customFileDownloadLocationEnabled?(0,n.jsx)(_.default,{style:this.props.buttonStyles}):void 0}_getToneRewriteToggleButton(){return this.state.toneRewriteEnabled?(0,n.jsx)(v.default,{}):void 0}_getFontSizePicker(){return(0,n.jsx)(d.default,{})}_getHeaderText(e){return b.getHeaderText()}static getHeaderText(){return u.getString("UserSettingsPanel.MessagingAndChatsTitle")}}t.default=b},788004:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(154235),s=o.__importDefault(i(958868)),l=o.__importDefault(i(688794)),c=o.__importStar(i(704704)),d=o.__importDefault(i(942724)),u=o.__importDefault(i(740794)),p=i(884853),g=o.__importDefault(i(186325)),h=o.__importDefault(i(201721)),m=o.__importDefault(i(150343)),S=i(148086);class _ extends s.default{constructor(){super(...arguments),this._onPress=()=>{m.default.getS4LCMCFeaturesNoSubscription().enableNewLanguageSelectors?u.default.navigateToLanguagePicker(!1,this._getRootViewId()):u.default.navigateToLanguagePickerOld(!1,this._getRootViewId())}}_buildState(e,t){const{enableMSNMarket:i}=m.default.getS4LUiFeatures();return{currentLanguage:h.default.getUserPreferencesLocal().locale||c.getLocale(),isUsingStackNavigationContext:d.default.isUsingStackNavigationContext(),enableMSNMarket:i}}render(){return(0,n.jsxs)(r.View,{style:this.props.style,children:[(0,n.jsx)(p.SectionTitle,{title:c.getString("UserSettingsPanel.GeneralTitleUpper")}),(0,n.jsx)(l.default,{label:c.getString("SettingsLanguages.LanguageLabel"),captionText:c.getString("SettingsLanguages.LanguageCaption"),onPress:this._onPress,activeLabel:this.state.currentLanguage,buttonStyles:this.state.isUsingStackNavigationContext?void 0:a.ListItem.small.shortHeightStyle,hideDivider:!0}),this.state.enableMSNMarket?(0,n.jsx)(S.MSNMarketPickerButton,{}):null,(0,n.jsx)(g.default,{})]})}}t.default=_},4123:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(808467)),a=o.__importStar(i(704704)),s=o.__importDefault(i(524996)),l=o.__importDefault(i(247286)),c=o.__importDefault(i(740794)),d=i(884853),u=o.__importDefault(i(95114)),p=o.__importDefault(i(846757)),g=(o.__importDefault(i(48076)),i(483877)),h=o.__importDefault(i(233597));class m extends r.default{constructor(){super(...arguments),this._onPressManageBlockedUsers=()=>{c.default.navigateToBlockedUsersList(this._getRootViewId())}}_buildState(e,t){return{isChild:l.default.isChild()}}static getHeaderText(){return a.getString("UserSettingsPanel.ContactsTitle")}render(){const e=(0,n.jsx)(d.SectionTitle,{title:a.getString("UserSettingsPanel.ContactsUpperTitle")},"contacts"),t=this.state.isChild?void 0:(0,n.jsx)(p.default,{buttonStyles:this.props.buttonStyles});return(0,n.jsxs)(h.default,{children:[e,t,this._getBlockedContactsButton(),(0,n.jsx)(s.default,{buttonStyles:this.props.buttonStyles})]})}_getHeaderText(e){return m.getHeaderText()}_getBlockedContactsButton(){return(0,n.jsx)(g.WideButton,{label:a.getString("UserSettingsPanel.BlockedContactsTitle"),labelStyle:u.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,onPressed:this._onPressManageBlockedUsers},"blockedUsers")}}t.default=m},918304:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(537180),a=o.__importDefault(i(247286)),s=o.__importDefault(i(395298)),l=o.__importDefault(i(95114)),c=i(884853),d=o.__importStar(i(704704)),u=o.__importDefault(i(150343)),p=i(206315),g=o.__importDefault(i(341994)),h=i(526849);function m(e,t){g.default.setMiniContextMenuEnabled(t)}t.default=(0,h.WithResub)((({enableMiniContextMenuBySetting:e,enableMiniContextMenuSetting:t})=>{const{themeStyles:{dividerBorderColorStyle:i}}=(0,p.useSkypeTheme)(),o=d.getString("UserSettingsPanel.EnableMiniMenu"),a=t?(0,n.jsx)(s.default,{style:[l.default.controlRow,i],isOn:e,accessibilityLabel:o,onChange:m,children:(0,n.jsx)(c.SwitchLabel,{title:o})}):null;return a?(0,n.jsxs)(r.View,{children:[(0,n.jsx)(c.SectionTitle,{title:d.getString("UserSettingsPanel.ContextMenuSettingUpper")}),a]}):null}),(e=>Object.assign(Object.assign({},e),{enableMiniContextMenuBySetting:g.default.getMiniContextMenuEnabled(),enableMiniContextMenuSetting:u.default.getS4LMessagingFeatures().enableMiniContextMenu&&!a.default.isChildOrMinor()})))},705750:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importDefault(i(206483)),r=i(815146),a=o.__importStar(i(85385)),s=o.__importStar(i(704704)),l=o.__importDefault(i(201721)),c=o.__importDefault(i(341994)),d=o.__importDefault(i(740794)),u=i(812822),p=o.__importDefault(i(760989));var g;!function(e){e[e.None=0]="None",e[e.Call=1]="Call",e[e.Chat=2]="Chat",e[e.CallAndChat=3]="CallAndChat"}(g||(g={}));class h{static showDNDSettingDialog(e,t){a.log(r.LogTraceArea.DNDSetting,"Showing DND setting dialog."),this._showDNDDialogHelper(e,t)}static _getEnableNotificationState(){return c.default.getCallNotificationsWhileDNDEnabled()||c.default.getChatNotificationsWhileDNDEnabled()?c.default.getCallNotificationsWhileDNDEnabled()?c.default.getChatNotificationsWhileDNDEnabled()?g.None:g.Chat:g.Call:g.CallAndChat}static _getContentText(e){let t;switch(e){case g.CallAndChat:t=s.getString("DNDSettingDialog.CallAndChatNotificationDuringDNDDialogContent");break;case g.Call:t=s.getString("DNDSettingDialog.CallNotificationDuringDNDDialogContent");break;case g.Chat:t=s.getString("DNDSettingDialog.ChatNotificationDuringDNDDialogContent");break;case g.None:default:t=s.getString("DNDSettingDialog.NotificationDuringDNDDialogContent")}return t}static _onAppSettingsButtonPressed(e){const t=p.default.newCauseId();a.log(r.LogTraceArea.DNDSetting,"DNDSettingDialog._onAppSettingsButtonPressed causeId: "+t),d.default.navigateToDesktopSettingsGroup(u.SettingsGroup.Notifications,e,t)}static _showDNDDialogHelper(e,t){const i=[{text:s.getString("DNDSettingDialog.DontAskMeAgain"),onPress:this._dialogActionHandler(this._presentDNDPopupPressed,t)},{text:s.getString("DNDSettingDialog.DoNothing"),onPress:t},{text:s.getString("DNDSettingDialog.ViewNotificationsSetting"),onPress:this._dialogActionHandler((()=>this._onAppSettingsButtonPressed(e)),t),isSubmit:!0}],o=s.getString("DNDSettingDialog.DNDSettingTitle"),r=this._getEnableNotificationState(),a=this._getContentText(r);r!==g.None&&n.default.showWithOptions({title:o,message:a,dialogAccessibilityTitle:a,buttons:i,onClickOutside:t,rootViewId:e})}static _dialogActionHandler(e,t){return t?()=>{e(),t&&t()}:e}}h._presentDNDPopupPressed=()=>{c.default.setPresentDNDSetting(),l.default.setUserPreferencesLocal({presentDNDSetting:!1})},t.default=h},822938:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(201721)),a=o.__importDefault(i(740794)),s=o.__importDefault(i(95114)),l=o.__importDefault(i(497910)),c=i(483877),d=o.__importDefault(i(233597));class u extends l.default{constructor(){super(...arguments),this._getDevFeatures=()=>[],this._onPressTelemetryMonitor=()=>{a.default.navigateToTelemetryPerformanceMonitor(this._getRootViewId())},this._onPressPhoneNumberVerification=()=>{a.default.navigateToPnvEnterNumber(void 0,this._getRootViewId())},this._onPressPnvDebugTool=()=>{a.default.navigateToPnvDebugTool()},this._onPressManageFeatureFlags=()=>{a.default.navigateToFeatureFlags(this._getRootViewId())},this._onPressShowRawConfig=()=>{a.default.navigateToRawPreferences(this._getRootViewId())}}_buildState(e,t){return{ignoreActiveEndpoint:!!r.default.getUserPreferencesLocal().ignoreActiveEndpointFiltering}}render(){return(0,n.jsxs)(d.default,{children:[this._getTelemetryMonitorButton(),this._getPhoneNumberVerificationButton(),this._getPressPnvDebugToolButton(),this._getDevFeatures()]})}_getPressPnvDebugToolButton(){return(0,n.jsx)(c.WideButton,{label:"PNV Debug Tool",labelStyle:s.default.titleMediumSemiLarge,labelBottom:"Remove registered phone number from profile",onPressed:this._onPressPnvDebugTool},"pnvDebugTool")}_getPhoneNumberVerificationButton(){return(0,n.jsx)(c.WideButton,{label:"Phone Number Verification",labelStyle:s.default.titleMediumSemiLarge,labelBottom:"Verify phone number",onPressed:this._onPressPhoneNumberVerification},"enterPhoneNumber")}_getTelemetryMonitorButton(){return(0,n.jsx)(c.WideButton,{label:"Telemetry Monitor",labelStyle:s.default.titleMediumSemiLarge,labelBottom:"Telemetry events statistics",onPressed:this._onPressTelemetryMonitor},"manageProfile")}}t.default=u},671449:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(380157),a=o.__importStar(i(516778)),s=o.__importDefault(i(395298)),l=o.__importDefault(i(150343)),c=o.__importDefault(i(192478)),d=o.__importDefault(i(370253)),u=o.__importStar(i(443140)),p=i(154235),g=i(413686),h=o.__importDefault(i(601976)),m=o.__importDefault(i(840135)),S=o.__importDefault(i(186325)),_=i(815146),f=o.__importStar(i(85385)),y=i(26703),C=o.__importStar(i(963369)),v=o.__importStar(i(704704)),b=o.__importDefault(i(265609)),T=o.__importDefault(i(247286)),P=o.__importDefault(i(201721)),k=o.__importDefault(i(363091)),A=o.__importDefault(i(740794)),I=o.__importDefault(i(951212)),w=o.__importDefault(i(690051)),x=i(342561),N=o.__importDefault(i(878540)),D=i(884853),M=o.__importDefault(i(4393)),L=o.__importDefault(i(966584)),R=i(262725),E=i(483877),B="chat",O="privacy",F=(0,y.lazyProperties)({container:()=>a.Styles.createViewStyle({marginHorizontal:20}),settingsContainer:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>a.Styles.createViewStyle({alignSelf:"stretch",overflow:"visible"}),settingContainer:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center",alignSelf:"stretch",justifyContent:"space-between"}),switchLabelWrapper:()=>a.Styles.createTextStyle({flex:1,marginVertical:5}),switchLabel:()=>a.Styles.createTextStyle({flex:1,paddingRight:10}),title:()=>a.Styles.createTextStyle({paddingTop:30,paddingBottom:10})});class V extends c.default{constructor(){super(...arguments),this._toggleSwitchWithTextStyle=[F.settingContainer,p.ListItem.small.shortHeightStyle],this._onShareLocationWithBingRef=e=>{this._shareLocationWithBingRef=e||void 0},this._onChangeBingLocationConsentGranted=(e,t)=>{t?d.default.displayModal(this._getRootViewId(),{onModalClosed:this._onBingConsentModalClosed}):(f.track(new u.BingPermissionsInteractionEvent(_.BingPermissionsEntryPoint.BingSettings,r.PermissionStatus.Denied)),P.default.setUserPreferencesLocal({bingLocationConsentGranted:!1,locationStoreLastPromptTime:Date.now()}))},this._onBingConsentModalClosed=()=>{this._shareLocationWithBingRef&&this._shareLocationWithBingRef.focusToggle()},this._onPressProfilePicture=()=>{A.default.navigateToProfilePicturePanel(this._getRootViewId())},this._onPressManageUsers=()=>{A.default.navigateToManageUsersSettingsPanel(this._getRootViewId())},this._onPressManageSearchInfo=()=>{A.default.navigateToManageSearchInfoPanel(x.ManageSearchOrigin.ApplicationSettings,this._getRootViewId())},this._onPressDiagnosticTools=()=>{A.default.navigateToDiagnosticTools(this._getRootViewId())},this._onChangeSyncAddressBook=(e,t)=>{this.state.syncAddressBookEnabled!==t&&(t?A.default.navigateToSyncAddressBook({origin:g.DialogNavOrigin.Settings,hideSkipButton:!0},void 0,this._getRootViewId()):w.default.setSyncAddressBookPrivacySetting(t))}}_buildState(e,t){const i=P.default.getUserPreferencesLocal();return{syncAddressBookEnabled:w.default.getSyncAddressBookPrivacySetting(),enableLocationSharing:l.default.getS4LMessagingFeatures().enableLocationSharingOnDesktopAndWeb,bingLocationConsentGranted:b.default.bingLocationConsentAndPermissionGranted(),suggestionsEnabled:L.default.getSuggestionsEnabled(),isBingAuthCookieInSync:!!i.isBingAuthCookieInSync,sendReadReceiptsFeatureEnabled:l.default.getS4LMessagingFeatures().enableReadReceipts,showAddPhotoLabel:!h.default.getDisplayableProfile(k.default.getSkypeMri()).getAvatarUrl(),isChild:T.default.isChild()}}render(){return this.props.notificationsOnly?(0,n.jsx)(a.View,{style:F.container,children:(0,n.jsx)(I.default,{buttonStyles:p.ListItem.small.shortHeightStyle})}):(0,n.jsxs)(a.View,{style:F.container,forceDirection:!0,children:[this._renderChatSettings(),(0,n.jsx)(I.default,{buttonStyles:p.ListItem.small.shortHeightStyle}),(0,n.jsx)(M.default,{}),this._renderPrivacySettings()]})}_renderChatSettings(){return this._getSettingsSection(B,v.getString("UserSettingsPanel.ChatHeaderUpper"),[(0,n.jsx)(m.default,{style:this._toggleSwitchWithTextStyle},"displaylargeemoticons")])}_renderPrivacySettings(){const e=[];return C.isAddressBookEnabled()&&!this.state.isChild&&(e.push((0,n.jsx)(s.default,{style:this._toggleSwitchWithTextStyle,isOn:this.state.syncAddressBookEnabled,accessibilityLabel:v.getString("UserSettingsPanel.SyncAddressBook"),onChange:this._onChangeSyncAddressBook,children:this._renderSwitchLabel(v.getString("UserSettingsPanel.SyncAddressBook"))},"syncAddressBook")),e.push((0,n.jsx)(S.default,{},"syncAddressBookDivider"))),this.state.enableLocationSharing&&!this.state.isChild&&(e.push((0,n.jsx)(s.default,{ref:this._onShareLocationWithBingRef,style:this._toggleSwitchWithTextStyle,isOn:this.state.bingLocationConsentGranted,accessibilityLabel:v.getString("UserSettingsPanel.BingLocation"),onChange:this._onChangeBingLocationConsentGranted,children:this._renderSwitchLabel(v.getString("UserSettingsPanel.BingLocation"))},"shareLocationWithBing")),e.push((0,n.jsx)(S.default,{},"shareLocationWithBingDivider"))),this.state.sendReadReceiptsFeatureEnabled&&e.push((0,n.jsx)(N.default,{style:this._toggleSwitchWithTextStyle},"sendReadReceipts")),this.state.ecsDiagnosticToolsEnabled&&e.push((0,n.jsx)(E.WideButton,{label:v.getString("UserSettingsPanel.DiagnosticToolsTitle"),onPressed:this._onPressDiagnosticTools,buttonStyles:p.ListItem.small.shortHeightStyle},"diagnosticTools")),e.push((0,n.jsx)(E.WideButton,{label:v.getString("UserSettingsPanel.ProfilePictureTitle"),onPressed:this._onPressProfilePicture,buttonStyles:p.ListItem.small.shortHeightStyle,labelRight:this.state.showAddPhotoLabel?v.getString("UserSettingsPanel.AddPhotoLabel"):void 0},"profilePicture")),e.push((0,n.jsx)(E.WideButton,{label:v.getString("UserSettingsPanel.ManageContactsTitle"),onPressed:this._onPressManageUsers,buttonStyles:p.ListItem.small.shortHeightStyle},"manageUsers")),e.push((0,n.jsx)(E.WideButton,{label:v.getString("ManageSearchInfoPanel.PanelTitle"),onPressed:this._onPressManageSearchInfo,buttonStyles:p.ListItem.small.shortHeightStyle},"manageSearchInfo")),this._getSettingsSection(O,v.getString("UserSettingsPanel.PrivacyHeaderUpper"),e)}_getSettingsSection(e,t,i){return(0,n.jsxs)(a.View,{style:F.settingsBlockContainer,children:[(0,n.jsx)(D.SectionTitle,{title:t,titleStyles:F.title},e),(0,n.jsx)(a.View,{style:[F.settingsContainer,this._themeStyles.primaryBackgroundColorStyle],children:i})]},e)}_renderSwitchLabel(e){return(0,n.jsx)(a.View,{style:F.switchLabelWrapper,children:(0,n.jsx)(R.RowTitle,{style:F.switchLabel,numberOfLines:2,children:e})})}}t.default=V},545867:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(184810),s=o.__importStar(i(516778)),l=o.__importDefault(i(150343)),c=o.__importDefault(i(808467)),d=i(815146),u=o.__importStar(i(85385)),p=i(26703),g=o.__importStar(i(704704)),h=o.__importDefault(i(855191)),m=o.__importStar(i(3025)),S=i(375258),_=(0,p.lazyProperties)({modalBackground:()=>s.Styles.createViewStyle({flex:1,alignItems:"stretch"})});class f extends c.default{constructor(){super(...arguments),this._closeMyAccountUrl=l.default.getConfigSettings().profileCard.closeMyAccountUrl,this._closeMyAccountEndUrl=l.default.getConfigSettings().profileCard.closeMyAccountEndUrl,this._onNavigationStateChange=e=>{if(this.setState({currentUrl:e.url}),e.url&&r.startsWith(e.url,this._closeMyAccountEndUrl)&&-1!==e.url.toLowerCase().indexOf("message=closeacctself"))return u.track(new m.CloseMyAccountClicked),void h.default.redirectToLogout(d.LogoutReason.CloseAccount,!0,!1)}}_buildState(e,t){return{currentUrl:l.default.getConfigSettings().profileCard.closeMyAccountUrl}}_renderPanelContent(){const e=s.Types.WebViewSandboxMode.AllowForms|s.Types.WebViewSandboxMode.AllowScripts|s.Types.WebViewSandboxMode.AllowPopups|s.Types.WebViewSandboxMode.AllowSameOrigin;return(0,n.jsx)(a.WebViewBridge,{style:this.props.style,url:this._closeMyAccountUrl,javaScriptEnabled:!0,scalesPageToFit:!1,onNavigationStateChange:this._onNavigationStateChange,startInLoadingState:!0,domStorageEnabled:!0,sandbox:e,ariaLabel:g.getString("UserSettingsPanel.CloseAccountLabel")})}render(){return(0,n.jsxs)(s.View,{style:_.modalBackground,children:[(0,n.jsx)(S.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:{closeButtonType:this.props.isAloneInNavStack?S.CloseButtonType.Close:S.CloseButtonType.Back}}),this._renderPanelContent()]})}_getHeaderText(e){return f.getHeaderText()}static getHeaderText(){return g.getString("UserSettingsPanel.CloseAccountLabel")}}t.default=f},461552:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(974634)),s=o.__importDefault(i(633958)),l=o.__importDefault(i(192478)),c=o.__importDefault(i(340724)),d=o.__importDefault(i(266311)),u=i(26703),p=o.__importStar(i(704704)),g=o.__importDefault(i(960282)),h=i(375258),m=o.__importDefault(i(954780)),S=(0,u.lazyProperties)({modalInnerContainer:()=>r.Styles.createViewStyle({flex:1,paddingTop:10,paddingHorizontal:25,paddingBottom:25})}),_="desktopModal";class f extends l.default{constructor(){super(...arguments),this._closeAnimationEvent=new a.default,this._onAnimateCloseModal=()=>{const e=this._getRootViewId();this._closeAnimationEvent.fire((()=>this._onCloseModal(e)))}}_buildState(e,t){const i=this._getRootViewId();return{isMobileScreenSize:g.default.isMobileScreenSize(i)}}static displayModalWithConfig(e){const t=e.isPopup?c.default.combinedAccessibilityLabel(p.getString("Global.PopupAnnouncement"),e.title):e.title,i=(0,n.jsx)(s.default,{isPresentedInDesktopSubview:!0,children:(0,n.jsx)(f,{title:e.title,accessibilityTitle:t,content:e.content,modalHeight:e.modalHeight,modalWidth:e.modalWidth})});d.default.showModal(i,_,{rootViewId:e.rootViewId})}static closeModel(e){d.default.dismissModal(_,e)}render(){const e={onPress:this._onAnimateCloseModal,closeButtonType:h.CloseButtonType.Close};return(0,n.jsxs)(m.default,{modalTitle:this.props.title,modalWidth:this.props.modalWidth||400,modalHeight:this.props.modalHeight||void 0,onClickOutside:this._onAnimateCloseModal,closeAnimationEvent:this._closeAnimationEvent,fullSize:!!this.state.isMobileScreenSize,children:[(0,n.jsx)(h.SimplePanelHeader,{panelName:this.props.title,accessibleName:this.props.accessibilityTitle,leftButton:e,useTransparentBackground:!0,hideBottomBorder:!0}),(0,n.jsx)(r.View,{style:S.modalInnerContainer,children:this.props.content})]})}_onCloseModal(e){d.default.dismissModal(_,e)}}t.default=f},793852:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(150343)),l=o.__importStar(i(603094)),c=o.__importDefault(i(808467)),d=i(154235),u=i(739403),p=o.__importDefault(i(37679)),g=i(815146),h=o.__importStar(i(85385)),m=i(26703),S=o.__importStar(i(704704)),_=o.__importDefault(i(683395)),f=o.__importStar(i(363091)),y=o.__importDefault(i(740794)),C=i(812822),v=i(113002),b=o.__importStar(i(185201)),T=i(342561),P=o.__importDefault(i(421334)),k=i(884853),A=o.__importDefault(i(165505)),I=i(375258),w=i(16549),x=i(641400),N=i(331079),D=o.__importDefault(i(827361)),M=o.__importDefault(i(48076)),L=o.__importDefault(i(159184)),R=i(596648),E=o.__importDefault(i(203502)),B=o.__importDefault(i(685734)),O=o.__importDefault(i(760989)),F=o.__importDefault(i(620742)),V=i(483877),U=i(135405),j=o.__importDefault(i(360095)),H=(0,m.lazyProperties)({panel:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),pannelPadding:()=>a.Styles.createViewStyle({paddingBottom:16}),container:()=>a.Styles.createViewStyle({marginHorizontal:20}),sectionHeader:()=>a.Styles.createTextStyle({paddingTop:30,paddingBottom:10})});class W extends c.default{constructor(){super(...arguments),this._onScroll=(e,t)=>{const i=e>u.DetailsPanelHeaderSizes.scrollOffsetDesktop;this.state.showHeader!==i&&this.setState({showHeader:i})},this._onUserCardRef=e=>{this._userCardRef=e||void 0},this._onHelpAndFeedbackButtonPressed=()=>{const e=O.default.newCauseId();h.log(g.LogTraceArea.Navigation,"DesktopMySettingsPanel._onHelpAndFeedbackButtonPressed causeId: "+e),h.track(new b.NavigationHelpAndFeedback(v.NavigationSettingsItem.HelpAndFeedback,v.NavigationSettingsOrigin.MySettingsPanel)),y.default.navigateToDesktopSettingsGroup(C.SettingsGroup.HelpAndFeedback,this._getRootViewId(),e)},this._goToPrivacy=()=>{if(this.state.userAccountType===f.UserAccountType.PhoneAuth)return h.warn(g.LogTraceArea.Navigation,"Skipping navigation to manage search info panel as user is phone-auth user without a linked MSA."),void y.default.navigateToLinkMsaToPhoneNumberAccountFlow("OtherWaysPeopleCanFindYouPanel",this._getContext().rootViewId);y.default.navigateToManageSearchInfoPanel(T.ManageSearchOrigin.ApplicationSettings,this._getRootViewId())},this._closeModal=()=>{const e=O.default.newCauseId();h.log(g.LogTraceArea.Navigation,"DesktopMySettingsPanel.causeId causeId: "+e),this._goBack(e)}}_buildState(e,t){const i=B.default.getFullUserProfileByMri(f.default.getSkypeMri()),o=p.default.getCreditEntitlement(),n=p.default.getSubscriptions(),a={userFormattedBalance:l.getFormattedBalance(o),userSubscriptionsCount:n?r.size(n):0,displayName:i.getDisplayName(),gender:i&&i.gender||N.eGender.Unspecified,myUserStatus:_.default.getStatus(),useTabletUI:M.default.isTabletUI(),showScreenReaderHeader:P.default.isMobileScreenReaderEnabled(),enableMsaPhoneNumber:f.default.getUserAccountType()!==f.UserAccountType.PhoneAuth&&W.showMSAPhoneNumberOnOther(),userAccountType:f.default.getUserAccountType()};return t&&(a.showHeader=!1),a}componentDidMount(){super.componentDidMount(),s.default.getS4LCommerceFeatures().offerStore.prefetch&&F.default.requestUpdate()}render(){const e=this.state.showHeader||this.state.showScreenReaderHeader,t={closeButtonType:this.props.isAloneInNavStack?I.CloseButtonType.Close:I.CloseButtonType.Back,color:e?this._themeColors.primaryIconColor:w.Color.white,hoverColor:e?this._themeColors.iconHoverColor:w.Color.whiteOverlay80,onPress:this._closeModal,title:S.getString("UserSettingsPanel.CloseSettings")},i=e?this.state.showScreenReaderHeader?S.getString("UserSettingsPanel.SettingsTitle"):this.state.displayName:void 0,o=(0,n.jsx)(I.SimplePanelHeader,{floating:!this.state.showScreenReaderHeader,panelName:i,useTransparentBackground:!e,hideBottomBorder:!e,leftButton:t,ignorePointerEvents:!e,delayHeaderFocus:!1}),r=(0,n.jsx)(A.default,{origin:g.ContactInviteOrigin.ShareProfile,desktop:!0}),s=this._getSectionTitle(S.getString("UserSettingsPanel.OtherHeaderUpper"),"other");return(0,n.jsx)(a.Animated.View,{style:[H.panel,this._themeStyles.primaryBackgroundColorStyle],children:(0,n.jsxs)(a.View,{style:[H.panel,this._themeStyles.primaryBackgroundColorStyle],children:[o,(0,n.jsx)(a.ScrollView,{style:D.default.flexOne,onScroll:this._onScroll,scrollEventThrottle:32,children:(0,n.jsxs)(a.View,{style:[H.panel,H.pannelPadding,this._themeStyles.primaryBackgroundColorStyle],children:[(0,n.jsx)(L.default,{ref:this._onUserCardRef,allowEditAvatar:!0,allowOpenAvatarInMediaViewer:!1,replaceHeader:!0,userIconSize:R.UserIconSize.Size120,userMri:f.default.getSkypeMri(),readOnlyView:!1}),(0,n.jsxs)(a.View,{style:H.container,children:[r,this._getSectionTitle(S.getString("UserSettingsPanel.MyProfileTitleUpper"),"profile"),(0,n.jsx)(E.default,{userMri:f.default.getSkypeMri()}),s,this._getSupportSettings()]})]})})]})})}_getSectionTitle(e,t){return(0,n.jsx)(k.SectionTitle,{title:e,titleStyles:H.sectionHeader},t)}_getSupportSettings(){return(0,n.jsxs)(a.View,{children:[!!this.state.enableMsaPhoneNumber&&(0,n.jsx)(j.default,{}),this._getManagePrivacyButton(),this._getHelpAndFeedbackButton()]})}_getHelpAndFeedbackButton(){return this._getWideButton({icon:x.SkypeIcon.Question,label:S.getString("UserSettingsPanel.HelpAndAboutTitle"),key:C.SettingsGroup[C.SettingsGroup.HelpAndFeedback],onPressed:this._onHelpAndFeedbackButtonPressed})}_getManagePrivacyButton(){return this._getWideButton({icon:x.SkypeIcon.ContactGroup,label:S.getString("MyUserInfo.ManagePrivacyTitle"),onPressed:this._goToPrivacy})}_getWideButton(e){return(0,n.jsx)(V.WideButton,Object.assign({},e,{buttonStyles:d.ListItem.small.shortHeightStyle}))}_getHeaderText(e){return e.displayName+" "+S.getString("MyProfilePanel.SettingsTitle")}static showMSAPhoneNumberOnOther(){var e;const t=null===(e=s.default.getAdsFeatures().placementsConfigs)||void 0===e?void 0:e[U.BannerPlacement.ConversationList],i=null==t?void 0:t.bannersList;return s.default.getAdsFeatures().linkYourPhoneAdConfig&&(null==i?void 0:i.some((e=>e===U.Banner.LinkYourPhone)))}}t.default=W},693663:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(971648)),s=o.__importDefault(i(381432)),l=o.__importDefault(i(405853)),c=i(962234),d=o.__importDefault(i(454050)),u=o.__importDefault(i(808467)),p=o.__importDefault(i(555648)),g=i(154235),h=o.__importDefault(i(4123)),m=o.__importDefault(i(671449)),S=o.__importStar(i(761393)),_=o.__importDefault(i(126068)),f=i(413686),y=i(815146),C=o.__importDefault(i(690657)),v=o.__importDefault(i(820842)),b=o.__importStar(i(85385)),T=o.__importDefault(i(599133)),P=i(26703),k=o.__importStar(i(704704)),A=o.__importDefault(i(305297)),I=o.__importDefault(i(252089)),w=i(812822),x=o.__importDefault(i(951212)),N=o.__importDefault(i(617067)),D=o.__importDefault(i(421334)),M=i(375258),L=o.__importDefault(i(588769)),R=i(641400),E=o.__importDefault(i(837348)),B=o.__importDefault(i(611905)),O=o.__importDefault(i(760989));var F;!function(e){e[e.Default=0]="Default",e[e.HeaderOnly=1]="HeaderOnly",e[e.None=2]="None"}(F||(F={}));const V=(0,P.lazyProperties)({container:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"})}),U={[w.SettingsGroup.AppSettings]:"DesktopProfileMenu.AppSettingsTitle",[w.SettingsGroup.AudioVideoSettings]:"AudioVideoSettings.Title",[w.SettingsGroup.AudioSettings]:"AudioVideoSettings.AudioSettingsTitle",[w.SettingsGroup.AccountAndProfile]:"UserSettingsPanel.AccountAndProfileSettingsTitle",[w.SettingsGroup.ThemeSettings]:"ColorThemeDialog.HeaderText",[w.SettingsGroup.HelpAndFeedback]:"UserSettingsPanel.HelpAndAboutTitle",[w.SettingsGroup.About]:"UserSettingsPanel.AboutButton",[w.SettingsGroup.Notifications]:"UserSettingsPanel.NotificationsTitle",[w.SettingsGroup.Chat]:"UserSettingsPanel.MessagingAndChatsTitle",[w.SettingsGroup.General]:"UserSettingsPanel.GeneralTitle",[w.SettingsGroup.Privacy]:"UserSettingsPanel.PrivacyHeader",[w.SettingsGroup.Contacts]:"UserSettingsPanel.ContactsTitle",[w.SettingsGroup.MyAccountAndProfile]:"UserSettingsPanel.MyAccountAndProfileTitle",[w.SettingsGroup.BalanceState]:"BalanceStatePanel.Title",[w.SettingsGroup.SkypeNumber]:"SkypeNumberPanel.Title",[w.SettingsGroup.SyncAddressBook]:"SyncAddressBookDialog.HeaderText",[w.SettingsGroup.HotKeys]:"KeyboardShortcuts.Title2",[w.SettingsGroup.ReportProblem]:"FeedbackMechanism.ReportAProblemDialogTitle",[w.SettingsGroup.ManagePayments]:"UserSettingsPanel.ManagePaymentsSettingsTitle"},j=Object.assign(Object.assign({},U),{[w.SettingsGroup.HotKeys]:"KeyboardShortcuts.Title2",[w.SettingsGroup.ReportProblem]:"FeedbackMechanism.ReportAProblemDialogTitle",[w.SettingsGroup.ThemeSettings]:"ColorThemeDialog.HeaderTextShort"});class H extends u.default{constructor(){super(...arguments),this._setRightButton=e=>{this.setState({rightButton:e})},this._closeModal=()=>{const e=O.default.newCauseId();b.log(y.LogTraceArea.Navigation,"DesktopSettingsGroupPanel._closeModal,  causeId: "+e),this._goBack(e)}}static getHeaderText(e,t){const i=t?U[e]:j[e];return i||b.warn(y.LogTraceArea.GenericUnsafe,"DesktopSettingsGroupPanel._getHeaderText, no title key found"),k.getString(i||"UserSettingsPanel.SettingsTitle")}_buildState(e,t){const i={isMobileScreenReaderEnabled:D.default.isMobileScreenReaderEnabled(),myUserColor:I.default.getColorInfo(!0)};return t&&(i.rightButton=void 0),i}render(){let e;switch(this._contentContainerStyle()){case F.None:e=this._renderContent();break;case F.HeaderOnly:e=this._renderContentInContainer(!1);break;case F.Default:e=this._renderContentInContainer(!0)}return(0,n.jsx)(r.View,{style:V.container,children:e})}_contentContainerStyle(){switch(this.props.group){case w.SettingsGroup.About:case w.SettingsGroup.BalanceState:return F.None;case w.SettingsGroup.SyncAddressBook:case w.SettingsGroup.ReportProblem:return F.HeaderOnly;default:return F.Default}}_renderContentInContainer(e){const t=this.props.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.isAloneInNavStack?M.CloseButtonType.Close:M.CloseButtonType.Back,onPress:this._closeModal,title:k.getString(this.props.isAloneInNavStack?"Global.CloseButtonTitle":"Global.BackButtonTitle")};let i;this.props.isAloneInNavStack&&!this.state.isMobileScreenReaderEnabled&&this._getContext().isPresentedInSplitView||this.props.group===w.SettingsGroup.SyncAddressBook||(i=(0,n.jsx)(M.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t,rightButtons:this.state.rightButton,useTransparentBackground:!0,delayHeaderFocus:!1}));const o=this._renderContent();return(0,n.jsxs)(r.View,{style:V.container,children:[i,o]})}_renderContent(){const e={isAloneInNavStack:this.props.isAloneInNavStack,isFullScreenModal:this.props.isFullScreenModal,buttonStyles:g.ListItem.small.shortHeightStyle,closeModal:this.props.closeModal,setRightButton:this._setRightButton};switch(this.props.group){case w.SettingsGroup.AppSettings:return(0,n.jsx)(m.default,{});case w.SettingsGroup.Notifications:return(0,n.jsx)(x.default,Object.assign({},e));case w.SettingsGroup.AudioVideoSettings:return(0,n.jsx)(l.default,Object.assign({settingsMode:c.SettingsMode.All},e));case w.SettingsGroup.AudioSettings:return(0,n.jsx)(l.default,Object.assign({settingsMode:c.SettingsMode.Audio},e));case w.SettingsGroup.MyAccountAndProfile:return(0,n.jsx)(A.default,Object.assign({marginHorizontal:5},e));case w.SettingsGroup.AccountAndProfile:return(0,n.jsx)(s.default,Object.assign({},e));case w.SettingsGroup.BalanceState:return(0,n.jsx)(d.default,Object.assign({showHeader:!0,source:"DesktopSettings.navigateBalanceState"},e));case w.SettingsGroup.SkypeNumber:return(0,n.jsx)(L.default,{route:{params:Object.assign({},e)}});case w.SettingsGroup.ThemeSettings:return(0,n.jsx)(B.default,Object.assign({origin:f.DialogNavOrigin.Settings},e));case w.SettingsGroup.HelpAndFeedback:return(0,n.jsx)(v.default,Object.assign({},e));case w.SettingsGroup.About:return(0,n.jsx)(a.default,Object.assign({showHeader:!0},e));case w.SettingsGroup.Chat:return(0,n.jsx)(p.default,Object.assign({},e));case w.SettingsGroup.Contacts:return(0,n.jsx)(h.default,Object.assign({},e));case w.SettingsGroup.General:return(0,n.jsx)(C.default,Object.assign({},e));case w.SettingsGroup.Privacy:return(0,n.jsx)(N.default,Object.assign({},e));case w.SettingsGroup.SyncAddressBook:return(0,n.jsx)(E.default,Object.assign({origin:f.DialogNavOrigin.Settings,contentTopOffest:0,hideHeader:!0,hideSkipButton:!0,hideCloseButton:!0,nextButtonIcon:R.SkypeIcon.Ok,compositeNavContainerWidth:S.DefaultWidth},e));case w.SettingsGroup.HotKeys:return(0,n.jsx)(T.default,Object.assign({},e));case w.SettingsGroup.ReportProblem:return(0,n.jsx)(_.default,Object.assign({},e));default:return}}_getHeaderText(e){return H.getHeaderText(this.props.group,!!this._getContext().isPresentedInSplitView)}}t.default=H},638261:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(808467)),s=i(154235),l=i(815146),c=i(560099),d=o.__importStar(i(85385)),u=i(26703),p=o.__importStar(i(704704)),g=o.__importDefault(i(740794)),h=o.__importStar(i(812822)),m=o.__importDefault(i(306189)),S=i(375258),_=o.__importDefault(i(20758)),f=o.__importDefault(i(827361)),y=o.__importDefault(i(760989)),C=o.__importDefault(i(139825)),v=(0,u.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),titleContainer:()=>r.Styles.createViewStyle({paddingTop:30,paddingHorizontal:15,paddingBottom:15})});class b extends a.default{constructor(){super(...arguments),this._closeSettings=()=>{const e=y.default.newCauseId();d.log(l.LogTraceArea.Navigation,"DesktopSettingsMenu._closeSettings, causeId: "+e),this.props.closeModal?this.props.closeModal():g.default.closeGenericDesktopModal(e,this._getRootViewId())}}static getHeaderText(){return p.getString("MyProfilePanel.SettingsButtonTitle")}_buildState(e,t){var i;const o={};return(null===(i=e.detailContext)||void 0===i?void 0:i[0])instanceof h.DesktopSettingsGroupNavigationContext?o.settingsGroup=e.detailContext[0].state.group:o.settingsGroup=void 0,o}render(){const e=this.props.isAloneInNavStack&&!this._getContext().isPresentedInSplitView?(0,n.jsx)(S.SimplePanelHeader,{panelName:this._getContext().isPresentedInSplitView?void 0:this.props.title,leftButton:{closeButtonType:S.CloseButtonType.Close,onPress:this._closeSettings},useTransparentBackground:this._getContext().isPresentedInSplitView}):void 0,t=[v.panel];!this._getContext().isPresentedInSplitView||this.props.isAloneInNavStack?t.push(this._themeStyles.primaryBackgroundColorStyle):t.push(this._themeStyles.secondaryBackgroundColorStyle);const i=this._getContext().rootViewType===s.RootViewType.NativeWindow;return(0,n.jsxs)(C.default,{style:t,shouldGroupAccessibilityChildren:!1,children:[e,(0,n.jsx)(r.ScrollView,{style:f.default.flexOne,children:(0,n.jsxs)(r.View,{children:[i?this._getTitle():void 0,(0,n.jsx)(m.default,{detailContext:this.props.detailContext,isAloneInNavStack:this.props.isAloneInNavStack,title:this.props.title,resetFocus:this.props.resetFocus})]})})]})}_getTitle(){const e=p.getString("UserSettingsPanel.SettingsTitle");let t=e,i=r.Types.AccessibilityTrait.Header;return(0,n.jsx)(r.View,{style:v.titleContainer,accessibilityLabel:t,accessibilityTraits:i,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,children:(0,n.jsx)(c.HiddenText,{style:[_.default.fontStyle.messagingHeaderSmall,this._themeStyles.headerTextColorStyle],children:e})})}_getHeaderText(e){return b.getHeaderText()}}t.default=b},509839:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=(i(854646),i(154235),o.__importDefault(i(18026))),s=o.__importDefault(i(988074)),l=o.__importStar(i(833382)),c=i(815146),d=o.__importDefault(i(970035)),u=i(26703),p=o.__importStar(i(704704)),g=(o.__importDefault(i(799585)),o.__importDefault(i(660401)),i(16549)),h=o.__importDefault(i(139221)),m=i(641400),S=(i(262725),o.__importDefault(i(497910))),_=o.__importDefault(i(20758));(0,u.lazyProperties)({wrapper:()=>r.Styles.createViewStyle({marginTop:6,marginBottom:6,flexDirection:"row",alignItems:"center"}),statusMessage:()=>r.Styles.createTextStyle({marginLeft:6,flexShrink:1}),actionButton:()=>r.Styles.createButtonStyle({marginLeft:12,alignSelf:"center"}),actionButtonText:()=>r.Styles.createTextStyle({fontSize:_.default.fontSize.size14})});class f extends S.default{constructor(){super(...arguments),this._onActionButtonPress=()=>{f._installUpdate(this._getRootViewId())},this._onActionButtonHoverStart=()=>{this.setState({updateStatus:this.state.updateStatus,isHoveringActionButton:!0})},this._onActionButtonHoverEnd=()=>{this.setState({updateStatus:this.state.updateStatus,isHoveringActionButton:!1})}}_buildState(){return{updateStatus:a.default.getUpdateStatus(),isHoveringActionButton:!1}}componentDidMount(){super.componentDidMount(),a.default.checkForUpdates()}render(){return null}_getUpdateMessage(){return h.default.getPlatformType()===c.PlatformType.Linux?p.getString("AboutPanel.UpdateDownloadedLinux"):p.getString("AboutPanel.UpdateDownloaded")}_getUpdateButtonText(){return h.default.getPlatformType()===c.PlatformType.Linux?p.getString("AboutPanel.UpdateButtonLinux"):p.getString("AboutPanel.UpdateButton")}_getCheckmarkColor(){return this._useAccessibleTheme()?this._useDarkTheme()?g.Color.white:g.Color.black:this.state.updateStatus===s.default.Error?g.Color.red:g.Color.green}_renderCheckmark(e){return(0,n.jsx)(d.default,{icon:e?m.SkypeIcon.Error:m.SkypeIcon.PresenceOnlineGradient,size:m.IconSize.size20,color:this._getCheckmarkColor()})}}f._retryUpdate=()=>{a.default.checkForUpdates()},f._installUpdate=e=>{l.tryToQuitAndInstallUpdate(e)},t.default=f},11976:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackCategoryPicker=t.ReportCategories=void 0;const o=i(197582),n=i(785893),r=i(496486),a=o.__importStar(i(516778)),s=i(26703),l=o.__importStar(i(704704)),c=o.__importDefault(i(497910)),d=o.__importDefault(i(760989)),u=o.__importStar(i(888500)),p=(0,s.lazyProperties)({picker:()=>a.Styles.createPickerStyle({height:44,borderRadius:8,paddingLeft:16}),mobilePicker:()=>a.Styles.createPickerStyle({flex:1,alignContent:"center",borderWidth:1,borderStyle:"solid"})});var g;!function(e){e.default="0",e.accessibility="1",e.call="3",e.bingAndNews="14",e.chatAndNotifications="5",e.contactsAndSearch="12",e.incorrectWording="15",e.other="11",e.paidServices="16",e.performanceCrashing="6",e.phoneCallsAndSms="13",e.sisu="19",e.translationAndCaptions="20",e.clipsAndScreenRecordings="21"}(g||(t.ReportCategories=g={}));class h extends c.default{constructor(){super(...arguments),this._onHandleMenuCommand=e=>{this.props.onHandleMenuCommand(e)},this._onPickerButtonRef=e=>{this._pickerButton=e||void 0},this._onPickerClick=e=>{const t={anchor:()=>this._pickerButton,useTheme:!0,positionPriorities:["bottom","top"]};return u.default.showWithOptions({id:"FeedbackCategoryPicker",config:t,getMenuItems:()=>this.state.items.map((e=>({text:e.label,command:e.value,isCheckbox:!0}))),handleMenuCommand:e=>{e!==u.SXActionMenuCancel&&this._onHandleMenuCommand(e)},rootViewId:this._getRootViewId(),invokingEvent:e})}}_buildState(){return{items:(0,r.map)(g,(e=>({label:this._getCategoryName(e),value:e})))}}render(){const e=[p.picker,{backgroundColor:this._themeColors.surfacePrimary,borderColor:this._themeColors.dividerPrimary,color:this._themeColors.textPrimary}];return(0,n.jsx)(a.Picker,{items:this.state.items,style:e,selectedValue:this.props.selectedReportCategory,onValueChange:this._onHandleMenuCommand})}_getCategoryName(e){switch(e){case g.default:return l.getString("FeedbackMechanism.FeedbackCategoryDefault");case g.accessibility:return l.getString("FeedbackMechanism.FeedbackCategoryAccessibility");case g.call:return l.getString("FeedbackMechanism.FeedbackCategoryCall");case g.bingAndNews:return l.getString("FeedbackMechanism.FeedbackCategoryMagicBotChannelsAndNews");case g.chatAndNotifications:return l.getString("FeedbackMechanism.FeedbackCategoryNotifications");case g.contactsAndSearch:return l.getString("FeedbackMechanism.FeedbackCategoryContactsAndSearch");case g.incorrectWording:return l.getString("FeedbackMechanism.FeedbackCategoryIncorrectWording");case g.other:return l.getString("FeedbackMechanism.FeedbackCategoryOther");case g.paidServices:return l.getString("FeedbackMechanism.FeedbackCategoryPaidServices");case g.performanceCrashing:return l.getString("FeedbackMechanism.FeedbackCategoryPerformanceCrashing");case g.phoneCallsAndSms:return l.getString("FeedbackMechanism.FeedbackCategoryPhoneCallsAndSms");case g.sisu:return l.getString("FeedbackMechanism.FeedbackCategorySisu");case g.translationAndCaptions:return l.getString("FeedbackMechanism.FeedbackCategoryTranslationAndCaptions");case g.clipsAndScreenRecordings:return l.getString("FeedbackMechanism.FeedbackCategoryClipsAndScreenRecordings");default:return d.default.switchStatementExhaustiveChecking(e)}}_renderMobilePicker(e){return(0,n.jsx)(a.Button,{ref:this._onPickerButtonRef,style:[e,p.mobilePicker],onPress:this._onPickerClick,children:(0,n.jsx)(a.Text,{style:{color:this._themeColors.primaryTextColor},children:this._getCategoryName(this.props.selectedReportCategory)})})}}t.FeedbackCategoryPicker=h},831937:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(154235),l=o.__importDefault(i(186325)),c=o.__importDefault(i(929515)),d=i(26703),u=o.__importStar(i(704704)),p=o.__importStar(i(172792)),g=i(954225),h=i(196761),m=o.__importDefault(i(201721)),S=o.__importStar(i(888500)),_=i(262725),f=o.__importDefault(i(497910)),y=(0,d.lazyProperties)({container:()=>a.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",alignItems:"center",alignSelf:"stretch"}),button:()=>a.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10}),chevron:()=>a.Styles.createTextStyle({marginTop:4})});class C extends f.default{constructor(){super(...arguments),this._items=[{label:u.getString("UserSettingsPanel.TextSizeSmaller"),value:g.MessageStreamFontSize[g.MessageStreamFontSize.Smaller]},{label:u.getString("UserSettingsPanel.TextSizeSmall"),value:g.MessageStreamFontSize[g.MessageStreamFontSize.Small]},{label:u.getString("UserSettingsPanel.TextSizeNormal"),value:g.MessageStreamFontSize[g.MessageStreamFontSize.Normal]},{label:u.getString("UserSettingsPanel.TextSizeLarge"),value:g.MessageStreamFontSize[g.MessageStreamFontSize.Large]},{label:u.getString("UserSettingsPanel.TextSizeLarger"),value:g.MessageStreamFontSize[g.MessageStreamFontSize.Larger]}],this._onPickerButtonRef=e=>{this._pickerButton=e},this._onPickerClick=e=>{const t={anchor:()=>this._pickerButton,useTheme:!0,positionPriorities:["bottom","top"]};return S.default.showWithOptions({id:"fontSizePickerMenu",config:t,getMenuItems:this._getMenuItems,handleMenuCommand:this._onHandleMenuCommand,rootViewId:this._getRootViewId(),invokingEvent:e})},this._getMenuItems=()=>this._items.map((e=>({text:e.label,command:e.value,selected:e.value===g.MessageStreamFontSize[this.state.currentFontSize],isCheckbox:!0}))),this._onHandleMenuCommand=e=>{if(e===S.SXActionMenuCancel)return;let t;switch(e){case g.MessageStreamFontSize[g.MessageStreamFontSize.Smaller]:t=g.MessageStreamFontSize.Smaller;break;case g.MessageStreamFontSize[g.MessageStreamFontSize.Small]:t=g.MessageStreamFontSize.Small;break;case g.MessageStreamFontSize[g.MessageStreamFontSize.Large]:t=g.MessageStreamFontSize.Large;break;case g.MessageStreamFontSize[g.MessageStreamFontSize.Larger]:t=g.MessageStreamFontSize.Larger;break;case g.MessageStreamFontSize[g.MessageStreamFontSize.Normal]:default:t=g.MessageStreamFontSize.Normal}p.setFontSize(t,h.FontSizeChangeOrigin.Settings)}}_buildState(e,t){return{currentFontSize:m.default.getMessageStreamFontSize()}}render(){const e=u.getString("UserSettingsPanel.TextSize")+", "+this._getSelectedItemLabel()+", "+u.getString("Global.SelectedAccessibilityLabel");return(0,n.jsxs)(a.View,{children:[(0,n.jsxs)(a.View,{style:[y.container,s.ListItem.small.shortHeightStyle],children:[(0,n.jsx)(_.RowTitle,{colorThemeOverride:this._currentTheme,children:u.getString("UserSettingsPanel.TextSize")}),(0,n.jsx)(c.default,{ref:this._onPickerButtonRef,style:y.button,label:this._getSelectedItemLabel(),useBodyBoldLabel:!0,labelMaxWidth:270,chevronStyle:y.chevron,onPress:this._onPickerClick,accessibilityLabel:e})]}),(0,n.jsx)(l.default,{})]})}_getSelectedItemLabel(){const e=r.find(this._items,(e=>e.value===g.MessageStreamFontSize[this.state.currentFontSize]));return e?e.label:""}}t.default=C},690657:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(822028)),a=o.__importDefault(i(808467)),s=o.__importDefault(i(788004)),l=o.__importStar(i(704704)),c=o.__importDefault(i(4393)),d=o.__importDefault(i(872223)),u=o.__importDefault(i(427453)),p=o.__importDefault(i(233597)),g=o.__importDefault(i(918304));class h extends a.default{static getHeaderText(){return l.getString("UserSettingsPanel.GeneralTitle")}render(){return(0,n.jsxs)(p.default,{children:[(0,n.jsx)(s.default,{}),(0,n.jsx)(c.default,{}),(0,n.jsx)(r.default,{}),(0,n.jsx)(d.default,{}),(0,n.jsx)(u.default,{}),(0,n.jsx)(g.default,{})]})}_getHeaderText(e){return h.getHeaderText()}}t.default=h},820842:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(73297)),a=o.__importDefault(i(971648)),s=o.__importDefault(i(808467)),l=o.__importDefault(i(763317)),c=o.__importStar(i(704704)),d=i(884853),u=o.__importDefault(i(233597));class p extends s.default{static getHeaderText(){return c.getString("UserSettingsPanel.HelpAndAboutTitle")}render(){return(0,n.jsxs)(u.default,{children:[(0,n.jsx)(a.default,{isPartOfOtherPanel:!0}),(0,n.jsx)(l.default,{buttonStyles:this.props.buttonStyles}),(0,n.jsx)(d.SectionTitle,{title:c.getString("UserSettingsPanel.AboutTitleUpper")}),(0,n.jsx)(r.default,{buttonStyles:this.props.buttonStyles})]})}_getHeaderText(e){return p.getHeaderText()}}t.default=p},763317:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(395298)),l=o.__importDefault(i(150343)),c=(o.__importStar(i(265801)),o.__importStar(i(75576))),d=o.__importStar(i(85385)),u=o.__importStar(i(704704)),p=o.__importDefault(i(247286)),g=o.__importDefault(i(201721)),h=o.__importDefault(i(740794)),m=i(113002),S=o.__importStar(i(185201)),_=o.__importDefault(i(84830)),f=i(884853),y=o.__importDefault(i(95114)),C=o.__importStar(i(693921)),v=(o.__importDefault(i(139221)),o.__importDefault(i(497910))),b=i(483877),T=i(906908),P=i(677982);class k extends v.default{constructor(){super(...arguments),this._onDisableShakeAndSendChange=(e,t)=>{g.default.setDisableShakeAndSend(!t)},this._getDevFeatures=()=>[],this._onPressManageFeatureFlags=()=>{h.default.navigateToFeatureFlags(this._getRootViewId())},this._onPressManageSlimcoreFlags=()=>{h.default.navigateToSlimcoreFlags(this._getRootViewId())},this._onPressShowRawConfig=()=>{h.default.navigateToRawPreferences(this._getRootViewId())},this._sxPlaygroundPress=()=>{(0,T.navigateToSXPlayground)(!P.NavigationStateStore.isUsingStackReactNavigationNoSubscription())},this._getSXPlayground=()=>{},this._onSendFeedbackButtonPressed=()=>{d.track(new S.NavigationHelpAndFeedback(m.NavigationSettingsItem.SendFeedback,m.NavigationSettingsOrigin.HelpAndFeedbackMenu)),_.default.openFeedbackUrl(l.default.getConfigSettings().feedbackAndProblemGoParam.feedback,u.getString("MyProfilePanel.SendFeedbackButtonTitle"),this._getRootViewId())},this._onBrowseKnownIssuesButtonPressed=()=>{const e=c.getTelemetryCorrelationId();d.track(new S.NavigationHelpAndFeedback(m.NavigationSettingsItem.BrowseKnownIssues,m.NavigationSettingsOrigin.HelpAndFeedbackMenu,e)),this._openHelpUrlWithTrackingParams(l.default.getConfigSettings().helpGoParam.browseKnownIssues,u.getString("MyProfilePanel.BrowseKnownIssuesButtonTitle"),e)},this._onSkypeStatusButtonTitleButtonPressed=()=>{const e=c.getTelemetryCorrelationId();d.track(new S.NavigationHelpAndFeedback(m.NavigationSettingsItem.SkypeStatus,m.NavigationSettingsOrigin.HelpAndFeedbackMenu,e)),this._openHelpUrlWithTrackingParams(l.default.getConfigSettings().helpGoParam.skypeStatus,u.getString("MyProfilePanel.SkypeStatusButtonTitle"),e)},this._onSupportArticlesButtonPressed=()=>{const e=c.getTelemetryCorrelationId();d.track(new S.NavigationHelpAndFeedback(m.NavigationSettingsItem.GetHelp,m.NavigationSettingsOrigin.HelpAndFeedbackMenu,e)),this._openHelpUrlWithTrackingParams(l.default.getConfigSettings().helpGoParam.supportArticles,u.getString("MyProfilePanel.GetHelpTitle"),e)},this._onReportAProblemButtonPressed=()=>{d.track(new S.NavigationHelpAndFeedback(m.NavigationSettingsItem.ReportAProblem,m.NavigationSettingsOrigin.HelpAndFeedbackMenu)),_.default.reportProblem(!0,this._getRootViewId())},this._onRateUsButtonPressed=()=>{d.track(new S.NavigationHelpAndFeedback(m.NavigationSettingsItem.RateUs,m.NavigationSettingsOrigin.HelpAndFeedbackMenu)),_.default.openFeedbackUrl(l.default.getConfigSettings().feedbackAndProblemGoParam.rating,u.getString("MyProfilePanel.RateUsButtonTitle"),this._getRootViewId())},this._onUserVoiceLinkPressed=()=>{d.track(new S.NavigationHelpAndFeedback(m.NavigationSettingsItem.UserVoice,m.NavigationSettingsOrigin.HelpAndFeedbackMenu)),a.Linking.openUrl(c.getUserVoiceLinkUrl())}}_buildState(e,t){return{ecsShakeToSendEnabled:l.default.getOnboardingFeatures().enableReportProblemViaBot||l.default.getOnboardingFeatures().features.enableReportProblemDirectly,enableShakeAndSend:!g.default.isShakeAndSendDisabled(),enableUserVoiceLink:c.isUserVoiceLinkEnabled(),enableBrowseKnownIssuesLink:l.default.getS4LUiFeatures().enableBrowseKnownIssuesLink,isChild:p.default.isChild()}}render(){const e=[(0,n.jsx)(f.SectionTitle,{title:u.getString("MyProfilePanel.HelpTitle")},"helpTitle"),this._getHelpbutton(),this.state.enableBrowseKnownIssuesLink?this._getBrowseKnownIssuesButton():void 0,this._getSkypeStatusButton(),...this._getDevFeatures()];return this.state.isChild||e.push((0,n.jsx)(f.SectionTitle,{title:u.getString("MyProfilePanel.FeedbackTitle")},"feedbackTitle"),this._getSendFeedbackButton(),this._getReportAProblemButton(),this.state.enableUserVoiceLink?this._getUserVoiceLinkButton():void 0,this._getRateUsButton(),void 0),(0,n.jsx)(a.View,{style:this.props.style,children:r.compact(e)})}_getReportAProblemButton(){return(0,n.jsx)(b.WideButton,{label:u.getString("MyProfilePanel.ReportAProblemButtonTitle"),onPressed:this._onReportAProblemButtonPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"reportAProblem")}_getSendFeedbackButton(){return(0,n.jsx)(b.WideButton,{label:u.getString("MyProfilePanel.GiveFeedbackButtonTitle"),onPressed:this._onSendFeedbackButtonPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"sendFeedback")}_getSkypeStatusButton(){return(0,n.jsx)(b.WideButton,{label:u.getString("MyProfilePanel.SkypeStatusButtonTitle"),onPressed:this._onSkypeStatusButtonTitleButtonPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"skypeStatus")}_getBrowseKnownIssuesButton(){return(0,n.jsx)(b.WideButton,{label:u.getString("MyProfilePanel.BrowseKnownIssuesButtonTitle"),onPressed:this._onBrowseKnownIssuesButtonPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"browseKnownIssues")}_getHelpbutton(){return(0,n.jsx)(b.WideButton,{label:u.getString("MyProfilePanel.GetHelpTitle"),onPressed:this._onSupportArticlesButtonPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"supportArticles")}_getRateUsButton(){return(0,n.jsx)(b.WideButton,{label:u.getString("MyProfilePanel.RateUsButtonTitle"),onPressed:this._onRateUsButtonPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"rateUs")}_getShakeAndSendButton(){const e=u.getString("UserSettingsPanel.EnableShakeAndSend");return(0,n.jsx)(s.default,{style:[y.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableShakeAndSend,accessibilityLabel:e,onChange:this._onDisableShakeAndSendChange,children:(0,n.jsx)(f.SwitchLabel,{title:e})},"enableShakeAndSend")}_getUserVoiceLinkButton(){return(0,n.jsx)(b.WideButton,{label:u.getString("MyProfilePanel.UserVoice"),onPressed:this._onUserVoiceLinkPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"userVoiceLink")}_openHelpUrlWithTrackingParams(e,t,i){let o=C.addSsoFlagToUrl(e,!0);o=c.addCommonTrackingParams(o,!0,!0);const n={tcg:i};h.default.navigateToHelpAndFeedbackLink(o,"",t,this._getRootViewId(),n)}}t.default=k},884853:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SectionTitle=t.SwitchLabel=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(340724)),s=i(26703),l=o.__importDefault(i(95114)),c=o.__importDefault(i(827361)),d=i(262725),u=o.__importDefault(i(497910)),p=o.__importDefault(i(52066)),g=i(154235),h=o.__importStar(i(704704)),m=(0,s.lazyProperties)({title:()=>r.Styles.createTextStyle({paddingTop:30,paddingBottom:10})});class S extends u.default{constructor(){super(...arguments),this._onLearnMore=e=>{e.stopPropagation(),e.preventDefault(),r.Linking.openUrl(this.props.learnMoreUrl)}}render(){const e=[l.default.switchTitleMediumSemiLarge];this.props.disabled&&e.push(this._themeStyles.disabledTextColorStyle);const t=(0,n.jsx)(d.RowTitle,{style:e,numberOfLines:2,children:this.props.title});let i;return this.props.subtitle&&(i=(0,n.jsx)(r.View,{children:(0,n.jsxs)(d.Caption,{style:l.default.subtitleMediumSemiLarge,numberOfLines:4,children:[this.props.subtitle,this.props.learnMoreUrl?" ":null,this._getOptionalLearnMoreLink()]})})),(0,n.jsxs)(r.View,{style:c.default.flexOne,children:[t,i]})}_getOptionalLearnMoreLink(){return this.props.learnMoreUrl?(0,n.jsx)(p.default,{linkTextStyle:g.LinkTextStyle.Caption,url:"#",blue:!0,onPress:this._onLearnMore,children:h.getString("Global.LearnMore")},"learnMore"):null}}t.SwitchLabel=S;class _ extends u.default{render(){let e=(0,n.jsx)(d.Subtitle,{style:this.props.titleStyles||m.title,numberOfLines:this.props.numberOfLines||1,colorThemeOverride:this.props.colorThemeOverride,accessibilityHidden:!0,children:this.props.title});{const t=a.default.headerAccessibilityInfo(this.props.title);e=(0,n.jsx)(r.View,{style:this.props.containerStyles,accessibilityLabel:t.accessibilityLabel,accessibilityTraits:t.accessibilityTraits,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,children:e})}return e}}t.SectionTitle=_},95114:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582).__importStar(i(516778)),n=i(26703);t.default=(0,n.lazyProperties)({controlRow:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",minHeight:60,borderBottomWidth:1}),titleMediumSemiLarge:()=>o.Styles.createTextStyle({flex:1,marginRight:12}),switchTitleMediumSemiLarge:()=>o.Styles.createTextStyle({flex:1,marginRight:12,marginTop:4,marginBottom:2}),subtitleMediumSemiLarge:()=>o.Styles.createTextStyle({flex:1,marginRight:12,marginTop:2,marginBottom:4}),controlRowWithDescription:()=>o.Styles.createViewStyle({paddingTop:5,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingBottom:0,marginVertical:0}),controlRowWithNoBorder:()=>o.Styles.createViewStyle({borderBottomWidth:0})})},599133:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(701025),s=o.__importDefault(i(150343)),l=o.__importDefault(i(808467)),c=i(843890),d=o.__importDefault(i(340724)),u=o.__importDefault(i(186325)),p=i(815146),g=o.__importStar(i(85385)),h=o.__importDefault(i(97595)),m=i(26703),S=o.__importStar(i(704704)),_=o.__importDefault(i(247286)),f=o.__importDefault(i(201721)),y=i(884853),C=i(262725),v=o.__importDefault(i(760989)),b=o.__importDefault(i(827361));var T;!function(e){e[e.General=0]="General",e[e.Messaging=1]="Messaging",e[e.Calling=2]="Calling",e[e.Accessibility=3]="Accessibility",e[e.Global=4]="Global"}(T||(T={}));const P=[{category:T.General,shortcuts:[p.KeyboardShortcut.OpenKeyboardShortcuts,p.KeyboardShortcut.OpenMainWindow,p.KeyboardShortcut.OpenAppSettings,p.KeyboardShortcut.OpenHelpInABrowser,p.KeyboardShortcut.SendFeedback,p.KeyboardShortcut.OpenThemePicker,p.KeyboardShortcut.ToggleTheme,p.KeyboardShortcut.NavigateToRecents,p.KeyboardShortcut.OpenNotificationPanel,p.KeyboardShortcut.Search,p.KeyboardShortcut.NavigateToNextConversation,p.KeyboardShortcut.NavigateToPreviousConversation,p.KeyboardShortcut.ZoomIn,p.KeyboardShortcut.ZoomOut,p.KeyboardShortcut.ResetZoom,p.KeyboardShortcut.Quit,p.KeyboardShortcut.OpenSxPlayground]},{category:T.Messaging,shortcuts:[p.KeyboardShortcut.StartNewConversation,p.KeyboardShortcut.NewGroup,p.KeyboardShortcut.OpenContactsPanel,p.KeyboardShortcut.ShowConversationProfile,p.KeyboardShortcut.AddPeopleToConversation,p.KeyboardShortcut.SendFile,p.KeyboardShortcut.ToggleGallery,p.KeyboardShortcut.MarkAsUnread,p.KeyboardShortcut.EditMessage,p.KeyboardShortcut.FocusMessageComposer,p.KeyboardShortcut.EnableMultipleSelectMessages,p.KeyboardShortcut.ArchiveConversation,p.KeyboardShortcut.SearchInConversation]},{category:T.Calling,shortcuts:[p.KeyboardShortcut.AcceptIncomingCall,p.KeyboardShortcut.HangupOrRejectCall,p.KeyboardShortcut.StartVideoCall,p.KeyboardShortcut.StartAudioCall,p.KeyboardShortcut.ToggleMicrophone,p.KeyboardShortcut.ToggleCamera,p.KeyboardShortcut.ResizeVideoPreview,p.KeyboardShortcut.OpenDialpad,p.KeyboardShortcut.AddPeopleToCall,p.KeyboardShortcut.TakeCallSnapshot]},{category:T.Accessibility,shortcuts:[p.KeyboardShortcut.AnnounceMuteStatus,p.KeyboardShortcut.AnnounceSelfVideoOnOffStatus]}],k=(0,m.lazyProperties)({row:()=>r.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",marginVertical:8}),rowWithKeyViews:()=>r.Styles.createViewStyle({marginVertical:2,paddingBottom:6,alignItems:"center"}),innerRow:()=>r.Styles.createViewStyle({marginHorizontal:12}),sectionTitleRow:()=>r.Styles.createViewStyle({marginHorizontal:12,paddingBottom:8,paddingTop:24}),firstSectionTitleRow:()=>r.Styles.createViewStyle({paddingTop:12}),keyBase:()=>r.Styles.createTextStyle({margin:1}),keyWrapper:()=>r.Styles.createTextStyle({paddingVertical:8}),keyView:()=>r.Styles.createTextStyle({borderWidth:1,borderRadius:5,margin:1,textAlign:"center",paddingVertical:6,paddingHorizontal:8}),dividerStyle:()=>r.Styles.createViewStyle({position:"absolute",left:0,right:0,bottom:0,height:1})});class A extends l.default{constructor(){super(...arguments),this._handleKeyboardCommand=()=>{const e=v.default.newCauseId();return g.log(p.LogTraceArea.Navigation,"KeyboardShortcutsPanel._handleKeyboardCommand causeId: "+e),this._goBack(e),!0},this._renderShortcutsGroup=(e,t)=>{const i=e.shortcuts.map(this._renderShortcutRow);if(i.length>0){let o;switch(e.category){case T.General:o=S.getString("KeyboardShortcuts.GeneralCategoryHeader");break;case T.Messaging:o=S.getString("KeyboardShortcuts.MessagingCategoryHeader");break;case T.Calling:o=S.getString("KeyboardShortcuts.CallingCategoryHeader");break;case T.Accessibility:o=S.getString("KeyboardShortcuts.AccessibilityCategoryHeader");break;case T.Global:o=S.getString("KeyboardShortcuts.GlobalCategoryHeader");break;default:o=v.default.switchStatementExhaustiveChecking(e.category)}const r=[k.sectionTitleRow];0===t&&r.push(k.firstSectionTitleRow);return[(0,n.jsx)(y.SectionTitle,{title:o,titleStyles:r},"title"+e.category),...i]}},this._renderShortcutRow=e=>{if(!this.state.enableKeyboardNavigationBetweenConversations&&(e===p.KeyboardShortcut.NavigateToNextConversation||e===p.KeyboardShortcut.NavigateToPreviousConversation))return;if(this.state.isChild&&e===p.KeyboardShortcut.SendFeedback)return;const t=h.default.shortcutListItemForShortcut(e);return t?this._renderRow(e.toString(),t.action,t.command,t.commandParts,t.accessibleCommand,!0):void 0}}static getHeaderText(){return S.getString("KeyboardShortcuts.Title2")}_buildState(e,t){const i={enableKeyboardNavigationBetweenConversations:!this._getContext().isPresentedInSplitView&&s.default.getS4LMessagingFeatures().enableKeyboardNavigationBetweenConversations,showGlobalHotkeySection:c.UICapabilities.systemHotKeysSupported()&&!!f.default.getUserPreferencesLocal().enableSystemHotKeys,enableScreenSharingToolbar:s.default.getS4LCMCFeatures().enableScreenSharingToolbar,isChild:_.default.isChild()};return t&&(i.viewWidth=150),i}componentDidMount(){super.componentDidMount(),h.default.addHandler(p.KeyboardShortcut.OpenKeyboardShortcuts,this._handleKeyboardCommand)}componentWillUnmount(){super.componentWillUnmount(),h.default.removeHandler(p.KeyboardShortcut.OpenKeyboardShortcuts,this._handleKeyboardCommand)}render(){let e;if(this.state.viewWidth){const t=!P.some((e=>e.category===T.Global));if(this.state.showGlobalHotkeySection&&t){const e=[p.KeyboardShortcut.AcceptIncomingCall,p.KeyboardShortcut.HangupOrRejectCall,p.KeyboardShortcut.ToggleMicrophone];this.state.enableScreenSharingToolbar&&e.push(p.KeyboardShortcut.FocusScreenSharingToolbar),P.push({category:T.Global,shortcuts:e})}else this.state.showGlobalHotkeySection||t||P.pop();e=(0,n.jsx)(r.View,{children:P.map(this._renderShortcutsGroup)})}return(0,n.jsx)(a.SafeAreaView,{style:b.default.flexOneRN,edges:["left","right","bottom"],children:(0,n.jsx)(r.ScrollView,{style:b.default.flexOne,children:(0,n.jsx)(r.View,{style:[b.default.flexOne],children:e})})})}_renderRow(e,t,i,o,a,s,l=!1){const c=a?d.default.combinedAccessibilityLabel(t,a,". "):void 0,p=c?r.Types.ImportantForAccessibility.NoHideDescendants:void 0,g=[k.row];let h,m;{m=(0,n.jsx)(u.default,{style:k.dividerStyle,marginLeft:12,marginRight:12}),g.push(k.rowWithKeyViews);const e=r.Styles.createViewStyle({borderColor:this._themeColors.secondaryTextColor},!1),t=(null==o?void 0:o.map(((t,i)=>(0,n.jsx)(C.BodyText,{size:s?C.BodyTextSize.SmallDeprecated:void 0,style:[k.keyBase,k.keyView,e],children:t},"key"+i))))||[];h=(0,n.jsx)(r.Text,{style:[k.keyBase,k.keyWrapper],children:t})}return(0,n.jsxs)(r.View,{style:g,accessibilityLabel:c,ariaRoleDescription:c?"":void 0,tabIndex:c?0:void 0,importantForAccessibility:l?r.Types.ImportantForAccessibility.NoHideDescendants:void 0,children:[(0,n.jsx)(r.View,{style:[k.innerRow],importantForAccessibility:p,children:(0,n.jsx)(C.BodyText,{size:s?C.BodyTextSize.SmallDeprecated:void 0,children:t})}),(0,n.jsx)(r.View,{style:[k.innerRow],importantForAccessibility:p,children:h}),m]},e)}_getHeaderText(e){return A.getHeaderText()}}t.default=A},599526:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(340724)),s=i(154235),l=o.__importDefault(i(929515)),c=i(26703),d=o.__importStar(i(704704)),u=o.__importDefault(i(421334)),p=o.__importDefault(i(95114)),g=o.__importStar(i(888500)),h=(o.__importDefault(i(827361)),i(262725)),m=o.__importDefault(i(497910)),S=(0,c.lazyProperties)({container:()=>r.Styles.createViewStyle({justifyContent:"center"}),content:()=>r.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",alignItems:"center",alignSelf:"stretch"}),button:()=>r.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10}),chevron:()=>r.Styles.createTextStyle({marginTop:4}),withCaption:()=>r.Styles.createViewStyle({marginTop:10,marginBottom:5}),marginLeft:()=>r.Styles.createViewStyle({marginLeft:0})});class _ extends m.default{constructor(){super(...arguments),this._onPickerButtonRef=e=>{this._pickerButton=e||void 0},this._onPickerClick=e=>{const t={anchor:()=>this._pickerButton,useTheme:!0,positionPriorities:["bottom","top"]};return g.default.showWithOptions({id:this.props.id,config:t,getMenuItems:this._getMenuItems,handleMenuCommand:this._onHandleMenuCommand,rootViewId:this._getRootViewId(),invokingEvent:e})},this._getMenuItems=()=>this.props.items.map((e=>({text:e.label,command:e.value,selected:this.props.isItemSelected(e.value),isCheckbox:!0}))),this._onHandleMenuCommand=e=>{e!==g.SXActionMenuCancel&&this.props.onHandleItemSelection(e)}}_buildState(e,t){return{isMobileScreenReaderEnabled:u.default.isMobileScreenReaderEnabled()}}render(){const e=a.default.combinedAccessibilityLabel(this.props.rowTitle+", "+this.props.selectedItemLabel,d.getString("Global.SelectedAccessibilityLabel")),t=[S.container,s.ListItem.small.shortHeightStyle,this.props.style],i=[S.content],o=[S.button,this.props.rowTitle?void 0:S.marginLeft],c=this._getCaption();return c&&i.push(S.withCaption),(0,n.jsxs)(r.View,{style:t,children:[(0,n.jsxs)(r.View,{style:i,children:[this._getRowTitle(),(0,n.jsx)(l.default,{ref:this._onPickerButtonRef,style:o,label:this.props.selectedItemLabel,labelColor:this.props.labelColor,useBodyBoldLabel:!0,labelMaxWidth:270,chevronStyle:S.chevron,onPress:this._onPickerClick,accessibilityLabel:e})]}),c]})}_getRowTitle(){return this.props.rowTitle?(0,n.jsx)(h.RowTitle,{colorThemeOverride:this._currentTheme,importantForAccessibility:this.state.isMobileScreenReaderEnabled?r.Types.ImportantForAccessibility.No:void 0,children:this.props.rowTitle}):void 0}_getCaption(){if(this.props.caption)return"string"==typeof this.props.caption?(0,n.jsx)(h.Caption,{style:p.default.subtitleMediumSemiLarge,children:this.props.caption}):this.props.caption}}t.default=_},343783:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(667294),s=i(537180),l=i(154235),c=o.__importDefault(i(970035)),d=i(26703),u=o.__importDefault(i(998929)),p=i(641400),g=o.__importDefault(i(827361)),h=i(262725),m=o.__importDefault(i(983874)),S=i(815146),_=i(206315),f=o.__importDefault(i(20758)),y=o.__importDefault(i(252089)),C=i(736267),v=(0,d.lazyProperties)({row:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginHorizontal:16,borderBottomWidth:1,height:60}),compositeRow:()=>r.Styles.createViewStyle({marginHorizontal:20}),selectedIcon:()=>r.Styles.createViewStyle({margin:5,minWidth:p.IconSize.size15}),centerDiv:()=>r.Styles.createViewStyle({flex:1,justifyContent:"center",alignItems:"center"})}),b=s.StyleSheet.create({view:{flex:1},flatList:{flexGrow:1}}),T=(e,t)=>({length:60,offset:60*t,index:t}),P=(e,t)=>{if(""===e)return t;const i=e.toLowerCase();return t.filter((e=>e.label.toLowerCase().includes(i)))};t.default=function(e){const t=(0,_.useSkypeTheme)(),i=(0,C.useCommonContext)(),o=(0,a.useRef)(null),{query:d,onItemPress:k,currentItemKey:A}=e,[I,w]=(0,a.useState)((()=>P(d,e.items))),x=y.default.getTextColorStyleNoSubscription(),N=(0,a.useMemo)((()=>[f.default.rowTitleFontStyle(i.theme),x]),[i.theme,x]),D=(0,a.useMemo)((()=>[v.row,g.default.pointerCursor,g.default.noncollapsibleView,t.themeStyles.dividerBorderColorStyle,i.isPresentedInDesktopSubview?v.compositeRow:void 0,e.isMobileScreenSize?l.ListItem.small.regularHeightStyle:l.ListItem.small.shortHeightStyle]),[i.isPresentedInDesktopSubview,e.isMobileScreenSize,t.themeStyles]);(0,a.useEffect)((()=>{w(P(d,e.items))}),[d,e.items]),(0,a.useEffect)((()=>{var t;null===(t=o.current)||void 0===t||t.scrollToIndex({animated:!0,index:e.initialItemIndex,viewPosition:0})}),[e.initialItemIndex]);const M=(0,a.useCallback)((()=>{const{primaryTextColor:e}=t.themeColors;return(0,n.jsx)(c.default,{icon:p.SkypeIcon.Ok,size:p.IconSize.size15,color:e,style:v.selectedIcon})}),[t.themeColors]),L=(0,a.useCallback)(((e,t)=>{let i="",o="",a="",s=0;if(d.length>0){const t=d.toLocaleLowerCase();s=e.label.toLocaleLowerCase().indexOf(t),-1===s?i=e.label:(i=e.label.slice(0,s),o=e.label.slice(s,s+t.length),a=e.label.slice(s+t.length))}else i=e.label;return(0,n.jsxs)(h.BodyText,{bold:t,style:g.default.flexNegativeOne,numberOfLines:1,children:[(0,n.jsx)(r.Text,{children:i}),(0,n.jsx)(r.Text,{style:N,children:o}),(0,n.jsx)(r.Text,{children:a})]})}),[d,N]),R=(0,a.useCallback)((({item:e})=>{const t=e.key===A,i=t?M():null;return(0,n.jsxs)(u.default.Button,{style:D,onPress:()=>{k(e)},accessibilityLabel:e.label,children:[L(e,t),i]},e.key)}),[L,M,k,A,D]);return 0===I.length?(0,n.jsx)(r.View,{style:v.centerDiv,children:(0,n.jsx)(m.default,{query:e.query,origin:S.SearchResultsListOrigin.ListSearchPickerPanel})}):(0,n.jsx)(s.View,{style:b.view,children:(0,n.jsx)(s.FlatList,{data:I,renderItem:R,ref:o,getItemLayout:T,initialNumToRender:I.length,contentContainerStyle:b.flatList})})}},888338:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(537180),s=i(667294),l=i(815146),c=o.__importStar(i(85385)),d=o.__importStar(i(704704)),u=i(375258),p=o.__importDefault(i(760989)),g=o.__importDefault(i(98794)),h=o.__importDefault(i(984339)),m=o.__importStar(i(170881)),S=i(736267),_=o.__importDefault(i(721657)),f=a.StyleSheet.create({headerContainer:{alignItems:"stretch",flexDirection:"column"}});t.default=function(e){const t=(0,S.useCommonContext)(),i=(0,s.useRef)(null),[o]=(0,s.useState)(new r.Animated.Value(0)),[y]=(0,s.useState)(r.Styles.createAnimatedViewStyle({transform:[{translateY:o}]})),C=e.isUsingStackNavigationContext?20:0,[v]=(0,s.useState)(new r.Animated.Value(_.default.expandedHeight(t.rootViewId)+C)),[b]=(0,s.useState)(r.Styles.createAnimatedViewStyle({height:v})),T=n=>{var r;const a=p.default.newCauseId();c.log(l.LogTraceArea.Navigation,"ListSearchPickerPanel._onSearchActive,  causeId: "+a),(i=>{const n=t.rootViewId,r=P(e.isPortrait,e.isSmallDevice,e.statusBarPadding),a=i?0:-1*r,s=i?r+_.default.collapsableHeight(n)+C:_.default.expandedHeight(n)+e.statusBarPadding+C;o.setValue(a),v.setValue(s)})(!n),n||null===(r=i.current)||void 0===r||r.setState({isActive:!1})},P=(e,t,i)=>e?t?u.HeaderHeightSmall:u.HeaderHeight:t?u.HeaderHeightLandscapeSmall:u.HeaderHeightLandscape+i,k=()=>e.isUsingStackNavigationContext?(e.searchEnabled&&!e.isHeaderActive&&T(e.isHeaderActive),(0,n.jsx)(g.default,{initialValue:1,showButtonWhenInactive:!0,placeholderText:d.getString("PSTNCountrySelector.SearchPlaceholder"),onInputTextChange:e.onSearch,onActive:T,ref:i},"searchInputButton")):(0,n.jsx)(h.default,{autoFocus:!0,placeholderText:d.getString("PSTNCountrySelector.SearchPlaceholder"),activePlaceholderText:d.getString("PSTNCountrySelector.SearchPlaceholder"),showButtonWhenInactive:!0,autoFocusWhenActive:!0,onInputTextChange:e.onSearch},"searchInputButton"),A=(0,n.jsx)(u.SimplePanelHeader,{panelName:e.headerText,leftButton:{closeButtonType:e.isAloneInNavStack||t.isPresentedByMobileStackNavigator?u.CloseButtonType.Close:u.CloseButtonType.Back,title:d.getString("Global.CloseButtonTitle"),onPress:e.goBack},hideBottomBorder:e.isUsingStackNavigationContext,rightButtons:e.differentItemsSelected?{text:d.getString("Global.ApplyButtonTitle"),onPress:()=>{const t=p.default.newCauseId();c.log(l.LogTraceArea.Navigation,"ListSearchPickerHeader.onDoneButtonPress,  causeId: "+t),m.dismissAll(),e.action(e.currentItemKey),e.goBack()}}:void 0,leavePaddingForStatusBar:(e.searchEnabled,void 0)});let I;return I=e.isUsingStackNavigationContext&&e.searchEnabled?(0,n.jsx)(a.SafeAreaView,{children:(0,n.jsx)(r.Animated.View,{style:[f.headerContainer,b],children:(0,n.jsxs)(r.Animated.View,{style:y,children:[A,k()]})})}):(0,n.jsxs)(r.View,{children:[A,e.searchEnabled?k():void 0]}),I}},196634:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(496486),a=i(667294),s=i(537180),l=o.__importStar(i(704704)),c=o.__importDefault(i(791384)),d=o.__importDefault(i(343783)),u=o.__importDefault(i(888338)),p=i(815146),g=o.__importStar(i(85385)),h=s.StyleSheet.create({panel:{flex:1,alignSelf:"stretch"}});t.default=function(e){const[t,i]=(0,a.useState)(""),[o,m]=(0,a.useState)(e.initialItemKey),[S,_]=(0,a.useState)(!0),f=(0,r.debounce)((t=>{g.log(p.LogTraceArea.Navigation,"ListSearchPickerPanel.onSearch"),e.isUsingStackNavigationContext&&!S&&e.searchEnabled&&_(!0),i(t)})),y=(0,a.useCallback)((t=>{c.default.maybeAnnounceForAccessibility(l.getString("ListSearchPickerPanel.ItemSelectedAnnouncement",{item:t.label}),1e3),e.isUsingStackNavigationContext&&S&&e.searchEnabled&&_(!1),m(t.key)}),[e.isUsingStackNavigationContext,S,e.searchEnabled]);return(0,n.jsxs)(s.View,{style:h.panel,children:[(0,n.jsx)(u.default,{differentItemsSelected:o!==e.initialItemKey,currentItemKey:o,action:e.action,headerText:e.headerText,isAloneInNavStack:e.isAloneInNavStack,onSearch:f,goBack:e.goBack,searchEnabled:e.searchEnabled,isHeaderActive:S,isUsingStackNavigationContext:e.isUsingStackNavigationContext,isPortrait:e.isPortrait,isSmallDevice:e.isSmallDevice,statusBarPadding:e.statusBarPadding}),(0,n.jsx)(d.default,{items:e.items,query:t,currentItemKey:o,onItemPress:y,initialItemIndex:e.initialItemIndex,isMobileScreenSize:e.isMobileScreenSize})]})}},628703:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(380157),s=o.__importStar(i(516778)),l=i(148540),c=o.__importDefault(i(395298)),d=o.__importDefault(i(150343)),u=o.__importDefault(i(185247)),p=o.__importDefault(i(791106)),g=o.__importStar(i(235894)),h=o.__importDefault(i(369347)),m=o.__importDefault(i(638260)),S=o.__importDefault(i(132680)),_=i(843890),f=o.__importDefault(i(340724)),y=i(815146),C=i(560099),v=o.__importStar(i(85385)),b=i(26703),T=o.__importStar(i(50350)),P=(o.__importDefault(i(599526)),o.__importStar(i(704704))),k=o.__importDefault(i(305561)),A=o.__importDefault(i(463264)),I=o.__importDefault(i(251733)),w=o.__importDefault(i(246230)),x=o.__importDefault(i(95114)),N=i(967338),D=i(16549),M=o.__importDefault(i(20758)),L=i(641400),R=o.__importDefault(i(52066)),E=i(331079),B=(o.__importDefault(i(827361)),i(262725)),O=o.__importDefault(i(497910)),F=o.__importDefault(i(760989)),V=i(884853),U=o.__importDefault(i(491196)),j=i(460515),H=(0,b.lazyProperties)({toggleContainer:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center",marginBottom:5}),toggleText:()=>s.Styles.createTextStyle({flexGrow:1,flexShrink:1,marginRight:10}),sliderStyle:()=>s.Styles.createViewStyle({marginBottom:10}),sliderScaleStyle:()=>s.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",marginLeft:10,marginRight:7}),sliderScaleMark:()=>s.Styles.createTextStyle({color:D.Color.gray300,fontSize:M.default.fontSize.size13Deprecated,maxWidth:270})});class W extends O.default{constructor(){super(...arguments),this._onMicrophoneSelected=e=>{const t=F.default.newCauseId();v.log(y.LogTraceArea.AVSettings,"_onMicrophoneSelected "+e+" causeId: "+t),this.props.onMicrophoneSelected&&this.props.onMicrophoneSelected(e!==this.state.selectedMicrophone),h.default.DeviceStore.choosePreferredDevices({microphone:e},t)},this._onToggleAGC=e=>{const t=!this.state.enableAGC;h.default.DeviceStore.enableAGC(t),this.props.onToggleAGC&&this.props.onToggleAGC(t)},this._noiseSuppressionLevels=[{label:P.getString("AudioVideoSettings.NoiseSuppressionOff"),value:l.NoiseSuppressionMode[l.NoiseSuppressionMode.Off]},{label:P.getString("AudioVideoSettings.NoiseSuppressionAuto"),value:l.NoiseSuppressionMode[l.NoiseSuppressionMode.Auto]},{label:P.getString("AudioVideoSettings.NoiseSuppressionLow"),value:l.NoiseSuppressionMode[l.NoiseSuppressionMode.Low]},{label:P.getString("AudioVideoSettings.NoiseSuppressionHigh"),value:l.NoiseSuppressionMode[l.NoiseSuppressionMode.High]}],this._onToggleVoiceIsolation=e=>{const t=this.state.selectedNoiseSuppressionMode,i=this.state.enableDefaultHighNSMode?l.NoiseSuppressionMode.High:l.NoiseSuppressionMode.Auto,o=t===l.NoiseSuppressionMode.Off?i:l.NoiseSuppressionMode.Off,n=F.default.newCauseId();o===l.NoiseSuppressionMode.Off&&h.default.CallingStore.getConnectedCallIds().forEach((e=>{(0,U.default)().removeDeviceQualityBannerType(e,j.DeviceStatusToastType.AudioCaptureMusicDetectedWithHighNS,j.ToastActionType.Actioned)})),S.default.toggleVoiceIsolation(o!==l.NoiseSuppressionMode.Off,!0,this.props.callId,n),h.default.CallingStore.getConnectedCallIds().forEach((e=>{m.default.updateCallTelemetry(e,n,(e=>{e.voiceIsolationTogglePress(),e.setNoiseSuppressionMode(o)}))})),v.track(new N.NoiseSuppressionSettingsEvent(this.state.isInCall,t,o,this.props.origin))},this._onSelectNoiseSuppression=e=>{const t=h.default.DeviceStore.getNoiseSuppressionMode();if(v.log(y.LogTraceArea.AVSettings,"_onSelectNoiseSuppression new mode:"+e),h.default.DeviceStore.setNoiseSuppressionMode(e),this.state.isInCall){let t=e;t===l.NoiseSuppressionMode.Auto&&this.state.enableDefaultHighNSMode&&(v.log(y.LogTraceArea.AVSettings,"[MicrophoneSettings][_onSelectNoiseSuppression] change Auto to High"),t=l.NoiseSuppressionMode.High),h.default.CallingStore.setNoiseSuppressionMode(t),h.default.CallingStore.getConnectedCallIds().forEach((t=>{m.default.updateCallTelemetry(t,F.default.newCauseId(),(t=>t.setNoiseSuppressionMode(e)))}))}v.track(new N.NoiseSuppressionSettingsEvent(this.state.isInCall,t,e,this.props.origin))},this._onNoiseSuppressionSelected=e=>e===l.NoiseSuppressionMode[this.state.selectedNoiseSuppressionMode],this._getNoiseSuppressionCaptionWithAccessibility=()=>{const e=P.getString("AudioVideoSettings.LearnMore"),t=(0,n.jsx)(R.default,{url:d.default.getConfigSettingsNoSubscription().noiseSuppression.learnMoreUrl,onPress:this._onNoiseSuppressionLearnMore,blue:!0,children:e},"noiseSuppressionLearnMoreLink "),i=P.getParts("AudioVideoSettings.NoiseSuppressionLearnMore",{learnMoreLink:t}),o=f.default.linkAccessibilityInfo(P.getString("AudioVideoSettings.NoiseSuppressionLearnMore",{learnMoreLink:e}));return(0,n.jsx)(s.View,{accessibilityLabel:o.label,accessibilityTraits:o.traits,importantForAccessibility:s.Types.ImportantForAccessibility.Yes,onPress:void 0,children:(0,n.jsx)(B.Caption,{style:x.default.subtitleMediumSemiLarge,children:i})})},this._onNoiseSuppressionLearnMore=()=>{T.openUrlWithParams({origin:y.BrowserOrigin.AudioVideoSettings,url:d.default.getConfigSettingsNoSubscription().noiseSuppression.learnMoreUrl,rootViewId:this._getRootViewId()})}}_buildState(e,t){const i=h.default.DeviceStore.getCurrentDevices(),{enableDefaultHighNSMode:o,enableVoiceIsolationToggle:n}=d.default.getS4LCMCFeaturesNoSubscription();let r=h.default.DeviceStore.getNoiseSuppressionMode();e.callId&&n&&(r=h.default.CallingStore.getNoiseSuppressionMode(e.callId)||r);return{microphones:h.default.DeviceStore.getMicrophones(),enableAGC:h.default.DeviceStore.getAGC(),selectedNoiseSuppressionMode:r,isInCall:h.default.CallingStore.hasConnectedCalls(),selectedMicrophone:i?i.microphone:void 0,enableMicrophoneMeter:_.CallingCapabilities.microphoneLevelMeterSupported(),microphonePermissionStatus:I.default.permissionStatus(E.PermissionType.Microphone),enableNoiseSuppression:S.default.isDeepNoiseSuppressionAvailable(),enableDefaultHighNSMode:o,enableVoiceIsolationToggle:n}}componentDidMount(){super.componentDidMount(),this.state.microphonePermissionStatus===a.PermissionStatus.Unknown&&I.default.requestPermission(E.PermissionType.Microphone,E.PermissionPromptOptions.SkipPrePrompt|E.PermissionPromptOptions.PromptAgainIfDenied)}render(){let e,t,i,o;if(r.isEmpty(this.state.microphones))e=(0,n.jsx)(p.default,{audioTitleKey:"AudioVideoSettings.MicrophoneLabel",errorStringKey:"AudioVideoSettings.NoDevicePresent",errorIcon:L.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride});else{const r=this.state.enableMicrophoneMeter&&this.state.microphonePermissionStatus===a.PermissionStatus.Granted?(0,n.jsx)(k.default,{steps:this.props.micLevelMeterSteps,colorThemeOverride:this.props.colorThemeOverride,backgroundColor:this.props.backgroundColor}):void 0;let l;if(this.state.microphonePermissionStatus===a.PermissionStatus.Denied){const e=w.default.getDeniedPromptKey(E.PermissionType.Microphone);e&&(o=(0,n.jsx)(p.default,{audioTitleKey:"AudioVideoSettings.MicrophoneLabel",errorStringKey:e,errorIcon:L.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride}))}else{i=this.props.hideAutoAdjustSetting||!_.CallingCapabilities.agcSupported()?void 0:(0,n.jsx)(c.default,{style:[H.toggleContainer],accessibilityLabel:P.getString("AudioVideoSettings.AutomaticGainControlLabel"),onChange:this._onToggleAGC,isOn:this.state.enableAGC,children:(0,n.jsx)(B.BodyText,{style:H.toggleText,colorThemeOverride:this.props.colorThemeOverride,children:P.getString("AudioVideoSettings.AutomaticGainControlLabel")})}),!this.state.enableAGC&&_.CallingCapabilities.microphoneVolumeControlSupported()&&(l=[this._getSliderScale(),(0,n.jsx)(A.default,{style:H.sliderStyle,trackHeight:10,handleSize:26,colorThemeOverride:this.props.colorThemeOverride,onAdjustVolume:this.props.onAdjustVolume},"MicrophoneVolumeSlider")]);{const e=g.formatDevicesForPicker(this.state.microphones);t=(0,n.jsx)(u.default,{title:P.getString("AudioVideoSettings.MicrophoneLabel"),items:e,onValueChange:this._onMicrophoneSelected,selectedValue:this.state.selectedMicrophone||"",labelMaxWidth:this.props.labelMaxWidth,colorThemeOverride:this.props.colorThemeOverride})}e=(0,n.jsxs)(s.View,{children:[t,r,i,l,this._renderOptionalMicSettings()]})}}return(0,n.jsxs)(s.View,{children:[e,o]})}_renderOptionalMicSettings(){const e=[];if(this.state.enableNoiseSuppression)if(this.state.enableVoiceIsolationToggle){const t=this.state.selectedNoiseSuppressionMode!==l.NoiseSuppressionMode.Off;e.push((0,n.jsx)(c.default,{style:H.toggleContainer,accessibilityLabel:P.getString("AudioVideoSettings.VoiceIsolationLabel"),onChange:this._onToggleVoiceIsolation,isOn:t,children:(0,n.jsx)(V.SwitchLabel,{title:P.getString("AudioVideoSettings.VoiceIsolationLabel"),subtitle:P.getString("AudioVideoSettings.VoiceIsolationLearnMore"),learnMoreUrl:d.default.getConfigSettingsNoSubscription().noiseSuppression.learnMoreUrl})}))}else e.push((0,n.jsx)(s.View,{children:(0,n.jsx)(u.default,{title:P.getString("AudioVideoSettings.NoiseSuppressionControlLabel"),subtitle:this._getNoiseSuppressionCaptionWithAccessibility(),items:this._noiseSuppressionLevels,onValueChange:this._onSelectNoiseSuppression,selectedValue:this.state.selectedNoiseSuppressionMode||l.NoiseSuppressionMode.Auto,labelMaxWidth:this.props.labelMaxWidth,colorThemeOverride:this.props.colorThemeOverride})},"noiseSuppressionPanel"));return e}_getSliderScale(){const e=[];for(let t=0;t<=10;t++)e.push((0,n.jsx)(C.HiddenText,{style:H.sliderScaleMark,children:t.toString()},t));return(0,n.jsx)(s.View,{style:H.sliderScaleStyle,children:e},"SliderScale")}}t.default=W},305297:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(350458)),a=i(344175),s=o.__importDefault(i(150343)),l=o.__importDefault(i(229914)),c=o.__importDefault(i(304099)),d=o.__importDefault(i(958868)),u=i(154235),p=o.__importStar(i(85385)),g=o.__importStar(i(704704)),h=o.__importDefault(i(740794)),m=o.__importStar(i(3025)),S=i(884853),_=o.__importDefault(i(95114)),f=o.__importDefault(i(899204)),y=i(641400),C=o.__importDefault(i(139221)),v=i(483877),b=i(815146),T=o.__importDefault(i(999120));o.__importDefault(i(393795)),i(59263);class P extends d.default{constructor(){super(...arguments),this._getSwitchAccountsBottomSheet=()=>{},this._onPressManageProfile=()=>{p.track(new m.ManageMyProfileOnlineClicked),h.default.navigateToSsoWebFlow(this.state.manageProfileGoLink,"userInfo.profile",g.getString("UserSettingsPanel.ManageProfileWindowTitle"),this._getRootViewId(),this.state.pathsRequiringHeaders,!1,{},r.default.supportsGooglePlay()||C.default.isFireOS())},this._onPressManageAccount=()=>{p.track(new m.ManageMyAccountOnlineClicked),h.default.navigateToSsoWebFlow(this.state.manageAccountGoLink,"userInfo.myaccount",g.getString("UserSettingsPanel.ManageAccountWindowTitle"),this._getRootViewId(),this.state.pathsRequiringHeaders,!1,{},r.default.supportsGooglePlay()||C.default.isFireOS())},this._onSignOutPress=()=>{h.default.navigateToPreSignOutPanel(this._getRootViewId(),b.LogoutReason.AccountSettings)},this._onSwitchAccountsPress=()=>{this.state.isBottomSheetOpened||this.setState({isBottomSheetOpened:!0})},this._onSwitchAccountModalClosed=()=>{this.setState({isBottomSheetOpened:!1})}}static getHeaderText(){return g.getString("UserSettingsPanel.MyAccountAndProfileTitle")}_buildState(e,t){const i=s.default.getConfigSettings().profileCard,o=s.default.getS4LSisuFeatures().enableAccountSwitching;return{manageAccountGoLink:i.manageAccountGoLink,manageProfileGoLink:i.manageProfileGoLink,pathsRequiringHeaders:s.default.getS4LCommerceFeatures().webConfig.pathsRequiringHeaders,enableAccountSwitching:o,isBottomSheetOpened:!1}}render(){return(0,n.jsxs)(a.Box,{children:[(0,n.jsxs)(a.Box,{marginX:this.props.marginHorizontal,children:[(0,n.jsx)(S.SectionTitle,{title:g.getString("UserSettingsPanel.ManageButtonUpper")}),this._getBalanceSettingsButton(),this._getSkypeNumberProfileButton(),this._getManageProfileButton(),this._getManageAccountButton(),this._getCloseAccountButton(),this._getSwitchAccountsButton(),this._getSignOutButton(),(0,n.jsx)(T.default,{})]}),this._getSwitchAccountsBottomSheet()]})}_getBalanceSettingsButton(){return(0,n.jsx)(l.default,{buttonStyles:this.props.buttonStyles})}_getSkypeNumberProfileButton(){return(0,n.jsx)(f.default,{buttonStyles:this.props.buttonStyles})}_getManageAccountButton(){return(0,n.jsx)(v.WideButton,{icon:y.SkypeIcon.Card,label:g.getString("UserSettingsPanel.ManageAccountLabel"),labelStyle:_.default.titleMediumSemiLarge,buttonStyles:u.ListItem.small.shortHeightStyle,labelBottom:g.getString("UserSettingsPanel.ManageAccountDescription"),onPressed:this._onPressManageAccount,hideArrow:!0,treatAsLink:!0},"manageAccount")}_getSignOutButton(){const e=g.getString("MyProfilePanel.SignOutButtonTitle");return(0,n.jsx)(v.WideButton,{icon:y.SkypeIcon.SignOut,label:e,labelStyle:_.default.titleMediumSemiLarge,buttonStyles:u.ListItem.small.shortHeightStyle,onPressed:this._onSignOutPress,treatAsLink:!0},"signOut")}_getSwitchAccountsButton(){if(!this.state.enableAccountSwitching)return;const e=g.getString("MyProfilePanel.SwitchAccountsButtonTitle");return(0,n.jsx)(v.WideButton,{icon:y.SkypeIcon.PreviousNext,label:e,labelStyle:_.default.titleMediumSemiLarge,buttonStyles:u.ListItem.small.shortHeightStyle,onPressed:this._onSwitchAccountsPress,treatAsLink:!0},"switchAccounts")}_getManageProfileButton(){return(0,n.jsx)(v.WideButton,{icon:y.SkypeIcon.Topic,label:g.getString("UserSettingsPanel.ManageProfileLabel"),labelStyle:_.default.titleMediumSemiLarge,buttonStyles:u.ListItem.small.shortHeightStyle,labelBottom:g.getString("UserSettingsPanel.ManageProfileDescription"),onPressed:this._onPressManageProfile,hideArrow:!0,treatAsLink:!0},"manageProfile")}_getCloseAccountButton(){return(0,n.jsx)(c.default,{buttonStyles:this.props.buttonStyles})}}t.default=P},596026:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(16549),s=o.__importDefault(i(497910)),l=i(26703),c=o.__importDefault(i(20758)),d=i(77395),u=o.__importDefault(i(827361)),p=(0,l.lazyProperties)({picker:()=>r.Styles.createPickerStyle({backgroundColor:a.Color.transparent,borderColor:a.Color.transparent,cursor:"pointer"}),hoverStyle:()=>r.Styles.createViewStyle({opacity:.8}),button:()=>r.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10})}),g={picker:{textAlignLast:"end"}};class h extends s.default{constructor(){super(...arguments),this._onPickerRef=e=>{this.pickerRef=e||void 0}}render(){const e=[p.picker];this.props.labelMaxWidth&&e.push(r.Styles.createPickerStyle({maxWidth:this.props.labelMaxWidth},!1)),this.props.labelColor?e.push(r.Styles.createPickerStyle({color:this.props.labelColor},!1)):this._useAccessibleTheme()&&e.push(this._themeStyles.primaryTextColorStyle),e.push(c.default.subtitleFontStyle(this._currentTheme));const t=[u.default.noncollapsibleView,p.button];return(0,n.jsx)(d.HoverableButton,Object.assign({},this.props,{style:t,accessibilityTraits:[r.Types.AccessibilityTrait.Button,r.Types.AccessibilityTrait.HasPopup],tabIndex:-1,children:(0,n.jsx)("div",{style:g.picker,children:(0,n.jsx)(r.Picker,{accessibilityLabel:this.props.id,items:this.props.items,selectedValue:this.props.selectedValue,onValueChange:this.props.onValueChange,style:e,ref:this._onPickerRef,tabIndex:this.props.tabIndex},this.props.id)})}))}}t.default=h},155308:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(344175),a=o.__importDefault(i(150343)),s=o.__importStar(i(704704)),l=o.__importDefault(i(247286)),c=i(884853),d=o.__importDefault(i(48076)),u=o.__importDefault(i(833843)),p=i(526849);t.default=(0,p.WithResub)((({isTodayTabEnabled:e,isUserChildOrMinor:t,titleStyles:i})=>!d.default.isTablet()&&e&&!t?(0,n.jsxs)(r.Box,{children:[(0,n.jsx)(c.SectionTitle,{title:s.getString("UserSettingsPanel.NavigationSettingsLabel"),titleStyles:i},"bottomNavigationTitle"),(0,n.jsx)(u.default,{})]}):null),(e=>Object.assign(Object.assign({},e),{isTodayTabEnabled:a.default.getS4LCommerceFeatures().todayTab.enabled,isUserChildOrMinor:l.default.isChildOrMinor()})))},951212:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(279211),s=i(279211),l=o.__importStar(i(516778)),c=o.__importDefault(i(395298)),d=o.__importDefault(i(206483)),u=o.__importDefault(i(150343)),p=o.__importDefault(i(808467)),g=o.__importDefault(i(142048)),h=o.__importDefault(i(615364)),m=i(843890),S=o.__importDefault(i(152370)),_=o.__importDefault(i(340724)),f=i(154235),y=o.__importDefault(i(389659)),C=o.__importDefault(i(546467)),v=i(815146),b=o.__importStar(i(85385)),T=i(26703),P=o.__importStar(i(147286)),k=o.__importStar(i(704704)),A=o.__importStar(i(405640)),I=o.__importStar(i(196761)),w=o.__importDefault(i(226216)),x=o.__importDefault(i(201721)),N=o.__importDefault(i(363091)),D=o.__importDefault(i(942724)),M=i(395617),L=o.__importDefault(i(548196)),R=o.__importDefault(i(563925)),E=o.__importDefault(i(960282)),B=i(884853),O=o.__importDefault(i(95114)),F=i(967338),V=o.__importStar(i(888500)),U=i(331079),j=o.__importDefault(i(685734)),H=i(483877),W=o.__importDefault(i(233597)),z=o.__importDefault(i(94893)),G=o.__importDefault(i(500028)),K=i(960178),q=o.__importDefault(i(341994)),Q=(o.__importDefault(i(247286)),(0,T.lazyProperties)({title:()=>l.Styles.createTextStyle({paddingTop:30,paddingBottom:10}),settingsContainer:()=>l.Styles.createViewStyle({marginBottom:30})}));class X extends p.default{constructor(){super(...arguments),this._onChangeEnableInAppEngagementNotifications=(e,t)=>{x.default.setUserPreferencesLocal({enableInAppEngagementNotifications:t}),this._onChangeEnablePushEngagementNotifications(e,t)},this._onChangeEnablePushEngagementNotifications=(e,t)=>{if(x.default.setUserPreferencesLocal({enablePushEngagementNotifications:t}),this.state.conciergeBotSettings.enableVisibility){const e=(0,h.default)();r.each(this.state.engagementSenderIdentity,(i=>{var o;const n=null===(o=e.getConversation(i))||void 0===o?void 0:o.isArchived();t&&n?C.default.unarchiveEngagementBot(i,D.default.isUsingStackNavigationContext(),this._getContext(),v.UnarchiveConversationOrigin.NotificationSettings):t||n||C.default.archiveEngagementBot(i,this._getRootViewId(),v.ArchiveConversationOrigin.NotificationSettings)}))}},this._onChangeEmailMissedCallReminders=(e,t)=>{w.default.setEmailMissedCallRemindersEnabled(t)},this._onChangeEmailMissedMessageReminders=(e,t)=>{w.default.setEmailMissedMessageRemindersEnabled(t)},this._onResetNotificationChannelSettingsRequested=()=>{this._showAlertDialog(k.getString("Notifications.ResetNotificationSettingsLabel"),k.getString("Notifications.AndroidNotificationChannelResetToDefaultsConfirmation"),k.getString("Global.OkLabel"),k.getString("Global.CancelLabel"),(()=>{this._resetNotificationChannelSettings()}))},this._onAndroidSystemNotificationChannelSettingsLinkPressed=()=>{s.LocalNotifications.openSystemNotificationConfiguration()},this._onChatNotificationsRef=e=>{this._chatNotificationsRef=e||void 0},this._onChangeEnableScheduleCallReminderNotifications=(e,t)=>{x.default.setUserPreferencesLocal({enableScheduledCallNotifications:t})},this._onChangeEnableIgnoreActiveEndpointFiltering=(e,t)=>{x.default.setUserPreferencesLocal({ignoreActiveEndpointFiltering:t})},this._onChangeEnableInAppScheduleCallReminderNotifications=(e,t)=>{x.default.setUserPreferencesLocal({enableInAppScheduledCallNotifications:t})},this._onChangeEnablePollReminderNotifications=(e,t)=>{x.default.setUserPreferencesLocal({enablePollNotifications:t})},this._onChangeEnableInAppPollReminderNotifications=(e,t)=>{x.default.setUserPreferencesLocal({enableInAppPollNotifications:t})},this._onChangeEnableInAppNotifications=(e,t)=>{x.default.setUserPreferencesLocal({enableInAppNotifications:t})},this._onChangeEnableNotificationSounds=(e,t)=>{x.default.setUserPreferencesLocal({enableNotificationSounds:t})},this._onChangeEnablePushNotificationSounds=(e,t)=>{x.default.setUserPreferencesLocal({enablePushNotificationSounds:t})},this._onChatNotificationsChanged=(e,t)=>{!t&&this.state.enableNotificationPeriodsFeature?V.default.showWithOptions({id:"disableNotificationPeriodsMenu",config:{anchor:()=>this._chatNotificationsRef,useTheme:!0},menuTitle:k.getString("UserSettingsPanel.NotificationsDisabledPeriodTitle"),getMenuItems:()=>[{text:k.getString("UserSettingsPanel.NotificationsDisabledPeriod1Hour"),command:M.NotificationPeriodsCommands.oneHourPeriod},{text:k.getString("UserSettingsPanel.NotificationsDisabledPeriod8Hours"),command:M.NotificationPeriodsCommands.eightHoursPeriod},{text:k.getString("UserSettingsPanel.NotificationsDisabledPeriod1Day"),command:M.NotificationPeriodsCommands.oneDayPeriod},{text:k.getString("UserSettingsPanel.NotificationsDisabledPeriod1Week"),command:M.NotificationPeriodsCommands.oneWeekPeriod},{text:k.getString("UserSettingsPanel.NotificationsDisabledPeriodIndefinitely"),command:M.NotificationPeriodsCommands.indefinitelyPeriod}],handleMenuCommand:this._onChatNotificationsDisabled,rootViewId:this._getRootViewId(),invokingEvent:e}):(x.default.setUserPreferencesLocal({enableChatNotifications:t,disableChatNotificationsUntil:void 0}),a.PushNotifications.chatNotficationsToggleButtonChanged(t),b.track(new I.ChatNotificationsToggleSetting(t)))},this._onChatNotificationsDisabled=e=>{let t=!0,i=0,o=0;switch(e){case M.NotificationPeriodsCommands.oneHourPeriod:i=1;break;case M.NotificationPeriodsCommands.eightHoursPeriod:i=8;break;case M.NotificationPeriodsCommands.oneDayPeriod:o=1;break;case M.NotificationPeriodsCommands.oneWeekPeriod:o=7;break;case M.NotificationPeriodsCommands.indefinitelyPeriod:t=!1;break;case V.SXActionMenuCancel:default:return}const n=y.default.add(Date.now(),0,o,i);x.default.setUserPreferencesLocal({disableChatNotificationsUntil:n,enableChatNotifications:t}),b.track(new I.ChatNotificationsToggleSetting(!1,e)),this.setState({disabledNotificationsFor:e})}}static getHeaderText(){return k.getString("UserSettingsPanel.NotificationsTitle")}_buildState(e,t){const i=x.default.getUserPreferencesLocal(),o=j.default.getFullUserProfileByMri(N.default.getSkypeMri()),n=u.default.getS4LMessagingFeatures(),a=u.default.getEngagementFeatures(),s=a.notificationSettings,l=n.enableNotificationPeriods&&!1,c={enableScheduledCallNotifications:!!i.enableScheduledCallNotifications,enableInAppScheduledCallNotifications:!!i.enableInAppScheduledCallNotifications,enableNotificationSounds:!!i.enableNotificationSounds,enablePushNotificationSounds:!!i.enablePushNotificationSounds,enableInAppEngagementNotifications:!!i.enableInAppEngagementNotifications,enableInAppNotifications:!!i.enableInAppNotifications,enablePushEngagementNotifications:!!i.enablePushEngagementNotifications&&!!i.enableInAppEngagementNotifications,gender:o&&o.gender||U.eGender.Unspecified,isUsingStackNavigation:D.default.isUsingStackNavigationContext(),enableChatNotifications:A.areNotificationsEnabled(),enableNotificationPeriodsFeature:l,enableInAppPollNotifications:!!i.enableInAppPollNotifications,enablePollNotifications:!!i.enablePollNotifications,enableIgnoreActiveEndpointFiltering:!(!n.enableDefaultOnForMultiDevicePushNotifications||void 0!==i.ignoreActiveEndpointFiltering)||!!i.ignoreActiveEndpointFiltering,emailNotificationsSettingsEnabled:s.emailNotificationsSettingsEnabled,emailMissedCallRemindersEnabled:s.emailMissedCallReminders.enabled,emailMissedCallRemindersTimeWindowInHours:s.emailMissedCallReminders.timeWindowInHours,emailMissedMessageRemindersEnabled:s.emailMissedMessageReminders.enabled,emailMissedMessageRemindersTimeWindowInHours:s.emailMissedMessageReminders.timeWindowInHours,isPresenceChangeNotificationEnabled:u.default.getConfigSettings().presence.enablePresenceChangeNotification&&!0,conciergeBotSettings:a.conciergeBotSettings,engagementSenderIdentity:a.engagementSenderIdentity,enableOldFriendBack:u.default.getEngagementFeatures().oldFriendBack.enable&&!1};return c.emailNotificationsSettingsEnabled&&(c.emailMissedCallRemindersEnabled&&(c.enableEmailMissedCallReminders=w.default.isEmailMissedCallRemindersEnabled()),c.emailMissedMessageRemindersEnabled&&(c.enableEmailMissedMessageReminders=w.default.isEmailMissedMessageRemindersEnabled())),c.isPresenceChangeNotificationEnabled&&c.enableOldFriendBack&&(c.onlineNotificationsPickerCurrentSelected=x.default.getOnlineNotificationsSelected(),c.onlineNotificationsMigrated=!!x.default.getOnlineNotificationsMigrated()),t&&(this._initTelemetrySettingsState=r.clone(c)),c}render(){return(0,n.jsx)(W.default,{children:this.state.isUsingStackNavigation?this._getMobileSettings():this._getCompositeNotificationSettings()})}_getCompositeNotificationSettings(){const e=[];e.push((0,n.jsx)(B.SectionTitle,{title:k.getString("UserSettingsPanel.NotificationsTitleUpper"),titleStyles:Q.title},"notificationsHeader")),e.push(this._getChatNotificationButton()),this.state.isPresenceChangeNotificationEnabled&&this.state.enableOldFriendBack?e.push(this._getOnlineNotificationsPicker()):(this.state.onlineNotificationsMigrated&&this.state.onlineNotificationsPickerCurrentSelected&&(K.OnlineNotifications[this.state.onlineNotificationsPickerCurrentSelected]===K.OnlineNotifications[K.OnlineNotifications.Always]?q.default.setNotifyOnPresenceChangeEnabled(!0):K.OnlineNotifications[this.state.onlineNotificationsPickerCurrentSelected]===K.OnlineNotifications[K.OnlineNotifications.Long]?q.default.setOldFriendBackNotificationEnabled(!0):K.OnlineNotifications[this.state.onlineNotificationsPickerCurrentSelected]===K.OnlineNotifications[K.OnlineNotifications.Never]?(q.default.setNotifyOnPresenceChangeEnabled(!1),q.default.setOldFriendBackNotificationEnabled(!1)):q.default.setOldFriendBackNotificationEnabled(!0),x.default.setUserPreferencesLocal({onlineNotificationsMigrated:!1})),this.state.enableOldFriendBack&&e.push(this._getOldFriendBackNotificationButton()),this.state.isPresenceChangeNotificationEnabled&&e.push(this._getNotifyOnPresenceChangeButton())),e.push(this._getReactionNotificationsToggle(),this._getPushNotificationSoundsButton()),e.push(this._getIgnoreActiveEndpointFilteringButton(),this._getInAppEngagementNotificationsButton()),e.push(this._getScheduledCallRemindersButton(),this._getPollRemindersButton()),m.UICapabilities.inAppBrowserNotificationsSupported()&&E.default.isTinyScreenSizeNoSubscription(f.MainRootViewId)&&(e.push((0,n.jsx)(B.SectionTitle,{title:k.getString("UserSettingsPanel.InAppNotificationsSectionTitleUpper"),numberOfLines:2},"inAppNotificationsTitle")),e.push(this._getInAppNotificationsButton(),this._getInAppEngagementNotificationsButton(),this._getInAppSoundsButton(),this._getInAppScheduledCallRemindersButton()));const t=P.getLocalizeParamForGender(this.state.gender);return e.push((0,n.jsx)(B.SectionTitle,{title:k.getString("UserSettingsPanel.DoNotDisturbTitleUpper",{gender:t}),numberOfLines:2},"dndTitle")),e.push(this._getChatNotificationsDuringDNDButton(),this._getCallNotificationsDuringDNDButton()),r.each(this._getEmailNotificationsSettings(),(t=>e.push(t))),(0,n.jsx)(l.View,{children:e})}_getMobileSettings(){const e=[];e.push(this._getChatNotificationButton()),e.push((0,n.jsx)(B.SectionTitle,{title:k.getString("UserSettingsPanel.PushNotificationsTitleUpper"),numberOfLines:2},"pushNotificationsTitle")),this.state.isPresenceChangeNotificationEnabled&&e.push(this._getNotifyOnPresenceChangeButton()),e.push(this._getReactionNotificationsToggle()),this.state.isUsingStackNavigation&&e.push(this._getIgnoreActiveEndpointFilteringButton()),e.push(this._getScheduledCallRemindersButton(),this._getPollRemindersButton()),e.push((0,n.jsx)(B.SectionTitle,{title:k.getString("UserSettingsPanel.InAppNotificationsSectionTitleUpper"),numberOfLines:2},"inAppNotificationsTitle")),e.push(this._getInAppNotificationsButton(),this._getInAppEngagementNotificationsButton(),this._getInAppSoundsButton(),this._getInAppScheduledCallRemindersButton(),this._getInAppPollRemindersButton());const t=P.getLocalizeParamForGender(this.state.gender);return e.push((0,n.jsx)(B.SectionTitle,{title:k.getString("UserSettingsPanel.DoNotDisturbTitleUpper",{gender:t}),numberOfLines:2},"dndTitle")),e.push(this._getChatNotificationsDuringDNDButton(),this._getCallNotificationsDuringDNDButton()),r.each(this._getEmailNotificationsSettings(),(t=>e.push(t))),e}_getEmailNotificationsSettings(){const e=[];return this.state.emailNotificationsSettingsEnabled&&(this.state.emailMissedMessageRemindersEnabled||this.state.emailMissedCallRemindersEnabled)&&(e.push((0,n.jsx)(B.SectionTitle,{title:k.getString("UserSettingsPanel.EmailNotificationsTitleUpper"),numberOfLines:2},"emailNotifications")),this.state.emailMissedMessageRemindersEnabled&&e.push(this._getEmailMissedMessageRemindersButton()),this.state.emailMissedCallRemindersEnabled&&e.push(this._getEmailMissedCallRemindersButton())),e}_getChatNotificationButton(){const e=k.getString("UserSettingsPanel.ChatNotifications"),t=k.getString("UserSettingsPanel.ChatNotificationsSecondary");return(0,n.jsx)(c.default,{ref:this._onChatNotificationsRef,style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableChatNotifications,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChatNotificationsChanged,children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"chatNotifications")}_getScheduledCallRemindersButton(){const e=k.getString("UserSettingsPanel.ScheduledCallNotifications"),t=k.getString("UserSettingsPanel.ScheduledCallNotificationsSecondary");return(0,n.jsx)(c.default,{style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableScheduledCallNotifications,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableScheduleCallReminderNotifications,children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"scheduledCallReminderNotifications")}_getIgnoreActiveEndpointFilteringButton(){const e=k.getString("UserSettingsPanel.IgnoreActiveEndpointFiltering"),t=k.getString("UserSettingsPanel.IgnoreActiveEndpointFilteringSecondary");return(0,n.jsx)(c.default,{style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableIgnoreActiveEndpointFiltering,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableIgnoreActiveEndpointFiltering,disable:!this.state.enableChatNotifications,children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"ignoreActiveEndpointFiltering")}_getInAppScheduledCallRemindersButton(){const e=k.getString("UserSettingsPanel.InAppScheduledCallNotifications"),t=k.getString("UserSettingsPanel.InAppScheduledCallNotificationsSecondary");return(0,n.jsx)(c.default,{style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableInAppScheduledCallNotifications,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableInAppScheduleCallReminderNotifications,children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"inAppScheduledCallReminderNotifications")}_getPollRemindersButton(){const e=k.getString("UserSettingsPanel.PollNotifications"),t=k.getString("UserSettingsPanel.PollNotificationsSecondary");return(0,n.jsx)(c.default,{style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enablePollNotifications,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnablePollReminderNotifications,children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"pollReminderNotifications")}_getInAppPollRemindersButton(){const e=k.getString("UserSettingsPanel.InAppPollNotifications"),t=k.getString("UserSettingsPanel.InAppPollNotificationsSecondary");return(0,n.jsx)(c.default,{style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableInAppPollNotifications,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableInAppPollReminderNotifications,children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"inAppPollReminderNotifications")}_getReactionNotificationsToggle(){return(0,n.jsx)(R.default,{style:this.props.buttonStyles,disable:!this.state.enableChatNotifications},"reactionNotifications")}_getPushEngagementNotificationButton(){const e=k.getString("UserSettingsPanel.PushEngagementNotifications"),t=k.getString("UserSettingsPanel.PushEngagementNotificationsSecondary");return(0,n.jsx)(c.default,{style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enablePushEngagementNotifications,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnablePushEngagementNotifications,disable:!this.state.enableInAppEngagementNotifications,children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"pushEngagementNotifications")}_getEmailMissedCallRemindersButton(){const e=k.getString("UserSettingsPanel.EmailMissedCallRemindersEnabledLabel"),t=k.getString("UserSettingsPanel.EmailMissedCallRemindersEnabledDescriptionV2",{count:this.state.emailMissedCallRemindersTimeWindowInHours});return(0,n.jsx)(c.default,{style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:!!this.state.enableEmailMissedCallReminders,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEmailMissedCallReminders,disable:r.isUndefined(this.state.enableEmailMissedCallReminders),children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"emailMissedCallReminders")}_getEmailMissedMessageRemindersButton(){const e=k.getString("UserSettingsPanel.EmailMissedMessageRemindersEnabledLabelV2"),t=k.getString("UserSettingsPanel.EmailMissedMessageRemindersEnabledDescriptionV2",{count:this.state.emailMissedMessageRemindersTimeWindowInHours});return(0,n.jsx)(c.default,{style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:!!this.state.enableEmailMissedMessageReminders,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEmailMissedMessageReminders,disable:r.isUndefined(this.state.enableEmailMissedMessageReminders),children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"emailMissedMessageReminders")}_getAndroidSystemNotificationChannelSettingsLink(){const e=k.getString("Notifications.AndroidNotificationChannelConfigurationTitle"),t=k.getString("Notifications.AndroidNotificationChannelConfigurationSubtitle"),i=k.getString("Notifications.ResetNotificationSettingsLabel");return(0,n.jsxs)(l.View,{children:[(0,n.jsx)(H.WideButton,{label:e,labelBottom:t,hideDivider:!1,treatAsLink:!0,onPressed:this._onAndroidSystemNotificationChannelSettingsLinkPressed}),(0,n.jsx)(H.WideButton,{label:i,treatAsLink:!0,hideDivider:!1,onPressed:this._onResetNotificationChannelSettingsRequested})]},"androidAdvancedNotificationConfiguration")}_resetNotificationChannelSettings(){s.LocalNotifications.resetNotificationSettings().then((e=>{e&&(x.default.setUserPreferencesLocal({shouldSkipAndroidNotificationChannelMigration:!1,enablePushNotificationSounds:!0,enableInAppEngagementNotifications:!0,ignoreActiveEndpointFiltering:!1,enableScheduledCallNotifications:!0,enablePollNotifications:!0,enableChatNotifications:!0}),s.LocalNotifications.createNotificationChannelsIfNeeded())}))}_getInAppNotificationsButton(){const e=k.getString("UserSettingsPanel.InAppNotifications"),t=k.getString("UserSettingsPanel.InAppNotificationsSecondary");return(0,n.jsx)(c.default,{style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableInAppNotifications,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableInAppNotifications,disable:!this.state.enableChatNotifications,children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"inAppNotifications")}_getInAppEngagementNotificationsButton(){const e=k.getString("UserSettingsPanel.InAppEngagementNotifications"),t=k.getString("UserSettingsPanel.InAppEngagementNotificationsSecondary");return(0,n.jsx)(c.default,{style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableInAppEngagementNotifications,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableInAppEngagementNotifications,children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"inAppEngagementNotifications")}_getPushNotificationSoundsButton(){const e=k.getString("UserSettingsPanel.NotificationSounds"),t=k.getString("UserSettingsPanel.NotificationSoundsSecondary");return(0,n.jsx)(c.default,{style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enablePushNotificationSounds,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnablePushNotificationSounds,disable:!this.state.enableChatNotifications,children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"pushSounds")}_getInAppSoundsButton(){const e=k.getString("UserSettingsPanel.InAppSounds"),t=k.getString("UserSettingsPanel.InAppSoundsSecondary");return(0,n.jsx)(c.default,{style:[O.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableNotificationSounds,accessibilityLabel:_.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableNotificationSounds,disable:!this.state.enableChatNotifications||!this.state.enableInAppNotifications,children:(0,n.jsx)(B.SwitchLabel,{title:e,subtitle:t})},"inAppSounds")}_getChatNotificationsDuringDNDButton(){return(0,n.jsx)(S.default,{},"chatNotificationsDuringDND")}_getNotifyOnPresenceChangeButton(){return(0,n.jsx)(L.default,{},"notifyOnPresenceChangeButton")}_getCallNotificationsDuringDNDButton(){return(0,n.jsx)(g.default,{},"callNotificationsDuringDND")}_getOldFriendBackNotificationButton(){return(0,n.jsx)(z.default,{},"oldFriendBackNotificationButton")}_getOnlineNotificationsPicker(){return(0,n.jsx)(G.default,{},"OnlineNotificationsPicker")}_getHeaderText(e){return X.getHeaderText()}_getNotificationSettingValueIfChanged(e,t){return e===t?void 0:t}_generateChangedSettings(){const e={didEnableChatNotifications:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enableChatNotifications,this.state.enableChatNotifications),didEnableInAppNotifications:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enableInAppNotifications,this.state.enableInAppNotifications),didEnableInAppEngagementNotifications:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enableInAppEngagementNotifications,this.state.enableInAppEngagementNotifications),didEnableNotificationSounds:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enableNotificationSounds,this.state.enableNotificationSounds),didEnablePushNotificationSounds:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enablePushNotificationSounds,this.state.enablePushNotificationSounds),didEnablePushEngagementNotifications:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enablePushEngagementNotifications,this.state.enablePushEngagementNotifications),didEnableIgnoreActiveEndpointFiltering:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enableIgnoreActiveEndpointFiltering,this.state.enableIgnoreActiveEndpointFiltering),disabledNotificationsFor:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.disabledNotificationsFor,this.state.disabledNotificationsFor)};return r.omitBy(e,r.isUndefined)}componentWillUnmount(){super.componentWillUnmount();const e=this._generateChangedSettings();r.isEmpty(e)||b.track(new F.NotificationSettingsChangeTelemetry(e))}_showAlertDialog(e,t,i,o,n){const r=[{text:i,onPress:()=>{n&&n()},isSubmit:!0}];o&&r.splice(0,0,{text:o,isCancel:!0}),d.default.showWithOptions({title:e,message:t,buttons:r,dialogAccessibilityTitle:e,rootViewId:this._getRootViewId(),useFocussedWindowFallback:!0})}}t.default=X},500028:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(667294),l=i(154235),c=o.__importDefault(i(186325)),d=o.__importDefault(i(929515)),u=i(26703),p=o.__importStar(i(704704)),g=o.__importStar(i(888500)),h=i(262725),m=o.__importDefault(i(95114)),S=i(960178),_=o.__importDefault(i(201721)),f=o.__importDefault(i(827361)),y=i(736267),C=o.__importDefault(i(341994)),v=i(526849),b=i(677982),T=(0,u.lazyProperties)({container:()=>a.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",alignItems:"center",alignSelf:"stretch"}),button:()=>a.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10}),chevron:()=>a.Styles.createTextStyle({marginTop:4})}),P=[{label:p.getString("UserSettingsPanel.OnlineNotificationsLong"),value:S.OnlineNotifications[S.OnlineNotifications.Long]},{label:p.getString("UserSettingsPanel.OnlineNotificationsAlways"),value:S.OnlineNotifications[S.OnlineNotifications.Always]},{label:p.getString("UserSettingsPanel.OnlineNotificationsNever"),value:S.OnlineNotifications[S.OnlineNotifications.Never]}];t.default=(0,v.WithResub)((0,s.memo)((function(e){const t=(0,s.useRef)(),{currentSelected:i,onlineNotificationsMigrated:o,enableOldFriendBack:u,isPresenceChangeNotificationEnabled:v}=e,{rootViewId:b}=(0,y.useCommonContext)();(0,s.useEffect)((()=>{o||(_.default.setUserPreferencesLocal({onlineNotifications:i,onlineNotificationsMigrated:!0}),C.default.setNotifyOnPresenceChangeEnabled(!1),C.default.setOldFriendBackNotificationEnabled(!1))}),[o,i]);const k=()=>{const e=r.find(P,(e=>e.value===S.OnlineNotifications[i]));return e?e.label:""},A=e=>e.value===S.OnlineNotifications[S.OnlineNotifications.Long]?!u:e.value===S.OnlineNotifications[S.OnlineNotifications.Always]&&!v,I=()=>P.map((e=>({text:e.label,command:e.value,selected:e.value===S.OnlineNotifications[i],isCheckbox:!0,disabled:A(e)}))),w=e=>{if(e===g.SXActionMenuCancel)return;let t;switch(e){case S.OnlineNotifications[S.OnlineNotifications.Long]:t=S.OnlineNotifications.Long;break;case S.OnlineNotifications[S.OnlineNotifications.Always]:t=S.OnlineNotifications.Always;break;case S.OnlineNotifications[S.OnlineNotifications.Never]:t=S.OnlineNotifications.Never;break;default:t=u?S.OnlineNotifications.Long:S.OnlineNotifications.Never}_.default.setUserPreferencesLocal({onlineNotifications:t})},x=`${p.getString("UserSettingsPanel.OnlineNotificationsPickerSecondary")}, ${k()}, ${p.getString("Global.SelectedAccessibilityLabel")}`;return(0,n.jsxs)(a.View,{children:[(0,n.jsxs)(a.View,{style:[T.container,l.ListItem.small.shortHeightStyle],children:[(0,n.jsxs)(a.View,{style:f.default.flexOne,children:[(0,n.jsx)(h.RowTitle,{style:m.default.switchTitleMediumSemiLarge,children:p.getString("UserSettingsPanel.OnlineNotificationsPickerLabel")}),(0,n.jsx)(h.Caption,{style:m.default.subtitleMediumSemiLarge,numberOfLines:4,children:p.getString("UserSettingsPanel.OnlineNotificationsPickerSecondary")})]}),(0,n.jsx)(d.default,{ref:e=>{t.current=e},style:T.button,label:k(),useBodyBoldLabel:!0,labelMaxWidth:270,chevronStyle:T.chevron,onPress:e=>{const i={anchor:()=>t.current,useTheme:!0,positionPriorities:["bottom","top"]};return g.default.showWithOptions({id:"onlineNotificationsPickerMenu",config:i,getMenuItems:I,handleMenuCommand:w,rootViewId:b,invokingEvent:e})},accessibilityLabel:x})]}),(0,n.jsx)(c.default,{})]})})),(e=>{const t=_.default.getOnlineNotificationsSelected(),i=!!_.default.getOnlineNotificationsMigrated(),o=b.AppConfigStore.getEngagementFeatures().oldFriendBack.enable&&!1,n=b.AppConfigStore.getConfigSettings().presence.enablePresenceChangeNotification&&!0;let r;if(!i){const e=C.default.getNotifyOnPresenceChangeState(),t=C.default.getOldFriendBackNotificationState();void 0!==e&&(r="true"===e?S.OnlineNotifications.Always:S.OnlineNotifications.Never),void 0!==t&&(r="false"!==t?S.OnlineNotifications.Long:S.OnlineNotifications.Never)}return Object.assign(Object.assign({},e),{onlineNotificationsMigrated:i,currentSelected:null!=r?r:t,enableOldFriendBack:o,isPresenceChangeNotificationEnabled:n})}))},617067:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(397691)),s=i(344175),l=o.__importDefault(i(395298)),c=o.__importDefault(i(150343)),d=o.__importDefault(i(808467)),u=o.__importDefault(i(217148)),p=i(465522),g=o.__importDefault(i(340724)),h=o.__importDefault(i(186325)),m=o.__importDefault(i(123504)),S=o.__importDefault(i(421852)),_=o.__importStar(i(372690)),f=o.__importStar(i(704704)),y=o.__importDefault(i(201721)),C=i(884853),v=o.__importDefault(i(95114)),b=o.__importDefault(i(639460)),T=o.__importDefault(i(994617)),P=o.__importDefault(i(728876)),k=(o.__importDefault(i(827361)),o.__importDefault(i(369983))),A=i(262725),I=o.__importDefault(i(495920)),w=o.__importDefault(i(89984)),x=i(483877),N=o.__importDefault(i(247286)),D=i(483753),M=i(815146),L=o.__importStar(i(50350)),R=o.__importDefault(i(233597)),E=o.__importDefault(i(206483)),B=o.__importDefault(i(855191)),O=o.__importDefault(i(572303)),F=o.__importStar(i(446574)),V=o.__importStar(i(892135)),U=i(967338),j=o.__importDefault(i(700855)),H=o.__importStar(i(85385)),W=i(723148);class z extends d.default{constructor(){super(...arguments),this._toggleContactsOnly=(e,t)=>{y.default.setUserPreferencesLocal({allowCallsFromContactsOnly:t})},this._openPrivacy=()=>{_.openPrivacy()},this._onLearnMoreLinkPress=()=>{L.openUrlWithParams({origin:M.BrowserOrigin.TelemetryConsentSettingsDescription,url:c.default.getConfigSettingsNoSubscription().telemetryInfoUrl.url,rootViewId:this._getRootViewId()})},this._confirmClearData=()=>{const e=f.getString("UserSettingsPanel.ClearAppDataContent"),t=this._getRootViewId(),i=[{text:f.getString("UserSettingsPanel.ClearAppDataButton"),onPress:this._clearAppData},{text:f.getString("Global.CancelLabel")}];E.default.showWithOptions({title:f.getString("UserSettingsPanel.ClearAppDataButton"),dialogAccessibilityTitle:e,message:e,buttons:i,rootViewId:t})},this._clearAppData=()=>{H.log(M.LogTraceArea.AppFlow,"_clearAppData pressed"),H.track(new U.PrivacySettingsTelemetryEvent("ClearAppData"));const e=j.default.clearCookies(),t=B.default.internal_setDatabaseWipeFlag(),i=F.EnsureStartedExclusive([O.default]).then((()=>O.default.nukeDB()));a.all([e,t,i]).then((()=>{H.log(M.LogTraceArea.AppFlow,"_clearAppDataAndPrefs flags set. Will restart"),H.track(new U.PrivacySettingsTelemetryEvent("ClearAppData",{cleared:!0})),V.reloadApp("clear-appdataandprefs")})).catch((()=>{H.log(M.LogTraceArea.AppFlow,"_clearAppData something went wrong."),H.track(new U.PrivacySettingsTelemetryEvent("ClearAppData",{cleared:!1}))}))}}static getHeaderText(){return f.getString("UserSettingsPanel.PrivacyHeader")}_buildState(){const e=y.default.getUserPreferencesLocal(),t=c.default.getS4LCMCFeatures(),i=c.default.getS4LTelemetryFeatures(),{enableMagicBot:o}=c.default.getS4LMessagingFeatures(),{enableAdsPersonalizationConsentInSettings:n}=c.default.getAdsFeatures();return{telemetryFilteringFeatureEnabled:i.enableTelemetryFiltering,telemetryConsentUIEnabled:i.enableTelemetryConsentUI,telemetryLearnMoreLink:c.default.getConfigSettingsNoSubscription().telemetryInfoUrl.url,allowCallsFromContactsOnly:e.allowCallsFromContactsOnly,isSpeechConsentFlowEnabled:t.enableSpeechConsentFlow,bingEnabled:!!w.default.getBingIntegration()||o,e911LocationEnabled:!S.default.requiresSystemPermission&&S.default.isLocationEnabled(),isChild:N.default.isChild(),enableMagicBot:o,enableAdsPersonalizationToggle:n}}render(){return(0,n.jsxs)(R.default,{children:[this._getPrivacySection(),this._getLocationSection(),this._getTranslationSection(),this._getCallingSection(),this._getTelemetrySection(),this._getAdPreferencesSection(),this._getAboutSection()]})}_getLocationSection(){let e,t;if(this.state.e911LocationEnabled&&(e=(0,n.jsx)(m.default,{})),!this.state.isChild&&this.state.bingEnabled&&(t=(0,n.jsx)(u.default,{})),e||t)return(0,n.jsxs)(r.View,{children:[(0,n.jsx)(C.SectionTitle,{title:f.getString("UserSettingsPanel.LocationTitleUpper")}),e,t]})}_getAdPreferencesSection(){return this.state.enableAdsPersonalizationToggle?this.state.isChild?null:(0,n.jsxs)(r.View,{children:[(0,n.jsx)(C.SectionTitle,{title:f.getString("UserSettingsPanel.AdsPreferencesTitleUpper")}),(0,n.jsx)(W.AdPreferencesButtonWithCaption,{}),(0,n.jsx)(h.default,{})]}):null}_getTranslationSection(){if(this.state.isChild)return;const e=this.state.isSpeechConsentFlowEnabled?(0,n.jsx)(b.default,{}):(0,n.jsx)(I.default,{});return(0,n.jsxs)(r.View,{children:[(0,n.jsx)(C.SectionTitle,{title:f.getString("LanguageAndTranslationSettingsPanel.TranslationHeader")}),e,(0,n.jsx)(h.default,{}),(0,n.jsx)(T.default,{}),(0,n.jsx)(P.default,{})]})}_getCallingSection(){return this.state.isChild?null:(0,n.jsxs)(r.View,{children:[(0,n.jsx)(C.SectionTitle,{title:f.getString("UserSettingsPanel.CallingSettingsWindowTitleUpper")}),this._getContactsOnlySettings()]})}_getTelemetrySection(){return!this.state.isChild&&this.state.telemetryFilteringFeatureEnabled&&this.state.telemetryConsentUIEnabled?(0,n.jsxs)(r.View,{children:[(0,n.jsx)(C.SectionTitle,{title:f.getString("UserSettingsPanel.TelemetrySettingsTitleUpper")}),this._getTelemetryDescription(),(0,n.jsx)(k.default,{}),(0,n.jsx)(h.default,{})]}):null}_getTelemetryDescription(){const e=f.getString("UserSettingsPanel.TelemetryConsentSwitchLearnMoreLinkText"),t=this._getLearnMoreLink(),i=f.getParts("UserSettingsPanel.RequiredTelemetryInfoText",{learnMoreLink:t}),o=g.default.linkAccessibilityInfo(f.getString("UserSettingsPanel.RequiredTelemetryInfoText",{learnMoreLink:e}));return(0,n.jsx)(r.View,{accessibilityLabel:o.label,accessibilityTraits:o.traits,importantForAccessibility:void 0,onPress:void 0,children:(0,n.jsx)(A.Caption,{style:v.default.subtitleMediumSemiLarge,children:i})})}_getLearnMoreLink(){return(0,n.jsx)(D.AccessibleLink,{url:this.state.telemetryLearnMoreLink,textElement:A.Caption,correctiveMargin:-3,children:f.getString("Global.LearnMore")},"telemetryLearnMore")}_getAboutSection(){return(0,n.jsxs)(r.View,{children:[(0,n.jsx)(C.SectionTitle,{title:f.getString("UserSettingsPanel.AboutTitleUpper")}),(0,n.jsx)(x.WideButton,{label:f.getString("AboutPanel.PrivacyPolicyLabel"),onPressed:this._openPrivacy,buttonStyles:this.props.buttonStyles})]})}_getContactsOnlySettings(){const e=f.getString("UserSettingsPanel.AllowCallsFromContactsOnlyOldPanel"),t=(0,p.renderLabels)(e);return(0,n.jsx)(l.default,{style:[v.default.controlRow,this._themeStyles.dividerBorderColorStyle],isOn:this.state.allowCallsFromContactsOnly,accessibilityLabel:e,onChange:this._toggleContactsOnly,children:t})}_getPrivacySection(){return(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(C.SectionTitle,{title:f.getString("UserSettingsPanel.PrivacyHeaderUpper")}),(0,n.jsx)(x.WideButton,{label:f.getString("UserSettingsPanel.ClearAppData"),onPressed:this._confirmClearData,buttonStyles:this.props.buttonStyles})]})}_getHeaderText(e){return z.getHeaderText()}}t.default=z},306189:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(843890),l=o.__importDefault(i(859545)),c=i(154235),d=o.__importStar(i(85385)),u=o.__importDefault(i(54945)),p=i(26703),g=o.__importStar(i(704704)),h=o.__importDefault(i(924849)),m=o.__importDefault(i(363091)),S=o.__importDefault(i(740794)),_=o.__importStar(i(812822)),f=i(812822),y=o.__importDefault(i(942724)),C=i(113002),v=o.__importStar(i(185201)),b=i(641400),T=o.__importDefault(i(497910)),P=o.__importDefault(i(685734)),k=o.__importDefault(i(760989)),A=i(483877),I=i(815146),w=i(677982);var x;!function(e){e[e.AccountAndProfile=0]="AccountAndProfile",e[e.General=1]="General",e[e.Privacy=2]="Privacy",e[e.Appearance=3]="Appearance",e[e.AudioVideo=4]="AudioVideo",e[e.Calling=5]="Calling",e[e.Messaging=6]="Messaging",e[e.Notifications=7]="Notifications",e[e.Contacts=8]="Contacts",e[e.HelpAndAbout=9]="HelpAndAbout",e[e.ManagePayments=10]="ManagePayments",e[e.SignOut=11]="SignOut"}(x||(x={}));const N=[x.AccountAndProfile,x.General,x.Privacy,x.Appearance,x.AudioVideo,x.Calling,x.Messaging,x.Notifications,x.Contacts,x.HelpAndAbout,x.SignOut],D="menuitem",M=(0,p.lazyProperties)({menuItem:()=>a.Styles.createViewStyle({paddingHorizontal:10})});class L extends T.default{constructor(){super(...arguments),this._mountedRefsMap=new h.default,this._renderMenuItem=e=>{const t=D+e;switch(e){case x.AccountAndProfile:return this._getAccountAndProfileSettings(t);case x.General:return this._getGeneralSettings(t);case x.Privacy:return this._getPrivacySettings(t);case x.Appearance:return this._getAppearanceSettings(t);case x.AudioVideo:return this._getAudioVideoSettings(t);case x.Calling:return this._getCallingVoiceMailSettings(t);case x.Messaging:return this._getMessagingAndChatsSettings(t);case x.Notifications:return this._getNotificationsSettings(t);case x.Contacts:return this._getContactsSettings(t);case x.HelpAndAbout:return this._getHelpAndAboutSettings(t);case x.ManagePayments:return this._getManagePaymentsSettings(t);case x.SignOut:return this._getSignOut(t);default:return k.default.switchStatementExhaustiveChecking(e)}},this._onHelpAndFeedbackButtonPressed=()=>{d.track(new v.NavigationHelpAndFeedback(C.NavigationSettingsItem.HelpAndFeedback,C.NavigationSettingsOrigin.ApplicationSettings)),S.default.navigateToSettingsGroup(f.SettingsGroup.HelpAndFeedback,this._getRootViewId())},this._onAudioVideoSettingsButtonPressed=()=>{this._navigateToSettingsGroup(f.SettingsGroup.AudioVideoSettings)},this._onMyAccountAndProfileSettingsButtonPressed=()=>{this._navigateToSettingsGroup(f.SettingsGroup.AccountAndProfile)},this._onMessagingAndChatsButtonPressed=()=>{this._navigateToSettingsGroup(f.SettingsGroup.Chat)},this._onAppearanceSettingsButtonPressed=()=>{this._navigateToSettingsGroup(f.SettingsGroup.ThemeSettings)},this._onNotificationsButtonPressed=()=>{d.track(new v.NavigationNotificationSettings(C.NavigationSettingsOrigin.ApplicationSettings)),this._navigateToSettingsGroup(f.SettingsGroup.Notifications)},this._onContactsButtonPressed=()=>{this._navigateToSettingsGroup(f.SettingsGroup.Contacts)},this._onSignOutButtonPressed=()=>{S.default.navigateToPreSignOutPanel(this._getRootViewId(),I.LogoutReason.Settings)},this._onCallingSettingsButtonPressed=()=>{const e=this.props.detailContext&&1===this.props.detailContext.length&&r.first(this.props.detailContext)instanceof _.CallingSettingsPanelNavigationContext;S.default.navigateToCallingSettingsPanel(!0,this._getContext()),e&&this.props.resetFocus&&this.props.resetFocus()},this._onOtherSettingsButtonPressed=()=>{this._navigateToSettingsGroup(f.SettingsGroup.General)},this._onPrivacySettingsButtonPressed=()=>{this._navigateToSettingsGroup(f.SettingsGroup.Privacy)},this._onKeyPress=e=>{let t=this.state.focusedIndex;e.keyCode!==u.default.UP&&e.keyCode!==u.default.LEFT||(t-=1),e.keyCode!==u.default.DOWN&&e.keyCode!==u.default.RIGHT||(t+=1),t<0||t>=this.state.menuCategories.length||this.setState({focusedIndex:t})}}_buildState(e,t){const i=P.default.getFullUserProfileByMri(m.default.getSkypeMri()),o=y.default.isUsingStackNavigationContext(),n=w.AppConfigStore.getS4LSisuFeatures().enableAccountSwitching,a={displayName:i.getDisplayName(),isUsingStackNavigation:o,enableAccountSwitching:n};return e.detailContext&&e.detailContext[0]instanceof _.DesktopSettingsGroupNavigationContext?a.settingsGroup=e.detailContext[0].state.group:a.settingsGroup=void 0,t&&(a.focusedIndex=0),a.menuCategories=r.filter(N,(e=>{switch(e){case x.AccountAndProfile:return l.default.navigation().canAccessProfileSettings;case x.General:return l.default.navigation().canAccessGeneralSettings;case x.AudioVideo:return s.UICapabilities.avSettingsSupported();case x.Calling:return l.default.navigation().canAccessCallingSettings;case x.Messaging:return l.default.navigation().canAccessMessagingSettings;case x.Appearance:return l.default.userSettings().canChangeAppearance;case x.Contacts:return l.default.contacts().canHaveContacts;case x.ManagePayments:return l.default.navigation().canAccessPaymentsSettings;default:return!0}})),a}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.focusedIndex!==t.focusedIndex&&this._focusItem(this.state.focusedIndex)}render(){return this.props.isAloneInNavStack&&this._getContext().isPresentedInSplitView?null:(0,n.jsx)(a.View,{onKeyPress:this._onKeyPress,children:r.map(this.state.menuCategories,this._renderMenuItem)})}_getAccountAndProfileSettings(e){const t=this._isSettingsGroupSelected(f.SettingsGroup.AccountAndProfile);return this._getWideButton({icon:b.SkypeIcon.Contact,label:g.getString("UserSettingsPanel.AccountAndProfileSettingsTitle"),key:e,selected:t,onPressed:this._onMyAccountAndProfileSettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getAppearanceSettings(e){const t=this._isSettingsGroupSelected(f.SettingsGroup.ThemeSettings);return this._getWideButton({icon:b.SkypeIcon.MagicWand,label:g.getString("UserSettingsPanel.AppearanceButton"),key:e,selected:t,onPressed:this._onAppearanceSettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getAudioVideoSettings(e){const t=this._isSettingsGroupSelected(f.SettingsGroup.AudioVideoSettings);return this._getWideButton({icon:b.SkypeIcon.Microphone,label:g.getString("UserSettingsPanel.AudioVideoSettingsTitle"),key:e,selected:t,onPressed:this._onAudioVideoSettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getCallingVoiceMailSettings(e){const t=r.first(this.props.detailContext)instanceof _.CallingSettingsPanelNavigationContext;return this._getWideButton({icon:b.SkypeIcon.CallStart,label:g.getString("UserSettingsPanel.CallingSettingsWindowTitle"),key:e,selected:t,onPressed:this._onCallingSettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getMessagingAndChatsSettings(e){const t=this._isSettingsGroupSelected(f.SettingsGroup.Chat);return this._getWideButton({icon:b.SkypeIcon.Message,label:g.getString("UserSettingsPanel.MessagingAndChatsTitle"),key:e,selected:t,onPressed:this._onMessagingAndChatsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getNotificationsSettings(e){const t=this._isSettingsGroupSelected(f.SettingsGroup.Notifications);return this._getWideButton({icon:b.SkypeIcon.Alert,label:g.getString("UserSettingsPanel.NotificationsTitle"),key:e,selected:t,onPressed:this._onNotificationsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getContactsSettings(e){const t=this._isSettingsGroupSelected(f.SettingsGroup.Contacts);return this._getWideButton({icon:b.SkypeIcon.SkypeAddressbook,label:g.getString("UserSettingsPanel.ContactsTitle"),key:e,selected:t,onPressed:this._onContactsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getGeneralSettings(e){const t=this._isSettingsGroupSelected(f.SettingsGroup.General);return this._getWideButton({icon:b.SkypeIcon.Settings,label:g.getString("UserSettingsPanel.GeneralTitle"),key:e,selected:t,onPressed:this._onOtherSettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getPrivacySettings(e){return this._getWideButton({icon:b.SkypeIcon.Privacy,label:g.getString("UserSettingsPanel.PrivacyHeader"),key:e,selected:this._isSettingsGroupSelected(f.SettingsGroup.Privacy),onPressed:this._onPrivacySettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getHelpAndAboutSettings(e){return this._getWideButton({icon:b.SkypeIcon.Info,label:g.getString("UserSettingsPanel.HelpAndAboutTitle"),key:e,selected:this._isSettingsGroupSelected(f.SettingsGroup.HelpAndFeedback),onPressed:this._onHelpAndFeedbackButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getManagePaymentsSettings(e){const t=this._isSettingsGroupSelected(f.SettingsGroup.AccountAndProfile);return this._getWideButton({icon:b.SkypeIcon.SkypeCredit,label:g.getString("UserSettingsPanel.ManagePaymentsSettingsTitle"),key:e,selected:t,hideDivider:!this.state.enableAccountSwitching,onPressed:this._onMyAccountAndProfileSettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getSignOut(e){}_getWideButton(e){const t=this.props.isAloneInNavStack||this.state.isUsingStackNavigation,i=[t?c.ListItem.small.regularHeightStyle:c.ListItem.small.shortHeightStyle,M.menuItem];let o=e.accessibilityLabel||e.label;return e.selected&&(i.push(this._themeStyles.secondaryRowHighlightViewStyle),o+=", "+g.getString("Global.SelectedAccessibilityLabel")),(0,n.jsx)(A.WideButton,Object.assign({},e,{accessibilityLabel:o,buttonStyles:i,hideArrow:!t}))}_navigateToSettingsGroup(e){const t=this._shouldRefreshFocusForSettingsGroup(e);S.default.navigateToSettingsGroup(e,this._getRootViewId()),t&&this.props.resetFocus&&this.props.resetFocus()}_isSettingsGroupSelected(e){return this.state.settingsGroup===e}_shouldRefreshFocusForSettingsGroup(e){return this.props.detailContext&&1===this.props.detailContext.length&&this._isSettingsGroupSelected(e)}_focusItem(e=0){if(e<0||e>this.state.menuCategories.length-1)return;const t=this.state.menuCategories[e];if(this.state.focusedIndex===e){const e=this._mountedRefsMap.ref(D+t);e&&e.requestFocus()}else this.setState({focusedIndex:e})}_getHeaderText(e){return e.displayName+" "+g.getString("MyProfilePanel.SettingsTitle")}}t.default=L},233597:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=i(701025),s=o.__importStar(i(516778)),l=i(344175),c=o.__importDefault(i(942724)),d=o.__importDefault(i(827361)),u=i(526849);t.default=(0,r.memo)((0,u.WithResub)((function({marginHorizontal:e,footer:t,children:i}){return(0,n.jsxs)(a.SafeAreaView,{style:d.default.flexOneRN,edges:t?["left","right"]:["left","right","bottom"],children:[(0,n.jsx)(s.ScrollView,{style:d.default.flexOne,children:(0,n.jsx)(l.Box,{marginX:e,children:i})}),t]})}),(e=>Object.assign(Object.assign({},e),{marginHorizontal:c.default.isUsingStackNavigationContext()?10:"size200"}))))},994617:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(150343)),s=o.__importStar(i(704704)),l=i(483877),c=o.__importDefault(i(341994)),d=i(262725),u=o.__importDefault(i(827361)),p=i(26703),g=o.__importDefault(i(186325)),h=o.__importDefault(i(740794)),m=o.__importDefault(i(760989)),S=o.__importDefault(i(958868)),_=o.__importDefault(i(340724)),f=(0,p.lazyProperties)({switchStyle:()=>r.Styles.createViewStyle({marginBottom:15})});class y extends S.default{constructor(){super(...arguments),this._onPress=()=>{h.default.showTranslationConsentPanel({causeId:m.default.newCauseId(),rootViewId:this._getRootViewId()})}}_buildState(e,t){return{enabledValue:c.default.getCallTranslatorTranslationConsent(),shouldDisplay:a.default.getS4LCMCFeatures().translationFeatures.showInSettings}}render(){if(!this.state.shouldDisplay)return[];const e=s.getString("CallTranscriptionNotifications.TranslationConsent"),t=this._getConsentValue(),i=_.default.combinedAccessibilityLabel(e,t);return[(0,n.jsxs)(r.View,{style:f.switchStyle,children:[(0,n.jsx)(l.WideButton,{label:e,accessibilityLabel:i,labelRight:t,onPressed:this._onPress,labelNumberOfLines:3,hideDivider:!0}),(0,n.jsx)(r.View,{children:(0,n.jsx)(d.Caption,{style:u.default.flexOne,children:s.getString("CallTranscriptionNotifications.TranslationConsentSettingText")})})]},"translationPrivacyButton"),(0,n.jsx)(g.default,{},"divider")]}_getConsentValue(){return this.state.enabledValue?s.getString("CallingSettingsPanel.Enabled"):s.getString("CallingSettingsPanel.Disabled")}}t.default=y},411862:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(380157),s=o.__importStar(i(516778)),l=o.__importStar(i(397691)),c=o.__importDefault(i(395298)),d=o.__importDefault(i(826137)),u=o.__importDefault(i(185247)),p=o.__importDefault(i(791106)),g=o.__importStar(i(235894)),h=o.__importDefault(i(369347)),m=i(843890),S=o.__importDefault(i(757313)),_=i(154235),f=i(815146),y=i(560099),C=o.__importStar(i(85385)),v=i(26703),b=o.__importStar(i(704704)),T=o.__importDefault(i(201721)),P=o.__importDefault(i(251733)),k=o.__importDefault(i(246230)),A=o.__importDefault(i(695050)),I=o.__importDefault(i(393443)),w=o.__importDefault(i(30460)),x=i(16549),N=o.__importDefault(i(20758)),D=i(641400),M=i(331079),L=i(262725),R=o.__importDefault(i(497910)),E=o.__importDefault(i(760989)),B=(0,v.lazyProperties)({sliderStyle:()=>s.Styles.createViewStyle({marginBottom:10}),sliderScaleStyle:()=>s.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",marginLeft:10,marginRight:7}),sliderScaleMark:()=>s.Styles.createTextStyle({color:x.Color.gray300,fontSize:N.default.fontSize.size13Deprecated,maxWidth:270}),toggleContainer:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center",marginBottom:5}),toggleText:()=>s.Styles.createTextStyle({flexGrow:1,flexShrink:1,marginRight:10})});class O extends R.default{constructor(){super(...arguments),this._testAudioPromiseChain=new S.default("TestAudio",f.LogTraceArea.AVSettings),this._onSpeakerSelected=e=>{const t=E.default.newCauseId();C.log(f.LogTraceArea.AVSettings,"_onSpeakerSelected "+e+" causeId: "+t),this.props.onSpeakerSelected&&this.props.onSpeakerSelected(e!==this.state.selectedSpeaker),h.default.DeviceStore.choosePreferredDevices({speaker:e},t)},this._onStartTestAudioPress=()=>{this.setState({activeTestAudio:!0})},this._onStopTestAudioPress=()=>{this.setState({activeTestAudio:!1})},this._onToggleUnmuteOnRingEnabled=(e,t)=>{T.default.setUserPreferencesLocal({unmuteOnIncomingRing:t})}}_buildState(e,t){const i=h.default.DeviceStore.getCurrentDevices();return{speakers:h.default.DeviceStore.getSpeakers(),microphonePermissionStatus:P.default.permissionStatus(M.PermissionType.Microphone),selectedSpeaker:i?i.speaker:void 0,isAudioOutputSelectionSupported:h.default.DeviceStore.getIsAudioOutputSelectionSupported(),activeTestAudio:!r.isUndefined(this._testAudioPlayerToken),ringingDeviceOptionSupported:m.CallingCapabilities.secondaryRingingSupported()&&!r.isEmpty(h.default.DeviceStore.getSecondarySpeakers()),unmuteOnRingSupported:m.CallingCapabilities.unmuteDeviceSupported(),unmuteOnRingEnabled:!!T.default.getUserPreferencesLocal().unmuteOnIncomingRing}}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.activeTestAudio!==t.activeTestAudio&&this._onTestAudioToggle(this.state.activeTestAudio)}componentWillUnmount(){super.componentWillUnmount();const e=E.default.newCauseId();C.log(f.LogTraceArea.AVSettings,"componentWillUnmount, causeId: "+e),this._stopTestAudioWithCauseId(e)}_onTestAudioToggle(e){const t=E.default.newCauseId();e?this._startTestAudioWithCauseId(t):this._stopTestAudioWithCauseId(t)}_startTestAudioWithCauseId(e){C.log(f.LogTraceArea.AVSettings,"Starting audio test, causeId: "+e),this._testAudioPromiseChain.chainPromise((()=>I.default.SkypeCallRinging.playRepeating(e).then((e=>{this._testAudioPlayerToken=e,this.props.onAudioTestPerformed&&this.props.onAudioTestPerformed()})).catch((t=>{C.error(f.LogTraceArea.AVSettings,`Failed to start audio test, causeId: ${e}, error: ${t}`),this.setState({activeTestAudio:!1})}))),"start",e)}_stopTestAudioWithCauseId(e){C.log(f.LogTraceArea.AVSettings,"Stopping audio test, causeId: "+e),this._testAudioPromiseChain.chainPromise((()=>(r.isUndefined(this._testAudioPlayerToken)||(I.default.SkypeCallRinging.dispose(this._testAudioPlayerToken,e),this._testAudioPlayerToken=void 0),l.Resolved())),"stop",e)}_getSliderScale(){const e=r.times(11,(e=>(0,n.jsx)(y.HiddenText,{style:B.sliderScaleMark,children:e.toString()},e)));return(0,n.jsx)(s.View,{style:B.sliderScaleStyle,children:e},"SliderScale")}render(){let e,t,i,o,l;if(r.isEmpty(this.state.speakers)&&this.state.isAudioOutputSelectionSupported)e=(0,n.jsx)(p.default,{audioTitleKey:"AudioVideoSettings.SpeakersLabel",errorStringKey:"AudioVideoSettings.NoDevicePresent",errorIcon:D.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride});else if(this.state.microphonePermissionStatus===a.PermissionStatus.Denied){const t=k.default.getDeniedPromptKey(M.PermissionType.Microphone);t&&(e=(0,n.jsx)(p.default,{audioTitleKey:"AudioVideoSettings.SpeakersLabel",errorStringKey:t,errorIcon:D.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride}))}else if(!r.isEmpty(this.state.speakers)||!this.props.compactView){const t=g.formatDevicesForPicker(this.state.speakers);e=(0,n.jsx)(u.default,{title:b.getString("AudioVideoSettings.SpeakersLabel"),items:t,onValueChange:this._onSpeakerSelected,selectedValue:this.state.selectedSpeaker||"",labelMaxWidth:this.props.labelMaxWidth,colorThemeOverride:this.props.colorThemeOverride})}return!r.isEmpty(this.state.speakers)&&m.CallingCapabilities.speakerVolumeControlSupported()&&(t=[this.props.compactView?void 0:this._getSliderScale(),(0,n.jsx)(w.default,{style:B.sliderStyle,onAdjustVolume:this.props.onAdjustVolume,trackHeight:10,handleSize:26,colorThemeOverride:this.props.colorThemeOverride},"VolumeSlider")]),this.props.compactView||r.isEmpty(this.state.speakers)&&this.state.isAudioOutputSelectionSupported||(i=(0,n.jsx)(A.default,{style:_.ListItem.small.shortHeightStyle,title:b.getString("AudioVideoSettings.TestAudioButtonLabel"),accessibilityLabel:this.state.activeTestAudio?b.getString("AudioVideoSettings.TestAudioButtonStopLabel"):b.getString("AudioVideoSettings.TestAudioButtonStartLabel"),icon:this.state.activeTestAudio?D.SkypeIcon.Stop:D.SkypeIcon.Play,hideDivider:!0,colorThemeOverride:this.props.colorThemeOverride,onPress:this.state.activeTestAudio?this._onStopTestAudioPress:this._onStartTestAudioPress})),this.props.compactView||!this.state.unmuteOnRingSupported||this.props.isInOnboarding||r.isEmpty(this.state.speakers)&&this.state.isAudioOutputSelectionSupported||(o=(0,n.jsx)(c.default,{style:B.toggleContainer,isOn:this.state.unmuteOnRingEnabled,accessibilityLabel:b.getString("AudioVideoSettings.UnmuteRingingTitle"),onChange:this._onToggleUnmuteOnRingEnabled,children:(0,n.jsx)(L.BodyText,{style:B.toggleText,colorThemeOverride:this.props.colorThemeOverride,children:b.getString("AudioVideoSettings.UnmuteRingingTitle")})},"unmuteSpeakersOnRing")),this.props.compactView||!this.state.ringingDeviceOptionSupported||this.props.isInOnboarding||(l=(0,n.jsx)(d.default,{onRingerDeviceSelected:this.props.onRingingDeviceSelected,colorThemeOverride:this.props.colorThemeOverride})),(0,n.jsxs)(s.View,{children:[e,t,i,o,l]})}}t.default=O},639460:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(150343)),s=i(815146),l=i(26703),c=o.__importStar(i(704704)),d=o.__importDefault(i(740794)),u=o.__importDefault(i(316026)),p=i(262725),g=o.__importDefault(i(497910)),h=o.__importDefault(i(760989)),m=i(483877),S=i(483753),_=o.__importDefault(i(827361)),f=o.__importDefault(i(340724)),y=o.__importStar(i(50350)),C=(0,l.lazyProperties)({switchStyle:()=>r.Styles.createViewStyle({marginBottom:15})});class v extends g.default{constructor(){super(...arguments),this._onVoiceClipsContributionSettingPressed=()=>{d.default.showSpeechConsentPanel({causeId:h.default.newCauseId(),rootViewId:this._getRootViewId()})},this._onVoiceClipContributionLearnMore=()=>{y.openUrlWithParams({origin:s.BrowserOrigin.TelemetryConsentSettingsDescription,url:a.default.getConfigSettingsNoSubscription().translator.learnMoreUrl,rootViewId:this._getRootViewId()})}}_buildState(e,t){return{speechConsentValue:a.default.getS4LCMCFeatures().enableSpeechConsentFlow&&u.default.getSpeechConsentValue(),learnMoreLink:a.default.getConfigSettingsNoSubscription().translator.learnMoreUrl}}render(){const e=c.getString("SpeechConsentPanel.VoiceClipContribution"),t=this._getConsentValue(),i=f.default.combinedAccessibilityLabel(e,t),o=(0,n.jsx)(m.WideButton,{label:e,accessibilityLabel:i,labelRight:t,onPressed:this._onVoiceClipsContributionSettingPressed,labelNumberOfLines:3,hideDivider:!0}),a=this._getVoiceClipContributionLearnMoreLink(),s=c.getParts("SpeechConsentPanel.VoiceClipContributionCaption",{learnMoreLink:a}),l=f.default.linkAccessibilityInfo(c.getString("BlockUnblockDialog.PersonalInformationDisplayText",{learnMoreLink:c.getString("Global.LearnMore")}),!0);return(0,n.jsxs)(r.View,{style:C.switchStyle,children:[o,(0,n.jsx)(r.View,{accessibilityLabel:null==l?void 0:l.label,accessibilityTraits:null==l?void 0:l.traits,importantForAccessibility:void 0,onPress:void 0,children:(0,n.jsx)(p.Caption,{style:_.default.flexOne,children:s})})]})}_getConsentValue(){return this.state.speechConsentValue?c.getString("CallingSettingsPanel.Enabled"):c.getString("CallingSettingsPanel.Disabled")}_getVoiceClipContributionLearnMoreLink(){return(0,n.jsx)(S.Link,{url:this.state.learnMoreLink,textElement:p.Caption,correctiveMargin:-3,children:c.getString("Global.LearnMore")},"voiceClipLearnMore")}}t.default=v},300401:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThankYouReceipt=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(317588)),s=o.__importDefault(i(150343)),l=i(154235),c=o.__importDefault(i(186325)),d=i(26703),u=o.__importStar(i(704704)),p=o.__importDefault(i(117475)),g=o.__importDefault(i(377556)),h=o.__importDefault(i(660401)),m=o.__importDefault(i(20758)),S=o.__importDefault(i(52066)),_=o.__importDefault(i(827361)),f=i(262725),y=o.__importDefault(i(497910)),C=(0,d.lazyProperties)({bodyStyleContainer:()=>r.Styles.createTextStyle({marginTop:10,marginBottom:20}),panelContainer:()=>r.Styles.createViewStyle({marginHorizontal:20,flex:1}),image:()=>r.Styles.createViewStyle({height:192,width:223,margin:20,alignSelf:"center"}),doneButton:()=>r.Styles.createViewStyle({width:260,marginVertical:30,alignSelf:"center"}),privacyLinkStyle:()=>r.Styles.createViewStyle({marginTop:10}),secondaryHeadingContainer:()=>r.Styles.createViewStyle({marginTop:10}),secondaryBodyContainer:()=>r.Styles.createViewStyle({marginBottom:10}),detailsBodyContainer:()=>r.Styles.createViewStyle({padding:10})});class v extends y.default{constructor(){super(...arguments),this._onPrivacyStatementPress=e=>{e.stopPropagation(),e.preventDefault(),r.Linking.openUrl(this.state.privacyStatementUrl)},this._onLearnMorePress=e=>{e.stopPropagation(),e.preventDefault(),r.Linking.openUrl(this.state.learnMoreUrl)}}_buildState(e,t){return{privacyStatementUrl:s.default.getConfigSettings().translator.privacyStatementUrl,learnMoreUrl:s.default.getConfigSettings().translator.speechConsentLearnMoreUrl,statusBarHeight:this._getContext().isPresentedInDesktopSubview?0:p.default.statusBarPadding()}}_renderThankYouReceiptContent(){const e=[m.default.captionFontStyle(this._currentTheme),this._themeStyles.primaryTextColorStyle,C.secondaryBodyContainer];return(0,n.jsxs)(r.View,{style:C.panelContainer,children:[this._getImage(a.Collection.SPEECH_CONSENT_THANK_YOU,C.image),(0,n.jsx)(f.PanelHeader,{children:u.getString("SpeechConsentPanel.ThankYouReceiptMainTitle")}),(0,n.jsx)(r.Text,{style:[m.default.bodyFontStyle(),C.bodyStyleContainer],children:u.getString("SpeechConsentPanel.ThankYouReceiptMainBody")}),(0,n.jsxs)(r.View,{style:C.detailsBodyContainer,children:[(0,n.jsx)(r.Text,{style:m.default.rowTitleFontStyle(),children:u.getString("SpeechConsentPanel.ReceiptSectionMainTitle")}),(0,n.jsx)(c.default,{marginTop:10}),this._getSecondaryTitleElement("SpeechConsentPanel.ReceiptSectionTitle1"),this._getSecondaryBodyElement("SpeechConsentPanel.ReceiptSectionBody1",e),this._getSecondaryTitleElement("SpeechConsentPanel.ReceiptSectionTitle2"),this._getSecondaryBodyElement("SpeechConsentPanel.ReceiptSectionBody2",e),this._getSecondaryTitleElement("SpeechConsentPanel.ReceiptSectionTitle3"),this._getSecondaryBodyElement("SpeechConsentPanel.ReceiptSectionBody3",e),this._getSecondaryTitleElement("SpeechConsentPanel.ReceiptSectionTitle4"),this._getSeondaryBodyWithPannelSettingsPath(e),(0,n.jsx)(c.default,{marginTop:10})]}),this._getLink(u.getString("SpeechConsentPanel.ThankYouReceiptLearnMore"),this._onLearnMorePress),this._getLink(u.getString("SpeechConsentPanel.PrivacyStatement"),this._onPrivacyStatementPress)]})}_getSecondaryTitleElement(e){const t=[m.default.selectedCaptionFontStyle(this._currentTheme),C.secondaryHeadingContainer];return(0,n.jsx)(r.Text,{style:t,children:u.getString(e)})}_getSecondaryBodyElement(e,t){return(0,n.jsx)(r.Text,{style:t,children:u.getString(e)})}_getSeondaryBodyWithPannelSettingsPath(e){return(0,n.jsxs)(r.Text,{style:e,children:[u.getString("SpeechConsentPanel.ReceiptSectionBody4"),(0,n.jsx)(r.Text,{style:[m.default.selectedCaptionFontStyle(this._currentTheme),this._themeStyles.primaryTextColorStyle],children:u.getString("SpeechConsentPanel.PanelSettingsPath")})]})}_getImage(e,t){return(0,n.jsx)(r.Image,{source:e,style:t,resizeMode:"contain"})}_getLink(e,t){return(0,n.jsx)(S.default,{style:C.privacyLinkStyle,linkTextStyle:l.LinkTextStyle.BodyTextSmall,url:"#",blue:!0,onPress:t,children:e})}_renderDoneButton(){const e=(0,n.jsx)(h.default,{style:C.doneButton,buttonSize:l.SXButtonSize.Medium,title:u.getString("Global.DoneButtonTitle"),onPress:this.props.onDone});return e}render(){const e=[_.default.flexOne,this._themeStyles.primaryBackgroundColorStyle];let t;this.state.statusBarHeight&&(e.push(g.default.marginTopStyle(this.state.statusBarHeight),_.default.overflowVisible),t=g.default.marginTopStyle(-1*this.state.statusBarHeight));let i=this._renderThankYouReceiptContent();return t&&(i=(0,n.jsx)(r.View,{style:t,children:i})),(0,n.jsxs)(r.View,{style:[_.default.flexOne,this._themeStyles.primaryBackgroundColorStyle],children:[(0,n.jsx)(r.ScrollView,{style:e,keyboardShouldPersistTaps:!0,children:i}),this._renderDoneButton()]})}}t.ThankYouReceipt=v,t.default=v},514781:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceClipsContribution=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(317588)),s=o.__importDefault(i(150343)),l=i(154235),c=o.__importDefault(i(186325)),d=i(26703),u=o.__importStar(i(704704)),p=o.__importDefault(i(117475)),g=o.__importDefault(i(377556)),h=o.__importDefault(i(316026)),m=o.__importDefault(i(20758)),S=o.__importDefault(i(52066)),_=o.__importDefault(i(827361)),f=i(262725),y=o.__importDefault(i(497910)),C=i(483877),v=(0,d.lazyProperties)({bodyStyleContainer:()=>r.Styles.createTextStyle({marginVertical:10}),titleContainer:()=>r.Styles.createTextStyle({paddingBottom:6}),panelContainer:()=>r.Styles.createViewStyle({marginHorizontal:20}),privacyImageDesktop:()=>r.Styles.createViewStyle({height:64,width:102,marginBottom:16,alignSelf:"center"}),privacyImageMobile:()=>r.Styles.createViewStyle({height:96,width:155,marginTop:14,marginBottom:16,alignSelf:"center"}),voiceClipsImageDesktop:()=>r.Styles.createViewStyle({height:64,width:102,marginBottom:16,alignSelf:"center"}),voiceClipsImageMobile:()=>r.Styles.createViewStyle({height:96,width:122,marginTop:40,marginBottom:16,alignSelf:"center"}),noLimitsImage:()=>r.Styles.createViewStyle({height:32,width:32}),imageContainer:()=>r.Styles.createViewStyle({flexDirection:"column",paddingVertical:16}),imageContainerMobile:()=>r.Styles.createViewStyle({flexDirection:"column",paddingVertical:16}),imageContainerItem:()=>r.Styles.createViewStyle({flexDirection:"row",paddingVertical:16,alignItems:"center",justifyContent:"center"}),privacyContainerDesktop:()=>r.Styles.createViewStyle({paddingRight:16}),voiceClipsContainerDesktop:()=>r.Styles.createViewStyle({paddingLeft:16}),noLimitsMainContainer:()=>r.Styles.createViewStyle({flexDirection:"row",padding:16}),noLimitsMainContainerMobile:()=>r.Styles.createViewStyle({marginVertical:16}),noLimitsRightContainer:()=>r.Styles.createViewStyle({flex:1,marginLeft:16}),buttonsWrapper:()=>r.Styles.createViewStyle({alignSelf:"stretch",alignItems:"center",flexDirection:"column",justifyContent:"center"}),buttonWrapperMobile:()=>r.Styles.createViewStyle({margin:0,paddingTop:20,paddingBottom:30,paddingHorizontal:10}),itemButton:()=>r.Styles.createViewStyle({alignSelf:"center"}),privacyLinkStyle:()=>r.Styles.createViewStyle({marginTop:16,marginBottom:16})});class b extends y.default{constructor(){super(...arguments),this._onLearnMore=e=>{e.stopPropagation(),e.preventDefault(),r.Linking.openUrl(s.default.getConfigSettingsNoSubscription().translator.speechConsentLearnMoreUrl)},this._onPrivacyStatementPress=e=>{e.stopPropagation(),e.preventDefault(),r.Linking.openUrl(s.default.getConfigSettingsNoSubscription().translator.privacyStatementUrl)},this._onContributePress=()=>{this.props.onContribute()},this._onDoNotContributePress=()=>{this.props.onDoNotContribute()},this._setScrollViewRef=e=>{this._scrollView=e||void 0}}_buildState(e,t){return{statusBarHeight:this._getContext().isPresentedInDesktopSubview?0:p.default.statusBarPadding(),currentSpeechConsentValue:h.default.getSpeechConsentValue()}}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.statusBarHeight!==t.statusBarHeight&&this._scrollView&&this._scrollView.setScrollTop(0)}_getImage(e,t){return(0,n.jsx)(r.Image,{source:e,style:t,resizeMode:"contain"})}_getLearnMoreLink(){return(0,n.jsx)(S.default,{linkTextStyle:l.LinkTextStyle.BodyText,url:"#",blue:!0,onPress:this._onLearnMore,children:u.getString("Global.LearnMore")},"learnMore")}_getPrivacyStatementLink(){return(0,n.jsx)(S.default,{style:v.privacyLinkStyle,linkTextStyle:l.LinkTextStyle.BodyTextSmall,url:"#",blue:!0,onPress:this._onPrivacyStatementPress,children:u.getString("SpeechConsentPanel.PrivacyStatement")},"privacyStatement")}_renderButtons(){let e,t;this.state.currentSpeechConsentValue?(e=u.getString("SpeechConsentPanel.ContinueContribute"),t=u.getString("SpeechConsentPanel.StopContribute")):(e=u.getString("SpeechConsentPanel.AgreeToContributeButton"),t=u.getString("SpeechConsentPanel.DisagreeToContributeButton"));const i=r.Styles.createViewStyle({backgroundColor:this._themeColors.primaryBackgroundColor},!1);return(0,n.jsxs)(r.View,{style:[v.buttonsWrapper,i],children:[(0,n.jsx)(C.WideButton,{label:e,hideArrow:!0,onPressed:this._onContributePress,labelStyle:v.itemButton}),(0,n.jsx)(C.WideButton,{label:t,hideArrow:!0,onPressed:this._onDoNotContributePress,labelStyle:v.itemButton})]})}_renderRequestingConsentPanelContent(){const e=[m.default.captionFontStyle(this._currentTheme),this._themeStyles.primaryTextColorStyle,m.default.bodyFontStyle()];return(0,n.jsxs)(r.View,{style:v.panelContainer,children:[(0,n.jsx)(f.PanelHeader,{children:u.getString("SpeechConsentPanel.PanelTitle")}),(0,n.jsx)(r.Text,{style:[m.default.bodyFontStyle(),v.bodyStyleContainer],children:u.getString("SpeechConsentPanel.PanelMainContent")}),this._getPrivacyAndVoiceClipsContent(e),this._getNoLimitsContent(e),this._getPrivacyStatementLink()]})}_getPrivacyAndVoiceClipsContent(e){return(0,n.jsxs)(r.View,{style:[v.imageContainer],children:[(0,n.jsxs)(r.View,{style:[v.imageContainerItem],children:[this._getImage(a.Collection.SPEECH_CONSENT_PRIVACY,v.privacyImageDesktop),(0,n.jsxs)(r.View,{style:[_.default.flexOne,v.noLimitsRightContainer],children:[(0,n.jsx)(r.Text,{style:e,children:u.getString("SpeechConsentPanel.PanelPriorityHeading")}),(0,n.jsxs)(r.Text,{style:e,children:[u.getString("SpeechConsentPanel.PanelPriorityBody"),this._getLearnMoreLink()]})]})]}),(0,n.jsxs)(r.View,{style:[v.imageContainerItem],children:[this._getImage(a.Collection.SPEECH_CONSENT_VOICE_CLIPS,v.voiceClipsImageDesktop),(0,n.jsxs)(r.View,{style:[_.default.flexOne,v.noLimitsRightContainer],children:[(0,n.jsx)(r.Text,{style:e,children:u.getString("SpeechConsentPanel.PanelVoiceHeading")}),(0,n.jsx)(r.Text,{style:e,children:u.getString("SpeechConsentPanel.PanelVoiceBody")})]})]})]})}_getNoLimitsContent(e){const t=[m.default.subtitleFontStyle(this._currentTheme),this._themeStyles.primaryTextColorStyle],i=r.Styles.createViewStyle({backgroundColor:this._themeColors.secondaryBackgroundColor},!1);return(0,n.jsxs)(r.View,{style:[v.noLimitsMainContainer,i,void 0],children:[this._getImage(a.Collection.SPEECH_CONSENT_TRANSLATOR,v.noLimitsImage),(0,n.jsxs)(r.View,{style:v.noLimitsRightContainer,children:[(0,n.jsx)(r.Text,{style:e,children:u.getString("SpeechConsentPanel.PanelKeyContentHeading")}),(0,n.jsxs)(r.Text,{style:e,children:[u.getString("SpeechConsentPanel.PanelKeyContentBody"),(0,n.jsx)(r.Text,{style:t,children:u.getString("SpeechConsentPanel.PanelSettingsPath")})]})]})]})}render(){const e=[_.default.flexOne,this._themeStyles.primaryBackgroundColorStyle];let t;this.state.statusBarHeight&&(e.push(g.default.marginTopStyle(this.state.statusBarHeight),_.default.overflowVisible),t=g.default.marginTopStyle(-1*this.state.statusBarHeight));let i=this._renderRequestingConsentPanelContent();return t&&(i=(0,n.jsx)(r.View,{style:t,children:i})),(0,n.jsxs)(r.View,{style:[_.default.flexOne,this._themeStyles.primaryBackgroundColorStyle],children:[(0,n.jsx)(r.ScrollView,{ref:this._setScrollViewRef,style:e,keyboardShouldPersistTaps:!0,children:i}),(0,n.jsx)(c.default,{marginLeft:0,marginRight:0}),this._renderButtons()]})}}t.VoiceClipsContribution=b,t.default=b},4393:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(331654)),a=o.__importStar(i(516778)),s=o.__importDefault(i(395298)),l=i(154235),c=o.__importDefault(i(18026)),d=i(815146),u=i(26703),p=o.__importStar(i(704704)),g=i(884853),h=o.__importDefault(i(95114)),m=o.__importDefault(i(660401)),S=o.__importDefault(i(139221)),_=o.__importDefault(i(600684)),f=o.__importDefault(i(497910));(0,u.lazyProperties)({container:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsblockContainer:()=>a.Styles.createViewStyle({alignSelf:"stretch",overflow:"visible"})});class y extends f.default{constructor(){super(...arguments),this._openSystemStartupSettings=()=>{r.default.openSystemStartupSettings()}}_buildState(e,t){const i=c.default.getAppSettings();return{autoStartEnabled:!!i&&!!i.autoStartEnabled,launchMinimized:!!i&&!!i.launchMinimized,onCloseKeepRunning:!!i&&!!i.onCloseKeepRunning,isAutoStartSupported:!1,canControlAutoStart:!1}}render(){return null}_getAutoStartButton(){const e=p.getString("UserSettingsPanel.AutoStart"),t=S.default.getPlatformType();let i;return t===d.PlatformType.Linux?i=p.getString("UserSettingsPanel.AutoStartDescriptionLinux"):t===d.PlatformType.Windows&&(i=p.getString("UserSettingsPanel.AutoStartDescriptionWindows")),(0,n.jsx)(s.default,{style:[h.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.autoStartEnabled,accessibilityLabel:e,onChange:(e,t)=>this._toggleElectronAppSetting({autoStartEnabled:t}),children:(0,n.jsx)(g.SwitchLabel,{title:e,subtitle:i})},"autoStartEnabled")}_openAutoStartSettingsButton(){const e=p.getString("UserSettingsPanel.AutoStart");return(0,n.jsx)(_.default,{label:e,labelBottom:p.getString("UserSettingsPanel.AutoStartDescriptionWindows"),labelBottomSingleLine:!0,accessibilityLabel:e,treatAsLink:!0,accessoryIconMarginRight:20,children:(0,n.jsx)(m.default,{buttonSize:l.SXButtonSize.Small,buttonStyle:l.SXButtonStyle.ThemeStroke,title:p.getString("UserSettingsPanel.SettingsTitle"),accessibilityLabel:e,accessibilityHidden:!0,allowTextWrap:!0,onPress:this._openSystemStartupSettings})})}_getLaunchMinimizedButton(){const e=p.getString("UserSettingsPanel.LaunchMinimized"),t=S.default.getPlatformType();let i;return t===d.PlatformType.Linux?i=p.getString("UserSettingsPanel.LaunchMinimizedDescriptionLinux"):t===d.PlatformType.Windows&&(i=p.getString("UserSettingsPanel.LaunchMinimizedDescriptionWindows")),(0,n.jsx)(s.default,{style:[h.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.launchMinimized,accessibilityLabel:e,onChange:(e,t)=>this._toggleElectronAppSetting({launchMinimized:t}),children:(0,n.jsx)(g.SwitchLabel,{title:e,subtitle:i})},"launchMinimizedEnabled")}_getOnCloseKeepRunningButton(){const e=p.getString("UserSettingsPanel.OnCloseKeepRunning"),t=p.getString("UserSettingsPanel.OnCloseKeepRunningDescription");return(0,n.jsx)(s.default,{style:[h.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.onCloseKeepRunning,accessibilityLabel:e,onChange:(e,t)=>this._toggleElectronAppSetting({onCloseKeepRunning:t}),children:(0,n.jsx)(g.SwitchLabel,{title:e,subtitle:t})},"onCloseKeepRunning")}_toggleElectronAppSetting(e){c.default.changeAppSettings(e)}}t.default=y},978014:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importDefault(i(150343)),s=o.__importStar(i(94534)),l=o.__importDefault(i(599526)),c=o.__importStar(i(704704)),d=o.__importDefault(i(341994)),u=o.__importDefault(i(497910)),p=o.__importDefault(i(688794)),g=o.__importDefault(i(740794)),h="default";class m extends u.default{constructor(){super(...arguments),this._onPress=()=>{g.default.navigateToSpokenLanguagePicker(!1,this._getRootViewId(),!1,void 0)},this._isSelected=e=>{if(this.props.defaultOption){if(e===this.props.defaultOption)return!0}else if(e===this.state.subtitleLanguageLocale)return!0;return!1},this._onHandleMenuCommand=e=>{this.props.onHandleMenuCommand(e===h?"":e)}}_buildState(e,t){const i=[];if(e.defaultOption)i.push({label:e.defaultOption,value:h});else{const e=c.getString("SettingsLanguages.ResetLanguageOption");i.push({label:e,value:h})}return r.each(a.default.getS4LCMCFeatures().callTranslatorBotConfig.languageSupport.tts,(e=>{const t=s.getLanguageTitle(e);r.isEmpty(t)||i.push({label:t,value:e})})),{items:i,subtitleLanguageLocale:this._getCallTranslatorBotSubtitleLanguageLocale()}}render(){return a.default.getS4LCMCFeaturesNoSubscription().enableNewLanguageSelectors?(0,n.jsx)(p.default,{label:c.getString("LanguageAndTranslationSettingsPanel.CallSubtitleLanguageLabel"),captionText:this._getCaption(),onPress:this._onPress,activeLabel:this._getSelectedItemLabel(),hideDivider:!0}):(0,n.jsx)(l.default,{id:"subtitleLanguagePicker",items:this.state.items,rowTitle:c.getString("LanguageAndTranslationSettingsPanel.CallSubtitleLanguageLabel"),caption:this._getCaption(),isItemSelected:this._isSelected,onHandleItemSelection:this._onHandleMenuCommand,selectedItemLabel:this._getSelectedItemLabel()})}_getCaption(){return this.props.caption?c.getString("SubtitlesSettingsPanel.SubtitleLanguageExplanation"):void 0}_getCallTranslatorBotSubtitleLanguageLocale(){const e=d.default.getCallTranslatorBotSubtitleLanguageLocale();return!e||r.isEmpty(e)?h:e}_getSelectedItemLabel(){if(this.props.defaultOption)return this.props.defaultOption;const e=r.find(this.state.items,(e=>e.value===this.state.subtitleLanguageLocale));return e?e.label:h}}t.default=m},860640:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(150343)),s=o.__importDefault(i(369347)),l=o.__importDefault(i(524526)),c=o.__importStar(i(94534)),d=o.__importStar(i(704704)),u=o.__importDefault(i(421334)),p=o.__importDefault(i(95114)),g=o.__importDefault(i(52066)),h=o.__importDefault(i(827361)),m=i(262725),S=o.__importDefault(i(497910));class _ extends S.default{constructor(){super(...arguments),this._onLanguageLinkPress=e=>{e.preventDefault(),s.default.CallNavigationHelper.navigateToTranslationSettingsPanel(!1,this._getRootViewId())},this._onLearnMoreLinkPress=e=>{r.Linking.openUrl(a.default.getConfigSettingsNoSubscription().translator.help)}}_buildState(e,t){const i=l.default.getLocalCallTranslatorBotSpokenLanguageLocale(),o=l.default.getLocalCallTranslatorBotSubtitleLanguageLocale(),n=l.default.isDeviceLanguageSupportedForTranslation();return{spokenLanguageLocale:i,subtitleLanguageLocale:o,isMobileScreenReaderEnabled:u.default.isMobileScreenReaderEnabled(),isSpokenLanguageSupported:n}}render(){const e=d.getString("SubtitlesSettingsPanel.LanguageSettingLink"),t=(0,n.jsx)(g.default,{url:"#",blue:!0,onPress:this._onLanguageLinkPress,children:e},"keyLanguageSetting"),i=(0,n.jsx)(g.default,{url:"#",blue:!0,onPress:this._onLearnMoreLinkPress,children:d.getString("UserSettingsPanel.TranslateMessagesAndCallsExplanationLearnMoreLinkText")},"keyLearnMore");let o;if(this.state.isSpokenLanguageSupported){const e=c.getLanguageTitle(this.state.subtitleLanguageLocale),i=c.getLanguageTitle(this.state.spokenLanguageLocale);o=this.state.spokenLanguageLocale===this.state.subtitleLanguageLocale?d.getParts("SubtitlesSettingsPanel.SubtitleLanguageSpokenLanguageMatchLink",{language:e,languageSettingsLink:t}):d.getParts("SubtitlesSettingsPanel.SubtitleLanguageSpokenLanguageMisMatchLink",{subtitleLanguage:e,spokenLanguage:i,languageSettingsLink:t})}else o=d.getParts("UserSettingsPanel.TranslateMessagesAndCallsAppLanguageNotSupportedExplanation",{spokenLanguageLink:t,learnMoreLink:i});const a=(0,n.jsx)(m.Caption,{style:p.default.subtitleMediumSemiLarge,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,onPress:this.state.isMobileScreenReaderEnabled?this._onLanguageLinkPress:void 0,children:o},"subtitle");return(0,n.jsx)(r.View,{style:h.default.flexOne,children:a})}}t.default=_},145271:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(154235),l=o.__importDefault(i(929515)),c=i(26703),d=o.__importStar(i(704704)),u=o.__importStar(i(888500)),p=i(262725),g=o.__importDefault(i(497910)),h=(0,c.lazyProperties)({container:()=>a.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",alignItems:"center",alignSelf:"stretch"}),button:()=>a.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10})});class m extends g.default{constructor(){super(...arguments),this._onPickerButtonRef=e=>{this._pickerButton=()=>e||void 0},this._onPickerClick=e=>{e.stopPropagation();const t={anchor:this._pickerButton,useTheme:!0,positionPriorities:["bottom","top"],colorThemeOverride:this.props.colorThemeOverride};return u.default.showWithOptions({id:"textPickerMenu",config:t,getMenuItems:this._getMenuItems,handleMenuCommand:this._onHandleMenuCommand,rootViewId:this._getRootViewId(),invokingEvent:e})},this._getMenuItems=()=>this.props.items.map((e=>({text:e.label,command:e.value}))),this._onHandleMenuCommand=e=>{if(e===u.SXActionMenuCancel)return;const t=r.findIndex(this.props.items,(t=>t.value===e));this.props.onValueChange(e,t)}}render(){const e=this.props.title+", "+this._getSelectedItemLabel()+", "+d.getString("Global.SelectedAccessibilityLabel");return(0,n.jsxs)(a.View,{style:[h.container,s.ListItem.small.shortHeightStyle],children:[(0,n.jsx)(p.RowTitle,{colorThemeOverride:this._currentTheme,disabled:this.props.disabled,children:this.props.title}),(0,n.jsx)(l.default,{disabled:this.props.disabled,ref:this._onPickerButtonRef,style:h.button,label:this._getSelectedItemLabel(),labelMaxWidth:270,onPress:this._onPickerClick,accessibilityLabel:e,tabIndex:this.props.tabIndex})]})}_getSelectedItemLabel(){const e=r.find(this.props.items,(e=>e.value===this.props.selectedValue));return e?e.label:""}}t.default=m},872223:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(154235),s=o.__importDefault(i(958868)),l=o.__importDefault(i(713054)),c=o.__importStar(i(704704)),d=o.__importDefault(i(942724)),u=i(884853);class p extends s.default{_buildState(e,t){return{isUsingStackNavigationContext:d.default.isUsingStackNavigationContext()}}render(){return(0,n.jsxs)(r.View,{style:this.props.style,children:[(0,n.jsx)(u.SectionTitle,{title:c.getString("LanguageAndTranslationSettingsPanel.TranslationHeader")}),(0,n.jsx)(l.default,{buttonStyles:this.state.isUsingStackNavigationContext?void 0:a.ListItem.small.shortHeightStyle})]})}}t.default=p},712606:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(477195),s=o.__importDefault(i(599526)),l=o.__importStar(i(704704)),c=o.__importDefault(i(341994)),d=o.__importDefault(i(497910)),u=a.Gender.female;class p extends d.default{constructor(){super(...arguments),this._isSelected=e=>e===this.state.translationVoice,this._onHandleGenderSelection=e=>{const t=e;c.default.setCallTranslatorBotTranslationVoice(t)}}_buildState(e,t){const i=[];return r.each(a.Gender,(e=>{i.push({label:p.getLabelForGender(e),value:e})})),{items:i,translationVoice:this._getCallTranslatorBotVoice()}}render(){return(0,n.jsx)(s.default,{id:"translationVoicePicker",items:this.state.items,rowTitle:l.getString("LanguageAndTranslationSettingsPanel.TranslationVoiceLabel"),caption:l.getString("LanguageAndTranslationSettingsPanel.TranslationVoiceExplanation"),isItemSelected:this._isSelected,onHandleItemSelection:this._onHandleGenderSelection,selectedItemLabel:this._getSelectedItemLabel()})}_getCallTranslatorBotVoice(){return c.default.getCallTranslatorBotTranslationVoice()||u}_getSelectedItemLabel(){const e=r.find(this.state.items,(e=>e.value===this.state.translationVoice));return e?e.label:p.getLabelForGender(u)}static getLabelForGender(e){switch(e){case a.Gender.male:return l.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionMale");case a.Gender.female:return l.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionFemale");default:return""}}}t.default=p},495920:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(150343)),s=i(26703),l=o.__importStar(i(704704)),c=o.__importDefault(i(341994)),d=o.__importDefault(i(421334)),u=o.__importDefault(i(95114)),p=o.__importDefault(i(52066)),g=i(262725),h=o.__importDefault(i(497910)),m=o.__importDefault(i(429955)),S=(0,s.lazyProperties)({switchStyle:()=>r.Styles.createViewStyle({marginVertical:10,flexDirection:"row"}),privacyStatementTextStyle:()=>r.Styles.createTextStyle({paddingRight:15})});class _ extends h.default{constructor(){super(...arguments),this._onLearnMoreLinkPress=e=>{e.stopPropagation(),e.preventDefault(),r.Linking.openUrl(this.state.learnMoreUrl)},this._onPrivacySettingChanged=(e,t)=>{c.default.setCallTranslatorPrivacyConsent(t)}}_buildState(e,t){return{learnMoreUrl:a.default.getConfigSettings().translator.learnMoreUrl,isMobileScreenReaderEnabled:d.default.isMobileScreenReaderEnabled(),isPrivacyEnabled:!!c.default.getCallTranslatorPrivacyConsent()}}render(){const e=l.getParts("UserSettingsPanel.TranslationPrivacyConsentSwitch",{learnMoreLink:this._getLearnMoreLink()});return(0,n.jsxs)(r.View,{style:S.switchStyle,children:[(0,n.jsx)(g.Caption,{style:[u.default.subtitleMediumSemiLarge,S.privacyStatementTextStyle],onPress:this.state.isMobileScreenReaderEnabled?this._onLearnMoreLinkPress:void 0,children:e},"spokenLanguageSubtitle"),(0,n.jsx)(m.default,{isOn:this.state.isPrivacyEnabled,accessibilityLabel:l.getString("UserSettingsPanel.TranslationPrivacyConsentSwitchNoLink"),onChange:this._onPrivacySettingChanged},"spokenLanguageToggle")]})}_getLearnMoreLink(){return(0,n.jsx)(p.default,{url:"#",blue:!0,onPress:this._onLearnMoreLinkPress,children:l.getString("UserSettingsPanel.TranslationCELAStatementLearnMore")},"keyLearnMore")}}t.default=_},728876:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(150343)),s=o.__importStar(i(704704)),l=i(483877),c=o.__importDefault(i(341994)),d=i(262725),u=o.__importDefault(i(827361)),p=i(26703),g=o.__importDefault(i(186325)),h=o.__importDefault(i(740794)),m=o.__importDefault(i(760989)),S=o.__importDefault(i(958868)),_=(0,p.lazyProperties)({switchStyle:()=>r.Styles.createViewStyle({marginBottom:15})});class f extends S.default{constructor(){super(...arguments),this._onPress=()=>{h.default.showTruVoiceConsentPanel({causeId:m.default.newCauseId(),rootViewId:this._getRootViewId()})}}_buildState(e,t){return{enableValue:c.default.getCallTranslatorTruVoiceConsent(),hasTranslationConsent:c.default.getCallTranslatorTranslationConsent(),shouldDisplay:a.default.getS4LCMCFeatures().translationFeatures.showInSettings}}render(){if(!this.state.shouldDisplay||!this.state.hasTranslationConsent)return[];const e=s.getString("CallTranscriptionNotifications.TruVoiceFeatureNameAi",{featureName:a.default.getS4LCMCFeaturesNoSubscription().translationFeatures.truVoiceName});return[(0,n.jsxs)(r.View,{style:_.switchStyle,children:[(0,n.jsx)(l.WideButton,{label:e,accessibilityLabel:e,labelRight:this._getConsentValue(),onPressed:this._onPress,labelNumberOfLines:3,hideDivider:!0}),(0,n.jsx)(r.View,{children:(0,n.jsx)(d.Caption,{style:u.default.flexOne,children:s.getString("CallTranscriptionNotifications.TruVoiceConsentSettingText",{featureName:a.default.getS4LCMCFeaturesNoSubscription().translationFeatures.truVoiceName})})})]},"truVoicePrivacyButton"),(0,n.jsx)(g.default,{},"divider")]}_getConsentValue(){return this.state.enableValue?s.getString("CallingSettingsPanel.Enabled"):s.getString("CallingSettingsPanel.Disabled")}}t.default=f},81122:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleDesktopUtilityBar=void 0;const o=i(197582).__importDefault(i(766603));class n extends o.default{_getMenuSections(){return this.props.getMenuSections}_currentMenuText(){return this.props.currentMenuText}_accessibilityText(){return this.props.accessibilityText}_onHandleMenuCommand(e){super._onHandleMenuCommand(e),this.props.onHandleMenuCommand(e)}}t.SimpleDesktopUtilityBar=n,t.default=n},169269:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({size:e="md"}){const t=(0,s.useRef)(new a.Animated.Value(0)).current,i=t.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});(0,s.useEffect)((()=>{a.Animated.loop(a.Animated.timing(t,{toValue:1,duration:1.5*u.SECOND,easing:a.Easing.linear,useNativeDriver:!1})).start()}),[t]);const{themeColors:{iconOnAccent:o}}=(0,l.useSkypeTheme)(),{containerSize:g,iconSize:h}=function(e){return(0,s.useMemo)((()=>({containerSize:p[e]/4,iconSize:.6*p[e]})),[e])}(e);return(0,n.jsx)(r.Center,{height:g,width:g,backgroundColor:"surfaceAccent",borderRadius:"full",borderWidth:2,borderColor:"surfacePrimary",children:(0,n.jsx)(a.Animated.View,{style:{transform:[{rotate:i}]},children:(0,n.jsx)(d.default,{icon:c.SkypeIcon.Refresh,size:h,color:o})})})};const o=i(197582),n=i(785893),r=i(344175),a=i(537180),s=i(667294),l=i(206315),c=i(641400),d=o.__importDefault(i(970035)),u=i(938827),p={sm:12,md:16,lg:20}},921869:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useTextStyles=function(e){const t=(0,a.useRXStyles)((({themeColors:{textOnAccent:e}})=>({userName:n.Styles.createTextStyle({color:e},!1)})),[]);return{userName:n.Styles.combine(r.default.modernizeSmallHeaderMobileFontStyle(void 0,e,!1),t.userName)}};const o=i(197582),n=o.__importStar(i(516778)),r=o.__importDefault(i(20758)),a=i(964414)},858443:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importDefault(i(7640)),r=o.__importDefault(i(332993)),a=o.__importStar(i(812822)),s=o.__importDefault(i(511592)),l=i(928722);class c extends n.default{_renderSceneContent(e,t){if(!e)return;const i={ref:this._mountedRefsMap.onComponentRef(t)};return e instanceof a.ConversationsListNavigationContext?r.default.renderComponent(e,Object.assign({},i),this.props.useDesktopUI):r.default.renderComponent(e,i,this.props.useDesktopUI)}_navigatorSceneConfigTypeForNavContext(e,t){return e instanceof a.SearchNavigationContext?t&&t instanceof a.ConversationsListNavigationContext?s.default.sceneConfigForSearchTransition():s.default.fade():e instanceof a.QuickCallNavigationContext?t&&t instanceof a.ConversationsListNavigationContext&&e.state.searchOnly?s.default.sceneConfigForSearchTransition():s.default.floatFromBottom(0):e.state.navigationDirection===l.StackNavigationDirection.Present?s.default.floatFromBottom(0):s.default.floatFromRight(0)}}t.default=c},332993:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=o.__importDefault(i(566153)),s=i(217274),l=o.__importStar(i(812822)),c=o.__importDefault(i(633958)),d=i(803193),u=i(799790),p=(o.__importDefault(i(224548)),(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(253413))))))),g=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(515888)))))),h=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(74213)))))),m=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(871955)))))),S=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(917381)))))),_=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(330617)))))),f=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(853753))))));class y{static renderComponentForLeftNavContext(e,t,i,o,r,s){switch(t){case l.LeftNavViewMode.Recents:return(0,n.jsx)(a.default,Object.assign({useMobileView:!1,isScrollToTopTarget:!1,isActiveTab:!0,useDesktopUtilityBar:o,newActionPickerContext:o?l.HubTab.Recents:void 0,disableChangeAnimation:r},i,{ref:s}));case l.LeftNavViewMode.Search:const t=e.getSearchContext();return y.renderComponent(t,i,o);case l.LeftNavViewMode.ConversationInCall:const c=e.getConversationInCallContext();return c?y.renderComponent(c,i,o):void 0;case l.LeftNavViewMode.Calls:const d=e.getCallsContext();return y.renderComponent(d,i,o);case l.LeftNavViewMode.Contacts:const u=e.getContactsV2Context();return y.renderComponent(u,i,o);case l.LeftNavViewMode.Notifications:const p=e.getNotificationsContext();return y.renderComponent(p,i,o);case l.LeftNavViewMode.Today:const g=e.getTodayContext();return y.renderComponent(g,i,o)}}static renderComponent(e,t,i){let o;if(e instanceof l.ConversationsListNavigationContext?o=(0,n.jsx)(m,Object.assign({route:{params:{hubTab:e.state.currentTab,screen:e.state.currentTab,hideHeader:i}}},t)):e instanceof l.SearchNavigationContext?o=(0,n.jsx)(f,{route:{params:Object.assign({showGroupsFilter:!0,searchPanelInitiator:e.state.searchOrigin,initialSearchFilter:e.state.initialSearchFilter,searchInputSmallMode:i},t)}}):e instanceof l.ConversationInCallNavigationContext?o=(0,n.jsx)(p,Object.assign({conversationId:e.state.conversationId,callId:e.state.callId,onClose:e.state.onClose},t),"callConversationPanel"):e instanceof l.QuickCallNavigationContext?o=(0,n.jsx)(g,Object.assign({conversationId:e.state.conversationId,callId:e.state.callId,newGroup:e.state.newGroup,searchOnly:e.state.searchOnly,navigationDirection:e.state.navigationDirection,hideHeader:i,hideSearchBar:i,useExperimentalDesktopUtilityBar:i,newActionPickerContext:i?l.HubTab.Calls:void 0},t)):e instanceof l.ContactsPanelV2NavigationContext?o=(0,n.jsx)(_,Object.assign({initialTab:e.state.currentTab,hideHeader:i,hideSearchBar:i,useExperimentalDesktopUtilityBar:i,newActionPickerContext:i?l.HubTab.People:void 0},t)):e instanceof l.AlertsHubNavigationContext?o=(0,n.jsx)(S,Object.assign({hideHeader:i,useExperimentalDesktopUtilityBar:i},t)):e instanceof l.ArchivedConversationsPanelNavigationContext?o=(0,n.jsx)(h,{route:{params:Object.assign(Object.assign({},e.state),t)}}):e instanceof l.TodayTabNavigationContext?o=(0,n.jsx)(s.TodayTabNavigationPanel,Object.assign({},t)):e instanceof d.StoreNavigationContext?o=(0,n.jsx)(u.ContentChannelsStorePanel,{route:{params:e.state}}):e instanceof d.ManageNavigationContext?o=(0,n.jsx)(u.ContentChannelsManagePanel,{route:{params:e.state}}):e instanceof d.SearchNavigationContext&&(o=(0,n.jsx)(u.ContentChannelsSearchPanel,{route:{params:e.state}})),o)return(0,n.jsx)(c.default,{isPresentedInDesktopLeftNav:!0,children:(0,n.jsx)(r.Suspense,{fallback:null,children:o})})}}t.default=y},257511:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getTabs=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(803193),l=o.__importDefault(i(135372)),c=o.__importDefault(i(247286)),d=o.__importDefault(i(632145)),u=i(315742),p=o.__importDefault(i(141547)),g=i(239394),h=o.__importDefault(i(261349)),m=o.__importDefault(i(804144)),S=o.__importDefault(i(710427)),_=o.__importDefault(i(793778)),f=i(491839),y=o.__importDefault(i(54720)),C=i(26703),v=o.__importDefault(i(601274)),b=o.__importDefault(i(760989)),T=o.__importDefault(i(308636)),P=o.__importDefault(i(297418)),k=i(503308),A=i(96575),I=o.__importStar(i(812822)),w=o.__importDefault(i(150343)),x=o.__importDefault(i(532821)),N=o.__importDefault(i(48076)),D=o.__importDefault(i(740794)),M=o.__importDefault(i(13816)),L=o.__importDefault(i(201721)),R=o.__importDefault(i(450312)),E=o.__importDefault(i(251733)),B=o.__importStar(i(322094)),O=o.__importDefault(i(218902)),F=o.__importStar(i(85385)),V=o.__importStar(i(704704)),U=i(154235),j=i(815146),H=i(16549),W=i(641400),z=i(927164),G=o.__importDefault(i(719155)),K=o.__importDefault(i(192478)),q=o.__importDefault(i(633958)),Q=o.__importDefault(i(453761)),X=o.__importDefault(i(631080)),$=o.__importDefault(i(2968)),J=o.__importDefault(i(119389)),Y=o.__importDefault(i(858443)),Z=o.__importDefault(i(332993)),ee=o.__importDefault(i(314290)),te=o.__importDefault(i(827361)),ie=o.__importDefault(i(459778)),oe=i(562775),ne=i(295939),re=o.__importDefault(i(248765)),ae=i(135405),se=o.__importDefault(i(100357)),le=i(842029),ce=(0,C.lazyProperties)({viewContainer:()=>a.Styles.createViewStyle({alignSelf:"stretch"}),innerContainer:()=>a.Styles.createViewStyle({alignSelf:"stretch"}),rightBorder:()=>a.Styles.createViewStyle({borderRightWidth:1,borderStyle:"solid",borderColor:H.Color.gray50}),rightBorderCompensation:()=>a.Styles.createViewStyle({paddingRight:1}),searchOverlayContainerHidden:()=>a.Styles.createViewStyle({height:0}),searchBoxContainer:()=>a.Styles.createViewStyle({alignSelf:"stretch",alignItems:"stretch",justifyContent:"center",flexDirection:"row",height:48,paddingLeft:8,paddingRight:10,paddingTop:10,paddingBottom:0}),searchBoxContainerTopTabs:()=>a.Styles.createViewStyle({paddingLeft:16,paddingRight:16,paddingBottom:8,paddingTop:4}),searchButtonContainer:()=>a.Styles.createViewStyle({flex:1,flexDirection:"row",justifyContent:"center"}),dialpadButton:()=>a.Styles.createViewStyle({borderRadius:10,marginLeft:8,padding:7}),dialpadBackgroundLight:()=>a.Styles.createViewStyle({backgroundColor:H.Color.white,borderColor:H.Color.black,borderWidth:1}),dialpadBackgroundDark:()=>a.Styles.createViewStyle({backgroundColor:H.Color.black,borderColor:H.Color.white,borderWidth:1}),fullScreenOverrides:()=>(0,C.lazyProperties)({mainContent:()=>a.Styles.createViewStyle({flex:1,borderRightWidth:0,paddingRight:0})}),dragHandle:()=>a.Styles.createViewStyle({position:"absolute",top:0,right:-15,bottom:0,width:20,backgroundColor:H.Color.transparent}),dragHandleDesktop:()=>a.Styles.createViewStyle({cursor:"ew-resize"}),tabsWrapper:()=>a.Styles.createViewStyle({paddingBottom:8,paddingTop:2}),tabsWrapperMoreSpace:()=>a.Styles.createViewStyle({marginTop:10,paddingBottom:12}),floatingShadow:()=>a.Styles.createViewStyle({shadowOffset:{height:0,width:0},shadowRadius:16,shadowColor:H.Color.blackOverlay20}),callBackground:()=>a.Styles.createViewStyle({backgroundColor:H.Color.gray400})});t.getTabs=(e,t)=>{const i=[I.HubTab.Recents,I.HubTab.Calls,I.HubTab.People];return e?t&&i.push(I.HubTab.Today):i.push(I.HubTab.Notifications),i};class de extends K.default{constructor(){super(...arguments),this._animatedWrapperWidthValue=new a.Animated.Value(0),this._animatedWrapperWidthStyle=a.Styles.createAnimatedViewStyle({width:this._animatedWrapperWidthValue}),this._animatedContentWidthValue=new a.Animated.Value(0),this._animatedContentWidthStyle=a.Styles.createAnimatedViewStyle({width:this._animatedContentWidthValue}),this._coachMarkContext={coachMarkArea:u.CoachMarkAreaType.LeftNavigation},this._statusPillInstance=new O.default,this._headerPanelRef=()=>{var e;return null===(e=this._headerRef)||void 0===e?void 0:e.getUserIconRef()},this._onWhatsNewTooltipPress=()=>{var e;return null===(e=this._headerRef)||void 0===e?void 0:e.openMeControl()},this._myBotIconRef=()=>{var e;return null===(e=this._conversationsListPanelRef)||void 0===e?void 0:e.getMyBotRef()},this._createButtonRef=()=>{var e;return null===(e=this._actionBarRef)||void 0===e?void 0:e.getCreateRef()},this._onTabPress=e=>{if(e===I.HubTab.Today&&this._activeTab===e)return;const t=b.default.newCauseId();switch(F.log(j.LogTraceArea.Navigation,"LeftNavigationView._onTabPress, causeId: "+t),F.track(new k.PressAction(k.PressScenario.HubTab,A.ScenarioName.ResponsivenessSelectHubTab,e)),e){case I.HubTab.Recents:(0,ne.getRecentsFilterStore)().setFilterMode("all"),D.default.navigateToDesktopRecents(t);break;case I.HubTab.Calls:D.default.navigateToQuickCallPanelInLeftNav({causeId:t});break;case I.HubTab.People:D.default.navigateToContactsPanelInLeftNav(t);break;case I.HubTab.Notifications:D.default.navigateToNotificationsInLeftNav();break;case I.HubTab.Today:re.default.start(),(0,le.handleOpeningTodayTab)(!N.default.isTabletUI()),D.default.navigateToTodayTab()}this._activeTab=e},this._onTabLongPress=(e,t)=>{const i=b.default.newCauseId();switch(F.log(j.LogTraceArea.Navigation,"LeftNavigationView._onTabLongPress, causeId: "+i),e){case I.HubTab.Recents:case I.HubTab.Notifications:ie.default.showDesktopTabOptionsMenu(e,(()=>this._tabRef(e)),this._getRootViewId(),t)}},this._onDesktopHubTabBarRef=e=>{this._tabBar=e||void 0},this._onDesktopNavigationHeaderRef=e=>{this._headerRef=e||void 0},this._onConversationListPanelRef=e=>{this._conversationsListPanelRef=e||void 0},this._onActionBarRef=e=>{this._actionBarRef=e||void 0},this._onPanDragHandle=e=>{let t;t=this._isDragging?e.pageX-this._currentDragX:e.pageX-e.initialPageX,this._currentDragX=e.pageX,this._currentWidth+=t,this._currentWidth<this.state.minWidth?this._currentWidth=this.state.minWidth:this._currentWidth>U.SideBarWidths.max&&(this._currentWidth=U.SideBarWidths.max),this._animatedContentWidthValue.setValue(this._currentWidth),e.isComplete?(this._expandedWidth=this._currentWidth,this._animatedWrapperWidthValue.setValue(this._expandedWidth),B.default.putWidth(B.SideBar.Left,this._expandedWidth),this._isDragging=!1,this.forceUpdate()):this._isDragging||(this._isDragging=!0,this.forceUpdate());const i=this._currentWidth<U.SideBarWidths.compact;this.state.useCompactIcons!==i&&this.setState({useCompactIcons:i})},this._onSearchButtonClick=e=>{const t=b.default.newCauseId();F.log(j.LogTraceArea.Navigation,"LeftNavigationView._onSearchButtonClick, causeId: "+t),e&&e.stopPropagation(),F.track(new k.PressAction(k.PressScenario.SearchNavigation,j.SearchPanelInitiator.RecentsListSearchButton)),D.default.navigateToSearch({searchOrigin:j.SearchPanelInitiator.RecentsListSearchButton},t)},this._onTabletBackButtonPressed=()=>{const e=b.default.newCauseId();switch(F.log(j.LogTraceArea.Navigation,"LeftNavigationView._onTabletBackButtonPressed, causeId: "+e),this.props.viewMode){case I.LeftNavViewMode.Search:return D.default.closeSearchPanel(e,this._getContext()),!0;case I.LeftNavViewMode.CallSearch:return D.default.closeCallSearchPanel(e,this._getContext()),!0}return!1},this._onDialPadButtonClick=()=>{const e=b.default.newCauseId();F.log(j.LogTraceArea.Navigation,"DesktopNavigation._onDialpadButtonClick causeId: "+e),F.track(new k.PressAction(k.PressScenario.SearchAccessory,j.SearchAccessoryOrigin.DesktopNavigationSearchBox,"DialPad")),D.default.navigateToPSTNDialerWithParams({causeId:e,navigationSource:j.DialerNavigationSource.DesktopNavigationSearchBox},this._getRootViewId())}}_buildState(e,t){const{enableContentChannels:i}=w.default.getS4LUiFeatures(),o=c.default.isChildOrMinor(),n=se.default.skipCleanupPrompt(ae.PromptViewName.WhatsNewPrompt),r=se.default.skipCleanupPrompt(ae.PromptViewName.ClipsPrompt),a=se.default.skipCleanupPrompt(ae.PromptViewName.NotificationPrompt),s=N.default.isTabletUI(),l=!s&&x.default.collapseDesktopStackNavContext(),u=B.default.resizingEnabled(B.SideBar.Left),p=e.viewMode===I.LeftNavViewMode.Search,g=e.viewMode===I.LeftNavViewMode.ConversationInCall?U.SideBarWidths.base:U.SideBarWidths.min,h=w.default.getS4LMessagingFeatures().enableNotificationPrompt&&E.default.shouldShowNotificationsPrompt()&&a,f=m.default.isBookmarkAdded(),y=w.default.getEngagementFeatures().whatsNewSetting,C=w.default.getS4LCommerceFeatures().todayTab.enabled,{enableHistory:v,enableSuggest:b}=w.default.getS4LSearchFeatures().bingSearch,T=c.default.isChildOrMinor(),k=L.default.getTodayTabToggledButtonSwitchedOn(),A=C&&!T,D={useDesktopUI:l,useTabletUI:s,isResizeable:u,showNotificationsPrompt:h,mainStageViewMode:u?R.default.getCompositeMainStageNavViewMode():void 0,renderPreMountedSearch:p||!t&&this.state.renderPreMountedSearch,minWidth:g,conversationsListMode:s?S.default.getConversationsListMode():void 0,useExtraCompactLayout:ie.default.shouldUseExtraCompactLayoutAndChanges(),isBookmarkAdded:f,shouldShowMyBotToolTip:_.default.shouldShowMyBotFloatToolTip(),isWhatsNewTooltipEnabled:y.enabled&&y.coachmarkEnabled&&n,showWhatsNewTooltip:d.default.showTooltip()&&M.default.isAppUpdated()&&n,showClipsTooltip:P.default.shouldShowClipsTooltip()&&r,isTodayTabToggledButtonSwitchedOn:k,shouldShowTodayTab:A,enableBingSearchHistory:b||v,enableRecentsFilterPills:i&&!o};if(t||g!==this.state.minWidth){this._currentDragX=0,this._expandedWidth=Math.max(g,B.default.getWidth(B.SideBar.Left)),this._currentWidth=this._expandedWidth,this._animatedWrapperWidthValue.setValue(this._currentWidth),this._animatedContentWidthValue.setValue(this._currentWidth);const e=this._currentWidth<=U.SideBarWidths.compact;t&&(this._useCompactIconsOnMount=e),D.useCompactIcons=e}return D}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),!this.state.isTodayTabToggledButtonSwitchedOn&&(this.props.viewMode===I.LeftNavViewMode.Today||R.default.getCompositeMainStageNavViewMode()===I.MainStageNavViewMode.Today)){const e=b.default.newCauseId();D.default.navigateToWelcomeScreen(e)}}componentDidMount(){super.componentDidMount(),this.state.useTabletUI&&y.default.subscribe(this._onTabletBackButtonPressed),this.state.renderPreMountedSearch||v.default.setTimeout((()=>{this.isComponentMounted()&&this.setState({renderPreMountedSearch:!0})}),2500),this._timeoutId=v.default.setTimeout((()=>{this.isComponentMounted()&&(d.default.maybeSetTooltipVisibility(!0),d.default.maybeSetRedDotVisibility(!0),this._timeoutId=void 0)}),2500)}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),this._isDragging||(this._currentWidth=e.viewMode===I.LeftNavViewMode.None?0:this._expandedWidth,this._animatedWrapperWidthValue.setValue(this._currentWidth),this._animatedContentWidthValue.setValue(this._currentWidth))}componentWillUnmount(){super.componentWillUnmount(),y.default.unsubscribe(this._onTabletBackButtonPressed),this._timeoutId&&(v.default.clearTimeout(this._timeoutId),this._timeoutId=void 0),this._statusPillInstance.destroy()}render(){if(this.props.viewMode===I.LeftNavViewMode.None)return null;const e=[ce.viewContainer],i=[ce.innerContainer,a.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfacePrimary},!1)];let o,r;this._useAccessibleTheme()?i.push(ce.rightBorder):i.push(ce.rightBorderCompensation),this.state.isResizeable&&i.push(te.default.flexOne),this._getContext().isPresentedInDesktopContentPanel?(e.push(te.default.flexOne),i.push(ce.fullScreenOverrides.mainContent)):(e.push(this._animatedWrapperWidthStyle,te.default.overflowVisible),i.push(this._themeStyles.dividerBorderColorStyle,this._animatedContentWidthStyle)),this._useDarkTheme()&&i.push(this._themeStyles.headerShadowBorderColorStyle),this._isDragging&&i.push(ce.floatingShadow),this.props.viewMode!==I.LeftNavViewMode.ConversationInCall&&(o=this._renderHeader(),r=this._renderSearchBox());const s=this.state.isResizeable?(0,n.jsx)(a.GestureView,{style:[ce.dragHandle,ce.dragHandleDesktop],preferredPan:a.Types.PreferredPanGesture.Horizontal,onPanHorizontal:this._onPanDragHandle}):void 0;let l,c;if(this.state.useDesktopUI){const e=this.props.viewMode,i=e===I.LeftNavViewMode.Search||e===I.LeftNavViewMode.ContentChannelsStore||e===I.LeftNavViewMode.ContentChannelsSearch||e===I.LeftNavViewMode.ContentChannelsManage||e===I.LeftNavViewMode.SXPlayground,o=function(e,t){var i;return null!==(i=function(e){switch(e){case I.LeftNavViewMode.Recents:return I.HubTab.Recents;case I.LeftNavViewMode.Calls:return I.HubTab.Calls;case I.LeftNavViewMode.Contacts:return I.HubTab.People;case I.LeftNavViewMode.Notifications:return I.HubTab.Notifications;case I.LeftNavViewMode.Today:return I.HubTab.Today;default:return}}(t===I.LeftNavViewMode.Search&&e?e:t))&&void 0!==i?i:I.HubTab.Recents}(this.props.navContext.state.searchViewModeContext,this.props.viewMode),r=(0,n.jsx)($.default,{currentHubTab:o,ref:this._onActionBarRef,onMenuOpen:ue}),s=[ce.tabsWrapper,ce.tabsWrapperMoreSpace],c=function(e){switch(e){case I.LeftNavViewMode.Recents:case I.LeftNavViewMode.Calls:case I.LeftNavViewMode.Contacts:case I.LeftNavViewMode.Notifications:case I.LeftNavViewMode.Search:case I.LeftNavViewMode.Today:return!0;default:return!1}}(e)?(0,n.jsx)(J.default,{ref:this._onDesktopHubTabBarRef,style:s,tabs:(0,t.getTabs)(this.state.shouldShowTodayTab,this.state.isTodayTabToggledButtonSwitchedOn),currentHubTab:o,smallTabsThreshold:U.SideBarWidths.compact,useSmallTabsOnMount:this._useCompactIconsOnMount,hideLabels:this.state.useExtraCompactLayout,onTabPress:this._onTabPress,onTabLongPress:this._onTabLongPress}):void 0,d=this.state.showNotificationsPrompt?(0,n.jsx)(ee.default,{}):void 0,u=i?this._renderSearchContextContent():this._renderContent();let p;if(this.state.renderPreMountedSearch||this._isShowingSearch()){const t=[te.default.absoluteFill,i?void 0:ce.searchOverlayContainerHidden];p=(0,n.jsx)(a.View,{style:t,children:this._renderOverlayPanel(e)})}const g=[te.default.flexOne];let h;i&&(g.push(te.default.displayNone),h=a.Types.ImportantForAccessibility.NoHideDescendants),l=(0,n.jsxs)(a.View,{style:te.default.flexOne,children:[(0,n.jsxs)(a.View,{style:g,importantForAccessibility:h,children:[d,c,r,u,(0,n.jsx)(G.default,{statusPillInstance:this._statusPillInstance,statusPillMaxWidth:this._currentWidth-2})]}),p]})}else c=this._renderSearchPanel(),this._isShowingSearch()||(l=this._renderContent());let d=(0,n.jsxs)(a.Animated.View,{style:i,importantForAccessibility:this.state.isResizeable?void 0:this.props.importantForAccessibility,children:[o,r,c,l,s,this._getBookmarkTooltip(),this._getWhatsNewTooltip(),this._getMyBotTooltip(),this._getClipsTooltip()]});return this.state.isResizeable&&(this._isDragging&&e.push(te.default.floatingStyle),e.push(this._backgroundColorStyle()),d=(0,n.jsx)(a.Animated.View,{style:e,importantForAccessibility:this.props.importantForAccessibility,children:d})),(0,n.jsx)(q.default,{isPresentedInDesktopLeftNav:!0,children:(0,n.jsx)(u.CoachMarkContext.Provider,{value:this._coachMarkContext,children:d})})}_getBookmarkTooltip(){return this.state.isBookmarkAdded&&!l.default.isCoachMarkBeingShown()?(0,n.jsx)(p.default,{title:V.getString("BookmarksTooltips.BookmarkAdded"),accessibilityLabel:V.getString("BookmarksTooltips.BookmarkAdded"),anchor:this._headerPanelRef,offsetY:-2}):void 0}_getWhatsNewTooltip(){return this.state.isWhatsNewTooltipEnabled&&this.state.showWhatsNewTooltip?(0,n.jsx)(h.default,{title:V.getString("Onboarding.LandingScreenWithCardsCardTitle1"),accessibilityLabel:V.getString("Onboarding.LandingScreenWithCardsCardTitle1"),anchor:this._headerPanelRef,offsetY:-2,onPress:this._onWhatsNewTooltipPress}):void 0}_getClipsTooltip(){return this.state.showClipsTooltip&&!l.default.isCoachMarkBeingShown()?(0,n.jsx)(T.default,{title:V.getString("SkypeClipsUpsell.CoachmarkTitle"),description:V.getString("SkypeClipsUpsell.CoachmarkDescription"),accessibilityLabel:V.getString("SkypeClipsUpsell.CoachmarkTitle"),anchor:this._createButtonRef}):void 0}_tabRef(e){return this._tabBar?this._tabBar.tabRef(e):void 0}_renderHeader(){return!function(e){switch(e){case I.LeftNavViewMode.SXPlayground:case I.LeftNavViewMode.ContentChannelsStore:case I.LeftNavViewMode.ContentChannelsSearch:case I.LeftNavViewMode.ContentChannelsManage:return!1;default:return!0}}(this.props.viewMode)||this.state.useTabletUI?null:(0,n.jsx)(X.default,{ref:this._onDesktopNavigationHeaderRef})}_renderSearchBox(){return!function(e){switch(e){case I.LeftNavViewMode.SXPlayground:case I.LeftNavViewMode.Search:case I.LeftNavViewMode.ContentChannelsStore:case I.LeftNavViewMode.ContentChannelsSearch:case I.LeftNavViewMode.ContentChannelsManage:return!1;default:return!0}}(this.props.viewMode)||this.state.useTabletUI?null:(0,n.jsx)(z.HeaderSearch,{onPress:this._onSearchButtonClick,placeholder:V.getString(this.state.enableBingSearchHistory?"HubHeaderPanel.SearchHubTitleEnableSearch":"HubHeaderPanel.SearchHubTitle"),accessory:this.state.useDesktopUI?(0,n.jsx)(Q.default,{title:V.getString("PeopleList.PstnDialpadLabel"),icon:this.state.useDesktopUI?W.SkypeIcon.Dialpad:W.SkypeIcon.Filter,size:W.IconSize.size14,color:this._getContext().themeColors.primaryIconColor,onPress:this._onDialPadButtonClick}):void 0})}_getMyBotTooltip(){return this.state.shouldShowMyBotToolTip&&this._isShowingRecents()?(0,n.jsx)(g.MyBotFloatTooltip,{title:V.getString("MyBotConversation.HightlightedTooltip"),anchor:this._myBotIconRef}):void 0}_renderContent(){const e=this.props.navContext;if(this.state.useTabletUI){const t=function(e,t){const i=r.clone(e.getConversationsListContext());switch(i.id=-1,e.state.viewModeHistory.peek()){case I.LeftNavViewMode.Recents:if(t===f.ConversationsListMode.ArchivedConversations){return[i,r.clone(e.getArchivedConversationsContext())]}return[i];case I.LeftNavViewMode.Search:const o=r.clone(e.getSearchContext());return o.id=-2,[i,o];case I.LeftNavViewMode.CallSearch:const n=r.clone(e.getCallSearchContext());return n.id=-4,[i,n];case I.LeftNavViewMode.ConversationInCall:const a=r.clone(e.getConversationInCallContext());return a?(a.id=-3,[a]):[];case I.LeftNavViewMode.SXPlayground:return[e.setContext(new I.SXPlaygroundNavigationContext({viewModeHistory:new oe.ViewModeHistory(I.LeftNavViewMode.SXPlayground),withHeader:!0}),I.SXPlaygroundNavigationId)];case I.LeftNavViewMode.ContentChannelsStore:return[e.setContext(new s.StoreNavigationContext({viewModeHistory:new oe.ViewModeHistory(I.LeftNavViewMode.ContentChannelsStore)}),s.StoreNavigationId)];case I.LeftNavViewMode.ContentChannelsSearch:return[e.setContext(new s.SearchNavigationContext({viewModeHistory:new oe.ViewModeHistory(I.LeftNavViewMode.ContentChannelsSearch),searchOrigin:j.SearchResultsListOrigin.ContentChannels}),s.SearchNavigationId)];case I.LeftNavViewMode.ContentChannelsManage:return[e.setContext(new s.ManageNavigationContext({viewModeHistory:new oe.ViewModeHistory(I.LeftNavViewMode.ContentChannelsManage)}),s.ManageNavigationId)]}return[]}(e,this.state.conversationsListMode);return(0,n.jsx)(Y.default,{navContextStack:t,useDesktopUI:this.state.useDesktopUI})}const t={isPresentedInDesktopLeftNav:!0,isCollapsed:!1,useCompactIcon:this.state.useCompactIcons};return Z.default.renderComponentForLeftNavContext(e,this.props.viewMode,t,this.state.useDesktopUI,void 0,this._onConversationListPanelRef)}_isShowingRecents(){return this.props.viewMode===I.LeftNavViewMode.Recents}_isShowingSearch(){return this.props.viewMode===I.LeftNavViewMode.Search}_renderOverlayPanel(e){if(e===I.LeftNavViewMode.Search)return this._renderSearchPanel();if(e===I.LeftNavViewMode.SXPlayground){const e={useCompactIcon:this.state.useCompactIcons},t=this.props.navContext.setContext(new I.SXPlaygroundNavigationContext({viewModeHistory:new oe.ViewModeHistory(I.LeftNavViewMode.SXPlayground),withHeader:!0}),I.SXPlaygroundNavigationId);return Z.default.renderComponent(t,e,!1)}if(e===I.LeftNavViewMode.ContentChannelsStore){const e={useCompactIcon:this.state.useCompactIcons},t=this.props.navContext.setContext(new s.StoreNavigationContext({viewModeHistory:new oe.ViewModeHistory(I.LeftNavViewMode.ContentChannelsStore)}),s.StoreNavigationId);return Z.default.renderComponent(t,e,!1)}if(e===I.LeftNavViewMode.ContentChannelsManage){const e={useCompactIcon:this.state.useCompactIcons},t=this.props.navContext.setContext(new s.ManageNavigationContext({viewModeHistory:new oe.ViewModeHistory(I.LeftNavViewMode.ContentChannelsManage)}),s.ManageNavigationId);return Z.default.renderComponent(t,e,!1)}if(e===I.LeftNavViewMode.ContentChannelsSearch){const e={useCompactIcon:this.state.useCompactIcons},t=this.props.navContext.setContext(new s.SearchNavigationContext({viewModeHistory:new oe.ViewModeHistory(I.LeftNavViewMode.ContentChannelsSearch),searchOrigin:j.SearchResultsListOrigin.ContentChannels}),s.ManageNavigationId);return Z.default.renderComponent(t,e,!1)}}_renderSearchPanel(){const e={isCollapsed:!1,hidden:!this._isShowingSearch(),useCompactIcon:this.state.useCompactIcons},t=this.props.navContext.getSearchContext();return Z.default.renderComponent(t,e,!1)}_renderSearchContextContent(){if(!this.props.navContext.state.searchViewModeContext||!this.state.useDesktopUI)return;const e={isPresentedInDesktopLeftNav:!0,isCollapsed:!1,useCompactIcon:this.state.useCompactIcons};return Z.default.renderComponentForLeftNavContext(this.props.navContext,this.props.navContext.state.searchViewModeContext,e,this.state.useDesktopUI,!0)}_backgroundColorStyle(){switch(this.state.mainStageViewMode){case I.MainStageNavViewMode.Call:case I.MainStageNavViewMode.MeetNow:return ce.callBackground;case I.MainStageNavViewMode.DesktopContentPanel:return this._themeStyles.messageStreamBackgroundColorStyle;case I.MainStageNavViewMode.WelcomeScreen:return this._themeStyles.primaryBackgroundColorStyle;default:return}}}function ue(){P.default.closeTooltip()}t.default=de},931675:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(192478)),s=o.__importDefault(i(633958)),l=i(315742),c=i(154235),d=i(26703),u=o.__importDefault(i(332993)),p=i(16549),g=o.__importDefault(i(48076)),h=(0,d.lazyProperties)({viewContainer:()=>r.Styles.createViewStyle({alignSelf:"stretch",borderRightWidth:1,borderStyle:"solid",borderColor:p.Color.gray50})});class m extends a.default{constructor(){super(...arguments),this._coachMarkContext={coachMarkArea:l.CoachMarkAreaType.LeftNavigation}}_buildState(e,t){return{sidebarWidth:c.SideBarWidths.base,useTabletUI:g.default.isTabletUI()}}render(){if(!this.props.navContext)return null;const e=u.default.renderComponent(this.props.navContext,{isCollapsed:!1},!0),t=[h.viewContainer,this.state.useTabletUI?this._themeStyles.primaryBackgroundColorStyle:this._themeStyles.secondaryBackgroundColorStyle,this._themeStyles.dividerBorderColorStyle,r.Styles.createViewStyle({width:this.state.sidebarWidth},!1)];return this._useDarkTheme()&&t.push(this._themeStyles.headerShadowBorderColorStyle),(0,n.jsx)(r.View,{style:t,importantForAccessibility:this.props.importantForAccessibility,children:(0,n.jsx)(s.default,{isPresentedInDesktopLeftNav:!0,children:(0,n.jsx)(l.CoachMarkContext.Provider,{value:this._coachMarkContext,children:e})})})}}t.default=m},990619:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(667294),s=i(736267),l=o.__importDefault(i(3215)),c=o.__importDefault(i(58474)),d=o.__importDefault(i(257511)),u=o.__importStar(i(704704)),p=o.__importDefault(i(730946)),g=o.__importStar(i(812822)),h=o.__importDefault(i(692773)),m=o.__importStar(i(972830)),S=i(206197),_=o.__importDefault(i(266872)),f=i(217274),y=i(803193),C=i(799790),v=o.__importDefault(i(172814)),b=(0,a.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(97493)))))),T=(0,a.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(976413)))))),P=(0,a.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(725520))))));t.default=class{static renderComponentForContext(e){let t,i,o;if(e instanceof g.JoiningGuestScreenContext)t=(0,n.jsx)(h.default,{showSpinner:!0,statusText:u.getString("UrlConverter.JoiningConversationMessage"),showLoginFallback:!1,loginCallback:r.noop,darkThemeEnabled:_.default.isDarkThemeNoSubscription()});else if(e instanceof g.WelcomeScreenContext)t=(0,n.jsx)(s.CommonContext.Consumer,{children:e=>{const t=m.isDarkTheme(e.theme)&&!m.isAccessibleTheme(e.theme)?S.Theme.ColorfulDark:void 0;return(0,n.jsx)(c.default,{colorThemeOverride:t})}});else if(e instanceof g.TodayTabNavigationContext)t=e.state.isTablet?(0,n.jsx)(f.TodayTabNativePanel,{getIsActiveTab:()=>!0,openInterestsManagerOnLoad:!1,isTablet:!0}):f.TodayTabDesktopPanel&&(0,n.jsx)(f.TodayTabDesktopPanel,{route:{params:e.state}});else if(e instanceof g.DesktopContentPanelNavigationContext){const o=e.getConversationContext();o&&(i=o?o.state.conversationId:void 0,t=(0,n.jsx)(T,{navContext:o}))}else e instanceof g.CallNavigationContext?(o=e.state.callId,i=e.state.initialConversationMri,t=(0,n.jsx)(b,{route:{params:{initialConversationMri:i,callId:o,navigationReason:e.state.navigationReason,convertedVideoToAudio:e.state.convertedVideoToAudio,meetNowParameters:e.state.meetNowParameters}}},"call"+o)):e instanceof p.default.NavigationContext.MeetNowNavigationContext?t=p.default.StackNavigator.renderSceneContent(e):e instanceof g.ForcedUpgradeContext?t=(0,n.jsx)(l.default,{}):e instanceof g.LeftNavigationViewContext?t=(0,n.jsx)(d.default,{navContext:e,viewMode:e.state.viewModeHistory.peek()}):e instanceof g.RedirectToLogoutNavigationContext?t=(0,n.jsx)(P,{route:{params:e.state}}):e instanceof y.ChannelViewNavigationContext?t=(0,n.jsx)(C.ContentChannelsViewScreen,{route:{params:e.state}}):e instanceof g.SXPlaygroundScreenNavigationContext&&(t=(0,n.jsx)(v.default,{route:{params:e.state}}));return t=(0,n.jsx)(a.Suspense,{fallback:null,children:t}),{component:t,conversationMri:i,callId:o}}}},872332:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(496486),s=o.__importStar(i(44717)),l=o.__importDefault(i(633958)),c=o.__importDefault(i(958868)),d=i(815146),u=o.__importStar(i(800662)),p=o.__importStar(i(85385)),g=o.__importDefault(i(97595)),h=o.__importStar(i(704704)),m=o.__importDefault(i(990619)),S=o.__importDefault(i(740794)),_=o.__importStar(i(812822)),f=o.__importDefault(i(450312)),y=o.__importDefault(i(760989));class C extends c.default{constructor(){super(...arguments),this._navigateToRecents=(e,t)=>{if(t!==this._getRootViewId())return!1;const i=y.default.newCauseId();return p.log(d.LogTraceArea.Navigation,"MainStageNavigationView._navigateToRecents, causeId: "+i),S.default.navigateToDesktopRecents(i,this._conversationMri,this._callId?d.NavigationConversationOrigin.Call:void 0),u.setFocusWithDelay(u.FocusEvent.Recent,0),!0},this._toggleGallery=(e,t)=>{if(t!==this._getRootViewId())return!1;const i=y.default.newCauseId();return p.log(d.LogTraceArea.Navigation,"MainStageNavigationView._toggleGallery,  causeId: "+i),!this._conversationMri||s.isConversationWithPhoneNumber(this._conversationMri)||s.isS4BBridgeMri(this._conversationMri)||(this.state.isGalleryShowing?(r.Accessibility.announceForAccessibility(h.getString("AccessibilityLabel.GalleryClosed")),S.default.closeGalleryPanel(i,this._getContext())):(r.Accessibility.announceForAccessibility(h.getString("AccessibilityLabel.GalleryOpened")),S.default.navigateToGallery(this._conversationMri,_.GalleryViewMode.All,this._getContext()))),!0}}_buildState(e,t){return{isGalleryShowing:f.default.isGalleryShowing()}}componentDidMount(){super.componentDidMount(),this._registerKeyboardHandlers()}componentWillUnmount(){super.componentWillUnmount(),this._unregisterKeyboardHandlers()}render(){if(!this.props.splitNavContext)return null;const e=this.props.splitNavContext.getNavStack(),t=m.default.renderComponentForContext((0,a.last)(e));return this._conversationMri=t.conversationMri,this._callId=t.callId,t.component?(0,n.jsx)(l.default,{isPresentedInDesktopContentPanel:!0,children:t.component}):null}_registerKeyboardHandlers(){g.default.addHandler(d.KeyboardShortcut.NavigateToRecents,this._navigateToRecents),g.default.addHandler(d.KeyboardShortcut.NavigateToHistory,this._navigateToRecents),g.default.addHandler(d.KeyboardShortcut.ToggleGallery,this._toggleGallery)}_unregisterKeyboardHandlers(){g.default.removeHandler(d.KeyboardShortcut.NavigateToRecents,this._navigateToRecents),g.default.removeHandler(d.KeyboardShortcut.NavigateToHistory,this._navigateToRecents),g.default.removeHandler(d.KeyboardShortcut.ToggleGallery,this._toggleGallery)}}t.default=C},998929:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MaybeListItem=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(614080),s=o.__importStar(i(516778));function l(e,t,i,o){const n=e;let r=!1;t.disabled&&(r=!0);const a=r?void 0:t.onPress;if(t.onContextMenu&&(o.onContextMenu=t.onContextMenu,delete i.onContextMenu),a)n._isMaybeListItemPressed=!1,n._maybeListItemOnPress||(n._maybeListItemOnPress=e=>{n._isMaybeListItemPressed=!0}),n._maybeLitItemOrigOnPress!==a&&(n._maybeListItemWrappedOnPress=(e,t)=>{(s.UserInterface.isNavigatingWithKeyboard()||n._isMaybeListItemPressed||t)&&(n._isMaybeListItemPressed=!1,a&&a(e))},n._maybeLitItemOrigOnPress=a);else{if(!n._maybeLitItemOrigOnPress)return;n._isMaybeListItemPressed=!1,delete n._maybeLitItemOrigOnPress,delete n._maybeListItemOnPress,delete n._maybeListItemWrappedOnPress}i.onPress=n._maybeListItemOnPress,o.onPress=n._maybeListItemWrappedOnPress}function c(e,t,i,o){const n=e,r=t.onLongPress;t.onContextMenu&&(o.onContextMenu=t.onContextMenu,delete i.onContextMenu),r&&(n._isMaybeListItemPressed=!1,n._maybeListItemOnLongPress||(n._maybeListItemOnLongPress=e=>{r(e)}),i.onLongPress=n._maybeListItemOnLongPress)}class d extends s.Component{constructor(){super(...arguments),this._onRef=e=>{this._ref=e||void 0}}render(){return(0,n.jsx)(a.Types.VirtualListCellContext.Consumer,{children:e=>{const t=this._processProps(this.props,e),i=t.Component;return(0,n.jsx)(i,Object.assign({ref:this._onRef},t.props))}})}requestFocus(){this._focus?this._focus():this._ref&&this._ref.requestFocus()}_processProps(e,t){let i,o;if(t.onListItemDetails){o=r.clone(e);const n=!!e.keepOriginalProps;delete o.ref,delete o.keepOriginalProps,n||delete o.tabIndex;const a={};i=this.processProps(e,n,o,a),this._focus=t.onListItemDetails(a)}return{Component:i||this.DefaultComponent,props:o||e}}}t.MaybeListItem={View:class extends d{constructor(){super(...arguments),this.DefaultComponent=s.View}processProps(e,t,i,o){return e.accessibilityTraits&&(o.accessibilityTrait=e.accessibilityTraits instanceof Array?e.accessibilityTraits[0]:e.accessibilityTraits,t||delete i.accessibilityTraits),e.accessibilityLabel&&(o.accessibilityLabel=e.accessibilityLabel,t||delete i.accessibilityLabel),e.importantForAccessibility&&(o.importantForAccessibility=e.importantForAccessibility,t||delete i.importantForAccessibility),l(this,e,i,o),c(this,e,i,o),e.onFocus&&(o.onFocus=e.onFocus,delete i.onFocus),e.onBlur&&(o.onBlur=e.onBlur,delete i.onBlur),e.onMouseEnter&&(o.onHoverStart=e.onMouseEnter,delete i.onMouseEnter),i.onMouseLeave&&(o.onHoverEnd=i.onMouseLeave,delete i.onMouseLeave),s.View}},Button:class extends d{constructor(){super(...arguments),this.DefaultComponent=s.Button}processProps(e,t,i,o){return e.accessibilityTraits&&(o.accessibilityTrait=e.accessibilityTraits instanceof Array?e.accessibilityTraits[0]:e.accessibilityTraits,t||delete i.accessibilityTraits),e.accessibilityLabel&&(o.accessibilityLabel=e.accessibilityLabel,t||delete i.accessibilityLabel),e.importantForAccessibility&&(o.importantForAccessibility=e.importantForAccessibility,t||delete i.importantForAccessibility),l(this,e,i,o),c(this,e,i,o),e.onFocus&&(o.onFocus=e.onFocus,delete i.onFocus),e.onBlur&&(o.onBlur=e.onBlur,delete i.onBlur),e.onHoverStart&&(o.onHoverStart=e.onHoverStart,delete i.onHoverStart),i.onHoverEnd&&(o.onHoverEnd=i.onHoverEnd,delete i.onHoverEnd),t?s.Button:s.View}}},t.default=t.MaybeListItem},355007:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(405853)),a=i(962234),s=o.__importDefault(i(808467)),l=o.__importDefault(i(633958)),c=i(413686),d=i(815146),u=o.__importStar(i(85385)),p=o.__importStar(i(704704)),g=o.__importDefault(i(672481)),h=i(473711),m=o.__importDefault(i(399564)),S=i(740401),_=i(967338),f=i(16549),y=i(641400),C=i(206197),v=o.__importDefault(i(760989));class b extends s.default{constructor(e){super(e),this._goBack=e=>(u.log(d.LogTraceArea.Navigation,"AVSettingsDialog._goBack,  causeId: "+e),this.props.scenarioNavigator?(this.props.scenarioNavigator.goBack(),!0):super._goBack(e)),this._onCloseButtonClicked=()=>{const e=v.default.newCauseId();u.log(d.LogTraceArea.Navigation,"AVSettingsDialog._onCloseButtonClicked,  causeId: "+e),this._sendTelemetryEvent(c.DialogNavExit.Close),this._goBack(e)},this._onNextButtonClicked=()=>{const e=v.default.newCauseId();u.log(d.LogTraceArea.Navigation,"AVSettingsDialog._onNextButtonClicked,  causeId: "+e),this._sendTelemetryEvent(c.DialogNavExit.Submit),this.props.scenarioNavigator?this.props.scenarioNavigator.goNext():this._goBack(e)},this._onSkipButtonClicked=()=>{const e=v.default.newCauseId();u.log(d.LogTraceArea.Navigation,"AVSettingsDialog._onSkipButtonClicked,  causeId: "+e),this._sendTelemetryEvent(c.DialogNavExit.Skip),this.props.scenarioNavigator?this.props.scenarioNavigator.goNext():this._goBack(e)},this._onCameraSelected=e=>{this._telemetryEvent&&e&&this._telemetryEvent.markDidChangeCameraSetting()},this._onMicrophoneSelected=e=>{this._telemetryEvent&&e&&this._telemetryEvent.markDidChangeMicSetting()},this._onSpeakerSelected=e=>{this._telemetryEvent&&e&&this._telemetryEvent.markDidChangeSpeakerSetting()},this._onRingingDeviceSelected=e=>{this._telemetryEvent&&e&&this._telemetryEvent.markDidChangeRingingDeviceSetting()},this._onMicrophoneAdjusted=()=>{this._telemetryEvent&&this._telemetryEvent.markDidAdjustMicrophone()},this._onMicrophoneAutoAdjustChanged=e=>{this._telemetryEvent&&this._telemetryEvent.markDidChangeMicrophoneAutoAdjustment(e)},this._onAudioTestPerformed=()=>{this._telemetryEvent&&this._telemetryEvent.markAudioTestPerformed()},this._onTestCallPerformed=()=>{this._telemetryEvent&&this._telemetryEvent.markTestCallPerformed()},this._onSpeakerVolumeChanged=()=>{this._telemetryEvent&&this._telemetryEvent.markDidChangeSpeakerVolume()},this._onEchoCancellationChanged=e=>{this._telemetryEvent&&this._telemetryEvent.markDidChangeEchoCancellation(e)},this._onMusicModeChanged=e=>{this._telemetryEvent&&this._telemetryEvent.markDidChangeMusicMode(e)},this._setupTelemetryEvent(e)}static getHeaderText(e){return e===a.SettingsMode.Audio?p.getString("AudioVideoSettings.AudioTestTitle"):e===a.SettingsMode.Video?p.getString("AudioVideoSettings.VideoTestTitle"):p.getString("AudioVideoSettings.Title")}render(){const e=this.props.origin===c.DialogNavOrigin.Onboarding?h.OnboardingDialogWizardNextButtonVariant.TextAndIcon:h.OnboardingDialogWizardNextButtonVariant.IconOnly,t=this._getNextButtonTitle(),i=this.props.scenarioNavigator&&!this._useDarkTheme(),o=this._useDarkTheme()?f.Color.darkThemeBackground:f.Color.white;return(0,n.jsx)(l.default,{goBack:this._goBack,children:(0,n.jsx)(g.default,{headerText:this._getHeaderText(),descriptionElement:p.getString("AudioVideoSettings.AVTestBody"),hideSkipButton:this.props.hideSkipButton,nextButtonIcon:this.props.nextButtonIcon||y.SkypeIcon.Ok,hideCloseButton:this.props.hideCloseButton,closeButtonIcon:this.props.closeButtonIcon,nextButtonVariant:e,nextButtonTitle:t,scenarioNavigator:this.props.scenarioNavigator,onSkipButtonClicked:this._onSkipButtonClicked,onNextButtonClicked:this._onNextButtonClicked,onCloseButtonClicked:this._onCloseButtonClicked,disablePresentationAnimation:!0,isContentScrollable:!0,children:(0,n.jsx)(r.default,{settingsMode:this.props.settingsMode,colorThemeOverride:i?C.Theme.Colorful:void 0,backgroundColor:i?f.Color.white:o,onCameraSelected:this._onCameraSelected,onMicrophoneSelected:this._onMicrophoneSelected,onSpeakerSelected:this._onSpeakerSelected,onRingingDeviceSelected:this._onRingingDeviceSelected,onMicrophoneAdjusted:this._onMicrophoneAdjusted,onMicrophoneAutoAdjustChanged:this._onMicrophoneAutoAdjustChanged,onSpeakerVolumeChanged:this._onSpeakerVolumeChanged,onAudioTestPerformed:this._onAudioTestPerformed,onTestCallPerformed:this._onTestCallPerformed,onMusicModeChanged:this._onMusicModeChanged,onEchoCancellationChanged:this._onEchoCancellationChanged,isInOnboarding:!0,hideBackgroundBlurCapability:!0})})})}componentWillUnmount(){super.componentWillUnmount(),this._sendTelemetryEvent(c.DialogNavExit.CancelOrBack)}_componentId(){return"AVSettingsDialog"}_getNextButtonTitle(){if(this.props.origin===c.DialogNavOrigin.Onboarding)return p.getString("Onboarding.WizardGenericStepContinueButton")}_setupTelemetryEvent(e){let t,i;const o=(0,S.getTypedScenarioNavigator)(e.scenarioNavigator);o&&(t=o.getCurrentStep(),i=o.getTotalNumberOfSteps()),this._telemetryEvent=new _.AVSettingsDialogEvent(e.settingsMode,e.origin,t,i)}_sendTelemetryEvent(e){this._telemetryEvent&&(this._telemetryEvent.setExit(e),m.default.track(this._telemetryEvent),this._telemetryEvent=void 0)}_getHeaderText(){return b.getHeaderText(this.props.settingsMode)}}t.default=b},449642:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(537180),a=i(344175),s=o.__importStar(i(516778)),l=i(667294),c=i(217041),d=o.__importStar(i(704704)),u=o.__importDefault(i(453761)),p=i(641400),g=i(964414),h=i(206315),m=o.__importDefault(i(20758)),S=i(154235),_=i(26703),f=o.__importDefault(i(660401)),y=i(186907),C=i(308861),v=o.__importDefault(i(54720)),b=i(82485),T=i(199789),P=o.__importDefault(i(92477)),k=o.__importDefault(i(266311)),A=o.__importDefault(i(84830)),I=i(113002),w="AppRatingDialog",x={id:"star",firstFrame:64,frameCount:1},N=[p.IconSize.size32,p.IconSize.default,p.IconSize.size64,p.IconSize.default,p.IconSize.size32],D=(0,_.lazyProperties)({primaryButtonStyle:()=>s.Styles.createViewStyle({flexShrink:1,width:180,marginTop:a.Spacing.size120}),primaryButtonTextStyle:()=>s.Styles.createTextStyle({fontWeight:S.FontWeight.regular})}),M=({handleDismiss:e})=>{let t=!1;const i=(0,l.useCallback)((()=>(b.Instrumentation.track(new T.AppRatingDialogTelemetryEvent(T.AppRatingDialogAction.ClickClose)),e(),P.default.saveRateAppTime(),!0)),[e]);(0,l.useEffect)((()=>(v.default.subscribe(i),b.Instrumentation.track(new T.AppRatingDialogTelemetryEvent(T.AppRatingDialogAction.ShowDialog)),()=>{v.default.unsubscribe(i),P.default.resetAppRatingMetricsListAndUpdateDialogShownCount(t)})),[i,t]);const{themeColors:{iconPrimary:o,iconInteractive:c,textAccentFixed:_}}=(0,h.useSkypeTheme)(),{backgroundStyle:k,dialogContainer:w,actionButtonStyle:M,contentContainer:L,iconContainer:R,textPrimaryStyle:E,textSecondaryStyle:B}=(0,g.useSkypeStyles)((({themeColors:{surfacePrimary:e,surfaceOverlayFixed:t,textPrimary:i,textSecondary:o}})=>({backgroundStyle:{flex:1,justifyContent:"center",backgroundColor:t},dialogContainer:Object.assign({display:"flex",flexDirection:"column",backgroundColor:e},{width:400,margin:"auto",borderRadius:8}),actionButtonStyle:{marginRight:a.Spacing.size160,marginTop:a.Spacing.size160,height:24,alignItems:"flex-end"},contentContainer:Object.assign({alignItems:"center",marginHorizontal:a.Spacing.size160},{marginBottom:a.Spacing.size400}),iconContainer:{flexDirection:"row",alignItems:"flex-end",marginVertical:a.Spacing.size160},textPrimaryStyle:Object.assign({fontSize:m.default.controlFontSize.h5,lineHeight:32,fontWeight:S.FontWeight.semiBold,fontFamily:m.default.fontFamily.uidDisplaySemibold,textAlign:"center",marginHorizontal:a.Spacing.size160,color:i},{marginTop:a.Spacing.size40,marginBottom:a.Spacing.size80}),textSecondaryStyle:Object.assign({fontSize:m.default.fontSize.size15,lineHeight:20,textAlign:"center",marginTop:a.Spacing.size80,fontFamily:m.default.fontFamily.uidDisplayRegular,fontWeight:S.FontWeight.regular,color:o,marginBottom:a.Spacing.size280},{marginHorizontal:a.Spacing.size240})})),[]),O=N.map((e=>(0,n.jsx)(C.StaticEmoticon,{style:s.Styles.createViewStyle({width:e,height:e}),emoticonInfo:x,size:y.EmoticonSize.ExtraExtraLarge})));return(0,n.jsx)(r.View,{style:k,children:(0,n.jsxs)(r.View,{style:w,children:[(0,n.jsx)(r.View,{style:M,children:(0,n.jsx)(u.default,{accessibilityLabel:d.getString("AppRatingDialog.TouchableCloseAccessibility"),icon:p.SkypeIcon.ClosePanel,size:p.IconSize.size24,color:o,onPress:i})}),(0,n.jsxs)(r.View,{style:L,children:[(0,n.jsx)(r.View,{style:R,children:O}),(0,n.jsx)(r.Text,{style:E,children:d.getString("AppRatingDialog.DialogTitle")}),(0,n.jsx)(r.Text,{style:B,children:d.getString("AppRatingDialog.DialogBody")}),(0,n.jsx)(f.default,{style:D.primaryButtonStyle,textStyleOverride:[D.primaryButtonTextStyle],title:d.getString("AppRatingDialog.ComfirmButton"),onPress:()=>{t=!0,b.Instrumentation.track(new T.AppRatingDialogTelemetryEvent(T.AppRatingDialogAction.ClickYes)),e(),P.default.rateApp(!0)},buttonSize:S.SXButtonSize.Medium}),(0,n.jsx)(f.default,{style:D.primaryButtonStyle,buttonConfig:{borderColor:_,textColor:c},textStyleOverride:[D.primaryButtonTextStyle],buttonStyle:S.SXButtonStyle.ThemeStroke,title:d.getString("AppRatingDialog.CancelButton"),onPress:()=>{b.Instrumentation.track(new T.AppRatingDialogTelemetryEvent(T.AppRatingDialogAction.ClickNo)),e(),P.default.saveRateAppTime(),A.default.reportProblem(!0,S.MainRootViewId,void 0,void 0,I.NavigationSettingsOrigin.AppRatingDialog)},buttonSize:S.SXButtonSize.Medium})]})]})})};class L extends c.ComponentBase{constructor(){super(...arguments),this.handelDismiss=()=>(k.default.dismissModal(w,S.MainRootViewId),!0)}static show(){k.default.showModal((0,n.jsx)(L,{}),w,{rootViewId:S.MainRootViewId})}render(){return(0,n.jsx)(M,{handleDismiss:this.handelDismiss})}}t.default=L},659312:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(397691)),r=o.__importDefault(i(206483)),a=o.__importDefault(i(958868)),s=o.__importStar(i(170881)),l=o.__importStar(i(704704)),c=o.__importDefault(i(201721));class d extends a.default{static showIfRequired(e){if(c.default.getUserPreferencesLocalNoSubscription().isArchiveConversationDialogRequired){s.dismissAll();const t=l.getString("HideConversation.DialogTitle"),i=l.getString("HideConversation.DialogBody");return r.default.showOKAlertWithPromise(t,i,e,!1,i).then((()=>{c.default.setUserPreferencesLocal({isArchiveConversationDialogRequired:!1})}))}return n.Resolved()}}t.default=d},898486:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(974634)),s=i(843952),l=o.__importDefault(i(266311)),c=o.__importDefault(i(958868)),d=i(815146),u=i(26703),p=o.__importStar(i(704704)),g=o.__importDefault(i(740794)),h=o.__importDefault(i(791384)),m=o.__importDefault(i(525864)),S=i(16549),_=o.__importDefault(i(20758)),f=i(262725),y=i(483877),C=(0,u.lazyProperties)({contentContainer:()=>r.Styles.createViewStyle({backgroundColor:S.Color.transparent,justifyContent:"center",alignItems:"center"}),innerContainer:()=>r.Styles.createViewStyle({justifyContent:"center",alignItems:"center"}),title:()=>r.Styles.createTextStyle({color:S.Color.white,textAlign:"center",alignSelf:"center",marginTop:10}),description:()=>r.Styles.createTextStyle({color:S.Color.white,alignSelf:"center",textAlign:"center",marginVertical:20,paddingHorizontal:10}),linkButton:()=>r.Styles.createButtonStyle({minHeight:40,paddingLeft:10}),linkText:()=>r.Styles.createTextStyle({font:_.default.font.uiDisplayBold,fontSize:_.default.controlFontSize.bodySmallDeprecated,color:S.Color.white})});class v extends c.default{constructor(){super(...arguments),this._closeAnimationEvent=new a.default,this._onOkButtonClick=()=>{l.default.dismissModal(this.props.dialogId,this._getRootViewId()),this.props.onOkButtonClick&&this.props.onOkButtonClick()},this._onCancelButtonClick=()=>{l.default.dismissModal(this.props.dialogId,this._getRootViewId()),this.props.onCancelButtonClick&&this.props.onCancelButtonClick()},this._onPrivacyStatementPressed=()=>{l.default.dismissModal(this.props.dialogId,this._getRootViewId()),this.props.privacyStatementUrl&&g.default.navigateToInAppBrowser({origin:d.BrowserOrigin.ConsentModal,url:this.props.privacyStatementUrl,openUrlOptions:{onInAppWebBrowserClose:this._onPrivacyStatementClose},openSecondaryBrowserIfNecessary:!0},this._getRootViewId())},this._onTermsPressed=()=>{l.default.dismissModal(this.props.dialogId,this._getRootViewId()),this.props.termsOfServiceUrl&&g.default.navigateToInAppBrowser({origin:d.BrowserOrigin.ConsentModal,url:this.props.termsOfServiceUrl,openUrlOptions:{onInAppWebBrowserClose:this._onTermsOfServiceClose},openSecondaryBrowserIfNecessary:!0},this._getRootViewId())},this._onPrivacyStatementClose=()=>{this.props.onPrivacyStatementClose&&this.props.onPrivacyStatementClose()},this._onTermsOfServiceClose=()=>{this.props.onTermsOfServiceClose&&this.props.onTermsOfServiceClose()}}componentWillUnmount(){super.componentWillUnmount(),this.props.onModalClosed&&this.props.onModalClosed()}render(){const e=[{text:this.props.cancelButtonLabel||p.getString("Global.CancelLabel"),onPress:this._onCancelButtonClick,isCancel:!0},{text:this.props.okButtonLabel||p.getString("Global.OkLabel"),onPress:this._onOkButtonClick,isSubmit:!0,autoFocus:!h.default.shouldAnnounceForAccessibility()||void 0}];let t,i;this.props.privacyStatementLabel&&this.props.privacyStatementUrl&&(t=(0,n.jsx)(y.WideButton,{buttonStyles:C.linkButton,hideDivider:!0,label:this.props.privacyStatementLabel,accessibilityLabel:this.props.privacyStatementLabel,labelStyle:C.linkText,onPressed:this._onPrivacyStatementPressed},"privacyStatementLink")),this.props.termsOfServiceLabel&&this.props.termsOfServiceUrl&&(i=(0,n.jsx)(y.WideButton,{buttonStyles:C.linkButton,hideDivider:!0,label:this.props.termsOfServiceLabel,accessibilityLabel:this.props.termsOfServiceLabel,labelStyle:C.linkText,onPressed:this._onTermsPressed},"termsLink"));const o=p.getString("ConsentModal.ConsentNeededAccessibilityLabel",{description:this.props.description||""});return(0,n.jsx)(m.default,{dialogId:this.props.dialogId,buttons:e,buttonAlignment:s.SimpleDialogButtonAlignment.HorizontalStack,closeAnimationEvent:this._closeAnimationEvent,accessibilityLabel:o,horizontalPadding:30,children:(0,n.jsxs)(r.View,{style:C.contentContainer,children:[(0,n.jsxs)(r.View,{style:C.innerContainer,importantForAccessibility:r.Types.ImportantForAccessibility.No,children:[this.props.iconView,(0,n.jsx)(r.Text,{autoFocus:!!h.default.isMobileScreenReaderEnabled()&&void 0,style:[_.default.fontStyle.messagingHeader,C.title],children:this.props.title}),(0,n.jsx)(f.BodyText,{size:f.BodyTextSize.SmallDeprecated,style:C.description,children:this.props.description})]}),t,i]})})}}t.default=v},384608:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenLoadingDialog=t.getFullScreenLoadingDialog=void 0;const o=i(197582),n=i(785893),r=o.__importDefault(i(266311)),a=o.__importDefault(i(692773)),s=(o.__importDefault(i(38670)),o.__importDefault(i(266872)));t.getFullScreenLoadingDialog="getFullScreenLoadingDialog";t.FullScreenLoadingDialog=class{static show(e,t,i){let o;o=(0,n.jsx)(a.default,{statusText:e.dialogText,showSpinner:e.showActivityIndicator,showLoginFallback:!1,loginCallback:()=>{},isPartnerFlow:!0,darkThemeEnabled:s.default.isDarkThemeNoSubscription()},"appFullScreenDialog"),r.default.showModal(o,e.dialogId,{rootViewId:t,useFocussedWindowFallback:i})}static dismiss(e,t){r.default.dismissModal(e,t)}static isDisplayed(e,t){return r.default.isModalDisplayed(e,t)}}},300087:(e,t,i)=>{const o=i(197582),n=i(785893),r=i(174958),a=o.__importStar(i(496486)),s=o.__importStar(i(516778)),l=o.__importDefault(i(974634)),c=i(537180),d=i(344175),u=o.__importDefault(i(150343)),p=i(192478),g=i(154235),h=o.__importStar(i(761393)),m=i(413686),S=i(815146),_=o.__importStar(i(85385)),f=i(26703),y=o.__importStar(i(704704)),C=o.__importDefault(i(564249)),v=o.__importDefault(i(740794)),b=o.__importStar(i(757838)),T=o.__importStar(i(697091)),P=o.__importDefault(i(960282)),k=o.__importDefault(i(139221)),A=o.__importDefault(i(954780)),I=o.__importDefault(i(827361)),w=o.__importDefault(i(48076)),x=o.__importDefault(i(497910)),N=o.__importDefault(i(760989)),D=(0,f.lazyProperties)({splitInnerContainer:()=>s.Styles.createViewStyle({flex:1,flexDirection:"row"}),masterContainer:()=>s.Styles.createViewStyle({width:h.DefaultSplitMasterWidth,borderRightWidth:1}),masterContainerNativeBase:()=>s.Styles.createViewStyle({width:h.DefaultSplitMasterWidth,borderRightWidth:1,flexGrow:1})}),M=c.StyleSheet.create({masterView:{flexShrink:1,flexGrow:0},leftCloseButton:{left:12,right:"auto"}});class L extends x.default{constructor(){super(...arguments),this._childProps={onAccessibilityTitleChange:e=>{this.isComponentMounted()&&this.state.title!==e&&this.setState({title:e})}},this._closeAnimationEvent=new l.default,this._willResetFocus=()=>{this._masterContextContainerRef&&this._masterContextContainerRef.setFocusLimited(!0)},this._didResetFocus=()=>{this._masterContextContainerRef&&this._masterContextContainerRef.setFocusLimited(!1)},this._onClickOutside=()=>{var e;this.state.activeDetailContext&&this.state.activeDetailContext.state.isFirstLogin||(null===(e=this.state.activeDetailContext)||void 0===e?void 0:e.state.blockOutsideContent)?this._onboardingFlowClickedOutsideTracked||(this._onboardingFlowClickedOutsideTracked=!0,_.track(new T.SetupWizardClickedOutside(m.DialogNavOrigin.Onboarding))):(_.log(S.LogTraceArea.Navigation,"GenericDesktopModal._onAnimateCloseModal"),this._closeAnimationEvent.fire(this._onCloseModal))},this._onCloseModal=()=>{const e=N.default.newCauseId();_.log(S.LogTraceArea.Navigation,"GenericDesktopModal._onCloseModal causeId: "+e),v.default.closeGenericDesktopModal(e,this._getRootViewId())},this._onResetFocus=()=>{this._modalRef&&this._modalRef.resetFocus()},this._onMasterContextContainerRef=e=>{this._masterContextContainerRef=e||void 0},this._onModalRef=e=>{this._modalRef=e||void 0},this._goBack=e=>{const t=1===this.state.modalNavStackSize,i=this.state.animationType===g.SXModalAnimationType.Bottom?this._onClickOutside:void 0;return _.log(S.LogTraceArea.Navigation,"GenericDesktopModal._goBack isAloneInNavStack: "+t+" closeModal: "+!!i+" causeId: "+e),!(!t||!i)&&(i(),!0)}}_buildState(e,t){let i,o;const n=!1,r=u.default.getS4LUiFeatures().enableNativeBaseModals;e.activeModalSplitContext?(i=a.last(e.activeModalSplitContext.getNavStack()),o=e.activeModalSplitContext.getMasterContext(n)):(i=void 0,o=void 0);const s=w.default.isTabletUI(),l=this._getRootViewId();return{isMobileScreenSize:P.default.isMobileScreenSize(l),animationType:s?g.SXModalAnimationType.Bottom:g.SXModalAnimationType.Default,modalNavStackSize:e.activeModalSplitContext?e.activeModalSplitContext.getNavStack().length:0,activeDetailContext:i,activeMasterContext:o,nativeModalWindow:n,enableNativeBaseModals:r}}componentDidMount(){super.componentDidMount();const e=b.modalNavigatorIdForRootViewId(this._getRootViewId()),t=N.default.newCauseId();_.log(S.LogTraceArea.Navigation,"GenericDesktopModal.componentDidMount navigatorId: "+r.pii.Omit(e)+" causeId: "+t),v.default.collapseSplitNavContext(e,this.state.isMobileScreenSize,t),this._masterContextContainerRef&&!this.state.nativeModalWindow&&this._masterContextContainerRef.setFocusLimited(!1)}UNSAFE_componentWillUpdate(e,t,i){if(super.UNSAFE_componentWillUpdate(e,t,i),t.isMobileScreenSize!==this.state.isMobileScreenSize){const e=b.modalNavigatorIdForRootViewId(this._getRootViewId()),i=N.default.newCauseId();_.log(S.LogTraceArea.Navigation,"GenericDesktopModal.UNSAFE_componentWillUpdate navigatorId: "+r.pii.Omit(e)+" causeId: "+i),v.default.collapseSplitNavContext(e,t.isMobileScreenSize,i)}}render(){var e;const t=this._renderMasterFromNavContext(this.state.activeMasterContext),i=!!(null==t?void 0:t.content),o=this._renderDetailFromNavContext(this.state.activeDetailContext,i,this._childProps),r=null==o?void 0:o.component,a=(null==o?void 0:o.title)||this.state.title||y.getString("Global.DialogAccessibilityLabel");let l=h.DefaultHeight,g=t?h.DefaultSplitViewWidth:h.DefaultWidth;this.state.activeDetailContext&&this.state.activeDetailContext.state&&(this.state.activeDetailContext.state.customizedWidth&&(g=this.state.activeDetailContext.state.customizedWidth),this.state.activeDetailContext.state.customizedHeight&&(l=this.state.activeDetailContext.state.customizedHeight));const m=this.state.activeDetailContext&&this.state.activeDetailContext.state.isFirstLogin;let S;if(S=(null==t?void 0:t.content)?this.state.enableNativeBaseModals?(0,n.jsxs)(d.Row,{flex:1,children:[(0,n.jsx)(c.ScrollView,{style:M.masterView,contentContainerStyle:{flexGrow:1},children:t.content}),(0,n.jsx)(d.Box,{flex:1,children:r})]}):(0,n.jsxs)(s.View,{style:D.splitInnerContainer,children:[t.content,r]}):r,S=(0,n.jsx)(p.BaseNavigationWrapper,{isPresentedInGenericDesktopModal:!0,isPresentedInDesktopSubview:!0,isPresentedInSplitView:i,goBack:this._goBack,children:null!=S?S:null}),(null==t?void 0:t.content)&&this.state.enableNativeBaseModals){const e=52,i=u.default.getS4LUiFeaturesNoSubscription().enableWindowRightClose&&!k.default.isWindowCloseOnRight()?M.leftCloseButton:void 0;return(0,n.jsx)(d.Modal,{defaultIsOpen:!0,onClose:this._onCloseModal,avoidKeyboard:m,height:"100%",children:(0,n.jsxs)(d.Modal.Content,{maxWidth:g,maxHeight:l,height:"100%",children:[(0,n.jsx)(d.Modal.CloseButton,{color:this._getContext().themeColors.headerTextColor,style:i,_focusVisible:{style:i},accessibilityLabel:y.getString("Global.CloseButtonTitle")}),(0,n.jsx)(d.Modal.Header,{height:e,_text:{fontWeight:"bold",color:this._getContext().themeColors.primaryTextColor,textAlign:"center"},backgroundColor:this._getContext().themeColors.primaryBackgroundColor,children:null==t?void 0:t.title}),(0,n.jsx)(d.Box,{flex:1,backgroundColor:this._getContext().themeColors.primaryBackgroundColor,children:S})]})})}return(0,n.jsx)(A.default,{ref:this._onModalRef,modalWidth:g,modalHeight:l,onClickOutside:this._onClickOutside,closeAnimationEvent:this._closeAnimationEvent,fullSize:this.state.isMobileScreenSize,modalTitle:a,animationType:this.state.animationType,showOverflow:this.props.showOverflow,skipEscHandling:m,willResetFocus:this._willResetFocus,didResetFocus:this._didResetFocus,showTitlebar:!(!(null==t?void 0:t.content)||!r),title:null==t?void 0:t.title,close:this._onClickOutside,newBordersModal:null===(e=this.state.activeDetailContext)||void 0===e?void 0:e.state.newBorders,children:(0,n.jsx)(s.View,{style:I.default.flexOne,children:S})})}_renderDetailFromNavContext(e,t,i){if(!e)return;const o=Object.assign(Object.assign({},i),{isAloneInNavStack:1===this.state.modalNavStackSize,closeModal:this.state.animationType===g.SXModalAnimationType.Bottom?this._onClickOutside:void 0,isPresentedInSplitView:this._getContext().isPresentedInSplitView});return C.default.renderComponent(e,o)}_renderMasterFromNavContext(e){if(!e)return;const t={closeModal:this.state.animationType===g.SXModalAnimationType.Bottom?this._onClickOutside:void 0,resetFocus:this._onResetFocus,detailContext:this.props.activeModalSplitContext?this.props.activeModalSplitContext.getNavStack():void 0,isPresentedInSplitView:this._getContext().isPresentedInSplitView},i=C.default.renderComponent(e,t);let o=i?i.component:void 0;if(o){const e=this.state.enableNativeBaseModals?D.masterContainerNativeBase:D.masterContainer;o=(0,n.jsx)(s.View,{ref:this._onMasterContextContainerRef,style:[e,this._themeStyles.dividerBorderColorStyle],limitFocusWithin:this.state.nativeModalWindow?void 0:s.Types.LimitFocusType.Limited,children:o})}return{content:o,title:null==i?void 0:i.title}}}t.Z=L},275897:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingDialog=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(266311)),s=i(154235),l=i(26703),c=o.__importDefault(i(252089)),d=o.__importDefault(i(799585)),u=o.__importDefault(i(660401)),p=i(16549),g=i(262725),h=(0,l.lazyProperties)({modalBackground:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center",backgroundColor:p.Color.blackOverlay50}),modal:()=>r.Styles.createViewStyle({backgroundColor:p.Color.white,maxWidth:300,maxHeight:300,borderRadius:8,alignSelf:"center",justifyContent:"center",alignItems:"center",paddingVertical:20}),modalText:()=>r.Styles.createTextStyle({color:p.Color.gray400,alignSelf:"stretch",justifyContent:"center",alignItems:"center",paddingVertical:20,marginHorizontal:20}),button:()=>r.Styles.createButtonStyle({alignSelf:"stretch",justifyContent:"center",alignItems:"center"})});t.LoadingDialog=class{static show(e,t,i){let o,l;e.showActivityIndicator&&(o=(0,n.jsx)(d.default,{size:s.SXActivityIndicatorSize.Medium,tintColor:c.default.getPrimaryColorNoSubscription()})),e.showCancelButton&&(l=(0,n.jsx)(u.default,{style:h.button,buttonSize:s.SXButtonSize.Medium,buttonStyle:s.SXButtonStyle.DarkFill,title:e.buttonText||"",onPress:e.onButtonPress}));const p=(0,n.jsx)(r.View,{style:h.modalBackground,children:(0,n.jsxs)(r.View,{style:h.modal,restrictFocusWithin:!0,accessibilityTraits:r.Types.AccessibilityTrait.Dialog,accessibilityLabel:e.dialogText,tabIndex:-1,autoFocus:!0,children:[o,(0,n.jsx)(g.BodyText,{style:h.modalText,autoFocus:!1,children:e.dialogText}),l]})});a.default.showModal(p,e.dialogId,{rootViewId:t,useFocussedWindowFallback:i})}static dismiss(e,t){a.default.dismissModal(e,t)}static isDisplayed(e,t){return a.default.isModalDisplayed(e,t)}}},564249:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(330076)),a=o.__importDefault(i(705004)),s=o.__importDefault(i(495054)),l=o.__importDefault(i(665451)),c=i(253593),d=o.__importDefault(i(203929)),u=o.__importDefault(i(427232)),p=o.__importDefault(i(720403)),g=o.__importDefault(i(732559)),h=o.__importDefault(i(616369)),m=o.__importDefault(i(355007)),S=i(962234),_=o.__importDefault(i(265369)),f=o.__importDefault(i(454050)),y=o.__importDefault(i(400929)),C=o.__importDefault(i(562531)),v=o.__importDefault(i(44035)),b=o.__importDefault(i(504798)),T=o.__importDefault(i(152336)),P=o.__importDefault(i(410984)),k=o.__importDefault(i(797973)),A=o.__importDefault(i(946742)),I=o.__importDefault(i(670971)),w=o.__importDefault(i(334634)),x=o.__importDefault(i(465522)),N=o.__importDefault(i(962220)),D=o.__importDefault(i(183552)),M=o.__importDefault(i(330617)),L=o.__importDefault(i(510248)),R=i(845817),E=o.__importDefault(i(481121)),B=o.__importDefault(i(129082)),O=o.__importStar(i(761393)),F=o.__importDefault(i(793852)),V=o.__importDefault(i(693663)),U=o.__importDefault(i(638261)),j=i(924906),H=i(739403),W=o.__importDefault(i(850073)),z=o.__importDefault(i(731411)),G=o.__importDefault(i(866772)),K=o.__importDefault(i(207682)),q=i(815146),Q=o.__importDefault(i(843336)),X=o.__importDefault(i(58244)),$=o.__importDefault(i(348495)),J=o.__importDefault(i(872766)),Y=o.__importDefault(i(82760)),Z=o.__importDefault(i(82760)),ee=o.__importDefault(i(148758)),te=o.__importDefault(i(213645)),ie=o.__importDefault(i(969004)),oe=o.__importStar(i(704704)),ne=o.__importDefault(i(152378)),re=o.__importDefault(i(353145)),ae=o.__importDefault(i(730946)),se=o.__importDefault(i(938730)),le=o.__importDefault(i(363091)),ce=o.__importStar(i(812822)),de=o.__importDefault(i(872737)),ue=o.__importDefault(i(842932)),pe=o.__importStar(i(548056)),ge=o.__importDefault(i(313065)),he=o.__importDefault(i(276654)),me=o.__importDefault(i(326402)),Se=o.__importDefault(i(32816)),_e=o.__importDefault(i(79727)),fe=o.__importDefault(i(855632)),ye=o.__importDefault(i(998346)),Ce=o.__importDefault(i(11280)),ve=o.__importDefault(i(515888)),be=o.__importDefault(i(55706)),Te=o.__importDefault(i(847811)),Pe=o.__importDefault(i(184457)),ke=o.__importDefault(i(853753)),Ae=o.__importDefault(i(42524)),Ie=o.__importDefault(i(354445)),we=o.__importDefault(i(650312)),xe=o.__importDefault(i(219667)),Ne=o.__importDefault(i(510404)),De=o.__importDefault(i(337235)),Me=o.__importDefault(i(588769)),Le=o.__importDefault(i(742142)),Re=o.__importDefault(i(955367)),Ee=o.__importDefault(i(397719)),Be=o.__importDefault(i(295174)),Oe=o.__importDefault(i(472140)),Fe=o.__importDefault(i(868794)),Ve=o.__importDefault(i(631362)),Ue=o.__importDefault(i(225636)),je=o.__importDefault(i(454864)),He=o.__importDefault(i(837348)),We=o.__importDefault(i(291619)),ze=o.__importDefault(i(617747)),Ge=o.__importDefault(i(383688)),Ke=o.__importDefault(i(614986)),qe=o.__importDefault(i(91963)),Qe=o.__importDefault(i(408443)),Xe=o.__importDefault(i(670238)),$e=o.__importDefault(i(476114)),Je=i(44557),Ye=i(611160),Ze=o.__importDefault(i(682500)),et=i(164295),tt=o.__importDefault(i(545867)),it=o.__importDefault(i(496039)),ot=o.__importDefault(i(851364)),nt=o.__importDefault(i(425087)),rt=o.__importStar(i(138742)),at=o.__importDefault(i(140296)),st=o.__importDefault(i(1716)),lt=o.__importDefault(i(939687)),ct=o.__importDefault(i(327263)),dt=o.__importDefault(i(361028)),ut=i(325812),pt=i(504880),gt=o.__importDefault(i(355384)),ht=o.__importDefault(i(917381)),mt=i(146356),St=i(217274),_t=i(799790),ft=i(803193),yt=i(413983),Ct=o.__importDefault(i(956243)),vt=o.__importDefault(i(9411)),bt=i(146356),Tt=o.__importDefault(i(637972)),Pt=i(340320);t.default=class{static renderComponent(e,t){let i,o;if(e instanceof ce.PSTNDialerNavigationContext)i=(0,n.jsx)(W.default,{route:{params:Object.assign({callId:e.state.callId,conversationId:e.state.conversationId,prefilledNumber:e.state.prefilledNumber,navigationSource:e.state.navigationSource,reopenOnInvalidNumber:e.state.navigationSource===q.DialerNavigationSource.CallFailedInvalidNumber},t)}}),o=W.default.getHeaderText();else if(e instanceof ce.QuickCallNavigationContext)i=(0,n.jsx)(ve.default,Object.assign({conversationId:e.state.conversationId,callId:e.state.callId,newGroup:e.state.newGroup,searchOnly:e.state.searchOnly,navSource:e.state.navSource},t));else if(e instanceof ce.GetBalanceStateNavigationContext)i=(0,n.jsx)(f.default,Object.assign({showHeader:e.state.showHeader,source:e.state.source,scrollTo:e.state.scrollTo},t)),o=f.default.getHeaderText();else if(e instanceof ce.PurchaseConfirmationDialogWrapperNavigationContext)i=(0,n.jsx)(ot.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=ot.default.getHeaderText(e.state.isNative);else if(e instanceof ce.PurchaseContinuationNavigationContext)i=(0,n.jsx)(ye.default,{route:{params:Object.assign({offerType:e.state.offerType,campaignRef:e.state.campaignRef},t)}}),o=ye.default.getHeaderText(e.state.offerType);else if(e instanceof ce.SubscriptionIntroNavigationContext)i=(0,n.jsx)(Oe.default,{route:{params:Object.assign({},t)}}),o=Oe.default.getHeaderText();else if(e instanceof ce.CallerIdPromptContext)i=(0,n.jsx)(P.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=P.default.getHeaderText();else if(e instanceof ce.CantSendSmsWarningNavigationContext)i=(0,n.jsx)(Ye.CantSendSmsWarning,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=Ye.CantSendSmsWarning.getHeaderText();else if(e instanceof ce.CallFailurePromptContext)i=(0,n.jsx)(k.default,{route:{params:Object.assign({dialogId:"pstnDialog",phoneNumber:e.state.phoneNumber,reason:e.state.reason},t)}}),o=k.default.getHeaderText();else if(e instanceof ce.SmsFailurePromptContext)i=(0,n.jsx)(Be.default,{route:{params:Object.assign({dialogId:e.state.dialogId,phoneNumber:e.state.phoneNumber,isSmsInfo:e.state.isSmsInfo},t)}}),o=Be.default.getHeaderText(e.state.isSmsInfo);else if(e instanceof ce.TasterPostCallPanelContext)i=(0,n.jsx)(Ge.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=Ge.default.getHeaderText();else if(e instanceof ce.CallFailurePostPurchasePromptContext)i=(0,n.jsx)(Ye.CallFailurePostPurchasePromptPanel,{route:{params:Object.assign({dialogId:e.state.dialogId,phoneNumber:e.state.phoneNumber},t)}}),o=Ye.CallFailurePostPurchasePromptPanel.getHeaderText();else if(e instanceof ce.SkypeNumberPostPurchasePromptNavigationContext)i=(0,n.jsx)(Ye.SkypeNumberPostPurchasePromptPanel,{route:{params:Object.assign({dialogId:e.state.dialogId},t)}}),o=Ye.SkypeNumberPostPurchasePromptPanel.getHeaderText();else if(e instanceof ce.DesktopSettingsGroupNavigationContext)i=(0,n.jsx)(V.default,Object.assign({group:e.state.group},t),e.state.group),e.state.group!==ce.SettingsGroup.AccountAndProfile&&(o=V.default.getHeaderText(e.state.group,!!t.isPresentedInSplitView));else if(e instanceof ce.ManageUsersSettingsPanelNavigationContext)i=(0,n.jsx)(re.default,{route:{params:Object.assign({},t)}}),o=re.default.getHeaderText();else if(e instanceof ce.MySettingsNavigationContext)i=(0,n.jsx)(F.default,Object.assign({},t));else if(e instanceof ce.QRCodeSignInNavigationContext)i=(0,n.jsx)(Ce.default,Object.assign({},t)),o=Ce.default.getHeaderText();else if(e instanceof ce.DesktopCloseAccountNavigationContext)i=(0,n.jsx)(tt.default,Object.assign({},t)),o=tt.default.getHeaderText();else if(e instanceof ce.CreateConversationNavigationContext)i=(0,n.jsx)(Xe.default,{route:{params:Object.assign(Object.assign(Object.assign({},t),e.state),{navigator:e.navigator})}}),o=Xe.default.getHeaderText(e.navigator.context.navigationOrigin===q.NavigationConversationOrigin.NewModeratedGroup);else if(e instanceof ce.ReportConcernNavigationContext)i=(0,n.jsx)(Te.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=Te.default.getHeaderText();else if(e instanceof ce.ConversationParticipantsNavigationContext)i=(0,n.jsx)(we.default,{route:{params:Object.assign(Object.assign(Object.assign({},t),e.state),{navigator:e.navigator})}},`setconvparticipants${e.state.isSuperComposer}`);else if(e instanceof ce.DetailsNavigationContext)i=(0,n.jsx)(j.DetailsPanel,{route:{params:Object.assign({mri:e.state.mri,conversationId:e.state.conversationId,showConversationSettings:e.state.showConversationSettings,origin:e.state.origin||H.DetailsPanelOrigin.Unknown,openMagicBotToolboxByDefault:e.state.openMagicBotToolboxByDefault,channelId:e.state.channelId},t)}},"details");else if(e instanceof ce.ChatConfigNavigationContext)i=(0,n.jsx)(A.default,{route:{params:Object.assign(Object.assign({},t),e.state)}},"chatSettings"),o=A.default.getHeaderText();else if(e instanceof ce.BotsListNavigationContext)i=(0,n.jsx)(g.default,Object.assign({filterFunction:e.state.filterBotsFunction,showHeader:!0,sortByProperty:e.state.sortBotsByProperty,title:e.state.botMarketplaceTitle},t));else if(e instanceof ce.BotDiscoveryNavigationContext)i=(0,n.jsx)(p.default,{route:{params:Object.assign({},t)}}),o=p.default.getHeaderText();else if(e instanceof ce.ShareContactsToConversationContext)i=(0,n.jsx)(xe.default,{route:{params:Object.assign(Object.assign({},t),e.state)}},"shareContactsToConversation"),o=e.state.panelTitle;else if(e instanceof ce.ShareWithPanelNavigationContext)i=(0,n.jsx)(Ne.default,Object.assign({multipleMessagesParameters:e.state.multipleMessagesParameters,onShareComplete:e.state.onShareComplete,onPostComplete:e.state.onPostComplete,shareMessageTitle:e.state.shareMessageTitle,accessibilityLabelTitle:e.state.accessibilityLabelTitle,onShareCancel:e.state.onShareCancel,onExternalShare:e.state.onExternalShare,userMrisToExclude:e.state.userMrisToExclude,enableMediaPreview:e.state.enableMediaPreview,sharePreviewType:e.state.sharePreviewType,showForwardPreview:e.state.showForwardPreview,entryPoint:e.state.entryPoint,isMagicBotShare:e.state.isMagicBotShare,channelId:e.state.channelId,channelShortId:e.state.channelShortId,isChannelShare:e.state.isChannelShare},t),"shareWithPanel");else if(e instanceof ce.CaptivePortalQuestionnaireContext)i=(0,n.jsx)(N.default,{route:{params:Object.assign({},t)}},"captivePortalQuestionnaire"),o=N.default.getHeaderText();else if(e instanceof ce.PesSearchNavigationContext)e.state.searchType===pe.TabType.Emoticon?i=(0,n.jsx)(G.default,{searchType:e.state.searchType,conversationId:e.state.conversationId,onMessageSent:e.state.onMessageSent,onCloseSearch:e.state.onCloseSearch,clearEditInChatsComposer:e.state.clearEditInChatsComposer}):e.state.searchType===pe.TabType.ChatSticker&&(i=(0,n.jsx)(Ue.default,{searchType:e.state.searchType,conversationId:e.state.conversationId}));else if(e instanceof ce.UserProfileContext)i=(0,n.jsx)(Qe.default,{route:{params:Object.assign({origin:e.state.origin,closeButtonIcon:e.state.closeButtonIcon,scenarioNavigator:e.state.scenarioNavigator},t)}});else if(e instanceof ce.ThemeContext)i=(0,n.jsx)(ze.default,{route:{params:Object.assign({origin:e.state.origin,hideSkipButton:e.state.hideSkipButton,hideCloseButton:e.state.hideCloseButton,isFirstLogin:e.state.isFirstLogin,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.state.scenarioNavigator},t)}}),o=ze.default.getHeaderText();else if(e instanceof ce.InviteLinkQRPanelNavigationContext)i=(0,n.jsx)(X.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=oe.getString("InviteShare.ShowQRCodeButtonLabel");else if(e instanceof ce.AVSettingsContext){const r=e.state.settingsMode||S.SettingsMode.All;i=(0,n.jsx)(m.default,Object.assign({origin:e.state.origin,hideSkipButton:!!e.state.hideSkipButton,isFirstLogin:!!e.state.isFirstLogin,hideCloseButton:!!e.state.hideCloseButton,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.navigator,settingsMode:r},t),r),o=m.default.getHeaderText(r)}else e instanceof ce.ChooseAvatarContext?i=(0,n.jsx)(h.default,{route:{params:Object.assign({origin:e.state.origin,hideSkipButton:e.state.hideSkipButton,isFirstLogin:e.state.isFirstLogin,hideCloseButton:e.state.hideCloseButton,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.state.scenarioNavigator,showCaptureViewFirst:e.state.showCaptureViewFirst,enableNewOnboardingDialog:e.state.enableNewOnboardingDialog},t)}}):e instanceof ce.WelcomePageContext?i=(0,n.jsx)(vt.default,{route:{params:Object.assign({origin:e.state.origin,hideSkipButton:e.state.hideSkipButton,isFirstLogin:e.state.isFirstLogin,hideCloseButton:e.state.hideCloseButton,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.state.scenarioNavigator,showCaptureViewFirst:e.state.showCaptureViewFirst},t)}}):e instanceof ce.PhoneAuthProfileSetupNavigationContext?i=(0,n.jsx)(pt.PhoneAuthProfileSetupPage,{route:{params:Object.assign({origin:e.state.origin,isFirstTimeSignIn:e.state.isFirstTimeSignIn,scenarioNavigator:e.state.scenarioNavigator},t)}}):e instanceof ce.ContactsPanelV2NavigationContext?(i=(0,n.jsx)(M.default,Object.assign({initialTab:e.state.currentTab},t)),o=M.default.getHeaderText()):e instanceof ce.AddContactPanelNavigationContext?(i=(0,n.jsx)(s.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}),o=s.default.getHeaderText()):e instanceof ce.DesktopMsaPhoneAccrualNavigationContext?i=(0,n.jsx)(se.default,Object.assign({phoneNumber:e.state.phoneNumber,email:e.state.email,isEmailAccrual:e.state.isEmailAccrual},t)):e instanceof ce.SearchNavigationContext?i=(0,n.jsx)(ke.default,{route:{params:Object.assign({searchPanelInitiator:e.state.searchOrigin,isPresentedInModal:!0,modalTitle:e.state.modalTitle},t)}}):e instanceof ce.SendCreditSearchPeopleContext?i=(0,n.jsx)(ut.SendCreditSearchPeople,{route:{params:Object.assign({},t)}}):e instanceof ce.CallingSettingsEntryNavigationContext?i=(0,n.jsx)(R.DesktopCallingSettingsWebPanel,Object.assign({},t,{link:e.state.link,source:e.state.source,title:e.state.title,goTarget:e.state.goTarget,enableWebViewBackNavigation:e.state.enableWebViewBackNavigation,titleAccessibilityRegion:e.state.titleAccessibilityRegion})):e instanceof ce.SkypeNumberWebFlowNavigationContext?i=(0,n.jsx)(it.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}):e instanceof ce.Payments3dsNavigationContext?(i=(0,n.jsx)(ue.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=ue.default.getHeaderText()):e instanceof ce.SkypeNumberListNavigationContext?(i=(0,n.jsx)(Me.default,{route:{params:Object.assign({},t)}}),o=Me.default.getHeaderText()):e instanceof ce.SkypeNumberInfoScreenNavigationContext?(i=(0,n.jsx)(Le.default,{route:{params:Object.assign({origin:e.state.origin},t)}}),o=oe.getString("SkypeNumberPanel.Title")):e instanceof ce.SkypeNumberFormsNavigationContext?(i=(0,n.jsx)(at.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=Ee.default.getHeaderText()):e instanceof ce.SkypeNumberPanelPurchaseFlowNavigationContext?(i=(0,n.jsx)(Ee.default,{route:{params:Object.assign({},t)}}),o=Ee.default.getHeaderText()):e instanceof ce.CallingSettingsPanelNavigationContext?(i=(0,n.jsx)(x.default,{route:{params:Object.assign({},t)}}),o=x.default.getHeaderText()):e instanceof ce.TelephonyWarningNavigationContext?(i=(0,n.jsx)(Ye.TelephonyWarningNavigation,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=e.state.titleLabel):e instanceof ce.BackgroundEffectsSettingsNavigationContext?(i=(0,n.jsx)(_.default,Object.assign({},t)),o=x.default.getHeaderText()):e instanceof ce.KycPhoneVerifyFormPanelNavigationContext?(i=(0,n.jsx)(Ye.KycPhoneVerifyFormPanel,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=Ye.KycPhoneVerifyFormPanel.getHeaderText()):e instanceof ce.KycFinishVerificationPanelNavigationContext?(i=(0,n.jsx)(Ye.KycFinishVerificationPanel,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=oe.getString("KycVerify.FinishFormHeader")):e instanceof ce.CallerIdCallingSettingsPanelNavigationContext?(i=(0,n.jsx)(w.default,{route:{params:Object.assign({},t)}}),o=w.default.getHeaderText()):e instanceof ce.CallerIdNumberCallingSettingsPanelNavigationContext?(i=(0,n.jsx)(I.default,{route:{params:Object.assign({},t)}}),o=I.default.getHeaderText()):e instanceof ce.AdvancedCallingSettingsPanelNavigationContext?(i=(0,n.jsx)(u.default,{route:{params:Object.assign({},t)}}),o=u.default.getHeaderText()):e instanceof ce.SubtitlesCallingSettingsPanelNavigationContext?(i=(0,n.jsx)(je.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=je.default.getHeaderText()):e instanceof ce.TranslationSettingsPanelNavigationContext?(i=(0,n.jsx)(qe.default,{route:{params:Object.assign({},t)}}),o=qe.default.getHeaderText()):e instanceof ce.PreSignOutPanelNavigationContext?i=(0,n.jsx)(pt.PreSignOutPanel,{route:{params:Object.assign(Object.assign({},e.state),t)}}):e instanceof ce.CallRosterNavigationContext?(i=(0,n.jsx)(C.default,{route:{params:Object.assign({conversationId:e.state.conversationId,callId:e.state.callId},t)}},"CallRosterPanel"),o=C.default.getHeaderText()):e instanceof ce.BingBackgroundNavigationContext?(i=(0,n.jsx)(y.default,{route:{params:Object.assign({callId:e.state.callId},t)}},"BingBackgroundsPanel"),o=C.default.getHeaderText()):e instanceof ce.AddToCallNavigationContext?i=(0,n.jsx)(ve.default,Object.assign({conversationId:e.state.conversationId,callId:e.state.callId,searchOnly:e.state.searchOnly,addToCallTelemetryOrigin:e.state.origin,newGroup:e.state.newGroup},t),"quickCallPanel"):e instanceof ce.DiagnosticToolsNavigationContext?(i=(0,n.jsx)($.default,{route:{params:{}}}),o=$.default.getHeaderText()):e instanceof ce.SendDiagnosticLogsNavigationContext?(i=(0,n.jsx)(Ie.default,{route:{params:Object.assign({},t)}}),o=Ie.default.getHeaderText()):e instanceof ce.BlockedUsersListNavigationContext?(i=(0,n.jsx)(b.default,{route:{params:Object.assign({},t)}}),o=b.default.getHeaderText()):e instanceof ce.ConnectedUsersListNavigationContext?(i=(0,n.jsx)(D.default,{route:{params:Object.assign({},t)}}),o=D.default.getHeaderText()):e instanceof ce.ProfilePicturePanelNavigationContext?(i=(0,n.jsx)(_e.default,{route:{params:Object.assign({},t)}}),o=_e.default.getHeaderText()):e instanceof ce.SyncAddressBookContext?i=(0,n.jsx)(He.default,Object.assign({origin:e.state.origin,hideSkipButton:e.state.hideSkipButton,hideCloseButton:e.state.hideCloseButton,isFirstLogin:e.state.isFirstLogin,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.state.scenarioNavigator,compositeNavContainerWidth:O.DefaultWidth},t)):e instanceof Pt.SyncContactsContext?i=(0,n.jsx)(Pt.SyncContactsDialog,{route:{params:Object.assign({onContactsPermissionGranted:e.state.onContactsPermissionGranted},t)}}):e instanceof ce.PeopleYouMayKnowNoticeContext?(i=(0,n.jsx)(de.default,{route:{params:Object.assign({origin:e.state.origin,hideSkipButton:e.state.hideSkipButton,hideCloseButton:e.state.hideCloseButton,isFirstLogin:e.state.isFirstLogin,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.state.scenarioNavigator,compositeNavContainerWidth:O.DefaultWidth},t)}}),o=de.default.getHeaderText()):e instanceof ce.TelemetryConsentContext?(i=(0,n.jsx)(We.default,{route:{params:Object.assign({origin:e.state.origin,hideSkipButton:e.state.hideSkipButton,hideCloseButton:e.state.hideCloseButton,isFirstLogin:e.state.isFirstLogin,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.state.scenarioNavigator,compositeNavContainerWidth:O.DefaultWidth},t)}}),o=We.default.getHeaderText()):e instanceof ce.PnvEnterNumberContext?i=(0,n.jsx)(he.default,Object.assign({initialPhoneNumber:e.state.phoneNumber,compositeNavContainerWidth:O.DefaultWidth},t)):e instanceof ce.PnvEnterCodeContext?i=(0,n.jsx)(ge.default,Object.assign({compositeNavContainerWidth:O.DefaultWidth},t)):e instanceof ce.FeatureFlagListNavigationContext?i=(0,n.jsx)(J.default,{route:{params:{}}}):e instanceof ce.SlimcoreFlagListNavigationContext?i=(0,n.jsx)(Fe.default,{route:{params:Object.assign({},t)}}):e instanceof ce.RawPreferencesNavigationContext?i=(0,n.jsx)(be.default,{route:{params:{}}}):e instanceof ce.LanguagePickerPanelNavigationContext?(i=(0,n.jsx)(Y.default,{route:{params:Object.assign({},t)}}),o=Y.default.getHeaderText()):e instanceof ce.LanguagePickerPanelOldNavigationContext?(i=(0,n.jsx)(Z.default,{route:{params:Object.assign({},t)}}),o=Z.default.getHeaderText()):e instanceof ce.SpokenLanguagePickerPanelNavigationContext?(i=(0,n.jsx)(ee.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}),o=ee.default.getHeaderText()):e instanceof ce.VoicePickerPanelNavigationContext?(i=(0,n.jsx)(te.default,{route:{params:Object.assign({},t)}}),o=te.default.getHeaderText()):e instanceof ce.ManageSearchInfoPanelNavigationContext?i=(0,n.jsx)(ne.default,{route:{params:Object.assign(Object.assign({},t),{origin:e.state.origin})}}):e instanceof ce.LoadingPanelNavigationContext?i=(0,n.jsx)(ie.default,{message:e.state.message}):e instanceof ce.PSTNCountrySelectorNavigationContext?(i=(0,n.jsx)(L.default,{route:{params:Object.assign({onCountrySelected:e.state.onCountrySelected,countriesFiltered:e.state.countriesFiltered,hideRecentCountries:e.state.hideRecentCountries,searchAutoFocus:e.state.searchAutoFocus},t)}}),o=L.default.getHeaderText()):e instanceof ce.SkypeNumberCountryAreaSelectorNavigationContext?(i=(0,n.jsx)(De.default,{route:{params:Object.assign({onCountryAreaSelected:e.state.onCountryAreaSelected},t)}}),o=De.default.getHeaderText()):e instanceof ce.SkypeNumberPrefixSelectorNavigationContext?(i=(0,n.jsx)(Re.default,{route:{params:Object.assign({onPrefixSelected:e.state.onPrefixSelected},t)}}),o=Re.default.getHeaderText()):e instanceof ce.SkypeNumberFormOptionSelectorNavigationContext?(i=(0,n.jsx)(st.default,{route:{params:Object.assign({selectionOptions:e.state.selectionOptions,countryId:e.state.countryId,inputName:e.state.inputName,filledKey:e.state.filledKey},t)}}),o=Re.default.getHeaderText()):e instanceof ce.ThirdPartyNoticesNavigationContext?(i=(0,n.jsx)(Ke.default,{route:{params:Object.assign({},t)}}),o=Ke.default.getHeaderText()):e instanceof ce.PromptPermissionContext?i=(0,n.jsx)(Se.default,{route:{params:Object.assign({origin:e.state.origin,showUIPrompts:!0,scenarioNavigator:e.state.scenarioNavigator,hideCloseButton:e.state.hideCloseButton},t)}}):e instanceof ce.SettingsMenuContext?(i=(0,n.jsx)(U.default,Object.assign({title:e.state.title},t)),o=U.default.getHeaderText()):e instanceof ce.ActiveNowPanelNavigationContext?(i=(0,n.jsx)(a.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}),o=a.default.getHeaderText()):e instanceof ce.InviteShareNavigationContext?(i=(0,n.jsx)(fe.default,{route:{params:Object.assign({skypeMri:e.state.skypeMri,displayName:e.state.displayName,origin:e.state.origin},t)}}),o=fe.default.getHeaderText()):e instanceof ce.ConversationShareNavigationContext?(i=(0,n.jsx)(et.ConversationInviteSharePanel,{route:{params:Object.assign({skypeMri:e.state.skypeMri,displayName:e.state.displayName,origin:e.state.origin},t)}}),o=et.ConversationInviteSharePanel.getHeaderText()):e instanceof ce.GuestUpsellNavigationContext?(i=(0,n.jsx)(Q.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=Q.default.getHeaderText()):e instanceof ce.AddPhoneNumberPanelNavigationContext?(i=(0,n.jsx)(d.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}),o=d.default.getHeaderText(e.state.origin)):e instanceof ce.EngagementSharePanelContext?i=(0,n.jsx)(K.default,{route:{params:Object.assign({onShareComplete:e.state.onShareComplete,onPostComplete:e.state.onPostComplete,onShareCancel:e.state.onShareCancel,shareableContentConfigs:e.state.shareableContentConfigs,accessibilityLabelTitle:e.state.accessibilityLabelTitle,userMrisToExclude:e.state.userMrisToExclude},t)}},"engagementSharePanel"):e instanceof ce.MeControlNavigationContext?i=(0,n.jsx)(B.default,Object.assign({userMri:le.default.getSkypeMri(),isMoodMessageEditMode:e.state.isMoodMessageEditMode},t),"DesktopMeControlPanel"):e instanceof ce.AlertsHubNavigationContext?i=(0,n.jsx)(ht.default,Object.assign({useExperimentalDesktopUtilityBar:!0},t)):e instanceof Pe.default.NavigationContext.ScheduleCallNavigationContext?(o=Pe.default.StackNavigator.getHeaderText(),i=Pe.default.StackNavigator.renderSceneContent(e,t)):e instanceof ae.default.NavigationContext.MeetNowNavigationContext?(o=ae.default.StackNavigator.getHeaderText(),i=ae.default.StackNavigator.renderSceneContent(e)):e instanceof me.default.NavigationContext.PollCreationPanelNavigationContext||e instanceof me.default.NavigationContext.PollSummaryPanelNavigationContext||e instanceof me.default.NavigationContext.PollVotersListPanelNavigationContext?(i=me.default.StackNavigator.renderSceneContent(e,t),o=me.default.StackNavigator.getHeaderText()):e instanceof c.OneDriveAddinPanelNavigationContext?(o=e.state.integration.name,i=l.default.AddinStackNavigator.renderSceneContent(e,t)):e instanceof ce.LocationPickerContext?(o=E.default.getHeaderText(),i=(0,n.jsx)(E.default,Object.assign({conversationId:e.state.conversationId,displayInModal:!0},t))):e instanceof ce.InAppBrowserNavigationContext?i=(0,n.jsx)(T.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}):e instanceof ce.CallingDebugPanelNavigationContext?i=(0,n.jsx)(v.default,{route:{params:{callId:e.state.callId||"",nativeWindow:e.state.nativeWindow||!1}}}):e instanceof ce.CustomReactionsPanelNavigationContext?i=(0,n.jsx)(Ze.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}):e instanceof ce.GifPreviewContext?i=(0,n.jsx)(lt.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}):e instanceof ce.SpeechConsentNavigationContext?i=(0,n.jsx)(Ve.default,{route:{params:Object.assign({},t)}}):e instanceof ce.TranslationConsentNavigationContext?i=(0,n.jsx)(ct.default,{route:{params:Object.assign({},t)}}):e instanceof ce.TruVoiceConsentNavigationContext?i=(0,n.jsx)(dt.default,{route:{params:Object.assign({},t)}}):e instanceof ce.SendCreditPanelNavigationContext?(i=(0,n.jsx)(Ae.default,{route:{params:Object.assign({},t)}}),o=Ae.default.getHeaderText()):e instanceof ce.E911AcknowledgementPanelNavigationContext?(i=(0,n.jsx)(z.default,{route:{params:Object.assign({shouldSkipLocationConsent:e.state.shouldSkipLocationConsent,onComplete:e.state.onComplete},t)}}),o=z.default.getHeaderText()):e instanceof ce.TwincamModalContext?(i=(0,n.jsx)(r.default,{route:{params:Object.assign({callId:e.state.callId,conversationMri:e.state.conversationMri,onStopTwincamPressed:e.state.onStopTwincamPressed,isTwincamConnected:e.state.isTwincamConnected},t)}}),o=r.default.getHeaderText()):e instanceof ce.CallPreviewNavigationContext?i=(0,n.jsx)($e.default,{meetNowParameters:{origin:Je.MeetNowOrigin.JoinLobby,convId:e.state.conversationMri},callPreviewProps:{callOrigin:e.state.callOrigin,permissionsAlreadyChecked:e.state.permissionsAlreadyChecked}}):e instanceof rt.MobileMeetingAvatarPickerNavigationContext?i=(0,n.jsx)(nt.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}):e instanceof ce.AvatarPickerPanelNavigationContext?(i=(0,n.jsx)(gt.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),o=oe.getString("AvatarPickerPanel.PanelTitle")):e instanceof ce.TodayTabInterestsPanelNavigationContext?(i=(0,n.jsx)(St.TodayTabInterestsPanel,{route:{params:Object.assign({},t)}}),o=St.TodayTabInterestsPanel.getHeaderText()):e instanceof yt.MagicBotToolboxNavigationContext?(i=(0,n.jsx)(mt.MagicBotToolboxNavigation,{route:{params:Object.assign(Object.assign({},t),e.state)}}),o=oe.getString("MagicBot.ToolboxTitle")):e instanceof yt.ImageGenerationNavigationContext?(i=(0,n.jsx)(bt.ImageGenerationNavigation,{route:{params:Object.assign(Object.assign({},t),e.state)}}),o=oe.getString("ImageGeneration.PanelTitle")):e instanceof ce.NewPhoneVerificationFlowNavigationContext?i=(0,n.jsx)(Ct.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}):e instanceof ce.LinkMsaToPhoneNumberAccountNavigationContext?i=(0,n.jsx)(Tt.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}):e instanceof ce.MediaGalleryNavigationContext?(i=(0,n.jsx)(et.MediaGalleryPanel,{}),o=oe.getString("MyProfilePanel.MediaGalleryTitle")):e instanceof Pt.FreeSubNavigationContext?i=(0,n.jsx)(Pt.FreeSubscriptionDialog,{route:{params:Object.assign(Object.assign({},t),e.state)}}):e instanceof ft.FRENavigationContext?i=(0,n.jsx)(_t.ContentChannelsFREModal,{route:{params:Object.assign({},e.state)}}):e instanceof Pt.CongratsDialogNavigationContext?i=(0,n.jsx)(Pt.CongratsDialog,{route:{params:Object.assign({},e.state)}}):e instanceof ft.MSNMarketPickerNavigationContext&&(i=(0,n.jsx)(_t.MSNMarketPickerScreen,{route:{params:Object.assign({},e.state)}}));return i?{component:i,title:o}:void 0}}},663011:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(192478)),s=o.__importDefault(i(633958)),l=i(154235),c=i(815146),d=o.__importStar(i(85385)),u=i(26703),p=o.__importDefault(i(672481)),g=o.__importDefault(i(328416)),h=o.__importDefault(i(963897)),m=o.__importDefault(i(879119)),S=o.__importDefault(i(799585)),_=i(16549),f=o.__importDefault(i(20758)),y=i(641400),C=i(262725),v=o.__importDefault(i(760989)),b=(0,u.lazyProperties)({spinner:()=>r.Styles.createViewStyle({position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:_.Color.transparent,justifyContent:"center",alignItems:"center",alignSelf:"stretch"}),textInput:()=>r.Styles.createTextInputStyle({padding:6,borderRadius:10,font:f.default.font.uiDisplayRegular,fontSize:f.default.controlFontSize.body,backgroundColor:_.Color.gray100,color:_.Color.black,marginLeft:50,marginRight:50,height:32,textAlignVertical:"top"}),statusLabel:()=>r.Styles.createTextStyle({color:_.Color.white,paddingHorizontal:20,marginTop:50}),errorText:()=>r.Styles.createTextStyle({color:_.Color.white,paddingHorizontal:20,marginTop:10,alignItems:"center",textAlign:"center"})});class T extends a.default{constructor(){super(...arguments),this._goBack=e=>(d.log(c.LogTraceArea.Navigation,"PnvDebugDialog._goBack,  causeId: "+e),this.props.scenarioNavigator?(this.props.scenarioNavigator.goBack(),!0):super._goBack(e)),this._onCloseButtonClicked=()=>{const e=v.default.newCauseId();d.log(c.LogTraceArea.Navigation,"PnvDebugDialog._onCloseButtonClicked,  causeId: "+e),this._goBack(e)},this._onSkipButtonClicked=()=>{const e=v.default.newCauseId();d.log(c.LogTraceArea.Navigation,"PnvDebugDialog._onSkipButtonClicked,  causeId: "+e),this.props.scenarioNavigator?this.props.scenarioNavigator.goNext():this.props.onNextButtonPressed?this.props.onNextButtonPressed():this._goBack(e)},this._onChangeText=e=>{this.setState({phoneNumber:e})},this._onPressNextButton=e=>{e.stopPropagation();const t=v.default.newCauseId();if(d.log(c.LogTraceArea.Navigation,"PnvDebugDialog._onPressNextButton,  causeId: "+t),this.state.removalExecuted)this._goBack(t);else{this.setState({removalInProgress:!0});const e=g.default.getCountryByCode(this.state.countryIsoCode.toLowerCase()),t=e?e.countryCode:1;h.default.removePhoneFromProfile(this.state.phoneNumber,this.state.countryIsoCode,t.toString()).then((e=>{this.isComponentMounted()&&this.setState({errorCode:e})})).finally((()=>{this.isComponentMounted()&&this.setState({removalInProgress:!1,removalExecuted:!0})}))}}}componentDidMount(){super.componentDidMount(),m.default.initializeCountrySelection()}_buildState(e,t){const i={},o=h.default.getLastPhoneVerificationStatus();if(i.phoneNumber=o.PhoneNumber,i.countryIsoCode=o.CountryIsoCode,i.countryCallingCode=o.CountryCallingCode,i.errorCode=o.ErrorCode,!this.state||!this.state.countryIsoCode){const e=m.default.getSelectedCountry();e&&(i.countryIsoCode=e.country)}return i}render(){const e=this.state.removalInProgress?(0,n.jsx)(r.Button,{style:b.spinner,children:(0,n.jsx)(S.default,{size:l.SXActivityIndicatorSize.Medium,tintColor:_.Color.white})}):void 0,t=this.state.removalExecuted?void 0:(0,n.jsx)(r.TextInput,{style:b.textInput,value:this.state.phoneNumber,multiline:!1,blurOnSubmit:!0,keyboardType:"numeric",onChangeText:this._onChangeText,clearButtonMode:"never"}),i=(0,n.jsx)(C.Header,{size:l.HeaderSize.h5,style:b.statusLabel,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,children:"Last Error Code:"}),o=(0,n.jsx)(C.BodyText,{bold:!0,style:b.errorText,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,children:this.state.errorCode?this.state.errorCode:"Success"});return(0,n.jsx)(s.default,{goBack:this._goBack,children:(0,n.jsxs)(p.default,{headerText:"PNV Debug Tool",descriptionElement:"Remove your registered number from your profile",hideSkipButton:this.props.hideSkipButton,nextButtonIcon:this.props.nextButtonIcon||y.SkypeIcon.Ok,hideCloseButton:this.props.hideCloseButton,closeButtonIcon:this.props.closeButtonIcon,onSkipButtonClicked:this._onSkipButtonClicked,onNextButtonClicked:this._onPressNextButton,onCloseButtonClicked:this._onCloseButtonClicked,scenarioNavigator:this.props.scenarioNavigator,children:[t,e,i,o]})})}_componentId(){return"PnvDebugDialog"}}t.default=T},313065:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(331654)),a=o.__importStar(i(516778)),s=o.__importDefault(i(441498)),l=o.__importDefault(i(808467)),c=o.__importDefault(i(633958)),d=i(154235),u=i(815146),p=o.__importStar(i(85385)),g=o.__importDefault(i(54945)),h=i(26703),m=o.__importStar(i(704704)),S=o.__importDefault(i(740794)),_=o.__importDefault(i(672481)),f=o.__importStar(i(963897)),y=o.__importStar(i(596277)),C=o.__importDefault(i(791384)),v=o.__importDefault(i(759664)),b=i(16549),T=o.__importDefault(i(139221)),P=o.__importDefault(i(20758)),k=i(641400),A=o.__importStar(i(179582)),I=i(262725),w=o.__importDefault(i(601274)),x=o.__importDefault(i(760989)),N=o.__importDefault(i(337249)),D=1e3,M="•",L=(0,h.lazyProperties)({codeContainer:()=>a.Styles.createViewStyle({flexDirection:"row",justifyContent:"center"}),codeInput:()=>a.Styles.createTextInputStyle({padding:6,font:P.default.font.uiDisplayRegular,fontSize:P.default.fontSize.size32,backgroundColor:b.Color.transparent,color:b.Color.white,width:48,height:48,textAlignVertical:"top"}),resendContainer:()=>a.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",marginTop:40}),resendButton:()=>a.Styles.createButtonStyle({marginLeft:20,borderRadius:30,backgroundColor:b.Color.black}),callmeButton:()=>a.Styles.createButtonStyle({marginLeft:20,marginTop:20,borderRadius:30,backgroundColor:b.Color.black}),resendButtonText:()=>a.Styles.createTextStyle({color:b.Color.white,padding:5,alignSelf:"center",textAlign:"center"}),timerText:()=>a.Styles.createTextStyle({color:b.Color.white,font:P.default.font.uiDisplayBold,fontSize:P.default.fontSize.size18,alignSelf:"center",marginRight:20}),animationContainer:()=>a.Styles.createViewStyle({height:300,alignSelf:"stretch",alignItems:"center",justifyContent:"center",overflow:"visible"}),errorDescriptionText:()=>a.Styles.createTextStyle({color:b.Color.pink}),descriptionText:()=>a.Styles.createTextStyle({marginBottom:10,color:b.Color.white,paddingHorizontal:20,alignItems:"center",textAlign:"center"})});class R extends l.default{constructor(){super(...arguments),this._automaticallyFocusKeyboardOnce=!1,this._stopWatchTimer=0,this._isSMSReaderRegistered=!1,this._onVerifyingTextContentViewRef=e=>{this._verifyingTextContentView=e||void 0},this._onVerifiedTextContentViewRef=e=>{this._verifiedTextContentView=e||void 0},this._goBack=e=>(p.log(u.LogTraceArea.Navigation,"PnvEnterCodeDialog._goBack, causeId: "+e),!!this.state.verifying||(this.state.verified?this._closeDialog():(this._navigateToPnvEnterNumber(),!0))),this._onOnboardingDialogWizardRef=e=>{if(e){this._onboardingDialogWizard=e;const t=!!this.state&&this.state.verified;this._onboardingDialogWizard.disableNextButton(!t)}},this._onTextInputRefCode1=e=>{this._textInputCode1=e||void 0},this._onTextInputRefCode2=e=>{this._textInputCode2=e||void 0},this._onTextInputRefCode3=e=>{this._textInputCode3=e||void 0},this._onTextInputRefCode4=e=>{this._textInputCode4=e||void 0},this._onCloseButtonClicked=()=>{this._sendScenarioEvent(y.PnvScenarioStep.CodeBack),this._navigateToPnvEnterNumber()},this._onSkipButtonClicked=()=>{this._sendScenarioEvent(y.PnvScenarioStep.CodeSkip),this._goNext()},this._onKeyDown=e=>!(e.keyCode!==g.default.ENTER||!this.state.verified)&&(this._goNext(),!0),this._onChangeTextCode1=e=>{this._textInputCode2&&e.match(/^\d+$/)&&this._textInputCode2.requestFocus(),this._checkToken(e,this.state.code2,this.state.code3,this.state.code4),this.setState({code1:e})},this._onChangeTextCode2=e=>{this._textInputCode3&&e.match(/^\d+$/)&&this._textInputCode3.requestFocus(),this._checkToken(this.state.code1,e,this.state.code3,this.state.code4),this.setState({code2:e})},this._onChangeTextCode3=e=>{this._textInputCode4&&e.match(/^\d+$/)&&this._textInputCode4.requestFocus(),this._checkToken(this.state.code1,this.state.code2,e,this.state.code4),this.setState({code3:e})},this._onChangeTextCode4=e=>{this._checkToken(this.state.code1,this.state.code2,this.state.code3,e),this.setState({code4:e})},this._onKeyPress2=e=>{this._textInputCode1&&e.keyCode===g.default.DELETE&&!this.state.code2&&this._textInputCode1.requestFocus()},this._onKeyPress3=e=>{this._textInputCode2&&e.keyCode===g.default.DELETE&&!this.state.code3&&this._textInputCode2.requestFocus()},this._onKeyPress4=e=>{this._textInputCode3&&e.keyCode===g.default.DELETE&&!this.state.code4&&this._textInputCode3.requestFocus()},this._onSubmitEditing=()=>{this._submitCode(this._getToken())},this._onPressNextButton=e=>{e.stopPropagation(),this._submitCode(this._getToken())},this._onPressResendButton=e=>{e.stopPropagation(),this._resendCode(f.VerificationMethod.SMS),this._sendScenarioEvent(y.PnvScenarioStep.CodeResend)},this._onPressCallmeButton=e=>{e.stopPropagation(),this._resendCode(f.VerificationMethod.Voice),this._sendScenarioEvent(y.PnvScenarioStep.CodeCall)}}_buildState(e,t){const i={},o=f.default.getLastPhoneVerificationStatus();return i.phoneNumber=o.PhoneNumber,i.countryIsoCode=o.CountryIsoCode,i.countryCallingCode=o.CountryCallingCode,i.errorCode=o.ErrorCode,i.verified=o.Verified,t&&o.ThrottleDuration&&o.ThrottleDuration>0&&(i.resendButtonDisabled=!0),o.ErrorCode&&(i.code1="",i.code2="",i.code3="",i.code4="",this._automaticallyFocusKeyboardOnce=!1),i}componentDidMount(){super.componentDidMount(),this.state.resendButtonDisabled&&this._scheduleEnableResendButton(),a.Input.keyDownEvent.subscribe(this._onKeyDown)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),C.default.isMobileScreenReaderEnabled()&&(this._verifyingTextContentView&&this.state.verifying&&!t.verifying&&(this._verifyingTextContentView.requestFocus(),T.default.getPlatformType()===u.PlatformType.Android&&a.Accessibility.announceForAccessibility(m.getString("PhoneNumberVerification.EnterCodeVerifyingText"))),this._verifiedTextContentView&&this.state.verified&&!t.verified&&this._verifiedTextContentView.requestFocus())}_componentDidRender(){if(super._componentDidRender(),!this._getToken()&&this._textInputCode1&&!this._automaticallyFocusKeyboardOnce)if(this._automaticallyFocusKeyboardOnce=!0,C.default.shouldAnnounceForAccessibility()){const e=500;this._textInputCode1.setAccessibilityFocus(),w.default.setTimeout((()=>{this._textInputCode1&&this._textInputCode1.requestFocus()}),e)}else this._textInputCode1.requestFocus()}componentWillUnmount(){super.componentWillUnmount(),this._clearStopWatchTimer(),a.Input.keyDownEvent.unsubscribe(this._onKeyDown),this._isSMSReaderRegistered&&r.default.unregisterSMSReader("pnvsmsreader")}_getCodeInputComponent(){const e=(0,n.jsx)(a.TextInput,{style:this._isValidCode(this.state.code1)?L.codeInput:[L.codeInput,L.errorDescriptionText],value:this.state.code1,multiline:!1,blurOnSubmit:!0,placeholder:M,placeholderTextColor:b.Color.white,keyboardType:"numeric",accessibilityLabel:m.getString("AccessibilityLabel.EnterCode"),maxLength:1,ref:this._onTextInputRefCode1,onChangeText:this._onChangeTextCode1,onSubmitEditing:this._isPossibleToken(this._getToken())?this._onSubmitEditing:void 0,clearButtonMode:"never"}),t=(0,n.jsx)(a.TextInput,{style:this._isValidCode(this.state.code2)?L.codeInput:[L.codeInput,L.errorDescriptionText],value:this.state.code2,multiline:!1,blurOnSubmit:!0,placeholder:M,placeholderTextColor:b.Color.white,keyboardType:"numeric",accessibilityLabel:m.getString("AccessibilityLabel.EnterCode"),maxLength:1,ref:this._onTextInputRefCode2,onKeyPress:this._onKeyPress2,onChangeText:this._onChangeTextCode2,onSubmitEditing:this._isPossibleToken(this._getToken())?this._onSubmitEditing:void 0,clearButtonMode:"never"}),i=(0,n.jsx)(a.TextInput,{style:this._isValidCode(this.state.code3)?L.codeInput:[L.codeInput,L.errorDescriptionText],value:this.state.code3,multiline:!1,placeholder:M,placeholderTextColor:b.Color.white,keyboardType:"numeric",accessibilityLabel:m.getString("AccessibilityLabel.EnterCode"),maxLength:1,ref:this._onTextInputRefCode3,onKeyPress:this._onKeyPress3,onChangeText:this._onChangeTextCode3,onSubmitEditing:this._isPossibleToken(this._getToken())?this._onSubmitEditing:void 0,clearButtonMode:"never"}),o=(0,n.jsx)(a.TextInput,{style:this._isValidCode(this.state.code4)?L.codeInput:[L.codeInput,L.errorDescriptionText],value:this.state.code4,multiline:!1,placeholder:M,placeholderTextColor:b.Color.white,keyboardType:"numeric",accessibilityLabel:m.getString("AccessibilityLabel.EnterCode"),maxLength:1,ref:this._onTextInputRefCode4,onKeyPress:this._onKeyPress4,onChangeText:this._onChangeTextCode4,onSubmitEditing:this._isPossibleToken(this._getToken())?this._onSubmitEditing:void 0,clearButtonMode:"never"});return(0,n.jsxs)(a.View,{style:L.codeContainer,children:[e,t,i,o]})}_getHeaderText(e){return e.verified||e.verifying?void 0:m.getString("PhoneNumberVerification.EnterCodeHeaderText")}render(){const e=this.props.compositeNavContainerWidth||N.default.measureWindow(this._getRootViewId()).width,t=this.state.verified||this.state.verifying?(0,n.jsx)(a.View,{style:L.animationContainer,children:(0,n.jsx)(s.default,{animation:this.state.verified?v.default.ONBOARDING_SYNC_ADDRESSBOOK:v.default.SPLASH_LOADER,loop:!0,shortSide:e})}):void 0,i=this.state.verified||this.state.verifying?void 0:this._getCodeInputComponent(),o=this._getHeaderText(this.state);let r,l;this.state.verified||this.state.verifying?r=void 0:this.state.errorCode?(r=m.getString("PhoneNumberVerification.EnterCodeErrorText"),l=L.errorDescriptionText):r=m.getString("PhoneNumberVerification.EnterCodeDescriptionText",{phonenumber:this.state.phoneNumber});const u=this.state.verified?(0,n.jsx)(I.Header,{size:d.HeaderSize.h4,style:L.descriptionText,importantForAccessibility:a.Types.ImportantForAccessibility.Yes,ref:this._onVerifiedTextContentViewRef,children:m.getString("PhoneNumberVerification.NumberVerifiedText")}):void 0,p=this.state.verifying?(0,n.jsx)(I.Header,{size:d.HeaderSize.h4,style:L.descriptionText,importantForAccessibility:a.Types.ImportantForAccessibility.Yes,ref:this._onVerifyingTextContentViewRef,children:m.getString("PhoneNumberVerification.EnterCodeVerifyingText")}):void 0,g=this.state.verifying?(0,n.jsx)(I.BodyText,{style:L.descriptionText,children:m.getString("PhoneNumberVerification.EnterCodeTakeMinuteText")}):void 0,h=this.state.verified||this.state.verifying?void 0:this._getResendComponent(),S=this.state.verifying||this.state.verified,f=this.state.verifying||this.state.verified;return(0,n.jsx)(c.default,{goBack:this._goBack,children:(0,n.jsxs)(_.default,{headerText:o,descriptionElement:r,descriptionElementStyle:l,hideSkipButton:S,nextButtonIcon:this.props.nextButtonIcon||k.SkypeIcon.Ok,hideCloseButton:f,closeButtonIcon:A.backIcon(),hideNextButton:this.state.verifying,onSkipButtonClicked:this._onSkipButtonClicked,onNextButtonClicked:this._onPressNextButton,onCloseButtonClicked:this._onCloseButtonClicked,ref:this._onOnboardingDialogWizardRef,scenarioNavigator:this.props.scenarioNavigator,disablePresentationAnimation:!0,isContentScrollable:!1,children:[i,t,u,p,g,h]})})}_getResendComponent(){const e=(0,n.jsx)(a.Button,{style:L.resendButton,onPress:this._onPressResendButton,disabled:this.state.resendButtonDisabled,children:(0,n.jsx)(a.Text,{style:[P.default.fontStyle.secondaryButton,L.resendButtonText],children:m.getString("PhoneNumberVerification.ResendCodeText")})}),t=(0,n.jsx)(a.Button,{style:L.callmeButton,onPress:this._onPressCallmeButton,disabled:this.state.resendButtonDisabled,children:(0,n.jsx)(a.Text,{style:[P.default.fontStyle.secondaryButton,L.resendButtonText],children:m.getString("PhoneNumberVerification.CallMeText")})});return(0,n.jsxs)(a.View,{style:L.resendContainer,children:[(0,n.jsxs)(a.View,{children:[e,t]}),(0,n.jsx)(a.Text,{style:L.timerText,numberOfLines:1,children:this.state.timerText})]})}_componentId(){return"PnvEnterCodeDialog"}_navigateToPnvEnterNumber(){this._closeDialog(),S.default.navigateToPnvEnterNumber(void 0,this._getRootViewId())}_closeDialog(){const e=x.default.newCauseId();return p.log(u.LogTraceArea.Navigation,"PnvEnterCodeDialog._closeDialog, causeId: "+e),this.props.scenarioNavigator?(this.props.scenarioNavigator.goBack(),!0):super._goBack(e)}_goNext(){this.props.scenarioNavigator?this.props.scenarioNavigator.goNext():this.props.onNextButtonPressed?this.props.onNextButtonPressed():this._closeDialog()}_isValidCode(e){return!e||e===M||e.match(/^\d+$/)}_checkToken(e,t,i,o){let n=!1;if(e&&t&&i&&o){const r=e+t+i+o;this._isPossibleToken(r)&&(n=!0)}this._onboardingDialogWizard.disableNextButton(!n)}_getToken(){let e="";return this.state.code1&&this.state.code2&&this.state.code3&&this.state.code4&&(e=this.state.code1+this.state.code2+this.state.code3+this.state.code4),e}_isPossibleToken(e){return!!e&&(4===e.length&&e.match(/^\d+$/))}_submitCode(e,t=!1){this._sendScenarioEvent(y.PnvScenarioStep.CodeNext),this.state.verified?this._goNext():f.default.isVerifyingToken(this.state.phoneNumber,this.state.countryIsoCode,this.state.countryCallingCode)||(this.setState({verifying:!0}),f.default.verifyPhoneWithToken(this.state.phoneNumber,this.state.countryIsoCode,this.state.countryCallingCode,e).then((e=>{t&&e.Verified&&w.default.setTimeout((()=>{this.isComponentMounted()&&this._goNext()}),5e3)})).finally((()=>{this.isComponentMounted()&&this.setState({verifying:!1})})))}_scheduleEnableResendButton(){if(this.isComponentMounted()){let e=f.default.getTokenRequestThrottleDurationInMS(),t=this._convertMStoMinutesSeconds(e);this.setState({timerText:t}),this._clearStopWatchTimer(),this._stopWatchTimer=w.default.setInterval((()=>{let i=!0;e-=D,e>0?t=this._convertMStoMinutesSeconds(e):(this._clearStopWatchTimer(),t="",i=!1),this.isComponentMounted()&&this.setState({timerText:t,resendButtonDisabled:i})}),D)}}_clearStopWatchTimer(){this._stopWatchTimer&&(w.default.clearInterval(this._stopWatchTimer),this._stopWatchTimer=0)}_resendCode(e){this.setState({resendButtonDisabled:!0}),f.default.provisionPhoneForVerification(this.state.phoneNumber,this.state.countryIsoCode,this.state.countryCallingCode,e,m.getLocale()).then((e=>{this.isComponentMounted()&&this._textInputCode1&&this._textInputCode1.requestFocus()})).finally((()=>{this._scheduleEnableResendButton()}))}_convertMStoMinutesSeconds(e){const t=Math.floor(e/6e4),i=Math.floor((e-6e4*t)/D),o=i<10?":0":":";return t.toString()+o+i.toString()}_sendScenarioEvent(e){this.state.verified||this.state.verifying||y.default.get().markStep(e)}}t.default=R},276654:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(441498)),s=o.__importDefault(i(192478)),l=o.__importDefault(i(633958)),c=o.__importDefault(i(266311)),d=i(154235),u=o.__importDefault(i(839401)),p=o.__importStar(i(170881)),g=i(815146),h=o.__importDefault(i(560099)),m=o.__importDefault(i(970035)),S=o.__importStar(i(85385)),_=i(26703),f=o.__importStar(i(704704)),y=o.__importDefault(i(740794)),C=o.__importDefault(i(942724)),v=o.__importDefault(i(672481)),b=o.__importDefault(i(328416)),T=o.__importStar(i(963897)),P=o.__importStar(i(808164)),k=o.__importStar(i(596277)),A=o.__importDefault(i(879119)),I=o.__importDefault(i(791384)),w=o.__importDefault(i(759664)),x=i(16549),N=o.__importDefault(i(139221)),D=o.__importDefault(i(20758)),M=i(641400),L=o.__importStar(i(179582)),R=o.__importDefault(i(577267)),E=i(262725),B=o.__importDefault(i(601274)),O=o.__importDefault(i(760989)),F=o.__importDefault(i(337249)),V="pnvCountrySelectorPopup",U=(0,_.lazyProperties)({phoneNumberContainer:()=>r.Styles.createViewStyle({flexDirection:"row",justifyContent:"center"}),underline:()=>r.Styles.createViewStyle({borderBottomWidth:1,borderStyle:"solid",borderColor:x.Color.white,marginTop:2}),callingCodeView:()=>r.Styles.createViewStyle({marginLeft:50,marginRight:10}),callingCodeText:()=>r.Styles.createTextInputStyle({padding:6,font:D.default.font.uiDisplayRegular,fontSize:D.default.controlFontSize.body,backgroundColor:x.Color.transparent,width:50,height:32,textAlignVertical:"top"}),phoneNumberView:()=>r.Styles.createViewStyle({marginRight:50}),textInput:()=>r.Styles.createTextInputStyle({padding:6,font:D.default.font.uiDisplayRegular,fontSize:D.default.controlFontSize.body,backgroundColor:x.Color.transparent,color:x.Color.white,marginLeft:10,width:200,height:32,textAlignVertical:"top"}),animationContainer:()=>r.Styles.createViewStyle({height:300,alignSelf:"stretch",alignItems:"center",justifyContent:"center",overflow:"visible"}),descriptionText:()=>r.Styles.createTextStyle({marginBottom:10,color:x.Color.white,paddingHorizontal:20,alignItems:"center",textAlign:"center"}),errorDescriptionText:()=>r.Styles.createTextStyle({color:x.Color.pink}),callMeButton:()=>r.Styles.createButtonStyle({alignSelf:"center",justifyContent:"center",padding:20,marginTop:60,borderRadius:30,backgroundColor:x.Color.black}),callMeButtonText:()=>r.Styles.createTextStyle({color:x.Color.white,alignSelf:"center",textAlign:"center",fontSize:D.default.fontSize.size20}),iconStyle:()=>r.Styles.createViewStyle({marginTop:6,paddingLeft:3}),countryList:()=>r.Styles.createViewStyle({flexDirection:"row",marginTop:50,marginLeft:50,marginRight:50}),countryTextContainer:()=>r.Styles.createTextStyle({flexDirection:"row"}),countrySelectorPopupContainer:()=>r.Styles.createViewStyle({height:350,width:300}),countryText:()=>r.Styles.createTextStyle({color:x.Color.white,font:D.default.font.uiDisplayBold,fontSize:D.default.fontSize.size18,textAlign:"center",marginRight:5})});class j extends s.default{constructor(e){super(e),this._automaticallyFocusKeyboardOnce=!1,this._onVerifyingTextContentViewRef=e=>{this._verifyingTextContentView=e||void 0},this._onCountryListRef=e=>{this._countryListRef=e||void 0},this._onCountrySelectorPress=e=>{e.stopPropagation(),this._automaticallyFocusKeyboardOnce=!1,C.default.isUsingStackNavigationContext()?(p.dismissAll(),y.default.navigateToCountrySelector(this._getRootViewId())):this._openCountrySelectorModal()},this._openCountrySelectorModal=()=>{const e=e=>{const t=this.state.countries[e];A.default.setSelectedCountry(t),c.default.dismissPopup(V,this._getRootViewId()),this._numberTextInput&&this._numberTextInput.requestFocus()},t={getAnchor:()=>this._countryListRef,renderPopup:(t,i,o,a)=>(0,n.jsx)(R.default,{anchorPosition:t,anchorOffset:i,popupWidth:o,popupHeight:a,fillColor:this._themeColors.popoverBackgroundColor,strokeColor:this._useDarkTheme()?this._themeColors.popupBorderColor:void 0,skipPopupAutoFocus:!0,children:(0,n.jsx)(r.View,{style:U.countrySelectorPopupContainer,children:(0,n.jsx)(u.default,{countries:this.state.countries,onSelect:e})})}),positionPriorities:["top","bottom"],dismissIfShown:!0,rootViewId:this._getRootViewId()};c.default.showPopup(t,V)},this._goBack=e=>(S.log(g.LogTraceArea.Navigation,"PnvEnterNumberDialog._goBack, causeId: "+e),!!this.state.provisioning||(this.props.scenarioNavigator?(this.props.scenarioNavigator.goBack(),!0):super._goBack(e))),this._onPressCallMeButton=e=>{e.stopPropagation(),k.default.get().markStep(k.PnvScenarioStep.NumberCall),this._submitPhoneNumber(T.VerificationMethod.Voice)},this._onNumberTextInputRef=e=>{this._numberTextInput=e||void 0},this._onCloseButtonClicked=()=>{k.default.get().markStep(k.PnvScenarioStep.NumberBack),this._closeDialog()},this._onOnboardingDialogWizardRef=e=>{e&&(this._onboardingDialogWizard=e,this._disableNextButton())},this._onChangeText=e=>{this.setState({phoneNumber:e})},this._onSubmitEditing=()=>{this._submitPhoneNumber()},this._onPressNextButton=e=>{e.stopPropagation(),this._submitPhoneNumber()},T.default.initialize()}_buildState(e,t){const i={},o=T.default.getLastPhoneVerificationStatus();return!t&&this.state.phoneNumber||(i.phoneNumber=o.PhoneNumber),t&&e.initialPhoneNumber&&(i.phoneNumber=e.initialPhoneNumber),i.countries=b.default.getCountries(),i.selectedCountry=A.default.getSelectedCountry(),i.errorCode=o.ErrorCode,i}componentDidMount(){super.componentDidMount(),A.default.initializeCountrySelection()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._verifyingTextContentView&&this.state.provisioning&&!t.provisioning&&I.default.isMobileScreenReaderEnabled()&&(this._verifyingTextContentView.requestFocus(),N.default.getPlatformType()===g.PlatformType.Android&&r.Accessibility.announceForAccessibility(f.getString("PhoneNumberVerification.EnterNumberVerifyingText"))),this._disableNextButton()}_componentDidRender(){if(super._componentDidRender(),this.state.phoneNumber,this._numberTextInput&&!this._automaticallyFocusKeyboardOnce)if(this._automaticallyFocusKeyboardOnce=!0,I.default.shouldAnnounceForAccessibility()){const e=500;this._numberTextInput.setAccessibilityFocus(),B.default.setTimeout((()=>{this._numberTextInput&&this._numberTextInput.requestFocus()}),e)}else this._numberTextInput.requestFocus()}_getCountryListComponent(){let e=f.getString("PSTNDialerPanel.UnknownCountry");return this.state.selectedCountry&&(e=this.state.selectedCountry.countryName),(0,n.jsx)(r.Button,{style:U.countryList,onPress:this._onCountrySelectorPress,accessibilityLabel:f.getString("PSTNDialerPanel.CountriesAndRegionsAccessibilityLabel",{countryTitle:e}),children:(0,n.jsxs)(h.default,{ref:this._onCountryListRef,style:U.countryTextContainer,children:[(0,n.jsx)(r.Text,{style:U.countryText,numberOfLines:1,children:e}),(0,n.jsx)(m.default,{icon:M.SkypeIcon.DownChevron,size:M.IconSize.size12,color:x.Color.white,style:U.iconStyle})]})})}_getPhoneNumberInputComponent(){const e=this.state.selectedCountry?"+"+this.state.selectedCountry.countryCode:"+00",t=(0,n.jsx)(r.TextInput,{style:U.callingCodeText,multiline:!1,blurOnSubmit:!0,placeholder:e,placeholderTextColor:x.Color.gray300,editable:!1,importantForAccessibility:r.Types.ImportantForAccessibility.No,clearButtonMode:"never"}),i=(0,n.jsx)(r.View,{style:U.underline}),o=(0,n.jsx)(r.TextInput,{style:U.textInput,value:this.state.phoneNumber,multiline:!1,blurOnSubmit:!0,placeholder:f.getString("PhoneNumberVerification.EnterNumberPlaceHolderText"),placeholderTextColor:x.Color.white,keyboardType:"numeric",accessibilityLabel:f.getString("AccessibilityLabel.EnterPhoneNumber"),ref:this._onNumberTextInputRef,onChangeText:this._onChangeText,onSubmitEditing:this._isCurrentPhoneNumberValid()?this._onSubmitEditing:void 0,clearButtonMode:"never"});return(0,n.jsxs)(r.View,{style:U.phoneNumberContainer,children:[(0,n.jsxs)(r.View,{style:U.callingCodeView,children:[t,i]}),(0,n.jsxs)(r.View,{style:U.phoneNumberView,children:[o,i]})]})}_renderProgress(){const e=this.props.compositeNavContainerWidth||F.default.measureWindow(this._getRootViewId()).width,t=(0,n.jsx)(r.View,{style:U.animationContainer,children:(0,n.jsx)(a.default,{animation:w.default.SPLASH_LOADER,loop:!0,shortSide:e})}),i=(0,n.jsx)(E.Header,{size:d.HeaderSize.h4,style:U.descriptionText,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,ref:this._onVerifyingTextContentViewRef,children:f.getString("PhoneNumberVerification.EnterNumberVerifyingText")}),o=(0,n.jsx)(E.BodyText,{style:U.descriptionText,children:f.getString("PhoneNumberVerification.EnterCodeTakeMinuteText")});return(0,n.jsxs)(v.default,{hideSkipButton:!0,nextButtonIcon:this.props.nextButtonIcon||M.SkypeIcon.Ok,hideCloseButton:!0,closeButtonIcon:L.backIcon(),hideNextButton:!0,onNextButtonClicked:this._onPressNextButton,onCloseButtonClicked:this._onCloseButtonClicked,ref:this._onOnboardingDialogWizardRef,scenarioNavigator:this.props.scenarioNavigator,disablePresentationAnimation:!0,children:[t,i,o]})}render(){if(this.state.provisioning)return(0,n.jsx)(l.default,{goBack:this._goBack,children:this._renderProgress()});const e=this.state.errorCode?f.getString("PhoneNumberVerification.EnterNumberErrorText"):f.getString("PhoneNumberVerification.EnterNumberDescriptionText"),t=this.state.errorCode?U.errorDescriptionText:void 0,i=this._showCallMeButton()?(0,n.jsx)(r.Button,{style:U.callMeButton,onPress:this._onPressCallMeButton,disabled:!this._isCurrentPhoneNumberValid(),children:(0,n.jsx)(r.Text,{style:[D.default.fontStyle.primaryButtonLarge,U.callMeButtonText],children:f.getString("PhoneNumberVerification.CallMeText")})}):void 0;return(0,n.jsx)(l.default,{goBack:this._goBack,children:(0,n.jsxs)(v.default,{headerText:f.getString("PhoneNumberVerification.EnterNumberHeaderText"),descriptionElement:e,descriptionElementStyle:t,hideSkipButton:!0,nextButtonIcon:this.props.nextButtonIcon||M.SkypeIcon.Ok,hideCloseButton:this.props.hideCloseButton,closeButtonIcon:this.props.closeButtonIcon,onNextButtonClicked:this._onPressNextButton,onCloseButtonClicked:this._onCloseButtonClicked,ref:this._onOnboardingDialogWizardRef,scenarioNavigator:this.props.scenarioNavigator,disablePresentationAnimation:!0,isContentScrollable:!1,children:[this._getPhoneNumberInputComponent(),this._getCountryListComponent(),i]})})}_componentId(){return"PnvEnterNumberDialog"}_showCallMeButton(){return"SendTokenError:UnsupportedVerifyMethod"===this.state.errorCode}_closeDialog(){const e=O.default.newCauseId();return S.log(g.LogTraceArea.Navigation,"PnvEnterNumberDialog._closeDialog, causeId: "+e),this.props.scenarioNavigator?(this.props.scenarioNavigator.goBack(),!0):super._goBack(e)}_isPossiblePhoneNumber(e,t){let i=!1;return e&&t&&(i=P.default.isPossibleNumber(e,t)),i}_isCurrentPhoneNumberValid(){let e=!1;if(this.state&&this.state.selectedCountry&&this.state.phoneNumber&&(e=this._isPossiblePhoneNumber(this.state.phoneNumber,this.state.selectedCountry.country),e)){const t=P.default.parse(this.state.phoneNumber,this.state.selectedCountry.country);e=P.default.isValidNumber(t)}return e}_disableNextButton(){this._onboardingDialogWizard&&this._onboardingDialogWizard.disableNextButton(!this._isCurrentPhoneNumberValid())}_submitPhoneNumber(e=T.VerificationMethod.SMS){if(k.default.get().markStep(k.PnvScenarioStep.NumberNext),T.default.isWaitingForToken(this.state.phoneNumber,this.state.selectedCountry.country,this.state.selectedCountry.countryCode.toString()))this._navigateToPnvEnterCode();else if(!T.default.isProvisioningPhone(this.state.phoneNumber,this.state.selectedCountry.country,this.state.selectedCountry.countryCode.toString())){this.setState({provisioning:!0});const t=P.default.parse(this.state.phoneNumber,this.state.selectedCountry.country),i=t?P.default.format(t,P.PhoneNumberFormat.NATIONAL):"";T.default.provisionPhoneForVerification(i,this.state.selectedCountry.country,this.state.selectedCountry.countryCode.toString(),e,f.getLocale()).then((e=>{e.ErrorCode||this._navigateToPnvEnterCode()})).finally((()=>{this.isComponentMounted()&&this.setState({provisioning:!1})}))}}_navigateToPnvEnterCode(){this._closeDialog(),y.default.navigateToPnvEnterCode(this._getRootViewId())}}t.default=j},248126:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(704704)),r=o.__importStar(i(888500)),a=r.default.menuId();t.default=class{constructor(e){this._feedbackHandler=e,this._menuOptions=()=>[{text:n.getString("UserSettingsPanel.PicturePrefetchStatusOn"),command:"On"},{text:n.getString("UserSettingsPanel.PicturePrefetchStatusWifi"),command:"Wifi"},{text:n.getString("UserSettingsPanel.PicturePrefetchStatusOff"),command:"Off"}],this._handleMenuCommand=(e,t)=>{e!==r.SXActionMenuCancel?this._feedbackHandler(e):this._feedbackHandler(void 0)}}show(e,t,i,o){const n={anchor:t,useTheme:!0,popupBeakSize:{height:0,width:0},positionPriorities:["top","left"]};r.default.showWithOptions({id:a,config:n,getMenuItems:this._menuOptions,handleMenuCommand:e=>this._handleMenuCommand(e,i),menuTitle:e,rootViewId:i,invokingEvent:o})}}},84830:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(206483)),s=o.__importDefault(i(150343)),l=o.__importDefault(i(54720)),c=o.__importDefault(i(511099)),d=(o.__importDefault(i(266311)),i(154235)),u=o.__importDefault(i(461552)),p=i(815146),g=o.__importDefault(i(126068)),h=o.__importStar(i(85385)),m=i(844086),S=i(26703),_=o.__importStar(i(372690)),f=o.__importDefault(i(11252)),y=i(275897),C=o.__importStar(i(704704)),v=o.__importDefault(i(503411)),b=o.__importDefault(i(247286)),T=o.__importDefault(i(201721)),P=o.__importDefault(i(740794)),k=i(331707),A=(i(375258),o.__importStar(i(693921))),I=o.__importDefault(i(660401)),w=i(16549),x=o.__importDefault(i(139221)),N=o.__importDefault(i(20758)),D=i(262725),M=o.__importDefault(i(497910)),L=i(206197),R=o.__importDefault(i(266872)),E=i(412758),B=o.__importDefault(i(220534)),O="reportingAProblem",F=20,V=(0,S.lazyProperties)({dialog:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),headerText:()=>r.Styles.createTextStyle({paddingTop:30,paddingBottom:10,marginLeft:F}),textInputContainer:()=>r.Styles.createViewStyle({borderRadius:10,marginLeft:F,marginRight:F}),textInput:()=>r.Styles.createTextInputStyle({padding:6,borderRadius:10,font:N.default.font.uiDisplayRegular,fontSize:N.default.controlFontSize.body,wordBreak:"break-word",backgroundColor:w.Color.transparent,height:180,textAlignVertical:"top"}),buttonContainer:()=>r.Styles.createViewStyle({alignItems:"stretch"}),sendButton:()=>r.Styles.createButtonStyle({marginLeft:F,marginRight:F,marginTop:10}),checkboxAndTextContainer:()=>r.Styles.createViewStyle({marginLeft:F,justifyContent:"center",marginBottom:16}),checkboxView:()=>r.Styles.createViewStyle({flexDirection:"row",alignSelf:"flex-start",paddingTop:6}),checkboxLabel:()=>r.Styles.createTextStyle({paddingTop:4,flex:-1,marginLeft:-4}),linksContainer:()=>r.Styles.createViewStyle({flex:1,alignItems:"flex-end",justifyContent:"center",flexDirection:"row",marginBottom:F,marginTop:50}),linkDivider:()=>r.Styles.createTextStyle({marginLeft:8,marginRight:8})});class U extends M.default{constructor(){super(...arguments),this._openTerms=()=>{_.openTerms()},this._openPrivacy=()=>{_.openPrivacy()},this._onScrollViewRef=e=>{this._scrollView=e||void 0},this._onFocus=e=>{this._scrollView&&this._scrollView.setScrollTop(100,!1)},this._onPressSendButton=e=>{e.stopPropagation(),this._sendProblemReport()},this._onCancelButtonPress=e=>{e.stopPropagation(),y.LoadingDialog.dismiss(O,this._getRootViewId())},this._onChangeText=e=>{this.setState({problemText:e})},this._onPressAttachLogsCheckboxButton=e=>{e.stopPropagation(),this.setState({isAttachLogsAndScreenshotChecked:!this.state.isAttachLogsAndScreenshotChecked})},this._onPressShakeToSendFeedbackCheckboxButton=e=>{e.stopPropagation(),this.setState({isShakeAndSendChecked:!this.state.isShakeAndSendChecked}),T.default.setDisableShakeAndSend(this.state.isShakeAndSendChecked)},this._onBack=()=>(this._dismiss(),h.log(p.LogTraceArea.HardwareBackButton,"goBack: true componentId: ReportAProblemDialog"),!0),this._dismiss=()=>{u.default.closeModel(this._getRootViewId())}}static canReportFeedback(e){return e||s.default.getOnboardingFeatures().features.enableReportProblemDirectly||s.default.getOnboardingFeatures().enableReportProblemViaBot}static reportProblem(e,t,i,o,n){b.default.isChild()||(h.track(new k.ReportProblemDialogOpenedEvent(!0,n)),g.default.showFeedbackDialog(t,i,o,n))}static openFeedbackUrl(e,t,i,o=!1){if(!b.default.isChild()){const n=e,r=!B.default.isUrlValid(n);let a=B.default.addUrlParameter(n,"lang",C.getLocale(),r);a=B.default.addUrlParameter(a,"p",x.default.getSkypePlatformId().toString(),r),a=B.default.addUrlParameter(a,"v",x.default.getAppVersion(),r),a=B.default.addUrlParameter(a,"eTag",encodeURIComponent(s.default.getCachedEcsConfigEtag()),r),a=B.default.addUrlParameter(a,"e",E.UIFactor[E.UIFactorHelper.getUIFactor()],r),a=B.default.addUrlParameter(a,"theme",L.Theme[R.default.colorTheme()],r),a=A.addSsoFlagToUrl(a,r);let l={};o&&(l={tcg:this._triggerULUploadAndGetCorrelationId()}),P.default.navigateToHelpAndFeedbackLink(a,"",t,i,l)}}static _triggerULUploadAndGetCorrelationId(){const e=x.default.getSessionId()+"_"+Date.now();return h.log(p.LogTraceArea.SkypeFeedback,"SendFeedback: log submitting event. logCorrelationId: "+e),e}_buildState(e,t){const i={};return t&&(i.isAttachLogsAndScreenshotChecked=s.default.getConfigSettings().feedback.sendLogsByDefault,i.isShakeAndSendChecked=!T.default.isShakeAndSendDisabled(),i.problemText="",i.isChild=b.default.isChild()),i}componentDidMount(){super.componentDidMount(),l.default.subscribe(this._onBack)}componentWillUnmount(){super.componentWillUnmount(),l.default.unsubscribe(this._onBack)}render(){if(this.state.isChild)return;return(0,n.jsxs)(m.KeyboardAvoidingView,{style:[V.dialog,this._themeStyles.primaryBackgroundColorStyle],children:[undefined,(0,n.jsxs)(r.ScrollView,{ref:this._onScrollViewRef,keyboardShouldPersistTaps:!0,children:[(0,n.jsx)(D.Header,{size:4,style:V.headerText,numberOfLines:2,children:C.getString("ReportAProblemDialog.Header")}),(0,n.jsxs)(r.View,{style:V.checkboxAndTextContainer,children:[(0,n.jsxs)(r.View,{style:V.checkboxView,onPress:this._onPressAttachLogsCheckboxButton,accessibilityTraits:r.Types.AccessibilityTrait.None,accessibilityLabel:this._getCheckboxAccessibilityLabel(C.getString("ReportAProblemDialog.AttachLogsAndScreenCheckbox"),this.state.isAttachLogsAndScreenshotChecked),children:[(0,n.jsx)(f.default,{isOn:this.state.isAttachLogsAndScreenshotChecked}),(0,n.jsx)(D.BodyText,{style:V.checkboxLabel,children:C.getString("ReportAProblemDialog.AttachLogsAndScreenCheckbox")})]}),undefined]}),(0,n.jsx)(r.View,{style:[V.textInputContainer,this._themeStyles.rowHighlightViewStyle],children:(0,n.jsx)(r.TextInput,{autoCorrect:!0,value:this.state.problemText,style:[V.textInput,this._themeStyles.primaryTextColorStyle],multiline:!0,onFocus:this._onFocus,onChangeText:this._onChangeText,placeholder:C.getString("ReportAProblemDialog.Placeholder"),placeholderTextColor:this._themeColors.secondaryTextColor,autoCapitalize:"sentences",maxLength:1e3,clearButtonMode:"never"})}),(0,n.jsx)(r.View,{style:V.buttonContainer,children:(0,n.jsx)(I.default,{style:V.sendButton,buttonStyle:d.SXButtonStyle.ThemeFill,onPress:this._onPressSendButton,disabled:0===this.state.problemText.length,title:C.getString("ReportAProblemDialog.SendButton")})}),(0,n.jsxs)(r.View,{style:V.linksContainer,children:[(0,n.jsx)(r.Button,{onPress:this._openTerms,children:(0,n.jsx)(D.Subtitle,{children:C.getString("ReportAProblemDialog.TermsOfUseButton")})}),(0,n.jsx)(D.Subtitle,{style:V.linkDivider,children:"|"}),(0,n.jsx)(r.Button,{onPress:this._openPrivacy,children:(0,n.jsx)(D.Subtitle,{children:C.getString("ReportAProblemDialog.PrivacyAndCookiePolicyButton")})})]})]})]})}_getCheckboxAccessibilityLabel(e,t){const i=this._getCheckboxCheckedState(t);return C.getString("ReportAProblemDialog.AccLabelCheckbox",{checkboxTitle:e,state:i})}_getCheckboxCheckedState(e){return e?C.getString("ReportAProblemDialog.AccLabelCheckboxChecked"):C.getString("ReportAProblemDialog.AccLabelCheckboxUnchecked")}_sendProblemReport(){this._dismiss(),y.LoadingDialog.show({dialogId:O,dialogText:C.getString("ReportAProblemDialog.ReportingProblem"),showActivityIndicator:!0,buttonText:C.getString("Global.CancelLabel"),onButtonPress:this._onCancelButtonPress,showCancelButton:!0},this._getRootViewId());const e={ReportTitle:this.state.problemText,ReportDescription:this.state.problemText,feedbackSendLogsAndScreenshot:this.state.isAttachLogsAndScreenshotChecked,screenShotUri:this.props.screenshotUri,vsoTags:this.props.vsoTags};c.default.sendBRB(e).then((()=>{v.default.scheduleTextMessage(C.getString("ReportAProblemDialog.ProblemReportedSuccessfully"),void 0,this._getRootViewId())}),(e=>{a.default.showErrorAlert(e,this._getRootViewId())})).finally((()=>{y.LoadingDialog.dismiss(O,this._getRootViewId())}))}}t.default=U},954780:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(859745)),a=o.__importStar(i(516778)),s=o.__importDefault(i(341714)),l=i(154235),c=i(815146),d=i(574703),u=(o.__importStar(i(800662)),o.__importStar(i(85385))),p=o.__importDefault(i(114818)),g=o.__importDefault(i(97595)),h=i(26703),m=o.__importStar(i(704704)),S=o.__importDefault(i(942724)),_=o.__importDefault(i(211618)),f=i(375258),y=(i(842252),i(16549)),C=o.__importDefault(i(577267)),v=o.__importDefault(i(827361)),b=o.__importDefault(i(48076)),T=o.__importDefault(i(497910)),P=o.__importDefault(i(601274)),k=o.__importDefault(i(337249)),A=o.__importDefault(i(150343)),I=(0,h.lazyProperties)({modalContainerBackgroundDesktop:()=>a.Styles.createViewStyle({position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"}),modalContainerAnimatedDesktop:()=>a.Styles.createViewStyle({backgroundColor:y.Color.blackOverlay50}),modalContainerAnimatedTablet:()=>a.Styles.createViewStyle({bottom:-100}),modalContainerBackgroundMobile:()=>a.Styles.createViewStyle({position:"absolute",backgroundColor:y.Color.blackOverlay50,left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"}),modalContainerInner:()=>a.Styles.createViewStyle({position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"}),modalContainerInnerFullSize:()=>a.Styles.createViewStyle({flex:1,position:"absolute",left:0,right:0,top:0,bottom:0}),modalContainer:()=>a.Styles.createViewStyle({flex:-1,flexDirection:"row"}),modalContainerMobile:()=>[a.Styles.createViewStyle({flex:-1,justifyContent:"center"}),v.default.noncollapsibleView],modalContainerFullSize:()=>[a.Styles.createViewStyle({flex:1,justifyContent:"center"}),v.default.noncollapsibleView],modalContainerTablet:()=>a.Styles.createViewStyle({flex:-1,alignItems:"flex-start",overflow:"visible"}),modalBox:()=>a.Styles.createViewStyle({flex:-1,margin:32}),modalBoxTablet:()=>a.Styles.createViewStyle({margin:20}),modelBoxTranslate:()=>a.Styles.createViewStyle({transform:[{translateX:0}]}),modalBoxModernizedDesktop:()=>a.Styles.createViewStyle({borderRadius:8}),modelBoxDesktop:()=>a.Styles.createViewStyle({borderRadius:3}),newModelBoxDesktop:()=>a.Styles.createViewStyle({borderRadius:24}),modalBoxDesktopFullSize:()=>a.Styles.createViewStyle({flex:1,position:"absolute",left:0,right:0,top:0,bottom:0}),fullScreenView:()=>a.Styles.createViewStyle({position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:y.Color.transparent})}),w="SXModal";class x extends T.default{constructor(){super(...arguments),this._contentOpacityValue=new a.Animated.Value(1),this._suppressDismissalEvents=!1,this._renderPopup=(e,t,i,o,r)=>(0,n.jsx)(C.default,{anchorPosition:s.default.popupAnchorPositionToString(e),anchorOffset:t,popupWidth:i,popupHeight:o,borderRadius:10,strokeColor:this.props.popupColorInfo?this.props.popupColorInfo.strokeColor:this._themeColors.popupBorderColor,fillColor:this.props.popupColorInfo?this.props.popupColorInfo.fillColor:this._themeColors.popoverBackgroundColor,shadow:"0px 2px 4px rgba(0, 0, 0, 0.25)",popupAccessibilityTitle:this._modalAccessibilityLabel(),children:(0,n.jsx)(a.View,{style:[this.state.widthStyle,this.state.heightStyle],children:this.props.children})}),this._arbitrateFocus=e=>(0,d.arbitrateModalOrPopupFocus)(w,e),this._onContainerRef=e=>{this._container=e||void 0},this._onEscape=()=>(this._intClickOutside(),!0),this._onLayout=e=>{if(this.isComponentMounted()){const t={width:e.width,height:e.height};(0,p.default)(t,this.state.viewDimensions)||this.setState({viewDimensions:t})}},this._clickInside=e=>{e.stopPropagation()},this._onLongPressOutside=e=>{e.stopPropagation()},this._clickOutside=e=>{e.stopPropagation(),this._intClickOutside()},this._intClickOutside=()=>{this.props.onClickOutside&&this.props.onClickOutside()}}_buildState(e,t){const{modernizeSearchPanel:i}=A.default.getS4LMessagingFeatures(),o={isUsingStackNavigationContext:S.default.isUsingStackNavigationContext(),useTabletUI:!e.fullSize&&b.default.isTabletUI(),modernizeSearchPanel:i},n=this._getRootViewId();if(!o.isUsingStackNavigationContext)if(o.widthStyle=e.modalWidth?a.Styles.createViewStyle({width:e.modalWidth},!1):void 0,e.modalHeight){const t=o.useTabletUI?Math.min(e.modalHeight,k.default.measureWindow(n).height-60):e.modalHeight;o.heightStyle=a.Styles.createViewStyle({height:t},!1)}else o.heightStyle=void 0;if(t){if(this._suppressDismissalEvents=!!e.suppressDismissalEvents,this._opacityAnimationValue=new a.Animated.Value(o.isUsingStackNavigationContext||e.fullSize?0:1),this._opacityAnimationStyle=e.animationType!==l.SXModalAnimationType.None?a.Styles.createAnimatedViewStyle({opacity:this._opacityAnimationValue}):void 0,e.animationType===l.SXModalAnimationType.Bottom){const t=x._yOffset(e.modalHeight,!!e.fullSize,n);this._contentTransformYValue=new a.Animated.Value(t),this._bottomAnimationStyle=a.Styles.createAnimatedViewStyle({transform:[{translateY:this._contentTransformYValue}]})}else e.animationType!==l.SXModalAnimationType.None&&(this._contentScaleValue=new a.Animated.Value(1),this._defaultAnimationStyle=a.Styles.createAnimatedViewStyle({transform:[{scale:this._contentScaleValue}],opacity:this._contentOpacityValue}));e.closeAnimationEvent&&(this._closeAnimationSubcriptionToken=e.closeAnimationEvent.subscribe((e=>this._animateClose(e))));const t=k.default.measureWindow(n);o.viewDimensions={width:t.width,height:t.height}}return o}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this.props.skipEscHandling||g.default.addEscapeHandler(this._onEscape)}componentDidMount(){super.componentDidMount(),u.log(c.LogTraceArea.CoreUI,"SXModal componentDidMount, animationType: "+this.props.animationType);const e=!0,t=[];this.props.animationType===l.SXModalAnimationType.None?(this._contentScaleValue&&this._contentScaleValue.setValue(1),this._contentTransformYValue&&this._contentTransformYValue.setValue(0),this._opacityAnimationValue&&this._opacityAnimationValue.setValue(1)):this.props.animationType===l.SXModalAnimationType.Bottom?(this._contentTransformYValue&&t.push(r.timing.easeOut({value:this._contentTransformYValue,toValue:0,useNativeDriver:e})),this._opacityAnimationValue&&t.push(r.timing.easeOut({value:this._opacityAnimationValue,toValue:1,useNativeDriver:e})),this._contentScaleValue&&this._contentScaleValue.setValue(1)):this.state.isUsingStackNavigationContext||this.props.fullSize?(this._opacityAnimationValue&&t.push(r.timing.easeOut({value:this._opacityAnimationValue,toValue:1,useNativeDriver:e})),this._contentScaleValue&&this._contentScaleValue.setValue(1)):(this._contentScaleValue,this._contentTransformYValue&&this._contentTransformYValue.setValue(0),this._opacityAnimationValue&&this._opacityAnimationValue.setValue(1)),t.length&&a.Animated.parallel(t).start()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),e.modalTitle!==this.props.modalTitle&&e.modalTitle&&this.resetFocus()}componentWillUnmount(){if(super.componentWillUnmount(),g.default.removeEscapeHandler(this._onEscape),this._closeAnimationSubcriptionToken&&this._closeAnimationSubcriptionToken.unsubscribe(),!this._suppressDismissalEvents){const e=m.getString("AccessibilityLabel.DialogClosed",{dialogTitle:this.props.modalTitle});a.Accessibility.announceForAccessibility(e)}}resetFocus(){if(this._container){this.props.willResetFocus&&this.props.willResetFocus(),this._container.setFocusRestricted(!1),this._container.requestFocus();const e=e=>{u.log(c.LogTraceArea.CoreUI,"SXModal resetFocus, timedOut: "+e),this._clearFocusRestrictionTimeout(),this.props.didResetFocus&&this.props.didResetFocus()};this._clearFocusRestrictionTimeout(),this._focusRestrictionTimeout=P.default.setTimeout((()=>{e(!0)}),1e3),this._container.setFocusRestricted(!0,(()=>{e(!1)}))}}suppressDismissalEvents(e){this._suppressDismissalEvents=e}_clearFocusRestrictionTimeout(){this._focusRestrictionTimeout&&(P.default.clearTimeout(this._focusRestrictionTimeout),this._focusRestrictionTimeout=void 0)}_modalAccessibilityLabel(){return this.props.modalTitle?this.props.modalTitle:void 0}render(){const e=this._modalAccessibilityLabel(),t="modal",i=this.props.backgroundStyle||this._themeStyles.primaryBackgroundColorStyle,o=this.props.showTitlebar?(0,n.jsx)(f.SimplePanelHeader,{leftButton:{closeButtonType:f.CloseButtonType.Close,onPress:this.props.close},panelName:this.props.title,useCenteredControls:!0}):void 0;if(this.state.isUsingStackNavigationContext){let e;const t=[I.modalContainerBackgroundMobile];this.props.overlayColor&&t.push(a.Styles.createViewStyle({backgroundColor:this.props.overlayColor},!1)),this.props.animationType!==l.SXModalAnimationType.None&&t.push(this.props.animationType===l.SXModalAnimationType.Bottom?this._bottomAnimationStyle:this._opacityAnimationStyle);const i=[this.props.fullSize?I.modalContainerFullSize:I.modalContainerMobile];return this.props.horizontalPadding&&i.push(a.Styles.createViewStyle({maxWidth:this.state.viewDimensions.width-2*this.props.horizontalPadding},!1)),this.props.verticalPadding&&i.push(a.Styles.createViewStyle({maxHeight:this.state.viewDimensions.height-2*this.props.verticalPadding},!1)),(0,n.jsxs)(a.Animated.View,{style:t,onDragEnter:this._clickInside,onLayout:this.props.horizontalPadding||this.props.verticalPadding?this._onLayout:void 0,children:[e,(0,n.jsx)(a.View,{style:this.props.fullSize?I.modalContainerInnerFullSize:I.modalContainerInner,children:(0,n.jsx)(a.View,{style:i,restrictFocusWithin:!0,children:this.props.children})})]})}if(this.props.fullSize){const r=[I.modalBoxDesktopFullSize,i];return this.props.animationType!==l.SXModalAnimationType.None&&r.push(this.props.animationType===l.SXModalAnimationType.Bottom?this._bottomAnimationStyle:this._opacityAnimationStyle),(0,n.jsx)(a.Animated.View,{style:r,children:(0,n.jsxs)(a.View,{style:I.modalContainerFullSize,restrictFocusWithin:!0,accessibilityId:w,accessibilityTraits:a.Types.AccessibilityTrait.Dialog,accessibilityLabel:e,tabIndex:-1,autoFocus:!0,arbitrateFocus:this._arbitrateFocus,children:[o,this.props.children]},t)})}{let r;if(this.props.anchor)r=(0,n.jsx)(_.default,{animateDismissal:!0,renderPopup:(e,t,i,o,n)=>this._renderPopup(e,t,i,o,n),allowTaps:!0,ignorePointerEvents:!0,getAnchorElement:this.props.anchor,getPopupPositions:this.props.getPopupPositions},t);else{const s=this.props.newBordersModal?I.newModelBoxDesktop:I.modelBoxDesktop,c=[this.state.useTabletUI?I.modalBoxTablet:I.modalBox,this.props.showOverflow?v.default.overflowVisible:void 0,this.state.modernizeSearchPanel?I.modalBoxModernizedDesktop:s,I.modelBoxTranslate,i];this.state.widthStyle&&c.push(this.state.widthStyle),this._useDarkTheme()&&c.push(this._themeStyles.viewBorderStyle);const d=[this.state.useTabletUI?I.modalContainerTablet:I.modalContainer,this.props.showOverflow?v.default.overflowVisible:void 0];this.props.animationType!==l.SXModalAnimationType.None&&d.push(this.props.animationType===l.SXModalAnimationType.Bottom?this._bottomAnimationStyle:this._defaultAnimationStyle),this.state.heightStyle&&(this.state.useTabletUI?c.push(this.state.heightStyle):d.push(this.state.heightStyle)),r=(0,n.jsx)(a.Animated.View,{style:d,children:(0,n.jsxs)(a.View,{style:c,ref:this._onContainerRef,onPress:this._clickInside,accessibilityId:w,accessibilityTraits:a.Types.AccessibilityTrait.Dialog,restrictFocusWithin:!0,disableTouchOpacityAnimation:!0,tabIndex:-1,accessibilityLabel:e,autoFocus:!0,arbitrateFocus:this._arbitrateFocus,children:[o,this.props.children]},t)})}const s=[I.modalContainerBackgroundDesktop];let c;if(!this.props.hideBackground){const e=[v.default.absoluteFill,I.modalContainerAnimatedDesktop];this.props.showOverflow&&(this.state.useTabletUI,s.push(v.default.overflowVisible)),this._opacityAnimationStyle&&e.push(this._opacityAnimationStyle),c=(0,n.jsx)(a.Animated.View,{style:e})}return(0,n.jsxs)(a.View,{style:s,children:[c,(0,n.jsx)(a.View,{style:I.fullScreenView,onPress:this._clickOutside,onLongPress:this._onLongPressOutside,disableTouchOpacityAnimation:!0}),r]})}}_animateClose(e){u.log(c.LogTraceArea.CoreUI,"SXModal _animateClose, animationType: "+this.props.animationType);const t=()=>{this.isComponentMounted()&&e&&e()};if(this.props.animationType===l.SXModalAnimationType.None)return void t();const i=!0,o=[];this.props.animationType===l.SXModalAnimationType.Bottom?(this._contentTransformYValue&&o.push(r.timing.easeOut({value:this._contentTransformYValue,toValue:x._yOffset(this.props.modalHeight,!!this.props.fullSize,this._getRootViewId()),useNativeDriver:i})),this._opacityAnimationValue&&o.push(r.timing.easeOut({value:this._opacityAnimationValue,toValue:0,useNativeDriver:i}))):(this._opacityAnimationValue&&o.push(r.timing.easeOut({value:this._opacityAnimationValue,toValue:0,useNativeDriver:i})),this.state.isUsingStackNavigationContext||this.props.fullSize||o.push(r.timing.easeOut({value:this._contentOpacityValue,toValue:0,useNativeDriver:i}))),a.Animated.parallel(o).start(t)}static _yOffset(e,t,i){const o=k.default.measureWindow(i).height;return e&&!t?o-(o-e)/2:o}}t.default=x},525864:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(974634)),l=i(843952),c=o.__importDefault(i(54720)),d=o.__importDefault(i(340724)),u=o.__importDefault(i(266311)),p=o.__importDefault(i(958868)),g=i(815146),h=o.__importStar(i(85385)),m=o.__importDefault(i(54945)),S=i(26703),_=o.__importStar(i(704704)),f=o.__importDefault(i(960282)),y=i(16549),C=o.__importDefault(i(954780)),v=o.__importDefault(i(827361)),b=i(262725),T=o.__importDefault(i(206315)),P=(0,S.lazyProperties)({container:()=>a.Styles.createViewStyle({flex:1}),titleText:()=>a.Styles.createTextStyle({textAlign:"center",padding:16}),contentText:()=>a.Styles.createTextStyle({textAlign:"center",paddingVertical:16}),contentTextLeftAligned:()=>a.Styles.createTextStyle({textAlign:"left"}),contentContainer:()=>a.Styles.createViewStyle({flex:1,paddingHorizontal:16}),buttonContainer:()=>a.Styles.createViewStyle({alignItems:"stretch"}),horizontalButtonContainer:()=>a.Styles.createViewStyle({flexDirection:"row"}),buttonsContainerFullSize:()=>a.Styles.createViewStyle({backgroundColor:y.Color.white}),button:()=>a.Styles.createButtonStyle({justifyContent:"center",alignItems:"center",borderTopWidth:1,paddingVertical:16,flex:1}),buttonText:()=>a.Styles.createTextStyle({textAlign:"center",marginHorizontal:12})}),k=(e,t=!1,i)=>{const o=T.default.themeColorsForTheme(e);return t?{containerBackground:{backgroundColor:i||o.primaryBackgroundColor},titleText:{},contentText:{},button:{borderColor:o.dividerColor},buttonText:{},buttonHover:{color:o.textHoverColor}}:{containerBackground:{backgroundColor:i||y.Color.gray400},titleText:{color:y.Color.white},contentText:{color:y.Color.white},button:{borderColor:y.Color.black},buttonText:{color:y.Color.white},buttonHover:{color:y.Color.gray300}}};class A extends p.default{constructor(){super(...arguments),this._closeAnimationEvent=new s.default,this._buttonPressHandled=!1,this._renderButton=(e,t)=>{const i=k(this.state.theme,this.props.isThemeAware),o=[P.button,i.button],r=[P.buttonText,i.buttonText];return e.buttonStyle&&o.push(e.buttonStyle),e.textStyle&&r.push(e.textStyle),t!==this.state.hoverButtonIndex||e.isDisabled||r.push(i.buttonHover),(0,n.jsx)(a.Button,{style:o,onHoverStart:()=>this.setState({hoverButtonIndex:t}),onHoverEnd:this._onHoverEnd,onPress:t=>this._onButtonPress(t,e),disabled:e.isDisabled,accessibilityLabel:e.text,ref:e.ref,autoFocus:e.autoFocus,children:(0,n.jsx)(b.BodyText,{bold:e.isSubmit,style:r,children:e.text})},t)},this._onHoverEnd=()=>{this.setState({hoverButtonIndex:-1})},this._onClickOutside=()=>{this.props.onClickOutside&&this.props.onClickOutside(),this.props.closeOnClickOutside&&this._getCloseAnimationEvent().fire((()=>{u.default.dismissModal(this.props.dialogId,this._getRootViewId(),this.props.useScopedModalId)}))},this._onKeyUp=e=>{let t;return e.keyCode===m.default.ESCAPE?r.each(this.props.buttons,(e=>{e.isCancel&&(t=e)})):e.keyCode!==m.default.ENTER||a.UserInterface.isNavigatingWithKeyboard()||r.each(this.props.buttons,(e=>{!e.isDisabled&&e.isSubmit&&(t=e)})),t?(this._completeButtonPress(t),h.log(g.LogTraceArea.GenericUnsafe,"onKeyUp: true componentId: SimpleDialog"),!0):(h.log(g.LogTraceArea.GenericUnsafe,"onKeyUp: false componentId: SimpleDialog"),!1)},this._onBack=()=>{let e;return r.each(this.props.buttons,(t=>{t.isCancel&&(e=t)})),e?(this._completeButtonPress(e),h.log(g.LogTraceArea.HardwareBackButton,"goBack: true componentId: SimpleDialog"),!0):(h.log(g.LogTraceArea.HardwareBackButton,"goBack: false componentId: SimpleDialog"),!1)},this._onHeaderContentLayout=e=>{this.props.allowScrolling&&e.height!==this.state.headerHeight&&this.setState({headerHeight:e.height},this._checkIfScrollingNeeded)},this._onDialogContentLayout=e=>{this.props.allowScrolling&&e.height!==this.state.dialogHeight&&this.setState({dialogHeight:e.height},this._checkIfScrollingNeeded)},this._onButtonsContentLayout=e=>{this.props.allowScrolling&&e.height!==this.state.buttonsHeight&&this.setState({buttonsHeight:e.height},this._checkIfScrollingNeeded)}}_buildState(e,t){const i={screenWidth:f.default.getWidth(this._getRootViewId()),screenHeight:f.default.getHeight(this._getRootViewId()),theme:this._getContext().theme};return t?Object.assign(Object.assign({},i),{hoverButtonIndex:-1}):i}componentDidMount(){super.componentDidMount(),c.default.subscribe(this._onBack),a.Input.keyUpEvent.subscribe(this._onKeyUp)}componentWillUnmount(){super.componentWillUnmount(),c.default.unsubscribe(this._onBack),a.Input.keyUpEvent.unsubscribe(this._onKeyUp)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._checkIfScrollingNeeded()}render(){const e=k(this.state.theme,this.props.isThemeAware,this.props.backgroundColor);let t,i;if(this.props.text){const i=!0;if(t=(0,n.jsx)(b.PanelHeader,{style:[P.titleText,e.titleText],accessibilityHidden:!!i,children:this.props.text}),i){const e=d.default.headerAccessibilityInfo(this.props.text);t=(0,n.jsx)(a.View,{accessibilityLabel:e.accessibilityLabel,importantForAccessibility:a.Types.ImportantForAccessibility.Yes,accessibilityTraits:e.accessibilityTraits,autoFocus:!1,onLayout:this._onHeaderContentLayout,children:t})}}if(this.props.simpleContent){const t=[P.contentText,e.contentText];this.props.leftAlignContent&&t.push(P.contentTextLeftAligned),i=(0,n.jsx)(b.BodyText,{style:t,autoFocus:!1,children:this.props.simpleContent})}const o=r.map(this.props.buttons,this._renderButton),s=[P.buttonContainer];let c;if(this.props.fullScreen&&s.push(P.buttonsContainerFullSize),this.props.buttonAlignment&&this.props.buttonAlignment===l.SimpleDialogButtonAlignment.HorizontalStack&&s.push(P.horizontalButtonContainer),this.props.buttons&&this.props.buttons.length>0)if(this.props.allowScrolling&&this.state.useScrolling){const e=a.Styles.createViewStyle({height:this.state.buttonsContainerHeight});c=(0,n.jsx)(a.View,{style:[s,v.default.flexGrowOne],children:(0,n.jsx)(a.ScrollView,{style:[v.default.flexOne,e],showsVerticalScrollIndicator:!0,children:(0,n.jsx)(a.View,{style:s,onLayout:this._onButtonsContentLayout,children:o})})})}else c=(0,n.jsx)(a.View,{style:s,onLayout:this._onButtonsContentLayout,children:o});const u=[this.props.fullScreen?v.default.flexOne:P.container,this.props.showOverflow?v.default.overflowVisible:void 0,e.containerBackground];this.props.containerStyle&&u.push(this.props.containerStyle);const p=this.props.anchor?{fillColor:y.Color.gray400,strokeColor:y.Color.gray400}:void 0;return(0,n.jsx)(C.default,{modalWidth:this.props.maxWidth||Math.min(this.state.screenWidth-32,450),modalHeight:this.props.maxHeight||(this.props.allowScrolling&&this.state.useScrolling&&this.state.dialogHeight?this.state.screenHeight:void 0),horizontalPadding:this.props.horizontalPadding||this.props.allowScrolling?16:void 0,verticalPadding:this.props.allowScrolling?16:void 0,onClickOutside:this._onClickOutside,closeAnimationEvent:this._getCloseAnimationEvent(),fullSize:this.props.fullScreen,modalTitle:this.props.accessibilityLabel||_.getString("Global.DialogAccessibilityLabel"),anchor:this.props.anchor,popupColorInfo:p,suppressDismissalEvents:this.props.suppressModalDismissalEvents,backgroundStyle:e.containerBackground,showOverflow:this.props.showOverflow,children:(0,n.jsxs)(a.View,{style:u,onLayout:this._onDialogContentLayout,children:[t,(0,n.jsxs)(a.View,{style:[this.props.fullScreen||this.props.useFullSizeContainer?v.default.flexOne:P.contentContainer,this.props.showOverflow?v.default.overflowVisible:void 0,this.state.useScrolling?v.default.flexGrowZero:void 0],children:[this.props.children,i]}),c]})})}_getCloseAnimationEvent(){return this.props.closeAnimationEvent||this._closeAnimationEvent}_onButtonPress(e,t){e.stopPropagation(),this._completeButtonPress(t)}_completeButtonPress(e){this._buttonPressHandled||(e.onPress&&e.onPress(),this._getCloseAnimationEvent().fire((()=>{u.default.dismissModal(this.props.dialogId,this._getRootViewId(),this.props.useScopedModalId)})),this._buttonPressHandled=!0)}_checkIfScrollingNeeded(){if(this.props.allowScrolling&&this.state.screenHeight&&this.state.dialogHeight&&this.state.headerHeight){const e=this.state.screenHeight-64<=this.state.dialogHeight,t=this.state.dialogHeight-this.state.headerHeight;this.setState({useScrolling:e,buttonsContainerHeight:t})}}}t.default=A},715593:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionCommandTypes=void 0;const o=i(197582),n=o.__importStar(i(704704)),r=o.__importDefault(i(888500));var a;!function(e){e[e.NegativeFeedback=0]="NegativeFeedback",e[e.LearnMore=1]="LearnMore"}(a||(t.SuggestionCommandTypes=a={}));const s=r.default.menuId();t.default=class{constructor(e){this._feedbackHandler=e,this._menuOptions=()=>[{text:n.getString("SwiftQuickReplyListView.TheseAreBad"),command:a[a.NegativeFeedback]},{text:n.getString("SwiftQuickReplyListView.LearnMore"),command:a[a.LearnMore]}],this._handleMenuCommand=(e,t)=>{if(e===a[a.NegativeFeedback])this._feedbackHandler()}}show(e,t,i){const o={anchor:e,useTheme:!0,popupBeakSize:{height:0,width:0},positionPriorities:["top","left"]};r.default.showWithOptions({id:s,config:o,getMenuItems:this._menuOptions,handleMenuCommand:e=>this._handleMenuCommand(e,t),menuTitle:n.getString("SwiftQuickReplyListView.SuggestionsMenuTitle"),rootViewId:t,invokingEvent:i})}}},915342:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeColorPicker=t.ThemeColorOption=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=o.__importStar(i(473483)),s=o.__importStar(i(704704));var l;!function(e){e[e.Classic=1]="Classic",e[e.Colorful=2]="Colorful",e[e.Blue=3]="Blue",e[e.Fuschia=4]="Fuschia",e[e.Mint=5]="Mint",e[e.Orange=6]="Orange",e[e.Rose=7]="Rose",e[e.Yellow=8]="Yellow"}(l||(t.ThemeColorOption=l={}));class c extends r.ComponentBase{static themeColorOptionToColorInfo(e){let t;switch(e){case l.Blue:t=a.SerializedColorByNumber.Blue;break;case l.Fuschia:t=a.SerializedColorByNumber.Fuschia;break;case l.Mint:t=a.SerializedColorByNumber.Mint;break;case l.Orange:t=a.SerializedColorByNumber.Orange;break;case l.Rose:t=a.SerializedColorByNumber.Rose;break;case l.Yellow:t=a.SerializedColorByNumber.Yellow;case l.Colorful:case l.Classic:}return n.isUndefined(t)?void 0:a.getColorInfoForSerializedColor(t)}static accessibilityLabelForThemeColorOption(e){switch(e){case l.Blue:return s.getString("Colors.Blue");case l.Fuschia:return s.getString("Colors.Fuschia");case l.Mint:return s.getString("Colors.Mint");case l.Orange:return s.getString("Colors.Orange");case l.Rose:return s.getString("Colors.Rose");case l.Yellow:return s.getString("Colors.Yellow");case l.Colorful:return s.getString("Colors.Multi");case l.Classic:return s.getString("Colors.Classic")}return s.getString("Colors.Custom")}}t.ThemeColorPicker=c,t.default=c},611905:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(496486),a=o.__importStar(i(516778)),s=o.__importDefault(i(808467)),l=o.__importDefault(i(488197)),c=i(413686),d=i(815146),u=o.__importDefault(i(560099)),p=o.__importDefault(i(453761)),g=o.__importStar(i(85385)),h=i(26703),m=o.__importStar(i(704704)),S=o.__importDefault(i(252089)),_=o.__importDefault(i(740794)),f=o.__importDefault(i(942724)),y=o.__importDefault(i(399564)),C=o.__importStar(i(848203)),v=i(490003),b=i(884853),T=i(967338),P=o.__importDefault(i(20758)),k=i(641400),A=o.__importDefault(i(827361)),I=i(915342),w=i(206197),x=o.__importDefault(i(266872)),N=o.__importStar(i(972830)),D=o.__importDefault(i(760989)),M=o.__importDefault(i(817672)),L=o.__importDefault(i(233597)),R=i(925890),E=i(296459),B=o.__importDefault(i(155308)),O="light",F="dark",V="lightAccessible",U="darkAccessible",j="system",H=(0,h.lazyProperties)({title:()=>a.Styles.createTextStyle({paddingTop:16,paddingBottom:8}),colorPicker:()=>a.Styles.createViewStyle({marginBottom:4}),rowStyle:()=>a.Styles.createViewStyle({minHeight:50}),previewLabelWrapper:()=>a.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between"}),flipIcon:()=>a.Styles.createViewStyle({width:k.IconSize.default,height:k.IconSize.default}),noBorder:()=>a.Styles.createViewStyle({borderBottomWidth:0})});class W extends s.default{constructor(){super(...arguments),this._onModeSelected=e=>{var t;null===(t=this._telemetryEvent)||void 0===t||t.markDidToggleLightDarkTab();const i=N.isAccessibleTheme(this.state.currentTheme);switch(e){case O:i?this._setTheme(w.Theme.Delphi,!1):this.state.isDarkTheme?this._onLightDarkTogglePressed():this.state.useSystemTheme&&this._setTheme(this._currentTheme,!1);break;case F:i?this._setTheme(w.Theme.DelphiDark,!1):this.state.isDarkTheme?this.state.useSystemTheme&&this._setTheme(this._currentTheme,!1):this._onLightDarkTogglePressed();break;case j:this._setTheme(x.default.getSystemThemeNoSubscription(),!0);break;case V:this._setTheme(w.Theme.Accessible,!1);break;case U:this._setTheme(w.Theme.AccessibleDark,!1)}},this._onThemeColorSelected=e=>{const t=D.default.newCauseId();g.log(d.LogTraceArea.Theme,"ThemeDialog._onThemeColorSelected causeId: "+t);const i=W._themeColorOptionToTheme(e,N.isDarkTheme(this.state.currentTheme)),o=(0,R.constructLegacyColorInfo)(e,(0,R.getSkypeGradients)(e,this.state.isDarkTheme?"dark":"light").secondary,(0,R.getSkypePrimaryColors)(e,this.state.isDarkTheme?"dark":"light"));i!==this.state.currentTheme&&this._setTheme(i,this.state.useSystemTheme);const n=e=>{var i;null===(i=this._remoteUserAppearanceTelemetryEvent)||void 0===i||i.setDidUpdateColorInfo(),this.state.updateImmediately?S.default.setUserColor(e,t):this.setState({userColor:e})};o?o!==this.state.userColor&&n(o):n(this.state.initialUserColor)},this._isFlippedSelected=()=>{var e;null===(e=this._remoteUserAppearanceTelemetryEvent)||void 0===e||e.setDidToggleFlipBubbleColors();const t=!this.state.isFlipped,i=D.default.newCauseId();g.log(d.LogTraceArea.Theme,"ThemeDialog._isFlippedSelected flipped: "+t+" causeId: "+i);const o=W._flipAvailableForTheme(this.state.currentTheme)&&t;this.state.updateImmediately?x.default.setFlipBubbleColors(o):this.setState({isFlipped:o})},this._onCompactListModeChange=()=>{var e;null===(e=this._remoteUserAppearanceTelemetryEvent)||void 0===e||e.setDidUpdateRecentsRowSize()},this._applyThemeChanges=()=>{const e=D.default.newCauseId();g.log(d.LogTraceArea.Theme,"ThemeDialog._commitChanges causeId: "+e),this.state.updateImmediately||(x.default.setTheme(this.state.currentTheme,this.state.useSystemTheme),S.default.setUserColor(this.state.userColor,e),x.default.setFlipBubbleColors(W._flipAvailableForTheme(this.state.currentTheme)&&this.state.isFlipped),_.default.navigateBack(e,this._getContext()),this._sendTelemetryEvent(c.DialogNavExit.Submit),a.Accessibility.announceForAccessibility(m.getString("ColorThemeDialog.ThemeAppliedAnnouncement")))},this._isDoneButtonDisabled=()=>this.state.currentTheme===this.state.initialTheme&&this.state.useSystemTheme===this.state.initialUseSystemTheme&&this.state.userColor===this.state.initialUserColor&&this.state.isFlipped===this.state.initialIsFlipped}static getHeaderText(){return m.getString("UserSettingsPanel.AppearanceButton")}_buildState(e,t){const i=x.default.colorTheme(),o={updateImmediately:this._isPresentedInDesktopModal(),systemThemeEnabled:N.systemThemeEnabled(),systemTheme:x.default.getSystemTheme(),isUsingStackNavigation:f.default.isUsingStackNavigationContext()};if((t||o.updateImmediately)&&(o.isDarkTheme=x.default.isDarkTheme(),o.useSystemTheme=x.default.shouldUseSystemTheme(),o.currentTheme=i,o.userColor=S.default.getColorInfo(!0),o.isFlipped=x.default.flipBubbleColors()),t)o.initialTheme=o.currentTheme,o.initialUserColor=o.userColor,o.initialIsFlipped=o.isFlipped,o.initialUseSystemTheme=o.useSystemTheme,this._setupTelemetryEvents(e);else if(!o.updateImmediately&&this.state.systemTheme!==o.systemTheme){const e=x.default.previewThemeNoSubscription();this.state.initialUseSystemTheme?(o.initialTheme=i,e||(o.isDarkTheme=x.default.isDarkThemeNoSubscription(),o.currentTheme=i)):this.state.useSystemTheme&&e&&(o.isDarkTheme=N.isDarkTheme(o.systemTheme),o.currentTheme=o.systemTheme,x.default.setPreviewTheme(o.currentTheme))}return o}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i);const o=N.isDarkTheme(this.state.currentTheme);if(o!==N.isDarkTheme(t.currentTheme)){const e=m.getString(o?"ColorThemeDialog.SelectedDarkToggleTitleAccessible":"ColorThemeDialog.SelectedLightToggleTitleAccessible");a.Accessibility.announceForAccessibility(e)}const n=N.isAccessibleTheme(this.state.currentTheme);if(n!==N.isAccessibleTheme(t.currentTheme)){const e=m.getString(n?"ColorThemeDialog.SelectedHighContrastTitleAccessible":"ColorThemeDialog.DeselectedHighContrastTitleAccessible");a.Accessibility.announceForAccessibility(e)}}componentWillUnmount(){super.componentWillUnmount(),x.default.setPreviewTheme(void 0),this._sendTelemetryEvent(c.DialogNavExit.CancelOrBack)}_setupTelemetryEvents(e){this._telemetryEvent=new T.ThemeEvent(e.origin),this._remoteUserAppearanceTelemetryEvent=new v.RemoteUserAppearanceTelemetryEvent}_getHeaderText(e){return W.getHeaderText()}_componentId(){return"ThemeDialogV2"}_onLightDarkTogglePressed(){this._setTheme(N.matchingLightOrDarkTheme(this.state.currentTheme),!1)}_setTheme(e,t){const i=void 0!==t;this._remoteUserAppearanceTelemetryEvent&&(e!==this.state.currentTheme&&this._remoteUserAppearanceTelemetryEvent.setDidUpdateColorTheme(),t&&this._remoteUserAppearanceTelemetryEvent.setDidToggleSystemTheme());const o=N.isDarkTheme(e);if(this.state.updateImmediately)x.default.setTheme(e,!!t),S.default.setUserColor(this._constructUserColor(o),D.default.newCauseId());else{const n={currentTheme:e,isDarkTheme:o};i&&(n.useSystemTheme=!!t),n.userColor=this._constructUserColor(o),this.setState(n),n.currentTheme===this.state.initialTheme&&n.useSystemTheme===this.state.initialUseSystemTheme?x.default.setPreviewTheme(void 0):x.default.setPreviewTheme(e)}}_constructUserColor(e){const{secondary:t}=(0,R.getSkypeGradients)(this.state.userColor.key,e?"dark":"light");return(0,R.constructLegacyColorInfo)(this.state.userColor.key,t,(0,R.getSkypePrimaryColors)(this.state.userColor.key,e?"dark":"light"))}_sendTelemetryEvent(e){if(this._telemetryEvent){this._telemetryEvent.setMode(function(e,t){switch(e){case w.Theme.Delphi:case w.Theme.Mono:return t?"systemLight":"light";case w.Theme.DelphiDark:case w.Theme.MonoDark:return t?"systemDark":"dark";case w.Theme.Accessible:return"highContrastLight";case w.Theme.AccessibleDark:return"highContrastDark";default:return"unknown"}}(this.state.currentTheme,this.state.useSystemTheme)),this._telemetryEvent.setUserColor(this.state.userColor.key),this._telemetryEvent.setExit(e);const t=e===c.DialogNavExit.Submit||this.state.updateImmediately;this.state.initialTheme!==this.state.currentTheme&&t&&this._telemetryEvent.markDidSelectNewTheme(),this._telemetryEvent.setFinalTheme(t?this.state.currentTheme:this.state.initialTheme),y.default.track(this._telemetryEvent),this._telemetryEvent=void 0}this._remoteUserAppearanceTelemetryEvent&&(g.track(this._remoteUserAppearanceTelemetryEvent),this._remoteUserAppearanceTelemetryEvent=void 0)}_getApplyButton(){return{onPress:this._applyThemeChanges,disabled:this._isDoneButtonDisabled(),text:m.getString("Global.ApplyButtonTitle"),accessibilityLabel:m.getString("Global.ApplyButtonTitle")}}render(){var e,t;const i=N.isAccessibleTheme(this.state.currentTheme);let o;const s=function(e,t){if("classic"===e)return!1;return t}(i?"highContrast":null===(e=this.state.userColor)||void 0===e?void 0:e.key,W._flipAvailableForTheme(this.state.currentTheme));s&&(o=(0,n.jsx)(p.default,{icon:k.SkypeIcon.PreviousNext,style:void 0,size:k.IconSize.size18,color:this._themeColors.secondaryTextColor,hoverColor:this._themeColors.iconHoverColor,title:m.getString("ColorThemeDialog.ReverseThemeTitle"),onPress:this._isFlippedSelected}));let c=(0,n.jsx)(b.SectionTitle,{title:m.getString("ColorThemeDialog.PreviewUpper"),titleStyles:H.title},"previewTitle");o&&(c=(0,n.jsxs)(a.View,{style:H.previewLabelWrapper,children:[c,o]}));const d=(0,n.jsx)(b.SectionTitle,{title:m.getString("ColorThemeDialog.ColorUpper"),titleStyles:H.title},"colorTitle"),g=(0,n.jsx)(b.SectionTitle,{title:m.getString("ColorThemeDialog.ModesUpper"),titleStyles:H.title},"themeTitle"),h=(0,n.jsx)(b.SectionTitle,{title:m.getString("ColorThemeDialog.AccessibleModesUpper"),titleStyles:H.title},"accessibleThemeTitle"),S=(0,n.jsx)(l.default,{titleStyles:H.title,hideBottomBorder:!0,onChangeListMode:this._onCompactListModeChange}),_=(0,n.jsx)(B.default,{titleStyles:H.title}),f=(0,r.compact)([{key:O,text:m.getString("ColorThemeDialog.LightToggleTitle")},{key:F,text:m.getString("ColorThemeDialog.DarkToggleTitle")},this.state.systemThemeEnabled?{key:j,text:m.getString("ColorThemeDialog.SystemModeLabel")}:void 0]),y=i?void 0:this.state.useSystemTheme?j:this.state.isDarkTheme?F:O,v=(0,n.jsx)(C.default,{radioButtons:f,selectedKey:y,rowStyle:H.rowStyle,textStyle:P.default.rowTitleFontStyle(this._currentTheme),dividerType:C.DividerType.Between,disableSelectionAnimation:!0,onSelected:this._onModeSelected,fullWidth:!0}),T=(0,r.compact)([{key:V,text:m.getString("ColorThemeDialog.HighContrastLight")},N.isAccessibleTheme(w.Theme.AccessibleDark)?{key:U,text:m.getString("ColorThemeDialog.HighContrastDark")}:void 0]),I=i?this.state.isDarkTheme?U:V:void 0,x=(0,n.jsx)(C.default,{radioButtons:T,selectedKey:I,rowStyle:H.rowStyle,textStyle:P.default.rowTitleFontStyle(this._currentTheme),dividerType:C.DividerType.Between,disableSelectionAnimation:!0,onSelected:this._onModeSelected,fullWidth:!0}),D=(0,n.jsx)(u.default,{style:s?A.default.pointerCursor:void 0,onPress:s?this._isFlippedSelected:void 0,activeOpacity:.8,children:(0,n.jsx)(E.ThemePreview,{userColor:i?"highContrast":null===(t=this.state.userColor)||void 0===t?void 0:t.key,mode:this.state.isDarkTheme?"dark":"light",isFlipped:s&&this.state.isFlipped})}),R=(0,n.jsx)(E.UserColorPicker,{selectedColorOption:this.state.userColor.key,onSelectColor:this._onThemeColorSelected,isDisabled:i,mode:this.state.isDarkTheme?"dark":"light"}),z=this.state.isUsingStackNavigation?(0,n.jsx)(M.default,{button:this._getApplyButton()}):void 0;return(0,n.jsxs)(L.default,{footer:z,children:[c,D,d,R,g,v,h,x,S,_]})}static _flipAvailableForTheme(e){return N.isMonoTheme(e)}static _themeColorOptionToTheme(e,t){switch(e){case I.ThemeColorOption.Classic:return t?w.Theme.DelphiDark:w.Theme.Delphi;case I.ThemeColorOption.Colorful:return t?w.Theme.ColorfulDark:w.Theme.Colorful;default:return t?w.Theme.MonoDark:w.Theme.Mono}}}t.default=W},381421:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,c.useSwatchStyles)(e.colorKey,e.mode),i=(0,d.useSwatchAccessibilityLabel)(e.accessibilityLabel,e.isDisabled,e.isSelected);return(0,n.jsx)(s.Box,{padding:"size40",children:(0,n.jsxs)(r.Pressable,{onPress:()=>e.onPress(e.colorKey),disabled:e.isDisabled,accessibilityRole:"button",accessibilityLabel:i,children:[(0,n.jsx)(a.GradientView,{style:t.gradient,colors:e.colors,direction:a.GradientDirection.BOTTOM_RIGHT}),e.isSelected&&!e.isDisabled?(0,n.jsx)(l.default,{style:t.checkmark,isOn:!0}):null]})})};const o=i(197582),n=i(785893),r=i(537180),a=i(854646),s=i(344175),l=o.__importDefault(i(11252)),c=i(254660),d=i(830587)},203759:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Message=function(e){const{fromCurrentUser:t,userColor:i,mode:l,isFlipped:c,text:d}=e,{styles:u,bubbleRadius:p}=(0,s.useMessageStyles)(t,i,l),{bubble:g}=(0,r.getSkypeColors)(i,l),h="highContrast"===i?"dividerPrimary":void 0,m="highContrast"===i?1:0,S=t?"flex-end":"flex-start",_=function(e,t){return e&&!t||!e&&t}(t,c)?g:"surfaceSecondary";return(0,o.jsx)(n.Box,Object.assign({importantForAccessibility:"no-hide-descendants",alignSelf:S,backgroundColor:_,borderColor:h,borderWidth:m,padding:"size120"},p,{children:(0,o.jsx)(a.BodyText,{style:u.text,allowFontScaling:!1,children:d})}))};const o=i(785893),n=i(344175),r=i(925890),a=i(262725),s=i(496409)},192392:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.jsx)(n.Column,{space:"size80",padding:"size120",backgroundColor:"surfacePrimary",borderRadius:8,borderWidth:1,borderColor:"dividerPrimary",children:s.map(((t,i)=>(0,o.jsx)(r.Message,{text:(0,a.getString)(t),fromCurrentUser:i>1,userColor:e.userColor,mode:e.mode,isFlipped:e.isFlipped},`message-${i}`)))})};const o=i(785893),n=i(344175),r=i(203759),a=i(704704),s=["ColorThemeDialog.ClassicThemeBubble1","ColorThemeDialog.ClassicThemeBubble2","ColorThemeDialog.ClassicThemeBubble3"]},282751:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=i(344175),s=i(925890),l=i(704704),c=o.__importDefault(i(381421)),d=["blue","orange","yellow","green","teal","indigo","purple","pink","classic"];t.default=(0,r.memo)((function(e){const t=d.map((t=>function(e,t){const{bubble:i}=(0,s.getSkypeColors)(t,e);return{key:t,colors:[i,i],accessibilityLabel:(0,l.getString)(u[t])}}(e.mode,t))),i=t=>e.onSelectColor(t);return(0,n.jsx)(a.Row,{flexWrap:"wrap",children:t.map((t=>(0,n.jsx)(c.default,{colorKey:t.key,mode:e.mode,accessibilityLabel:t.accessibilityLabel,colors:t.colors,isDisabled:e.isDisabled,isSelected:t.key===e.selectedColorOption,onPress:i},t.key)))})}));const u={classic:"Colors.Classic",blue:"Colors.Blue",orange:"Colors.Orange",yellow:"Colors.Yellow",green:"Colors.Green",teal:"Colors.Teal",indigo:"Colors.Indigo",purple:"Colors.Purple",pink:"Colors.Pink"}},296459:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserColorPicker=t.ThemePreview=void 0;const o=i(197582);var n=i(192392);Object.defineProperty(t,"ThemePreview",{enumerable:!0,get:function(){return o.__importDefault(n).default}});var r=i(282751);Object.defineProperty(t,"UserColorPicker",{enumerable:!0,get:function(){return o.__importDefault(r).default}})},496409:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useMessageStyles=function(e,t,i){const o=(0,n.useMemo)((()=>({borderTopLeftRadius:e?l:0,borderTopRightRadius:l,borderBottomLeftRadius:l,borderBottomRightRadius:e?0:l})),[e]);return{styles:(0,s.useRXStyles)((()=>({text:r.Styles.createTextStyle({color:(0,a.getSkypeColors)(t,i).textPrimary},!1),gradient:r.Styles.createViewStyle(Object.assign({position:"absolute",top:0,left:0,right:0,bottom:0},o),!1)})),[o,i,t]),bubbleRadius:o}};const o=i(197582),n=i(667294),r=o.__importStar(i(516778)),a=i(925890),s=i(964414),l=8},830587:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSwatchAccessibilityLabel=function(e,t,i){return(0,n.useMemo)((()=>function(e,t,i){let o=e;t?o+=", "+r.getString("AccessibilityLabel.Disabled"):i&&(o+=", "+r.getString("Global.SelectedAccessibilityLabel"));return o}(e,t,i)),[e,t,i])};const o=i(197582),n=i(667294),r=o.__importStar(i(704704))},254660:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSwatchStyles=function(e,t){return(0,r.useRXStyles)((i=>({checkmark:o.Styles.createViewStyle({position:"absolute",right:0,bottom:0,marginRight:0},!1),gradient:o.Styles.createViewStyle({width:a,height:a,borderRadius:a/2,borderWidth:1,borderColor:(0,n.getSkypeColors)(e,t).strokeAccent,backgroundColor:i.themeColors.surfaceSecondary},!1)})),[e,t])};const o=i(197582).__importStar(i(516778)),n=i(925890),r=i(964414),a=44},262207:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeThumbnail=t.ThumbnailSize=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=i(26703),l=o.__importDefault(i(11252)),c=i(16549),d=o.__importDefault(i(827361));var u;!function(e){e[e.Default=0]="Default",e[e.Small=1]="Small"}(u||(t.ThumbnailSize=u={}));const p=(0,s.lazyProperties)({thumbnail:()=>r.Styles.createViewStyle({width:130,height:130,borderRadius:10,borderWidth:2,borderColor:c.Color.transparent,paddingHorizontal:10,paddingVertical:24,justifyContent:"space-between",overflow:"visible"}),thumbnailCompact:()=>r.Styles.createViewStyle({width:110,height:110,paddingVertical:14}),thumbnailLight:()=>r.Styles.createViewStyle({backgroundColor:c.Color.white,borderColor:c.Color.gray200}),thumbnailDark:()=>r.Styles.createViewStyle({backgroundColor:c.Color.black}),selectedThumbnail:()=>r.Styles.createViewStyle({borderColor:c.Color.blue}),bubble:()=>r.Styles.createViewStyle({height:21,width:80,borderRadius:4,backgroundColor:c.Color.delphiBubbleColorOther}),bubbleCompact:()=>r.Styles.createViewStyle({width:67}),bubbleWide:()=>r.Styles.createViewStyle({width:90}),bubbleAccessible:()=>r.Styles.createViewStyle({backgroundColor:c.Color.gray400}),bubbleDark:()=>r.Styles.createViewStyle({backgroundColor:c.Color.delphiDarkBubbleColorOther}),bubbleAccessibleDark:()=>r.Styles.createViewStyle({backgroundColor:c.Color.white}),myBubble:()=>r.Styles.createViewStyle({alignSelf:"flex-end",backgroundColor:c.Color.delphiBubbleColorSelfModernize}),myBubbleAccessible:()=>r.Styles.createViewStyle({backgroundColor:c.Color.gray50}),myBubbleDark:()=>r.Styles.createViewStyle({backgroundColor:c.Color.delphiDarkBubbleColorSelf}),myBubbleAccessibleDark:()=>r.Styles.createViewStyle({backgroundColor:c.Color.gray400}),toggle:()=>r.Styles.createViewStyle({position:"absolute",top:-9,right:-9,marginRight:0})});class g extends a.ComponentBase{render(){const e=[p.thumbnail,this.props.compact?p.thumbnailCompact:void 0,this.props.dark?p.thumbnailDark:p.thumbnailLight,this.props.selected?p.selectedThumbnail:void 0],t=[this._renderBubble(0),this._renderBubble(1),this._renderBubble(2)],i=this.props.selected?(0,n.jsx)(l.default,{style:p.toggle,isOn:!0,selectionColor:c.Color.blue,colorThemeOverride:this.props.colorThemeOverride,importantForAccessibility:r.Types.ImportantForAccessibility.NoHideDescendants}):void 0;return(0,n.jsxs)(r.View,{style:[d.default.overflowVisible,this.props.style],children:[(0,n.jsx)(r.Button,{style:e,importantForAccessibility:this.props.importantForAccessibility,accessibilityLabel:this.props.accessibilityLabel,accessibilityTraits:this.props.accessibilityTraits,tabIndex:this.props.tabIndex,activeOpacity:.8,onPress:this.props.onPress,children:t}),i]})}_renderBubble(e){const t=[p.bubble];return 2===e&&t.push(p.bubbleWide),this.props.compact&&t.push(p.bubbleCompact),this.props.highContrast?1===e?t.push(this.props.dark?p.myBubbleAccessibleDark:p.myBubbleAccessible):t.push(this.props.dark?p.bubbleAccessibleDark:p.bubbleAccessible):this.props.dark&&t.push(1===e?p.myBubbleDark:p.bubbleDark),(0,n.jsx)(r.View,{style:t},"bubble"+e)}}t.ThemeThumbnail=g,t.default=g},612851:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=i(26703),l=o.__importStar(i(704704)),c=i(16549),d=o.__importDefault(i(20758)),u=(0,s.lazyProperties)({newLabel:()=>r.Styles.createViewStyle({backgroundColor:c.Color.red,paddingHorizontal:6,borderRadius:8}),newLabelText:()=>r.Styles.createTextStyle({color:c.Color.white,fontSize:d.default.controlFontSize.smallBadge,font:d.default.font.uiDisplayBold})});class p extends a.ComponentBase{render(){return(0,n.jsx)(r.View,{style:[u.newLabel,this.props.style],children:(0,n.jsx)(r.Text,{style:[u.newLabelText],children:l.getString("Global.NewIndicatorUpper")})})}}t.default=p},817063:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(21874)),s=o.__importStar(i(971988)),l=o.__importStar(i(44717)),c=i(848822),d=o.__importStar(i(242561)),u=i(970035),p=i(26703),g=o.__importStar(i(704704)),h=o.__importDefault(i(341126)),m=o.__importStar(i(954225)),S=i(16549),_=o.__importDefault(i(20758)),f=i(641400),y=i(262725),C=i(403396),v=i(596648),b=m.messageTextLineHeight,T=(0,p.lazyProperties)({toastContentContainer:()=>r.Styles.createViewStyle({flexDirection:"row",alignSelf:"stretch",alignItems:"flex-start",justifyContent:"flex-start",paddingHorizontal:10}),toastTextContentContainer:()=>r.Styles.createViewStyle({flex:1,alignItems:"center",justifyContent:"center",marginTop:10,marginHorizontal:10}),toastContent:()=>r.Styles.createViewStyle({flex:1,marginLeft:12,alignSelf:"stretch",justifyContent:"center"}),toastTitle:()=>r.Styles.createTextStyle({color:S.Color.white}),toastMessageContentContainer:()=>r.Styles.createViewStyle({marginTop:2,alignSelf:"stretch",height:b}),toastLastMessageOverrideText:()=>r.Styles.createTextStyle({flex:1,lineHeight:b,color:S.Color.white}),toastTextContainer:()=>r.Styles.createTextStyle({color:S.Color.white,textAlign:"center",backgroundColor:S.Color.transparent}),iconContainer:()=>r.Styles.createViewStyle({height:12,width:17})});class P extends a.default{_renderNotificationContent(){if(!this.state.currentMessage&&!this.state.messageText)return;let e;if(this.state.currentMessage){const t=[_.default.fontStyle.body,T.toastLastMessageOverrideText],i=r.Styles.combine({},t),o={processing:d.ProcessingDefaults.Preview,trimToFirstLine:!0,forceLayoutInRTL:!0,allowLargeEmoticons:!1,renderMedia:!1,mediaPlaceholderIconColor:S.Color.white,numberOfLines:1,message:this.state.currentMessage,textOverrideStyle:i,atMentionStyle:i,atMentionMeOverrideStyle:i,renderSimpleAtMentions:!0};e=(0,n.jsxs)(r.View,{style:T.toastContent,children:[(0,n.jsx)(y.RowTitle,{style:T.toastTitle,numberOfLines:1,children:this.state.headerText}),this._getLastMessageContent(o)]})}else this.state.messageText&&(e=(0,n.jsx)(r.View,{style:T.toastTextContentContainer,children:(0,n.jsx)(y.BodyText,{bold:!0,style:T.toastTextContainer,children:this.state.messageText})}));return(0,n.jsxs)(r.View,{style:T.toastContentContainer,children:[this._getNotificationIcon(),e]})}_getNotificationIcon(){return this.state.toastCreator?(0,n.jsx)(C.UserIcon,{userMri:this.state.toastCreator,size:v.UserIconSize.Size40,useCircleForAgentMask:!0},"userIcon"):this.state.conversationId?(0,n.jsx)(c.ConversationIcon,{conversationId:this.state.conversationId,size:v.ConversationIconSize.Size40}):void 0}_getLastMessageContent(e){if(this.state.currentMessage){let t;if(l.isEncryptedThread(this.state.currentMessage.conversationId))t=(0,n.jsx)(y.BodyText,{style:T.toastTitle,children:g.getString("Notifications.E2eeTextNotificationLabel")});else if(s.isScheduledCallType(this.state.currentMessage.messagetype)){let e;this.state.messageTextIcon&&(e=(0,n.jsx)(r.View,{style:T.iconContainer,children:(0,n.jsx)(u.IconView,{color:S.Color.white,size:f.IconSize.size12,icon:this.state.messageTextIcon})},"placeholderIcon")),t=(0,n.jsxs)(y.BodyText,{style:T.toastTitle,numberOfLines:1,children:[e,this.state.messageText]})}else t=(0,n.jsx)(h.default,{message:this.state.currentMessage,options:e});return(0,n.jsx)(r.View,{style:T.toastMessageContentContainer,children:t})}}}t.default=P},651318:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationPermissionPromptActionButton=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(380157)),a=o.__importDefault(i(540761)),s=o.__importStar(i(516778)),l=i(217041),c=o.__importDefault(i(659938)),d=i(154235),u=i(815146),p=o.__importStar(i(85385)),g=i(26703),h=o.__importDefault(i(921691)),m=i(849487),S=o.__importDefault(i(251733)),_=o.__importDefault(i(660401)),f=i(16549),y=o.__importDefault(i(20758)),C=i(331079),v=(0,g.lazyProperties)({buttonTextStyle:()=>s.Styles.createTextStyle({fontSize:y.default.controlFontSize.smallButton})});class b extends l.ComponentBase{constructor(){super(...arguments),this._displayTracked=!1,this._pressed=!1,this._onPress=()=>{this._pressed=!0;const e=S.default.permissionStatus(C.PermissionType.Notifications);p.track(new m.NotificationsPromptButtonPressed(this.props.origin,e)),r.PermissionStatus.Granted,this._log("permission "+r.PermissionStatus[e]+", prompting"),h.default.initNotificationsAndRequestPermissions().then((e=>{this._onAttemptToChangeNotificationPermissionStatus(e),e!==r.PermissionStatus.Granted&&this._launchSettings()}),this._handlePermissionRequestFailure)},this._handlePermissionRequestFailure=()=>{this._log("NotificationQueueService initialization failed"),this.props.onNotificationPermissionRequestFailed&&this.props.onNotificationPermissionRequestFailed(),this._launchSettings()}}componentDidMount(){super.componentDidMount(),r.default.notificationsPermissionStatus().then((e=>this._status=e)),this._activationSubscription=c.default.subscribeForChanges("NotificationPermissionPromptActionButton",(e=>{switch(e){case s.Types.AppActivationState.Background:this._appBackgrounded=!0;break;case s.Types.AppActivationState.Active:this._appBackgrounded&&(this._appBackgrounded=!1,r.default.notificationsPermissionStatus().then((e=>{this._onAttemptToChangeNotificationPermissionStatus(e)})))}})),this._displayTracked||(p.track(new m.NotificationsPromptEnableButtonDisplayed(this.props.origin)),this._displayTracked=!0)}componentWillUnmount(){super.componentWillUnmount(),this._activationSubscription&&(this._activationSubscription.unsubscribe(),this._activationSubscription=void 0)}render(){var e;return(0,n.jsx)(_.default,{buttonSize:d.SXButtonSize.Small,buttonStyle:d.SXButtonStyle.Custom,textStyleDeprecated:this.props.textStyle||v.buttonTextStyle,style:this.props.style,title:this.props.title,allowTextWrap:!0,buttonConfig:this._getButtonConfig(),onPress:null!==(e=this.props.onPress)&&void 0!==e?e:this._onPress})}_getButtonConfig(){return this.props.buttonConfig?this.props.buttonConfig:{textColor:f.Color.black,backgroundColor:f.Color.white}}_onAttemptToChangeNotificationPermissionStatus(e){this._log("notification permission status changed: "+r.PermissionStatus[e]),this._openSettingsEvent?(e===r.PermissionStatus.Granted&&this._openSettingsEvent.enabledNotifications(),p.track(this._openSettingsEvent),this._openSettingsEvent=void 0,S.default.setPermissionStatus(C.PermissionType.Notifications,e,e,r.PermissionOrigin.NotificationPrompt)):e===r.PermissionStatus.Granted&&S.default.setPermissionStatus(C.PermissionType.Notifications,e,e,r.PermissionOrigin.NotificationPromptExternal),this._status===e&&this._pressed&&(this._pressed=!1),this.props.onAttemptToChangeNotificationPermissionStatus&&this.props.onAttemptToChangeNotificationPermissionStatus(e)}_launchSettings(){this._openSettingsEvent=new m.NotificationsPromptSettingsOpened(this.props.origin),a.default.openAppNotificationsSettings()}_log(e){p.log(u.LogTraceArea.Permissions,"NotificationPermissionPromptActionButton in "+m.NotificationPromptOrigin[this.props.origin]+" area: "+e)}}t.NotificationPermissionPromptActionButton=b},314290:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(815063),a=i(331654),s=i(380157),l=o.__importStar(i(516778)),c=i(344175),d=o.__importDefault(i(453761)),u=o.__importDefault(i(970035)),p=o.__importStar(i(85385)),g=i(26703),h=o.__importStar(i(704704)),m=i(651318),S=i(849487),_=o.__importDefault(i(251733)),f=o.__importDefault(i(960282)),y=o.__importDefault(i(150343)),C=i(16549),v=o.__importDefault(i(20758)),b=i(641400),T=i(331079),P=o.__importDefault(i(48076)),k=i(262725),A=o.__importDefault(i(497910)),I=o.__importDefault(i(827361)),w=o.__importDefault(i(201721)),x=o.__importDefault(i(100357)),N=(0,g.lazyProperties)({container:()=>l.Styles.createViewStyle({paddingVertical:15,paddingHorizontal:15,borderStyle:"solid",borderBottomWidth:1}),containerBottomBorder:()=>l.Styles.createViewStyle({borderBottomWidth:10}),alternativePortraitContent:()=>l.Styles.createViewStyle({alignItems:"center",paddingBottom:20}),desktopContent:()=>l.Styles.createViewStyle({paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:10,marginBottom:5}),blueBackground:()=>l.Styles.createViewStyle({backgroundColor:C.Color.blue}),paragraphMargin:()=>l.Styles.createViewStyle({marginBottom:10}),centeredParagraph:()=>l.Styles.createViewStyle({justifyContent:"center"}),headingRow:()=>l.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",alignItems:"center"}),textHeader:()=>l.Styles.createTextStyle({marginHorizontal:10,textAlign:"center"}),headingRowPortrait:()=>l.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",alignSelf:"stretch",paddingTop:5}),headingRowDesktop:()=>l.Styles.createViewStyle({flexDirection:"row",alignSelf:"stretch",paddingTop:9}),descriptionRow:()=>l.Styles.createTextStyle({textAlign:"center",marginHorizontal:5}),descriptionRowDesktop:()=>l.Styles.createTextStyle({marginHorizontal:12,fontSize:v.default.controlFontSize.subtitle}),button:()=>l.Styles.createViewStyle({marginTop:5}),buttonDesktop:()=>l.Styles.createButtonStyle({marginRight:12}),buttonTextStyle:()=>l.Styles.createTextStyle({fontSize:v.default.controlFontSize.smallButton}),closeButton:()=>l.Styles.createViewStyle({position:"absolute",right:-10,top:-10,padding:10}),closeButtonDesktop:()=>l.Styles.createViewStyle({position:"absolute",right:-3,top:-3,padding:10}),titleIcon:()=>l.Styles.createViewStyle({marginTop:3,marginLeft:12,marginRight:5}),whiteText:()=>l.Styles.createTextStyle({color:C.Color.white}),lightThemeBorder:()=>l.Styles.createViewStyle({borderColor:C.Color.gray50}),darkThemeBorder:()=>l.Styles.createViewStyle({borderColor:C.Color.gray400})});class D extends A.default{constructor(){super(...arguments),this._closeNotificationsPrompt=e=>{this.state.enableWebNotificationPromptCooldown?e!==s.PermissionStatus.Unknown&&e!==s.PermissionStatus.Prompt&&_.default.closeNotificationsPrompt():_.default.closeNotificationsPrompt()},this._onClose=()=>{if(_.default.closeNotificationsPrompt(),this.state.enableWebNotificationPromptCooldown){const e=w.default.getNotificationPromptClosedTimesNoSubscription();w.default.setNotificationPromptClosedTimes(e+1)}p.track(new S.NotificationsPromptClosed(S.NotificationPromptOrigin.ConversationList))}}static containsLargeContent(){return D.getHeadingText().length>100}static getHeadingText(){return h.getString("NotificationsPrompt.Text")}_buildState(e,t){const i=this._getContext().isPresentedInDesktopLeftNav&&!P.default.isTablet();return{isDesktop:i,hideButton:_.default.permissionStatus(T.PermissionType.Notifications)===s.PermissionStatus.Denied,deviceOrientation:i?a.DeviceOrientation.Portrait:f.default.getDeviceOrientation(this._getRootViewId()),enableRefreshedPalette:y.default.getS4LUiFeatures().enableRefreshedPalette,enableWebNotificationPromptCooldown:y.default.isWebNotificationPromptCooldownEnabled()}}componentDidMount(){super.componentDidMount(),r.BrowserEnvironment.supportsNotifications()&&(p.track(new S.NotificationsPromptDisplayed(S.NotificationPromptOrigin.ConversationList)),x.default.setNotificationPromptShow(!0))}componentWillUnmount(){super.componentWillUnmount(),x.default.setNotificationPromptShow(!1)}render(){if(!r.BrowserEnvironment.supportsNotifications())return null;const e=[this._themeStyles.primaryBackgroundColorStyle,this._themeStyles.dividerBorderColorStyle,N.container],t=this.state.deviceOrientation===a.DeviceOrientation.Landscape,i=!t;this.state.isDesktop||e.push(N.containerBottomBorder),e.push(this._useDarkTheme()?N.darkThemeBorder:N.lightThemeBorder),this.state.isDesktop?e.push(N.desktopContent):i&&e.push(N.alternativePortraitContent),this.props.style&&e.push(this.props.style);const o=this.state.isDesktop?[N.paragraphMargin,N.headingRowDesktop]:i?[N.paragraphMargin,N.headingRowPortrait]:[N.headingRow],s=this.state.enableRefreshedPalette?l.Styles.createTextStyle({color:this._themeColors.textOnColor}):N.whiteText;this.state.enableRefreshedPalette?e.push(l.Styles.createViewStyle({backgroundColor:this._themeColors.surfaceInteractive},!1)):e.push(N.blueBackground);const d=this._renderTitleIcon(),u=this._renderCloseButton(),p=D.getHeadingText();let g;if(this.state.isDesktop){const e=[N.paragraphMargin,I.default.flexOne];g=(0,n.jsx)(l.View,{style:e,children:(0,n.jsx)(l.Text,{style:[N.descriptionRowDesktop,s],children:p})})}else if(i){const e=[N.paragraphMargin,N.centeredParagraph];g=(0,n.jsx)(l.View,{style:e,children:(0,n.jsx)(l.Text,{style:[N.descriptionRow,s],numberOfLines:3,ellipsizeMode:"tail",children:p})})}const _=this.state.isDesktop?N.buttonDesktop:t?void 0:N.button,f={textColor:C.Color.black,backgroundColor:C.Color.white},y=this.state.hideButton?void 0:(0,n.jsx)(m.NotificationPermissionPromptActionButton,{origin:S.NotificationPromptOrigin.ConversationList,title:h.getString("NotificationsPrompt.ButtonLabel"),style:_,textStyle:N.buttonTextStyle,buttonConfig:f,onAttemptToChangeNotificationPermissionStatus:this._closeNotificationsPrompt,onNotificationPermissionRequestFailed:this._closeNotificationsPrompt}),v=this._getHeadingVariant(),b=this.state.isDesktop?s:[s,N.textHeader],T=[g,i?y:void 0];return(0,n.jsxs)(l.View,{style:e,children:[(0,n.jsxs)(l.View,{style:o,children:[d,(0,n.jsx)(k.RowTitle,{style:b,children:v}),u,t?y:void 0]}),this.state.isDesktop?(0,n.jsx)(c.Row,{children:T}):T]})}_getHeadingVariant(){const e=this.state.deviceOrientation===a.DeviceOrientation.Landscape;return this.state.isDesktop?h.getString("NotificationsPrompt.HeadingEnableWeb"):e?h.getString("NotificationsPrompt.ShortText"):h.getString("NotificationsPrompt.Heading")}_renderTitleIcon(){if(!this.state.isDesktop)return;const e=this.state.enableRefreshedPalette?this._themeColors.iconOnColor:C.Color.white;return(0,n.jsx)(u.default,{size:b.IconSize.size16,color:e,icon:b.SkypeIcon.Alert,style:N.titleIcon})}_renderCloseButton(){if(this.state.deviceOrientation===a.DeviceOrientation.Landscape)return;const e=this.state.enableRefreshedPalette?this._themeColors.iconOnColor:C.Color.white;return(0,n.jsx)(d.default,{size:b.IconSize.size16,color:e,hoverColor:e,icon:b.SkypeIcon.ClosePanel,style:this.state.isDesktop?N.closeButtonDesktop:N.closeButton,title:h.getString("NotificationsPrompt.CloseButtonTitle"),onPress:this._onClose})}}t.default=D},997996:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CloudsBottomOverlayScreenType=void 0;const o=i(197582),n=i(785893),r=(o.__importStar(i(667294)),o.__importStar(i(317588))),a=i(344175),s=i(206315),l=i(938827);var c;function d(e,t,i){switch(t){case c.WelcomeScreen:return i?r.Collection.CLOUDS_BOTTOM_DARK(e):r.Collection.CLOUDS_BOTTOM_LIGHT(e);case c.LandingPageCardBack:return i?r.Collection.CLOUDS_FRONT_DARK():r.Collection.CLOUDS_FRONT_LIGHT();case c.LandingPageCardFront:return i?r.Collection.CLOUDS_BACK_DARK():r.Collection.CLOUDS_BACK_LIGHT();default:return r.Collection.CLOUDS_BOTTOM(e)}}!function(e){e[e.IllustrationScreen=0]="IllustrationScreen",e[e.WelcomeScreen=1]="WelcomeScreen",e[e.LandingPageCardBack=2]="LandingPageCardBack",e[e.LandingPageCardFront=3]="LandingPageCardFront"}(c||(t.CloudsBottomOverlayScreenType=c={}));t.default=e=>{var t,i,o,r;const{mode:c}=(0,s.useSkypeTheme)(),u=null!==(i=null===(t=e.themeOverride)||void 0===t?void 0:t.isDark)&&void 0!==i?i:c.isDark,p={preserveAspectRatio:null!==(o=e.preserveAspectRatio)&&void 0!==o?o:"xMidYMin slice",height:"100%",width:"100%",fill:u?l.SkypeColor.darkCloudsColor:l.SkypeColor.white};return(0,n.jsx)(a.Center,{bottom:0,left:0,right:0,display:"flex",height:null!==(r=e.height)&&void 0!==r?r:150,position:"absolute",flexDirection:"column",children:(0,n.jsx)(a.Box,{display:"flex",justifyContent:"center",width:"100%",flexGrow:1,children:d(p,e.cloudsType,u)})})}},96397:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CloudsMiddleOverlay=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(317588)),s=i(344175),l=i(26703),c=i(206315),d=(0,l.lazyProperties)({cloud:()=>r.Styles.createViewStyle({flexGrow:1,alignSelf:"stretch"})});t.CloudsMiddleOverlay=({isLandscape:e})=>{const{mode:t}=(0,c.useSkypeTheme)();return(0,n.jsxs)(s.Center,{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",children:[(0,n.jsx)(u,{width:e?"25%":"56%",align:"right",source:t.isDark?a.Collection.CLOUD_RIGHT_DARK:a.Collection.CLOUD_RIGHT_LIGHT}),(0,n.jsx)(u,{width:e?"22%":"53%",align:"left",source:t.isDark?a.Collection.CLOUD_LEFT_DARK:a.Collection.CLOUD_LEFT_LIGHT})]})};const u=({width:e,align:t,source:i})=>{const o="left"===t?"flex-start":"right"===t?"flex-end":"center";return(0,n.jsx)(s.Box,{display:"flex",alignItems:o,justifyContent:"center",width:"100%",flexGrow:1,children:(0,n.jsx)(s.Box,{display:"flex",flexDirection:"column",width:e,flexGrow:1,children:(0,n.jsx)(r.Image,{source:i,style:d.cloud,resizeMode:"contain"})})})}},379808:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(854646),s=i(217041),l=o.__importDefault(i(734468)),c=i(26703),d=o.__importDefault(i(252089)),u=i(16549),p=o.__importDefault(i(20758)),g=o.__importDefault(i(827361)),h=(0,c.lazyProperties)({gradientView:()=>r.Styles.createViewStyle({borderRadius:10,alignItems:"center",justifyContent:"center"}),overlayText:()=>r.Styles.createTextStyle({color:u.Color.white,font:p.default.font.uiDisplayBold,fontSize:p.default.fontSize.size18})});class m extends s.ComponentBase{_buildState(e,t){return{gradientColors:e.conversationId?l.default.getGradientColors(e.conversationId):d.default.getGradientColors()}}render(){return(0,n.jsx)(r.View,{ignorePointerEvents:!0,style:g.default.absoluteFill,children:(0,n.jsx)(a.GradientView,{style:[g.default.absoluteFill,h.gradientView],colors:this.state.gradientColors,direction:a.GradientDirection.BOTTOM_RIGHT,children:(0,n.jsx)(r.Text,{style:h.overlayText,children:this.props.label})})})}}t.default=m},535055:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorfulGradientOverlay=function({withShadeGradient:e=!0}){const{themeColors:t,mode:i}=(0,l.useSkypeTheme)(),o=i.isDark?c.SkypeColor.black0p:c.SkypeColor.white0p,u=[t.surfacePrimary,t.surfacePrimary,o,o,o];if(i.isAccessible)return null;return(0,n.jsxs)(a.Box,{position:"absolute",top:0,bottom:0,left:0,right:0,children:[(0,n.jsx)(r.GradientView,{colors:d,direction:r.GradientDirection.BOTTOM_LEFT,ignorePointerEvents:!0,style:s.default.absoluteFill}),e&&(0,n.jsx)(r.GradientView,{colors:u,direction:r.GradientDirection.BOTTOM,ignorePointerEvents:!0,style:s.default.absoluteFill})]})};const o=i(197582),n=i(785893),r=i(854646),a=i(344175),s=o.__importDefault(i(827361)),l=i(206315),c=i(79710),d=[c.SkypeColor.colorfulBackgroundGradientStop0,c.SkypeColor.colorfulBackgroundGradientStop1,c.SkypeColor.colorfulBackgroundGradientStop2]},336009:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(46209)),s=o.__importDefault(i(970035)),l=i(26703),c=o.__importStar(i(704704)),d=i(16549),u=i(641400),p=i(262725),g=o.__importDefault(i(497910)),h=o.__importDefault(i(139221)),m=(0,l.lazyProperties)({overlayPanel:()=>r.Styles.createViewStyle({alignSelf:"stretch",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:d.Color.whiteOverlay90}),overlayPanelDarkTheme:()=>r.Styles.createViewStyle({backgroundColor:d.Color.blackOverlay70}),overlayPanelDashedInner:()=>r.Styles.createViewStyle({flex:1,flexDirection:"row",alignSelf:"stretch",alignItems:"center",justifyContent:"center",margin:10,borderColor:d.Color.gray300,borderWidth:2,borderStyle:"dashed"}),messageContainer:()=>r.Styles.createViewStyle({flex:-1,flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:20}),messageText:()=>r.Styles.createTextStyle({flex:-1,color:d.Color.gray400,marginLeft:10}),messageTextDarkTheme:()=>r.Styles.createTextStyle({color:d.Color.gray100})});class S extends g.default{render(){const e=[m.messageText],t=[m.overlayPanel],i=this._useDarkTheme();i&&(e.push(m.messageTextDarkTheme),t.push(m.overlayPanelDarkTheme));let o=c.getString("DragAndDrop.FileUploadMessage");return this._canShowDragContacts()&&(o=c.getString("DragAndDrop.FileUploadOrContactShareMessage")),(0,n.jsx)(r.View,{style:t,ignorePointerEvents:!0,children:(0,n.jsx)(r.View,{style:m.overlayPanelDashedInner,children:(0,n.jsxs)(r.View,{style:m.messageContainer,children:[(0,n.jsx)(s.default,{icon:u.SkypeIcon.Media,size:u.IconSize.size24,color:i?d.Color.gray100:d.Color.gray400}),(0,n.jsx)(p.Header,{size:5,style:e,children:o})]})})})}_canShowDragContacts(){return a.default.isDragAndDropContactsEnabled()&&!h.default.isEdgeShoreline()}}t.default=S},400845:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({text:e,variant:t="regular",size:i="sm",isHovering:o}){const{gradients:{primary:d}}=(0,s.useSkypeTheme)(),{textStyle:u,container:p}=(0,l.useStyles)({size:i,isHovering:o}),g="branded"===t?(0,n.jsx)(r.Gradient,{direction:r.Direction.bottomRight,colors:d,style:p}):null,h=(0,c.default)(t,o);return(0,n.jsxs)(r.Box,{backgroundColor:h,style:p,children:[g,(0,n.jsx)(a.Text,{style:u,children:e})]})};const o=i(197582),n=i(785893),r=i(344175),a=i(537180),s=i(206315),l=i(500602),c=o.__importDefault(i(193622))},93193:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Pill=void 0;const o=i(197582);var n=i(400845);Object.defineProperty(t,"Pill",{enumerable:!0,get:function(){return o.__importDefault(n).default}})},958876:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e&&t}},193622:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{mode:{isAccessible:i}}=(0,n.useSkypeTheme)();if((0,r.default)(i,t))return"surfacePrimary";return"branded-flat"===e?"surfaceInteractive":"surfaceTertiary"};const o=i(197582),n=i(206315),r=o.__importDefault(i(958876))},500602:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=function({size:e,isHovering:t}){return(0,n.useSUIThemeStyles)((({colors:{textOnColor:i,dividerPrimary:o,textPrimary:n},mode:{isAccessible:d,isDark:u}})=>({textStyle:{color:(0,a.default)(d,t)||u&&!d?n:i,fontSize:s[e],fontWeight:"400",fontFamily:r.default.fontFamily.uidDisplayBold},container:{borderWidth:d?1:0,borderColor:d?o:void 0,borderRadius:l[e],paddingHorizontal:c[e],paddingVertical:c[e]/2,alignItems:"center",justifyContent:"center"}})),[e,t])};const o=i(197582),n=i(344175),r=o.__importDefault(i(20758)),a=o.__importDefault(i(958876));const s={sm:10,md:12,lg:14},l={sm:12,md:16,lg:20},c={sm:n.Spacing.size80,md:n.Spacing.size120,lg:n.Spacing.size160}},428258:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(667294),r=i(785893),a=i(667294),s=o.__importDefault(i(665451)),l=o.__importStar(i(812822)),c=o.__importDefault(i(326402)),d=o.__importDefault(i(184457)),u=i(413983),p=i(146356),g=(0,a.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(152336)))))),h=(0,a.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(253413)))))),m=(0,a.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(640847)))))),S=(0,a.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(78451)))))),_=(0,a.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(44035)))))),f=(0,a.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(481121)))))),y=(0,a.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(417988))))));t.default=class{static renderComponent(e,t,i){let o;return e instanceof l.GalleryNavigationContext?o=(0,r.jsx)(m,Object.assign({},t,{conversationId:e.state.conversationId,viewMode:e.state.viewMode,callId:e.state.callId,parentConversationId:e.state.parentConversationId,onClose:e.state.onClose})):e instanceof l.FindPanelNavigationContext?o=(0,r.jsx)(y,Object.assign({conversationId:e.state.conversationId,overflowActionConfig:e.state.overflowActionConfig,onFindComplete:e.state.onFindComplete,showHeader:!0},t),"find"):e instanceof l.LocationPickerContext?o=(0,r.jsx)(f,Object.assign({conversationId:e.state.conversationId},t),"location"):e instanceof l.InAppBrowserNavigationContext?o=(0,r.jsx)(g,{route:{params:{origin:e.state.origin,url:e.state.url,integrationCorrelationId:e.state.integrationCorrelationId,headers:e.state.headers,injectedJavaScript:e.state.injectedJavaScript,onNavigationStateChange:e.state.onNavigationStateChange,onClose:i,onShareComplete:e.state.onShareComplete,onWebViewClose:e.state.onWebViewClose,onMessage:e.state.onMessage,hideHeaderTitle:e.state.hideHeaderTitle,headerTitle:e.state.headerTitle,enableSearchHeader:e.state.enableSearchHeader,showDesktopShareButton:e.state.showDesktopShareButton,usePredeterminedHeaderTitle:e.state.usePredeterminedHeaderTitle,conversationId:e.state.conversationId,messageId:e.state.messageId,suggestionAttributes:e.state.suggestionAttributes,openIntegrationScenario:e.state.perfScenario,useBingMiniCanvas:e.state.useBingMiniCanvas,onExternalShare:e.state.onExternalShare,forceInAppViewer:e.state.forceInAppViewer,useBrowserActionInHeader:e.state.useBrowserActionInHeader,beforeOpenBrowser:e.state.beforeOpenBrowser,onSuccesfulOpenBrowser:e.state.onSuccesfulOpenBrowser,onSuccessfulShare:e.state.onSuccessfulShare,shareSameSession:e.state.shareSameSession,renderWebViewComponent:e.state.renderWebViewComponent,onOpen:e.state.onOpen}}},"browser"):e instanceof s.default.AddinNavigationContext?o=s.default.AddinStackNavigator.renderSceneContent(e,t):e instanceof d.default.NavigationContext.ScheduleCallNavigationContext?o=d.default.StackNavigator.renderSceneContent(e,t):e instanceof c.default.NavigationContext.PollNavigationContext?o=c.default.StackNavigator.renderSceneContent(e,t):e instanceof l.ConversationInCallNavigationContext?o=(0,n.createElement)(h,Object.assign({},t,{key:"callConversationPanel",conversationId:e.state.conversationId,callId:e.state.callId,onClose:e.state.onClose})):e instanceof l.SubtitlesNavigationContext?o=(0,r.jsx)(S,Object.assign({callId:e.state.callId,conversationMri:e.state.conversationMri,reactionsMri:e.state.reactionMri},t),"callTranscriptionPanelView"):e instanceof l.CallingDebugPanelNavigationContext?o=(0,r.jsx)(_,{route:{params:{callId:e.state.callId||"",nativeWindow:e.state.nativeWindow||!1}}}):e instanceof u.ImageGenerationNavigationContext&&(o=(0,r.jsx)(p.ImageGenerationNavigation,{route:{params:Object.assign(Object.assign({},t),e.state)}})),(0,r.jsx)(a.Suspense,{fallback:null,children:o})}}},314303:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(859745)),s=o.__importStar(i(516778)),l=i(537180),c=o.__importStar(i(170881)),d=o.__importStar(i(800662)),u=i(26703),p=o.__importDefault(i(760989)),g=o.__importDefault(i(139221)),h=i(812822),m=o.__importDefault(i(150343)),S=o.__importDefault(i(48076)),_=o.__importDefault(i(740794)),f=o.__importDefault(i(960282)),y=o.__importDefault(i(117475)),C=o.__importStar(i(322094)),v=o.__importStar(i(85385)),b=i(154235),T=i(815146),P=i(16549),k=i(20107),A=o.__importDefault(i(633958)),I=o.__importDefault(i(428258)),w=o.__importDefault(i(827361)),x=o.__importDefault(i(497910)),N=o.__importDefault(i(97595)),D=o.__importDefault(i(601274)),M=b.SideBarWidths.base,L=(0,u.lazyProperties)({absoluteStyle:()=>s.Styles.createViewStyle({position:"absolute",top:0,bottom:0}),flyoutContainer:()=>s.Styles.createViewStyle({left:0,width:M,flex:0,flexDirection:"column",borderLeftWidth:2,borderStyle:"solid",borderColor:P.Color.gray50}),flyoutInnerUnspecified:()=>s.Styles.createViewStyle({flex:1,minWidth:M,alignSelf:"stretch",borderLeftWidth:2,borderStyle:"solid",borderColor:P.Color.gray50}),flyoutInnerPreview:()=>s.Styles.createViewStyle({borderLeftWidth:2,borderStyle:"solid",borderColor:P.Color.gray50}),flyoutContainerNarrow:()=>s.Styles.createViewStyle({right:0,left:0}),floating:()=>s.Styles.createViewStyle({right:0}),floatingShadow:()=>s.Styles.createViewStyle({shadowOffset:{height:0,width:0},shadowRadius:16,shadowColor:P.Color.blackOverlay20}),floatingNarrow:()=>s.Styles.createViewStyle({right:0,left:0}),animatedRightPanelContainer:()=>s.Styles.createViewStyle({alignSelf:"stretch"}),fixedWidth:()=>s.Styles.createViewStyle({width:M}),dragHandle:()=>s.Styles.createViewStyle({position:"absolute",top:0,left:-10,bottom:0,width:20,backgroundColor:P.Color.transparent}),elevationAndroid:()=>s.Styles.createViewStyle({elevation:6})});class R extends x.default{constructor(){super(...arguments),this._wrapperWidthValue=new s.Animated.Value(0),this._wrapperWidthStyle=s.Styles.createAnimatedViewStyle({width:this._wrapperWidthValue}),this._contentWidthValue=new s.Animated.Value(0),this._contentWidthStyle=s.Styles.createAnimatedViewStyle({width:this._contentWidthValue}),this._rightPanelXValue=this._calculateRightPanelXValue(M),this._rightPanelXStyle=this._createRightPanelXStyle(this._rightPanelXValue),this._rightPanelOpacityValue=new s.Animated.Value(0),this._rightPanelOpacityStyle=s.Styles.createAnimatedViewStyle({opacity:this._rightPanelOpacityValue}),this._mainViewRefCallback=e=>{this._mainView=e||void 0},this.handleResize=()=>{this.state.isTodayTabOrNewsChannel&&D.default.setTimeout((()=>{var e,t;const i=this._resolveSidebarWidth((null===(t=null===(e=this.state)||void 0===e?void 0:e.renderedNavContext)||void 0===t?void 0:t.state.sidebarSize)||k.RightSidebarSize.Regular);this._wrapperWidthValue.setValue(i),this._contentWidthValue.setValue(i)}),30)},this.onPan=(e,t)=>{let i=e.pageX-e.initialPageX;if(this._getContext().isRTL?i>0&&(i=0):i<0&&(i=0),this._rightPanelXValue.setValue(i),e.isComplete){let o=!1;o=this._getContext().isRTL?e.velocityX<-.1||i<M/2*-1:e.velocityX>.1||i>M/2,o?this._closeRightPanel(t):this._openRightPanel()}},this._resolveSidebarWidth=e=>{const t=window.innerWidth;let i=b.SideBarScreenSplits.extendedSplitScreenWidth,o=b.SideBarScreenSplits.extendedSidebarWidth;switch(e){case k.RightSidebarSize.Fullscreen:i=b.SideBarScreenSplits.extendedSplitScreenWidth,o=window.innerWidth-b.SideBarWidths.base-.5;break;case k.RightSidebarSize.Large:i=b.SideBarScreenSplits.extendedSplitScreenWidth,o=b.SideBarScreenSplits.extendedSidebarWidth;break;case k.RightSidebarSize.Regular:i=b.SideBarScreenSplits.defaultSplitScreenWidth,o=b.SideBarScreenSplits.defaultSidebarWidth}return t<i&&(o=window.innerWidth-b.SideBarWidths.base-.5),t<b.SideBarScreenSplits.minScreenWidth&&(o=window.innerWidth),o},this._isRestrictedFocus=()=>{const e=this._isRightPanelVisible(this.props),t=this._isFlyoutFloating(this.props,this.state);return e&&t},this._onPanDragHandle=e=>{let t;t=this._isDragging?e.pageX-this._currentDragX:e.pageX-e.initialPageX,this._currentDragX=e.pageX,this._currentWidth-=t,this._currentWidth<b.SideBarWidths.base?this._currentWidth=b.SideBarWidths.base:this._currentWidth>b.SideBarWidths.maxRight&&(this._currentWidth=b.SideBarWidths.maxRight),this._contentWidthValue.setValue(this._currentWidth),e.isComplete?(this._expandedWidth=this._currentWidth,C.default.putWidth(C.SideBar.Right,this._expandedWidth),this.state.resizeOnCommit&&this._wrapperWidthValue.setValue(this._currentWidth),this._setIsDragging(!1)):this._isDragging||this._setIsDragging(!0)},this._onEscapeKey=()=>{const e=p.default.newCauseId();return v.log(T.LogTraceArea.Navigation,"RightSidebarView._onKeyUp, causeId: "+e),_.default.closeRightPanel(e,this._getRootViewId()),!0},this._openRightPanel=()=>{c.dismissAll();const e=this.state.renderedNavContext;let t;const i=()=>{t&&this._contentWidthValue.setValue(t),this.isComponentMounted()&&this.setState({renderedNavContext:e})};if(this.state.useTabletUI)this._animateRightPanel(this._rightPanelXValue,0,!0,!0,i),t=this._currentWidth,this._contentWidthValue.setValue(this._currentWidth),this.state.resizeOnCommit&&this._wrapperWidthValue.setValue(this._currentWidth),this._rightPanelOpacityValue.setValue(1);else if(this.state.isMinDesktopSize)this._animateRightPanel(this._rightPanelOpacityValue,1,!0,!1,i),t=this.state.windowWidth,this._contentWidthValue.setValue(this.state.windowWidth),this.state.resizeOnCommit&&this._wrapperWidthValue.setValue(this.state.windowWidth),this._rightPanelXValue.setValue(0);else{const e=!!this.props.suppressAnimation&&!this._isFlyoutFloating(this.props,this.state);this.state.resizeOnCommit?(t=this._currentWidth,this._contentWidthValue.setValue(this._currentWidth),this._animateRightPanel(this._wrapperWidthValue,this._currentWidth,!e,!1,i)):this._animateRightPanel(this._contentWidthValue,this._currentWidth,!e,!1,i),this._rightPanelOpacityValue.setValue(1),this._rightPanelXValue.setValue(0)}},this._closeRightPanel=e=>{this._intCloseRightPanel((()=>{e&&e(),this.isComponentMounted()&&this.setState({viewMode:h.RightSidebarViewMode.None,renderedNavContext:void 0}),d.setFocus(d.FocusEvent.CloseRightPanel)}))},this._intCloseRightPanel=e=>{if(this.state.useTabletUI)this._animateRightPanel(this._rightPanelXValue,R._xValue(M+20),!0,!0,e),this._contentWidthValue.setValue(0),this.state.resizeOnCommit&&this._wrapperWidthValue.setValue(0),this._rightPanelOpacityValue.setValue(0);else if(this.state.isMinDesktopSize)this._animateRightPanel(this._rightPanelOpacityValue,0,!0,!1,e),this._contentWidthValue.setValue(0),this.state.resizeOnCommit&&this._wrapperWidthValue.setValue(0),this._rightPanelXValue.setValue(R._xValue(M));else{const t=!!this.props.suppressAnimation&&!this._isFlyoutFloating(this.props,this.state);this.state.resizeOnCommit?this._animateRightPanel(this._wrapperWidthValue,0,!t,!1,(()=>{this._contentWidthValue.setValue(0),e()})):this._animateRightPanel(this._contentWidthValue,0,!t,!1,e),this._rightPanelOpacityValue.setValue(0),this._rightPanelXValue.setValue(R._xValue(M))}},this._onInAppWebBrowserClose=()=>{if(this.state.renderedNavContext instanceof h.InAppBrowserNavigationContext){const e=this.state.renderedNavContext;e.state.onInAppWebBrowserClose&&e.state.onInAppWebBrowserClose(),this._onClose()}return!1},this._onClose=()=>{const e=p.default.newCauseId();v.log(T.LogTraceArea.Navigation,"RightSidebarView._onClose, causeId: "+e),_.default.closeRightPanel(e,this._getRootViewId())}}_buildState(e,t){const i=this._getRootViewId(),o=S.default.isTabletUI(),n=C.default.resizingEnabled(C.SideBar.Right),a={windowWidth:f.default.getWidth(i),isMinDesktopSize:f.default.isMinDesktopWidth(i),useTabletUI:o,forceFloat:o,isResizeable:n,resizeOnCommit:n,topPadding:o?y.default.statusBarHeight():0,enableRefreshedPalette:m.default.getS4LUiFeatures().enableRefreshedPalette};if(e.stackNavContext){const t=e.stackNavContext.getNavStack();t.length>0&&(a.renderedNavContext=r.last(t))}if(a.renderedNavContext&&a.renderedNavContext instanceof h.InAppBrowserNavigationContext&&[T.BrowserOrigin.TodayTabNewsArticle,T.BrowserOrigin.NewsChannel].includes(a.renderedNavContext.state.origin)){const e=a.renderedNavContext&&a.renderedNavContext instanceof h.InAppBrowserNavigationContext?a.renderedNavContext.state.sidebarSize:k.RightSidebarSize.Regular,t=this._resolveSidebarWidth(e);this._expandedWidth=t,this._currentWidth=t,a.disableResizablePane=!0,a.isTodayTabOrNewsChannel=!0}else{const e=a.renderedNavContext&&a.renderedNavContext instanceof h.InAppBrowserNavigationContext&&a.renderedNavContext.state.useBingMiniCanvas?b.SideBarWidths.miniCanvasRight:b.SideBarWidths.base;this._expandedWidth=Math.max(e,C.default.getWidth(C.SideBar.Right)),this._currentWidth=this._expandedWidth,a.disableResizablePane=!1,a.isTodayTabOrNewsChannel=!1}return t&&(this._currentDragX=0,this._isDragging=!1),a}_calculateRightPanelXValue(e){return new s.Animated.Value(R._xValue(e+20))}_createRightPanelXStyle(e){return s.Styles.createAnimatedViewStyle({transform:[{translateX:e}]})}_isFlyoutFloating(e,t){if(t.forceFloat)return!0;return this._getAvailableWidth(e,t)<500&&!t.isMinDesktopSize}_getAvailableWidth(e,t){return t.windowWidth-M-(e.leftNavCollapsedOrHidden?0:C.default.getWidthNoSubscription())}render(){const e=[L.animatedRightPanelContainer];let t=[L.absoluteStyle],i=!1;if(this.state.useTabletUI){const i=[];if(this.state.isTodayTabOrNewsChannel){const e=this._getAvailableWidth(this.props,this.state)+M,o=s.Styles.createViewStyle({width:e}),n=this._calculateRightPanelXValue(e),r=this._createRightPanelXStyle(n);this._rightPanelXValue=n;const a=s.Styles.createViewStyle({left:0,width:e,flex:0,flexDirection:"column",borderLeftWidth:2,borderStyle:"solid",borderColor:P.Color.gray50});i.push(o),i.push(r),t.push(a)}else i.push(L.fixedWidth),i.push(this._rightPanelXStyle),t.push(L.flyoutContainer);e.push(L.absoluteStyle,L.floating,L.floatingShadow,...i)}else this.state.isMinDesktopSize?(e.push(this._rightPanelOpacityStyle,L.absoluteStyle),this._isRightPanelVisible(this.props)&&e.push(L.floatingNarrow),t.push(L.flyoutContainerNarrow)):(this.state.isResizeable?(i=!!this.state.renderedNavContext,this.state.resizeOnCommit?(e.push(this._wrapperWidthStyle,w.default.overflowVisible),t=[L.absoluteStyle,L.flyoutInnerPreview,this._contentWidthStyle],this._isDragging&&t.push(L.floating,L.floatingShadow)):(e.push(this._contentWidthStyle),t=[L.flyoutInnerUnspecified])):(e.push(this._contentWidthStyle),t.push(L.flyoutContainer)),this._isFlyoutFloating(this.props,this.state)&&(e.push(L.absoluteStyle,L.floating),this.state.resizeOnCommit?t.push(L.floatingShadow):e.push(L.floatingShadow)));this.props.mainStageNavigationViewUsesShadow,this._useDarkDivider()&&t.push(this._themeStyles.headerShadowBorderColorStyle),this.state.enableRefreshedPalette&&t.push(s.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfacePrimary},!1));const o=i?(0,n.jsx)(s.GestureView,{style:L.dragHandle,preferredPan:s.Types.PreferredPanGesture.Horizontal,onPanHorizontal:this._onPanDragHandle,mouseOverCursor:s.Types.GestureMouseCursor.EWResize}):void 0,r=(0,n.jsx)(s.Animated.View,{style:t,restrictFocusWithin:this._isRestrictedFocus(),ref:this._mainViewRefCallback,children:this._renderRightPanelContent()});return(0,n.jsx)(s.Animated.View,{style:e,children:(0,n.jsxs)(A.default,{isPresentedInDesktopSubview:!0,isPresentedInDesktopRightNav:!0,children:[r,!this.state.disableResizablePane&&o]})},"container"+this.state.useTabletUI)}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),g.default.isElectronOsx()&&N.default.addEscapeHandler(this._onEscapeKey)}componentDidMount(){super.componentDidMount(),this._isRightPanelVisible(this.props)?this._openRightPanel():this._mainView&&this._mainView.setFocusRestricted(!1),this._dimensionsHandler=l.Dimensions.addEventListener("change",this.handleResize)}componentWillUnmount(){super.componentWillUnmount(),N.default.removeEscapeHandler(this._onEscapeKey),this._dimensionsHandler.remove()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i);const o=this._isRightPanelVisible(e),n=this._isRightPanelVisible(this.props),r=this._isFlyoutFloating(this.props,this.state);this._mainView&&this._mainView.setFocusRestricted(this._isRestrictedFocus()),n&&!o&&this._openRightPanel(),n&&o&&t.isMinDesktopSize&&this._openRightPanel(),!n&&o&&this._closeRightPanel(),C.default.putRightSideBarFloating(r)}_setIsDragging(e){this._isDragging!==e&&(this._isDragging=e,this.state.resizeOnCommit&&this.forceUpdate())}_renderRightPanelContent(){const e={isPresentedInDesktopSubview:!0,isPresentedInDesktopRightNav:!0,topPadding:this.state.topPadding,onClose:this._onClose};return I.default.renderComponent(this.state.renderedNavContext,e,this.state.renderedNavContext instanceof h.InAppBrowserNavigationContext?this._onInAppWebBrowserClose:void 0)}_useDarkDivider(){return this._useDarkTheme()||this._isPresentedInTabletRightNav()}_isRightPanelVisible(e){return!!e.stackNavContext&&e.stackNavContext.getNavStack().length>0}_animateRightPanel(e,t,i,o,n){this._rightPanelAnimation&&this._rightPanelAnimation.stop(),i?(this._rightPanelAnimation=s.Animated.timing(e,{toValue:t,easing:a.Easing.SkypeExpoInOut5,duration:a.Common.Duration.Default,useNativeDriver:o}),this._rightPanelAnimation.start((()=>{this.isComponentMounted()&&(this._rightPanelAnimation=void 0,n&&n())}))):(e.setValue(t),n&&n())}static _xValue(e){return e*(g.default.isRTL()?-1:1)}}t.default=R},643349:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(815063),s=o.__importDefault(i(883596)),l=i(380157),c=o.__importDefault(i(695751)),d=o.__importDefault(i(111878)),u=i(184810),p=(i(720415),i(859745)),g=o.__importStar(i(516778)),h=i(217041),m=i(537180),S=i(344175),_=i(843952),f=o.__importDefault(i(150343)),y=o.__importDefault(i(13816)),C=o.__importStar(i(265801)),v=o.__importDefault(i(369347)),b=i(843890),T=o.__importDefault(i(266311)),P=i(154235),k=o.__importDefault(i(471113)),A=i(19831),I=i(815146),w=o.__importStar(i(85385)),x=i(26703),N=o.__importStar(i(704704)),D=o.__importDefault(i(271762)),M=o.__importDefault(i(503411)),L=o.__importDefault(i(931688)),R=o.__importDefault(i(942724)),E=o.__importDefault(i(251733)),B=o.__importDefault(i(449983)),O=o.__importDefault(i(117475)),F=o.__importStar(i(506082)),V=o.__importDefault(i(525864)),U=i(375258),j=o.__importDefault(i(692773)),H=(o.__importDefault(i(38670)),o.__importStar(i(446574))),W=(o.__importDefault(i(655192)),i(16549)),z=o.__importDefault(i(139221)),G=i(331079),K=o.__importDefault(i(827361)),q=o.__importDefault(i(48076)),Q=o.__importStar(i(972830)),X=o.__importDefault(i(266872)),$=o.__importDefault(i(601274)),J=(o.__importStar(i(305360)),i(461967)),Y=o.__importDefault(i(220534)),Z=o.__importDefault(i(760989)),ee=i(844086),te=o.__importDefault(i(128249)),ie=i(513835),oe=(0,x.lazyProperties)({lightBackground:()=>g.Styles.createViewStyle({backgroundColor:W.Color.white}),darkBackground:()=>g.Styles.createViewStyle({backgroundColor:W.Color.darkThemeBackground}),fillScreen:()=>g.Styles.createViewStyle({flex:1,alignSelf:"stretch",flexDirection:"column"}),loadingScreen:()=>g.Styles.createViewStyle({position:"absolute",top:0,left:0,right:0,bottom:0,paddingTop:20,backgroundColor:W.Color.white})}),ne=m.StyleSheet.create({eventsListener:{flex:1}}),re="upgradealertdialog",ae="ShorelineRootHistoryState";class se extends h.ComponentBase{constructor(){super(...arguments),this._animateSplashScreenStarted=!1,this._shouldOpenForceUpgradeLinkExternalWindow=e=>{const t=f.default.getConfigSettings().helpGoParam.upgradeLearnMore+"/";return Y.default.removeHost(e)===t},this._onSplashScreenRef=e=>{this._splashScreen=e||void 0},this._onUpgradeDialogOkButtonClick=()=>{this._dismissUpgradeAlertDialog(),C.openAppStore()},this._onUpgradeDialogCancelButtonClick=()=>{this._dismissUpgradeAlertDialog()}}_buildState(e,t){const i=f.default.getS4LFeatures(),o=q.default.isTabletUI(),n={startupComplete:F.default.getStartupUIState()===F.StartupUIState.StartupComplete,incomingCallIds:v.default.CallingStore.getIncomingCallIds(),uiShown:F.default.isUIDisplayed(),isShowingCustomActionMenu:k.default.isCustomActionMenuShown(),useMobileCustomActionMenu:R.default.isUsingStackNavigationContext()||o,bottomSafeAreaInset:O.default.bottomSafeAreaInset(P.BottomInsetDefault),useTabletUI:o,appActivationState:y.default.getAppState(),darkThemeEnabled:H.HasStarted(X.default)?Q.isDarkTheme(X.default.colorTheme()):e.isDarkThemeActiveCached,theme:X.default.colorTheme()};if(t){a.BrowserEnvironment.isMobile()||g.UserInterface.useCustomScrollbars(),n.showSplashScreen=!n.startupComplete,n.upgradeScreendHasBeenDisplayed=!1}return!n.startupComplete||!t&&this.state.startupComplete||(i.upgrade&&i.upgrade.noticeUrl&&(n.shouldForceUpgrade=!0,w.log(I.LogTraceArea.RootAppView,"Displaying force upgrade screen on initial startup")),n.cameraRollGranted=E.default.permissionStatus(G.PermissionType.CameraRoll)===l.PermissionStatus.Granted),i.upgrade&&(n.upgradeUrl=i.upgrade.noticeUrl,n.upgradeRequired=i.upgrade.required),!this._hasRingsForState(n)&&this._presentingIncomingCallId&&(w.log(I.LogTraceArea.RootAppView,"No incoming ring, clearing ring"),this._presentingIncomingCallId=void 0),g.UserInterface.setNativeFocusOutlineEnabled(!1),n}componentDidMount(){super.componentDidMount();const e=Z.default.newCauseId();w.log(I.LogTraceArea.RootAppView,"componentDidMount causeId: "+e),this.state.startupComplete&&this._startAnimateSplashScreen(),this._maybePresentIncomingRing(e),this._maybeShowPartialBrowserSupportToast(e),this.state.cameraRollGranted&&this._preHeatMediaPicker(),M.default.setBottomMarginDefault(this.state.bottomSafeAreaInset),D.default.open(),z.default.isEdgeShoreline()&&"undefined"!=typeof window&&(w.log(I.LogTraceArea.RootAppView,"Adding popstate event listener for Edge Shoreline"),window.history.replaceState(ae,""),window.history.pushState(null,""),window.addEventListener("popstate",this._handlePopState))}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),!this.state.startupComplete&&t.startupComplete&&this._startAnimateSplashScreen()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i);const o=Z.default.newCauseId();w.log(I.LogTraceArea.RootAppView,"componentDidUpdate rings: "+JSON.stringify(this.state.incomingCallIds)+" appState: "+this.state.appActivationState+" causeId: "+o),this._maybePresentIncomingRing(o),this._hasRingsForState(this.state)||this.state.appActivationState===g.Types.AppActivationState.Background||this._checkAndInstallAppUpgrades(o),this._checkElectronForceUpgrade(),this.state.cameraRollGranted&&!t.cameraRollGranted&&this._preHeatMediaPicker(),this.state.bottomSafeAreaInset!==t.bottomSafeAreaInset&&M.default.setBottomMarginDefault(this.state.bottomSafeAreaInset)}componentWillUnmount(){super.componentWillUnmount(),w.log(I.LogTraceArea.RootAppView,"RootAppView componentWillUnmount"),z.default.isEdgeShoreline()&&"undefined"!=typeof window&&window.removeEventListener("popstate",this._handlePopState)}render(){let e=[];e.push((0,n.jsx)(c.default,{window},"customFocusOutline"));const t=this.state.darkThemeEnabled?oe.darkBackground:oe.lightBackground;if(this.state.uiShown){const i=this.state.isShowingCustomActionMenu?g.Types.ImportantForAccessibility.NoHideDescendants:void 0,o=[oe.fillScreen,t];this.state.useTabletUI&&o.push(K.default.overflowVisible),e.push((0,n.jsx)(S.GestureHandlerRootView,{children:(0,n.jsx)(S.BottomSheetProvider,{children:(0,n.jsx)(B.default,{style:o,useTabletUI:this.state.useTabletUI,importantForAccessibility:i},"rootNavView")})},"gestureHandlerRoot"))}if(this.state.showSplashScreen){const t=this._isWebPartnerFlow(),i=N.getString("SignInSignUp.MeetNowMeetingStartup");e.push((0,n.jsx)(j.default,{ref:this._onSplashScreenRef,statusText:t?i:this.props.startupStatusText,showSpinner:!0,darkThemeEnabled:this.state.darkThemeEnabled,showLoginFallback:this.props.showLoginFallback,loginCallback:this.props.loginCallback,errorCode:this.props.errorCode,isPartnerFlow:t},"splashscreen"))}if(this.state.shouldForceUpgrade&&this.state.upgradeUrl&&!this.state.upgradeScreendHasBeenDisplayed){e=[];const t={onPress:()=>{this.setState({shouldForceUpgrade:!1,upgradeScreendHasBeenDisplayed:!0})},closeButtonType:U.CloseButtonType.Close,title:N.getString("Global.CancelLabel")};e.push((0,n.jsxs)(g.View,{style:oe.fillScreen,children:[(0,n.jsx)(U.SimplePanelHeader,{leftButton:this.state.upgradeRequired?void 0:t,hideBottomBorder:!0,panelName:N.getString("RootAppView.Upgrade")}),(0,n.jsx)(g.View,{style:oe.fillScreen,children:(0,n.jsx)(u.WebViewBridge,{style:oe.loadingScreen,url:this.state.upgradeUrl,javaScriptEnabled:!0,ariaLabel:N.getString("RootAppView.Upgrade"),sandbox:g.Types.WebViewSandboxMode.AllowSameOrigin,shouldOpenExternalWindow:this._shouldOpenForceUpgradeLinkExternalWindow})})]},"webViewForUpdate"))}const i=this.state.useMobileCustomActionMenu&&this.state.startupComplete?(0,n.jsx)(L.default,{}):void 0,o=(0,n.jsx)(A.DesktopContextMenuTarget,{},"contextmenuanchor");return e=(0,n.jsx)(ee.KeyboardAvoidingView,{enabled:this.state.useTabletUI,children:e}),(0,n.jsx)(g.View,{style:K.default.flexOne,onLayout:this.props.onLayout,children:(0,n.jsxs)(m.View,{onTouchStart:ie.RootTouchEventsHelper.handleTouchStart,style:ne.eventsListener,children:[(0,n.jsx)(te.default,{statusBarKey:"RootAppView",animated:!0}),o,e,i]})})}_preHeatMediaPicker(){s.default.open().then((e=>{s.default.close(e)}))}_hasRingsForState(e){return!r.isEmpty(e.incomingCallIds)}_checkAndInstallAppUpgrades(e){0}_checkElectronForceUpgrade(){}_startAnimateSplashScreen(){this._animateSplashScreenStarted||(this._animateSplashScreenStarted=!0,w.log(I.LogTraceArea.RootAppView,"Starting to hide splash screen"),r.defer((()=>{this.props.onSplashScreenWillBeDismissed();const e=e=>{w.log(I.LogTraceArea.RootAppView,"Done hiding splash screen, animation timed out: "+e),this._splashScreenTimeout&&($.default.clearTimeout(this._splashScreenTimeout),this._splashScreenTimeout=void 0),this.isComponentMounted()&&this.setState({showSplashScreen:!1})};this._splashScreen?(this._splashScreen.animateLeave((()=>{e(!1),d.default.onSplashScreenClosed()})),this._splashScreenTimeout=$.default.setTimeout((()=>{e(!0),d.default.onSplashScreenClosed()}),p.Common.Duration.Default)):(e(!1),d.default.onSplashScreenClosed())})))}_maybePresentIncomingRing(e){if(this._hasRingsForState(this.state)&&this.state.startupComplete&&this.state.appActivationState!==g.Types.AppActivationState.Background){const t=r.head(this.state.incomingCallIds);t&&t!==this._presentingIncomingCallId&&(this._presentingIncomingCallId=t,w.log(I.LogTraceArea.RootAppView,"_maybePresentIncomingRing for callId: "+t+" causeId: "+e),v.default.CallNavigationHelper.presentIncomingRing(t,e))}else this._presentingIncomingCallId=void 0}_maybeShowPartialBrowserSupportToast(e){b.CallingCapabilities.limitedSupportBrowser()&&(w.log(I.LogTraceArea.RootAppView,"_maybeShowPartialBrowserSupportToast causeId: "+e),v.default.CallNavigationHelper.showLimitedSupportBrowser({}))}_showUpgradeAlertDialog(e,t=!1){const i=[{text:N.getString(e?"UpgradeAlertDialog.UpgradeRequiredButtonLabel":"UpgradeAlertDialog.UpgradeButtonLabel"),onPress:this._onUpgradeDialogOkButtonClick}];let o,r;e?(o=N.getString("UpgradeAlertDialog.TitleRequired"),r=N.getString("UpgradeAlertDialog.BodyRequired")):(o=N.getString("UpgradeAlertDialog.Title"),r=N.getString("UpgradeAlertDialog.Body"),i.unshift({text:N.getString("UpgradeAlertDialog.CancelButtonLabel"),onPress:this._onUpgradeDialogCancelButtonClick}));const a=(0,n.jsx)(V.default,{dialogId:re,buttonAlignment:_.SimpleDialogButtonAlignment.HorizontalStack,closeOnClickOutside:!e,text:o,simpleContent:r,buttons:t?void 0:i,horizontalPadding:20,accessibilityLabel:o});T.default.showModal(a,re,{rootViewId:P.MainRootViewId,rootViewType:P.RootViewType.MainWindow})}_dismissUpgradeAlertDialog(){T.default.dismissModal(re,P.MainRootViewId)}_isWebPartnerFlow(){var e;const t=Y.default.getURIComponents(z.default.getLoadPath());return!!(null===(e=null==t?void 0:t.queryParameterKeyValues)||void 0===e?void 0:e.action)&&r.includes([J.UrlNavigationAction.CreateWebPartnerFlow,J.UrlNavigationAction.JoinWebPartnerFlow],null==t?void 0:t.queryParameterKeyValues.action)}_handlePopState(e){e&&e.state===ae&&(w.log(I.LogTraceArea.RootAppView,"Preventing popstate event for Edge Shoreline"),e.preventDefault(),window.history.pushState(null,""))}}t.default=se},447413:(e,t,i)=>{const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(859745)),s=o.__importStar(i(516778)),l=o.__importDefault(i(150343)),c=o.__importDefault(i(979720)),d=i(815146),u=i(560099),p=o.__importStar(i(85385)),g=o.__importDefault(i(789777)),h=i(26703),m=o.__importDefault(i(257511)),S=o.__importDefault(i(931675)),_=o.__importDefault(i(872332)),f=o.__importDefault(i(740794)),y=o.__importStar(i(812822)),C=o.__importDefault(i(450312)),v=o.__importStar(i(757838)),b=o.__importDefault(i(960282)),T=o.__importDefault(i(314303)),P=i(16549),k=i(331079),A=o.__importDefault(i(827361)),I=o.__importDefault(i(497910)),w=o.__importDefault(i(818775)),x=o.__importDefault(i(281453)),N=o.__importDefault(i(760989)),D=o.__importDefault(i(337249)),M=o.__importDefault(i(960282)),L=(0,h.lazyProperties)({contentContainerStyle:()=>s.Styles.createViewStyle({alignSelf:"stretch",flex:1}),contentWrapper:()=>s.Styles.createViewStyle({flexDirection:"row",alignSelf:"stretch"}),rightPanelShim:()=>s.Styles.createViewStyle({position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:P.Color.blackOverlay50}),leftShadowBase:()=>s.Styles.createViewStyle({shadowOffset:{width:0,height:2},shadowRadius:8,shadowColor:"rgba(0, 0, 0, 0.14)"}),leftShadowAndroidBase:()=>s.Styles.createViewStyle({elevation:3}),leftShadowIOS:()=>s.Styles.createViewStyle({shadowOpacity:1,overflow:"visible"})});class R extends I.default{constructor(){super(...arguments),this._rightPanelShimOpacityValue=new s.Animated.Value(0),this._rightPanelShimOpacityStyle=s.Styles.createAnimatedViewStyle({opacity:this._rightPanelShimOpacityValue}),this._closeRightPanel=()=>{const e=N.default.newCauseId();p.log(d.LogTraceArea.Navigation,"RootCompositeNavigationView._closeRightPanel,  causeId: "+e),f.default.closeRightPanel(e,this._getRootViewId())},this._onRightSidebarView=e=>{this._rightSidebarView=e||void 0},this._onPan=e=>{this._rightSidebarView&&this._rightSidebarView.onPan(e,this._closeRightPanel)}}_buildState(e,t){const i=v.modalNavigatorIdForRootViewId(this._getRootViewId()),o=C.default.getCurrentModalStackNavigationContext(i),n=o&&o.isValid()?o:void 0,r=C.default.getCurrentSidebarStackNavigationContext(v.rightSideBarNavigatorId),a=this._getRootViewId();return{responsiveWidth:b.default.getResponsiveWidth(a),showShimForRightPanel:e.useTabletUI,fixedContainerHeight:0,shouldDisplayRightNavigation:C.default.shouldDisplayRightNavigation(),activeModalSplitContext:n,rightSidebarStackNavContext:r,showFooter:!M.default.isSmallOrTinyScreenSize(this._getRootViewId())&&(!C.default.getCompositeCallVisible()||l.default.getS4LUiFeatures().enableWebFooterEverywhere)}}componentDidMount(){super.componentDidMount(),this.state.showShimForRightPanel&&this._rightPanelShimOpacityValue.setValue(this._hasRightNavContext(this.props,this.state)?1:0),this._registerKeyboardHandlers()}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),this.state.showShimForRightPanel){const i=this._hasRightNavContext(this.props,this.state);i!==this._hasRightNavContext(e,t)&&a.timing.easeOut({value:this._rightPanelShimOpacityValue,toValue:i?1:0,duration:a.Common.Duration.Short,useNativeDriver:!0}).start()}}componentWillUnmount(){super.componentWillUnmount(),this._unregisterKeyboardHandlers()}render(){const e=[A.default.flexOne];this.props.useTabletUI&&e.push(A.default.overflowVisible);const t=this._renderCompositeSplitView(this.props.splitNavContext,this.state.showFooter?void 0:e),i=this.state.showFooter?(0,n.jsx)(c.default,{}):void 0;return(0,n.jsxs)(s.View,{style:e,children:[t,i]})}_registerKeyboardHandlers(){this._keyboardShortcutToken=g.default.registerKeyboardHandlers()}_unregisterKeyboardHandlers(){this._keyboardShortcutToken&&(g.default.unregisterKeyboardHandlers(this._keyboardShortcutToken),this._keyboardShortcutToken=void 0)}_renderCompositeSplitView(e,t){const o=[],a=e.getMasterContext(),l=!!a&&e instanceof y.RootCompositeSplitViewContext&&!e.shouldDisplayMainAreaFullScreen(),c=!!a&&a.state.viewMode===y.LeftNavViewMode.Search,d=this.state.showShimForRightPanel&&this._hasRightNavContext(this.props,this.state)?s.Types.ImportantForAccessibility.NoHideDescendants:void 0;let p=!0;a&&(a instanceof y.LeftNavigationViewContext?l&&(o.push((0,n.jsx)(m.default,{navContext:a,viewMode:a.state.viewModeHistory.peek(),importantForAccessibility:d},"leftNav")),this.state.responsiveWidth<=k.ResponsiveWidth.Tiny&&c&&(p=!1)):o.push((0,n.jsx)(S.default,{navContext:a,importantForAccessibility:d},"leftNav")));let g=y.RightSidebarViewMode.None;const h=!this._useAccessibleTheme();if(p){if(this.state.rightSidebarStackNavContext){const e=r.last(this.state.rightSidebarStackNavContext.getNavStack());g=v.deriveViewModeFromRightNavContext(e)}const t=h?this._getLeftShadowStyle():void 0,i=[A.default.flexOne];h&&!this.props.useTabletUI&&i.push(A.default.flexOne,t);const a=[A.default.flexOne,t];let l=(0,n.jsx)(s.View,{style:i,children:(0,n.jsx)(_.default,{splitNavContext:e},"mainStage")},"mainStage");this.props.useTabletUI&&(l=(0,n.jsx)(s.View,{style:a,importantForAccessibility:d,children:l},"mainStage")),o.push(l)}if(this.state.shouldDisplayRightNavigation){if(this.state.showShimForRightPanel){g!==y.RightSidebarViewMode.None&&o.push((0,n.jsx)(u.HiddenAnimatedView,{style:[L.rightPanelShim,this._rightPanelShimOpacityStyle],disableTouchOpacityAnimation:!0,children:(0,n.jsx)(s.GestureView,{style:A.default.flexOne,onPanHorizontal:this._onPan,onTap:this._closeRightPanel})},"rightNavShim"))}let e=!1;const t=this.props.splitNavContext.getNavStack();e=!!t&&(r.last(t)instanceof y.CallNavigationContext||r.last(t)instanceof y.TodayTabNavigationContext),o.push((0,n.jsx)(T.default,{ref:this._onRightSidebarView,stackNavContext:this.state.rightSidebarStackNavContext,leftNavCollapsedOrHidden:!a||!l,suppressAnimation:e,mainStageNavigationViewUsesShadow:h},"rightNav"))}let f,C;if(this.state.activeModalSplitContext){0;const e=i(300087).Z;f=(0,n.jsx)(e,{activeModalSplitContext:this.state.activeModalSplitContext,showOverflow:!!this.props.useTabletUI})}const b=[L.contentWrapper];f&&this.state.fixedContainerHeight?b.push(s.Styles.createViewStyle({height:this.state.fixedContainerHeight,width:D.default.measureWindow(this._getRootViewId()).width},!1)):b.push(A.default.flexOne);const P=[t||L.contentContainerStyle];return this.props.useTabletUI&&(P.push(A.default.overflowVisible),b.push(A.default.overflowVisible)),(0,n.jsxs)(s.View,{style:P,children:[(0,n.jsx)(w.default,{}),(0,n.jsx)(s.View,{style:b,importantForAccessibility:C,children:o}),f,(0,n.jsx)(x.default,{})]})}_getLeftShadowStyle(){return L.leftShadowBase}_hasRightNavContext(e,t){return!!t.rightSidebarStackNavContext&&t.rightSidebarStackNavContext.getNavStack().length>0}}t.Z=R},761214:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(537180),a=i(217041),s=o.__importStar(i(516778)),l=i(344175),c=i(736267),d=o.__importDefault(i(266872)),u=o.__importStar(i(704704)),p=o.__importDefault(i(252089)),g=i(925890),h=i(63671),m=i(972830),S=o.__importDefault(i(206315)),_=i(641400);class f extends a.ComponentBase{constructor(){super(...arguments),this._setNewLanguage=e=>{this.state.language!==e&&this.setState({language:e,isRTL:s.International.isRTL()})}}_buildState(e){var t;const i=d.default.colorTheme(),o=p.default.getColorInfo(),n=h.osThemeStore.getOSTheme(),r=null===(t=d.default.shouldUseSystemTheme())||void 0===t||t,a=(0,m.convertOSThemeToTheme)(i,n),l=(0,g.skypeThemeConnector)(r&&a||i,o.key);return{rootViewId:e.rootViewId,rootViewType:e.rootViewType,language:u.getLocale(),isRTL:s.International.isRTL(),theme:r&&a?a:i,themeStyles:r&&a?S.default.themeStylesForTheme(a):d.default.themeStyles(),themeColors:l.colors,mode:l.themeMode,gradients:l.gradients,fonts:l.fonts,userColor:o}}componentDidMount(){super.componentDidMount(),u.localeChangedEvent.subscribe(this._setNewLanguage)}componentWillUnmount(){super.componentWillUnmount(),u.localeChangedEvent.unsubscribe(this._setNewLanguage)}render(){const e=(0,n.jsx)(c.CommonContext.Provider,{value:this.state,children:(0,n.jsx)(l.SUIThemeProvider,{colors:this.state.themeColors,gradients:this.state.gradients,mode:this.state.mode,fonts:this.state.fonts,children:(0,n.jsx)(l.SUIIconsProvider,{icons:(0,_.resolveIcons)(),children:this.props.children})})});return(0,n.jsx)(r.ReactRootView,{rootTag:this.props.nativeRootComponent,children:e})}}t.default=f},449983:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(667294),s=o.__importStar(i(516778)),l=i(757361),c=(i(508859),i(18016)),d=o.__importDefault(i(150343)),u=i(192478),p=o.__importDefault(i(545578)),g=o.__importDefault(i(594778)),h=o.__importDefault(i(438752)),m=o.__importDefault(i(471113)),S=o.__importDefault(i(532821)),_=(o.__importDefault(i(626922)),i(815146)),f=(o.__importDefault(i(68914)),o.__importDefault(i(73785)),o.__importStar(i(85385))),y=o.__importDefault(i(594365)),C=o.__importDefault(i(740794)),v=o.__importDefault(i(942724)),b=o.__importDefault(i(450312)),T=o.__importDefault(i(817063)),P=o.__importDefault(i(960282)),k=i(928722),A=i(331079),I=o.__importDefault(i(827361)),w=o.__importDefault(i(497910)),x=o.__importDefault(i(760989)),N=i(736267),D=o.__importStar(i(972830)),M=i(95561),L=o.__importDefault(i(717805));function R(e){const t=(0,l.useNavigationContainerRef)();(0,a.useEffect)((()=>(b.default.setStackReactNavigation(t.current||void 0),()=>b.default.setStackReactNavigation(void 0))),[t]);const i=(0,N.useCommonContext)(),o=D.isDarkTheme(i.theme),r=o?l.DarkTheme:l.DefaultTheme,s={dark:o,colors:Object.assign(Object.assign({},r.colors),{primary:i.themeColors.headerIconColor,background:i.themeColors.primaryBackgroundColor,card:i.themeColors.primaryBackgroundColor,border:i.themeColors.headerShadowColor,text:i.themeColors.headerTextColor})};return(0,n.jsx)(l.NavigationContainer,{ref:t,theme:s,initialState:b.default.initialNavigationState(),onStateChange:e=>{e&&b.default.onStackReactNavigationStateChange(e)},children:e.children})}class E extends w.default{constructor(){super(...arguments),this._getSMSInfolineToolTip=()=>{if(this.state.enableSMSInfolineTooltip)return(0,n.jsx)(M.SMSInfoLineTooltip,{})},this._onDragDrop=e=>{e.preventDefault(),e.stopPropagation()}}_buildState(e,t){var i;let o;const n=this._getRootViewId(),r=v.default.isUsingStackNavigationContext();r||(o=b.default.getCurrentStackNavigationContext(k.StackNavigatorId.DesktopContent));const a={compositeSplitNavStack:o,isUsingStackNavigationContext:r,shouldCollapseSplitNav:S.default.collapseDesktopStackNavContext()&&P.default.getResponsiveWidth(n)<=A.ResponsiveWidth.Tiny,isCustomActionMenuShown:m.default.isCustomActionMenuShown(),enabledTooltips:[...h.default.getEnabledTooltips()],enableSMSInfolineTooltip:!!(null===(i=h.default.getSMSInfolineTooltip())||void 0===i?void 0:i.enabled)};return t&&d.default.getS4LUiFeaturesNoSubscription().enableStackReactNavigationFreeze&&(0,c.enableFreeze)(),a.enableRefreshedPalette=d.default.getS4LUiFeatures().enableRefreshedPalette,a}componentDidMount(){if(super.componentDidMount(),S.default.collapseDesktopStackNavContextNoSubscription()){const e=x.default.newCauseId();f.log(_.LogTraceArea.Navigation,"RootNavigationView.componentDidMount, causeId: "+e),C.default.collapseSplitNavContext(k.StackNavigatorId.DesktopContent,this.state.shouldCollapseSplitNav,e)}}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),this.state.shouldCollapseSplitNav!==t.shouldCollapseSplitNav){const e=x.default.newCauseId();f.log(_.LogTraceArea.Navigation,"RootNavigationView.componentDidUpdate, causeId: "+e),C.default.collapseSplitNavContext(k.StackNavigatorId.DesktopContent,this.state.shouldCollapseSplitNav,e)}}render(){const e=[this.props.style,this._themeStyles.primaryBackgroundColorStyle];this.props.useTabletUI&&e.push(I.default.overflowVisible);const t=void 0;return this.state.compositeSplitNavStack?this._renderCompositeView(this.state.compositeSplitNavStack,e,t):(0,n.jsx)(R,{enableRefreshedPalette:this.state.enableRefreshedPalette,children:this._renderStackViewReactNavigation(e,t)})}_renderStackViewReactNavigation(e,t){return(0,n.jsx)(u.BaseNavigationWrapper,{isPresentedByMobileStackNavigator:!0,children:(0,n.jsxs)(s.View,{style:e,importantForAccessibility:this.props.importantForAccessibility,children:[(0,n.jsx)(L.default,{}),this._renderOptionalPipView(),this._renderCoachmarkPresenter(),this._getOptionalEngagementTooltips(),this._renderNotificationToasts(),this._getSMSInfolineToolTip(),t]},"app")})}_renderCompositeView(e,t,o){const r=[t];this.props.useTabletUI&&r.push(I.default.overflowVisible);const a=i(447413).Z;return(0,n.jsxs)(s.View,{style:r,onDrop:this._onDragDrop,importantForAccessibility:this.props.importantForAccessibility,children:[(0,n.jsx)(a,{splitNavContext:e,useTabletUI:this.props.useTabletUI},"compositeView"),null,this._renderOptionalPipView(),this._renderCoachmarkPresenter(),this._getOptionalEngagementTooltips(),this._renderNotificationToasts(),this._getSMSInfolineToolTip(),o]})}_renderOptionalPipView(){return null}_renderCoachmarkPresenter(){return(0,n.jsx)(p.default,{})}_getOptionalEngagementTooltips(){return this.state.enabledTooltips.map(((e,t)=>{if(!r.isUndefined(e)&&h.default.isTooltipEnabled(e.type))return g.default.getEngagementTooltip(e,t)}))}_renderNotificationToasts(){return[(0,n.jsx)(T.default,{},"notificationtoast"),(0,n.jsx)(y.default,{},"minitoast")]}}t.default=E},689915:(e,t,i)=>{const o=i(197582),n=i(785893),r=i(217041),a=i(530254),s=i(667294),l=(i(344175),o.__importStar(i(253593))),c=o.__importDefault(i(901295)),d=(i(85755),i(156575)),u=o.__importStar(i(138742)),p=i(923223),g=o.__importStar(i(671366)),h=i(346726),m=o.__importStar(i(672203)),S=i(158418),_=i(611160),f=i(947873),y=i(504880),C=o.__importDefault(i(843336)),v=i(583793),b=i(45781),T=i(164295),P=o.__importDefault(i(355384)),k=o.__importStar(i(812822)),A=i(206315),I=o.__importDefault(i(150343)),w=o.__importDefault(i(740794)),x=o.__importStar(i(704704)),N=i(16549),D=i(676363),M=i(812122),L=o.__importDefault(i(327263)),R=o.__importDefault(i(361028)),E=o.__importDefault(i(915457)),B=i(217274),O=o.__importStar(i(803193)),F=i(799790),V=i(297886),U=o.__importDefault(i(247286)),j=o.__importDefault(i(956243)),H=o.__importDefault(i(9411)),W=o.__importDefault(i(637972)),z=i(340320),G=i(736267),K=i(812822),q=((0,s.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(224548)))))),(0,s.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(172814)))))),{hubTab:k.HubTab.Recents}),Q=(0,a.createNativeStackNavigator)();function X({enableContentChannels:e,enableMSNMarket:t,useLegacyQRPanel:i,truVoiceName:o}){const{rootViewId:r}=(0,G.useCommonContext)(),{themeColors:a}=(0,A.useSkypeTheme)(),I={headerShown:!1,headerBackTitleVisible:!1,headerTitleStyle:{fontWeight:"bold"},title:x.getString("Global.AppTitle"),contentStyle:{backgroundColor:a.surfacePrimary}},U=((0,s.useCallback)((()=>{w.default.navigateToSettingsGroup(K.SettingsGroup.ThemeSettings,r)}),[r]),e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Q.Screen,{name:O.StoreNavigationId,component:F.ContentChannelsStoreScreen,options:{headerShown:!0,title:x.getString("ContentChannels.StoreScreenTitle"),headerRight:()=>(0,n.jsx)(V.ContentChannelsHeaderControls,{})}}),(0,n.jsx)(Q.Screen,{name:O.ManageNavigationId,component:F.ContentChannelsManageScreen,options:{headerShown:!0,title:x.getString("ContentChannels.ManageScreenTitle")}}),(0,n.jsx)(Q.Screen,{name:O.FRENavigationId,component:F.ContentChannelsFREScreen,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM}}),(0,n.jsx)(Q.Screen,{name:O.SearchNavigationId,component:F.ContentChannelsSearchScreen}),(0,n.jsx)(Q.Screen,{name:O.ChannelViewNavigationId,component:F.ContentChannelsViewScreen})]}):null),X=t?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Q.Screen,{name:O.MSNMarketPickerNavigationId,component:F.MSNMarketPickerScreen})}):null;return(0,n.jsxs)(Q.Navigator,{initialRouteName:k.MobileHubNavigationId,screenOptions:()=>Object.assign(Object.assign({},I),{animation:k.StackAnimationType.SLIDE_FROM_RIGHT}),screenListeners:{transitionEnd:e=>{e.data.closing||w.default.stackNavigationCompleted()}},children:[(0,n.jsx)(Q.Screen,{name:k.MobileHubNavigationId,component:D.MobileHubV2,initialParams:q}),(0,n.jsx)(Q.Screen,{name:l.OneDriveAddinPanelNavigationId,component:c.default}),(0,n.jsx)(Q.Screen,{name:k.BingBackgroundNavigationId,component:S.BingBackgroundsPanelView}),(0,n.jsx)(Q.Screen,{options:{gestureEnabled:!0},name:k.CallNavigationId,component:S.CallPanel}),(0,n.jsx)(Q.Screen,{name:k.CallPreviewNavigationId,component:S.CallPreviewStackNavigation}),(0,n.jsx)(Q.Screen,{name:k.CallRosterNavigationId,component:S.CallRosterPanel}),(0,n.jsx)(Q.Screen,{name:k.CallingDebugPanelNavigationId,component:S.CallStatsView}),(0,n.jsx)(Q.Screen,{name:k.SubtitlesNavigationId,component:S.CallTranscriptionStackPanel}),(0,n.jsx)(Q.Screen,{name:k.PSTNCountrySelectorPanelId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:S.CountrySelector}),(0,n.jsx)(Q.Screen,{name:k.PSTNDialerPanelId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:S.DialerPanel}),(0,n.jsx)(Q.Screen,{name:k.E911AcknowledgementPanelId,component:S.E911AcknowledgementPanel}),(0,n.jsx)(Q.Screen,{name:k.QuickCallPanelId,component:S.QuickCallNavigation}),(0,n.jsx)(Q.Screen,{name:k.TogetherModeNavigationId,component:S.TogetherModePanel}),(0,n.jsx)(Q.Screen,{name:k.TwincamModalNavigationId,component:S.TwincamPanel}),(0,n.jsx)(Q.Screen,{name:k.GetBalanceStateId,component:_.BalanceStatePanelNavigation}),(0,n.jsx)(Q.Screen,{name:k.CallerIdPromptNavigationId,component:_.CallerIdPromptPanel}),(0,n.jsx)(Q.Screen,{name:k.CantSendSmsWarningNavigationId,component:_.CantSendSmsWarning}),(0,n.jsx)(Q.Screen,{name:k.CallFailurePromptId,component:_.CallFailurePromptPanel}),(0,n.jsx)(Q.Screen,{name:k.CallFailurePostPurchasePromptNavigationId,component:_.CallFailurePostPurchasePromptPanel}),(0,n.jsx)(Q.Screen,{name:k.SkypeNumberPostPurchasePromptNavigationId,component:_.SkypeNumberPostPurchasePromptPanel}),(0,n.jsx)(Q.Screen,{name:k.SkypeNumberPanelPurchaseFlowNavigationId,component:_.SkypeNumberPurchaseFlow}),(0,n.jsx)(Q.Screen,{name:k.Payments3dsNavigationId,component:_.Payments3dsWebPanel}),(0,n.jsx)(Q.Screen,{name:k.PurchaseConfirmationDialogWrapperNavigationId,component:_.PurchaseConfirmationDialogWrapper}),(0,n.jsx)(Q.Screen,{name:k.GetProductWebFlowNavigationId,component:_.PaymentsWebFlowPanel}),(0,n.jsx)(Q.Screen,{name:k.PurchaseContinuationId,component:_.PurchaseContinuationPanel}),(0,n.jsx)(Q.Screen,{name:k.SendCreditPanelNavigationId,component:_.SendCreditPanel}),(0,n.jsx)(Q.Screen,{name:k.SendCreditSearchPeopleId,component:_.SendCreditSearchPeople}),(0,n.jsx)(Q.Screen,{name:k.SkypeNumberCountryAreaSelectorPanelId,component:_.SkypeNumberCountryAreaSelector}),(0,n.jsx)(Q.Screen,{name:k.SkypeNumberListNavigationId,component:_.SkypeNumberList}),(0,n.jsx)(Q.Screen,{name:k.SkypeNumberInfoScreenNavigationId,component:_.SkypeNumberInfoScreen,options:{headerShown:!0,title:x.getString("SkypeNumberPanel.Title")}}),(0,n.jsx)(Q.Screen,{name:k.SkypeNumberFormsNavigationId,component:_.SkypeNumberFormPanel,options:{headerShown:!0,title:x.getString("SkypeNumberPanel.Title")}}),(0,n.jsx)(Q.Screen,{name:k.SkypeNumberPrefixSelectorPanelId,component:_.SkypeNumberPrefixSelector}),(0,n.jsx)(Q.Screen,{name:k.SkypeNumberFormOptionSelectorPanelId,component:_.SkypeNumberFormOptionSelector,options:{headerShown:!0,title:x.getString("SkypeNumberPanel.OptionsTitle")}}),(0,n.jsx)(Q.Screen,{name:k.SmsFailurePromptId,component:_.SmsFailurePrompt}),(0,n.jsx)(Q.Screen,{name:k.SubscriptionIntroNavigationId,component:_.SubscriptionsIntro}),(0,n.jsx)(Q.Screen,{name:k.TasterPostCallPanelId,component:_.TasterPostCallPanel}),(0,n.jsx)(Q.Screen,{name:k.TodayTabInterestsPanelNavigationId,component:B.TodayTabInterestsPanel,options:{headerShown:!0,title:B.TodayTabInterestsPanel.getHeaderText()}}),(0,n.jsx)(Q.Screen,{name:k.TelemetryPerfId,component:D.TelemetryPerfPanel,options:{headerShown:!0,title:"Telemetry Monitor"}}),(0,n.jsx)(Q.Screen,{name:k.JoiningGuestNavigatorId,component:D.SplashScreenNavigation}),(0,n.jsx)(Q.Screen,{name:k.CaptivePortalQuestionnaireNavigationId,component:D.CaptivePortalQuestionnaire,options:{headerShown:!0,title:x.getString("ConnectivityStatusBar.CaptivePortalDismissHeader")}}),(0,n.jsx)(Q.Screen,{name:k.ReportConcernNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:D.ReportConcernModal}),(0,n.jsx)(Q.Screen,{name:k.DetailsNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:D.DetailsPanel}),(0,n.jsx)(Q.Screen,{name:k.BotDiscoveryNavigationId,component:f.AgentsDiscoveryPanel}),(0,n.jsx)(Q.Screen,{name:k.BotsListNavigationId,component:f.AgentsPanelNavigation}),(0,n.jsx)(Q.Screen,{name:k.InAppBrowserNavigationId,component:f.Browser}),(0,n.jsx)(Q.Screen,{name:k.InAppBrowserWithSearchConversationNavId,component:f.BrowserWithSearchConversation}),(0,n.jsx)(Q.Screen,{name:k.AvatarNavigationId,component:y.AvatarPickerDialog}),(0,n.jsx)(Q.Screen,{name:k.EngagementSharePanelNavigationId,component:y.EngagementSharePanel}),(0,n.jsx)(Q.Screen,{name:k.WelcomePageNavigationId,component:H.default}),(0,n.jsx)(Q.Screen,{name:z.SyncContactsNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:z.SyncContactsDialog}),(0,n.jsx)(Q.Screen,{name:k.PhoneAuthProfileSetupNavigationId,component:y.PhoneAuthProfileSetupPage}),(0,n.jsx)(Q.Screen,{name:k.PeopleYouMayKnowNoticeNavigationId,component:y.PeopleYouMayKnowNoticeDialog}),(0,n.jsx)(Q.Screen,{name:k.PnvEnterCodeNavigationId,component:D.PnvEnterCodeNavigation}),(0,n.jsx)(Q.Screen,{name:k.PnvEnterNumberNavigationId,component:D.PnvEnterNumberNavigation}),(0,n.jsx)(Q.Screen,{name:k.PnvDebugToolNavigationId,component:D.PnvDebugNavigation}),(0,n.jsx)(Q.Screen,{name:k.PromptPermissionsNavigatorId,component:D.PromptPermissionDialog}),(0,n.jsx)(Q.Screen,{name:k.SsoWebFlowNavigationId,component:y.SsoWebFlowPanelNavigation}),(0,n.jsx)(Q.Screen,{name:k.SyncAddressBookNavigationId,component:y.SyncAddressBookNavigation}),(0,n.jsx)(Q.Screen,{name:k.TelemetryConsentNavigationId,component:y.TelemetryConsentDialog}),(0,n.jsx)(Q.Screen,{name:k.ThemeNavigationId,component:D.ThemeDialog}),(0,n.jsx)(Q.Screen,{name:k.UserProfileNavigationId,component:D.UserProfileDialog}),(0,n.jsx)(Q.Screen,{name:k.AboutNavigationId,component:D.AboutPanelNavigation,options:{headerShown:!0,title:x.getString("AboutPanel.AboutTitle")}}),(0,n.jsx)(Q.Screen,{name:k.AdvancedCallingSettingsPanelNavigationId,component:D.AdvancedCallingSettingsPanel,options:{headerShown:!0,title:x.getString("AdvancedCallingSettingsPanel.HeaderText")}}),(0,n.jsx)(Q.Screen,{name:k.AlertsHubNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM,headerShown:!0,headerStyle:{backgroundColor:a.surfacePrimary},headerLeft:()=>(0,n.jsx)(E.default,{}),title:x.getString("SettingsHubHeader.NotificationsTitle"),headerTitleAlign:"center"},component:D.AlertsHubPanelNavigation}),(0,n.jsx)(Q.Screen,{name:k.BlockedUsersListId,component:D.BlockedUsersListPanel,options:{headerShown:!0,title:x.getString("UserSettingsPanel.BlockedContactsTitle")}}),(0,n.jsx)(Q.Screen,{name:k.CallerIdCallingSettingsPanelNavigationId,component:M.CallerIdSettingsPanel,options:{headerShown:!0,title:x.getString("CallingSettingsPanel.CallerID")}}),(0,n.jsx)(Q.Screen,{name:k.CallerIdNumberCallingSettingsPanelNavigationId,component:M.CallerIdNumberPanel,options:{headerShown:!0,title:x.getString("CallingSettingsPanel.CallerID")}}),(0,n.jsx)(Q.Screen,{name:k.KycPhoneVerifyFormPanelNavigationId,component:_.KycPhoneVerifyFormPanel,options:{headerShown:!0,title:x.getString("KycPhoneVerify.VerifyFormHeader")}}),(0,n.jsx)(Q.Screen,{name:k.KycFinishVerificationPanelNavigationId,component:_.KycFinishVerificationPanel,options:{headerShown:!0,title:x.getString("KycVerify.FinishFormHeader")}}),(0,n.jsx)(Q.Screen,{name:k.CallingSettingsPanelNavigationId,component:D.CallingSettingsPanel,options:{headerShown:!0,title:x.getString("UserSettingsPanel.CallSettingsTitle")}}),(0,n.jsx)(Q.Screen,{name:k.ConnectedUsersListNavigationId,component:D.ConnectedUsersListPanel,options:{headerShown:!0,title:x.getString("UserSettingsPanel.ProfileVisiblityTitle")}}),(0,n.jsx)(Q.Screen,{name:k.DiagnosticToolsId,component:D.DiagnosticToolsPanel,options:{headerShown:!0,title:x.getString("UserSettingsPanel.DiagnosticToolsTitle")}}),(0,n.jsx)(Q.Screen,{name:k.ManageSearchInfoPanelId,component:D.ManageSearchInfoPanel,options:{headerShown:!0,title:x.getString("ManageSearchInfoPanel.PanelTitleContactsPrivacy")}}),(0,n.jsx)(Q.Screen,{name:k.FeatureFlagListId,component:D.FeatureFlags,options:{headerShown:!0,title:"Manage feature flags"}}),(0,n.jsx)(Q.Screen,{name:k.LanguagePickerNavigationId,component:D.LanguagePickerPanel}),(0,n.jsx)(Q.Screen,{name:k.LanguagePickerOldNavigationId,component:D.LanguagePickerPanelOld}),(0,n.jsx)(Q.Screen,{name:k.SpokenLanguagePickerNavigationId,component:D.SpokenLanguagePickerPanel}),(0,n.jsx)(Q.Screen,{name:k.VoicePickerNavigationId,component:D.VoicePickerPanel}),(0,n.jsx)(Q.Screen,{name:k.ManageUsersSettingsPanelNavigationId,component:D.ManageUsersSettingsPanel,options:{headerShown:!0,title:x.getString("UserSettingsPanel.ManageContactsTitle")}}),(0,n.jsx)(Q.Screen,{name:k.NewSettingsPanelNavigationId,component:D.MobileSettingsPanel,options:{headerShown:!0,title:x.getString("UserSettingsPanel.SettingsTitle")}}),(0,n.jsx)(Q.Screen,{name:k.MySettingsNavigationId,component:D.MySettingsPanel}),(0,n.jsx)(Q.Screen,{name:k.ProfilePicturePanelId,component:D.ProfilePicturePanel,options:{headerShown:!0,title:x.getString("UserSettingsPanel.ProfilePictureTitle")}}),(0,n.jsx)(Q.Screen,{name:k.RawPreferencesId,component:D.RawPreferences,options:{headerShown:!0,title:"Raw app preferences"}}),(0,n.jsx)(Q.Screen,{name:k.SendDiagnosticLogsId,component:D.SendDiagnosticLogsPanel,options:{headerShown:!0,title:x.getString("SendDiagnosticLogsDialog.SendDiagnosticLogs")}}),(0,n.jsx)(Q.Screen,{name:k.SettingsGroupNavigationId,component:D.SettingsGroupPanel,options:{headerShown:!0}}),(0,n.jsx)(Q.Screen,{name:k.SlimcoreFlagListId,component:D.SlimcoreFlagsPanel}),(0,n.jsx)(Q.Screen,{name:k.SpeechConsentNavigationId,component:D.SpeechConsentPanel,options:{headerShown:!0,title:x.getString("SpeechConsentPanel.PanelTitle")}}),(0,n.jsx)(Q.Screen,{name:k.TranslationConsentNavigationId,component:L.default,options:{headerShown:!0,title:x.getString("CallTranscriptionNotifications.TranslationConsent")}}),(0,n.jsx)(Q.Screen,{name:k.TruVoiceConsentNavigationId,component:R.default,options:{headerShown:!0,title:x.getString("CallTranscriptionNotifications.TruVoiceConsent",{featureName:o})}}),(0,n.jsx)(Q.Screen,{name:k.SubtitlesCallingSettingsPanelNavigationId,component:D.SubtitlesCallingSettingsPanel,options:{headerShown:!0,title:x.getString("CallingSettingsPanel.SubtitlesButtonLabel")}}),(0,n.jsx)(Q.Screen,{name:k.ThirdPartyNoticesNavigationId,component:D.ThirdPartyNoticesPanel,options:{headerShown:!0,title:x.getString("ThirdPartyNoticesPanel.ThirdPartyNoticesTitle")}}),(0,n.jsx)(Q.Screen,{name:k.TranslationSettingsPanelNavigationId,component:D.TranslationSettingsPanel,options:{headerShown:!0,title:x.getString("UserSettingsPanel.TranslationSettingsTitle")}}),(0,n.jsx)(Q.Screen,{name:k.PreSignOutPanelNavigationId,component:y.PreSignOutPanel,options:{headerShown:!0,title:x.getString("PreSignOutMenu.LandingScreenTitle")}}),(0,n.jsx)(Q.Screen,{name:k.GuestUpsellNavigationId,component:C.default,options:{headerShown:!0,title:x.getString("GuestUpsell.TitleText")}}),(0,n.jsx)(Q.Screen,{name:u.MeetNowCreatorLobbyNavigationId,component:d.MeetNowCreatorLobbyWrapper,options:{gestureEnabled:void 0}}),(0,n.jsx)(Q.Screen,{name:u.MeetNowJoinLinkPanelNavigationId,component:d.MeetNowJoinLinkPanel}),(0,n.jsx)(Q.Screen,{name:u.JoinMeetNowPanelNavigationId,component:d.JoinMeetNowPanelNavigation}),(0,n.jsx)(Q.Screen,{name:u.MeetNowLobbyNavigationId,component:d.MeetNowLobbyNavigation,options:{gestureEnabled:void 0}}),(0,n.jsx)(Q.Screen,{name:u.MeetNowCreateOrJoinFlyoutNavigationId,component:d.MeetNowCreateOrJoinFlyout}),(0,n.jsx)(Q.Screen,{name:u.MobileMeetingAvatarPickerNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:d.MobileMeetingTitleAndAvatarPicker}),(0,n.jsx)(Q.Screen,{name:u.MeetNowJoinFlyoutNavigationId,options:{animation:k.StackAnimationType.SIMPLE_PUSH},component:d.MeetNowJoinFlyout}),(0,n.jsx)(Q.Screen,{name:k.RedirectToLogoutNavigationId,options:{animation:k.StackAnimationType.SIMPLE_PUSH},component:y.LogoutPage}),(0,n.jsx)(Q.Screen,{name:k.ArchivedConversationsId,options:{headerShown:!0,title:x.getString("ArchivedConversationsPanel.Title")},component:v.ArchivedConversationsNavigation}),(0,n.jsx)(Q.Screen,{name:k.CreateConversationNavigationId,component:v.CreateConversationNavigation}),(0,n.jsx)(Q.Screen,{name:k.ConversationParticipantsNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:v.ConversationParticipantsNavigation}),(0,n.jsx)(Q.Screen,{name:k.CaptureComboNavigationId,component:v.CaptureComboViewNavigation}),(0,n.jsx)(Q.Screen,{name:k.CaptureMultiPreviewNavigationId,component:b.CaptureMultiplePreviewNavigation}),(0,n.jsx)(Q.Screen,{name:k.CapturePreviewNavigationId,component:b.CapturePreviewNavigation}),(0,n.jsx)(Q.Screen,{name:k.CustomReactionsPanelId,component:v.CustomReactionsNavigation}),(0,n.jsx)(Q.Screen,{name:k.ConversationMediaViewerPanelNavigationId,options:{animation:k.StackAnimationType.FADE},component:b.ConversationMediaViewerNavigation}),(0,n.jsx)(Q.Screen,{name:k.LoadingPanelNavigationId,component:v.LoadingNavigation}),(0,n.jsx)(Q.Screen,{name:k.LocationPickerNavigationId,component:v.LocationPickerNavigation}),(0,n.jsx)(Q.Screen,{name:k.LocationViewerNavigationId,options:({route:e})=>({headerShown:!0,title:(0,v.getLocationViewerNavigationHeaderTitle)(e.params)}),component:v.LocationViewerNavigation}),(0,n.jsx)(Q.Screen,{name:k.NearByPlacesNavigationId,component:v.NearByPlacesNavigation}),(0,n.jsx)(Q.Screen,{name:k.MediaPickerNavigationId,component:v.MediaPickerNavigation}),(0,n.jsx)(Q.Screen,{name:k.ConversationNavigationId,component:b.MobileContentPanel}),(0,n.jsx)(Q.Screen,{name:k.PesSearchNavigationId,component:b.PesSearchNavigation}),(0,n.jsx)(Q.Screen,{name:k.ShareContactsToConversationNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:v.ShareContactsToConversationNavigation}),(0,n.jsx)(Q.Screen,{name:k.ShareWithPanelNavigationId,component:v.ShareWithNavigation}),(0,n.jsx)(Q.Screen,{name:k.GalleryNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:v.StackGalleryNavigation}),(0,n.jsx)(Q.Screen,{name:k.MediaViewerNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM,headerShown:!0,headerStyle:{backgroundColor:N.Color.black},headerTintColor:N.Color.white,headerTitle:""},component:b.MediaViewerNavigation}),(0,n.jsx)(Q.Screen,{name:k.DocumentViewerNavigationId,component:v.DocumentViewerNavigation}),(0,n.jsx)(Q.Screen,{name:k.GifPreviewNavigationId,options:{headerShown:!0,headerTitle:"",animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:v.GifPreviewNavigation}),(0,n.jsx)(Q.Screen,{name:k.ActiveNowPanelId,component:T.ActiveNowNavigation}),(0,n.jsx)(Q.Screen,{name:k.AddContactPanelId,options:{animation:k.StackAnimationType.SIMPLE_PUSH},component:T.AddContactNavigation}),(0,n.jsx)(Q.Screen,{name:k.AddPhoneNumberPanelNavigationId,options:{animation:k.StackAnimationType.SIMPLE_PUSH},component:T.AddPhoneNumberNavigation}),(0,n.jsx)(Q.Screen,{name:k.NewPhoneVerificationFlowNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:j.default}),(0,n.jsx)(Q.Screen,{name:k.LinkMsaToPhoneNumberAccountNavigationId,options:{headerShown:!0,headerTitle:""},component:W.default}),(0,n.jsx)(Q.Screen,{name:k.CallingSettingsHeaderAuthWebFlowNavigationId,component:T.CallingSettingsHeaderAuthWebFlowNavigation}),(0,n.jsx)(Q.Screen,{name:k.ChatConfigNavigationId,component:T.ChatSettingsNavigation}),(0,n.jsx)(Q.Screen,{name:k.ContactsPanelId,component:T.ContactsNavigation}),(0,n.jsx)(Q.Screen,{name:k.ConversationSharingScreenId,component:T.ConversationInviteSharePanel}),(0,n.jsx)(Q.Screen,{name:k.InviteLinkQRPanelNavigationId,component:T.DisplayQRPanel,options:{headerShown:!i,headerTitle:x.getString("InviteShare.QRPanelHeader"),headerTitleAlign:"center",headerTransparent:!0}}),(0,n.jsx)(Q.Screen,{name:k.MeControlNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:T.MobileMeControlPanel}),(0,n.jsx)(Q.Screen,{name:k.InviteShareNavigationId,component:T.ProfileInviteSharePanel}),(0,n.jsx)(Q.Screen,{name:k.SkypeNumberWebFlowNavigationId,component:T.HeaderAuthWebFlowNavigation}),(0,n.jsx)(Q.Screen,{name:k.SearchNavigationId,options:{animation:k.StackAnimationType.FADE},component:T.SearchPanel}),(0,n.jsx)(Q.Screen,{name:g.PollCreationPanelNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM,headerShown:!0,title:x.getString("Poll.Header")},component:p.PollCreationPanel}),(0,n.jsx)(Q.Screen,{name:g.PollSummaryPanelNavigationId,component:p.PollSummaryPanel}),(0,n.jsx)(Q.Screen,{name:g.PollVotersListPanelNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:p.PollVotersListPanel}),(0,n.jsx)(Q.Screen,{name:m.ScheduleCallCreationPanelNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:h.ScheduleCallCreationPanel}),(0,n.jsx)(Q.Screen,{name:m.ScheduleCallReminderPanelNavigationId,component:h.ScheduleCallReminderPanel}),(0,n.jsx)(Q.Screen,{options:{gestureEnabled:!1},name:m.ScheduledCallOrganizerEditPanelNavigationId,component:h.ScheduledCallOrganizerEditPanel}),(0,n.jsx)(Q.Screen,{name:m.ScheduledCallsListPanelNavigationId,component:h.ScheduledCallsListPanel}),(0,n.jsx)(Q.Screen,{name:m.ScheduledCallOverviewPanelNavigationId,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM},component:h.ScheduledCallOverviewPanel}),(0,n.jsx)(Q.Screen,{name:k.AvatarPickerPanelNavigationId,component:P.default,options:{headerShown:!0,title:x.getString("AvatarPickerPanel.PanelTitle")}}),U,X,(0,n.jsx)(Q.Screen,{name:z.CongratsDialogNavigationId,component:z.CongratsDialog}),(0,n.jsx)(Q.Screen,{name:z.FreeSubNavigationId,component:z.FreeSubscriptionDialog,options:{animation:k.StackAnimationType.SLIDE_FROM_BOTTOM}}),null]})}class $ extends r.ComponentBase{_buildState(){const{enableContentChannels:e,enableMSNMarket:t}=I.default.getS4LUiFeatures(),i=U.default.isChildOrMinor(),{translationFeatures:{truVoiceName:o}}=I.default.getS4LCMCFeatures(),{enableRedesignedQrCodePanel:n}=I.default.getS4LMeetNowFeatures();return{enableContentChannels:e&&!i,enableMSNMarket:t,useLegacyQRPanel:!n,truVoiceName:o}}render(){return(0,n.jsx)(X,{enableContentChannels:this.state.enableContentChannels,enableMSNMarket:this.state.enableMSNMarket,useLegacyQRPanel:this.state.useLegacyQRPanel,truVoiceName:this.state.truVoiceName})}}t.Z=$},717805:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=i(689915).Z;return(0,o.jsx)(e,{})};const o=i(785893)},764427:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({}){const e=(0,a.useMenuItems)(s.navigateToSXPlaygroundScreen);return(0,o.jsx)(n.FlatList,{data:e,renderItem:({item:e})=>(0,o.jsx)(r.ListItem,Object.assign({},e)),keyExtractor:(e,t)=>`${e.id}_${t}`})};const o=i(785893),n=i(537180),r=i(344175),a=i(314973),s=i(906908)},591496:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,o.jsxs)(r.SafeAreaView,{style:u.container,children:[(0,o.jsx)(n.Title,{text:"Image Avatar",variant:"2"}),(0,o.jsxs)(n.Row,{space:"size80",flexWrap:"wrap",children:[(0,o.jsx)(c,{size:"xxxs"}),(0,o.jsx)(c,{size:"xxs"}),(0,o.jsx)(c,{size:"xs"}),(0,o.jsx)(c,{size:"sm"}),(0,o.jsx)(c,{size:"md"}),(0,o.jsx)(c,{size:"lg"}),(0,o.jsx)(c,{size:"xl"}),(0,o.jsx)(c,{size:"xxl"}),(0,o.jsx)(c,{size:"xxxl"})]}),(0,o.jsx)(n.Title,{text:"Compound Avatar",variant:"2"}),(0,o.jsxs)(n.Row,{space:"size80",flexWrap:"wrap",children:[(0,o.jsx)(d,{size:"xxxs"}),(0,o.jsx)(d,{size:"xxs"}),(0,o.jsx)(d,{size:"xs"}),(0,o.jsx)(d,{size:"sm"}),(0,o.jsx)(d,{size:"md"}),(0,o.jsx)(d,{size:"lg"}),(0,o.jsx)(d,{size:"xl"}),(0,o.jsx)(d,{size:"xxl"}),(0,o.jsx)(d,{size:"xxxl"})]})]})};const o=i(785893),n=i(344175),r=i(537180),a=i(667294),s=i(206315),l="https://secure.skypeassets.com/content/dam/scom/features/main/bgreplacefeatures22.jpg";function c({size:e}){return(0,o.jsxs)(n.Column,{children:[(0,o.jsx)(n.Body,{text:e}),(0,o.jsx)(n.ImageAvatar,{size:e,uri:l})]})}function d({size:e}){const{gradients:{tertiary:t}}=(0,s.useSkypeTheme)(),i=(0,a.useMemo)((()=>{switch(e){case"xxxs":case"xxs":case"xs":return"xxs";case"sm":return"sm";case"md":default:return"md";case"lg":case"xl":case"xxl":case"xxxl":return"lg"}}),[e]);return(0,o.jsxs)(n.Column,{children:[(0,o.jsx)(n.Body,{text:e}),(0,o.jsx)(n.CompoundAvatar,{size:e,background:t,element:(0,o.jsx)(n.Icon,{icon:"globe",size:i})})]})}const u=r.StyleSheet.create({container:{flex:1}})},620685:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({}){const{themeColors:{iconOnColor:e,iconPrimary:t}}=(0,s.useSkypeTheme)();return(0,o.jsxs)(n.Column,{space:"size80",children:[(0,o.jsxs)(n.Row,{flex:"1",space:"size80",children:[(0,o.jsxs)(n.Column,{width:350,space:"size80",borderRightColor:"dividerPrimary",borderRightWidth:1,paddingX:"size80",children:[(0,o.jsx)(r.Header,{size:r.HeaderSize.h4,children:"Branded"}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.Button,{variant:"branded",label:"Branded button"})}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.Button,{variant:"branded",label:"Branded button with icon",PrefixSlot:(0,a.getIcon)(a.SkypeIcon.Plus,a.IconSize.size24,e)})}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.Button,{variant:"branded",label:"Branded button fluid",fluid:!0})})]}),(0,o.jsxs)(n.Column,{width:350,space:"size80",borderRightColor:"dividerPrimary",borderRightWidth:1,paddingX:"size80",children:[(0,o.jsx)(r.Header,{size:r.HeaderSize.h4,children:"Ghost"}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.Button,{variant:"ghost",label:"Ghost sbutton"})}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.Button,{variant:"ghost",label:"Ghost button with icon",PrefixSlot:(0,a.getIcon)(a.SkypeIcon.Plus,a.IconSize.size24,t)})}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.Button,{variant:"ghost",label:"Ghost button fluid",fluid:!0})})]})]}),(0,o.jsxs)(n.Row,{flex:"1",space:"size80",children:[(0,o.jsxs)(n.Column,{width:350,space:"size80",borderRightColor:"dividerPrimary",borderRightWidth:1,paddingX:"size80",children:[(0,o.jsx)(r.Header,{size:r.HeaderSize.h4,children:"Outline"}),(0,o.jsx)(r.BodyText,{children:"Outline buttons are coming soon."})]}),(0,o.jsxs)(n.Column,{width:350,space:"size80",borderRightColor:"dividerPrimary",borderRightWidth:1,paddingX:"size80",children:[(0,o.jsx)(r.Header,{size:r.HeaderSize.h4,children:"Branded outline"}),(0,o.jsx)(r.BodyText,{children:"Branded outline buttons are coming soon."})]}),(0,o.jsxs)(n.Column,{width:350,space:"size80",borderRightColor:"dividerPrimary",borderRightWidth:1,paddingX:"size80",children:[(0,o.jsx)(r.Header,{size:r.HeaderSize.h4,children:"Color"}),(0,o.jsx)(r.BodyText,{children:"Color buttons are coming soon."})]})]}),(0,o.jsxs)(n.Row,{flex:"1",space:"size80",children:[(0,o.jsxs)(n.Column,{width:350,space:"size80",borderRightColor:"dividerPrimary",borderRightWidth:1,paddingX:"size80",children:[(0,o.jsx)(r.Header,{size:r.HeaderSize.h4,children:"Icon Button Ghost"}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.IconButton,{icon:"compose",size:"sm",accessibilityLabel:"Compose",onPress:()=>alert("Compose button pressed")})}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.IconButton,{icon:"compose",accessibilityLabel:"Compose",onPress:()=>alert("Compose button pressed")})}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.IconButton,{icon:"compose",size:"lg",accessibilityLabel:"Compose",onPress:()=>alert("Compose button pressed")})})]}),(0,o.jsxs)(n.Column,{width:350,space:"size80",borderRightColor:"dividerPrimary",borderRightWidth:1,paddingX:"size80",children:[(0,o.jsx)(r.Header,{size:r.HeaderSize.h4,children:"Icon Button Branded"}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.IconButton,{variant:"branded",icon:"compose",size:"sm",accessibilityLabel:"Compose",onPress:()=>alert("Compose button pressed")})}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.IconButton,{variant:"branded",icon:"compose",accessibilityLabel:"Compose",onPress:()=>alert("Compose button pressed")})}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.IconButton,{variant:"branded",icon:"compose",size:"lg",accessibilityLabel:"Compose",onPress:()=>alert("Compose button pressed")})})]}),(0,o.jsxs)(n.Column,{width:350,space:"size80",borderRightColor:"dividerPrimary",borderRightWidth:1,paddingX:"size80",children:[(0,o.jsx)(r.Header,{size:r.HeaderSize.h4,children:"Icon Button Color"}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.IconButton,{variant:"color",icon:"compose",size:"sm",accessibilityLabel:"Compose",onPress:()=>alert("Compose button pressed")})}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.IconButton,{variant:"color",icon:"compose",accessibilityLabel:"Compose",onPress:()=>alert("Compose button pressed")})}),(0,o.jsx)(n.Row,{height:"size320",children:(0,o.jsx)(n.IconButton,{variant:"color",icon:"compose",size:"lg",accessibilityLabel:"Compose",onPress:()=>alert("Compose button pressed")})})]})]})]})};const o=i(785893),n=i(344175),r=i(262725),a=i(641400),s=i(206315)},589193:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({}){const{colors:{strokeSecondary:e}}=(0,r.useSUITheme)(),[t,i]=(0,n.useState)(!1),a=()=>i(!t);return(0,o.jsxs)(r.Column,{space:"size80",children:[(0,o.jsx)(r.Title,{variant:"2",text:"Checkbox"}),(0,o.jsxs)(r.Row,{flex:"1",space:"size80",children:[(0,o.jsxs)(r.Column,{space:"size120",alignItems:"center",borderRightWidth:1,borderRightColor:e,paddingX:"size80",children:[(0,o.jsx)(r.Toggle,{variant:"checkbox",isOn:!t,onChange:a,accessibilityLabel:"Option is selected"}),(0,o.jsx)(r.Subhead,{variant:"3",text:"On",color:"textSecondary"})]}),(0,o.jsxs)(r.Column,{space:"size120",alignItems:"center",borderRightWidth:1,borderRightColor:e,paddingX:"size80",children:[(0,o.jsx)(r.Toggle,{isOn:t,onChange:a,variant:"checkbox",accessibilityLabel:"Option is not selected"}),(0,o.jsx)(r.Subhead,{variant:"3",text:"Off",color:"textSecondary"})]}),(0,o.jsxs)(r.Column,{space:"size120",alignItems:"center",borderRightWidth:1,borderRightColor:e,paddingX:"size80",children:[(0,o.jsx)(r.Toggle,{variant:"checkbox",isOn:!t,onChange:a,disabled:!0,accessibilityLabel:"Option is selected and disabled"}),(0,o.jsx)(r.Subhead,{variant:"3",text:"On. Disabled",color:"textSecondary"})]}),(0,o.jsxs)(r.Column,{space:"size120",alignItems:"center",borderRightWidth:1,borderRightColor:e,paddingX:"size80",children:[(0,o.jsx)(r.Toggle,{variant:"checkbox",isOn:t,onChange:a,disabled:!0,accessibilityLabel:"Option is not selected and disabled"}),(0,o.jsx)(r.Subhead,{variant:"3",text:"Off. Disabled",color:"textSecondary"})]})]})]})};const o=i(785893),n=i(667294),r=i(344175)},704427:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(217041),a=i(344175),s=i(262725),l=i(343055),c=o.__importDefault(i(363091));function d({conversationId:e}){const t="28:a62068e3-63e9-4ffc-89a6-14d841e224d2";return(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.Header,{size:s.HeaderSize.h2,children:"Conversation Avatar"}),(0,n.jsx)(s.BodyText,{children:"Conversation avatar. This component is aware of conversation entity and should not be used for other entities."}),(0,n.jsx)(s.Caption,{children:"Decides whether to render a round or square avatar based on the conversation type. Will render a fallback initials avatar if the avatar image fails to load."}),(0,n.jsx)(s.Header,{size:s.HeaderSize.h4,children:"Conversation"}),(0,n.jsxs)(a.Row,{space:"size80",children:[(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"xxxs"}),(0,n.jsx)(l.ConversationAvatar,{id:e,size:"xxxs"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"xxs"}),(0,n.jsx)(l.ConversationAvatar,{id:e,size:"xxs"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"xs"}),(0,n.jsx)(l.ConversationAvatar,{id:e,size:"xs"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"sm"}),(0,n.jsx)(l.ConversationAvatar,{id:e,size:"sm"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"md"}),(0,n.jsx)(l.ConversationAvatar,{id:e,size:"md"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"lg"}),(0,n.jsx)(l.ConversationAvatar,{id:e,size:"lg"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"xl"}),(0,n.jsx)(l.ConversationAvatar,{id:e,size:"xl"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"xxl"}),(0,n.jsx)(l.ConversationAvatar,{id:e,size:"xxl"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"xxxl"}),(0,n.jsx)(l.ConversationAvatar,{id:e,size:"xxxl"})]})]}),(0,n.jsx)(s.Header,{size:s.HeaderSize.h4,children:"Bot"}),(0,n.jsxs)(a.Row,{space:"size80",children:[(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"xxxs"}),(0,n.jsx)(l.ConversationAvatar,{id:t,size:"xxxs"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"xxs"}),(0,n.jsx)(l.ConversationAvatar,{id:t,size:"xxs"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"xs"}),(0,n.jsx)(l.ConversationAvatar,{id:t,size:"xs"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"sm"}),(0,n.jsx)(l.ConversationAvatar,{id:t,size:"sm"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"md"}),(0,n.jsx)(l.ConversationAvatar,{id:t,size:"md"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"lg"}),(0,n.jsx)(l.ConversationAvatar,{id:t,size:"lg"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"xl"}),(0,n.jsx)(l.ConversationAvatar,{id:t,size:"xl"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"xxl"}),(0,n.jsx)(l.ConversationAvatar,{id:t,size:"xxl"})]}),(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.BodyText,{children:"xxxl"}),(0,n.jsx)(l.ConversationAvatar,{id:t,size:"xxxl"})]})]})]})}class u extends r.ComponentBase{_buildState(){return{conversationId:c.default.getSkypeMri()}}render(){return(0,n.jsx)(d,Object.assign({},this.props,{conversationId:this.state.conversationId}))}}t.default=u},58327:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{gradients:{secondary:e}}=(0,l.useSkypeTheme)(),[t,i]=(0,r.useState)(c[0].value),o=(0,r.useCallback)((e=>{i(e)}),[]);return(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.Picker,{style:{width:300},items:c,selectedValue:t,onValueChange:o}),(0,n.jsx)(s.Center,{height:100,width:100,children:(0,n.jsx)(s.Gradient,{direction:parseInt(t,10),colors:e,style:{width:100,height:100,borderRadius:50}})})]})};const o=i(197582),n=i(785893),r=i(667294),a=o.__importStar(i(516778)),s=i(344175),l=i(206315),c=[{label:"Bottom",value:s.Direction.bottom.toString()},{label:"Bottom Left",value:s.Direction.bottomLeft.toString()},{label:"Bottom Right",value:s.Direction.bottomRight.toString()},{label:"Left",value:s.Direction.left.toString()},{label:"Right",value:s.Direction.right.toString()},{label:"Top",value:s.Direction.top.toString()},{label:"Top Left",value:s.Direction.topLeft.toString()},{label:"Top Right",value:s.Direction.topRight.toString()},{label:"To Bottom Right",value:s.Direction.toBottomRight.toString()}]},452290:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=Object.entries(n.Spacing).map((([e,t])=>(0,o.jsxs)(n.Row,{space:"size40",alignItems:"center",children:[(0,o.jsx)(n.Body,{text:e}),(0,o.jsx)(n.Body,{text:t.toString()}),(0,o.jsx)(n.Box,{backgroundColor:"surfaceInteractiveFill",height:"size80",paddingLeft:e})]},e)));return(0,o.jsx)(r.SafeAreaView,{style:a.container,children:(0,o.jsx)(n.Column,{space:"size80",children:e})})};const o=i(785893),n=i(344175),r=i(537180);const a=r.StyleSheet.create({container:{flex:1}})},539001:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({}){const{textStyle:e}=(0,l.useSkypeStyles)((({themeColors:{textPrimary:e}})=>({textStyle:{fontSize:12,color:e}})),[]),[t,i]=(0,r.useState)(""),[o,u]=(0,r.useState)(p),g=(0,r.useCallback)((e=>{i(e),u(p.filter((t=>d.default.deburrLowerCase(t).includes(d.default.deburrLowerCase(e)))))}),[i,u]),h=(0,r.useCallback)((()=>{i(""),u(p)}),[i,u]);return(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(c.SearchRow,{variant:"regular",children:(0,n.jsx)(c.SearchInput,{query:t,isClearVisible:t.length>0,isLoading:!1,onQueryChange:g,onClear:h,onEscape:h})}),(0,n.jsx)(s.Row,{space:"size80",flexWrap:"wrap",children:o.map((t=>(0,n.jsxs)(s.Column,{alignItems:"center",space:"size40",children:[(0,n.jsx)(s.Icon,{icon:t}),(0,n.jsx)(a.Text,{style:e,children:t})]},t)))})]})};const o=i(197582),n=i(785893),r=i(667294),a=i(537180),s=i(344175),l=i(964414),c=i(885838),d=o.__importDefault(i(655192)),u=i(641400),p=Object.keys((0,u.resolveIcons)())},22853:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({}){const[e,t]=(0,r.useState)(void 0),[i,o]=(0,r.useState)(void 0),a=Array.from({length:5},((e,t)=>(0,n.jsx)(s.Box,{width:"size400",height:"size400",borderRadius:10,backgroundColor:"surfaceSecondary",justifyContent:"center",alignItems:"center",borderWidth:1,borderColor:"strokeAccent",children:(0,n.jsx)(s.Body,{color:"textPrimary",text:t.toString()})},t)));return(0,n.jsx)(l.SafeAreaView,{style:p.container,children:(0,n.jsxs)(l.ScrollView,{children:[(0,n.jsx)(u,{space:e,padding:i,onUpdate:(e,i)=>{"space"===e&&t(i),"padding"===e&&o(i)}}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(s.Title,{text:"Row"}),(0,n.jsx)(s.Row,{padding:i,space:e,borderWidth:1,borderColor:"dividerPrimary",children:a})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(s.Title,{text:"Column"}),(0,n.jsx)(s.Column,{padding:i,space:e,borderWidth:1,borderColor:"dividerPrimary",children:a})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(s.Title,{text:"Box"}),(0,n.jsx)(s.Box,{borderWidth:1,borderColor:"dividerPrimary",padding:i,children:a})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(s.Title,{text:"Center"}),(0,n.jsx)(s.Center,{borderWidth:1,borderColor:"dividerPrimary",padding:i,children:a})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(s.Title,{text:"ZStack"}),(0,n.jsx)(c.ZStack,{borderWidth:1,borderColor:"dividerPrimary",padding:i,children:a})]})]})})};const o=i(197582),n=i(785893),r=i(667294),a=o.__importStar(i(516778)),s=i(344175),l=i(537180),c=i(629553),d=Object.keys(s.Spacing).map((e=>({label:e,value:e})));const u=({space:e,padding:t,onUpdate:i})=>(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(s.Title,{text:"Control Panel"}),(0,n.jsxs)(s.Row,{space:"size40",children:[(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(s.Body,{text:"Choose token or enter a number. Using explicit numbers is not recommended."}),(0,n.jsxs)(s.Row,{space:"size20",flex:"1",children:[(0,n.jsx)(a.Picker,{style:{width:300},items:d,selectedValue:e,onValueChange:e=>i("space",e)}),(0,n.jsx)(l.TextInput,{onChange:e=>i("space",parseInt(e.nativeEvent.text,10)),placeholder:"Enter Space numeric value",inputMode:"numeric"})]})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(s.Body,{text:"Choose token or enter a number. Using explicit numbers is not recommended."}),(0,n.jsxs)(s.Row,{space:"size20",flex:"1",children:[(0,n.jsx)(a.Picker,{style:{width:300},items:d,selectedValue:t,onValueChange:e=>i("padding",e)}),(0,n.jsx)(l.TextInput,{onChange:e=>i("padding",parseInt(e.nativeEvent.text,10)),placeholder:"Enter Padding numeric value",inputMode:"numeric"})]})]})]})]}),p=l.StyleSheet.create({container:{flex:1}})},48338:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({}){return(0,o.jsx)(n.Column,{space:"size160",children:r.map((e=>(0,o.jsx)(n.ListItem,Object.assign({},e),e.id)))})};const o=i(785893),n=i(344175),r=[{id:"1",label:"Just a label",variant:"label_only"},{id:"2",label:"Label with icon prefix",variant:"icon_before",icon:"people",withBottomDivider:!0},{id:"3",label:"Label and icon accessory",variant:"label_only",accessory:"icon",accessoryIcon:"info",withBottomDivider:!0},{id:"4",label:"Label and checkbox accessory",variant:"label_only",accessory:"radio",accessoryIsSelected:!0},{id:"5",label:"Label and button accessory",variant:"label_only",accessory:"button",accessoryButtonLabel:"Button",accessoryButtonOnPress:e=>{e.stopPropagation(),alert("Button pressed")},onPress:()=>{alert("Item pressed")},withBottomDivider:!0},{id:"6",label:"Label and text accessory",variant:"label_only",accessory:"text",accessoryText:"Text"},{id:"7",label:"Label and disclosure accessory",variant:"label_only",accessory:"disclosure",onPress:()=>{alert("Disclosure pressed")}},{id:"8",label:"Label and disclosure with text accessory",variant:"label_only",accessory:"text_disclosure",accessoryText:"Text",withBottomDivider:!0}]},652786:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({}){const[e,t]=(0,r.useState)("all");return(0,o.jsxs)(n.Column,{children:[(0,o.jsxs)(n.Column,{children:[(0,o.jsx)(a.Header,{size:a.HeaderSize.h3,children:"Pill"}),(0,o.jsx)(n.Row,{paddingX:"size80",paddingTop:"size80",paddingBottom:"size120",height:52,space:"size80",justifyContent:"space-between",flexWrap:"nowrap",backgroundColor:"surfacePrimary",children:(0,o.jsx)(n.SegmentedControl,{variant:"pill",onSelectionChange:t,items:[{id:"all",label:"All"},{id:"chats",label:"Chats"},{id:"channels",label:"Channels"}],selectedId:e})})]}),(0,o.jsxs)(n.Column,{children:[(0,o.jsx)(a.Header,{size:a.HeaderSize.h3,children:"Pill Fluid"}),(0,o.jsx)(n.Row,{paddingX:"size80",paddingTop:"size80",paddingBottom:"size120",height:52,space:"size80",justifyContent:"space-between",flexWrap:"nowrap",backgroundColor:"surfacePrimary",children:(0,o.jsx)(n.SegmentedControl,{fluid:!0,variant:"pill",onSelectionChange:t,items:[{id:"all",label:"All"},{id:"chats",label:"Chats"},{id:"channels",label:"Channels"}],selectedId:e})})]}),(0,o.jsxs)(n.Column,{children:[(0,o.jsx)(a.Header,{size:a.HeaderSize.h3,children:"Segmented"}),(0,o.jsx)(n.Row,{paddingX:"size80",paddingTop:"size80",paddingBottom:"size120",height:52,space:"size80",justifyContent:"space-between",flexWrap:"nowrap",backgroundColor:"surfacePrimary",children:(0,o.jsx)(n.SegmentedControl,{variant:"segmented",onSelectionChange:t,items:[{id:"all",label:"All"},{id:"chats",label:"Chats"},{id:"channels",label:"Channels"}],selectedId:e})})]})]})};const o=i(785893),n=i(344175),r=i(667294),a=i(262725)},955309:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({}){const{userColor:e}=(0,c.useCommonContext)(),{mode:{isDark:t,isAccessible:i}}=(0,d.useSkypeTheme)(),o=(0,r.useMemo)((()=>Object.assign({},(0,u.getSkypeColors)(i?"highContrast":e.key,t?"dark":"light"))),[i,t,e.key]);return(0,n.jsx)(a.SafeAreaView,{style:{flex:1},children:(0,n.jsx)(h,{allColors:o})})};const o=i(197582),n=i(785893),r=i(667294),a=i(537180),s=o.__importStar(i(516778)),l=i(344175),c=i(736267),d=i(206315),u=i(925890),p=o.__importDefault(i(655192)),g=i(885838);function h({allColors:e}){const{gradients:t}=(0,d.useSkypeTheme)(),[i,o]=(0,r.useState)(""),[a,c]=(0,r.useState)(e);(0,r.useEffect)((()=>{c(m(e,i))}),[e,i]);const u=(0,r.useCallback)((t=>{o(t),c(m(e,t))}),[e]),p=(0,r.useCallback)((()=>{o(""),c(e)}),[e]),h=Object.entries(a).sort().reduce(((e,[t,i])=>(!0===i||!1===i||e.push((0,n.jsxs)(l.Row,{space:"size80",alignItems:"center",children:[(0,n.jsx)(l.Box,{backgroundColor:i,width:"size240",height:"size240",borderRadius:"full"}),(0,n.jsx)(l.Body,{text:t})]},t)),e)),[]),S=Object.entries(t).sort().map((([e,t])=>(0,n.jsxs)(l.Row,{space:"size80",alignItems:"center",children:[(0,n.jsx)(l.Box,{position:"relative",width:50,height:50,children:(0,n.jsx)(l.Gradient,{direction:l.Direction.top,colors:t,style:{width:50,height:50,borderRadius:50}})}),(0,n.jsx)(l.Body,{text:e})]},e)));return(0,n.jsxs)(s.ScrollView,{children:[(0,n.jsx)(l.Title,{text:"Colors",variant:"2"}),(0,n.jsx)(g.SearchRow,{variant:"regular",children:(0,n.jsx)(g.SearchInput,{query:i,isClearVisible:i.length>0,isLoading:!1,onQueryChange:u,onClear:p,onEscape:p})}),(0,n.jsx)(l.Row,{space:"size80",style:{gap:4},flexWrap:"wrap",children:h}),(0,n.jsx)(l.Title,{text:"Gradients",variant:"2"}),(0,n.jsx)(l.Row,{flexWrap:"wrap",space:"size80",children:S})]})}function m(e,t){return Object.assign({},...Object.entries(e).filter((([e,i])=>p.default.deburrLowerCase(e).includes(p.default.deburrLowerCase(t)))).map((([e,t])=>({[e]:t}))))}},147235:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,o.jsxs)(n.Column,{children:[(0,o.jsxs)(n.Row,{space:"size80",children:[(0,o.jsx)(n.Title,{variant:"large",text:"Large Title"}),(0,o.jsx)(n.Title,{variant:"1",text:"Title 1"}),(0,o.jsx)(n.Title,{variant:"2",text:"Title 2"}),(0,o.jsx)(n.Title,{variant:"3",text:"Title 3"})]}),(0,o.jsx)(n.Row,{space:"size80",children:(0,o.jsx)(n.Callout,{text:"Callout text"})}),(0,o.jsxs)(n.Row,{space:"size80",children:[(0,o.jsx)(n.Subhead,{variant:"1",text:"Subhead 1"}),(0,o.jsx)(n.Subhead,{variant:"2",text:"Subhead 2"}),(0,o.jsx)(n.Subhead,{variant:"3",text:"Subhead 3"})]}),(0,o.jsxs)(n.Row,{space:"size80",children:[(0,o.jsx)(n.Body,{variant:"1",text:"Body 1"}),(0,o.jsx)(n.Body,{variant:"2",text:"Body 2"}),(0,o.jsx)(n.Body,{variant:"3",text:"Body 3"})]}),(0,o.jsx)(n.Row,{space:"size80",children:(0,o.jsx)(n.Footnote,{text:"Footnote"})}),(0,o.jsxs)(n.Row,{space:"size80",children:[(0,o.jsx)(n.Caption,{variant:"1",text:"Caption 1"}),(0,o.jsx)(n.Caption,{variant:"2",text:"Caption 2"}),(0,o.jsx)(n.Caption,{variant:"3",text:"Caption 3"}),(0,o.jsx)(n.Caption,{variant:"4",text:"Caption 4"})]})]})};const o=i(785893),n=i(344175)},338585:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(859745)),s=o.__importStar(i(516778)),l=i(154235),c=i(26703),d=o.__importDefault(i(660401)),u=o.__importDefault(i(679706)),p=i(262725),g=100,h=(0,c.lazyProperties)({container:()=>s.Styles.createViewStyle({justifyContent:"space-between",paddingBottom:20}),component:()=>s.Styles.createViewStyle({height:g,width:g,backgroundColor:"red",marginBottom:20}),picker:()=>s.Styles.createPickerStyle({maxWidth:300,marginBottom:20}),buttons:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center"})});class m extends u.default{static getHeaderText(){return"Animations"}constructor(e){super(e),this._fadeIn=()=>(this._sxAnimatedView.setValue({opacity:0}),{start:()=>{this._sxAnimatedView.fadeIn()},stop:r.noop}),this._fadeOut=()=>(this._sxAnimatedView.setValue({opacity:1}),{start:()=>{this._sxAnimatedView.fadeOut()},stop:r.noop}),this._getTranslateXToValue=()=>this._isRTL()?0:this._layout.width-g,this._onLayout=e=>{this._layout=e,this._resetAnimatedStyles()},this._onPickerValueChange=e=>{this.setState({selectedAnimation:e})},this._onSXAnimatedViewRef=e=>{this._sxAnimatedView=e},this._resetAnimatedStyles=()=>{const e=this._getInitX();this._sxAnimatedView.setValue({scale:1,x:e,y:0,opacity:1})},this._scale=()=>this._sxAnimatedView.getAnimation({scale:.5},"sxplayground"),this._scaleAndTranslateX=()=>{const e=this._getTranslateXToValue(),t=this._getInitX();return this._sxAnimatedView.setValue({x:t}),this._sxAnimatedView.getAnimation({x:e,scale:.5},"sxplayground")},this._start=()=>{this._resetAnimatedStyles(),this._testAnimations[this.state.selectedAnimation](this._layout,this._sxAnimatedView).start()},this._testAnimations={scale:(e,t)=>this._scale(),"x right":(e,t)=>this._translateX(),"x left":(e,t)=>this._translateX(),"scale, x right":(e,t)=>this._scaleAndTranslateX(),"scale, x left":(e,t)=>this._scaleAndTranslateX(),"fadeIn()":(e,t)=>this._fadeIn(),"fadeOut()":(e,t)=>this._fadeOut()},this._translateX=()=>{const e=this._getInitX(),t=this._getTranslateXToValue();return this._sxAnimatedView.setValue({x:e}),this._sxAnimatedView.getAnimation({x:t},"sxplayground")},this._pickerItems=r.map(r.keys(this._testAnimations),(e=>({label:e,value:e}))),this.state={selectedAnimation:this.state?this.state.selectedAnimation:this._pickerItems[0].value}}componentDidMount(){super.componentDidMount()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.selectedAnimation!==t.selectedAnimation&&this._resetAnimatedStyles()}render(){return(0,n.jsxs)(s.View,{style:h.container,onLayout:this._onLayout,children:[(0,n.jsx)(p.Header,{size:3,selectable:!0,children:"More coming soon... "}),(0,n.jsx)(a.View,{ref:this._onSXAnimatedViewRef,style:h.component}),(0,n.jsx)(s.Picker,{style:h.picker,items:this._pickerItems,selectedValue:this.state.selectedAnimation,onValueChange:this._onPickerValueChange}),(0,n.jsxs)(s.View,{style:h.buttons,children:[(0,n.jsx)(d.default,{buttonSize:l.SXButtonSize.Medium,title:"Start",onPress:this._start}),(0,n.jsx)(d.default,{buttonStyle:l.SXButtonStyle.ThemeNoBackground,buttonSize:l.SXButtonSize.Medium,title:"reset",onPress:this._resetAnimatedStyles})]})]})}_getInitX(){return this._isRTL()?this._layout.width-g:0}_isRTL(){return r.includes(this.state.selectedAnimation,"left")}}t.default=m},276766:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importStar(i(187140)),l=i(154235),c=i(26703),d=o.__importDefault(i(660401)),u=i(641400),p=o.__importDefault(i(252089)),g=o.__importDefault(i(679706)),h=o.__importStar(i(730540)),m=o.__importDefault(i(429955)),S=i(16549),_=(0,c.lazyProperties)({titleInput:()=>a.Styles.createTextInputStyle({width:100,borderWidth:1}),multilineWidth:()=>a.Styles.createViewStyle({maxWidth:120})}),f="Button";class y extends g.default{constructor(e){super(e),this.state={buttonStyle:l.SXButtonStyle.GradientFill,title:f,subtitle:void 0,buttonSize:l.SXButtonSize.Medium,iconPositon:l.SXButtonIconPosition.Start,userPrimaryColor:p.default.getPrimaryColor()}}render(){return(0,n.jsx)(a.ScrollView,{children:[this._renderComponentSection("ActionButton.tsx",this._renderActionButton()),this._renderComponentSection("SXButton.tsx",this._renderSXButton())]})}_renderActionButton(){return r.flatten([this._renderActionButtonSize(),this._renderActionButtonWithBackgroundColor(),this._renderActionButtonWithGradientIcon()])}_renderActionButtonWithBackgroundColor(){return this._renderPropSection("props",{title:"ActionButton.tsx: props",url:"#"},[this._renderPropOptionSection("backgroundColor",(0,n.jsx)(s.default,{backgroundColor:S.Color.red,icon:u.SkypeIcon.Alert}),!1),this._renderPropOptionSection("disabled",(0,n.jsx)(s.default,{disabled:!0,icon:u.SkypeIcon.SkypeIcon}),!1),this._renderPropOptionSection("flipIcon",(0,n.jsx)(s.default,{flipIcon:!0,icon:u.SkypeIcon.SkypeIcon}),!1),this._renderPropOptionSection("iconSize",(0,n.jsx)(s.default,{iconSize:36,icon:u.SkypeIcon.SkypeIcon}),!1),this._renderPropOptionSection("iconColor",(0,n.jsx)(s.default,{iconColor:S.Color.red,icon:u.SkypeIcon.SkypeIcon}),!1),this._renderPropOptionSection("deselected",(0,n.jsx)(s.default,{deselected:!0,icon:u.SkypeIcon.SkypeIcon}),!1)])}_renderActionButtonWithGradientIcon(){return this._renderPropSection("gradient icon",{title:"PauseGradient.svg: defs",url:"#"},[this._renderPropOptionSection("set linearGradient in *.svg file",(0,n.jsx)(s.default,{backgroundColor:S.Color.gray100,iconColor:this.state.userPrimaryColor,icon:u.SkypeIcon.PauseGradient}),!1)])}_renderActionButtonSize(){const e=h.getEnumEntries(s.ActionButtonSize);return this._renderPropSection("size",{title:"ActionButton.tsx: ActionButtonSize",url:"#"},e.map(((e,t)=>this._renderPropOptionSection(e,(0,n.jsx)(s.default,{icon:u.SkypeIcon.Plus,size:t},"actioButtonSize"+t),!1))))}_renderSXButton(){return r.flatten([this._renderTitle(),this._renderSubtitle(),this._renderMultiline(),this._renderSXButtonStyle(),this._renderButtonSize(),this._renderIconSection(),this._renderActivityIndicatorSection()])}_renderTitle(){const e=this._renderInput(f,(e=>{this.setState({title:e.length?e:f})}));return this._renderPropSection("title",{title:"string",url:"#"},e)}_renderSubtitle(){const e=this._renderInput("subtitle",(e=>{this.setState({subtitle:e.length?e:void 0})}));return this._renderPropSection("subtitle",{title:"string",url:"#"},e)}_renderMultiline(){const e=(0,n.jsx)(m.default,{isOn:this.state.allowTextWrap,accessibilityLabel:this.props.accessibilityLabel,onChange:(e,t)=>{this.setState({allowTextWrap:t})}});return this._renderPropSection("allowTextWrap",{title:"boolean",url:"#"},e)}_renderSXButtonStyle(){const e=h.getEnumEntries(l.SXButtonStyle),t=r.map(e,((e,t)=>this._renderButtonPropDemo(e+t,e,t===this.state.buttonStyle,{buttonStyle:t,onPress:()=>{this.setState({buttonStyle:t})}})));return this._renderPropSection("buttonStyle",{title:"CommonUiModels.ts: SXButtonStyle",url:"https://aka.ms/skype-coreui-sxbutton-props"},t)}_renderButtonSize(){const e=h.getEnumEntries(l.SXButtonSize),t=["Primary Button","Primary Button","Tertiary Button"],i=r.map(e,((e,i)=>this._renderButtonPropDemo(e+i,`${e}\n(${t[i]})`,i===this.state.buttonSize,{buttonSize:i,onPress:()=>{this.setState({buttonSize:i})}})));return this._renderPropSection("buttonSize + GradientFill",{title:"CommonUIModels.ts: SXButtonSize",url:"https://aka.ms/skype-coreui-sxbutton-props"},i)}_renderIconSection(){const e=h.getEnumEntries(l.SXButtonIconPosition),t=this._renderPropSection("iconPosition",{title:"CommonUIModels.ts: SXButtonIconPosition",url:"https://aka.ms/skype-coreui-sxbutton-props"},r.map(e,((e,t)=>this._renderButtonPropDemo(e+t,e,t===this.state.iconPositon,{icon:u.SkypeIcon.SkypeIcon,iconPositon:t,onPress:()=>{this.setState({iconPositon:t})}})))),i=h.getEnumEntries(u.IconSize);return[t,this._renderPropSection("iconSize",{title:"SXIconModels.ts: IconSize",url:"https://aka.ms/skype-coreui-sxbutton-props"},r.map(i,((e,t)=>{const i=h.getIconSizeFromEnumPropertyName(e);return this._renderButtonPropDemo(e+t,e,!1,{icon:u.SkypeIcon.SkypeIcon,iconSize:i})})))]}_renderActivityIndicatorSection(){const e=r.map([!0,!1],(e=>{const t=e.toString();return this._renderButtonPropDemo("activityIndicator"+t,t,!1,{showActivityIndicator:e})}));return e.push(this._renderButtonPropDemo("activityIndicatortruewithicon","true with icon",!1,{showActivityIndicator:!0,icon:u.SkypeIcon.SkypeIcon})),this._renderPropSection("showActivityIndicator",{title:"boolean",url:"#"},e)}_renderButtonPropDemo(e,t,i,o){const a={buttonStyle:this.state.buttonStyle,title:this.state.title,buttonSize:this.state.buttonSize,subtitle:this.state.subtitle,iconPositon:this.state.iconPositon,allowTextWrap:this.state.allowTextWrap,style:this.state.allowTextWrap?_.multilineWidth:void 0,agnosticGradientColor:S.AgnosticGradientFillButtonColors.orange};return this._renderPropOptionSection(t,(0,n.jsx)(d.default,Object.assign({},r.extend(a,o)),e),i)}_renderInput(e,t){return(0,n.jsx)(a.TextInput,{style:[_.titleInput,this._themeStyles.viewBorderStyle],placeholder:e,blurOnSubmit:!0,onChangeText:r.debounce(t,100)},"textinput"+e)}}t.default=y},602251:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(453761)),l=o.__importDefault(i(142193)),c=i(16549),d=i(641400),u=o.__importDefault(i(679706)),p=o.__importStar(i(730540)),g=o.__importDefault(i(827361));class h extends u.default{constructor(e){super(e),this._setIcon=e=>{this.setState({icon:e})},this._setIconSize=e=>{this.setState({size:e})},this.state={icon:d.SkypeIcon.SkypeIcon,size:d.IconSize.default}}render(){return(0,n.jsx)(a.ScrollView,{children:this._renderSXIconsSection()})}_renderSXIconsSection(){const e=p.getEnumEntries(d.IconSize),t=this._renderPropSection("iconSize",{title:"SXIconModels.ts: IconSize",url:"https://aka.ms/skype-coreui-sxbutton-props"},r.map(e,((e,t)=>{const i=p.getIconSizeFromEnumPropertyName(e);return this._renderPropOptionSection(e,(0,n.jsx)(s.default,{icon:this.state.icon,size:i,color:this._themeColors.primaryIconColor,hoverColor:this._themeColors.iconHoverColor,onPress:()=>{this._setIconSize(i)}},"Iconsize"+t),this.state.size===i)}))),i=this._renderPropSection("SkypeIcon",{title:"https://skypeassets.azurewebsites.net/skype-assets/",url:"https://skypeassets.azurewebsites.net/skype-assets/"},r.map(Object.keys(d.SkypeIcon).filter((e=>isNaN(Number(e)))),(e=>this._renderPropOptionSection(e,(0,n.jsx)(s.default,{icon:d.SkypeIcon[e],size:this.state.size,color:this._themeColors.primaryIconColor,hoverColor:this._themeColors.iconHoverColor,onPress:()=>this._setIcon(d.SkypeIcon[e])},"icon"+e),this.state.icon===d.SkypeIcon[e],[g.default.flexOne])))),o=this._renderPropSection("CompositeIcon",{title:"CompositeIcon.tsx",url:"https://skypeassets.azurewebsites.net/skype-assets/"},[(0,n.jsx)(l.default,{icons:[{icon:d.SkypeIcon.CallRecordStroke,color:c.Color.white},{icon:d.SkypeIcon.CallRecordDot,color:c.Color.red}],iconSize:this.state.size}),(0,n.jsx)(l.default,{icons:[{icon:d.SkypeIcon.GlobeCredit,color:c.Color.yellow},{icon:d.SkypeIcon.CreditGlobe,color:c.Color.blue}],iconSize:this.state.size})]);return this._renderComponentSection("SXIconModels.ts",[t,i,o])}}t.default=h},912805:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(483753),l=i(483753),c=o.__importDefault(i(20758)),d=o.__importDefault(i(52066)),u=o.__importDefault(i(679706));class p extends u.default{constructor(e){super(e),this.LINK_LABEL="This is a link"}render(){return[this._renderComponentSection("Links comparison",this._renderLinks())]}_renderLinks(){return r.flatten([this._renderLink(),this._renderAccessibleLink(),this._renderSXLink(),this._renderRXLink()])}_renderLink(){return this._renderPropSection("Link (recommended: accessible and theme aware)",{title:"Link.tsx",url:"#"},[this._renderPropOptionSection("",(0,n.jsx)(s.Link,{style:c.default.captionFontStyle(this._currentTheme),url:"#",children:this.LINK_LABEL}),!1)])}_renderAccessibleLink(){return this._renderPropSection("AccessibleLink (not hoverable)",{title:"AccessibleLink.tsx",url:"#"},[this._renderPropOptionSection("",(0,n.jsx)(l.AccessibleLink,{style:c.default.captionFontStyle(this._currentTheme),url:"#",children:this.LINK_LABEL}),!1)])}_renderSXLink(){return this._renderPropSection("SXLink (deprecated)",{title:"SXLink",url:"#"},[this._renderPropOptionSection("",(0,n.jsx)(d.default,{style:c.default.captionFontStyle(this._currentTheme),url:"#",children:this.LINK_LABEL}),!1)])}_renderRXLink(){return this._renderPropSection("RX.Link (deprecated)",{title:"RX.Link",url:"#"},[this._renderPropOptionSection("",(0,n.jsx)(a.Link,{style:c.default.captionFontStyle(this._currentTheme),url:"#",children:this.LINK_LABEL}),!1)])}}t.default=p},679706:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(192478)),s=o.__importDefault(i(186325)),l=i(26703),c=o.__importDefault(i(20758)),d=o.__importDefault(i(827361)),u=i(262725),p=(0,l.lazyProperties)({componentHeading:()=>r.Styles.createTextStyle({paddingVertical:20}),propContent:()=>r.Styles.createButtonStyle({flexDirection:"row",flexWrap:"wrap"}),propContainer:()=>r.Styles.createViewStyle({paddingVertical:20}),propHeading:()=>r.Styles.createTextStyle({paddingBottom:20}),propLink:()=>r.Styles.createTextStyle({marginBottom:20,textDecorationLine:"underline"}),propOptionContainer:()=>r.Styles.createViewStyle({padding:20}),propOptionContainerSelected:()=>r.Styles.createViewStyle({borderWidth:2}),propOptionCaption:()=>r.Styles.createTextStyle({paddingBottom:20}),propOptionContent:()=>r.Styles.createViewStyle({justifyContent:"space-between"})});class g extends a.default{_renderComponentSection(e,t){return(0,n.jsxs)(r.View,{children:[(0,n.jsx)(u.Header,{style:p.componentHeading,size:3,selectable:!0,children:e}),(0,n.jsx)(r.View,{children:t}),(0,n.jsx)(s.default,{})]},e)}_renderPropSection(e,t,i=void 0,o=void 0){const a=t?(0,n.jsx)(r.Link,Object.assign({style:[c.default.subtitleFontStyle(),this._themeStyles.primaryTextColorStyle,this._themeStyles.linkTextColorStyle,p.propLink]},t,{selectable:!0,children:t.title})):void 0;return(0,n.jsxs)(r.View,{style:p.propContainer,children:[(0,n.jsx)(u.Header,{style:a?void 0:p.propHeading,size:5,children:e}),a,(0,n.jsx)(r.View,{style:[p.propContent,o],children:i})]},e)}_renderPropOptionSection(e,t=void 0,i=!1,o=void 0,a="auto"){const s=[d.default.alignItemsCenter,p.propOptionContainer];i&&(s.push(p.propOptionContainerSelected),s.push(this._themeStyles.viewBorderStyle)),o&&s.push(o);const l=r.Styles.createTextStyle({alignSelf:a},!1);return(0,n.jsxs)(r.View,{style:s,children:[(0,n.jsx)(u.CardTitle,{style:[p.propOptionCaption,l],selectable:!0,children:e}),(0,n.jsx)(r.View,{style:p.propOptionContent,children:t})]},e)}}t.default=g},463823:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(26703),l=i(954225),c=o.__importDefault(i(679706)),d=o.__importStar(i(730540)),u=i(262725),p="One Skype for all your devices",g=(0,s.lazyProperties)({propSectionContainer:()=>a.Styles.createViewStyle({flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start"})});class h extends c.default{render(){return(0,n.jsx)(a.ScrollView,{children:[this._renderHeader(),this._renderBodyText(),this._renderCaption(),this._renderCardTitle(),this._renderPanelHeader(),this._renderRowTitle(),this._renderSubtitle()]})}_renderHeader(){const e=d.getEnumEntries(u.HeaderSize);return this._renderComponentSection("Header",this._renderPropSection("size",{title:"SXTextModels.ts: HeaderSize",url:""},r.map(e,((e,t)=>this._renderPropOptionSection(e,(0,n.jsx)(u.Header,{size:t,children:p},"header"+e),!1,void 0,"flex-start"))),[g.propSectionContainer]))}_renderBodyText(){return this._renderComponentSection("BodyText",this._renderPropSection("bold",{title:"boolean",url:"#"},[this._renderPropOptionSection("false",(0,n.jsx)(u.BodyText,{children:p},"bodytext1"),!1,void 0,"flex-start"),this._renderPropOptionSection("true",(0,n.jsx)(u.BodyText,{bold:!0,children:p},"bodytext2"),!1,void 0,"flex-start")],[g.propSectionContainer]))}_renderCaption(){const e=d.getEnumEntries(l.MessageStreamFontSize);return this._renderComponentSection("Caption",this._renderPropSection("messageStreamFontSize (optional)",{title:"MessageStreamModels.ts: MessageStreamFontSize",url:"#"},r.map(e,((e,t)=>this._renderPropOptionSection(e,(0,n.jsx)(u.Caption,{messageStreamFontSize:t,children:p},"caption"+t),!1,void 0,"flex-start"))),[g.propSectionContainer]))}_renderCardTitle(){return this._renderComponentSection("CardTitle",this._renderPropSection("",{title:"",url:"#"},this._renderPropOptionSection("",(0,n.jsx)(u.CardTitle,{children:p},"cardtitle1"),!1,void 0,"flex-start")))}_renderPanelHeader(){return this._renderComponentSection("PanelHeader",this._renderPropSection("",{title:"",url:"#"},this._renderPropOptionSection("",(0,n.jsx)(u.PanelHeader,{children:p},"panelheader1"),!1,void 0,"flex-start")))}_renderRowTitle(){return this._renderComponentSection("RowTitle",this._renderPropSection("disabled",{title:"boolean",url:"#"},[this._renderPropOptionSection("false",(0,n.jsx)(u.RowTitle,{children:p},"RowTitle1"),!1,void 0,"flex-start"),this._renderPropOptionSection("true",(0,n.jsx)(u.RowTitle,{disabled:!0,children:p},"RowTitle2"),!1,void 0,"flex-start")],[g.propSectionContainer]))}_renderSubtitle(){return this._renderComponentSection("Subtitle",this._renderPropSection("",{title:"",url:"#"},this._renderPropOptionSection("",(0,n.jsx)(u.Subtitle,{children:p},"subtitle1"),!1,void 0,"flex-start")))}}t.default=h},730540:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getEnumEntries=function(e){return Object.keys(e).filter((t=>!isNaN(Number(e[t]))))},t.getIconSizeFromEnumPropertyName=function(e){return o.IconSize[e]};const o=i(197582).__importStar(i(641400))},314973:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useMenuItems=function(e){const t=[{id:"sui_section_header",variant:"section_header",label:"Skype UI Playground",withBottomDivider:!0},{id:n.SXPlaygroundScreenId.Avatar,label:"🖼️ Avatar",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.Button,label:"🕹️ Buttons",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.Controls,label:"✅ Controls",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.Gradient,label:"🎨 Gradient",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.Grid,label:"🌐 Grid",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.Layout,label:"📐 Layout",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.Icons,label:"Icons",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.ListItem,label:"List Item",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.SegmentedControl,label:"Segmented Control",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.Theme,label:"🎨 Skype Theme",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.Typography,label:"🖨️ Typography",variant:"label_only",withBottomDivider:!0,onPress:e}],i=[{id:"skype_section_header",variant:"section_header",label:"Skype Playground",withBottomDivider:!0},{id:n.SXPlaygroundScreenId.SkypeButtons,label:"Buttons",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.SkypeAnimations,label:"Animations",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.SkypeIcons,label:"Icons",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.SkypeText,label:"Text",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.SkypeLink,label:"Link",variant:"label_only",withBottomDivider:!0,onPress:e},{id:n.SXPlaygroundScreenId.SkypeEntityAvatars,label:"Entity Avatars",variant:"label_only",withBottomDivider:!0,onPress:e}];return(0,o.useMemo)((()=>[...i,...t]),[])};const o=i(667294),n=i(408441)},827361:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582).__importStar(i(516778)),n=i(843890),r=i(16549),a={};class s{static dimensionsStyle(e){const t=`${e.width}x${e.height}`;return a[t]||(a[t]=o.Styles.createViewStyle({width:e.width,height:e.height})),a[t]}}s.absoluteFill=o.Styles.createViewStyle({position:"absolute",top:0,left:0,right:0,bottom:0}),s.flexOne=o.Styles.createViewStyle({flex:1}),s.flexOneRN=s.flexOne,s.flexRow=o.Styles.createViewStyle({flexDirection:"row"}),s.flexNegativeOne=o.Styles.createViewStyle({flex:-1}),s.flexZero=o.Styles.createViewStyle({flex:0}),s.flexGrowOne=o.Styles.createViewStyle({flexGrow:1}),s.flexGrowZero=o.Styles.createViewStyle({flexGrow:0}),s.alignItemsCenter=o.Styles.createViewStyle({alignItems:"center"}),s.alignItemsFlexStart=o.Styles.createViewStyle({alignItems:"flex-start"}),s.textAlignCenter=o.Styles.createTextStyle({textAlign:"center"}),s.overflowVisible=o.Styles.createViewStyle({overflow:"visible"}),s.transparentBackground=o.Styles.createViewStyle({backgroundColor:r.Color.transparent}),s.floatingStyle=o.Styles.createViewStyle({zIndex:1}),s.newStackingContext=o.Styles.createViewStyle({zIndex:0}),s.noncollapsibleView=s.transparentBackground,s.displayNone={display:"none"},s.noWrap={whiteSpace:"nowrap"},s.pointerCursor=n.UICapabilities.cursorTypesSupported()?o.Styles.createViewStyle({cursor:"pointer"}):void 0,s.defaultCursor=n.UICapabilities.cursorTypesSupported()?o.Styles.createViewStyle({cursor:"default"}):void 0,s.shadowStyle=o.Styles.createViewStyle({overflow:"visible",shadowColor:r.Color.black,shadowOpacity:.7,shadowRadius:2,shadowOffset:{height:2,width:0},elevation:3}),s.shadowLightStyle=o.Styles.createViewStyle({overflow:"visible",shadowColor:r.Color.blackOverlay20,shadowRadius:3,shadowOffset:{height:1,width:0}}),t.default=s},691414:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(167606),s=o.__importStar(i(85385)),l=o.__importDefault(i(601274));class c extends r.Component{constructor(e){super(e),this.scrollToBottom=()=>{var e;const{contentHeight:t,contentVisibleHeight:i}=this.state;(null===(e=this._scrollViewRef)||void 0===e?void 0:e.setScrollTop)&&void 0!==t&&void 0!==i&&(s.log(a.LogTraceArea.CoreUI,"ScrollToBottomView: Scroll to bottom requested"),this._scrollViewRef.setScrollTop(t-i,!0)),this._scrollToBottomTimeout&&(l.default.clearTimeout(this._scrollToBottomTimeout),delete this._scrollToBottomTimeout),this._scrollToBottomTimeout=l.default.setTimeout((()=>{s.log(a.LogTraceArea.CoreUI,"ScrollToBottomView: Scroll to bottom timeout completed"),this.props.onScrollToBottom(),delete this._scrollToBottomTimeout}),200)},this._onScrollViewRef=e=>{this._scrollViewRef=e||void 0},this._onScroll=(e,t)=>{var i,o;e!==this.state.scrollTop&&this.setState({scrollTop:e}),null===(o=(i=this.props).onScroll)||void 0===o||o.call(i,e,t)},this._onLayout=e=>{var t,i;const o=e.height;o!==this.state.contentVisibleHeight&&this.setState({contentVisibleHeight:o}),null===(i=(t=this.props).onLayout)||void 0===i||i.call(t,e)},this._onContentSizeChange=(e,t)=>{var i,o;void 0===this.state.contentVisibleHeight?s.log(a.LogTraceArea.CoreUI,"ScrollToBottomView: Skipping content size change event"):t!==this.state.contentHeight&&this.setState({contentHeight:t}),null===(o=(i=this.props).onContentSizeChange)||void 0===o||o.call(i,e,t)},this.state={scrollTop:0}}componentDidUpdate(e,t){const i=t.scrollTop!==this.state.scrollTop,o=t.contentHeight!==this.state.contentHeight,n=t.contentVisibleHeight!==this.state.contentVisibleHeight;(i||o||n)&&this._checkScrollToBottom()}componentWillUnmount(){this._scrollToBottomTimeout&&l.default.clearTimeout(this._scrollToBottomTimeout)}_checkScrollToBottom(){const{scrollTop:e,contentHeight:t,contentVisibleHeight:i}=this.state;void 0!==t&&void 0!==i?Math.ceil(e+i)>=Math.ceil(t)-2&&(s.log(a.LogTraceArea.CoreUI,"ScrollToBottomView: Bottom reached with scroll"),this.props.onScrollToBottom()):s.log(a.LogTraceArea.CoreUI,"ScrollToBottomView: Cannot check if bottom is reached")}render(){return(0,n.jsx)(r.ScrollView,Object.assign({},this.props,{ref:this._onScrollViewRef,onScroll:this._onScroll,onLayout:this._onLayout,onContentSizeChange:this._onContentSizeChange,children:this.props.children}))}}t.default=c},692773:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(859745)),a=o.__importStar(i(516778)),s=o.__importStar(i(317588)),l=i(217041),c=i(154235),d=i(815146),u=o.__importStar(i(85385)),p=i(26703),g=o.__importStar(i(704704)),h=o.__importDefault(i(855191)),m=i(963254),S=o.__importDefault(i(409556)),_=o.__importDefault(i(799585)),f=o.__importDefault(i(660401)),y=i(16549),C=o.__importDefault(i(827361)),v=i(262725),b=(0,p.lazyProperties)({splashScreenLight:()=>a.Styles.createViewStyle({backgroundColor:y.Color.white,appRegion:"drag"}),splashScreenDark:()=>a.Styles.createViewStyle({backgroundColor:y.Color.darkThemeBackground,appRegion:"drag"}),centerContent:()=>a.Styles.createViewStyle({alignItems:"center",justifyContent:"center"}),contentContainer:()=>a.Styles.createViewStyle({flex:0,height:200,marginTop:288,flexDirection:"column",alignItems:"center",marginHorizontal:30}),spinnerContainer:()=>a.Styles.createViewStyle({flexDirection:"row",overflow:"visible",marginTop:40}),spinnerContainerTransparent:()=>a.Styles.createViewStyle({opacity:0}),statusText:()=>a.Styles.createTextStyle({color:y.Color.gray400,textAlign:"center",lineHeight:20}),loginButtonWrap:()=>a.Styles.createViewStyle({marginTop:20,alignItems:"center",appRegion:"no-drag"}),loginButton:()=>a.Styles.createViewStyle({marginTop:40}),iconOffsetStyle:()=>a.Styles.createViewStyle({marginTop:2}),microsoftLogoContainer:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"}),microsoftLogo:()=>a.Styles.createImageStyle({marginBottom:60,height:24,width:112}),meetNow:()=>(0,p.lazyProperties)({contentContainer:()=>a.Styles.createViewStyle({marginTop:0})})});class T extends l.ComponentBase{constructor(){super(...arguments),this._animatedLogoScaleValue=new a.Animated.Value(1),this._animatedSplashScreenOpacityValue=new a.Animated.Value(1),this._animatedSplashScreenStyle=a.Styles.createAnimatedViewStyle({opacity:this._animatedSplashScreenOpacityValue}),this._handleLogin=e=>{this.props.loginCallback()},this._onSignOutPressed=()=>{h.default.redirectToLogout(d.LogoutReason.LoginRestarted,!0)}}_buildState(e,t){return{isBusy:!e.showLoginFallback&&!e.errorCode&&e.showSpinner}}animateLeave(e){u.log(d.LogTraceArea.Startup,"SplashScreen animateLeave");const t=()=>{this.setState({isBusy:!1}),e()};if(this.isComponentMounted()){const e=!0;r.parallel([r.timing.easeOut({value:this._animatedLogoScaleValue,toValue:1.4,useNativeDriver:e}),r.timing.easeOut({value:this._animatedSplashScreenOpacityValue,toValue:0,useNativeDriver:e})]).start((e=>{e.finished&&this.isComponentMounted()&&t()}))}else t()}_renderLoginFallbackIfNeeded(){if(this.props.showLoginFallback)return(0,n.jsxs)(a.View,{style:b.loginButtonWrap,children:[(0,n.jsx)(v.BodyText,{size:v.BodyTextSize.SmallDeprecated,bold:!0,style:b.statusText,children:g.getString("SplashScreen.LoginErrorMessage")}),(0,n.jsx)(f.default,{buttonSize:c.SXButtonSize.Medium,buttonStyle:c.SXButtonStyle.AgnosticGradientFill,agnosticGradientColor:y.AgnosticGradientFillButtonColors.blue,title:g.getString("SplashScreen.LoginButtonTitle"),onPress:this._handleLogin,style:b.loginButton})]},"fallback")}_renderSpinner(){const e=[b.spinnerContainer];return this.state.isBusy||e.push(b.spinnerContainerTransparent),(0,n.jsx)(a.View,{style:e,children:(0,n.jsx)(_.default,{size:c.SXActivityIndicatorSize.Medium,tintColor:y.Color.blue,useRXIndicator:!0})},"spinner")}_renderMessage(){if(this.props.statusText)return(0,n.jsx)(S.default,{statusText:this.props.statusText,errorCode:this.props.errorCode,onSignOutPressed:this._onSignOutPressed,isPartnerFlow:this.props.isPartnerFlow,isDarkThemeEnabled:this.props.darkThemeEnabled},"message")}_renderMicrosoftLogo(){return(0,n.jsx)(a.View,{style:b.microsoftLogoContainer,children:(0,n.jsx)(a.Image,{style:b.microsoftLogo,source:this.props.darkThemeEnabled?s.Collection.MICROSOFT_LOGO_COLOR_WHITE:s.Collection.MICROSOFT_LOGO_COLOR,resizeMode:"stretch"})},"logo")}render(){const e=[C.default.absoluteFill,this.props.darkThemeEnabled?b.splashScreenDark:b.splashScreenLight,this._animatedSplashScreenStyle],t=[b.contentContainer],i=(0,n.jsx)(a.View,{style:[C.default.absoluteFill,b.centerContent],children:(0,n.jsx)(m.SkypeLogo,{isAnimated:!0})});let o=[this._renderMessage(),this._renderLoginFallbackIfNeeded(),this._renderSpinner()];return this.props.isPartnerFlow&&(o=[this._renderLoginFallbackIfNeeded(),this._renderSpinner(),this._renderMessage()],t.push(b.meetNow.contentContainer)),(0,n.jsxs)(a.Animated.View,{style:e,children:[this._renderMicrosoftLogo(),!this.props.isPartnerFlow&&i,(0,n.jsx)(a.View,{style:[C.default.absoluteFill,b.centerContent],children:(0,n.jsx)(a.View,{style:t,children:o})})]})}}t.default=T},409556:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=i(154235),l=i(26703),c=o.__importStar(i(704704)),d=o.__importDefault(i(660401)),u=i(16549),p=i(262725),g=(0,l.lazyProperties)({centerContent:()=>r.Styles.createViewStyle({alignItems:"center",justifyContent:"center"}),messageContainer:()=>r.Styles.createViewStyle({paddingHorizontal:30}),statusText:()=>r.Styles.createTextStyle({color:u.Color.gray400,textAlign:"center",backgroundColor:u.Color.transparent,marginVertical:30}),meetNowStatusText:()=>r.Styles.createTextStyle({textAlign:"center",backgroundColor:u.Color.transparent,marginVertical:30,fontSize:24})});class h extends a.ComponentBase{render(){return(0,n.jsxs)(r.View,{style:[g.centerContent,g.messageContainer,this.props.style],children:[this._renderBodyText(),this._renderErrorInfo()]})}_renderErrorInfo(){return this.props.errorCode?(0,n.jsxs)(r.View,{children:[(0,n.jsx)(d.default,{buttonStyle:s.SXButtonStyle.DarkFill,buttonSize:s.SXButtonSize.Medium,title:c.getString("SplashScreen.LoggingOutButtonTittle"),onPress:this.props.onSignOutPressed}),(0,n.jsx)(p.Caption,{style:g.statusText,children:this.props.errorCode})]}):null}_renderBodyText(){const e=[this.props.isPartnerFlow?g.meetNowStatusText:g.statusText];return this.props.isDarkThemeEnabled&&e.push(r.Styles.createTextStyle({color:u.Color.white})),(0,n.jsx)(p.BodyText,{bold:!0,style:e,children:this.props.statusText})}}t.default=h},38670:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreenNative=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(859745)),a=o.__importStar(i(516778)),s=i(217041),l=o.__importStar(i(317588)),c=i(815146),d=o.__importStar(i(85385)),u=i(26703),p=o.__importDefault(i(855191)),g=o.__importDefault(i(409556)),h=o.__importDefault(i(220865)),m=i(16549),S=o.__importDefault(i(827361)),_=(0,u.lazyProperties)({containerLight:()=>a.Styles.createViewStyle({backgroundColor:m.Color.white}),containerDark:()=>a.Styles.createViewStyle({backgroundColor:m.Color.darkThemeBackground}),alternativeSpinner:()=>a.Styles.createViewStyle({paddingTop:64}),microsoftLogoContainer:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"}),microsoftLogo:()=>a.Styles.createImageStyle({marginBottom:40,height:24,width:112})});class f extends s.ComponentBase{constructor(){super(...arguments),this._animatedOpacityValue=new a.Animated.Value(1),this._animatedOpacityStyle=a.Styles.createAnimatedViewStyle({opacity:this._animatedOpacityValue}),this._onSignOutPressed=()=>{p.default.redirectToLogout(c.LogoutReason.LoginRestarted,!0)}}_buildState(e,t){return{renderAlternative:!(!e.renderAlternative||e.renderIntro||e.statusText)}}animateLeave(e){d.log(c.LogTraceArea.Startup,"SplashScreen animateLeave"),this.isComponentMounted()?r.timing.easeOut({value:this._animatedOpacityValue,toValue:0,useNativeDriver:!0}).start((t=>{t.finished&&e()})):e()}_renderSpinner(){return this.props.statusText?null:(0,n.jsx)(a.View,{style:S.default.absoluteFill,children:(0,n.jsx)(h.default,{style:this.state.renderAlternative?_.alternativeSpinner:void 0,showBlueLogo:this.state.renderAlternative,darkThemeEnabled:this.props.darkThemeEnabled,onComplete:this.props.onComplete})})}_renderMessage(){return this.props.statusText?(0,n.jsx)(g.default,{style:S.default.absoluteFill,statusText:this.props.statusText,errorCode:this.props.errorCode,onSignOutPressed:this._onSignOutPressed}):null}_renderMicrosoftLogo(){return(0,n.jsx)(a.View,{style:_.microsoftLogoContainer,children:(0,n.jsx)(a.Image,{style:_.microsoftLogo,source:this.props.darkThemeEnabled?l.Collection.MICROSOFT_LOGO_COLOR_WHITE:l.Collection.MICROSOFT_LOGO_COLOR,resizeMode:"stretch"})})}render(){const e=[S.default.absoluteFill,this._animatedOpacityStyle,this.props.darkThemeEnabled?_.containerDark:_.containerLight];return(0,n.jsxs)(a.Animated.View,{style:e,children:[this._renderSpinner(),this._renderMicrosoftLogo(),this._renderMessage()]})}}t.SplashScreenNative=f,t.default=f},220865:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(441498)),s=i(154235),l=o.__importDefault(i(958868)),c=i(815146),d=i(26703),u=(i(963254),o.__importDefault(i(799585))),p=o.__importDefault(i(759664)),g=i(16549),h=o.__importDefault(i(139221)),m=(o.__importDefault(i(827361)),(0,d.lazyProperties)({containerLight:()=>r.Styles.createViewStyle({backgroundColor:g.Color.white}),containerDark:()=>r.Styles.createViewStyle({backgroundColor:g.Color.darkThemeBackground}),panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch",flexDirection:"column",alignItems:"center",justifyContent:"center"}),staticLogo:()=>r.Styles.createViewStyle({width:375,height:375,paddingBottom:50,justifyContent:"flex-end"}),iconContainer:()=>r.Styles.createViewStyle({justifyContent:"center",alignItems:"center"})}));class S extends l.default{componentDidMount(){super.componentDidMount(),this.props.onComplete&&this.props.onComplete()}render(){let e;if(this.props.showBlueLogo)e=(0,n.jsx)(u.default,{size:s.SXActivityIndicatorSize.Large,tintColor:g.Color.blue});else{{const t=p.default.SPLASH_LOADER_NEXT,i=r.Styles.createViewStyle({width:t.intrinsicSize.width,height:t.intrinsicSize.height},!1);e=(0,n.jsx)(r.View,{style:i,children:(0,n.jsx)(a.default,{animation:t,delay:h.default.getPlatformType()===c.PlatformType.Android?100:50,loop:!0,sizeToFit:!0})})}}return(0,n.jsx)(r.View,{style:[m.panel,this.props.darkThemeEnabled?m.containerDark:m.containerLight,this.props.style],children:e})}}t.default=S},95425:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(13253),s=i(217041);class l extends s.ComponentBase{render(){const e=this.props.progressStrokeProperties.strokeWidth||1,t=this.props.size;let i=this.props.progress&&r.isFinite(this.props.progress)?this.props.progress:0;0===i&&(i=.03);const o=t/2,s=(t-e)/2,l=360*i,c=Math.PI*(l-90)/180;let d="M"+o+","+(o-s)+" A"+s+","+s+" 0 "+(l>180?1:0)+",1 "+(o+s*Math.cos(c))+","+(o+s*Math.sin(c));const u="M"+o+","+o+"m"+-s+",0a"+s+","+s+" 0 1,0 "+2*s+",0 a"+s+","+s+" 0 1,0 "+-2*s+",0";let p;return this.props.showCircleBackground&&(p=(0,n.jsx)(a.SvgPath,Object.assign({d:u},this.props.backgroundCircleProperties)),1===i&&(d=u)),(0,n.jsxs)(a.ImageSvg,{viewBox:"0 0 "+t+" "+t,style:this.props.style,width:t,height:t,children:[p,(0,n.jsx)(a.SvgPath,Object.assign({d},this.props.progressStrokeProperties))]})}}t.default=l},720340:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TabTitleView=t.TabAnimationDirection=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(859745)),a=o.__importStar(i(516778)),s=i(26703),l=o.__importDefault(i(20758)),c=o.__importDefault(i(827361)),d=o.__importDefault(i(497910));var u;!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(u||(t.TabAnimationDirection=u={}));const p=(0,s.lazyProperties)({defaultTabTextStyle:()=>a.Styles.createTextStyle({flex:1,font:l.default.font.uiDisplayRegular,fontSize:l.default.controlFontSize.tabHeader,textAlign:"center"}),defaultSmallTabTextStyle:()=>a.Styles.createTextStyle({fontSize:l.default.controlFontSize.tabHeaderSmall}),defaultTabTextStylePadding:()=>a.Styles.createTextStyle({paddingHorizontal:2}),defaultSelectedTabTextStyle:()=>a.Styles.createTextStyle({flex:-1,letterSpacing:-.5,font:l.default.font.uiDisplaySemibold,fontSize:l.default.controlFontSize.tabHeader,paddingHorizontal:2,textAlign:"center"}),tabTitleContainerStyle:()=>a.Styles.createViewStyle({flex:1,alignItems:"stretch",justifyContent:"flex-end"}),tabTitleStyle:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",paddingBottom:9}),tabTitleStyleSmall:()=>a.Styles.createViewStyle({paddingBottom:5})});class g extends d.default{constructor(){super(...arguments),this._animated=!1,this._currentSelectedValue=0,this._animatedDeselectedOpacityValue=new a.Animated.Value(1),this._animatedDeselectedStyle=a.Styles.createAnimatedTextStyle({opacity:this._animatedDeselectedOpacityValue}),this._animatedSelectedOpacityValue=new a.Animated.Value(0),this._animatedSelectedStyle=a.Styles.createAnimatedTextStyle({opacity:this._animatedSelectedOpacityValue}),this._resetTransitionTransformValue=new a.Animated.Value(0),this._resetTransitionOpacityValue=new a.Animated.Value(1),this._resetTransitionStyle=a.Styles.createAnimatedViewStyle({opacity:this._resetTransitionOpacityValue,transform:[{translateY:this._resetTransitionTransformValue}]}),this._animatedContentOpacityValue=new a.Animated.Value(1),this._animatedContentOpacityStyle=a.Styles.createAnimatedViewStyle({opacity:this._animatedContentOpacityValue}),this._animatedShowHideStyle=this._resetTransitionStyle}componentDidMount(){super.componentDidMount(),r.NativeUtils.markAnimatedValue(this._animatedContentOpacityValue,1)}update(e,t=!1){this._currentSelectedValue=e,this._animated?t?(this._selectedAnimation&&this._selectedAnimation.stop(),this._selectedAnimation=r.parallel([r.timing.easeOut({value:this._animatedSelectedOpacityValue,toValue:e}),r.timing.easeOut({value:this._animatedDeselectedOpacityValue,toValue:1-e})]),this._selectedAnimation.start((e=>{e.finished&&delete this._selectedAnimation}))):(this._animatedSelectedOpacityValue.setValue(e),this._animatedDeselectedOpacityValue.setValue(1-e)):1!==e&&0!==e||this.isComponentMounted()&&this.forceUpdate()}showOrHide(e,t=0){r.timing.easeOut({value:this._animatedContentOpacityValue,toValue:e?1:0,duration:e?r.Common.Duration.Short:r.Common.Duration.Tiny,delay:t,useNativeDriver:!0}).start()}_getTabTextStyles(e){if(!this._animated)return e?[p.defaultSelectedTabTextStyle,this._themeStyles.primaryTextColorStyle]:[p.defaultTabTextStyle,this._themeStyles.secondaryTextColorStyle];let t;return t=e?[p.defaultSelectedTabTextStyle,this._themeStyles.primaryTextColorStyle,this._animatedSelectedStyle]:[p.defaultTabTextStyle,c.default.absoluteFill,this._themeStyles.secondaryTextColorStyle,this._animatedDeselectedStyle],this.props.useSmallFonts&&t.push(p.defaultSmallTabTextStyle),t}render(){const e=this._getTabTextStyles(!1),t=this._getTabTextStyles(!0),i=this._animated,o=i?(0,n.jsx)(a.Animated.Text,{style:e,numberOfLines:1,children:this.props.title}):null;i||e.push(p.defaultTabTextStylePadding);const r=i||1===this._currentSelectedValue?t:e,s=[p.tabTitleStyle];return this._animated&&s.push(this._animatedShowHideStyle),this.props.useSmallFonts&&s.push(p.tabTitleStyleSmall),(0,n.jsx)(a.View,{style:p.tabTitleContainerStyle,children:(0,n.jsx)(a.Animated.View,{style:s,children:(0,n.jsxs)(a.Animated.View,{style:[c.default.flexNegativeOne,this._animatedContentOpacityStyle],children:[o,(0,n.jsx)(a.Animated.Text,{style:r,numberOfLines:1,children:this.props.title})]})})})}}t.TabTitleView=g,t.default=g},781181:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextCompletion=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=(i(626065),o.__importDefault(i(54945))),l=i(26703),c=(o.__importStar(i(704704)),o.__importDefault(i(791384)),o.__importDefault(i(20758))),d=o.__importDefault(i(497910)),u=(0,l.lazyProperties)({textCompletePopup:()=>a.Styles.createViewStyle({position:"absolute",left:0,right:0,bottom:1}),textCompletePopupTopBorder:()=>a.Styles.createViewStyle({borderTopWidth:1,borderStyle:"solid",height:1,alignSelf:"stretch"}),textCompletePopupDesktop:()=>a.Styles.createViewStyle({borderWidth:1,borderStyle:"solid",borderRadius:8,paddingVertical:4}),textCompleteItem:()=>a.Styles.createButtonStyle({justifyContent:"center",paddingHorizontal:8,height:38}),textCompleteMenuText:()=>a.Styles.createTextStyle({fontSize:c.default.fontSize.size13Deprecated,font:c.default.font.uiDisplayRegular})});class p extends d.default{constructor(){super(...arguments),this._animatedHeightValue=new a.Animated.Value(0),this._animatedHeightStyle=a.Styles.createAnimatedViewStyle({height:this._animatedHeightValue})}_buildState(e,t){if(t)return{currentEntityDetector:void 0,candidatesToDisplay:[],selectedIndex:0}}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),this.props.inputText!==e.inputText||this.props.maxMenuHeight!==e.maxMenuHeight){let e=this.props.candidatesToDisplay;38*e+8>this.props.maxMenuHeight&&(e=Math.max(Math.floor((this.props.maxMenuHeight-8)/38),1));const t=this.getReplacementCandidates(this.props.inputText,e);this.setState({currentEntityDetector:t.entityDetector,candidatesToDisplay:t.candidates,selectedIndex:0,selectionChangeKeyReceived:!1}),this.props.onTextReplacementCandidatesShown(t.candidates.length)}const o=this.state.candidatesToDisplay&&this.state.candidatesToDisplay.length,n=o&&t.candidatesToDisplay&&this.state.candidatesToDisplay.length!==t.candidatesToDisplay.length;if((t.selectedIndex!==this.state.selectedIndex||n)&&void 0!==this.state.selectedIndex&&o&&this.state.currentEntityDetector){const e=this.state.currentEntityDetector.createAccessibilityLabel(this.state.candidatesToDisplay[this.state.selectedIndex],this.state.selectedIndex+1,this.state.candidatesToDisplay.length);a.Accessibility.announceForAccessibility(e)}}render(){const e=this.state.candidatesToDisplay?this.state.candidatesToDisplay.length:0;if(0===e)return null;const t=r.map(this.state.candidatesToDisplay,((t,i)=>{const o=[u.textCompleteItem],r=[u.textCompleteMenuText];i===this.state.selectedIndex&&(o.push(a.Styles.createTextStyle({backgroundColor:this._themeColors.surfaceAccent},!1)),this._useAccessibleTheme()&&o.push(a.Styles.createTextStyle({borderColor:this._themeColors.strokeHighContrast,borderWidth:1},!1)));let s=this.state.currentEntityDetector?this.state.currentEntityDetector.render(t,i===this.state.selectedIndex&&!0):void 0;"string"==typeof s&&(s=(0,n.jsx)(a.Text,{style:r,numberOfLines:1,children:s}));const l=this.state.currentEntityDetector?this.state.currentEntityDetector.createAccessibilityLabel(t,i+1,e):void 0;return(0,n.jsx)(a.Button,{style:o,onHoverStart:()=>this._onMouseOver(i),onPress:e=>this._onClick(e,i),underlayColor:this._themeColors.rowHighlightColor,accessibilityLabel:l,children:s},t.uniqueKey||t.replacementText)})),i=[u.textCompletePopup,this._themeStyles.popoverBackgroundColorStyle];return void 0!==this.props.leftOffset&&i.push(a.Styles.createViewStyle({left:this.props.leftOffset},!1)),this.state.currentEntityDetector&&(this.state.currentEntityDetector.maxPopupWidth&&i.push(a.Styles.createViewStyle({maxWidth:this.state.currentEntityDetector.maxPopupWidth},!1)),i.push([u.textCompletePopupDesktop,this._themeStyles.dividerBorderColorStyle])),this.props.style&&i.push(this.props.style),(0,n.jsxs)(a.Animated.View,{style:i,children:[undefined,t]})}handleKeyDown(e){if(0===this.state.candidatesToDisplay.length)return!1;let t=!0;return e.keyCode===s.default.DOWN?!r.isUndefined(this.state.selectedIndex)&&this.state.selectedIndex<this.state.candidatesToDisplay.length-1&&this.setState({selectedIndex:this.state.selectedIndex+1,selectionChangeKeyReceived:!0}):e.keyCode===s.default.UP?!r.isUndefined(this.state.selectedIndex)&&this.state.selectedIndex>0&&this.setState({selectedIndex:this.state.selectedIndex-1,selectionChangeKeyReceived:!0}):e.keyCode===s.default.PAGEUP?0!==this.state.selectedIndex&&this.setState({selectedIndex:0,selectionChangeKeyReceived:!0}):e.keyCode===s.default.PAGEDOWN?this.state.selectedIndex!==this.state.candidatesToDisplay.length-1&&this.setState({selectedIndex:this.state.candidatesToDisplay.length-1,selectionChangeKeyReceived:!0}):e.keyCode===s.default.TAB||e.keyCode===s.default.RETURN&&!e.shiftKey&&!e.ctrlKey?void 0!==this.state.selectedIndex&&this._selectItem(this.state.selectedIndex):e.keyCode===s.default.ESCAPE&&this.state.candidatesToDisplay.length>0?this.setState({candidatesToDisplay:[]}):t=!1,t}_onMouseOver(e){e>=0&&e<this.state.candidatesToDisplay.length&&this.state.selectedIndex!==e&&this.setState({selectedIndex:e})}_onClick(e,t){e.stopPropagation(),t>=0&&t<this.state.candidatesToDisplay.length&&this._selectItem(t)}_selectItem(e){r.delay((()=>{const t=this.state.candidatesToDisplay[e];this.props.onReplaceText&&t&&t.entity&&this.state.currentEntityDetector&&this.props.onReplaceText(t.charsToReplace,t.replacementText,this.state.currentEntityDetector.entityType,t.entity)}),140)}getReplacementCandidates(e,t){if(e){const i=this.props.entityDetectors();if(i)for(let o=0;o<i.length;o++){const n=i[o],a=e.match(n.match);if(a&&a.length>1){const i=a.index,o=0===i||" "===e[i]||" "===e[i-1]||"\n"===e[i-1];let s=n.search(a[1],o,t);if(s.length>0)return s=r.sortBy(s,(e=>e.priority)),s.length>t&&(s=s.slice(0,t)),{entityDetector:n,candidates:s}}}}return{entityDetector:void 0,candidates:[]}}}t.TextCompletion=p,t.default=p},497910:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importDefault(i(958868)),r=o.__importStar(i(972830)),a=o.__importDefault(i(206315)),s=i(925890);class l extends n.default{get _themeStyles(){const e=this.props.colorThemeOverride;return e?a.default.themeStylesForTheme(e):this._getContext().themeStyles}get _themeColors(){const e=this.props.colorThemeOverride;return e?(0,s.skypeThemeConnector)(e,this._getContext().userColor.key).colors:this._getContext().themeColors}get _currentTheme(){var e;return null!==(e=this.props.colorThemeOverride)&&void 0!==e?e:this._getContext().theme}_useAccessibleTheme(){return r.isAccessibleTheme(this._currentTheme)}_useDarkTheme(){return r.isDarkTheme(this._currentTheme)}}t.default=l},818775:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(154235),l=o.__importDefault(i(344562)),c=i(521691),d=o.__importDefault(i(716854)),u=o.__importDefault(i(146568)),p=o.__importDefault(i(23829)),g=o.__importDefault(i(407652)),h=o.__importDefault(i(136917)),m=o.__importDefault(i(841614)),S=o.__importDefault(i(652162)),_=o.__importStar(i(68210)),f=o.__importDefault(i(958321)),y=o.__importDefault(i(799640)),C=o.__importDefault(i(203868)),v=o.__importDefault(i(958868)),b=i(26703),T=i(16549),P=o.__importDefault(i(369347)),k=o.__importDefault(i(708213)),A=(0,b.lazyProperties)({container:()=>a.Styles.createViewStyle({alignSelf:"stretch"}),backgroundDark:()=>a.Styles.createViewStyle({backgroundColor:s.CompositeNotificationToastInfo.color,borderColor:s.CompositeNotificationToastInfo.color,borderWidth:2}),backgroundLight:()=>a.Styles.createViewStyle({backgroundColor:T.Color.gray50Overlay50,borderColor:T.Color.white,borderWidth:2})});class I extends v.default{_buildState(e,t){const i=_.default.getToasts(this._getRootViewId());return{activeCallId:P.default.CallingStore.getConnectedOrOutgoingAndNotOnHoldCallId(),toasts:i.map((e=>({id:e.id,type:e.type,onDismiss:e.onDismiss})))}}render(){const e=[];return r.each(this.state.toasts,(t=>{switch(t.type){case _.ToastType.IncomingCall:e.push((0,n.jsx)(g.default,{id:t.id},t.id));break;case _.ToastType.Notification:e.push((0,n.jsx)(S.default,{toastId:t.id},t.id));break;case _.ToastType.CallRecorder:e.push((0,n.jsx)(k.default,{toastId:t.id},t.id));break;case _.ToastType.RemoteCallMediaCapturer:e.push((0,n.jsx)(c.RemoteCompositeCallMediaCapturerToast,{toastId:t.id},t.id));break;case _.ToastType.LocalCallMediaCapturer:e.push((0,n.jsx)(c.LocalCompositeCallMediaCapturerToast,{toastId:t.id},t.id));break;case _.ToastType.IncomingVideoDisabled:e.push((0,n.jsx)(h.default,{toastId:t.id},t.id));break;case _.ToastType.NetworkConnection:e.push((0,n.jsx)(m.default,{toastId:t.id},t.id));break;case _.ToastType.CallConnectionQuality:e.push((0,n.jsx)(l.default,{toastId:t.id},t.id));break;case _.ToastType.CameraDeniedToast:e.push((0,n.jsx)(u.default,{toastId:t.id},t.id));break;case _.ToastType.WebFeedback:e.push((0,n.jsx)(y.default,{toastId:t.id},t.id));break;case _.ToastType.Translation:e.push((0,n.jsx)(f.default,{toastId:t.id},t.id));break;case _.ToastType.LimitedSupportBrowser:e.push((0,n.jsx)(C.default,{toastId:t.id},t.id));break;case _.ToastType.TeamsInterop:case _.ToastType.TogetherModeNotice:case _.ToastType.MusicModeEnabled:case _.ToastType.PstnTranslation:case _.ToastType.PstnParticipantRing:e.push((0,n.jsx)(p.default,{toastId:t.id,toastType:t.type,onDismiss:t.onDismiss},t.id));break;case _.ToastType.VideoRestricted:this.state.activeCallId&&e.push((0,n.jsx)(d.default,{toastId:t.id,callId:this.state.activeCallId,onDismiss:t.onDismiss}))}})),e.length?(0,n.jsx)(a.View,{style:[A.container,this._getContext().mode.isDark?A.backgroundDark:A.backgroundLight],children:e}):null}}t.default=I},42351:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({title:e,navURL:t,buttonBackground:i}){const[o,C]=(0,a.useState)(!0),{themeColors:{iconPrimary:v}}=(0,u.useSkypeTheme)(),{bannerStyleBot:b,containerStyleBot:T,titleStyleBot:P,minimalButton:k,backgroundButton:A}=(0,p.useSkypeStyles)((({themeColors:e})=>({bannerStyleBot:{borderColor:e.strokeHighContrast,borderWidth:1,margin:l.Spacing.size120,columnGap:l.Spacing.size20},containerStyleBot:{alignItems:"center",width:"100%",flexShrink:1,rowGap:l.Spacing.size20},titleStyleBot:{color:e.textPrimary,fontSize:d.default.fontSize.size17,lineHeight:22,fontWeight:S.FontWeight.semiBold},minimalButton:{fontSize:d.default.fontSize.size14,color:e.textInteractive,fontWeight:S.FontWeight.semiBold,alignSelf:"flex-end"},backgroundButton:{height:32,alignSelf:"flex-end"}})),[]);(0,a.useEffect)((()=>{}));const I=c.BingUpsellOrigin.MagicBot,w=()=>{h.Instrumentation.track(new c.default({action:c.BingUpsellTelemetryEventAction.UpsellClicked,upsellOrigin:I})),g.default.recordUserClickedSwitch(),t&&r.default.launchChromeAppAtURL(t)},x=m.getString("BingDSEUpsell.SERPSwitch");return o&&(0,n.jsxs)(l.Row,{style:b,children:[(0,n.jsx)(f.default,{color:v,size:_.IconSize.size24,icon:_.SkypeIcon.Cancel,onPress:()=>{h.Instrumentation.track(new c.default({action:c.BingUpsellTelemetryEventAction.UpsellDismissed,upsellOrigin:I})),g.default.recordMagicBotUpsellDismissed()}}),(0,n.jsxs)(l.Column,{style:T,children:[(0,n.jsx)(s.Text,{style:P,children:e}),i?(0,n.jsx)(y.default,{onPress:w,buttonSize:S.SXButtonSize.Small,title:x,style:A}):(0,n.jsx)(s.Text,{onPress:w,style:k,children:x})]})]})};const o=i(197582),n=i(785893),r=o.__importDefault(i(331654)),a=i(667294),s=i(537180),l=i(344175),c=o.__importStar(i(243544)),d=o.__importDefault(i(20758)),u=i(206315),p=i(964414),g=o.__importDefault(i(335797)),h=i(82485),m=o.__importStar(i(704704)),S=i(154235),_=i(641400),f=o.__importDefault(i(453761)),y=o.__importDefault(i(660401))},232665:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(958868));class s extends a.default{constructor(){super(...arguments),this._isVisible=!0,this._onVisibilityChanged=e=>{this._isVisible!==e&&(this._isVisible=e,this.forceUpdate())}}componentDidMount(){super.componentDidMount();const e=this._getContext();e.componentVisibilityStatus&&(this._visibilitySubscriptionToken=e.componentVisibilityStatus.isVisibleEvent().subscribe(this._onVisibilityChanged),this._isVisible=e.componentVisibilityStatus.isVisible())}componentWillUnmount(){super.componentWillUnmount(),this._visibilitySubscriptionToken&&(this._visibilitySubscriptionToken.unsubscribe(),this._visibilitySubscriptionToken=void 0)}render(){const e=this._getContext();return e&&e.componentVisibilityStatus&&!e.componentVisibilityStatus.isVisible()?null:(0,n.jsx)(r.View,{style:this.props.style,children:this.props.children})}}t.default=s},139825:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(217041),s=o.__importDefault(i(340724));class l extends a.ComponentBase{constructor(){super(...arguments),this._onContainerRef=e=>{this._containerRef=e||void 0}}setAnimatedStyle(e){this._animatedStyle!==e&&(this._animatedStyle=e,this.isComponentMounted()&&this.forceUpdate())}requestFocus(){this._containerRef&&this._containerRef.requestFocus()}render(){let e={ref:this._onContainerRef,style:[this.props.style,this._animatedStyle],importantForAccessibility:this.props.importantForAccessibility};return this.props.shouldGroupAccessibilityChildren&&(e=s.default.applyShouldGroupAccessibilityChildren(e)),(0,n.jsx)(r.Animated.View,Object.assign({},e,{children:this.props.children}))}}t.default=l},441575:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({id:e,config:t,variant:i,items:o,onCommand:s,trigger:l,onOpen:d}){const{rootViewId:u}=(0,a.useCommonContext)();return(0,n.jsx)(n.Fragment,{children:l((n=>{null==d||d(),"flat"===i&&r.default.showWithOptions({id:e,config:Object.assign(Object.assign({},t),{useTheme:!0}),getMenuItems:()=>o.map(c),handleMenuCommand:s,rootViewId:u,invokingEvent:n}),"grouped"===i&&r.default.showGroupWithOptions({id:e,rootViewId:u,config:Object.assign(Object.assign({},t),{useTheme:!0}),getMenuGroups:()=>o.map((e=>Object.assign(Object.assign({},e),{menuItems:e.items.map(c)}))),handleMenuCommand:s,invokingEvent:n})}))})};const o=i(197582),n=i(785893),r=o.__importDefault(i(888500)),a=i(736267),s=i(154235),l=i(931462);function c(e){return Object.assign(Object.assign({},e),{selectableType:s.SXMenuItemSelectableType.Checkbox,icon:e.icon?l.SkypeIconToSXMenuIconMap[e.icon]:void 0,postPill:e.postLabel})}},272256:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SkypeIconToSUIIconMap=void 0,t.default=function({groups:e,onCommand:i}){const o=e.map((({key:e,items:o})=>{const r=o.map((({command:e,text:o,icon:r,variant:a},l,c)=>(0,n.jsx)(s.default,{text:o,icon:r?t.SkypeIconToSUIIconMap[r]:void 0,variant:a,command:e,withBottomDivider:l!==c.length-1,onPress:i},e)));return(0,n.jsx)(a.default,{children:r},e)}));return(0,n.jsx)(r.Column,{children:o})};const o=i(197582),n=i(785893),r=i(344175),a=o.__importDefault(i(363704)),s=o.__importDefault(i(635261)),l=i(641400);t.SkypeIconToSUIIconMap={[l.SkypeIcon.Call]:"call",[l.SkypeIcon.Copy]:"copy",[l.SkypeIcon.Dialpad]:"dialpad",[l.SkypeIcon.DismissCircle]:"dismissCircle",[l.SkypeIcon.Glasses]:"glasses",[l.SkypeIcon.GlassesOff]:"glassesOff",[l.SkypeIcon.OpenOutside]:"open",[l.SkypeIcon.Speaker]:"speaker",[l.SkypeIcon.SpeakerOff]:"speakerOff",[l.SkypeIcon.Star]:"star",[l.SkypeIcon.StarOff]:"starOff",[l.SkypeIcon.DoorArrowLeft]:"doorArrowLeft"}},363704:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({children:e}){return(0,o.jsx)(n.Box,{borderRadius:10,marginTop:"size80",overflow:"hidden",children:e})};const o=i(785893),n=i(344175)},635261:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({command:e,text:t,icon:i,withBottomDivider:o,onPress:u,variant:p}){const g="highlighted"===p,{textStyle:h}=(0,l.useSkypeStyles)((({themeColors:e})=>{const t=g?e.textOnColor:e.textPrimary;return{textStyle:{fontFamily:c.default.fontFamily.uidDisplayRegular,fontSize:15,color:t}}}),[g]),m=(0,s.useCallback)((()=>{d.default.triggerFeedback(),u(e)}),[e,u]),S=i?(0,n.jsx)(a.Box,{marginRight:"size80",children:(0,n.jsx)(a.Icon,{icon:i,color:g?"iconOnColor":"iconPrimary"})}):null;return(0,n.jsx)(r.Pressable,{onPress:m,children:(0,n.jsxs)(a.Row,{paddingX:"size160",paddingY:"size120",marginBottom:o?"size20":void 0,backgroundColor:g?"surfaceInteractive":"surfaceSecondary",alignItems:"center",children:[S,(0,n.jsx)(r.Text,{style:h,children:t})]})},`command_${e}`)};const o=i(197582),n=i(785893),r=i(537180),a=i(344175),s=i(667294),l=i(964414),c=o.__importDefault(i(20758)),d=o.__importDefault(i(207864))},931462:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SkypeIconToSXMenuIconMap=void 0;const o=i(154235),n=i(641400);t.SkypeIconToSXMenuIconMap={[n.SkypeIcon.MeetNow]:o.SXMenuIcon.MeetNow,[n.SkypeIcon.Link]:o.SXMenuIcon.Link,[n.SkypeIcon.PeopleAdd]:o.SXMenuIcon.PeopleAdd,[n.SkypeIcon.PeopleCommunity]:o.SXMenuIcon.PeopleCommunity,[n.SkypeIcon.Chat]:o.SXMenuIcon.Chat,[n.SkypeIcon.LockClosed]:o.SXMenuIcon.LockClosed,[n.SkypeIcon.Channel]:o.SXMenuIcon.Channel,[n.SkypeIcon.VideoChat]:o.SXMenuIcon.VideoChat,[n.SkypeIcon.PhoneChat]:o.SXMenuIcon.PhoneChat,[n.SkypeIcon.OpenOutside]:o.SXMenuIcon.Open,[n.SkypeIcon.DismissCircle]:o.SXMenuIcon.Leave,[n.SkypeIcon.DoorArrowLeft]:o.SXMenuIcon.Leave,[n.SkypeIcon.Star]:o.SXMenuIcon.Favorite,[n.SkypeIcon.StarOff]:o.SXMenuIcon.Favorite,[n.SkypeIcon.Copy]:o.SXMenuIcon.Copy,[n.SkypeIcon.Glasses]:o.SXMenuIcon.ReadMark,[n.SkypeIcon.GlassesOff]:o.SXMenuIcon.UnreadMark,[n.SkypeIcon.Speaker]:o.SXMenuIcon.Notification,[n.SkypeIcon.SpeakerOff]:o.SXMenuIcon.NotificationOff,[n.SkypeIcon.Picture]:o.SXMenuIcon.Picture,[n.SkypeIcon.Sparkle]:o.SXMenuIcon.Sparkle,[n.SkypeIcon.ImageMultiple]:o.SXMenuIcon.ImageMultiple,[n.SkypeIcon.ForwardItem]:o.SXMenuIcon.Forward,[n.SkypeIcon.Designer]:o.SXMenuIcon.Designer,[n.SkypeIcon.Warning]:o.SXMenuIcon.Warning}},54904:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MenuContent=t.ContextMenu=void 0;const o=i(197582);var n=i(441575);Object.defineProperty(t,"ContextMenu",{enumerable:!0,get:function(){return o.__importDefault(n).default}});var r=i(272256);Object.defineProperty(t,"MenuContent",{enumerable:!0,get:function(){return o.__importDefault(r).default}})},118324:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({PreCardControls:e,CardControl:t,Controls:i}){return(0,o.jsx)(n.Row,{flex:1,paddingX:"size160",paddingY:"size80",alignItems:"center",children:(0,o.jsxs)(n.Row,{flex:"1",alignContent:"space-between",alignItems:"center",children:[(0,o.jsxs)(n.Row,{alignItems:"center",flexGrow:1,flexShrink:1,children:[e?(0,o.jsx)(n.Box,{paddingRight:"size40",children:e}):null,t]}),(0,o.jsx)(n.Box,{flexShrink:0,marginLeft:"size80",children:i})]})})};const o=i(785893),n=i(344175)},748246:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({title:e,ControlsSlot:t,BackButtonSlot:i}){return(0,o.jsx)(n.Row,{paddingX:"size160",alignItems:"flex-end",marginY:"size80",children:(0,o.jsx)(n.Row,{flex:"1",alignContent:"space-between",alignItems:"center",children:(0,o.jsxs)(n.Row,{alignItems:"center",flexGrow:1,flexShrink:1,children:[i?(0,o.jsx)(n.Box,{paddingRight:"size80",children:i}):null,(0,o.jsx)(n.Title,{variant:"3",truncate:!0,text:e}),t?(0,o.jsx)(n.Box,{paddingLeft:"size80",children:t}):null]})})})};const o=i(785893),n=i(344175)},149675:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(532821)),a=o.__importDefault(i(450312)),s=i(526849),l=o.__importDefault(i(748246)),c=i(415218),d=(0,s.WithResub)((function({title:e,isCollapsedCompositeNavigation:t,onBack:i,ControlsSlot:o}){const r=(0,c.useBackButton)(t,i);return(0,n.jsx)(l.default,{title:e,ControlsSlot:o,BackButtonSlot:r})}),(({ControlsSlot:e,title:t,onBack:i,variant:o="default"})=>({isCollapsedCompositeNavigation:"fixed"===o||r.default.collapseDesktopStackNavContext()&&a.default.isDesktopSplitNavStackCollapsed(),title:t,onBack:i,ControlsSlot:e})));t.default=d},912871:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityHeader=t.HeaderWithBack=t.Header=t.useBackButton=void 0;const o=i(197582);var n=i(415218);Object.defineProperty(t,"useBackButton",{enumerable:!0,get:function(){return n.useBackButton}});var r=i(748246);Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return o.__importDefault(r).default}});var a=i(149675);Object.defineProperty(t,"HeaderWithBack",{enumerable:!0,get:function(){return o.__importDefault(a).default}});var s=i(118324);Object.defineProperty(t,"EntityHeader",{enumerable:!0,get:function(){return o.__importDefault(s).default}})},415218:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useBackButton=function(e,t){const{isPresentedByMobileStackNavigator:i}=(0,l.useCommonContext)(),c=i||e,d=(0,a.backIcon)()===r.SkypeIcon.Left?"arrowLeft":"arrowRight";return c&&t?(0,o.jsx)(n.IconButton,{icon:d,size:"md",accessibilityLabel:(0,s.getString)("Global.BackButtonTitle"),onPress:t}):void 0};const o=i(785893),n=i(344175),r=i(641400),a=i(179582),s=i(704704),l=i(736267)},825419:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenu=t.Header=t.Caption=t.BodyText=void 0;const o=i(197582);var n=i(262725);Object.defineProperty(t,"BodyText",{enumerable:!0,get:function(){return n.BodyText}}),Object.defineProperty(t,"Caption",{enumerable:!0,get:function(){return n.Caption}}),Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return n.Header}});var r=i(441575);Object.defineProperty(t,"ContextMenu",{enumerable:!0,get:function(){return o.__importDefault(r).default}}),o.__exportStar(i(673115),t),o.__exportStar(i(343055),t)},50350:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.openUrlWithParams=function(e){I(e.origin,e.url,e.rootViewId,e.options,e.wasLaunchedFromExternalApp)},t.openUrl=I,t.launchNativeSms=function(e){r.Linking.launchSms(e).fail(D)},t.launchNativeEmail=function(e,t){r.Linking.launchEmail(e).fail((e=>N(t,c.MainRootViewId,e)))},t.openMailToLink=function(e,t){const i="mailto:"+t.to.join(",")+"?Subject="+t.subject+"&Body="+t.body;I(e,i,c.MainRootViewId)},t.defaultOpenErrorHandler=D,t.isUrlMsnArticle=M;const o=i(197582),n=o.__importDefault(i(846025)),r=o.__importStar(i(516778)),a=o.__importStar(i(397691)),s=o.__importDefault(i(206483)),l=o.__importDefault(i(649450)),c=i(154235),d=i(815146),u=i(323318),p=o.__importDefault(i(320697)),g=i(535790),h=o.__importStar(i(85385)),m=o.__importStar(i(121026)),S=o.__importStar(i(704704)),_=o.__importDefault(i(455907)),f=i(966666),y=o.__importDefault(i(740794)),C=o.__importDefault(i(954566)),v=(o.__importDefault(i(363091)),o.__importDefault(i(220534))),b=o.__importDefault(i(150343)),T=(o.__importDefault(i(311227)),i(290545)),P=o.__importDefault(i(942724)),k=i(16408),A=i(842029);function I(e,t,i,o={},n=!1,s){return t?o.openInExternalBrowser?function(e,t){return b.default.getS4LMessagingFeaturesNoSubscription().enableTryOpenConversationUrlWithInstalledEdge?a.fromThenable(window.electronApi.ipcProvider.device.forUsingEdgeOpenUrl.invoke(e).then((i=>{i||t(e)}))):(t(e),a.Resolved())}(t,w):C.default.getNavigationActionForDeepLink(t,d.NavigationConversationOrigin.LinkerUtil,i,e,n,void 0,o.conversationId,o.onShareComplete,s).then((e=>e?o.preventInAppNavigationForGuest?void y.default.navigateToGuestUpsell(u.GuestUpsellType.LeaveGroup):(m.trackEntryPoint(d.AppEntryPoint.URI),e.intent===g.Intent.Chat&&_.default.beginTrackingJoinMeetNow(n?f.MeetNowOrigin.JoinLinkDeeplink:f.MeetNowOrigin.ConversationDeeplink),void e.action()):M(t)&&P.default.isUsingStackNavigationContextNoSubscription()?(h.log(d.LogTraceArea.LinkNode,"Navigate to Article Reader"),void y.default.navigateToArticleReader(t,i,d.BrowserOrigin.LinkerUtil,T.ArticleReaderOrigin.LinkerUtil,k.renderWebViewComponent,A.shareUrlExternallyMobile)):(p.default.shouldLaunchInAppBrowser(t)&&l.default.shouldLaunchExternalBrowser(t),0===t.indexOf("skype:")?void 0:r.Linking.openUrl(t)))).fail(D):a.Rejected()}function w(e){n.default.openUrl(e).fail(D)}function x(e){switch(e.code){case r.Types.LinkingErrorCode.NoAppFound:return S.getString("LinkerUtil.NoAppFoundError");case r.Types.LinkingErrorCode.UnexpectedFailure:default:return S.getString("LinkerUtil.UnexpectedFailureError")}}function N(e,t,i){i.code===r.Types.LinkingErrorCode.Blocked&&e?s.default.showConfirmationAlert(e.message,void 0,e.actionName,(()=>I(d.BrowserOrigin.LinkerUtil,i.url,t)),c.MainRootViewId):(s.default.showOKAlert(x(i),void 0,c.MainRootViewId),function(e){if(e){let t=x(e);e.description&&(t+=", URL: "+e.url+", Error: "+e.description),h.error(d.LogTraceArea.GenericUnsafe,t)}}(i))}function D(e){return N(void 0,c.MainRootViewId,e)}function M(e){const t=v.default.getHost(e),i=b.default.getS4LCommerceFeaturesNoSubscription().articleReader.trustedHosts;return!(!t||!i.includes(t))}},954566:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=(i(815063),o.__importStar(i(84395))),s=i(514546),l=o.__importStar(i(44717)),c=i(56595),d=i(815146),u=o.__importStar(i(85385)),p=i(535790),g=o.__importDefault(i(740794)),h=o.__importStar(i(812822)),m=o.__importStar(i(437782)),S=o.__importDefault(i(139221)),_=i(845270),f=o.__importStar(i(106671)),y=o.__importDefault(i(220534)),C=o.__importDefault(i(760989)),v=o.__importStar(i(271842)),b=o.__importStar(i(787926)),T=o.__importDefault(i(363091)),P=i(677790),k=i(371221),A=i(9560),I=o.__importDefault(i(610110)),w=/^buycredit/i;t.default=new class{getUrlForCompositeConversationNavigationContext(e){let t="/";return t=`${S.default.getFrontendBaseUrl()}/`,e&&(t+=e.otherPartyMri||e.conversationId),t}getUrlForNavigationContextStack(e,t){let i="/";if(i=`${S.default.getFrontendBaseUrl()}/`,e)if(e===h.MobileContentPanelId){const e=t;e&&(i+=e.otherPartyMri||e.conversationId)}else e===h.DetailsNavigationId&&(i+=t.mri);return i}getNavigationActionForDeepLink(e,t,i,o,h=!1,S,x,N,D){var M,L,R,E,B;const O=C.default.newCauseId();if(u.log(d.LogTraceArea.Navigation,`getNavigationActionForDeepLink: [${m.dev_unknownOmit(e)}] causeId: `+O),e.startsWith("openid-vc://"))return r.Resolved({action:()=>(0,I.default)(e),intent:p.Intent.KycVerify});if(!y.default.isUrlValid(e))return u.error(d.LogTraceArea.Navigation,`getNavigationActionForDeepLink: invalid url [${m.dev_unknownOmit(e)}] causeId: `+O),r.Resolved(void 0);const F=y.default.getURIComponents(e);let V=x||(null===(M=null==F?void 0:F.queryParameterKeyValues)||void 0===M?void 0:M.threadId);const U=null==F?void 0:F.pathname;if(!V&&U&&U.includes(":")&&l.isThread(U)&&(V=U),F&&(F.pathname||F.queryParameterString)){T.default.isGuestUser();u.track(new c.OpenDeepLinkEvent(F,V,t,o,null===(L=F.queryParameterKeyValues)||void 0===L?void 0:L.launcher,null===(R=F.queryParameterKeyValues)||void 0===R?void 0:R.action))}if(F&&n.includes(["http","https"],F.protocol))return f.navigationPromiseForHttpLink(F,e,t,h,i,o,S);if(F&&(F.type===_.UrlType.Tel||F.type===_.UrlType.CallTo))return v.handleTelDeeplink(F,i,O);if(y.default.isContactUrlComponentsValid(F))return r.Resolved({action:n.noop,intent:p.Intent.Other});if(F&&(F.type===_.UrlType.VoipAudio||F.type===_.UrlType.VoipVideo))return v.handleVoipDeeplink(F,i,O);if(F&&F.type===_.UrlType.Messaging)return b.handleIpMessagingDeeplink(F,t,o,S);if((null==F?void 0:F.type)===_.UrlType.Skype||(null==F?void 0:F.type)===_.UrlType.Winshell){let n;null===(E=null==F?void 0:F.queryParameterKeyValues)||void 0===E||E.startup;if(!F.queryParameterString||/^call/i.test(F.queryParameterString))return v.handleCallPayload(F,i,O,n);if(/^chat/i.test(F.queryParameterString))return b.handleChatPayload(F,t,e,o,S,n);if(/^channel/i.test(F.queryParameterString)&&(null===(B=F.queryParameterKeyValues)||void 0===B?void 0:B.channel)){return(new A.SignedInHttpJoinLinkHandler).navigationPromiseForChannelJoinFlowWithChannelId(F.queryParameterKeyValues.channel,i)}if(/^action/i.test(F.queryParameterString))return a.handleActionPayload(e,F,t,i,O,h,o,x,N,n);if(/^home\b/i.test(F.queryParameterString))return n&&(0,k.startTrackingSource)(n,P.StartupOrigin.DeepLink,"Home"),(0,s.cancelOffnetworkInviteResolving)(),r.Resolved(void 0);if(/^quickaction/i.test(F.queryParameterString))return n&&(0,k.startTrackingSource)(n,P.StartupOrigin.DeepLink,"quickaction"),a.handleQuickActionPayload(F,i);if(w.test(F.queryParameterString))return n&&(0,k.startTrackingSource)(n,P.StartupOrigin.DeepLink,"buyCredit"),r.Resolved({intent:p.Intent.Other,action:()=>g.default.navigateToBalanceStatePanel(d.BalancePanelSource.BuyCreditFlow,i)})}return r.Resolved(void 0)}}},541224:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({variant:e,children:t}){const i=s(e);return(0,n.jsx)(r.View,{style:i,children:t})};const o=i(197582),n=i(785893),r=(o.__importStar(i(667294)),i(537180)),a=i(964414);const s=e=>(0,a.useSkypeStyles)((({themeColors:t,mode:i})=>({_:{backgroundColor:"onAccent"===e?t.surfaceOnAccent:t.surfaceSecondary,borderWidth:i.isAccessible?1:0,borderColor:i.isAccessible?t.strokeHighContrast:void 0,width:32,alignItems:"center",justifyContent:"center",borderRadius:10}})),[e])._},844577:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=i(885838),s=(0,r.forwardRef)(((e,t)=>{const{variant:i,onQueryChange:s,onClear:l,onEscape:c}=e,d=o.__rest(e,["variant","onQueryChange","onClear","onEscape"]),u=function(e){return"onCancel"in e&&void 0!==e.onCancel}(e),[p,g]=(0,r.useState)(""),h=!u||u&&p.length>0,m=(0,r.useCallback)((e=>{g(e),s(e)}),[s]),S=(0,r.useCallback)((()=>{g(""),l()}),[l]),_=(0,n.jsx)(a.SearchInput,Object.assign({},d,{ref:t,variant:i,isClearVisible:h,onEscape:c,query:p,onQueryChange:m,onClear:S}));return(0,n.jsx)(a.SearchRow,{variant:i,children:u?(0,n.jsx)(a.SearchWithCancel,{onCancel:e.onCancel,children:_}):_})}));s.displayName="SearchHeader",t.default=s},556016:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(667294),s=i(537180),l=i(344175),c=i(964414),d=i(154235),u=i(641400),p=o.__importDefault(i(453761)),g=o.__importDefault(i(799585)),h=i(130529),m=i(206315),S=i(330380),_=o.__importDefault(i(20758)),f=i(677982),y=(0,a.forwardRef)((({variant:e="regular",accessibilityLabel:t,autoFocus:i,isLoading:o,isClearVisible:y,query:C,onQueryChange:v,onClear:b,onEscape:T,placeholder:P},k)=>{const{themeColors:{iconPrimary:A,iconOnColor:I,iconHint:w},mode:{isAccessible:x}}=(0,m.useSkypeTheme)(),{isRTL:N}=(0,S.useLocalization)(),D=(0,h.useInputStyle)(e),M=(0,a.useRef)(null);(0,a.useImperativeHandle)(k,(()=>({requestFocus:()=>{var e;return null===(e=M.current)||void 0===e?void 0:e.focus()},blur:()=>{var e;return null===(e=M.current)||void 0===e?void 0:e.blur()}})));const{textInputStyle:L,placeholderTextColor:R}=(0,c.useSkypeStyles)((({themeColors:e})=>({textInputStyle:{fontSize:_.default.controlFontSize.searchInput,fontFamily:_.default.fontFamily.uidDisplayRegular,flexShrink:0,flexGrow:1,color:e.textHint,writingDirection:N?"rtl":"ltr"},placeholderTextColor:{color:e.textHint}})),[N]),{clear:E,clearHover:B}=(0,c.useRXStyles)((({themeColors:e})=>({clear:r.Styles.createViewStyle(Object.assign({padding:10,alignSelf:"stretch",flex:1},N?{borderTopLeftRadius:8,borderBottomLeftRadius:8}:{borderTopRightRadius:8,borderBottomRightRadius:8}),!1),clearHover:r.Styles.createViewStyle({backgroundColor:e.surfaceInteractive},!1)})),[N]),O=(0,h.useEscapeKeyListener)((0,a.useCallback)((()=>{C.length>0?b():T()}),[b,T,C]));return(0,n.jsxs)(l.Row,{flex:"1",direction:N?"row-reverse":"row",style:D,borderColor:x?"strokePrimary":void 0,width:"full",height:"full",space:"size40",children:[(0,n.jsx)(l.Box,{children:(0,n.jsx)(l.Icon,{icon:"search",size:"sm",color:"iconPrimary"})}),(0,n.jsx)(l.Box,{flex:"1",children:(0,n.jsx)(s.TextInput,{ref:M,value:C,onChangeText:v,style:L,onKeyPress:O,placeholder:P,placeholderTextColor:R.color,accessibilityLabel:t||P,autoFocus:i})}),(0,n.jsx)(l.Box,{flexGrow:0,children:o?(0,n.jsx)(g.default,{size:d.SXActivityIndicatorSize.ExtraSmall,tintColor:A}):null}),(0,n.jsx)(l.Box,{height:"100%",justifyContent:"center",children:y&&(0,n.jsx)(p.default,{icon:u.SkypeIcon.DismissCircleInverted,size:(0,f.isMobileWeb)()?u.IconSize.size20:u.IconSize.size16,color:w,onPress:b,style:E,showHoverEffect:x,hoverStyle:B,hoverColor:x?I:void 0})})]})}));t.default=y},785208:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({variant:e="regular",onPress:t,placeholder:i,accessory:o}){const{isRTL:m,themeColors:{iconPrimary:S,strokeHighContrast:_}}=(0,c.useCommonContext)(),f=r.StyleSheet.flatten([(0,d.useInputStyle)(e),{borderColor:_}]),y=(0,u.useSkypeStyles)((({themeColors:{textSecondary:e}})=>({_:Object.assign({color:e,fontSize:s.default.isMobile()?l.default.fontSize.size17:l.default.fontSize.size14},l.default.font.uiDisplayRegular)})),[])._;return(0,n.jsxs)(a.Row,{flex:1,direction:m?"row-reverse":"row",height:"full",width:"full",children:[(0,n.jsxs)(r.Pressable,{style:f,onPress:t,accessibilityRole:"button",accessibilityLabel:i,children:[(0,n.jsx)(a.Box,{children:(0,n.jsx)(g.default,{icon:h.SkypeIcon.Search,size:h.IconSize.size20,color:S})}),(0,n.jsx)(r.Text,{style:y,children:i})]}),o?(0,n.jsx)(a.Row,{marginLeft:2,children:(0,n.jsx)(p.default,{variant:e,children:o})}):null]})};const o=i(197582),n=i(785893),r=i(537180),a=i(344175),s=o.__importDefault(i(815063)),l=o.__importDefault(i(20758)),c=i(736267),d=i(130529),u=i(964414),p=o.__importDefault(i(541224)),g=o.__importDefault(i(970035)),h=i(641400)},9463:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({variant:e="regular",children:t}){const i=(0,l.useContainerColorStyles)(e),o=(0,l.useContainerStyle)(c);return(0,n.jsx)(a.Row,{style:r.StyleSheet.flatten([i,o,s.styles.paddings]),children:t})};const o=i(197582),n=i(785893),r=(o.__importStar(i(667294)),i(537180)),a=i(344175),s=i(647998),l=i(130529),c=52},387491:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({variant:e="regular",value:t,valueFrom:i,valueTo:o,maxHeight:d,children:u}){const p=(0,l.useContainerColorStyles)(e);return(0,n.jsx)(s.CollapsibleRow,{value:t,valueFrom:i,valueTo:o,maxHeight:d,children:(0,n.jsx)(a.Row,{height:"full",style:r.StyleSheet.flatten([p,c.styles.paddings]),children:u})})};const o=i(197582),n=i(785893),r=(o.__importStar(i(667294)),i(537180)),a=i(344175),s=i(887480),l=i(130529),c=i(647998)},988711:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({onCancel:e,children:t}){const{isRTL:i}=(0,s.useCommonContext)(),o=(0,l.getString)("Global.CancelLabel"),r=(0,u.useContainerStyle)(h);return(0,n.jsxs)(a.Row,{flex:1,direction:i?"row-reverse":"row",style:r,children:[t,(0,n.jsx)(d.default,{buttonStyle:c.SXButtonStyle.ThemeNoBackground,buttonSize:c.SXButtonSize.Small,title:o,onPress:e,textStyleOverride:[m.textStyleOverride],innerContainerStyle:m.buttonText,children:o})]})};const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=(o.__importStar(i(667294)),i(344175)),s=i(736267),l=i(704704),c=i(154235),d=o.__importDefault(i(660401)),u=i(130529),p=o.__importDefault(i(20758)),g=i(26703),h=36,m=(0,g.lazyProperties)({textStyleOverride:()=>r.Styles.createTextStyle({fontSize:p.default.controlFontSize.button}),buttonText:()=>r.Styles.createViewStyle({paddingRight:0})})},130529:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useContainerStyle=t.useContainerColorStyles=t.useInputStyle=void 0,t.useEscapeKeyListener=function(e){return(0,o.useCallback)((t=>{"Escape"===t.nativeEvent.key&&e()}),[e])};const o=i(667294),n=i(537180),r=i(964414),a=i(647998);t.useInputStyle=e=>{const t=(0,r.useSkypeStyles)((({mode:t,themeColors:i})=>({_:{backgroundColor:"onAccent"===e?i.surfaceOnAccent:i.surfaceSecondary,borderWidth:t.isAccessible?1:0,paddingLeft:8}})),[e]);return n.StyleSheet.flatten([a.styles.button,t._])};t.useContainerColorStyles=e=>(0,r.useSkypeStyles)((({themeColors:t})=>({_:{backgroundColor:"onAccent"===e?t.surfaceAccent:t.surfacePrimary}})),[e])._;t.useContainerStyle=e=>(0,r.useSkypeStyles)((()=>({_:{height:e}})),[e])._},885838:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SearchHeader=t.SearchRowCollapsible=t.SearchWithCancel=t.SearchRow=t.SearchInput=t.SearchInputButton=void 0;const o=i(197582);var n=i(785208);Object.defineProperty(t,"SearchInputButton",{enumerable:!0,get:function(){return o.__importDefault(n).default}});var r=i(556016);Object.defineProperty(t,"SearchInput",{enumerable:!0,get:function(){return o.__importDefault(r).default}});var a=i(9463);Object.defineProperty(t,"SearchRow",{enumerable:!0,get:function(){return o.__importDefault(a).default}});var s=i(988711);Object.defineProperty(t,"SearchWithCancel",{enumerable:!0,get:function(){return o.__importDefault(s).default}});var l=i(387491);Object.defineProperty(t,"SearchRowCollapsible",{enumerable:!0,get:function(){return o.__importDefault(l).default}});var c=i(844577);Object.defineProperty(t,"SearchHeader",{enumerable:!0,get:function(){return o.__importDefault(c).default}})},647998:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;const o=i(537180);t.styles=o.StyleSheet.create({button:{flex:1,flexDirection:"row",alignItems:"center",borderRadius:10},paddings:{paddingVertical:8,paddingHorizontal:16,alignItems:"center"}})},818263:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bannersRelatedCommands=void 0;const o=i(197582);i(380157),o.__importDefault(i(835325)),i(22478),o.__importDefault(i(326544)),i(536745),o.__importDefault(i(201721)),o.__importDefault(i(139221)),i(331079),o.__importDefault(i(251733));t.bannersRelatedCommands=[]},711848:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(284841),a=o.__importDefault(i(615364)),s=o.__importStar(i(459287)),l=o.__importDefault(i(794229)),c=i(815146),d=o.__importStar(i(626065)),u=o.__importStar(i(85385)),p=i(536745),g=o.__importStar(i(704704)),h=o.__importDefault(i(233277)),m=o.__importDefault(i(363394)),S=i(73018),_={command:"addreactions",usageHint:"[emoticon1], [emoticon2], ...",description:g.getString("SlashCommandDescriptions.AddReactions"),isVisible:!0,isEnabled:()=>!0,action:(e,t,i)=>{if(!e)return p.ActionResult.InvalidParameters;const o=P(e,i);return n.size(o)>0&&((0,h.default)().addReactions(o),(0,h.default)().saveCurrentReactions(),u.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.ReactionListBatchAdd,{numberOfReactions:n.size(o)}))),p.ActionResult.None}},f={command:"addcallreactions",usageHint:"[emoticon1], [emoticon2], ...",description:g.getString("SlashCommandDescriptions.AddReactions"),isVisible:!0,isEnabled:()=>!0,action:(e,t,i)=>{if(!e)return p.ActionResult.InvalidParameters;const o=P(e,i);return n.size(o)>0&&((0,m.default)().addReactions(o),(0,m.default)().saveCurrentReactions(),u.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.CallReactionListBatchAdd,{numberOfReactions:n.size(o)}))),p.ActionResult.None}},y={command:"removereactions",usageHint:"[emoticon1], [emoticon2], ...",description:g.getString("SlashCommandDescriptions.RemoveReactions"),isVisible:!0,isEnabled:()=>!0,action:(e,t,i)=>{if(!e)return p.ActionResult.InvalidParameters;const o=P(e,i);return n.size(o)>0&&((0,h.default)().removeReactions(o),(0,h.default)().saveCurrentReactions(),u.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.ReactionListBatchRemove,{numberOfReactions:n.size(o)})),(0,h.default)().getLocalReactionsCount()||u.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.LastReactionRemovedCallReset))),p.ActionResult.None}},C={command:"removecallreactions",usageHint:"[emoticon1], [emoticon2], ...",description:g.getString("SlashCommandDescriptions.RemoveReactions"),isVisible:!0,isEnabled:()=>!0,action:(e,t,i)=>{if(!e)return p.ActionResult.InvalidParameters;const o=P(e,i);return n.size(o)>0&&((0,m.default)().removeReactions(o),(0,m.default)().saveCurrentReactions(),u.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.CallReactionListBatchRemove,{numberOfReactions:n.size(o)})),(0,h.default)().getLocalReactionsCount()||u.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.LastCallReactionRemovedCallReset))),p.ActionResult.None}},v=[Object.assign(Object.assign({},_),{command:"addreaction",isVisible:!1}),_,y,Object.assign(Object.assign({},y),{command:"removereaction",isVisible:!1}),f,Object.assign(Object.assign({},f),{command:"addcallreaction",isVisible:!1}),C,Object.assign(Object.assign({},C),{command:"removecallreaction",isVisible:!1}),{command:"resetreactions",description:"Resets reactions set back to default",isVisible:!0,isEnabled:()=>!0,action:()=>((0,h.default)().resetUnsavedReactions(),(0,h.default)().saveCurrentReactions(),u.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.ReactionListReset)),p.ActionResult.None)},{command:"resetcallreactions",description:"Resets call reactions set back to default",isVisible:!0,isEnabled:()=>!0,action:()=>((0,m.default)().resetUnsavedReactions(),(0,m.default)().saveCurrentReactions(),u.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.CallReactionListReset)),p.ActionResult.None)},{command:"removereactionsat",usageHint:"reaction positions, use /printreactions for more info",description:g.getString("SlashCommandDescriptions.RemoveReactionsAt"),isVisible:!1,isEnabled:()=>!0,action:(e,t,i)=>e&&b(e)?((0,h.default)().removeReactionsAt(T(e).map((e=>e-1))),(0,h.default)().saveCurrentReactions(),p.ActionResult.None):p.ActionResult.InvalidParameters},{command:"removecallreactionsat",usageHint:"reaction positions, use /printcallreactions for more info",description:g.getString("SlashCommandDescriptions.RemoveCallReactionsAt"),isVisible:!1,isEnabled:()=>!0,action:(e,t,i)=>e&&b(e)?((0,m.default)().removeReactionsAt(T(e).map((e=>e-1))),(0,m.default)().saveCurrentReactions(),p.ActionResult.None):p.ActionResult.InvalidParameters},{command:"printreactions",usageHint:"(optional) position",description:g.getString("SlashCommandDescriptions.PrintReactions"),isVisible:!1,isEnabled:()=>!0,action:(e,t,i,o)=>{if(e&&!b(e))return p.ActionResult.InvalidParameters;const r=n.isEmpty(e)?[]:T(e);if((0,a.default)().getConversation(t)){const e="Reactions:\n",i=(0,h.default)().getCustomReactions(),a=n.isEmpty(r)?i.reduce(((e,t,i)=>e.concat(`${i+1}. (${t})\n`)),e):r.reduce(((e,t)=>`${t}. (${i[t-1]})`),e);o(s.createMessageInfoFromEscapedText(t,c.PostSource.SlashCommand,a))}return p.ActionResult.None}},{command:"printcallreactions",usageHint:"(optional) position",description:g.getString("SlashCommandDescriptions.PrintReactions"),isVisible:!1,isEnabled:()=>!0,action:(e,t,i,o)=>{if(e&&!b(e))return p.ActionResult.InvalidParameters;const r=n.isEmpty(e)?[]:T(e);if((0,a.default)().getConversation(t)){const e="Call Reactions:\n",i=(0,m.default)().getCustomReactions(),a=n.isEmpty(r)?i.reduce(((e,t,i)=>e.concat(`${i+1}. (${t})\n`)),e):r.reduce(((e,t)=>`${t}. (${i[t-1]})`),e);o(s.createMessageInfoFromEscapedText(t,c.PostSource.SlashCommand,a))}return p.ActionResult.None}}];function b(e){return(e||"").match(/^(\d|\s)+$/)&&"0"!==e}function T(e){return(0,r.chain)(e,(e=>e.trim().toLowerCase().split(" ")),(e=>e.map(n.toInteger)))}function P(e,t){const i=t.slice(2);return n.size(i)>0&&n.every(i,(e=>e instanceof d.EmoticonEntity))?i.map((e=>e.emoticonName)):(0,r.chain)(e,(e=>e.trim().toLowerCase().split(" ")),(e=>e.map((e=>{return function(e,t){if(e&&(e.id===t||n.includes(e.shortcuts,t)))return e.id;0;return}((t=e,l.default.getEmoticonByShortcutNoSubscription(`(${t})`)||l.default.getEmoticonByShortcutNoSubscription(t)),e);var t}))),n.compact)}t.default=v},701034:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FindResult=void 0,t.getSlashCommands=function(){return xe},t.getVisibleCommands=function(e){return n.filter(xe,(t=>t.isVisible&&De(e,t)))},t.findSlashCommand=function(e,t){if((t[0]instanceof O.CommandEntity||t[0]instanceof O.UnhandledEntity||t[0]instanceof O.HtmlEntity||t[0]instanceof O.SmsEntity)&&"/"===t[0].text().charAt(0)){const i=n.map(t,(e=>e.text())).join("");if(we.test(i)){let t=i.indexOf(" ");-1===t&&(t=i.length);const o=i.substring(1,t).toLowerCase(),r=i.substring(t+1),a=n.find(xe,(t=>t.command===o&&De(e,t)));return{result:a?Me.FoundCommand:Me.InvalidLooksLikeCommand,command:a,params:r}}}return{result:Me.None}};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(264596)),a=i(167606),s=o.__importStar(i(815063)),l=(i(148540),o.__importStar(i(397691))),c=(o.__importDefault(i(212042)),o.__importDefault(i(179075))),d=(o.__importDefault(i(438752)),o.__importDefault(i(852789))),u=(i(938827),o.__importDefault(i(150343))),p=(o.__importDefault(i(13816)),o.__importDefault(i(782649))),g=o.__importDefault(i(402536)),h=o.__importDefault(i(369347)),m=(o.__importStar(i(596467)),o.__importDefault(i(851692)),o.__importStar(i(619429))),S=(i(619429),o.__importDefault(i(758117))),_=o.__importDefault(i(404547)),f=o.__importDefault(i(304623)),y=o.__importStar(i(172134)),C=(o.__importStar(i(971988)),i(135356)),v=i(627414),b=o.__importDefault(i(556587)),T=o.__importStar(i(44717)),P=(o.__importDefault(i(434343)),i(154235),i(112900),o.__importDefault(i(445571))),k=o.__importDefault(i(555436)),A=o.__importStar(i(583506)),I=(o.__importDefault(i(214189)),o.__importDefault(i(615364))),w=o.__importStar(i(459287)),x=(i(766698),o.__importDefault(i(999261)),o.__importDefault(i(835325)),o.__importDefault(i(601976))),N=o.__importDefault(i(151938)),D=(o.__importDefault(i(109367)),o.__importDefault(i(421852)),o.__importDefault(i(228681))),M=o.__importDefault(i(77265)),L=o.__importDefault(i(259319)),R=i(22478),E=i(815146),B=(o.__importDefault(i(905786)),o.__importDefault(i(326544)),o.__importDefault(i(524526)),o.__importDefault(i(235256))),O=o.__importStar(i(626065)),F=o.__importStar(i(85385)),V=(o.__importDefault(i(89984)),i(536745)),U=o.__importStar(i(94534)),j=i(64430),H=o.__importDefault(i(432091)),W=o.__importStar(i(704704)),z=(o.__importDefault(i(265609)),o.__importDefault(i(855191))),G=(i(943610),o.__importDefault(i(531904)),i(675862)),K=i(245127),q=(o.__importDefault(i(247286)),o.__importDefault(i(201721))),Q=o.__importDefault(i(341994)),X=o.__importDefault(i(363091)),$=o.__importDefault(i(740794)),J=o.__importDefault(i(942724)),Y=o.__importStar(i(453353)),Z=(o.__importDefault(i(922801)),i(177116),o.__importDefault(i(421241)),i(705427)),ee=i(658171),te=(o.__importDefault(i(900223)),o.__importStar(i(790525))),ie=(o.__importStar(i(912241)),o.__importDefault(i(932541)),o.__importDefault(i(863132))),oe=o.__importDefault(i(711848)),ne=o.__importDefault(i(153065)),re=o.__importDefault(i(668301)),ae=o.__importDefault(i(565060)),se=o.__importStar(i(892135)),le=o.__importStar(i(437782)),ce=(o.__importDefault(i(184457)),i(36381),o.__importDefault(i(572303))),de=o.__importDefault(i(782829)),ue=(o.__importDefault(i(370073)),o.__importDefault(i(686889))),pe=o.__importDefault(i(316026)),ge=o.__importStar(i(446574)),he=(o.__importDefault(i(920866)),o.__importDefault(i(655192))),me=o.__importDefault(i(139221)),Se=(o.__importDefault(i(601274)),o.__importDefault(i(517518))),_e=o.__importDefault(i(220534)),fe=o.__importDefault(i(685734)),ye=o.__importDefault(i(760989)),Ce=i(818263),ve=(o.__importDefault(i(288950)),i(825957),o.__importDefault(i(743980)),i(473711),i(413686),i(444314),i(601505)),be=i(123117),Te=i(322304),Pe=i(299825),ke=i(737298),Ae=o.__importDefault(i(800449)),Ie=(o.__importDefault(i(610110)),o.__importDefault(i(628782))),we=(o.__importDefault(i(135372)),/^\/[a-z_!]+(?:\s|$)/i),xe=[{command:"refresh",isVisible:!1,usageHint:"[info|chat|alerts|all]",description:W.getString("SlashCommandDescriptions.Refresh"),action:(e,t)=>{const i=e.trim().toLowerCase();if("info"===i)B.default.fireAllEarly(),fe.default.slashCommand_refreshProfiles(),D.default.requestUpdate();else if("chat"===i)b.default.forceResyncAllConversations();else if("alerts"===i)d.default.slashCommand_refresh();else if("all"===i)B.default.fireAllEarly(),fe.default.slashCommand_refreshProfiles(),D.default.requestUpdate(),b.default.forceResyncAllConversations(),d.default.slashCommand_refresh();else{if(i)return V.ActionResult.InvalidParameters;b.default.forceResyncConversation(t)}return V.ActionResult.None}},{command:"me",isVisible:!0,usageHint:"[emote text]",description:W.getString("SlashCommandDescriptions.Me"),action:(e,t,i)=>{if(!e.trim())return V.ActionResult.InvalidParameters;const o=x.default.getDisplayName(X.default.getSkypeMri()),r=ye.default.escapeXml(o).length+1;let a=3;const s=[];n.each(i,(e=>{if(a>0){const t=e.text();if(t.length<a)a-=t.length;else{const e=o+t.substring(a);s.push(new O.UnhandledEntity(e)),a=0}}else s.push(e)}));const l=w.createEmoteMessageInfo(t,E.PostSource.SlashCommand,s,r);return ie.default.postMessage(l),V.ActionResult.None}},{command:"swift",isVisible:!1,usageHint:"[todo | weather | trello | hotel | receipt | signin]",description:"Adds a test Swift card to the stream",action:(e,t,i,o)=>{const n=e.trim(),r=w.createSwiftFakeMessage(t,E.PostSource.SlashCommand,n);return r?(o(r),V.ActionResult.None):V.ActionResult.InvalidParameters}},{command:"poll",isVisible:!0,usageHint:"[title],[option1],[option2],[option3], ...",description:W.getString("SlashCommandDescriptions.Poll"),isEnabled:()=>!0,action:(e,t)=>{const i=e.split(",");if(i&&i.length>Z.MinPollOptionCount){const e=i[0],o=n.take(i.slice(1),Z.MaxPollOptionCount);return te.postPollMessage(t,e,o,te.getDefaultExpirationTimeMs(),!1,ee.CreatePollOrigin.SlashCommand),V.ActionResult.None}return V.ActionResult.InvalidParameters}},{command:"tokenrefresh",isVisible:!1,usageHint:"[no params / Default] = Skypetoken,[OneService],[UserInternal],...",description:"Force refresh of a token (Skypetoken or other MSA tokens)",action:(e,t)=>{const i=null==e?void 0:e.trim().toLowerCase();if(!i||"default"===i)return Se.default.skypeTokenInvalid(Se.default.getRawSkypeToken(),!0),V.ActionResult.None;if(i){let e;switch(i){case"oneservice":e=K.MsaAccessTokenScope.OneService;break;case"userinternal":e=K.MsaAccessTokenScope.UserInternal}if(e)return Se.default.invalidateScopedMsaAccessToken(e),Ie.default.invalidateScopedMsaAccessToken(e),V.ActionResult.None}return V.ActionResult.InvalidParameters}},{command:"epidrefresh",isVisible:!1,description:"Force refresh of EndpointId",action:()=>(de.default.markEndpointMissing(de.default.getEndpointId()),V.ActionResult.None)},{command:"add",isVisible:!1,usageHint:"[user]",description:W.getString("SlashCommandDescriptions.Add"),action:(e,t)=>V.ActionResult.None},{command:"leave",isVisible:!0,description:W.getString("SlashCommandDescriptions.Leave"),isEnabled:e=>Ne(e),action:(e,t)=>{y.leaveConversationAsync(t,v.RemoveMemberFromThreadSource.LeaveCommand),new ke.EndAllCallsInConversationCommand(t).execute();const i=ye.default.newCauseId();return F.log(E.LogTraceArea.SlashCommandUtils,"/leave",le.mriOrId(t)," causeId:",i),J.default.isUsingStackNavigationContext()?$.default.navigateToRecentsTab():$.default.navigateToDesktopRecents(i),V.ActionResult.None}},{command:"kick",isVisible:!1,usageHint:"[Skype Name]",description:"Eject chat member",isEnabled:e=>{const t=(0,I.default)().getConversation(e);return Ne(e)&&!(0,G.isRegularMemberInModeratedGroup)(t)},action:(e,t)=>{const i=e.trim();return i?(n.each(i.split(" "),(e=>{const i=T.sanitizeMri(e,T.Namespaces.SkypeId);y.removeParticipantFromConversation(i,t,v.RemoveMemberFromThreadSource.KickCommand)})),V.ActionResult.None):V.ActionResult.InvalidParameters}},{command:"kickban",isVisible:!0,usageHint:"[Skype Name]",description:W.getString("SlashCommandDescriptions.KickBan"),isEnabled:e=>{const t=(0,I.default)().getConversation(e);return Ne(e,!0)&&!(0,G.isRegularMemberInModeratedGroup)(t)},action:(e,t)=>{const i=e.trim();if(!i)return V.ActionResult.InvalidParameters;const o=(0,I.default)().getConversation(t);let r=o?o.getBannedSkypeIds():[];return n.each(i.split(" "),(e=>{const i=T.sanitizeMri(e,T.Namespaces.SkypeId);y.removeParticipantFromConversation(i,t,v.RemoveMemberFromThreadSource.KickCommand),r.push(e)})),r=n.uniq(r),_.default.setBannedSkypeIds(t,r),V.ActionResult.None}},{command:"getbanlist",isVisible:!0,description:W.getString("SlashCommandDescriptions.GetBanList"),isEnabled:e=>{const t=(0,I.default)().getConversation(e);return Ne(e,!0)&&!(0,G.isRegularMemberInModeratedGroup)(t)},action:(e,t,i,o)=>{const r=(0,I.default)().getConversation(t);if(r){let e="BANNED USERS:\n";const i=r.getBannedSkypeIds();n.each(i,(t=>{e+=`   ${t}\n`}));o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,e))}return V.ActionResult.None}},{command:"setbanlist",isVisible:!0,usageHint:"[[+|-][Skype Name]]",description:W.getString("SlashCommandDescriptions.SetBanList"),isEnabled:e=>{const t=(0,I.default)().getConversation(e);return Ne(e,!0)&&!(0,G.isRegularMemberInModeratedGroup)(t)},action:(e,t)=>{const i=e.trim();if(!i)return V.ActionResult.InvalidParameters;const o=(0,I.default)().getConversation(t);if(o){let e=!1,r=o.getBannedSkypeIds();if(n.each(i.split(" "),(t=>{"+"===t[0]?r.push(T.asSkypeId(t.slice(1))):"-"===t[0]?n.remove(r,(e=>e===t.slice(1))):e=!0})),e)return V.ActionResult.InvalidParameters;r=n.uniq(r),_.default.setBannedSkypeIds(t,r)}return V.ActionResult.None}},{command:"showmembers",isVisible:!0,description:W.getString("SlashCommandDescriptions.ShowMembers"),isEnabled:e=>Ne(e),action:(e,t,i,o)=>{const r=(0,I.default)().getConversation(t);if(r){let e="CONVERSATION MEMBERS:\n";const i=r.getThreadMembers();n.each(i,(t=>{if(T.isAgent(t.id)){const i=c.default.getAgentDescriptionForMri(t.id);e+=`   ${i.getDisplayName()} (${t.id}): ${t.role}\n`}else{const i=T.getSkypeIdFromMri(t.id);i&&(e+=`   ${i}: ${t.role}\n`)}}));o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,e))}return V.ActionResult.None}},{command:"setrole",isVisible:!0,usageHint:"[Skype Name] [Admin|User]",description:W.getString("SlashCommandDescriptions.SetRole"),isEnabled:e=>{const t=(0,I.default)().getConversation(e);return Ne(e)&&!(0,G.isRegularMemberInModeratedGroup)(t)},action:(e,t)=>{const i=e.split(" ");if(2!==i.length||i[1].toLowerCase()!==C.ThreadMemberRoles.Admin.toLowerCase()&&"master"!==i[1].toLowerCase()&&i[1].toLowerCase()!==C.ThreadMemberRoles.User.toLowerCase())return V.ActionResult.InvalidParameters;const o=T.sanitizeMri(i[0],T.Namespaces.SkypeId),n=(0,I.default)().getConversation(t);return n&&n.isUserMember(o)?(X.default.getSkypeMri()===o||_.default.serviceAddMemberToThread(t,o,v.AddMemberToThreadSource.SetRoleCommand,i[1].toLowerCase()===C.ThreadMemberRoles.Admin.toLowerCase()||"master"===i[1].toLowerCase()),V.ActionResult.None):V.ActionResult.None}},{command:"showconv",isVisible:!1,description:"Displays raw conversation info",action:(e,t,i,o)=>{const n=(0,I.default)().getConversation(t);if(n){o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,JSON.stringify(n)))}return V.ActionResult.None}},{command:"showconvid",isVisible:!1,description:"Displays conversation id",action:(e,t,i,o)=>(o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,JSON.stringify(t))),V.ActionResult.None)},{command:"dumprawalerts",isVisible:!1,usageHint:"[count]",description:"Dumps raw alerts info",action:(e,t,i,o)=>{const n=d.default.test_getAllRawAlerts(),r=Number(e.trim());r>0&&n.splice(r);return o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,JSON.stringify(n))),V.ActionResult.None}},{command:"dumpalerts",isVisible:!1,usageHint:"[count]",description:"Dumps visible alerts info",action:(e,t,i,o)=>{let r=d.default.getRecentAlerts();const a=Number(e.trim());if(a>0){const e=n.clone(r);e.splice(a),r=e}return o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,JSON.stringify(r))),V.ActionResult.None}},{command:"syncinfo",isVisible:!1,description:"Displays conversation's sync info",action:(e,t,i,o)=>{const n=f.default.getConversationMetaFromMemoryCache(t);if(!n)return V.ActionResult.None;let r="Conversation: "+t+", Version: "+n.conv.convViewVersion+", MessagesStale: "+n.syncInfo.messagesStale+", MessagesSyncState: "+n.syncInfo.messagesSyncState;n.conv.isThread()&&(r+=", ThreadDetailsVersion: "+n.conv.threadDetailsVersion+", ThreadPropsVersion: "+n.conv.getThreadProperty(T.ThreadProps.ThreadDetailsVersion));return o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,r)),V.ActionResult.None}},{command:"language",isVisible:!1,description:W.getString("SlashCommandDescriptions.Language"),usageHint:"[ll-CC|ll|reset]",action:e=>e.trim()?(F.track(new j.LanguageSlashCommandChangedEvent(W.getLocale(),e)),"reset"===e.trim()?(U.resetLocaleToSystem(),F.log(E.LogTraceArea.SlashCommandUtils,"Resetting language to default via slash command")):(U.setLocale(e),F.log(E.LogTraceArea.SlashCommandUtils,`Locale set via slash command to [${e}]`)),V.ActionResult.None):V.ActionResult.InvalidParameters},{command:"rtl",isVisible:!1,description:"Force right-to-left layout",usageHint:"[on|off]",action:(e,t,i,o)=>{const n=e.trim();if("on"!==n&&"off"!==n)return V.ActionResult.InvalidParameters;const r="on"===n;W.forceRTL(r),q.default.setUserPreferencesLocal({rtl:r});return o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,"The app needs to be restarted for this change to take effect")),V.ActionResult.None}},{command:"forcecqf",isVisible:!1,usageHint:"[on|off]",description:"Forces Call Quality Feedback for all calls",action:(e,t)=>{const i=e.trim().toLowerCase();return i&&"on"!==i&&"off"!==i?V.ActionResult.InvalidParameters:(q.default.setUserPreferencesLocal({forceCQF:"on"===i}),V.ActionResult.None)}},{command:"callinfo",isVisible:!1,description:"Display call info in the conversation",action:(e,t,i,o)=>{const r=h.default.CallingStore.getCallIdsForConversationMri(t),a=r.length?n.head(r):h.default.CallingStore.getMostRecentCallId();return a?(h.default.CallingStore.getDebugInformation(a,!!r.length).then((e=>{if(!e)return;const i=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,e);o(i)})),V.ActionResult.None):V.ActionResult.None}},{command:"calltechinfo",isVisible:!1,description:"Display call technical information in the conversation",action:(e,t,i,o)=>{const r=h.default.CallingStore.getCallIdsForConversationMri(t);r.length?n.head(r):h.default.CallingStore.getMostRecentCallId();return V.ActionResult.None}},{command:"golive",isVisible:!0,usageHint:"",description:W.getString("SlashCommandDescriptions.GoLive"),isEnabled:e=>{const t=(0,I.default)().getConversation(e);return T.isGroupConversation(e)&&!(0,G.isRegularMemberInModeratedGroup)(t)},action:(e,t,i,o)=>{const n=ye.default.newCauseId();return T.isThread(t)?h.default.CallNavigationHelper.isGoLiveAllowed(t,n)?(F.log(E.LogTraceArea.SlashCommandUtils,"/golive",le.mriOrId(t)," causeId:",n),h.default.CallNavigationHelper.startGoLiveCall({conversationMri:t,withVideo:!0,origin:E.NavigationCallOrigin.GoLiveSlashCommand},n),V.ActionResult.None):(F.log(E.LogTraceArea.SlashCommandUtils,"Ignoring /golive ",le.mriOrId(t),"- golive is not allowed"),V.ActionResult.None):V.ActionResult.None}},{command:"flamingo",isVisible:!1,usageHint:"[on|off]",description:"Forces MSNP pushes for all calls",action:(e,t)=>{const i=e.trim().toLowerCase();return i&&"on"!==i&&"off"!==i?V.ActionResult.InvalidParameters:(q.default.setUserPreferencesLocal({forceFlamingo:"on"===i}),V.ActionResult.None)}},{command:"showbrowserinfo",isVisible:!1,description:"Show browser info",action:(e,t,i,o)=>{const n="BrowserName: "+s.default.SystemModel+" browserVersion: "+s.default.SystemManufacturer+" isMobile: "+s.default.isMobile()+" supportsDragAndDropEffect: "+s.BrowserEnvironment.supportsDragAndDropEffect()+" supportsScreenSharing: "+s.BrowserEnvironment.supportsScreenSharing()+" supportsCopy: "+s.BrowserEnvironment.supportsCopy()+" browserEngine: "+s.BrowserEnvironment.getBrowserEngine();return o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,n)),V.ActionResult.None}},{command:"showreconnect",isVisible:!1,usageHint:"[on|off|none]",description:"Force-render reconnect UI",action:(e,t,i,o)=>{if(!g.default.isCallingBundleLoaded())return V.ActionResult.InvalidParameters;const n=e.trim().toLowerCase();if(n&&"on"!==n&&"off"!==n&&"none"!==n)return V.ActionResult.InvalidParameters;const r="on"===n?m.NetworkConnectionState.Connecting:"off"===n?m.NetworkConnectionState.Connected:m.NetworkConnectionState.LostConnection,a=ye.default.newCauseId(),s=h.default.CallingStore.getConnectedAndNotOnHoldCallId();return s?(F.log(E.LogTraceArea.SlashCommandUtils,"Setting call reconnect UI networkState: "+m.NetworkConnectionState[r]+" callId: "+s+" causeId: "+a),h.default.CallingStore.networkConnectionEvent().fire({callId:s,eventType:m.CallNetworkQualityEventType.NetworkReconnection,networkState:r,causeId:a}),V.ActionResult.None):V.ActionResult.InvalidParameters}},{command:"showpoorconnection",isVisible:!1,usageHint:"[on|off]",description:"Force-render poor connection UI",action:(e,t,i,o)=>{const n=e.trim().toLowerCase();if(n&&"on"!==n&&"off"!==n)return V.ActionResult.InvalidParameters;if(!g.default.isCallingBundleLoaded())return V.ActionResult.InvalidParameters;const r="on"===n,a=ye.default.newCauseId(),s=h.default.CallingStore.getConnectedAndNotOnHoldCallId();return s?(F.log(E.LogTraceArea.SlashCommandUtils,(r?"Showing":"Hiding")+" calling poor connection UI callId: "+s+" causeId: "+a),h.default.CallingStore.networkConnectionEvent().fire({callId:s,eventType:m.CallNetworkQualityEventType.NetworkReceiveQuality,networkState:r?m.NetworkConnectionState.LostConnection:m.NetworkConnectionState.Connected,causeId:a}),V.ActionResult.None):V.ActionResult.InvalidParameters}},{command:"showaudioonlyprompt",isVisible:!1,usageHint:"[on|off]",description:"Force-render catastrophic network event",action:(e,t,i,o)=>{if(!g.default.isCallingBundleLoaded())return V.ActionResult.InvalidParameters;const n=e.trim().toLowerCase();if(n&&"on"!==n&&"off"!==n&&"none"!==n)return V.ActionResult.InvalidParameters;let r=m.NetworkConnectionState.LostConnection;"on"===n?r=m.NetworkConnectionState.Connecting:"off"===n&&(r=m.NetworkConnectionState.Connected);const a=ye.default.newCauseId(),s=h.default.CallingStore.getConnectedAndNotOnHoldCallId();return s?(F.log(E.LogTraceArea.SlashCommandUtils,"Setting audio only prompt UI networkState: "+m.NetworkConnectionState[r]+" callId: "+s+" causeId: "+a),h.default.CallingStore.networkConnectionEvent().fire({callId:s,eventType:m.CallNetworkQualityEventType.NetworkReceiveCatastrophic,networkState:r,causeId:a}),V.ActionResult.None):V.ActionResult.InvalidParameters}},{command:"showcallnetworkconnectioninfo",isVisible:!1,usageHint:"",description:"Displays call network quality values",action:(e,t,i,o)=>{if(!g.default.isCallingBundleLoaded())return V.ActionResult.InvalidParameters;const n=h.default.CallingStore.getConnectedAndNotOnHoldCallId();if(!n)return V.ActionResult.InvalidParameters;const r=(0,S.default)(),a=r.getCallReconnectionState(n),s=r.isCallQualityPoor(n),l=r.isCallCatastrophic(n);let c=`Reconnection: ${a}`;return a&&(c+=` (${m.NetworkConnectionState[a]})`),c+=`\nQualityPoor: ${s}`,c+=`\nCatastrophic: ${l}`,o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,c)),V.ActionResult.None}},{command:"dumpmsnp",isVisible:!1,description:"Display debugging info in the conversation",action:(e,t,i,o)=>{let r;switch(Y.default.getConnectionStatus()){case Y.ConnectionStatus.Connected:r="NetStateConnected";break;case Y.ConnectionStatus.DisconnectedButNetworkingPossible:r="NetStateConnecting";break;case Y.ConnectionStatus.DisconnectedNoNetworkingReported:r="NetStateDisconnected";break;default:r="Unknown"}const a=X.default.getMyMris(),s=n.filter(a,(e=>T.getMriNamespace(e)===T.Namespaces.MSA)).map((e=>e.substring(2))),l=n.find(s,(e=>0!==e.indexOf("cid-(")))||n.head(s)||"Unknown",c=(new Date).getTimezoneOffset(),d=Math.abs(c%60),u=(c-d)/60,p=(u>0?"-":"+")+(u<10?"0"+u:u)+":"+(d<10?"0"+d:d),g=de.default.getEndpointInfo(),h=Se.default.getSkypeToken(),m=ae.default.debug_getLastPayload(),S=_.default.debug_getCurrentCloudUrlV1(),y=_.default.debug_getCurrentCloudUrlV2(),v=f.default.getUserProperty(T.ServerUserProps.UserRing),b=[["Status",r],["Dogfood Status",S?T.isDogfoodCloudUrl(S).toString():"None"],["Cloud Url CSv1",S||"None"],["User Ring",n.isUndefined(v)?"None":C.UserRing[n.toNumber(v)]||v],["Cloud Url CSv2",y||"None"],["Login",l],["Skypename",X.default.getSkypeId()],["EPID",g.exists?g.id:"None"],["EPFlags",g.exists?g.featureFlags:"None"],["Push Sub Id",g.pushSubscriptionId||"None"],["ClientVersion",me.default.getAppVersion()],["OSVersion",me.default.getPlatformTypeName()+" "+me.default.getOSVersion()],["Time",`TZ: UTC${p}, Local: ${Date.now()}    /*, Server */`],["PnhInfo",m?JSON.stringify(m):"None"],["My Mris",a.join(", ")],["Locale",W.getLocale()],["PlatformType",""+me.default.getPlatformType()],["Chat Service Connection",_.default.isConnected()?"REST/Long Poll":"None"],["Is trouter connected",String(Ae.default.isConnected())],["Skype Token Expiration",h?""+h.expiration:"None"],["FrontendUrl",me.default.getFrontendBaseUrl()]];const P="MSNP: Connection Data:\n"+n.map(b,(e=>`* ${e[0]}: ${e[1]}`)).join("\n");return o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,P)),V.ActionResult.None}},{command:"pnh",isVisible:!1,description:"Display PNH registrations",action:(e,t,i,o)=>(ae.default.debug_enumerateRegistrations().then((e=>{const i=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,JSON.stringify(e,null," "));o(i)})),V.ActionResult.None)},{command:"tracing",isVisible:!1,usageHint:"[on|off|(number number number number number number)]",description:"Enables or disables debug log tracing",action:(e,t)=>{const i=e.toLowerCase().trim();if("on"===i)F.setLocalTracingMasks([-1,-1,-1,-1,-1,-1,-1,-1,-1]);else if("off"===i)F.setLocalTracingMasks([0,0,0,0,0,0,0,0,0]);else{if(!i)return V.ActionResult.InvalidParameters;{const e=i.split(" "),t=n.map(e,(e=>Number(e)));if(!n.every(t,n.isFinite)||t.length!==a.ECSMaskLength)return V.ActionResult.InvalidParameters;F.setLocalTracingMasks(t)}}return V.ActionResult.None}},{command:"unreadcounts",isVisible:!1,description:"Validates unread message counts and dumps details to debug log file",action:(e,t,i,o)=>{const n=e.toLowerCase().trim();if(n&&"fix"!==n)return V.ActionResult.InvalidParameters;const r=f.default.getConversationMetaFromMemoryCache(t);return A.validateUnreadMessageCounts([r]).then((e=>{const i=e?"Unread message counts are consistent.":"Unread message counts are inconsistent. Please file a bug.",n=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,i);o(n)})),V.ActionResult.None}},{command:"resetprefs",isVisible:!1,usageHint:"[local|roaming]",description:"Resets user preferences. By default, both local and roaming are reset.",action:(e,t)=>{const i=e.trim().toLowerCase(),o="local"===i,n="roaming"===i;return!i||o||n?(o||Q.default.reset(),n||q.default.reset(),V.ActionResult.None):V.ActionResult.InvalidParameters}},{command:"usestacknav",isVisible:!1,usageHint:"[on|off]",description:"Overrides navigation context to stack navigation on narrow desktop",action:(e,t)=>{const i=e.trim().toLowerCase();return i&&"on"!==i&&"off"!==i?V.ActionResult.InvalidParameters:(q.default.setUserPreferencesLocal({useStackNavOnNarrowDesktop:"on"===i}),V.ActionResult.None)}},{command:"download",isVisible:!1,usageHint:"[info|cancel]",description:'Gets info or cancels for all "Downloading" media and files',action:(e,t,i,o)=>{const[r,a]=e.trim().toLowerCase().split(" ");let s=!r||"info"===r;"all"!==r||a||(s=!0);const l="cancel"===r||"cancell"===r;if(!s&&!l)return V.ActionResult.InvalidParameters;const c=n.cloneDeep(n.values(N.default.debug_allFileDownloads())),d=n.cloneDeep(n.values(N.default.debug_allFileDownloadsCleaningUp())),u=n.cloneDeep(N.default.debug_allDownloadFailedRetryInfo());let p=`${s?"Currently downloading ":"Canceling "}${c.length} as of ${Date.now()}:\n${JSON.stringify(c)}`;if(s&&(d.length&&(p+=`\n\nCleaning up ${d.length}:\n${JSON.stringify(d)}`),n.isEmpty(u)||(p+=`\n\nRetry info:\n${JSON.stringify(u)}`)),l){const e=n.filter(c,(e=>!N.default.cancelDownloadForKey(e.key,"666")));e.length&&(p+=`\n\nFailed to cancel ${e.length}:\n${n.map(e,(e=>e.id)).join(", ")}`)}return o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,p)),V.ActionResult.None}},{command:"post",isVisible:!1,usageHint:"[info|cancel] [all]",description:'Gets info or cancels for all "Sending" messages and media uploads in this or all conversation(s)',action:(e,t,i,o)=>{const[r,a]=e.trim().toLowerCase().split(" ");let s="all"===a,c=!r||"info"===r;"all"!==r||a||(s=!0,c=!0);const d="cancel"===r||"cancell"===r;if(!c&&!d)return V.ActionResult.InvalidParameters;const u=e=>{const i=n.cloneDeep(n.values(e)),o=s?i:n.filter(i,(e=>!!e.persisted.messagesForPosting[t])),r=n.sortBy(o,(e=>e.persisted.postTime));return n.map(r,(e=>e.getPersistedActionData()))},p=u(ie.default.debug_allPosts()),g=u(ie.default.debug_allPostsCleaningUp()),h=n.cloneDeep(ie.default.debug_allPostsFailedRetryInfo()),m=n.map(p,(e=>{const t=n.map(e.messagesForPosting,((e,t)=>l.fromThenable(be.MessagesRepository.getMessageByCuid(t,T.getCuidForMessage(e)))));return l.all(t).then((t=>n.some(t,(e=>!e))?e:void 0))}));return l.all(m).then((e=>n.compact(e))).then((e=>{const i=s?"":" in this conversation";let r=`${c?"Currently sending ":"Canceling "}${p.length}${i} as of ${Date.now()}:\n${JSON.stringify(p)}`;if(c&&(g.length&&(r+=`\n\nCleaning up ${g.length}:\n${JSON.stringify(g)}`),n.isEmpty(h)||(r+=`\n\nRetry info:\n${JSON.stringify(h)}`)),d){const e=n.filter(p,(e=>{const i=s?n.first(e.conversationIds):t,o=e.messagesForPosting[i];return!ie.default.cancelPostMessage(i,o.clientmessageid)}));if(e.length){const t=n.map(e,(e=>e.id));r+=`\n\nFailed to cancel ${e.length}:\n${t.join(", ")}`}}if(e.length){const t=n.map(e,(e=>e.id));r+=`\n\nMissing DB message for ${e.length}:\n${t.join(", ")}`}const a=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,r);o(a)})),V.ActionResult.None}},{command:"getuserinfo",isVisible:!1,description:"Retrieves a users' User Info, including SkypeID and CID",action:(e,t,i,o)=>{const n=`User Ids:\n${X.default.getMyMris().join("\n")}`;return o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,n)),V.ActionResult.None}},{command:"dumpmessages",isVisible:!1,usageHint:"[all | number of messages] [pretty | JSON spaces]",description:"Retrieves raw messages from the database",action:(e,t,i,o)=>{const[r,a]=e.trim().toLowerCase().split(" "),s="all"===r?Number.MAX_VALUE:Number(r);if(!n.isFinite(s)||0===s)return V.ActionResult.InvalidParameters;return(s>0?be.MessagesRepository.getMessagesForConversationBeforeTime(t,Number.MAX_VALUE,s,!1):be.MessagesRepository.getMessagesForConversationAfterTime(t,0,-s,!1)).then((e=>{const i=Number(a)||("pretty"===a?4:void 0),r=n.map(e,(e=>JSON.stringify(e,null,i))).join(i?"\n\n":void 0),s=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,r);o(s),F.debug((()=>["dumpmessages",e]))})),V.ActionResult.None}},{command:"getmessagebycuid",isVisible:!1,usageHint:"cuid",description:"Retrieves raw message from the database by cuid",action:(e,t,i,o)=>{const n=e.trim();return!n||/\D/.test(n)?V.ActionResult.InvalidParameters:(be.MessagesRepository.getMessageByCuid(t,n).then((e=>{const i=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,JSON.stringify(e));o(i),F.debug((()=>["getmessagebycuid",e]))})),V.ActionResult.None)}},{command:"switchconv",isVisible:!1,usageHint:"conversationId",description:"Navigates to a chat conversation",action:(e,t)=>{const i=ye.default.newCauseId();F.log(E.LogTraceArea.SlashCommandUtils,"SlashCommandUtils.switchconv, causeId: "+i);const o=e.trim();return T.isMri(o)?($.default.navigateToConversation({convId:o,origin:E.NavigationConversationOrigin.SlashCommand,causeId:i}),V.ActionResult.None):V.ActionResult.InvalidParameters}},{command:"clearmru",isVisible:!0,description:W.getString("SlashCommandDescriptions.ClearMru"),action:(e,t)=>(re.default.clearHistory(),V.ActionResult.None)},{command:"geturicomponents",isVisible:!1,usageHint:"[uri] [native|regex]",description:"Get uri components synchronously.",action:(e,t,i,o)=>{const r=e&&n.compact(n.trim(e).split(" "));if(0===r.length)return V.ActionResult.InvalidParameters;const a=n.trim(r[0]);let s,l;switch(r.length>1?n.trim(r[1]).toLowerCase():"default"){case"native":s=_e.default.test_syncGetUriComponents(a);break;case"regex":s=_e.default.test_regexGetUriComponents(a);break;default:s=_e.default.getURIComponents(a)}if(s){const e=[["Input",a],["Is valid",_e.default.isUrlValid(a)],["Protocol",s.protocol],["Email Name",s.emailName],["Skype Participants",s.skypeParticipants],["Tel Number",s.telNumber],["Host",s.host],["Port",s.port],["Path",s.pathname],["Querystring",s.queryParameterString],["Fragment",s.fragment]];l="Uri components:\n"+n.map(e,(e=>`* ${e[0]}: ${e[1]}`)).join("\n")}else l="Failed to parse uri: "+a;return o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,ye.default.escapeXml(l))),V.ActionResult.None}},{command:"fetchprofile",isVisible:!1,usageHint:"[mri]",description:"Fetches a profile from the People Service.",action:(e,t,i,o)=>e&&0!==e.length?(ue.default.getProfiles([e]).then((e=>{n.each(e.profiles,(e=>{const i=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,JSON.stringify(e));o(i)}))})),V.ActionResult.None):V.ActionResult.InvalidParameters},{command:"fetchcontact",isVisible:!1,usageHint:"[mri]",description:"Fetches contacts from the Contacts Service and searches for given mri.",action:(e,t,i,o)=>e&&0!==e.length?(P.default.getContacts(X.default.getSkypeId()).then((i=>{if(i.contacts){const r=n.find(i.contacts,(t=>t.mri===e));let a=i.contacts.length+" total contacts - ";if(a+=r?"found ":"did not find ",a+='"'+e+'"',o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,a)),r){const e=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,JSON.stringify(r));o(e)}}else o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,"Something went wrong"))})).catch((e=>{const i=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,he.default.errorAsString(e));o(i)})),V.ActionResult.None):V.ActionResult.InvalidParameters},{command:"getprofilefromdb",isVisible:!1,usageHint:"[mri]",description:"Gets user profile from the local database.",action:(e,t,i,o)=>e&&0!==e.length?(be.MiniProfileRepository.getDisplayableUser(e).then((e=>{if(e){const i="Displayable user mini profile:\n\n"+JSON.stringify(e);o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,i))}else o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,"No displayable user mini profile found"))})),be.ContactsRepository.getUserProfileByMri(e).then((e=>{if(e){const i="Full user profile:\n\n"+JSON.stringify(e);o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,i))}else o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,"No full user profile found"))})),V.ActionResult.None):V.ActionResult.InvalidParameters},{command:"getcontactswithphones",isVisible:!1,description:"Fetches contacts with phones from the Contacts Service for the current user.",action:(e,t,i,o)=>(P.default.getContacts(X.default.getSkypeId()).then((e=>{if(e.contacts){const i=n.filter(e.contacts,(e=>!!e.phones||!!e.profile&&!!e.profile.phones)),r=n.filter(e.contacts,(e=>!!e.phone_hashes)),a=e.contacts.length+" total contacts - "+r.length+" contacts with phone hashes - "+i.length+" contacts with phones";o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,a)),n.each(i,(e=>{const i=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,JSON.stringify(e));o(i)}))}else o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,"Something went wrong"))})).catch((e=>{const i=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,he.default.errorAsString(e));o(i)})),V.ActionResult.None)},{command:"synccontacts",isVisible:!1,usageHint:"[full]",description:"Trigger syncing of contacts from the Contacts Service",action:(e,t,i,o)=>{k.default.triggerContactsRefresh("full"===e);const n="full"===e?"Triggered full sync":"Triggered delta sync";return o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,n)),V.ActionResult.None}},{command:"resynclocaladdressbook",isVisible:!1,description:"Trigger re-syncing of the local address book",action:(e,t,i,o)=>{H.default.syncLocalAddressBook();return o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,"Attempted to trigger local address book sync. Check contacts permissions.")),V.ActionResult.None}},{command:"azms",isVisible:!1,usageHint:"[environ ENVIRON)]",description:"Set AzMS REST API deployment slot.",action:(e,t)=>{F.log(E.LogTraceArea.SlashCommandUtils,"AzMS setting user preference: "+e);const[i,o]=e.trim().toLowerCase().split(" ");return!i||"environ"!==i||!o||["default","test","production"].indexOf(o)<0?V.ActionResult.InvalidParameters:(F.log(E.LogTraceArea.SlashCommandUtils,"AzMS pointing to environment: "+o),p.default.setEnvironment(o),q.default.setUserPreferencesLocal({azmsEnvironment:o}),V.ActionResult.None)}},{command:"wipedatabase",isVisible:!1,description:"Wipes your database",action:(e,t,i)=>{const o=z.default.internal_setDatabaseWipeFlag(),n=ge.EnsureStartedExclusive([ce.default]).then((()=>ce.default.nukeDB()));return l.all([o,n]).always((()=>{se.reloadApp("slash-command-wipedatabase")})),V.ActionResult.None}},{command:"reload",isVisible:!1,description:"Reloads the app",action:(e,t,i)=>(se.reloadApp("slash-command-reload"),V.ActionResult.None)},{command:"version",isVisible:!0,description:W.getString("SlashCommandDescriptions.Version"),action:(e,t,i,o)=>{const n=r.default.getVersion();return o(w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,"Skype Version: "+me.default.getAppVersion()+"\nCalling Version: "+n.build+"\nOVB Revision: "+n.ovb)),V.ActionResult.None}},{command:"showplaces",isVisible:!1,description:"Shows all endpoints and their details",isEnabled:()=>{const e=u.default.getConfigSettingsNoSubscription().chat.msgApiConfig;return!(e.enabled&&e.isExclusive)},action:(e,t,i,o)=>(_.default.serviceEnumerateEndpoints().then((e=>{const i=e.endpoints,r=n.map(i,(e=>_.default.serviceGetEndpointPresenceDoc(T.formatEndpointId(e.id)).then((e=>{if(!e)return l.Rejected();const t=T.getTextualEndpointInfo(e),o=n.find(i,(t=>T.formatEndpointId(t.id)===T.getEndpointIdFromPresenceDoc(e)));return t+" - isActive: "+o.isActive+", Subs: "+n.map(o.subscriptions,(e=>e.id+":"+e.channelType)).join(",")})).catch((()=>"Unknown ID: "+_.default.serviceGetEndpointPresenceDoc(T.formatEndpointId(e.id))))));l.all(r).then((e=>{const i=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,e.join("\n"));o(i)}))})),V.ActionResult.None)},{command:"pullcampaign",isVisible:!1,usageHint:"[campaing_id] [camapaign_variant] (language)",description:"Download pull campaign",action:(e,t,i,o)=>{const r=n.split(e," ",3);if(r.length<2||r.length>3){const e=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,"Wrong number of parameters. /pullcampaign campaing_id camapaign_variant (locale)");return o(e),V.ActionResult.InvalidParameters}const a=r[0],s=r[1],l=2===r.length||3===r.length?W.getLocale():r[2];if(!l||!W.isLocaleSupported(l)){const e=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,'Invalid language provided. Please use "en-US" format');return o(e),V.ActionResult.InvalidParameters}return L.default.slashCommandTriggerPullCampaign(a,s,l).then((e=>{M.default.insertRealTimeMessage(e.payload,e.type,R.EngagementSource.EngagementApi);const i=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,"Slash command completed with success. Campaign payload sent to EngagementBotMessageServiceV2 for processing");o(i)})).fail((e=>{const i=w.createMessageInfoFromEscapedText(t,E.PostSource.SlashCommand,e);o(i)})),V.ActionResult.None}},{command:"speechprivacyconsent",isVisible:!1,usageHint:"reset",description:"Resets value given to speech consent for translations ",action:e=>{F.log(E.LogTraceArea.SlashCommandUtils,"Changes the value for speech consent for privacy"+e);const t=e.trim().toLowerCase();return t&&n.includes(["reset"],t)?(pe.default.test_resetState(),V.ActionResult.None):V.ActionResult.InvalidParameters}},...oe.default,...ne.default,...ve.ContentChannelsCommands,...Te.CommerceCommands,...Pe.CallerIdCommands];function Ne(e,t=!1){const i=(0,I.default)().getConversation(e);return i&&(i.isThread()&&!t||i.isModerated())||!1}function De(e,t){return!t.isEnabled||t.isEnabled(e)}xe.push(...Ce.bannersRelatedCommands);var Me;!function(e){e[e.None=0]="None",e[e.InvalidLooksLikeCommand=1]="InvalidLooksLikeCommand",e[e.FoundCommand=2]="FoundCommand"}(Me||(t.FindResult=Me={}))},235894:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatDevicesForPicker=function(e){return e.map((e=>({label:e.label,value:e.id})))}},206483:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importStar(i(397691)),l=i(843952),c=o.__importDefault(i(266311)),d=i(154235),u=i(815146),p=o.__importStar(i(85385)),g=o.__importStar(i(704704)),h=o.__importStar(i(437782)),m=o.__importDefault(i(525864)),S="customdialog";class _{static showWithOptions(e){_._show(e.title,e.message,e.dialogAccessibilityTitle,e.buttons,e.rootViewId,e.useHorizontalButtons,e.useDesktopDialog,e.leftAlignContent,e.useFocussedWindowFallback,e.suppressModalDismissalEvents,e.onClickOutside,e.allowScrolling)}static showErrorAlert(e,t){this.showErrorAlertWithOptions({errorText:e,dialogAccessibilityTitle:e,rootViewId:t,hideTitle:!1})}static showErrorAlertWithOptions(e){p.warn(u.LogTraceArea.GenericUnsafe,"AlertUtils: Error dialog: "+h.dev_unknownOmit(e.errorText));const t=e.hideTitle?"":e.errorTitle||g.getString("Global.ErrorDialogTagline"),i=e.dialogAccessibilityTitle||g.getString("Global.ErrorTitle");_.showOkAlertWithOptions({title:t,message:e.errorText,dialogAccessibilityTitle:i,rootViewId:e.rootViewId})}static showCloseAlertWithOptions(e){const t={text:g.getString("Global.CloseButtonTitle"),isSubmit:!0};_.showWithOptions(Object.assign(Object.assign({},e),{buttons:[t]}))}static showOkAlertWithOptions(e){const t={text:g.getString("Global.OkLabel"),isSubmit:!0};_.showWithOptions(Object.assign(Object.assign({},e),{buttons:[t]}))}static showOKAlert(e,t,i,o){_.showOkAlertWithOptions({title:e,dialogAccessibilityTitle:t||e,message:t,rootViewId:i,useFocussedWindowFallback:o})}static showOKAlertWithPromise(e,t,i,o,n){const r=s.Defer(),a={text:g.getString("Global.OkLabel"),isSubmit:!0,onPress:()=>{r.resolve(void 0)}};return _.showWithOptions({title:e,message:t,buttons:[a],rootViewId:i,useFocussedWindowFallback:o,dialogAccessibilityTitle:n||t||e}),r.promise()}static showConfirmationAlert(e,t,i,o,n,r,a,s,l){const c=[{text:g.getString("Global.CancelLabel"),onPress:s,isCancel:!0},{text:i,onPress:o,isSubmit:!0}];_.showWithOptions({title:e,dialogAccessibilityTitle:a||t||e,message:t,buttons:c,rootViewId:n,useFocussedWindowFallback:r,onClickOutside:l})}static showNatively(e,t,i,o){{const i=t||e;if(o&&o.length)if(window.confirm(i)){const e=r.find(o,(e=>!!e.isSubmit));e&&e.onPress&&e.onPress()}else{const e=r.find(o,(e=>!!e.isCancel));e&&e.onPress&&e.onPress()}else window.alert(i)}}static dismissCurrentCustomAlert(e){const t=S+this._customDialogId;c.default.dismissModal(t,e)}static showCustomAlertWithOptions(e){this.dismissCurrentCustomAlert(e.rootViewId),this._customDialogId++;const t=S+this._customDialogId,i=!e.requireUserAction;let o;if(e.imageSource){const t=a.Styles.createImageStyle({width:e.imageSource.width,height:e.imageSource.height,borderRadius:e.imageSource.imageBorderRadiusValue,alignSelf:e.imageSource.centerImageInAlert?"center":void 0},!1);o=(0,n.jsx)(a.Image,{style:t,resizeMode:e.imageResizeMode||d.ImageResizeModeEnum.cover,source:e.imageSource.source})}const r=(0,n.jsxs)(m.default,{dialogId:t,isThemeAware:!0,closeOnClickOutside:i,onClickOutside:i?e.onClickOutside:void 0,text:e.dialogTitle,accessibilityLabel:e.accessibilityTitle||e.dialogTitle,simpleContent:e.dialogText,buttons:e.buttons,buttonAlignment:e.useHorizontalButtons?l.SimpleDialogButtonAlignment.HorizontalStack:void 0,leftAlignContent:e.leftAlignContentText,suppressModalDismissalEvents:e.suppressModalDismissalEvents,allowScrolling:e.allowScrolling,containerStyle:e.containerStyle,children:[o,e.content]},t);c.default.showModal(r,t,{rootViewId:e.rootViewId})}static _show(e,t,i,o,n,r,a,s,l,c,d,u){(n=>{const a=_._decorateAlertButtons(o);_.showCustomAlertWithOptions({dialogTitle:e,dialogText:t,buttons:a,useHorizontalButtons:r,accessibilityTitle:i,leftAlignContentText:s,rootViewId:n,onClickOutside:d,suppressModalDismissalEvents:c,allowScrolling:u})})(n)}static _decorateAlertButtons(e){return r.map(e,(e=>(e.isCancel?e.style="cancel":"cancel"===e.style&&(e.isCancel=!0),e)))}}_._customDialogId=0,t.default=_},465434:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(516778)),r=i(22336),a=o.__importDefault(i(852789)),s=i(815146),l=o.__importStar(i(85385)),c=o.__importStar(i(704704)),d=o.__importDefault(i(740794)),u=i(812822),p=o.__importDefault(i(942724)),g=i(113002),h=o.__importStar(i(185201)),m=o.__importStar(i(888500)),S=o.__importDefault(i(760989));class _{static showMenu(e,t,i,o){const n={anchor:t,buttons:this.menuItems(e),cancelButtonTitleIOS:c.getString("Global.CancelLabel")};m.default.showWithActionMenuConfig({options:n,callback:e=>this.handleOverflowActionMenuCommand(e,i),maintainAnchor:!0,rootViewId:i,invokingEvent:o})}static menuItems(e){const t=[];return e&&t.push({text:c.getString("AlertsPanel.MarkAllAsReadButton"),command:r.AlertMenuItemCommand.markAllRead}),t.push({text:c.getString("AlertsPanel.NotificationsSettingsButton"),command:r.AlertMenuItemCommand.settings}),t}static menuItemTitle(e){switch(e){case r.AlertTypeFilter.All:return c.getString("AlertsPanel.AllFilter");case r.AlertTypeFilter.HighPriorityMessages:return c.getString("AlertsPanel.HighPriorityFilter");case r.AlertTypeFilter.Reactions:return c.getString("AlertsPanel.ReactionsFilter")}return""}static menuItemCommand(e){switch(e){case r.AlertTypeFilter.All:return r.AlertMenuItemCommand.all;case r.AlertTypeFilter.HighPriorityMessages:return r.AlertMenuItemCommand.highPriority;case r.AlertTypeFilter.Reactions:return r.AlertMenuItemCommand.reactions}return""}static filterForCommand(e){switch(e){case r.AlertMenuItemCommand.highPriority:return r.AlertTypeFilter.HighPriorityMessages;case r.AlertMenuItemCommand.reactions:return r.AlertTypeFilter.Reactions;case r.AlertMenuItemCommand.all:return r.AlertTypeFilter.All}}}_.handleOverflowActionMenuCommand=(e,t)=>{const i=S.default.newCauseId();switch(l.log(s.LogTraceArea.Navigation,"AlertsHubUIUtils.handleOverflowActionMenuCommand, causeId: "+i),e){case r.AlertMenuItemCommand.markAllRead:return n.Accessibility.announceForAccessibility(c.getString("AlertsPanel.MarkAllAsReadConfirmation")),a.default.markAllAsRead(),!0;case r.AlertMenuItemCommand.settings:return p.default.isUsingStackNavigationContextNoSubscription()?d.default.navigateToSettingsGroup(u.SettingsGroup.Notifications,t):d.default.navigateToDesktopSettingsGroup(u.SettingsGroup.Notifications,t,i),l.track(new h.NavigationNotificationSettings(g.NavigationSettingsOrigin.NotificationsPanel)),!0;case m.SXActionMenuCancel:return!0}return!1},t.default=_},721657:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(815146),r=o.__importDefault(i(960282)),a=i(376229),s=o.__importDefault(i(139221)),l=o.__importDefault(i(942724)),c=a.SearchInputHeight.default,d=a.SearchInputHeight.default,u=2*a.SearchInputHeight.default,p=a.SearchInputHeight.small,g=a.SearchInputHeight.small,h=2*a.SearchInputHeight.small,m=a.SearchInputHeight.iOS,S=a.SearchInputHeight.default+a.SearchInputHeight.iOS,_=a.SearchInputHeight.iOS,f=a.SearchInputHeight.small+a.SearchInputHeight.iOS,y=a.SearchInputHeight.modernizedSmall,C=a.SearchInputHeight.default+a.SearchInputHeight.modernizedSmall,v=a.SearchInputHeight.small+a.SearchInputHeight.modernizedSmall;t.default=class{static collapsedHeight(e){return r.default.isSmallDeviceNoSubscription(e)?g:d}static expandedHeight(e){const t=r.default.isSmallDeviceNoSubscription(e);return l.default.isUsingStackNavigationContextNoSubscription()?t?v:C:this.shouldUseIOSSearchStyles()?t?f:S:t?h:u}static collapsableHeight(e){const t=r.default.isSmallDeviceNoSubscription(e);return l.default.isUsingStackNavigationContextNoSubscription()?y:this.shouldUseIOSSearchStyles()?t?_:m:t?p:c}static shouldUseIOSSearchStyles(){return s.default.getPlatformType()===n.PlatformType.iOS}}},340724:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(815063)),s=(o.__importStar(i(800662)),o.__importStar(i(704704)));const l=new class{linkAccessibilityInfo(e,t){const i=e;let o;return o=t?[r.Types.AccessibilityTrait.Button]:[r.Types.AccessibilityTrait.None,r.Types.AccessibilityTrait.Link],{label:i,traits:o}}wrapLinkWithAccessibilityView(e,t,i,o){const a=this.linkAccessibilityInfo(t);return(0,n.jsx)(r.Button,{style:o,accessibilityTraits:a.traits,accessibilityLabel:a.label,importantForAccessibility:r.Types.ImportantForAccessibility.Yes,onPress:i,children:e})}tabAccessibilityLabel(e,t,i,o=!1){let n=e;return(a.default.isMobile()||o)&&(a.default.isMobile()?(n+=", ",n+=s.getString("Hub.TabCountAccessibilityLabel",{count:t+1,total:i})):(n+=", ",n+=s.getString("Global.CountOfTotal",{count:t+1,total:i}))),n}headerAccessibilityInfo(e,t){return{accessibilityLabel:this.combinedAccessibilityLabel(e,t)||"",accessibilityTraits:r.Types.AccessibilityTrait.Header}}tabAccessibilityTraits(e){return e?[r.Types.AccessibilityTrait.Tab,r.Types.AccessibilityTrait.Selected]:[r.Types.AccessibilityTrait.Tab]}buttonAccessibilityInfo(e,t){const i=[r.Types.AccessibilityTrait.Button];let o=e;return t&&i.push(r.Types.AccessibilityTrait.Disabled),{accessibilityLabel:o,accessibilityTraits:i}}applyMoreOptionsAccessibilityHint(e){return e+", "+s.getString("Global.MoreOptionsAvailableAccessibilityLabel")}combinedAccessibilityLabel(e,t,i){return e?e+(t?(i||", ")+t:""):t}registerMobileFocusHandler(e,t){0}applyShouldGroupAccessibilityChildren(e){return e}};t.default=l},266311:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(695751)),a=o.__importStar(i(516778)),s=o.__importDefault(i(633958)),l=i(154235),c=i(815146),d=o.__importStar(i(85385)),u=o.__importStar(i(437782)),p=o.__importDefault(i(827361));const g=new class{constructor(){this.headerModalBaseWidth=330,this.headerModalBaseHeight=600}showModal(e,t,i){(o=>{var g;d.log(c.LogTraceArea.Navigation,"CommonModalUtils.showModal modalId: "+t+" rootViewId: "+u.mriOrId(o));const h=i.useScopedModalId?this._getAdjustedId(t,i.rootViewId):t,m=Object.assign(Object.assign({},i),{rootViewId:o===l.MainRootViewId?void 0:o}),S=(0,n.jsx)(r.default,{window},"modalFocusOutline"),_=(0,n.jsxs)(s.default,{rootViewType:null!==(g=i.rootViewType)&&void 0!==g?g:l.RootViewType.EmbeddedModal,children:[S,!1===i.useModalContainer?e:(0,n.jsx)(a.View,{style:p.default.absoluteFill,children:e})]});a.Modal.show(_,h,m)})(i.rootViewId)}dismissModal(e,t,i){d.log(c.LogTraceArea.Navigation,"CommonModalUtils.dismissModal modalId: "+e+" rootViewId: "+u.mriOrId(t));const o=i?this._getAdjustedId(e,t):e;a.Modal.dismiss(o)}isModalDisplayed(e,t,i){const o=i?this._getAdjustedId(e,t):e;return a.Modal.isDisplayed(o)}showPopup(e,t,i){return(o=>{d.log(c.LogTraceArea.Navigation,"CommonModalUtils.showPopup popupId: "+t+" rootViewId: "+u.mriOrId(o));const g=e.useScopedPopupId?this._getAdjustedId(t,e.rootViewId):t,h=Object.assign(Object.assign({},e),{renderPopup:(t,i,o,c)=>{var d;const u=e.renderPopup(t,i,o,c),g=(0,n.jsx)(r.default,{window,isPopup:!0},"popupFocusOutline");return(0,n.jsxs)(s.default,{rootViewType:null!==(d=e.rootViewType)&&void 0!==d?d:l.RootViewType.EmbeddedModal,children:[g,(0,n.jsx)(a.View,{style:p.default.overflowVisible,children:u})]})},rootViewId:o===l.MainRootViewId?void 0:o,getAnchor:()=>{const i=e.getAnchor?e.getAnchor():void 0;return i||d.log(c.LogTraceArea.Navigation,"CommonModalUtils.showPopup getAnchor popupId: "+t+" rootViewId: "+u.mriOrId(o)+" hasAnchor: false"),i}});return a.Popup.show(h,g,i)})(e.rootViewId)}dismissPopup(e,t,i){d.log(c.LogTraceArea.Navigation,"CommonModalUtils.dismissPopup popupId: "+e+" rootViewId: "+(t?u.mriOrId(t):"none"));const o=i?this._getAdjustedId(e,t):e;return a.Popup.dismiss(o)}validatePopupOffset(e){e&&(Math.abs(e.x)>50||Math.abs(e.y)>50)&&d.warn(c.LogTraceArea.GenericUnsafe,"CommonModalUtils popup offset is too large x: "+e.x+" y: "+e.y)}_getAdjustedId(e,t){return t!==l.MainRootViewId?e+"_"+t:e}};t.default=g},331824:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778)),a=i(154235),s=i(26703),l=(o.__importDefault(i(139221)),50),c=56,d=56,u=40,p=38,g=(0,s.lazyProperties)({tabBarDefault:()=>r.Styles.createViewStyle({height:l}),tabBarAndroid:()=>r.Styles.createViewStyle({height:c}),tabBarTablet:()=>r.Styles.createViewStyle({height:d}),tabBarIOSLandscape:()=>r.Styles.createViewStyle({height:u}),tabBarCompactDesktop:()=>r.Styles.createViewStyle({height:p})});const h=new class{tabBarHeightStyle(e){switch(e){case a.TabBarHeight.Android:return g.tabBarAndroid;case a.TabBarHeight.Tablet:return g.tabBarTablet;case a.TabBarHeight.iosLandscape:return g.tabBarIOSLandscape;case a.TabBarHeight.CompactDesktop:return g.tabBarCompactDesktop;default:case a.TabBarHeight.Default:return g.tabBarDefault}}tabBarHeight(e){switch(e){case a.TabBarHeight.Android:return c;case a.TabBarHeight.Tablet:return d;case a.TabBarHeight.iosLandscape:return u;case a.TabBarHeight.CompactDesktop:return p;default:case a.TabBarHeight.Default:return l}}generateIndexToTabEnumMap(e){const t={};return n.each(e,((e,i)=>{t[i]=e})),t}generateTabEnumToIndexMap(e){const t={};return n.each(e,((e,i)=>{t[e]=i})),t}shouldUseTabListContainer(){return!0}};t.default=h},543915:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(516778)),r=i(217041),a=o.__importStar(i(397691)),s=o.__importDefault(i(54945));const l=new class{measureLayoutRelativeToWindow(e){const t=this.maybeMountedAnchor(e());return t?n.UserInterface.measureLayoutRelativeToWindow(t):a.Rejected("Anchor component undefined or unmounted.")}measureLayoutRelativeToAncestor(e,t){const i=this.maybeMountedAnchor(e()),o=this.maybeMountedAnchor(t());return i&&o?n.UserInterface.measureLayoutRelativeToAncestor(i,o):a.Rejected("Anchor and/or ancestor undefined or unmounted.")}maybeMountedAnchor(e){if(!(e instanceof r.ComponentBase)||e.isComponentMounted())return e}maybeHandleKeyPress(e,t){return(e.keyCode===s.default.SPACE||e.keyCode===s.default.ENTER)&&(e.stopPropagation(),e.preventDefault(),t(),!0)}};t.default=l},288547:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importDefault(i(225511)),s=o.__importDefault(i(471113)),l=i(815146),c=o.__importStar(i(85385)),d=o.__importDefault(i(702141)),u=o.__importDefault(i(760989));class p{static showWithBuilders(e){const t=u.default.newCauseId();c.log(l.LogTraceArea.GenericUnsafe,"CustomActionMenuUtils.showWithBuilders, causeId: "+t);const i=(0,n.jsx)(d.default,{rowBuilders:e.builders,colorThemeOverride:e.colorThemeOverride}),o=a.default.getMenuItemHeight();let s=0;r.each(e.builders,(e=>{s+=e.props.rowHeight||o}));const g=Object.assign(Object.assign({},e),{menuId:e.menuId||this.menuId(),menuHeight:s,content:i});p.showWithContent(g,t)}static showWithContent(e,t){c.log(l.LogTraceArea.GenericUnsafe,"CustomActionMenuUtils.showWithContent, causeId: "+t),s.default.show(e,t)}static menuId(){return"custommenu"+this._menuCount++}static close(e,t){c.log(l.LogTraceArea.GenericUnsafe,"CustomActionMenuUtils.close, causeId: "+t),s.default.close(e,t)}static closeIfNeeded(e,t){const i=s.default.isCustomActionMenuShownNoSubscription();c.log(l.LogTraceArea.GenericUnsafe,"CustomActionMenuUtils.closeIfNeeded menuShown: "+i+" causeId: "+t),i&&this.close(e,t)}}p._menuCount=0,t.default=p},313333:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importDefault(i(543915)),r=i(815146),a=o.__importStar(i(85385)),s=o.__importDefault(i(984263));const l=new class{showToolTip(e,t,i,o,l={}){a.log(r.LogTraceArea.GenericUnsafe,"CustomToolTipUtils.showToolTip: "+o),n.default.measureLayoutRelativeToWindow(e).then((e=>{i()&&s.default.setToolTipConfig(Object.assign({rect:e,displayText:o,rootViewId:t},l))}),(e=>{a.warn(r.LogTraceArea.GenericUnsafe,"CustomToolTipUtils.showToolTip, anchor not measured: "+e.toString())}))}clearToolTip(){a.log(r.LogTraceArea.GenericUnsafe,"CustomToolTipUtils.clearToolTip"),s.default.clearToolTipConfig()}};t.default=l},29400:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(150343)),a=o.__importDefault(i(369347)),s=i(843890),l=o.__importStar(i(170881)),c=i(815146),d=o.__importStar(i(85385)),u=o.__importStar(i(704704)),p=o.__importDefault(i(740794)),g=i(812822),h=i(113002),m=o.__importStar(i(185201)),S=o.__importDefault(i(247286)),_=o.__importStar(i(3025)),f=o.__importDefault(i(84830)),y=o.__importStar(i(888500)),C=o.__importDefault(i(760989)),v="settings",b="apsettings",T="avsettings",P="helpandfeedback",k="reportproblem",A="rateus",I="signout",w="hotkeys";var x;!function(e){e[e.MobileSettings=0]="MobileSettings",e[e.DesktopSettings=1]="DesktopSettings",e[e.DesktopRemainder=2]="DesktopRemainder",e[e.Feedback=3]="Feedback",e[e.HelpAndAbout=4]="HelpAndAbout",e[e.SignOut=5]="SignOut",e[e.HotKeys=6]="HotKeys",e[e.ReportProblem=7]="ReportProblem"}(x||(x={}));const N="overflowpopup";class D{static showOptionsMenu(e,t,i,o){const a={anchor:e,useTheme:!0,positionPriorities:["bottom","right"],popupBeakSize:{width:0,height:0}};{const e=S.default.isChild(),s=[{key:x.DesktopSettings,menuItems:this._getMenuItems(x.DesktopSettings)}],l=[];l.push.apply(l,this._getMenuItems(x.HelpAndAbout)),!e&&r.default.getS4LUiFeatures().showReportAProblemInDesktopOverflow&&l.push.apply(l,this._getMenuItems(x.ReportProblem)),l.push.apply(l,this._getMenuItems(x.HotKeys)),n.isEmpty(l)||s.push({key:x.DesktopRemainder,menuItems:l}),s.push({key:x.SignOut,menuItems:this._getMenuItems(x.SignOut),menuTextStyles:{color:o}}),y.default.showGroupWithOptions({id:N,config:a,getMenuGroups:()=>s,handleMenuCommand:e=>this._onHandleMenuCommand(e,t),cancelButtonTitleIOS:u.getString("Global.CancelLabel"),rootViewId:t,invokingEvent:i})}}static dismissOptionsMenu(e){y.default.dismiss(N,e)}static _getMenuItems(e){const t=S.default.isChild();switch(e){case x.MobileSettings:const e=[{text:u.getString("DesktopProfileMenu.AppSettingsTitle"),command:b}];return s.UICapabilities.avSettingsSupported()&&e.push({text:u.getString("DesktopProfileMenu.AudioVideoSettingsTitle"),command:T}),e;case x.DesktopSettings:return[{text:u.getString("UserSettingsPanel.SettingsTitle"),command:v,shortcut:c.KeyboardShortcut.OpenAppSettings}];case x.HotKeys:return[{text:u.getString("KeyboardShortcuts.Title2"),command:w,shortcut:c.KeyboardShortcut.OpenKeyboardShortcuts}];case x.HelpAndAbout:return[{text:u.getString("MyProfilePanel.HelpAndFeedbackButtonTitle"),command:P}];case x.ReportProblem:return[{text:u.getString("MyProfilePanel.ReportAProblemButtonTitle"),command:k,shortcut:c.KeyboardShortcut.SendFeedback}];case x.Feedback:return t?[]:[{text:u.getString("MyProfilePanel.HelpAndFeedbackButtonTitle"),command:P},{text:u.getString("MyProfilePanel.ReportAProblemButtonTitle"),command:k},{text:u.getString("MyProfilePanel.RateUsButtonTitle"),command:A}];case x.SignOut:return[{text:u.getString("MyProfilePanel.SignOutButtonTitle"),command:I}]}return[]}}D._onHandleMenuCommand=(e,t)=>{const i=C.default.newCauseId();switch(d.log(c.LogTraceArea.Navigation,"DesktopOverflowHelper._onHandleMenuCommand causeId: "+i),e){case b:p.default.navigateToRootDesktopSettingsGroup(g.SettingsGroup.AppSettings,t,i);break;case v:d.track(new _.SettingsTelemetry(c.SettingsOrigin.DesktopOverflowMenu)),setTimeout((()=>p.default.navigateToDesktopSettings(t,i)),100);break;case w:p.default.navigateToDesktopSettingsGroup(g.SettingsGroup.HotKeys,t,i);break;case T:a.default.CallNavigationHelper.navigateToAVRootDesktopSettings(t,i);break;case P:d.track(new m.NavigationHelpAndFeedback(h.NavigationSettingsItem.HelpAndFeedback,h.NavigationSettingsOrigin.DesktopOverflowMenu)),p.default.navigateToRootDesktopSettingsGroup(g.SettingsGroup.HelpAndFeedback,t,i);break;case k:d.track(new m.NavigationHelpAndFeedback(h.NavigationSettingsItem.ReportAProblem,h.NavigationSettingsOrigin.DesktopOverflowMenu)),l.dismissAll(),f.default.reportProblem(!0,t,void 0,void 0,h.NavigationSettingsOrigin.DesktopOverflowMenu);break;case A:d.track(new m.NavigationHelpAndFeedback(h.NavigationSettingsItem.RateUs,h.NavigationSettingsOrigin.DesktopOverflowMenu)),f.default.openFeedbackUrl(r.default.getConfigSettings().feedbackAndProblemGoParam.rating,u.getString("MyProfilePanel.RateUsButtonTitle"),t);break;case I:p.default.navigateToPreSignOutPanel(t,c.LogoutReason.DesktopOverflowMenu);case y.SXActionMenuCancel:}},t.default=D},626922:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(720415),a=o.__importDefault(i(150343)),s=o.__importDefault(i(369347)),l=i(154235),c=o.__importDefault(i(958868)),d=i(413686),u=o.__importDefault(i(18026)),p=i(815146),g=o.__importDefault(i(326544)),h=o.__importStar(i(75576)),m=o.__importStar(i(85385)),S=o.__importDefault(i(789777)),_=o.__importStar(i(704704)),f=i(85755),y=o.__importDefault(i(873245)),C=o.__importDefault(i(455907)),v=i(966666),b=i(190697),T=o.__importDefault(i(363091)),P=o.__importDefault(i(740794)),k=o.__importStar(i(812822)),A=i(113002),I=o.__importStar(i(185201)),w=o.__importStar(i(697091)),x=o.__importDefault(i(399564)),N=o.__importStar(i(693921)),D=o.__importDefault(i(954566)),M=o.__importDefault(i(760989)),L=o.__importDefault(i(855191));class R extends c.default{constructor(){super(...arguments),this._electronSubscriptions=[],this._navigateToMandatoryUpdatePage=()=>{P.default.navigateToForcedUpgradeScreen()},this._navigateToAboutPage=()=>{const e=M.default.newCauseId();m.log(p.LogTraceArea.Navigation,"RootCompositeNavigationView._navigateToAboutPage causeId: "+e),P.default.closeGenericDesktopModal(e,this._getRootViewId()),P.default.navigateToRootDesktopSettingsGroup(k.SettingsGroup.About,this._getRootViewId(),e)},this._navigateToSettings=()=>{S.default.navigateToSettings()},this._navigateToAVSettings=()=>{const e=M.default.newCauseId();m.log(p.LogTraceArea.Navigation,"RootCompositeNavigationView._navigateToAVSettings causeId: "+e),P.default.closeGenericDesktopModal(e,this._getRootViewId()),s.default.CallNavigationHelper.navigateToAVRootDesktopSettings(this._getRootViewId(),e)},this._navigateToMeControl=()=>{const e=M.default.newCauseId();m.log(p.LogTraceArea.Navigation,"RootCompositeNavigationView._navigateToMeControl causeId: "+e),P.default.closeGenericDesktopModal(e,this._getRootViewId()),P.default.navigateToMeControl(this._getRootViewId(),e)},this._navigateToProfile=()=>{const e=M.default.newCauseId();m.log(p.LogTraceArea.Navigation,"RootCompositeNavigationView._navigateToAVSettings causeId: "+e),P.default.closeGenericDesktopModal(e,this._getRootViewId()),P.default.navigateToMyProfile(this._getRootViewId(),p.ProfileOpenOrigin.Menu)},this._navigateToSearch=e=>{S.default.navigateToSearch(e)},this._navigateToFeedback=()=>{S.default.navigateToFeedback(),g.default.isSetupWizardCompleted(!1)||(g.default.setIsSetupWizardCompleted(),x.default.track(new w.BugReportedInWizard(d.DialogNavOrigin.Onboarding)))},this._navigateToSupport=()=>{const e=h.getTelemetryCorrelationId();m.track(new I.NavigationHelpAndFeedback(A.NavigationSettingsItem.GoToSupport,A.NavigationSettingsOrigin.ApplicationMenu,e)),this._openHelpUrlWithTrackingParams(a.default.getConfigSettings().helpGoParam.supportArticles,_.getString("MyProfilePanel.GetHelpTitle"),"menu.support",e)},this._navigateToStatus=()=>{const e=h.getTelemetryCorrelationId();m.track(new I.NavigationHelpAndFeedback(A.NavigationSettingsItem.SkypeStatus,A.NavigationSettingsOrigin.ApplicationMenu,e)),this._openHelpUrlWithTrackingParams(a.default.getConfigSettings().helpGoParam.skypeStatus,_.getString("MyProfilePanel.SkypeStatusButtonTitle"),"menu.status",e)},this._navigateToSkypeURI=e=>{D.default.getNavigationActionForDeepLink(e,p.NavigationConversationOrigin.ElectronUri,l.MainRootViewId,void 0,!0).then((t=>{T.default.isUserLoggedIn()&&y.default.isPartnerUri(e)?m.track(new b.MeetNowUriReceivedEvent(e)):T.default.isUserLoggedIn()&&f.MeetNowHelpers.isJoinOrCreateFlow(null==t?void 0:t.intent)&&C.default.beginTrackingJoinMeetNow(v.MeetNowOrigin.JoinLinkDeeplink),t&&t.action()}))},this._startNewConversation=e=>{S.default.startNewConversation(e)},this._startNewGroupConversation=e=>{S.default.startNewGroupConversation(e)},this._startNewCall=()=>{const e=M.default.newCauseId();m.log(p.LogTraceArea.Navigation,"RootCompositeNavigationView._startNewCall,  causeId: "+e),P.default.navigateToQuickCallPanel(e,this._getRootViewId())},this._signOut=()=>{r.MainWindow.requestFocus(),L.default.showSignOutConfirmation(p.LogoutReason.DesktopMenu,l.MainRootViewId)}}componentDidMount(){super.componentDidMount(),this._electronSubscriptions.push(u.default.onMandatoryUpdate.subscribe(this._navigateToMandatoryUpdatePage),u.default.onNavigateToAboutPage.subscribe(this._navigateToAboutPage),u.default.onNavigateToSettings.subscribe(this._navigateToSettings),u.default.onNavigateToAVSettings.subscribe(this._navigateToAVSettings),u.default.onNavigateToProfile.subscribe(this._navigateToProfile),u.default.onNavigateToMeControl.subscribe(this._navigateToMeControl),u.default.onNavigateToSearch.subscribe((()=>{this._navigateToSearch(p.SearchPanelInitiator.ElectronMenu)})),u.default.onNavigateToFeedback.subscribe(this._navigateToFeedback),u.default.onNavigateToSkypeURI.subscribe(n.debounce(this._navigateToSkypeURI,a.default.getS4LCMCFeaturesNoSubscription().electronNavigationDebounce)),u.default.onNewConversation.subscribe((()=>{this._startNewConversation(p.NavigationConversationOrigin.AppMenu)})),u.default.onNewGroupConversation.subscribe((()=>{this._startNewGroupConversation(p.NavigationConversationOrigin.AppMenu)})),u.default.onNewCall.subscribe(this._startNewCall),u.default.onSignOut.subscribe(this._signOut),u.default.onNavigateToSupport.subscribe(this._navigateToSupport),u.default.onNavigateToStatus.subscribe(this._navigateToStatus))}componentWillUnmount(){super.componentWillUnmount(),n.each(this._electronSubscriptions,(e=>{e.unsubscribe()})),this._electronSubscriptions=[]}render(){return null}_openHelpUrlWithTrackingParams(e,t,i,o){let n=N.addSsoFlagToUrl(e,!0);n=h.addCommonTrackingParams(n,!0,!0);const r={tcg:o};P.default.navigateToHelpAndFeedbackLink(n,i,t,l.MainRootViewId,r)}}t.default=R},311988:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.show=function(e){a.dismissAll();const t=s.getString("FilePicker.LimitExceeded"),i=s.getString("FilePicker.LimitExceededContent",{value:r.default.getS4LMessagingFeaturesNoSubscription().limitForFilePicker});n.default.showOKAlert(t,i,e)};const o=i(197582),n=o.__importDefault(i(206483)),r=o.__importDefault(i(150343)),a=o.__importStar(i(170881)),s=o.__importStar(i(704704))},683236:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(331654),r=o.__importStar(i(761393)),a=o.__importDefault(i(942724)),s=o.__importDefault(i(960282));t.default=class{constructor(e){this._screenWidth=s.default.getWidth(e),this._screenHeight=s.default.getHeight(e),this._isLandscape=s.default.getDeviceOrientation(e)===n.DeviceOrientation.Landscape,this._isUsingStackNavigationContext=a.default.isUsingStackNavigationContext()}getAvatarWidth(){return this._isUsingStackNavigationContext?this._isLandscape?.4*this._screenHeight:this._screenWidth:r.DefaultWidthForNewProfile}getAvatarHeight(){return this._isUsingStackNavigationContext?Math.min(this._screenWidth,.4*this._screenHeight):r.DefaultWidthForNewProfile}maybeWrapAvatar(e){return e}}},823548:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(179075)),a=o.__importDefault(i(97572)),s=o.__importStar(i(172134)),l=o.__importStar(i(44717)),c=o.__importDefault(i(555436)),d=o.__importDefault(i(601976)),u=o.__importStar(i(704704)),p=o.__importDefault(i(808164)),g=o.__importStar(i(888500)),h=o.__importDefault(i(150343));t.default=class{static safelyRemovePersonFromConversation(e,t,i,o,n){const r=d.default.getDisplayName(t)||u.getString("Notifications.UnknownUserShort"),a={anchor:o,buttons:[{text:u.getString("RemoveUserDialog.RemoveButtonLabel"),command:"remove"}],destructiveButtonIndex:0};a.message=u.getString("RemoveUserDialog.ConversationContent",{userDisplayName:r}),g.default.showWithActionMenuConfig({options:a,callback:o=>this._handleActionSheetCommands(o,t,e,i),useAlertForDesktop:!0,useAlertForMobile:!1,rootViewId:n,invokingEvent:void 0})}static isSendImCapable(e){if(!e.isOneOnOne())return e.isCurrentUserMember();const t=e.getOtherPartyMri();if(!t)return!1;if(a.default.isMriBlocked(t))return!1;if(l.isAgent(t)){const e=r.default.getAgentDescriptionForMri(t);if(!e.isUnknown){const i=h.default.getS4LCaapFeaturesNoSubscription().skipContactCheck,o=n.filter(e.capabilities,(e=>"im.send"===e)).length>0,r=n.indexOf(c.default.dangerousGetContactMriListMutable(),t)>=0;return o&&(i||r)}}return!l.isPhoneMri(t)||void 0===p.default.getPossibleExtension(t,!0)}static _handleActionSheetCommands(e,t,i,o){switch(e){case"remove":s.removeParticipantFromConversation(t,i,o);case g.SXActionMenuCancel:}}}},38217:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(77395),l=o.__importDefault(i(970035)),c=i(26703),d=o.__importDefault(i(942724)),u=i(16549),p=o.__importDefault(i(20758)),g=i(641400),h=o.__importDefault(i(266872)),m=i(596648),S=o.__importStar(i(500645)),_=i(15752),f=(0,c.lazyProperties)({userPresent:()=>a.Styles.createTextStyle({backgroundColor:u.Color.available}),userAway:()=>a.Styles.createTextStyle({backgroundColor:u.Color.away}),userDnd:()=>a.Styles.createTextStyle({backgroundColor:u.Color.red}),userInvisible:()=>a.Styles.createTextStyle({backgroundColor:u.Color.gray300}),userIdle:()=>a.Styles.createTextStyle({backgroundColor:u.Color.available})});class y{static getStyles(e,t){const i=e+"_"+(r.isUndefined(t)?"none":t);if(y._cachedIconStyles[i])return y._cachedIconStyles[i];let o,n;e<=m.UserIconSize.Size24?(o=m.PresenceIconSize.Size8,n=0):e===m.UserIconSize.Size64?(o=m.PresenceIconSize.Size14,n=e/8-7):e>=m.UserIconSize.Size100?(o=m.PresenceIconSize.Size15,n=e/8-7):(o=Math.min(10,Math.floor(e/4)),n=e>=m.UserIconSize.Size60?o/5:-1);return y._cachedIconStyles[i]={containerStyle:a.Styles.createViewStyle({width:e,height:e,justifyContent:"center",overflow:"visible"}),iconStyle:a.Styles.createViewStyle({width:e,height:e,alignItems:"center"}),iconRoundedStyle:a.Styles.createViewStyle({width:e,height:e,alignItems:"center",borderRadius:Math.ceil(e/2)}),iconRoundedRectStyle:a.Styles.createViewStyle({width:e,height:e,alignItems:"center",borderRadius:r.isUndefined(t)?Math.ceil(e/6):t}),image:a.Styles.createImageStyle({width:e,height:e,borderRadius:e/2}),imageRoundedRect:a.Styles.createImageStyle({width:e,height:e,borderRadius:r.isUndefined(t)?Math.ceil(e/6):t}),userStatus:a.Styles.createViewStyle({position:"absolute",bottom:n,right:n,borderRadius:(o+2)/2,borderColor:u.Color.white,borderStyle:"solid",borderWidth:1,width:o+2,height:o+2,alignItems:"center",justifyContent:"center"},!1),userStatusHover:a.Styles.createViewStyle({borderRadius:(o+2)/2,width:o+2,height:o+2,alignItems:"center",justifyContent:"center"},!1),privateConversationBadge:a.Styles.createViewStyle({position:"absolute",bottom:0,right:0,borderRadius:21,borderColor:u.Color.white,borderStyle:"solid",borderWidth:1,width:42,height:42,alignItems:"center",justifyContent:"center"},!1),presenceSize:o},y._cachedIconStyles[i]}static getFontSizeStyles(e,t){const i=Math.ceil(e/(e<=m.UserIconSize.Size40?3:4));let o=y._cachedFontSizeStyles[i];return o||(o=a.Styles.createTextStyle({fontSize:i,font:p.default.font.uiDisplayBold,color:u.Color.white},!1),y._cachedFontSizeStyles[i]=o),[o,a.Styles.createTextStyle({color:t},!1)]}static getBlockedOverlayStyles(e){const t=Math.min(18,Math.floor(e/3));if(y._cachedBlockedOverlayStyles[t])return y._cachedBlockedOverlayStyles[t];return y._cachedBlockedOverlayStyles[t]={blockedStyle:a.Styles.createViewStyle({position:"absolute",bottom:0,right:0,borderRadius:(t+4)/2,backgroundColor:u.Color.white,borderColor:u.Color.white,borderStyle:"solid",borderWidth:2,width:t+4,height:t+4,alignItems:"center",justifyContent:"center"}),blockedSize:t},y._cachedBlockedOverlayStyles[t]}static getBackgroundColor(e){return h.default.isAccessibleThemeNoSubscription()?u.Color.accessibleBackground:d.default.isUsingStackNavigationContextNoSubscription()?e?u.Color.gray400:u.Color.gray50:e?u.Color.gray400:u.Color.gray100}static getCachedBackgroundColorStyle(e,t){let i;return i=e||this.getBackgroundColor(t),this._backgroundColorStyleCache[i]||(this._backgroundColorStyleCache[i]=a.Styles.createViewStyle({backgroundColor:i})),this._backgroundColorStyleCache[i]}static getCachedBorderColorStyle(e){e||(e=u.Color.blue);const t=`${e}_width1`;return this._borderColorStyleCache[t]||(this._borderColorStyleCache[t]=a.Styles.createViewStyle({borderColor:e,borderWidth:1,borderStyle:"solid"})),this._borderColorStyleCache[t]}static getCachedIconColorStyle(e){return e||(e=u.Color.blue),this._iconColorStyleCache[e]||(this._iconColorStyleCache[e]=a.Styles.createTextStyle({color:e})),this._iconColorStyleCache[e]}static getIconColor(e){return e||(e=u.Color.blue),e}static getIconBackgroundColor(e,t,i){return t?i?u.Color.gray50:u.Color.gray400:e||u.Color.blue}static getCachedPresenceBorderColorStyle(e){return this._cachedPresenceBorderStyles[e]||(this._cachedPresenceBorderStyles[e]=a.Styles.createViewStyle({borderColor:e})),this._cachedPresenceBorderStyles[e]}static renderPresenceIcon(e,t,i,o){if(!r.isUndefined(e))return this.getPresenceIcon(e,t.userStatus,t.presenceSize,i,o)}static getPresenceIcon(e,t,i,o,c){let d,p;if(r.isUndefined(e))return;switch(S.maskedUserStatus(e)){case _.UserStatus.Online:d=f.userPresent;break;case _.UserStatus.Busy:d=f.userDnd,p=g.SkypeIcon.PresenceDND;break;case _.UserStatus.Away:d=f.userAway,p=g.SkypeIcon.PresenceAway;break;case _.UserStatus.Offline:case _.UserStatus.Hidden:case _.UserStatus.Unknown:d=f.userInvisible,p=g.SkypeIcon.PresenceInvisible;break;case _.UserStatus.Idle:d=f.userIdle,p=g.SkypeIcon.PresenceInvisible;break;default:return}const h=[t,d];o&&h.push(y.getCachedPresenceBorderColorStyle(o));const m=p?(0,n.jsx)(l.default,{icon:p,size:i,color:u.Color.white}):void 0;return(0,n.jsx)(s.HoverableView,{style:h,title:c,importantForAccessibility:a.Types.ImportantForAccessibility.NoHideDescendants,accessibilityTraits:a.Types.AccessibilityTrait.None,tabIndex:-1,children:m},"presence")}static getIconSize(e=m.AvatarIconSize.Size40){switch(e){case m.AvatarIconSize.Size24:return{user:m.UserIconSize.Size24,conversation:m.ConversationIconSize.Size24};case m.AvatarIconSize.Size36:return{user:m.UserIconSize.Size36,conversation:m.ConversationIconSize.Size36};case m.AvatarIconSize.Size44:return{user:m.UserIconSize.Size44,conversation:m.ConversationIconSize.Size44};case m.AvatarIconSize.Size50:return{user:m.UserIconSize.Size50,conversation:m.ConversationIconSize.Size50};case m.AvatarIconSize.Size60:return{user:m.UserIconSize.Size60,conversation:m.ConversationIconSize.Size60};case m.AvatarIconSize.Size64:return{user:m.UserIconSize.Size64,conversation:m.ConversationIconSize.Size64};default:case m.AvatarIconSize.Size40:return{user:m.UserIconSize.Size40,conversation:m.ConversationIconSize.Size40}}}}y._backgroundColorStyleCache={},y._borderColorStyleCache={},y._iconColorStyleCache={},y._cachedPresenceBorderStyles={},y._cachedIconStyles={},y._cachedFontSizeStyles={},y._cachedBlockedOverlayStyles={},t.default=y},932836:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HubCommands=void 0;const o=i(197582),n=o.__importDefault(i(150343)),r=o.__importStar(i(361096)),a=(o.__importDefault(i(340724)),i(215070)),s=o.__importDefault(i(260928)),l=o.__importStar(i(170881)),c=o.__importDefault(i(601976)),d=i(815146),u=(o.__importStar(i(800662)),i(482564)),p=i(223715),g=o.__importStar(i(85385)),h=i(627924),m=o.__importStar(i(704704)),S=i(85755),_=i(966666),f=o.__importDefault(i(363091)),y=o.__importDefault(i(740794)),C=o.__importStar(i(812822)),v=i(113002),b=i(240804),T=i(928722),P=o.__importDefault(i(888500)),k=i(641400),A=o.__importDefault(i(760989));t.HubCommands={AddConversationGroupCommand:"group",AddConversationModeratedGroupCommand:"moderatedgroup",AddConversation1on1Command:"1on1",AddConversationPrivateCommand:"private",InviteCommand:"contact",AddBotCommand:"bot",OpenSuperComposer:"supercomposer",NewGroupCallCommand:"newGroupCall",NewMeetNowCommand:"newMeetNow",NewCellularSmsConversationCommand:"newCellularSmsConversationCommand",AddContactCommand:"addcontact",Cancel:"cancel"};class I{static actionButtonForHubTab(e,t){switch(e){case C.HubTab.Recents:return{icon:k.SkypeIcon.Compose,title:m.getString("HubHeaderPanel.NewConversationTitle"),onPressCallback:I.onSuperComposerClick};case C.HubTab.Calls:return{title:m.getString("PeopleList.PstnDialpadLabel"),icon:k.SkypeIcon.Dialpad,onPressCallback:I.onDialpadButtonClick,disabled:t};case C.HubTab.People:return{title:m.getString("Hub.AddContactsLabelGrouped"),icon:k.SkypeIcon.ContactAdd,onPressCallback:I.onPeoplePlusButtonClickForNewMobileHub}}}static headerButtonLayoutForHubTab(e){return{leftControls:e.useTabletUI?this._getTabletLeftControls():this._getNewMobileHubLeftControls(e),rightControls:this._getNewMobileHubRightControls(e)}}static handleAddMenuCommand(e,t,i,o=!1,n=!1){this._onHandleAddMenuCommand({command:e,fromSuperComposer:o,modifier:n,anchor:t,rootViewId:i})}static accessibilityAnnouncementForTab(e){let t;switch(e){case C.HubTab.Recents:t=m.getString("Hub.RecentsTabTitle");break;case C.HubTab.Calls:t=m.getString("Hub.CallsTabTitle");break;case C.HubTab.People:t=m.getString("Hub.ContactsTabTitle");break;case C.HubTab.Notifications:t=m.getString("Notifications.Notify")}return t&&(t=m.getString("Global.ItemSelectedAccessibilityLabel",{text:t})),t}static _getTabletLeftControls(){return this._getTabletSecondaryControls()}static _getTabletSecondaryControls(){return[p.HeaderButtonType.Profile,p.HeaderButtonType.NameAndMoodText]}static _getNewMobileHubLeftControls(e){const t=[];return e.notificationsToHeader||e.hideAlertsButton||t.push(p.HeaderButtonType.Notifications),t.push(p.HeaderButtonType.Profile),t.push(p.HeaderButtonType.NameAndMoodText),t}static _getNewMobileHubRightControls(e){const t=[];switch(e.hubTab){case C.HubTab.Recents:e.enableHeartEntryPoint&&t.push(p.HeaderButtonType.Feedback),t.push(p.HeaderButtonType.MeetNow),e.notificationsToHeader&&!e.hideAlertsButton&&t.push(p.HeaderButtonType.Notifications);break;case C.HubTab.People:break;case C.HubTab.Calls:t.push(p.HeaderButtonType.MeetNow),t.push(p.HeaderButtonType.Call);break;case C.HubTab.Notifications:t.push(p.HeaderButtonType.NotificationsSettings),t.push(p.HeaderButtonType.MeetNow)}return t}static _showAddTouchMenu(e,t,i,o){I._registerMobileDismissalHandler(o);let n=[];if(e===C.HubTab.People){if(n=I._getContactsAddMenuItems(),n=I._getNewContactsPanelContactsMenuItems(),1===n.length)return void y.default.navigateToAddContactPanel(a.AddContactPanelOrigin.HubTabPeople,T.StackNavigationDirection.Present,i)}else n=I._getNewAddMenuItems();const s={anchor:o,buttons:n,cancelButtonTitleIOS:m.getString("Global.CancelLabel")};g.track(new r.BotInteraction(d.BotsInteraction.ClickPlusMenu)),t.show(s,(t=>I._onHandleAddMenuCommand({command:t,currentHubTab:e,anchor:o,rootViewId:i})))}static _getNewAddMenuItems(){const e=[];return n.default.getS4LMessagingFeatures().showNewChatFirstInPlusMenu?e.push({text:m.getString("Hub.New1on1ChatLabel"),command:t.HubCommands.AddConversation1on1Command},{text:m.getString("Hub.NewGroupChatLabel"),command:t.HubCommands.AddConversationGroupCommand}):e.push({text:m.getString("Hub.NewGroupChatLabel"),command:t.HubCommands.AddConversationGroupCommand},{text:m.getString("Hub.New1on1ChatLabel"),command:t.HubCommands.AddConversation1on1Command}),e.push({text:m.getString("Hub.NewPrivateChatLabel"),command:t.HubCommands.AddConversationPrivateCommand}),n.default.getS4LCaapFeatures().botDiscoveryEnabled&&e.push({text:m.getString("Hub.FindBotLabel"),command:t.HubCommands.AddBotCommand}),e}static _getNewContactsPanelContactsMenuItems(){const e=[];return e.push({text:m.getString("Hub.AddContactMenuLabel"),command:t.HubCommands.AddContactCommand}),n.default.getS4LCaapFeatures().botDiscoveryEnabled&&e.push({text:m.getString("Hub.AddBotMenuLabel"),command:t.HubCommands.AddBotCommand}),e}static _getContactsAddMenuItems(){const e=[];return n.default.getS4LCaapFeatures().botDiscoveryEnabled&&e.push({text:m.getString("Hub.FindBotLabel"),command:t.HubCommands.AddBotCommand}),e}static _registerMobileDismissalHandler(e){}static _showJoinLinkMenu(e){const t=f.default.getSkypeMri(),i=c.default.getDisplayName(t);y.default.navigateToInviteShare(t,i,h.InviteLinkOrigin.NewChatInvite,e)}}I.onSuperComposerClick=(e,i,o,n)=>{const r=i||void 0,a=r?r.shiftKey||r.metaKey:void 0;I._onHandleAddMenuCommand({command:t.HubCommands.OpenSuperComposer,anchor:n,modifier:a,rootViewId:e})},I.onPeoplePlusButtonClickForNewMobileHub=(e,t,i,o)=>{I._onPlusButtonClick(C.HubTab.People,e,i,o,t)},I._onPlusButtonClick=(e,t,i,o,n)=>{const r=i||{show:(e,i)=>{P.default.showWithActionMenuConfig({options:e,callback:i,maintainAnchor:!0,rootViewId:t,invokingEvent:n})}};I._showAddTouchMenu(e,r,t,o)},I._onSuperComposerGroupCallButtonClick=e=>{const t=A.default.newCauseId();g.log(d.LogTraceArea.Navigation,"HubUIUtils._onSuperComposerGroupCallButtonClick, causeId: "+t),y.default.navigateToQuickCallPanelWithParams({newGroup:!0,navigationDirection:T.StackNavigationDirection.Push,causeId:t},e)},I.onDialpadButtonClick=(e,t,i,o)=>{I._registerMobileDismissalHandler(o);const n=A.default.newCauseId();g.log(d.LogTraceArea.Navigation,"HubUIUtils._onDialpadButtonClick, causeId: "+n),y.default.navigateToPSTNDialerWithParams({causeId:n,navigationSource:d.DialerNavigationSource.QuickCallPanelFab},e)},I._onGroupCallButtonClick=(e,t,i,o)=>{const n=A.default.newCauseId();g.log(d.LogTraceArea.Navigation,"HubUIUtils._onGroupCallButtonClick, causeId: "+n),I._registerMobileDismissalHandler(o),y.default.navigateToQuickCallPanelWithParams({newGroup:!0,causeId:n},e)},I._onHandleAddMenuCommand=e=>{const i=A.default.newCauseId();switch(g.log(d.LogTraceArea.Navigation,"HubUIUtils._onHandleAddMenuCommand, command: "+e.command+" fromSuperComposer: "+e.fromSuperComposer+" modifier: "+e.modifier+" causeId: "+i),g.track(new u.HubPlusButtonEvent(e.command)),l.dismissAll(),I._registerMobileDismissalHandler(e.anchor),e.command){case t.HubCommands.Cancel:return;case t.HubCommands.OpenSuperComposer:const{enableNewConversationCreation:i}=n.default.getS4LMessagingFeaturesNoSubscription(),{enableModeratedGroupChats:o}=n.default.getS4LMessagingFeatures();(i?new s.default({peopleType:b.PeopleType.All,filterPeopleType:b.FilterType.None,navigationOrigin:d.NavigationConversationOrigin.Recents,wizardSteps:[v.WizardSteps.setConvParticipants]}):new s.default({creating1on1Conversation:!0,useSuperComposerFor1on1Conversation:!0,peopleType:b.PeopleType.All,filterPeopleType:b.FilterType.None,isSingleContactSelect:!0,showModeratedGroupOption:e.modifier||o,navigationOrigin:d.NavigationConversationOrigin.SuperComposer,wizardSteps:[v.WizardSteps.setConvParticipants]})).start(e.rootViewId);break;case t.HubCommands.AddConversationGroupCommand:new s.default({navigationOrigin:d.NavigationConversationOrigin.NewGroup,peopleType:b.PeopleType.All,filterPeopleType:b.FilterType.GroupCapable,presentedFromSuperComposer:e.fromSuperComposer}).start(e.rootViewId);break;case t.HubCommands.AddConversationModeratedGroupCommand:new s.default({navigationOrigin:d.NavigationConversationOrigin.NewModeratedGroup,peopleType:b.PeopleType.All,filterPeopleType:b.FilterType.GroupCapable,presentedFromSuperComposer:e.fromSuperComposer}).start(e.rootViewId);break;case t.HubCommands.AddConversation1on1Command:new s.default({creating1on1Conversation:!0,useSuperComposerFor1on1Conversation:!1,peopleType:b.PeopleType.All,filterPeopleType:b.FilterType.None,isSingleContactSelect:!0,navigationOrigin:d.NavigationConversationOrigin.NewChat,presentedFromSuperComposer:e.fromSuperComposer,wizardSteps:[v.WizardSteps.setConvParticipants]}).start(e.rootViewId);break;case t.HubCommands.AddConversationPrivateCommand:new s.default({creating1on1Conversation:!0,useSuperComposerFor1on1Conversation:!1,peopleType:b.PeopleType.AllExcludingBots,filterPeopleType:b.FilterType.None,isSingleContactSelect:!0,navigationOrigin:d.NavigationConversationOrigin.NewPrivateChat,presentedFromSuperComposer:e.fromSuperComposer,wizardSteps:[v.WizardSteps.setConvParticipants]}).start(e.rootViewId);break;case t.HubCommands.NewGroupCallCommand:e.fromSuperComposer?I._onSuperComposerGroupCallButtonClick(e.rootViewId):I._onGroupCallButtonClick(e.rootViewId);break;case t.HubCommands.InviteCommand:I._showJoinLinkMenu(e.rootViewId);break;case t.HubCommands.AddContactCommand:y.default.navigateToAddContactPanel(a.AddContactPanelOrigin.HubTabPeople,T.StackNavigationDirection.Present,e.rootViewId);break;case t.HubCommands.AddBotCommand:g.track(new r.BotInteraction(d.BotsInteraction.NavigateToBotStore)),y.default.navigateToBotDiscovery(e.fromSuperComposer?T.StackNavigationDirection.Push:T.StackNavigationDirection.Present,e.rootViewId);break;case t.HubCommands.NewCellularSmsConversationCommand:new s.default({creating1on1Conversation:!0,useSuperComposerFor1on1Conversation:!1,peopleType:b.PeopleType.AllWithPhoneNumbers,filterPeopleType:b.FilterType.CallCapable,isSingleContactSelect:!0,navigationOrigin:d.NavigationConversationOrigin.NewChat,presentedFromSuperComposer:e.fromSuperComposer,wizardSteps:[v.WizardSteps.setConvParticipants],createCellularSmsConversation:!0}).start(e.rootViewId);break;case t.HubCommands.NewMeetNowCommand:S.MeetNowHelpers.showNewMeetNow(_.MeetNowOrigin.NewChatMobile)}},t.default=I},589640:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0,t.getIllustrationHeaderTextStyle=function(e){return n.Styles.combine(t.styles.headerTextStyle,n.Styles.createTextStyle({color:e},!1))};const o=i(197582),n=o.__importStar(i(516778)),r=i(26703),a=o.__importDefault(i(20758)),s=i(154235),l=i(641400),c=a.default.controlFontSize.illustrationScreenBody,d=l.IconSize.size18;t.styles=(0,r.lazyProperties)({bodyTextStyle:()=>n.Styles.createTextStyle({fontSize:c,alignItems:"center",textAlign:"center"}),headerTextStyle:()=>n.Styles.createTextStyle({textAlign:"center",fontWeight:s.FontWeight.bold,fontSize:a.default.controlFontSize.illustrationScreenHeader}),bodyIconStyle:()=>n.Styles.createTextStyle({width:d,height:c,overflow:"visible"}),panelWrapperStyle:()=>n.Styles.createViewStyle({flex:0,flexDirection:"row"})})},720572:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useIsFloatingKeyboard=void 0;const o=i(667294),n=i(537180);t.useIsFloatingKeyboard=()=>{const e=n.Dimensions.get("window").width,[t,i]=(0,o.useState)(!1);return(0,o.useEffect)((()=>n.Keyboard.addListener("keyboardWillChangeFrame",(t=>{i(t.endCoordinates.width!==e)})).remove),[e]),t}},789777:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778)),a=o.__importDefault(i(150343)),s=i(154235),l=o.__importDefault(i(260928)),c=i(815146),d=o.__importStar(i(800662)),u=o.__importStar(i(75576)),p=o.__importStar(i(85385)),g=o.__importDefault(i(97595)),h=o.__importStar(i(704704)),m=o.__importDefault(i(247286)),S=o.__importDefault(i(740794)),_=o.__importStar(i(812822)),f=i(113002),y=o.__importStar(i(185201)),C=o.__importStar(i(3025)),v=o.__importDefault(i(84830)),b=i(240804),T=o.__importStar(i(693921)),P=o.__importDefault(i(266872)),k=o.__importStar(i(972830)),A=o.__importDefault(i(760989)),I=i(906908),w=i(677982);class x{static registerKeyboardHandlers(){const e=x._registrationTokenCounter++;return this._registeredTokens.push(e),p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper.registerKeyboardHandlers token: "+e),this._keyboardHandlersRegistered||(p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper.registerKeyboardHandlers, registering handlers"),g.default.addHandler(c.KeyboardShortcut.OpenThemePicker,this._navigateToThemePicker),g.default.addHandler(c.KeyboardShortcut.OpenHelpInABrowser,this._openHelpInABrowser),g.default.addHandler(c.KeyboardShortcut.ToggleTheme,this._toggleLightOrDarkTheme),g.default.addHandler(c.KeyboardShortcut.SendFeedback,this._navigateToFeedback),g.default.addHandler(c.KeyboardShortcut.OpenContactsPanel,this._navigateToContactsPanel),g.default.addHandler(c.KeyboardShortcut.OpenNotificationPanel,this._navigateToNotificationsPanel),g.default.addHandler(c.KeyboardShortcut.OpenDialpad,this._openMainDialpad),g.default.addHandler(c.KeyboardShortcut.OpenKeyboardShortcuts,this._navigateToKeyboardShortcuts),g.default.addHandler(c.KeyboardShortcut.OpenAppSettings,this._navigateToSettings),g.default.addHandler(c.KeyboardShortcut.StartNewConversation,this._startNewConversation),g.default.addHandler(c.KeyboardShortcut.NewGroup,this._startNewGroupConversation),g.default.addHandler(c.KeyboardShortcut.Search,this._navigateToSearch),this._keyboardHandlersRegistered=!0),e}static unregisterKeyboardHandlers(e){p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper.unregisterKeyboardHandlers token: "+e),this._registeredTokens=n.remove(this._registeredTokens,(t=>t===e)),this._keyboardHandlersRegistered&&n.isEmpty(this._registeredTokens)&&(p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper.unregisterKeyboardHandlers, unregistering handlers"),g.default.removeHandler(c.KeyboardShortcut.OpenThemePicker,this._navigateToThemePicker),g.default.removeHandler(c.KeyboardShortcut.OpenHelpInABrowser,this._openHelpInABrowser),g.default.removeHandler(c.KeyboardShortcut.ToggleTheme,this._toggleLightOrDarkTheme),g.default.removeHandler(c.KeyboardShortcut.SendFeedback,this._navigateToFeedback),g.default.removeHandler(c.KeyboardShortcut.OpenContactsPanel,this._navigateToContactsPanel),g.default.removeHandler(c.KeyboardShortcut.OpenNotificationPanel,this._navigateToNotificationsPanel),g.default.removeHandler(c.KeyboardShortcut.OpenDialpad,this._openMainDialpad),g.default.removeHandler(c.KeyboardShortcut.OpenKeyboardShortcuts,this._navigateToKeyboardShortcuts),g.default.removeHandler(c.KeyboardShortcut.OpenAppSettings,this._navigateToSettings),g.default.removeHandler(c.KeyboardShortcut.StartNewConversation,this._startNewConversation),g.default.removeHandler(c.KeyboardShortcut.NewGroup,this._startNewGroupConversation),this._keyboardHandlersRegistered=!1)}static navigateToSettings(){this._navigateToSettings()}static navigateToSearch(e=c.SearchPanelInitiator.KeyboardShortcut){this._navigateToSearchWithOrigin(e)}static startNewConversation(e=c.NavigationConversationOrigin.KeyboardShortcut){this._startNewConversationWithOrigin(e)}static startNewGroupConversation(e=c.NavigationConversationOrigin.KeyboardShortcut){this._startNewGroupConversationWithOrigin(e)}static navigateToFeedback(){this._navigateToFeedback()}static _navigateToSearchWithOrigin(e){const t=A.default.newCauseId();p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToSearch causeId: "+t),S.default.closeGenericDesktopModal(t,s.MainRootViewId);x._openInMainWindow(t,(i=>{S.default.navigateToSearch({searchOrigin:e},t),d.setFocusWithDelay(d.FocusEvent.SearchInput,0)}))}static _startNewConversationWithOrigin(e){const t=A.default.newCauseId();p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._startNewConversation causeId: "+t),S.default.closeGenericDesktopModal(t,s.MainRootViewId);x._openInMainWindow(t,(t=>{new l.default({creating1on1Conversation:!0,peopleType:b.PeopleType.All,filterPeopleType:b.FilterType.None,isSingleContactSelect:!0,navigationOrigin:e,wizardSteps:[f.WizardSteps.setConvParticipants]}).start(s.MainRootViewId)}))}static _startNewGroupConversationWithOrigin(e){const t=A.default.newCauseId();p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._startNewGroupConversation causeId: "+t),S.default.closeGenericDesktopModal(t,s.MainRootViewId);x._openInMainWindow(t,(t=>{new l.default({navigationOrigin:e,peopleType:b.PeopleType.All,filterPeopleType:b.FilterType.GroupCapable}).start(s.MainRootViewId)}))}static _openInMainWindow(e,t){p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._maybeOpenMainWindow causeId: "+e),this._intOpenInWindow(e,!0,t)}static _openInCurrentWindow(e,t){p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._openInCurrentWindow causeId: "+e),this._intOpenInWindow(e,!1,t)}static _intOpenInWindow(e,t,i){p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._intOpenInWindow causeId: "+e),i(s.MainRootViewId)}}x._keyboardHandlersRegistered=!1,x._registrationTokenCounter=1,x._registeredTokens=[],x._navigateToThemePicker=()=>{const e=A.default.newCauseId();p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToAVSettings causeId: "+e),S.default.closeGenericDesktopModal(e,s.MainRootViewId);return x._openInMainWindow(e,(t=>{S.default.navigateToDesktopSettingsGroup(_.SettingsGroup.ThemeSettings,t,e)})),!0},x._navigateToSearch=()=>(x._navigateToSearchWithOrigin(c.SearchPanelInitiator.KeyboardShortcut),!0),x._navigateToContactsPanel=()=>{const e=A.default.newCauseId();p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToContactsPanel causeId: "+e),S.default.closeGenericDesktopModal(e,s.MainRootViewId);return x._openInMainWindow(e,(t=>{S.default.navigateToContactsPanelInLeftNav(e),d.setFocusWithDelay(d.FocusEvent.Contacts,0)})),!0},x._navigateToNotificationsPanel=()=>{const e=A.default.newCauseId();p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToNotificationsPanel causeId: "+e),S.default.closeGenericDesktopModal(e,s.MainRootViewId);return x._openInMainWindow(e,(t=>{S.default.navigateToNotificationsPanelInLeftNav(e),d.setFocusWithDelay(d.FocusEvent.Notifications,0)})),!0},x._navigateToSettings=()=>{const e=A.default.newCauseId();p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToSettings causeId: "+e),S.default.closeGenericDesktopModal(e,s.MainRootViewId);return x._openInMainWindow(e,(t=>{p.track(new C.SettingsTelemetry(c.SettingsOrigin.Shortcut)),S.default.navigateToDesktopSettings(t,e)})),!0},x._startNewConversation=()=>(x._startNewConversationWithOrigin(c.NavigationConversationOrigin.KeyboardShortcut),!0),x._startNewGroupConversation=()=>(x._startNewGroupConversationWithOrigin(c.NavigationConversationOrigin.KeyboardShortcut),!0),x._openMainDialpad=()=>{const e=A.default.newCauseId();p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._openMainDialpad causeId: "+e),S.default.closeGenericDesktopModal(e,s.MainRootViewId);return x._openInMainWindow(e,(t=>{S.default.navigateToPSTNDialerWithParams({causeId:e,navigationSource:c.DialerNavigationSource.RootCompositeNavigationView},t)})),!0},x._navigateToFeedback=()=>{if(m.default.isChild())return!0;const e=A.default.newCauseId();p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToFeedback causeId: "+e);return x._openInCurrentWindow(e,(t=>{p.track(new y.NavigationHelpAndFeedback(f.NavigationSettingsItem.ReportAProblem,f.NavigationSettingsOrigin.ApplicationMenu)),S.default.closeGenericDesktopModal(e,t),v.default.reportProblem(!0,t)})),!0},x._navigateToSXPlayground=()=>((0,I.navigateToSXPlayground)(!w.NavigationStateStore.isUsingStackReactNavigationNoSubscription()),!0),x._openHelpInABrowser=()=>{const e=u.getTelemetryCorrelationId();p.track(new y.NavigationHelpAndFeedback(f.NavigationSettingsItem.GetHelp,f.NavigationSettingsOrigin.KeyboardShortcut,e)),p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._openHelpInABrowser");let t=T.addSsoFlagToUrl(a.default.getConfigSettings().helpGoParam.supportArticles,!0);t=u.addCommonTrackingParams(t,!0,!0);const i={tcg:e};return S.default.navigateToHelpAndFeedbackLink(t,"",h.getString("MyProfilePanel.GetHelpTitle"),s.MainRootViewId,i),!0},x._toggleLightOrDarkTheme=()=>{p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._toggleLightOrDarkTheme"),P.default.toggleLightOrDarkTheme();const e=k.isDarkTheme(P.default.colorThemeNoSubscription()),t=h.getString(e?"ColorThemeDialog.ShortcutThemeToggleDarkAccessible":"ColorThemeDialog.ShortcutThemeToggleLightAccessible");return r.Accessibility.announceForAccessibility(t),!0},x._navigateToKeyboardShortcuts=()=>{const e=A.default.newCauseId();p.log(c.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToKeyboardShortcuts causeId: "+e),S.default.closeGenericDesktopModal(e,s.MainRootViewId);return x._openInCurrentWindow(e,(t=>{S.default.navigateToDesktopSettingsGroup(_.SettingsGroup.HotKeys,t,e)})),!0},t.default=x},97595:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardShortcuts=t.WindowsAndLinuxShortcutsWeb=t.WindowsShortcuts=t.WindowsAndLinuxShortcutsCommon=t.MacShortcutsWeb=t.MacShortcuts=t.MacShortcutsCommon=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(210576)),a=o.__importStar(i(516778)),s=o.__importDefault(i(196687)),l=i(843890),c=i(154235),d=i(815146),u=i(387584),p=o.__importStar(i(85385)),g=o.__importDefault(i(54945)),h=o.__importStar(i(704704)),m=o.__importDefault(i(201721)),S=o.__importDefault(i(139221)),_="answerOrStartCall",f="addToCallOrConversation",y="toggleCameraOrStartCall";t.MacShortcutsCommon=[{shortcut:d.KeyboardShortcut.OpenNotificationPanel,keyCombination:{keyCode:g.default.O,shiftKey:!0,metaKey:!0}},{shortcut:d.KeyboardShortcut.OpenContactsPanel,keyCombination:{keyCode:g.default.C,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.SendFeedback,keyCombination:{keyCode:g.default.O,metaKey:!0,altKey:!0}},{shortcut:d.KeyboardShortcut.NavigateToRecents,keyCombination:{keyCode:g.default.ONE,altKey:!0}},{shortcut:d.KeyboardShortcut.NavigateToHistory,keyCombination:{keyCode:g.default.Y,metaKey:!0}},{shortcut:d.KeyboardShortcut.ShowConversationProfile,keyCombination:{keyCode:g.default.I,metaKey:!0}},{shortcut:d.KeyboardShortcut.AddPeopleToConversation,keyCombination:{keyCode:g.default.A,metaKey:!0,shiftKey:!0},shortcutAlias:f},{shortcut:d.KeyboardShortcut.StartVideoCall,keyCombination:{keyCode:g.default.K,metaKey:!0,shiftKey:!0},shortcutAlias:y},{shortcut:d.KeyboardShortcut.MarkAsUnread,keyCombination:{keyCode:g.default.U,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.ToggleLeftPanel,keyCombination:{keyCode:g.default.ONE,ctrlKey:!0,altKey:!0}},{shortcut:d.KeyboardShortcut.EditMessage,keyCombination:{keyCode:g.default.E,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.EnableMultipleSelectMessages,keyCombination:{keyCode:g.default.L,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.FocusMessageComposer,keyCombination:{keyCode:g.default.E,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.ToggleMicrophone,keyCombination:{keyCode:g.default.M,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.ToggleCamera,keyCombination:{keyCode:g.default.K,metaKey:!0,shiftKey:!0},shortcutAlias:y},{shortcut:d.KeyboardShortcut.AddPeopleToCall,keyCombination:{keyCode:g.default.A,metaKey:!0,shiftKey:!0},shortcutAlias:f},{shortcut:d.KeyboardShortcut.HangupOrRejectCall,keyCombination:{keyCode:g.default.H,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.AnnounceMuteStatus,keyCombination:{keyCode:g.default.M,metaKey:!0,shiftKey:!0,altKey:!0}},{shortcut:d.KeyboardShortcut.AnnounceSelfVideoOnOffStatus,keyCombination:{keyCode:g.default.K,metaKey:!0,shiftKey:!0,altKey:!0}},{shortcut:d.KeyboardShortcut.ArchiveConversation,keyCombination:{keyCode:g.default.E,metaKey:!0}},{shortcut:d.KeyboardShortcut.CallDebugPanel,keyCombination:{keyCode:g.default.D,metaKey:!0,shiftKey:!0}}],t.MacShortcuts=[...t.MacShortcutsCommon,{shortcut:d.KeyboardShortcut.OpenAppSettings,keyCombination:{keyCode:g.default.COMMA,metaKey:!0}},{shortcut:d.KeyboardShortcut.OpenHelpInABrowser,keyCombination:{keyCode:g.default.H,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.StartNewConversation,keyCombination:{keyCode:g.default.N,metaKey:!0}},{shortcut:d.KeyboardShortcut.OpenThemePicker,keyCombination:{keyCode:g.default.T,metaKey:!0}},{shortcut:d.KeyboardShortcut.ToggleTheme,keyCombination:{keyCode:g.default.T,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.TakeCallSnapshot,keyCombination:{keyCode:g.default.S,metaKey:!0}},{shortcut:d.KeyboardShortcut.OpenDialpad,keyCombination:{keyCode:g.default.TWO,metaKey:!0}},{shortcut:d.KeyboardShortcut.NewGroup,keyCombination:{keyCode:g.default.G,metaKey:!0}},{shortcut:d.KeyboardShortcut.ToggleGallery,keyCombination:{keyCode:g.default.G,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.StartAudioCall,keyCombination:{keyCode:g.default.R,metaKey:!0,shiftKey:!0},shortcutAlias:_},{shortcut:d.KeyboardShortcut.AcceptIncomingCall,keyCombination:{keyCode:g.default.R,metaKey:!0,shiftKey:!0},shortcutAlias:_},{shortcut:d.KeyboardShortcut.SendFile,keyCombination:{keyCode:g.default.F,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.NavigateToPreviousConversation,keyCombination:{keyCode:g.default.TAB,shiftKey:!0,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.NavigateToNextConversation,keyCombination:{keyCode:g.default.TAB,shiftKey:!1,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.ResizeVideoPreview,keyCombination:{keyCode:g.default.J,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.Quit,keyCombination:{keyCode:g.default.Q,metaKey:!0}}],t.MacShortcutsWeb=[...t.MacShortcutsCommon,{shortcut:d.KeyboardShortcut.OpenAppSettings,keyCombination:{keyCode:g.default.COMMA,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.StartNewConversation,keyCombination:{keyCode:g.default.N,shiftKey:!0,altKey:!0}},{shortcut:d.KeyboardShortcut.OpenHelpInABrowser,keyCombination:{keyCode:g.default.H,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.OpenDialpad,keyCombination:{keyCode:g.default.TWO,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.NewGroup,keyCombination:{keyCode:g.default.G,metaKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.StartAudioCall,keyCombination:{keyCode:g.default.R,altKey:!0,shiftKey:!0},shortcutAlias:_},{shortcut:d.KeyboardShortcut.AcceptIncomingCall,keyCombination:{keyCode:g.default.R,altKey:!0,shiftKey:!0},shortcutAlias:_},{shortcut:d.KeyboardShortcut.ResizeVideoPreview,keyCombination:{keyCode:g.default.J,altKey:!0,shiftKey:!0}}],t.WindowsAndLinuxShortcutsCommon=[{shortcut:d.KeyboardShortcut.OpenNotificationPanel,keyCombination:{keyCode:g.default.I,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.OpenContactsPanel,keyCombination:{keyCode:g.default.TWO,altKey:!0}},{shortcut:d.KeyboardShortcut.NavigateToRecents,keyCombination:{keyCode:g.default.ONE,altKey:!0}},{shortcut:d.KeyboardShortcut.NavigateToHistory,keyCombination:{keyCode:g.default.Y,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.AddPeopleToConversation,keyCombination:{keyCode:g.default.A,ctrlKey:!0,shiftKey:!0},shortcutAlias:f},{shortcut:d.KeyboardShortcut.StartVideoCall,keyCombination:{keyCode:g.default.K,ctrlKey:!0,shiftKey:!0},shortcutAlias:y},{shortcut:d.KeyboardShortcut.StartAudioCall,keyCombination:{keyCode:g.default.P,ctrlKey:!0,shiftKey:!0},shortcutAlias:_},{shortcut:d.KeyboardShortcut.MarkAsUnread,keyCombination:{keyCode:g.default.U,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.ToggleLeftPanel,keyCombination:{keyCode:g.default.ONE,ctrlKey:!0,altKey:!0}},{shortcut:d.KeyboardShortcut.EnableMultipleSelectMessages,keyCombination:{keyCode:g.default.L,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.FocusMessageComposer,keyCombination:{keyCode:g.default.E,altKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.ToggleMicrophone,keyCombination:{keyCode:g.default.M,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.ToggleCamera,keyCombination:{keyCode:g.default.K,ctrlKey:!0,shiftKey:!0},shortcutAlias:y},{shortcut:d.KeyboardShortcut.AcceptIncomingCall,keyCombination:{keyCode:g.default.P,ctrlKey:!0,shiftKey:!0},shortcutAlias:_},{shortcut:d.KeyboardShortcut.AddPeopleToCall,keyCombination:{keyCode:g.default.A,ctrlKey:!0,shiftKey:!0},shortcutAlias:f},{shortcut:d.KeyboardShortcut.HangupOrRejectCall,keyCombination:{keyCode:g.default.H,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.ArchiveConversation,keyCombination:{keyCode:g.default.E,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.AnnounceMuteStatus,keyCombination:{keyCode:g.default.M,ctrlKey:!0,altKey:!0}},{shortcut:d.KeyboardShortcut.AnnounceSelfVideoOnOffStatus,keyCombination:{keyCode:g.default.K,ctrlKey:!0,shiftKey:!0,altKey:!0}},{shortcut:d.KeyboardShortcut.CallDebugPanel,keyCombination:{keyCode:g.default.D,altKey:!0,shiftKey:!0}}],t.WindowsShortcuts=[...t.WindowsAndLinuxShortcutsCommon,{shortcut:d.KeyboardShortcut.OpenAppSettings,keyCombination:{keyCode:g.default.COMMA,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.OpenHelpInABrowser,keyCombination:{keyCode:g.default.H,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.StartNewConversation,keyCombination:{keyCode:g.default.N,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.OpenThemePicker,keyCombination:{keyCode:g.default.T,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.ToggleTheme,keyCombination:{keyCode:g.default.T,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.TakeCallSnapshot,keyCombination:{keyCode:g.default.S,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.OpenDialpad,keyCombination:{keyCode:g.default.D,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.NewGroup,keyCombination:{keyCode:g.default.G,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.ToggleGallery,keyCombination:{keyCode:g.default.G,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.SendFeedback,keyCombination:{keyCode:g.default.O,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.ShowConversationProfile,keyCombination:{keyCode:g.default.P,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.SendFile,keyCombination:{keyCode:g.default.F,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.NavigateToPreviousConversation,keyCombination:{keyCode:g.default.TAB,shiftKey:!0,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.NavigateToNextConversation,keyCombination:{keyCode:g.default.TAB,shiftKey:!1,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.ResizeVideoPreview,keyCombination:{keyCode:g.default.J,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.Quit,keyCombination:{keyCode:g.default.Q,ctrlKey:!0}}],t.WindowsAndLinuxShortcutsWeb=[...t.WindowsAndLinuxShortcutsCommon,{shortcut:d.KeyboardShortcut.OpenAppSettings,keyCombination:{keyCode:g.default.COMMA,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.StartNewConversation,keyCombination:{keyCode:g.default.N,altKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.OpenHelpInABrowser,keyCombination:{keyCode:g.default.H,altKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.OpenDialpad,keyCombination:{keyCode:g.default.D,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.NewGroup,keyCombination:{keyCode:g.default.G,ctrlKey:!0,shiftKey:!0}},{shortcut:d.KeyboardShortcut.ShowConversationProfile,keyCombination:{keyCode:g.default.P,ctrlKey:!0,altKey:!0}},{shortcut:d.KeyboardShortcut.ResizeVideoPreview,keyCombination:{keyCode:g.default.J,altKey:!0,shiftKey:!0}}];class C{constructor(){this._handlers={},this._shouldSubscribeToKeyboardEvents=!0,this._subscribedToEscapeKeyEvents=!1,this._escapeHandlers=[],this._shortcutsMap={},this._extendedShortcutsMap={},this._onKeyUp=e=>{if(e.keyCode===g.default.ESCAPE)for(let t=this._escapeHandlers.length-1;t>=0;t--){const i=this._escapeHandlers[t];if(i&&i(e,c.MainRootViewId))return e.stopPropagation(),!0}return!1},this._onKeyDown=e=>{let t;const i=this._getKeyboardShortcut(e);for(let e=0;e<i.length;e++){const o=this._handlers[this._getShortcutMapKey(i[e].shortcut)];if(o){t=o;break}}if(t){return((t,i)=>{if(t&&t.length)for(let o=t.length-1;o>=0;o--)if(t[o](e,i)){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();break}})(t,c.MainRootViewId),!0}return!1},this._getSearchInConversationKeyCombination=()=>S.default.getPlatformType()===d.PlatformType.OSX?{keyCode:g.default.F,metaKey:!0}:{keyCode:g.default.F,ctrlKey:!0},this._getSearchKeyCombination=()=>S.default.getPlatformType()===d.PlatformType.OSX?{keyCode:g.default.F,metaKey:!0,shiftKey:!0}:{keyCode:g.default.F,ctrlKey:!0,shiftKey:!0},this._makeMacShortcuts=()=>{const e=[...t.MacShortcutsWeb];return e.push({shortcut:d.KeyboardShortcut.Search,keyCombination:this._getSearchKeyCombination()},{shortcut:d.KeyboardShortcut.SearchInConversation,keyCombination:this._getSearchInConversationKeyCombination()}),e.push({shortcut:d.KeyboardShortcut.OpenKeyboardShortcuts,keyCombination:{keyCode:g.default.BACKSLASH,metaKey:!0}},{shortcut:d.KeyboardShortcut.OpenSxPlayground,keyCombination:{keyCode:g.default.P,altKey:!0,shiftKey:!0}}),e},this._makeWindowsOrLinuxShortcuts=()=>{const e=[...t.WindowsAndLinuxShortcutsWeb];return e.push({shortcut:d.KeyboardShortcut.Search,keyCombination:this._getSearchKeyCombination()},{shortcut:d.KeyboardShortcut.SearchInConversation,keyCombination:this._getSearchInConversationKeyCombination()}),e.push({shortcut:d.KeyboardShortcut.OpenKeyboardShortcuts,keyCombination:{keyCode:g.default.FORWARDSLASH,ctrlKey:!0}},{shortcut:d.KeyboardShortcut.OpenSxPlayground,keyCombination:{keyCode:g.default.P,altKey:!0,shiftKey:!0}}),e},this._constructShortcuts(),this._shouldSubscribeToKeyboardEvents&&(h.localeChangedEvent.subscribe((()=>{this._extendedShortcutsMap={}})),a.Input.keyDownEvent.subscribe(this._onKeyDown))}_constructShortcuts(){p.log(d.LogTraceArea.KeyboardShortcuts,"_constructShortcuts was called"),this._shortcuts=S.default.getPlatformType()===d.PlatformType.OSX?this._makeMacShortcuts():this._makeWindowsOrLinuxShortcuts();const e={};n.each(this._shortcuts,(t=>{e[t.shortcut]=t})),this._shortcutsMap=e}keyCombinationForKeyboardShortcut(e){const t=this._shortcutsMap[e];return t?t.keyCombination:void 0}acceleratorForKeyboardShortcut(e){const t=this.keyCombinationForKeyboardShortcut(e);if(t){const e=C._acceleratorCommandParts(t);return C._joinCommands(e,"+")}}compactShortcutStringForKeyboardShortcut(e){const t=this.keyCombinationForKeyboardShortcut(e);if(t){const e=C._commandParts(t);return C._joinCommands(e,"+")}}shortcutListItemForShortcut(e){let t=this._extendedShortcutsMap[e];if(!t&&this._shortcutsMap[e]){const i=C._actionDescriptionForShortcut(e),o=C._commandParts(this._shortcutsMap[e].keyCombination),n=C._joinCommands(o),r=C._constructCommand(this._shortcutsMap[e].keyCombination,!0);i&&n&&(t=Object.assign(Object.assign({},this._shortcutsMap[e]),{action:i,command:n,accessibleCommand:r,commandParts:o}),this._extendedShortcutsMap[e]=t)}return t}addHandler(e,t){if(this._shouldSubscribeToKeyboardEvents&&s.default.canUseKeyboardShortcut(e)){p.log(d.LogTraceArea.KeyboardShortcuts,"Adding handler for "+d.KeyboardShortcut[e]);const i=this._getShortcutMapKey(e);this._handlers[i]?this._handlers[i].push(t):this._handlers[i]=[t],p.log(d.LogTraceArea.KeyboardShortcuts,"Handler count for shortcut "+d.KeyboardShortcut[e]+" count: "+this._handlers[i].length)}}removeHandler(e,t){if(this._shouldSubscribeToKeyboardEvents){p.log(d.LogTraceArea.KeyboardShortcuts,"Removing handler for "+d.KeyboardShortcut[e]);const i=this._getShortcutMapKey(e),o=n.remove(this._handlers[i],(e=>e===t)),r=this._handlers[i]?this._handlers[i].length:0;return p.log(d.LogTraceArea.KeyboardShortcuts,"Handler count for shortcut "+d.KeyboardShortcut[e]+" count: "+r),r||delete this._handlers[i],!n.isEmpty(o)}return!1}addEscapeHandler(e){this._subscribedToEscapeKeyEvents||(p.log(d.LogTraceArea.KeyboardShortcuts,"Subscribing to Escape key events"),a.Input.keyUpEvent.subscribe(this._onKeyUp),this._subscribedToEscapeKeyEvents=!0),this._escapeHandlers.push(e)}removeEscapeHandler(e){this._escapeHandlers=n.filter(this._escapeHandlers,(t=>t!==e)),n.isEmpty(this._escapeHandlers)&&this._subscribedToEscapeKeyEvents&&(p.log(d.LogTraceArea.KeyboardShortcuts,"Unsubscribing from Escape key events"),a.Input.keyUpEvent.unsubscribe(this._onKeyUp),this._subscribedToEscapeKeyEvents=!1)}addSystemHandler(e,t){if(!this._shouldSubscribeToKeyboardEvents||!s.default.canUseKeyboardShortcut(e))return;if(this.addHandler(e,t),!m.default.getUserPreferencesLocal().enableSystemHotKeys||!l.UICapabilities.systemHotKeysSupported())return;const i=this.keyCombinationForKeyboardShortcut(e),o=this.acceleratorForKeyboardShortcut(e);r.default.hotKeyCallback=t=>{const i=this._onKeyDown(t);return p.track(new u.GlobalHotkeyInvokedEvent(d.KeyboardShortcut[e],o)),i};const n=r.default.registerHotKey(i,o);void 0===i||n||p.warn(d.LogTraceArea.KeyboardShortcuts,"Failed to register system handler"),p.track(new u.GlobalHotkeyRegisteredEvent(n,d.KeyboardShortcut[e],o))}removeSystemHandler(e,t){if(!this._shouldSubscribeToKeyboardEvents)return;if(!this.removeHandler(e,t)||!l.UICapabilities.systemHotKeysSupported())return;const i=this.keyCombinationForKeyboardShortcut(e),o=this.acceleratorForKeyboardShortcut(e),n=r.default.unRegisterHotKey(i,o);void 0===i||n||p.warn(d.LogTraceArea.KeyboardShortcuts,"Failed to unregister system handler"),p.track(new u.GlobalHotkeyUnregisteredEvent(n,d.KeyboardShortcut[e],o))}hasRegisteredMultipleHandlers(e){const t=this._getShortcutMapKey(e),i=this._handlers[t];return!!(i&&i.length>1)}generateTooltipLabelWithShortcutForCondition(e,t,i){const o=this.compactShortcutStringForKeyboardShortcut(t);return!o||void 0!==i&&!0!==i?e:`${e}\n(${o})`}_getKeyboardShortcut(e){return this._shortcuts?this._shortcuts.filter((t=>{const i=t.keyCombination;return e.keyCode===i.keyCode&&!!e.ctrlKey==!!i.ctrlKey&&!!e.shiftKey==!!i.shiftKey&&!!e.altKey==!!i.altKey&&!!e.metaKey==!!i.metaKey})):[]}_getShortcutMapKey(e){const t=this._shortcutsMap[e];return"keyboardShortcut_"+((t?t.shortcutAlias:void 0)||e)}static _actionDescriptionForShortcut(e){switch(e){case d.KeyboardShortcut.OpenNotificationPanel:return h.getString("KeyboardShortcuts.OpenNotificationPanel");case d.KeyboardShortcut.OpenAppSettings:return h.getString("KeyboardShortcuts.OpenAppSettings");case d.KeyboardShortcut.OpenHelpInABrowser:return h.getString("KeyboardShortcuts.OpenHelpInABrowser");case d.KeyboardShortcut.OpenDialpad:return h.getString("KeyboardShortcuts.OpenDialpad");case d.KeyboardShortcut.StartNewConversation:return h.getString("KeyboardShortcuts.StartNewConversation");case d.KeyboardShortcut.NewGroup:return h.getString("KeyboardShortcuts.NewGroup");case d.KeyboardShortcut.OpenContactsPanel:return h.getString("KeyboardShortcuts.OpenContactsPanel");case d.KeyboardShortcut.SendFeedback:return h.getString("KeyboardShortcuts.SendFeedback");case d.KeyboardShortcut.OpenThemePicker:return h.getString("KeyboardShortcuts.OpenThemePicker");case d.KeyboardShortcut.NavigateToRecents:case d.KeyboardShortcut.NavigateToHistory:return h.getString("KeyboardShortcuts.NavigateToRecents");case d.KeyboardShortcut.ShowConversationProfile:return h.getString("KeyboardShortcuts.ShowConversationProfile");case d.KeyboardShortcut.AddPeopleToConversation:return h.getString("KeyboardShortcuts.AddPeopleToConversation");case d.KeyboardShortcut.SendFile:return h.getString("KeyboardShortcuts.SendFile");case d.KeyboardShortcut.StartVideoCall:return h.getString("KeyboardShortcuts.StartVideoCall");case d.KeyboardShortcut.StartAudioCall:return h.getString("KeyboardShortcuts.StartAudioCall");case d.KeyboardShortcut.ToggleGallery:return h.getString("KeyboardShortcuts.ToggleGallery");case d.KeyboardShortcut.MarkAsUnread:return h.getString("KeyboardShortcuts.MarkAsUnread");case d.KeyboardShortcut.HangupOrRejectCall:return h.getString("KeyboardShortcuts.HangupOrRejectCall");case d.KeyboardShortcut.ToggleMicrophone:return h.getString("KeyboardShortcuts.ToggleMicrophone");case d.KeyboardShortcut.ToggleCamera:return h.getString("KeyboardShortcuts.ToggleCamera");case d.KeyboardShortcut.AcceptIncomingCall:return h.getString("KeyboardShortcuts.AcceptIncomingCall");case d.KeyboardShortcut.AddPeopleToCall:return h.getString("KeyboardShortcuts.AddPeopleToCall");case d.KeyboardShortcut.Search:return h.getString("KeyboardShortcuts.Search");case d.KeyboardShortcut.SearchInConversation:return h.getString("KeyboardShortcuts.SearchInConversation");case d.KeyboardShortcut.ToggleTheme:return h.getString("KeyboardShortcuts.ToggleTheme");case d.KeyboardShortcut.EditMessage:return h.getString("KeyboardShortcuts.EditMessage");case d.KeyboardShortcut.EnableMultipleSelectMessages:return h.getString("KeyboardShortcuts.EnableMultipleSelectMessages");case d.KeyboardShortcut.TakeCallSnapshot:return h.getString("KeyboardShortcuts.TakeCallSnapshot");case d.KeyboardShortcut.ArchiveConversation:return h.getString("KeyboardShortcuts.ArchiveConversation");case d.KeyboardShortcut.OpenMainWindow:return h.getString("KeyboardShortcuts.OpenMainWindow");case d.KeyboardShortcut.Refresh:return h.getString("KeyboardShortcuts.Refresh");case d.KeyboardShortcut.ZoomIn:return h.getString("KeyboardShortcuts.ZoomIn");case d.KeyboardShortcut.ZoomOut:return h.getString("KeyboardShortcuts.ZoomOut");case d.KeyboardShortcut.ResetZoom:return h.getString("KeyboardShortcuts.ResetZoom");case d.KeyboardShortcut.OpenKeyboardShortcuts:return h.getString("KeyboardShortcuts.OpenKeyboardShortcuts");case d.KeyboardShortcut.FocusMessageComposer:return h.getString("KeyboardShortcuts.FocusMessageComposer");case d.KeyboardShortcut.AnnounceMuteStatus:return h.getString("KeyboardShortcuts.AnnounceMuteStatus");case d.KeyboardShortcut.AnnounceSelfVideoOnOffStatus:return h.getString("KeyboardShortcuts.AnnounceSelfVideoOnOffStatus");case d.KeyboardShortcut.NavigateToNextConversation:return h.getString("KeyboardShortcuts.NextConversationLabel");case d.KeyboardShortcut.NavigateToPreviousConversation:return h.getString("KeyboardShortcuts.PreviousConversationLabel");case d.KeyboardShortcut.ResizeVideoPreview:return h.getString("CallPanel.ResizeCameraPreviewText");case d.KeyboardShortcut.FocusScreenSharingToolbar:return h.getString("KeyboardShortcuts.FocusScreenSharingToolbar");case d.KeyboardShortcut.Quit:return h.getString("KeyboardShortcuts.Quit");case d.KeyboardShortcut.OpenSxPlayground:return h.getString("KeyboardShortcuts.OpenSxPlayground")}}static _commandParts(e,t=!1){const i=S.default.getPlatformType()===d.PlatformType.OSX,o=[];return e.ctrlKey&&o.push(C._keyDescriptor(i?g.default.CONTROL:g.default.CTRL,t)),e.altKey&&o.push(C._keyDescriptor(i?g.default.OPTION:g.default.ALT,t)),e.metaKey&&o.push(C._keyDescriptor(g.default.COMMAND,t)),e.shiftKey&&o.push(C._keyDescriptor(g.default.SHIFT,t)),e.keyCode&&o.push(C._keyDescriptor(e.keyCode,t)),n.compact(o)}static _acceleratorCommandParts(e){const t=S.default.getPlatformType()===d.PlatformType.OSX,i=[];return e.ctrlKey&&i.push("Control"),e.altKey&&i.push(t?"Option":"Alt"),e.metaKey&&i.push("Command"),e.shiftKey&&i.push("Shift"),e.keyCode&&i.push(C._keyAcceleratorCode(e.keyCode)),n.compact(i)}static _constructCommand(e,t=!1){const i=C._commandParts(e,t);return C._joinCommands(i,t?" ":" + ")}static _joinCommands(e,t){return n.join(e,t||" + ")}static _keyAcceleratorCode(e){switch(e){case g.default.PLUS:return"Plus";case g.default.SPACE:return"Space";case g.default.TAB:return"Tab";case g.default.DELETE:return"Delete";case g.default.INSERT:return"Insert";case g.default.ENTER:return"Enter";case g.default.UP:return"Up";case g.default.DOWN:return"Down";case g.default.LEFT:return"Left";case g.default.RIGHT:return"Right";case g.default.ESCAPE:return"Escape";case g.default.PAGEUP:return"PageUp";case g.default.PAGEDOWN:return"PageDown"}return C._keyDescriptor(e,!1)}static _keyDescriptor(e,t=!1){switch(e){case g.default.A:return"A";case g.default.B:return"B";case g.default.C:return"C";case g.default.D:return"D";case g.default.E:return"E";case g.default.F:return"F";case g.default.G:return"G";case g.default.H:return"H";case g.default.I:return"I";case g.default.J:return"J";case g.default.K:return"K";case g.default.L:return"L";case g.default.M:return"M";case g.default.N:return"N";case g.default.O:return"O";case g.default.P:return"P";case g.default.Q:return"Q";case g.default.R:return"R";case g.default.S:return"S";case g.default.T:return"T";case g.default.U:return"U";case g.default.V:return"V";case g.default.W:return"W";case g.default.X:return"X";case g.default.Y:return"Y";case g.default.Z:return"Z";case g.default.ZERO:return"0";case g.default.ONE:return"1";case g.default.TWO:return"2";case g.default.THREE:return"3";case g.default.FOUR:return"4";case g.default.FIVE:return"5";case g.default.SIX:return"6";case g.default.SEVEN:return"7";case g.default.EIGHT:return"8";case g.default.NINE:return"9";case g.default.LEFT:return t?h.getString("KeyboardShortcuts.LeftArrow"):"←";case g.default.RIGHT:return t?h.getString("KeyboardShortcuts.RightArrow"):"→";case g.default.UP:return t?h.getString("KeyboardShortcuts.UpArrow"):"↑";case g.default.DOWN:return t?h.getString("KeyboardShortcuts.DownArrow"):"↓";case g.default.TAB:return h.getString("KeyboardShortcuts.TabKey");case g.default.SHIFT:return h.getString("KeyboardShortcuts.ShiftKey");case g.default.ESCAPE:return h.getString("KeyboardShortcuts.EscapeKey");case g.default.DELETE:return h.getString("KeyboardShortcuts.DeleteKey");case g.default.SPACE:return h.getString("KeyboardShortcuts.SpaceKey");case g.default.PAGEUP:return h.getString("KeyboardShortcuts.PageUpKey");case g.default.PAGEDOWN:return h.getString("KeyboardShortcuts.PageDownKey");case g.default.COMMA:return t?h.getString("KeyboardShortcuts.CommaKey"):",";case g.default.PLUS:return t?h.getString("KeyboardShortcuts.PlusKey"):"+";case g.default.MINUS:return t?h.getString("KeyboardShortcuts.MinusKey"):"-";case g.default.BACKSLASH:return"\\";case g.default.FORWARDSLASH:return"/";case g.default.COMMAND:return t||S.default.getPlatformType()!==d.PlatformType.OSX?h.getString("KeyboardShortcuts.CommandKey"):"⌘";case g.default.CONTROL:case g.default.CTRL:return t||S.default.getPlatformType()===d.PlatformType.OSX?h.getString("KeyboardShortcuts.ControlKey"):h.getString("KeyboardShortcuts.ControlKeyShort");case g.default.RETURN:case g.default.ENTER:return S.default.getPlatformType()===d.PlatformType.OSX?h.getString("KeyboardShortcuts.ReturnKey"):h.getString("KeyboardShortcuts.EnterKey");case g.default.ALT:case g.default.OPTION:return S.default.getPlatformType()===d.PlatformType.OSX?h.getString("KeyboardShortcuts.OptionKey"):h.getString("KeyboardShortcuts.AltKey")}}}t.KeyboardShortcuts=C,t.default=new C},927568:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,o){return s.default.ensureConversationLoaded(e).then((()=>{if(!(0,c.default)().isConversationKnown(e))return;const s=[{text:n.getString("InfoPanel.LeaveConfirmationConfirmButtonTitle"),onPress:()=>{d.leaveConversationAsync(e,o),new u.EndAllCallsInConversationCommand(e).execute();const i=n.getString("ConversationsListItem.LeftGroupAccessibilityAnnouncement");r.default.maybeAnnounceForAccessibility(i,500),t()},isSubmit:!0},{text:n.getString("Global.LearnMore"),onPress:l.ConversationUtils.openClearLeaveConversationLearnMore},{text:n.getString("Global.CancelLabel"),isCancel:!0}],p=n.getString("InfoPanel.LeaveConfirmationDialogTitle2"),g=n.getString("InfoPanel.LeaveConfirmationDialogMessage2");a.default.showWithOptions({title:p,dialogAccessibilityTitle:p,message:g,buttons:s,rootViewId:i})}))};const o=i(197582),n=o.__importStar(i(704704)),r=o.__importDefault(i(791384)),a=o.__importDefault(i(206483)),s=o.__importDefault(i(304623)),l=i(535973),c=o.__importDefault(i(615364)),d=o.__importStar(i(172134)),u=i(737298)},435395:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getListItemBackgroundStyle=function(e,t,i){const o=[l.roundStyle];(t||e)&&o.push(n.Styles.createViewStyle({backgroundColor:i.surfacePrimaryAccent},!1));return o},t.getRowPadding=function(e){return e?a.RowPaddingModernize:a.RowPaddingClassic},t.getItemTitleTextStyle=function(e,t,i){const o=[i?l.itemTitleTextBaseMobile:l.itemTitleTextBase];t?o.push(s.default.font.uiDisplayBold):e?o.push(s.default.font.uiDisplaySemibold):o.push(s.default.font.uiDisplayRegular);return o},t.getItemSubtitleTextStyle=function(e){return[e?l.itemSubtitleTextBaseMobile:l.itemSubtitleTextBase]};const o=i(197582),n=o.__importStar(i(516778)),r=i(26703),a=i(154235),s=o.__importDefault(i(20758)),l=(0,r.lazyProperties)({roundStyle:()=>n.Styles.createViewStyle({borderRadius:8,marginHorizontal:8}),itemTitleTextBase:()=>n.Styles.createTextStyle({fontSize:16,lineHeight:22}),itemTitleTextBaseMobile:()=>n.Styles.createTextStyle({fontSize:17,lineHeight:22}),itemSubtitleTextBase:()=>[s.default.font.uiDisplayRegular,n.Styles.createTextStyle({fontSize:14})],itemSubtitleTextBaseMobile:()=>n.Styles.createTextStyle({fontSize:15,lineHeight:20})})},271762:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=o.__importStar(i(516778)),s=i(192478),l=o.__importStar(i(760053)),c=o.__importDefault(i(266311)),d=o.__importDefault(i(676301)),u=i(815146),p=(o.__importStar(i(800662)),o.__importStar(i(85385))),g=i(138742),h=o.__importDefault(i(740794)),m=o.__importStar(i(812822)),S=o.__importStar(i(138742)),_=o.__importDefault(i(942724)),f=o.__importDefault(i(960282)),y=o.__importStar(i(85754)),C=o.__importDefault(i(184457)),v=i(213501),b=i(126033),T=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(588896)))))),P=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(556434)))))),k=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(631337)))))),A=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(351851)))))),I=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(971481)))))),w=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(336970)))))),x=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(840115)))))),N=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(797746)))))),D=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(475264)))))),M=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(584485)))))),L=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(662046)))))),R=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(385676)))))),E=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(425087)))))),B=(0,r.lazy)((()=>Promise.resolve().then((()=>o.__importStar(i(283523))))));class O{constructor(){this._modalIndex=0,this._onLaunchModal=e=>{p.log(u.LogTraceArea.Navigation,"ManagedModalNavigationHelper._onLaunchModal causeId: "+e.causeId);const t=e.modalId||"modal"+this._modalIndex++,a={dialogId:t,isAloneInNavStack:!0};let h=!1;const O={rootViewId:e.rootViewId,useScopedModalId:e.useScopedModalId};let F;if(e.context instanceof m.UnansweredCallNavigationContext){const n=e.context;h=!_.default.isUsingStackNavigationContextNoSubscription(),Promise.resolve().then((()=>o.__importStar(i(123719)))).then((i=>{this._onHandleCloseModal=i.show(n.state.unansweredCallOutput,t,O,e.causeId)}))}else if(e.context instanceof m.CaptureComboNavigationContext)if(e.context.state.allowOfficeLens){const t=e.context.state.onSendFlowComplete,i=e.context.state.capturedContentHandler;if(i){const o=(0,v.getCaptureFor)(v.CaptureScenario.Messaging),n=e.context.state.mediaPickerOnly,r=n?(0,v.checkCameraRollPermissions)().then((()=>null==o?void 0:o.startInPickerMode(i))):(0,v.checkCameraPermissions)().then((()=>null==o?void 0:o.startInCameraMode(i)));null==r||r.then((e=>null==o?void 0:o.handleCapturedContent(i,e).then((()=>{null==o||o.trackCaptureSuccess(n?b.CaptureProviderScenarioTelemetry.Picker:b.CaptureProviderScenarioTelemetry.Camera,e),null==t||t()}))))}}else{const t=e.context.state;Promise.resolve().then((()=>o.__importStar(i(645)))).then((i=>{i.default.show(t,O,(()=>{e.onDismiss&&e.onDismiss(),this._dispatchCloseModalEvent()}))}))}else if(e.context instanceof m.CapturePreviewNavigationContext){const t=e.context;F=(0,n.jsx)(A,Object.assign({localMediaObjectUri:t.state.localMediaObjectUri,localMediaThumbnailUri:t.state.localMediaThumbnailUri,localMediaIsVideo:t.state.localMediaIsVideo,mediaSelection:t.state.mediaSelection,fileSize:t.state.fileSize,mediaHeight:t.state.height,mediaWidth:t.state.width,skipShareWithPanel:t.state.skipShareWithPanel,onCaptureFlowComplete:t.state.onCaptureFlowComplete,conversationId:t.state.conversationId,callId:t.state.callId,markupEnabled:!0,unlockOrientation:t.state.unlockOrientation,performMarkupOnly:t.state.performMarkupOnly,capturedContentHandler:t.state.capturedContentHandler,captureSessionTelemetry:t.state.captureSessionTelemetry,entryPoint:t.state.entryPoint,inlinePreview:t.state.inlinePreview,iconForClose:t.state.iconForClose,onReject:t.state.onReject,fileExtension:t.state.fileExtension},a))}else if(e.context instanceof m.CaptureMultiPreviewNavigationContext){const t=e.context;F=(0,n.jsx)(k,{mediaPreviews:t.state.mediaPreviews,conversationId:t.state.conversationId,onReject:t.state.onReject})}else if(e.context instanceof m.LocationPickerContext)F=(0,n.jsx)(d.default,{children:(0,n.jsx)(x,{route:{params:Object.assign(Object.assign({},a),e.context.state)}})});else if(e.context instanceof m.ScreenShareModalContext){const t=e.context;F=(0,n.jsx)(d.default,{children:(0,n.jsx)(L,{currentScreenSharingSource:t.state.currentScreenSharingSource,currentScreenSharingSourceType:t.state.currentScreenSharingSourceType,isScreenSharingActive:t.state.isScreenSharingActive,onSelectSource:t.state.onSelectSource,onClose:t.state.onClose,initialShareSounds:t.state.shareSounds})})}else if(e.context instanceof m.TogetherModeModalContext){const t=e.context;F=(0,n.jsx)(d.default,{children:(0,n.jsx)(R,{route:{params:Object.assign({onChangeBackground:t.state.onChangeBackground,onStartTogetherMode:t.state.onStartTogetherMode,onClose:t.state.onClose,isAudienceBotInCall:t.state.isAudienceBotInCall,selectedBackground:t.state.selectedBackground},a)}})})}else if(e.context instanceof g.MeetNowJoinLinkPanelNavigationContext){const t=e.context;F=(0,n.jsx)(d.default,{onDismiss:t.state.onDismiss,children:(0,n.jsx)(D,{route:{params:t.state}})})}else if(e.context instanceof m.LocationViewerContext){const t=e.context;F=(0,n.jsx)(d.default,{children:(0,n.jsx)(N,{route:{params:Object.assign(Object.assign({},a),t.state)}})})}else if(e.context instanceof m.DocumentViewerContext)F=(0,n.jsx)(d.default,{children:(0,n.jsx)(w,{route:{params:Object.assign(Object.assign({},a),e.context.state)}})});else if(e.context instanceof m.DesktopCaptureComboViewNavigationContext)F=(0,n.jsx)(d.default,{children:(0,n.jsx)(I,Object.assign({conversationId:e.context.state.conversationId,onShareComplete:e.context.state.onShareComplete},a),"desktopCapturePanel")});else if(e.context instanceof m.AugmentedPermissionsViewNavigationContext){if(void 0===e.permissionType)return void p.error(u.LogTraceArea.Navigation,"AugmentedPermissions event fired without a permission type, no UI shown");h=!_.default.isUsingStackNavigationContextNoSubscription();const n=e.permissionType,r=e.context.state;Promise.resolve().then((()=>o.__importStar(i(328410)))).then((i=>{this._onHandleCloseModal=i.show(t,O,n,e.causeId,r.conversationMri,r.onContinueAfterPermissionsDenied)}))}else if(e.context instanceof m.AndroidCallMonitorPermissionNavigationContext)F=(0,n.jsx)(T,Object.assign({deviceWidth:f.default.getWidthNoSubscription(O.rootViewId)},a));else if(e.context instanceof m.CQFNavigationContext){const t=e.context.state.callInfo,i=e.context.state;h=!_.default.isUsingStackNavigationContextNoSubscription(),F=(0,n.jsx)(P,Object.assign({callId:t.callId,conversationMri:t.conversationMri,endpointId:i.endpointId,nodeId:i.nodeId,participantId:i.participantId,pstnCdrId:i.pstnCdrId,problemSections:l.problemSections(t.callId,i.includedVideo),maxConnectedParticipants:i.maxConnectedParticipants},a))}else if(e.context instanceof C.default.NavigationContext.ScheduleNextCallNavigationContext){const t=e.context.state.callEndedInfo;F=(0,n.jsx)(M,Object.assign({conversationMri:t.conversationMri,callDuration:t.durationSeconds},a))}else if(e.context instanceof m.CallPreviewNavigationContext){const t=e.context.state;Promise.resolve().then((()=>o.__importStar(i(135806)))).then((e=>e.maybePresentCallPreviewPanel(Object.assign({},t),O)))}else e.context instanceof m.RinglessCallInterstitialNavigationContext?y.maybePresentRinglessCallInterstitial(Object.assign({},e.context.state),O):e.context instanceof S.MobileMeetingAvatarPickerNavigationContext?F=(0,n.jsx)(E,{route:{params:Object.assign(Object.assign({},a),e.context.state)}}):e.context instanceof m.SkypeClipsRecorderNavigationContext&&(F=(0,n.jsx)(d.default,{children:(0,n.jsx)(B,{route:{params:Object.assign(Object.assign({},a),e.context.state)}})}));F&&c.default.showModal((0,n.jsx)(r.Suspense,{fallback:null,children:(0,n.jsx)(s.BaseNavigationWrapper,{isPresentedInManagedModal:!0,isPresentedInDesktopSubview:h,goBack:i=>(p.log(u.LogTraceArea.Navigation,"ModalNavigationHelper._goBack causeId: "+i),c.default.dismissModal(t,e.rootViewId),this._dispatchCloseModalEvent(),!0),children:F})}),t,O)},this._onCloseModal=e=>{p.log(u.LogTraceArea.Navigation,"ManagedModalNavigationHelper._onCloseModal"),this._onHandleCloseModal?this._onHandleCloseModal(e.modalId):e.modalId?c.default.dismissModal(e.modalId,e.rootViewId,e.useScopedModalId):a.Modal.dismissAll(),this._dispatchCloseModalEvent()},p.log(u.LogTraceArea.Navigation,"ManagedModalNavigationHelper constructor"),h.default.launchModalEvent.subscribe(this._onLaunchModal),h.default.closeModalEvent.subscribe(this._onCloseModal)}static open(){p.log(u.LogTraceArea.Navigation,"ManagedModalNavigationHelper.open"),this._modalNavigationHelper||(this._modalNavigationHelper=new O)}static close(){p.log(u.LogTraceArea.Navigation,"ManagedModalNavigationHelper.close"),this._modalNavigationHelper&&(this._modalNavigationHelper._close(),this._modalNavigationHelper=void 0)}_close(){p.log(u.LogTraceArea.Navigation,"ManagedModalNavigationHelper._close"),this._launchModalToken&&(this._launchModalToken.unsubscribe(),this._launchModalToken=void 0),this._closeModalToken&&(this._closeModalToken.unsubscribe(),this._closeModalToken=void 0)}_dispatchCloseModalEvent(){0}}t.default=O},459778:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=(o.__importStar(i(516778)),o.__importDefault(i(852789))),a=o.__importDefault(i(206483)),s=o.__importDefault(i(150343)),l=o.__importStar(i(172134)),c=o.__importStar(i(44717)),d=o.__importDefault(i(574489)),u=o.__importDefault(i(710427)),p=o.__importDefault(i(615364)),g=o.__importStar(i(85385)),h=o.__importStar(i(704704)),m=o.__importDefault(i(201721)),S=o.__importDefault(i(341994)),_=o.__importDefault(i(740794)),f=o.__importStar(i(812822)),y=o.__importDefault(i(942724)),C=i(670873),v=i(773151),b=i(490003),T=o.__importStar(i(888500)),P=(o.__importDefault(i(601274)),i(491839)),k=i(815146),A=i(641400),I=i(601505),w=i(605804),x="archived",N="time",D="unread",M="active",L="compactToggle",R="markAllRead",E="markAllNotificationsRead",B="showCategoriesToggle";class O{static showOptionsMenu(e,t,i){const o=O.getMenuItems(void 0);this._intShowMenu(o,void 0,e,t,i)}static showDesktopTabOptionsMenu(e,t,i,o){const n=O._getTabMenuItems(e);this._intShowMenu(n,e,t,i,o)}static showAllConversations(){u.default.setConversationsListMode(P.ConversationsListMode.AllConversations),this._sendEvent(C.RecentConversationsFilterAction.ShowAllConversations)}static showArchivedConversations(){y.default.isUsingStackNavigationContextNoSubscription()?_.default.navigateToMobileArchivedConversationsPanel():u.default.setConversationsListMode(P.ConversationsListMode.ArchivedConversations),this._sendEvent(C.RecentConversationsFilterAction.ShowArchivedConversations)}static sortByTime(){m.default.setUserPreferencesLocal({recentsSortedBy:v.RecentsSortBy.Time}),(0,p.default)().resortRecentConversations(),this._sendEvent(C.RecentConversationsFilterAction.SortByTime)}static sortByUnread(){m.default.setUserPreferencesLocal({recentsSortedBy:v.RecentsSortBy.Unread}),(0,p.default)().resortRecentConversations(),this._sendEvent(C.RecentConversationsFilterAction.SortByUnread)}static sortByActive(){m.default.setUserPreferencesLocal({recentsSortedBy:v.RecentsSortBy.Active}),(0,p.default)().resortRecentConversations(),this._sendEvent(C.RecentConversationsFilterAction.SortByActive)}static setRowSizeToDefault(){const e={recentsRowSize:v.RowSize.Default};s.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences&&S.default.setUserAppearancePreferencesForCurrentPlatform(e),m.default.setUserPreferencesLocal(e),this._sendEvent(C.RecentConversationsFilterAction.RowSizeDefault)}static setRowSizeToCompact(e){const t=e?v.RowSize.Compact:v.RowSize.ExtraCompact;s.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences&&S.default.setUserAppearancePreferencesForCurrentPlatform({recentsRowSize:t}),m.default.setUserPreferencesLocal({recentsRowSize:t}),this._sendEvent(C.RecentConversationsFilterAction.RowSizeCompact)}static recentRowSizeAndChanges(){return this._getRecentsRowSize()||v.RowSize.Default}static nonRecentRowSizeAndChanges(){return this.recentRowSizeAndChanges()}static shouldUseExtraCompactLayoutAndChanges(){return this.recentRowSizeAndChanges()===v.RowSize.ExtraCompact}static useAnyCompactLayoutAndChanges(){return this.recentRowSizeAndChanges()===v.RowSize.Compact||this.recentRowSizeAndChanges()===v.RowSize.ExtraCompact}static showCategories(){m.default.setUserPreferencesLocal({recentsShowCategories:!0}),(0,p.default)().resortRecentConversations(),this._sendEvent(C.RecentConversationsFilterAction.ShowCategories)}static hideCategories(){m.default.setUserPreferencesLocal({recentsShowCategories:!1}),(0,p.default)().resortRecentConversations(),this._sendEvent(C.RecentConversationsFilterAction.HideCategories)}static markAllConversationsRead(){O._markAllRead(!1),this._sendEvent(C.RecentConversationsFilterAction.MarkAllConversationsRead)}static _getRecentsRowSize(){const e=s.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences,t=m.default.getUserPreferencesLocal(),i=e?S.default.getUserAppearancePreferencesForCurrentPlatform():{};return i&&i.recentsRowSize?i.recentsRowSize:t.recentsRowSize}static _getRecentsRowSizeNoSubscription(){const e=s.default.getS4LNativePlatformsEcsConfigNoSubscription().enableRemoteClientAppearancePreferences,t=m.default.getUserPreferencesLocalNoSubscription(),i=e?S.default.getUserAppearancePreferencesForCurrentPlatformNoSubscription():{};return i&&i.recentsRowSize?i.recentsRowSize:t.recentsRowSize}static _intShowMenu(e,t,i,o,r){if(e.length>0){const a={anchor:i||(()=>{}),buttons:e,title:n.isUndefined(t)?h.getString("MobileRecentsFilter.ManageChats"):void 0};T.default.showWithActionMenuConfig({options:a,callback:e=>this.onHandleMenuCommand(e,o,i),maintainAnchor:!0,rootViewId:o,invokingEvent:r})}}static _sendEvent(e){g.track(new C.RecentConversationsFilterEvent(e))}static _markAllRead(e){const t=n.keys(d.default.getConversationsWithUnreadCounts());n.each(t,(t=>{const i=t;c.isHighlightsThread(i)===e&&l.markConversationRead(i)}))}static getMenuItems(e,t){const i=[],o=n.isUndefined(e);if((0,p.default)().getArchivedConversations().length>0&&i.push({text:h.getString("MobileRecentsFilter.HiddenChats"),command:x,icon:t?A.SkypeIcon.EyeOff:void 0,category:k.ItemCommandActionCategory.Main}),o&&(i.push({text:h.getString("MobileRecentsFilter.Recent"),command:N,icon:t?A.SkypeIcon.ArrowSortDownLines:void 0,category:k.ItemCommandActionCategory.Main}),i.push({text:h.getString("MobileRecentsFilter.Unread"),command:D,icon:t?A.SkypeIcon.ArrowSortDownLines:void 0,category:k.ItemCommandActionCategory.Main}),i.push({text:h.getString("MobileRecentsFilter.Active"),command:M,icon:t?A.SkypeIcon.ArrowSortDownLines:void 0,category:k.ItemCommandActionCategory.Main})),o||e===f.HubTab.Recents){const e=n.keys(d.default.getConversationsWithUnreadCounts());n.filter(e,(e=>!c.isHighlightsThread(e))).length>0&&i.push({text:h.getString("MobileRecentsFilter.MarkRead"),command:R,icon:t?A.SkypeIcon.Glasses:void 0,category:k.ItemCommandActionCategory.Secondary});const o=O.shouldShowCategories(),r=o?"DesktopRecentsFilter.HideFavorites":"DesktopRecentsFilter.ShowFavorites",a=o?A.SkypeIcon.StarOff:A.SkypeIcon.Star;i.push({text:h.getString(r),command:B,icon:t?a:void 0,category:k.ItemCommandActionCategory.Secondary})}if(e===f.HubTab.Notifications&&r.default.hasUnreadAlerts(!0)&&i.push({text:h.getString("MobileRecentsFilter.MarkRead"),command:E,icon:t?A.SkypeIcon.Glasses:void 0,category:k.ItemCommandActionCategory.Secondary}),o){let e,o;const n=this._getRecentsRowSizeNoSubscription();n===v.RowSize.Compact||n===v.RowSize.ExtraCompact?(e=h.getString("MobileRecentsFilter.DisableCompactLayout"),o=A.SkypeIcon.Maximize):(e=h.getString("MobileRecentsFilter.EnableCompactLayout"),o=A.SkypeIcon.Minimize),i.push({text:e,command:L,icon:t?o:void 0,category:k.ItemCommandActionCategory.Secondary})}return i}static _getTabMenuItems(e){const t=[];if(e===f.HubTab.Recents){const e=n.keys(d.default.getConversationsWithUnreadCounts());n.filter(e,(e=>!c.isHighlightsThread(e))).length>0&&t.push({text:h.getString("MobileRecentsFilter.MarkRead"),command:R})}return e===f.HubTab.Notifications&&r.default.hasUnreadAlerts(!0)&&t.push({text:h.getString("MobileRecentsFilter.MarkRead"),command:E}),t}static _getMenuItemAnnouncement(e){switch(e){case x:return h.getString("MobileRecentsFilter.HiddenChats");case N:return h.getString("MobileRecentsFilter.Recent");case D:return h.getString("MobileRecentsFilter.Unread");case M:return h.getString("MobileRecentsFilter.Active");case L:return h.getString("MobileRecentsFilter.CompactToggle");case R:case E:return h.getString("MobileRecentsFilter.MarkRead");case B:return O.shouldShowCategories()?"DesktopRecentsFilter.HideFavorites":"DesktopRecentsFilter.ShowFavorites"}}static showMarkAllReadConfirmationDialog(e){const t=[{text:h.getString("Global.CancelLabel"),isCancel:!0},{text:h.getString("MarkConversationsReadConfirmationDialog.MarkReadButtonTitle"),isSubmit:!0,onPress:()=>{O.markAllConversationsRead(),(0,I.handleReadAll)(w.ContentChannelTelemetryOrigin.RecentsFilter)}}],i=h.getString("MarkConversationsReadConfirmationDialog.DialogTitle"),o=h.getString("MarkConversationsReadConfirmationDialog.MarkReadDialogContent");a.default.showWithOptions({title:i,dialogAccessibilityTitle:o,message:o,buttons:t,rootViewId:e})}static test_getRecentsRowSize(){return this._getRecentsRowSize()}static test_getRecentsRowSizeNoSubscription(){return this._getRecentsRowSizeNoSubscription()}}O.shouldShowCategories=()=>{const e=m.default.getUserPreferencesLocal().recentsShowCategories;return void 0===e||e},O.onHandleMenuCommand=(e,t,i)=>{const o=void 0;switch(e){case x:O.showArchivedConversations();break;case N:O.sortByTime();break;case D:O.sortByUnread();break;case M:O.sortByActive();break;case L:const e=new b.RemoteUserAppearanceTelemetryEvent;e.setDidUpdateRecentsRowSize(),g.track(e);const i=O._getRecentsRowSizeNoSubscription();i===v.RowSize.Compact||i===v.RowSize.ExtraCompact?O.setRowSizeToDefault():O.setRowSizeToCompact();break;case R:O.showMarkAllReadConfirmationDialog(t);break;case E:r.default.markAllAsRead();break;case B:O.shouldShowCategories()?O.hideCategories():O.showCategories();case T.SXActionMenuCancel:}},t.default=O},513835:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useRootTouchEvents=t.RootTouchEventsHelper=t.TouchEventType=void 0;const o=i(667294);var n;!function(e){e[e.TouchStart=0]="TouchStart"}(n||(t.TouchEventType=n={}));const r={[n.TouchStart]:new Set};class a{}t.RootTouchEventsHelper=a,a.handleTouchStart=e=>{r[n.TouchStart].forEach((t=>t(e)))};t.useRootTouchEvents=(e,t)=>{(0,o.useEffect)((()=>(r[e].add(t),()=>{r[e].delete(t)})),[t,e])}},981565:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(970035)),s=i(26703),l=o.__importDefault(i(760989)),c=i(815146),d=i(641400),u=(0,s.lazyProperties)({searchAccessoryIcon:()=>r.Styles.createViewStyle({height:40,width:40,borderRadius:20,padding:10}),searchAccessoryIconCompact:()=>r.Styles.createViewStyle({height:24,width:24,borderRadius:12,padding:4})});t.default=new class{searchAccessoryIcon(e,t,i){return(0,n.jsx)(a.default,{icon:e,color:t.primaryIconColor,size:i?d.IconSize.size16:d.IconSize.size20,style:i?u.searchAccessoryIconCompact:u.searchAccessoryIcon})}canModernizeSearchResultsMobile(e,t){switch(e){case c.SearchResultsListOrigin.QuickCallPanel:return!!t;case c.SearchResultsListOrigin.ContactsPanel:case c.SearchResultsListOrigin.ContactsPanelV2:case c.SearchResultsListOrigin.CallsTabPanel:case c.SearchResultsListOrigin.PhoneTabPanel:case c.SearchResultsListOrigin.ContentChannels:case c.SearchResultsListOrigin.SayHiPopup:return!0;case c.SearchResultsListOrigin.SearchPanel:case c.SearchResultsListOrigin.AddContact:case c.SearchResultsListOrigin.SendCreditSearchPeople:case c.SearchResultsListOrigin.QuickCallPanelModal:case c.SearchResultsListOrigin.AddingParticipantsToGroup:case c.SearchResultsListOrigin.ActiveNowPanel:case c.SearchResultsListOrigin.DiscoverPanel:case c.SearchResultsListOrigin.FindBots:case c.SearchResultsListOrigin.MoreContactsPanel:case c.SearchResultsListOrigin.NewChat:case c.SearchResultsListOrigin.NewGroup:case c.SearchResultsListOrigin.NewPrivateChat:case c.SearchResultsListOrigin.ShareWithPanel:case c.SearchResultsListOrigin.SuperComposer:case c.SearchResultsListOrigin.NewCellularSmsConversation:case c.SearchResultsListOrigin.ListSearchPickerPanel:return!1;default:l.default.switchStatementExhaustiveChecking(e)}}canModernizeSearchResultsList(e){switch(e){case c.SearchResultsListOrigin.QuickCallPanel:case c.SearchResultsListOrigin.ContactsPanel:case c.SearchResultsListOrigin.ContactsPanelV2:case c.SearchResultsListOrigin.SearchPanel:case c.SearchResultsListOrigin.CallsTabPanel:case c.SearchResultsListOrigin.PhoneTabPanel:case c.SearchResultsListOrigin.ContentChannels:case c.SearchResultsListOrigin.SayHiPopup:return!0;case c.SearchResultsListOrigin.AddContact:case c.SearchResultsListOrigin.SendCreditSearchPeople:case c.SearchResultsListOrigin.QuickCallPanelModal:case c.SearchResultsListOrigin.AddingParticipantsToGroup:case c.SearchResultsListOrigin.ActiveNowPanel:case c.SearchResultsListOrigin.DiscoverPanel:case c.SearchResultsListOrigin.FindBots:case c.SearchResultsListOrigin.MoreContactsPanel:case c.SearchResultsListOrigin.NewChat:case c.SearchResultsListOrigin.NewGroup:case c.SearchResultsListOrigin.NewPrivateChat:case c.SearchResultsListOrigin.ShareWithPanel:case c.SearchResultsListOrigin.SuperComposer:case c.SearchResultsListOrigin.NewCellularSmsConversation:case c.SearchResultsListOrigin.ListSearchPickerPanel:return!1;default:l.default.switchStatementExhaustiveChecking(e)}}}},618571:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.navigateToConversation=function(e,t,i,o,n){if(!e)return;u.isGroupConversation(e)?B(u.asSkypeThreadId(e),t,i,o,n):R(e,t,i,o)},t.navigateTo1on1Conversation=R,t.navigateGuestToMeetNow=E,t.navigateToGroupConversation=B,t.navigateToMeetNowCreateFlow=function(e){const t=N.default.getPartnerParametersFromUri(e);_.track(new b.MeetNowDeeplinkProcessedEvent(t)),j()?t.convId?E(t):F(e):x.MeetNowHelpers.showNewMeetNow(v.MeetNowOrigin.CampaignDeeplink,t)},t.navigateToMeetNowJoinFlow=function(e){const t=P.default.isUserLoggedIn(),i=j(),o=N.default.getPartnerParametersFromUri(e);if(i&&o.convId)_.track(new b.MeetNowDeeplinkProcessedEvent(o)),E(o);else{const n=t=>{O(e,t)},r=()=>{F(e)};i||_.track(new b.MeetNowDeeplinkProcessedEvent(o)),D.default.navigateToMeetNowJoinLinkPanel(t,o,i?n:void 0,i?r:void 0)}},t.reloadAndJoinConversation=O;const o=i(197582),n=o.__importStar(i(397691)),r=o.__importDefault(i(150343)),a=o.__importDefault(i(859545)),s=o.__importDefault(i(404547)),l=o.__importDefault(i(304623)),c=i(627414),d=o.__importDefault(i(556587)),u=o.__importStar(i(44717)),p=i(154235),g=o.__importDefault(i(555436)),h=o.__importDefault(i(615364)),m=i(815146),S=i(384608),_=o.__importStar(i(85385)),f=o.__importDefault(i(505248)),y=o.__importDefault(i(362463)),C=o.__importDefault(i(855191)),v=i(966666),b=i(190697),T=o.__importDefault(i(455907)),P=o.__importDefault(i(363091)),k=o.__importDefault(i(740794)),A=o.__importStar(i(446574)),I=o.__importDefault(i(760989)),w=i(444887),x=i(85755),N=o.__importDefault(i(873245)),D=o.__importDefault(i(375809)),M=o.__importDefault(i(601976)),L=i(444314);function R(e,t,i,o){const n=I.default.newCauseId();if(_.log(m.LogTraceArea.Navigation,"UrlConverter._navigateTo1on1Conversation, causeId: "+n),!e||!u.isValidNamespaceMri(e)||P.default.isMyMri(e))return;const r=(0,h.default)(),a=r.getConversation(e),s=r.ableToViewConversation(e)&&a&&!a.isDeleted();!u.isAgent(e)||g.default.isContact(e)&&s?l.default.ensureConversationLoadedOrFaked(e).then((()=>{k.default.navigateToConversation({convId:e,origin:t,browserOrigin:i,causeId:n,inviteLinkScenario:o})})):k.default.showDetailsPanelWithParams({mri:e,rootViewId:p.MainRootViewId,causeId:n})}function E(e){const t=e.convId;if(!t)return;const i=I.default.newCauseId();_.log(m.LogTraceArea.Navigation,"UrlConverter._navigateGuestToMeetNow, causeId: "+i),V(t),e.call?f.default.navigateToMeetNowCall(e,i):D.default.navigateToMeetNowLobby(p.MainRootViewId,e),function(e,t,i){d.default.waitForConversationListSyncToFinish().then((()=>{const o=(0,h.default)();if(!o.ableToViewConversation(e)){_.warn(m.LogTraceArea.Navigation,`UrlConverter._guestNavigateToMeetNowPanel: guest user is not part of the conversation causeId: ${t}`),C.default.redirectToLogout(m.LogoutReason.GuestSessionEnded);const n=o.getConversation(e),r=(0,w.getMeetNowErrorFromConversation)(n);_.track(new b.MeetNowErrorEvent(i,r))}}))}(t,i,e)}function B(e,t,i,o,d){if(!e||!u.isValidNamespaceMri(e))return;const g=I.default.newCauseId(),f=(0,h.default)(),T={convId:e,origin:t,causeId:g,browserOrigin:i,scenario:o,options:d};_.log(m.LogTraceArea.Navigation,"UrlConverter._navigateToGroupConversation, causeId: "+g),f.ableToViewConversation(e)?U(Object.assign(Object.assign({},T),{existingMember:!0})):(x.MeetNowHelpers.showMeetNowFullScreenLoadingDialog(p.MainRootViewId),function(e,t,i,o){return new Promise(((n,r)=>{A.EnsureStarted([s.default]).then((()=>(o&&o.markStepCompleted("AddMemberToThread"),s.default.serviceAddMemberToThread(e,P.default.getSkypeMri(),c.AddMemberToThreadSource.JoiningConversation,!1)))).then((()=>n())).catch((o=>{y.default.trackAddMemberToThreadError(e,o,t,i),a.default.navigation().canAccessRecentsList||C.default.redirectToLogout(m.LogoutReason.GuestSessionEnded),r(Object.assign(Object.assign({},o),{meetNowError:v.MeetNowError.CannotAddUserToTheThread}))}))}))}(e,t,i,o).then((()=>(V(e),function(e,t,i){return new Promise(((o,a)=>{const s=r.default.getS4LCMCFeaturesNoSubscription().waitJoinKnowledgeTimeoutMs;n.raceTimer(l.default.waitForJoinedKnowledgeOfRealConversation(e),s).then((n=>{n.timedOut?(y.default.trackWaitForJoinedKnowledgeTimedOut(s,e,t,i),a({meetNowError:v.MeetNowError.WaitForConversationKnownTimedOut})):o()})).catch((()=>{a({meetNowError:v.MeetNowError.WaitForJoinedKnowledgeFailed})}))}))}(e,t,i).then((()=>f.ableToViewConversation(e)?U(Object.assign(Object.assign({},T),{existingMember:!1})):n.Rejected({meetNowError:v.MeetNowError.UserUnableToViewConversation})))))).catch((n=>{const r=f.getConversation(e),a=n.meetNowError===v.MeetNowError.WaitForConversationKnownTimedOut;let s;if(_.warn(m.LogTraceArea.Navigation,`UrlConverter._navigateToGroupConversation failed: MeetNowError: ${n.meetNowError} is conversation defined: ${!!r} timeout: ${a} isBlocked: ${f.isConversationBlocked(r)} causeId: ${g} `),d){const e=n.meetNowError||(0,w.getMeetNowErrorFromConversation)(r);_.track(new b.MeetNowErrorEvent(d,e,(null==n?void 0:n.errorCode)||(null==n?void 0:n.statusCode)))}a&&(s=()=>B(e,t,i,o,d)),(0,w.showJoinConversationFailedAlert)(Object.assign(Object.assign({},n),{retryAction:s}))})).finally((()=>{S.FullScreenLoadingDialog.dismiss(S.getFullScreenLoadingDialog,p.MainRootViewId)})))}function O(e,t){_.track(new b.MeetNowRepeatedGuestLoginEvent(N.default.getPartnerParametersFromUri(e))),C.default.redirectToLogout(m.LogoutReason.GuestSessionEnded).then((()=>{L.LocalStorage.setItem(L.StorageKeys.StartupUrl,JSON.stringify(H(e+"&threadId="+t)))}))}function F(e){_.track(new b.MeetNowRepeatedGuestLoginEvent(N.default.getPartnerParametersFromUri(e))),C.default.redirectToLogout(m.LogoutReason.GuestSessionEnded).then((()=>{L.LocalStorage.setItem(L.StorageKeys.StartupUrl,JSON.stringify(H(e)))}))}function V(e){A.EnsureStarted([d.default]).then((()=>{d.default.prioritizeMeetNowThreadDetails(e)}))}function U(e){const{convId:t,existingMember:i,origin:o,causeId:n,browserOrigin:r,scenario:a,options:s}=e,l=(null==s?void 0:s.env)===v.MeetNowSource.EdgeWorkspace;return(null==s?void 0:s.chat)?k.default.navigateToConversation({convId:t,causeId:n,origin:m.NavigationConversationOrigin.EdgeWorkspace,hideBackButton:l}):(T.default.trackUserIsConversationParticipant(t),f.default.navigateToGroupConversationAndJoinCall(t,i,o,n,r,a,s))}function j(){return u.isGuestUserMri(P.default.getSkypeMri())}function H(e){const t=M.default.getDisplayName(P.default.getSkypeMri());return e+(t&&!t.startsWith(u.GuestUserMriPrefix)?`&name=${t}`:"")}},444887:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showJoinConversationFailedAlert=function(e){const t=a.getString("UrlConverter.JoinConversationFailedTitle");let i=a.getString("UrlConverter.JoinConversationFailedGenericMessage");const o=[{text:a.getString("Global.OkLabel"),isSubmit:!0}];if(e)if(void 0!==e.statusCode)switch(e.statusCode){case 403:i=a.getString("UrlConverter.JoinConversationFailedJoinDisabledMessage");break;case 404:i=a.getString("UrlConverter.JoinConversationFailedThreadNotFoundMessage");break;case 412:i=a.getString("UrlConverter.JoinConversationFailedTooManyMembersMessage")}else e.retryAction&&o.unshift({text:a.getString("ConfirmationDialog.RetryLabel"),onPress:e.retryAction});n.default.showWithOptions({title:t,message:i,dialogAccessibilityTitle:i,rootViewId:r.MainRootViewId,buttons:o})},t.getMeetNowErrorFromConversation=function(e){let t=s.MeetNowError.Unknown;e?e.isCurrentUserMember()?(0,l.default)().isConversationBlocked(e)&&(t=s.MeetNowError.ConversationIsBlocked):t=s.MeetNowError.UserIsNotAMember:t=s.MeetNowError.ConversationIsUndefined;return t};const o=i(197582),n=o.__importDefault(i(206483)),r=i(154235),a=o.__importStar(i(704704)),s=i(44557),l=o.__importDefault(i(615364))},641280:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getConfigConfirmationDialog=function(e,t){const i=n.find(e,(e=>e.Name===a.AttributeNames.PersonalContactProfilePhones));if(n.isEmpty(null==i?void 0:i.Value)||!i)return{dialogConfigs:{dialogTitle:s.getString("UrlConverter.EnablePhoneDiscoverableNoPhoneTitle"),dialogContentText:s.getString("UrlConverter.EnablePhoneDiscoverableNoPhoneContentText"),confirmButtonText:s.getString("UrlConverter.EnablePhoneDiscoverableNoPhoneButtonText")},actionAfterConfirmation:()=>{l.track(new c.PhoneDiscoverabilityEvent({origin:d.PhoneDiscoverabilityOrigin.DeepLink,userPhonesCount:0,command:c.PhoneDiscoverabilityDialogCommand.Confirm})),u.default.navigateToSettingsGroup(p.SettingsGroup.Contacts,t)},actionAfterCancel:()=>{S(!1)},onClickOutside:()=>{S(!0)}};if(i.Value.length>1)return{dialogConfigs:{dialogTitle:s.getString("UrlConverter.EnablePhoneDiscoverableManyPhonesTitle"),dialogContentText:s.getString("UrlConverter.EnablePhoneDiscoverableManyPhonesContentText"),confirmButtonText:s.getString("UrlConverter.EnablePhoneDiscoverableManyPhonesButtonText")},actionAfterConfirmation:()=>{l.track(new c.PhoneDiscoverabilityEvent({origin:d.PhoneDiscoverabilityOrigin.DeepLink,userPhonesCount:null==i?void 0:i.Value.length,command:c.PhoneDiscoverabilityDialogCommand.Confirm})),u.default.navigateToSettingsGroup(p.SettingsGroup.Contacts,t)},actionAfterCancel:()=>{S(!1,i)},onClickOutside:()=>{S(!0,i)}};{const e=i.Value[0],t=g.default.getPhonePartsFromViewValue(e);return{dialogConfigs:{dialogTitle:s.getString("UrlConverter.EnablePhoneDiscoverableOnePhoneTitle"),dialogContentText:s.getString("UrlConverter.EnablePhoneDiscoverableOnePhoneContentText",{phoneNumber:t.Number}),confirmButtonText:s.getString("UrlConverter.EnablePhoneDiscoverableOnePhoneButtonText")},actionAfterConfirmation:()=>{l.track(new c.PhoneDiscoverabilityEvent({origin:d.PhoneDiscoverabilityOrigin.DeepLink,userPhonesCount:null==i?void 0:i.Value.length,command:c.PhoneDiscoverabilityDialogCommand.Confirm})),h.default.showPhoneNumberInSearch(t,null==e?void 0:e.Source).then((()=>{l.track(new d.PhoneNumberDiscoverabilityPrivacyEvent(!0,d.PhoneDiscoverabilityOrigin.DeepLink))})).catch((e=>{l.track(new d.PhoneNumberDiscoverabilityPrivacyEvent(void 0,d.PhoneDiscoverabilityOrigin.DeepLink,{errorStatusCode:null==e?void 0:e.code,errorMessage:m.default.errorAsString(e)})),l.log(r.LogTraceArea.ManageSearchInfo,"Service error while trying to enable phone number for discoverability. Error: "+m.default.errorAsString(e))}))},actionAfterCancel:()=>{S(!1,i)},onClickOutside:()=>{S(!0,i)}}}};const o=i(197582),n=o.__importStar(i(496486)),r=i(167606),a=i(932382),s=o.__importStar(i(704704)),l=o.__importStar(i(85385)),c=i(56595),d=i(342561),u=o.__importDefault(i(740794)),p=o.__importStar(i(812822)),g=o.__importDefault(i(956324)),h=o.__importDefault(i(218905)),m=o.__importDefault(i(655192));function S(e,t){const i=e?c.PhoneDiscoverabilityDialogCommand.RejectOutside:c.PhoneDiscoverabilityDialogCommand.Reject;l.track(new c.PhoneDiscoverabilityEvent({origin:d.PhoneDiscoverabilityOrigin.DeepLink,userPhonesCount:null==t?void 0:t.Value.length,command:i}))}},84395:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleActionPayload=function(e,t,i,o,ie,ne=!1,re,ce,Ae,Ie){var we,xe,Ne;const De=t.queryParameterKeyValues;if(void 0===De)return r.Resolved(void 0);const Me=De.action;Ie&&(0,Se.startTrackingSource)(Ie,_e.StartupOrigin.DeepLink,`action ${Me}`);if((ne||function(e){switch(e){case l.BrowserOrigin.AuthActionLink:case l.BrowserOrigin.AudioVideoSettings:case l.BrowserOrigin.LinkNode:case l.BrowserOrigin.BotSettings:case l.BrowserOrigin.ConsentModal:case l.BrowserOrigin.SuggestionsLearnMore:case l.BrowserOrigin.NotebookLink:case l.BrowserOrigin.DeepLinkRequest:case l.BrowserOrigin.SyncAddressBookDialogPrivacyStatement:case l.BrowserOrigin.SwiftActionView:case l.BrowserOrigin.LinkerUtil:case l.BrowserOrigin.AdaptiveCard:case l.BrowserOrigin.ConnectorProfile:case l.BrowserOrigin.CreditExpiration:case l.BrowserOrigin.SuggestionsConsentLearnMore:case l.BrowserOrigin.ReadReceiptsSettingsDescription:case l.BrowserOrigin.NetworkConnectionAlert:case l.BrowserOrigin.FileSharingLimits:case l.BrowserOrigin.PrivacyProfile:case l.BrowserOrigin.PeopleYouMayKnowNoticeDialog:case l.BrowserOrigin.SubscriptionDataSection:case l.BrowserOrigin.MeProfile:case l.BrowserOrigin.MeControl:case l.BrowserOrigin.HotkeysSettingsDescription:case l.BrowserOrigin.GuestUpsellPanel:case l.BrowserOrigin.TelemetryConsentSettingsDescription:case l.BrowserOrigin.TelemetryConsentDialog:return!0;case l.BrowserOrigin.AddinMenu:case l.BrowserOrigin.CloseAccount:case l.BrowserOrigin.EngagementNotice:case l.BrowserOrigin.FindPanel:case l.BrowserOrigin.JoinLink:case l.BrowserOrigin.LocationNode:case l.BrowserOrigin.Plugins:case l.BrowserOrigin.PopCard:case l.BrowserOrigin.SearchSuggestionsSettings:case l.BrowserOrigin.SwiftQuickReplyView:case l.BrowserOrigin.TPUMRequest:case l.BrowserOrigin.WebLauncher:case l.BrowserOrigin.UserProfileOnboarding:case l.BrowserOrigin.CallPanel:case l.BrowserOrigin.EmptyStateCTA:case l.BrowserOrigin.PurchaseRedirect:case l.BrowserOrigin.AgeGroupRestrictions:case l.BrowserOrigin.BingBackgroundReplaceImage:case l.BrowserOrigin.AttributionNode:case l.BrowserOrigin.TodayTabNewsArticle:case l.BrowserOrigin.NewsChannel:case l.BrowserOrigin.NewsBot:case l.BrowserOrigin.DeepLinkNode:case l.BrowserOrigin.SearchInConversation:case l.BrowserOrigin.NativeAd:case void 0:return!1;default:m.default.switchStatementExhaustiveChecking(e,"Unknown browserOrigin")}}(re))&&!n.includes(ve,Me))return r.Resolved(void 0);let Le=n.noop,Re=u.Intent.Other;switch(Me){case ue.DeepLink.ChannelsTab:case ue.DeepLink.Store:case ue.DeepLink.Manage:Le=()=>(0,pe.handleDeepLink)(o,Me);break;case ge.DeepLink.MagicBotWelcome:case ge.DeepLink.MagicBotConsent:case ge.DeepLink.MagicBotConsentNav:case ge.DeepLink.MagicBotConsentUnblock:case ge.DeepLink.MagicBotConsentToneRewrite:case ge.DeepLink.MagicBotConsentImageGeneration:case ge.DeepLink.MagicBotImageGeneration:case ge.DeepLink.MagicBotToolbox:Le=()=>(0,he.handleDeepLinks)(o,Me,ce,De.prompt);break;case"changeprofilevisibility":Le=()=>p.default.navigateToProfilePicturePanel(o);break;case"settings":Le=()=>p.default.navigateToMyProfile(o,l.ProfileOpenOrigin.DeepLink);break;case"openapp":Le=()=>p.default.navigateToDesktopRecents(ie),Te(t);break;case"generalsettings":Le=()=>p.default.navigateToSettingsGroup(g.SettingsGroup.General,o),Te(t);break;case"privacysettings":Le=()=>p.default.navigateToSettingsGroup(g.SettingsGroup.Privacy,c.MainRootViewId);break;case"avsettings":Le=function(e,t){return h.UICapabilities.avSettingsSupported()?(Te(e),()=>p.default.navigateToRootDesktopSettingsGroup(g.SettingsGroup.AudioVideoSettings,t,m.default.newCauseId())):n.noop}(t,o);break;case"notificationssettings":Le=()=>p.default.navigateToSettingsGroup(g.SettingsGroup.Notifications,o);break;case"messagingsettings":Le=()=>p.default.navigateToSettingsGroup(g.SettingsGroup.Chat,o);break;case"languagesettings":const r=t.queryParameterKeyValues.lang;if(r&&S.isLocaleSupported(r)){const e=S.getStringUnsafe(`SettingsLanguages.${r}`);_.default.showConfirmationAlert(S.getString("LanguagePickerAlert.ConfirmationTitle"),S.getString("LanguagePickerAlert.ConfirmationMessage",{language:e}),S.getString("LanguagePickerAlert.ConfirmationButton"),f.setLocale.bind(r),c.MainRootViewId),Le=n.noop}else Le=()=>p.default.navigateToLanguagePicker(!1,o);break;case"choosecolor":Le=()=>p.default.navigateToSettingsGroup(g.SettingsGroup.ThemeSettings,o);break;case"sendcredit":const{sendCreditDeeplinkEnabled:ne}=O.default.getS4LCommerceFeatures().sendCredit;ne?(Le=()=>p.default.navigateToSendCreditSearchPeople(o),q.track(new de.SendCreditEvent(de.SendCreditStep.Deeplink))):Le=n.noop;break;case"chooseprofilepic":Le=()=>p.default.navigateToAvatarPickerWithParams({hideSkipButton:!0,origin:y.DialogNavOrigin.PopCard},o);break;case"playvideo":const Se=t.queryParameterKeyValues.data;if(Se){const e=decodeURIComponent(Se);Le=()=>function(e,t=""){const i={mediaType:oe.VideoViewer.MediaType,thumbnailUrl:t,videoUrl:e};p.default.navigateToMediaViewerPanel({initialMedia:i,controller:{getOptions:()=>({})},totalMedia:1,onClose:()=>{const e=m.default.newCauseId();q.log(l.LogTraceArea.Navigation,"UrlConverter._navigateToPlayVideoFullScreen onClose, causeId:"+e),p.default.navigateBack(e,void 0)}})}(e)}else Le=n.noop;break;case"discoverbots":case"editphoto":Le=n.noop;break;case"newgroup":Le=()=>{new C.default({peopleType:v.PeopleType.All,filterPeopleType:v.FilterType.GroupCapable,navigationOrigin:i}).start(c.MainRootViewId)};break;case"newgroupcall":Le=()=>p.default.navigateToQuickCallPanelWithParams({newGroup:!0,causeId:ie},o);break;case"rating":Le=()=>b.openAppStore();break;case"personalizedoffers":const _e=t.queryParameterKeyValues.offerType;if(_e){if(T.default.getPlatformType()===l.PlatformType.iOS&&"calling"===_e){Le=n.noop;break}{const e=t.queryParameterKeyValues.campaign;Le=()=>p.default.navigateToPurchaseContinuationPanel(_e,e,o)}}else Le=n.noop;break;case"balancestate":case"skypetophone":Le=()=>p.default.navigateToBalanceStatePanel(l.BalancePanelSource.Deeplink,o);break;case"skypenumber":Le=()=>{Ce.default.performAfterUIStarted((()=>{p.default.navigateToSkypeNumberPanel(!0,c.MainRootViewId)}))};break;case"closeexternalbrowser":s.default.dismiss(),Le=n.noop;break;case"sendemoticon":if(!t.skypeParticipants||n.includes(t.skypeParticipants,";")||!t.queryParameterKeyValues||!t.queryParameterKeyValues.emoticon){Le=n.noop;break}const ve=P.sanitizeMri(t.skypeParticipants,P.Namespaces.SkypeId),Ie="("+t.queryParameterKeyValues.emoticon+")",Ee=k.default.getEmoticonByShortcut(Ie);if(A.default.isMyMri(ve)||!Ee){Le=n.noop;break}const Be=new I.EmoticonEntity(Ie,Ee.id,Ee.tone),Oe=w.createMessageInfo(ve,l.PostSource.DeepLink,[Be]);x.default.postMessage(Oe),Le=()=>(0,N.navigateToConversation)(ve,i,re),Re=u.Intent.Chat;break;case"notifications":Le=()=>p.default.navigateToAlertsHub();break;case"recents":Le=()=>p.default.navigateToRecentsTab(),Re=u.Intent.Recents;break;case"creditexpiration":Le=()=>D.default.show();break;case"capture":switch(t.queryParameterKeyValues.mode){case"selfie":M.default.setCameraMode(M.CameraMode.Front);break;case"rear":M.default.setCameraMode(M.CameraMode.Back)}Le=()=>L.navigateToCaptureComboWithParams({capturedContentHandler:new R.CapturedContentHandlerForSharing,allowVideo:!0,willDismissOnSend:!0,mediaPickerShouldCollapseFully:!0},void 0);break;case"calls":Re=u.Intent.Dialpad,Le=()=>{p.default.navigateToQuickCallPanel(ie,o);const e=t.queryParameterKeyValues.dialpad;e&&"true"===e&&p.default.navigateToPSTNDialerWithParams({causeId:ie,navigationSource:l.DialerNavigationSource.DeepLink},o)};break;case"supercomposer":Le=()=>{new C.default({creating1on1Conversation:!0,useSuperComposerFor1on1Conversation:!0,peopleType:v.PeopleType.All,filterPeopleType:v.FilterType.None,isSingleContactSelect:!0,navigationOrigin:l.NavigationConversationOrigin.DeepLink,wizardSteps:[E.WizardSteps.setConvParticipants]}).start(c.MainRootViewId)};break;case"verifyphone":Le=()=>{(0,B.startPhoneNumberVerification)(c.MainRootViewId)};break;case"callerid":Le=()=>{if(O.default.getS4LCommerceFeatures().callingSettingsPanel.callerId.enabled)return p.default.navigateToCallerIdSettingsPanel(o,ie)};break;case"synccontacts":Le=()=>p.default.navigateToSyncAddressBook({origin:y.DialogNavOrigin.DeepLink,hideSkipButton:!0},void 0,o);break;case"addin":if(!t.queryParameterKeyValues){Le=n.noop;break}const Fe=t.queryParameterKeyValues.id;if(!Fe){Le=n.noop;break}Le=()=>F.default.AddinNavigationActions.navigateToAddin({integrationCorrelationId:Fe,origin:Pe(re),conversationId:ce,url:e,onClose:Ae,isLaunch:!0});break;case"pesemojisearch":Le=()=>{ke(t,V.TabType.Emoticon,i,re)};break;case"pesgifsearch":Le=()=>{ke(t,V.TabType.Gif,i,re)};break;case"pesstickersearch":Le=()=>{ke(t,V.TabType.ChatSticker,i,re)};break;case"captureavatar":Le=()=>{const e={hideSkipButton:!0,origin:y.DialogNavOrigin.DeepLink,showCaptureViewFirst:!0};U.default.permissionStatus(d.PermissionType.CameraRoll)===a.PermissionStatus.Unknown?U.default.requestPermission(d.PermissionType.CameraRoll,d.PermissionPromptOptions.SkipPrePrompt).then((()=>{U.default.permissionStatus(d.PermissionType.Camera)===a.PermissionStatus.Unknown&&U.default.requestPermission(d.PermissionType.Camera,d.PermissionPromptOptions.SkipPrePrompt)})).finally((()=>{p.default.navigateToAvatarPickerWithParams(e,o)})):p.default.navigateToAvatarPickerWithParams(e,o)};break;case"engagementsharecontent":if(!O.default.getEngagementFeatures().engagementShareableContent.enabled||!t.queryParameterKeyValues){Le=n.noop;break}const Ve=t.queryParameterKeyValues.campaignId,Ue="true"===t.queryParameterKeyValues.shareButton,je="true"===t.queryParameterKeyValues.reshare,He=t.queryParameterKeyValues.title;p.default.navigateAfterUIStarted((()=>{const e=He?decodeURIComponent(He):void 0;j.default.shareEngagementContent(Ve,Ue,e,je)})),Le=n.noop;break;case"sharecontacts":if(!t.queryParameterKeyValues){Le=n.noop;break}const We=t.queryParameterKeyValues.toSkypeId;if(!We||!P.isSkypeId(We)){Le=n.noop;break}const ze=P.skypeIdToMri(P.asSkypeId(We));Le=()=>{p.default.navigateAfterUIStarted((()=>{H.default.isUsingStackNavigationContext()||(0,N.navigateTo1on1Conversation)(ze,i,re),p.default.navigateToShareContactsToConversationPanel({panelTitle:S.getString("DetailsPanelHeader.ShareContactToConversationTitle"),causeId:ie,entryPoint:W.ShareContactOrigin.Deeplink,userMrisToExclude:[ze],conversationId:ze},c.MainRootViewId)}))};break;case"scheduleCall":const Ge=(0,ye.getParticipantMrisFromUrl)(t.skypeParticipants,!1),Ke=n.first(Ge);if(1!==Ge.length||!Ke||!z.default.isContact(Ke)){Le=n.noop;break}const qe=t.queryParameterKeyValues&&t.queryParameterKeyValues.startDateTime?parseInt(t.queryParameterKeyValues.startDateTime,10):void 0,Qe=t.queryParameterKeyValues?t.queryParameterKeyValues.subject:void 0;Le=()=>{G.default.navigateToScheduleCallCreationPanel({conversationId:Ke,entryPoint:K.ScheduleCallEntryPoint.Deeplink,dateTimeMs:!qe||n.isNaN(qe)?void 0:qe,subject:Qe},o)};break;case"backgroundexecution":Le=()=>{U.default.requestPermission(d.PermissionType.BackgroundExecution,d.PermissionPromptOptions.SkipPrePrompt|d.PermissionPromptOptions.PromptAgainIfDenied).then((e=>{const t=ae.default.getDeniedPrompt(d.PermissionType.BackgroundExecution);if(e===a.PermissionStatus.Denied&&t){const e=1e4;se.default.addNotificationToast({notificationText:t,icon:le.SkypeIcon.Warning,timeout:e},c.MainRootViewId)}q.log(l.LogTraceArea.Navigation,"navigateToRequestBackgroundExecutionPrompt: "+a.PermissionStatus[e])}))};break;case"bookmarks":Le=()=>{const e=m.default.newCauseId();q.log(l.LogTraceArea.Navigation,"Opening bookmarks browser from deeplink. causeId: "+e),p.default.navigateToConversation({convId:P.BookmarksThreadId,origin:l.NavigationConversationOrigin.DeepLink,causeId:e})};break;case"meetnow":Q.MeetNowHelpers.showMeetNowFullScreenLoadingDialog(),Le=()=>{(0,N.navigateToMeetNowCreateFlow)(e)};break;case"meetnowcampaign":Le=()=>{Q.MeetNowHelpers.showNewMeetNow(X.MeetNowOrigin.CampaignDeeplink,{origin:X.MeetNowOrigin.CreatorPanel})};break;case"meetnowjoin":Le=()=>{(0,N.navigateToMeetNowJoinFlow)(e)};break;case"enablephonenumber":$.default.getProfile().then((e=>{var t;const i=null===(t=e.Views[0])||void 0===t?void 0:t.Attributes;let r,a=n.noop,s=n.noop,l=n.noop;if(!i)return;({actionAfterConfirmation:a,dialogConfigs:r,actionAfterCancel:s,onClickOutside:l}=J.getConfigConfirmationDialog(i,o));const{dialogTitle:d,dialogContentText:u,confirmButtonText:p}=r;_.default.showConfirmationAlert(d,u,p,a,c.MainRootViewId,void 0,void 0,s,l),q.track(new Y.PhoneDiscoverabilityEvent({command:Y.PhoneDiscoverabilityDialogCommand.OpenConfirmation}))})),Le=n.noop;break;case"telemetryoptin":if(Le=n.noop,Z.default.isChild())break;const Xe=null===(we=t.queryParameterKeyValues)||void 0===we?void 0:we.optedin;if("true"===Xe){ee.default.setOptionalTelemetryPreferences({enabled:!0,onboardingCompleted:!0}),q.track(new te.SendFullTelemetryEvent(!0,te.SendFullTelemetryOrigin.DeepLink));const e=S.getString("UrlConverter.EnableOptionalTelemetryOptinThankYouMessage");_.default.showCloseAlertWithOptions({dialogAccessibilityTitle:e,title:e,rootViewId:o})}else"false"===Xe&&(ee.default.setOptionalTelemetryPreferences({enabled:!1,onboardingCompleted:!0}),q.track(new te.SendFullTelemetryEvent(!1,te.SendFullTelemetryOrigin.DeepLink)));break;case"opentab":"today"===(null===(xe=t.queryParameterKeyValues)||void 0===xe?void 0:xe.tabname)?(Le=()=>p.default.navigateToTodayTab(),Re=u.Intent.Today):Le=n.noop;break;case"openconversation":const $e=null===(Ne=t.queryParameterKeyValues)||void 0===Ne?void 0:Ne.convid;if(O.default.getS4LMessagingFeaturesNoSubscription().openLinkWithEdgeSidebar&&$e){const e=P.sanitizeMri($e,P.Namespaces.SkypeId);if(!e){Le=n.noop,q.error(l.LogTraceArea.Navigation,`[ActionLinkHandlers][handleActionPayload][${ie}] failed: skypeMri is null [action:openconversation]`);break}if(!P.isGroupConversation(e)){if(!(P.isValidNamespaceMri(e)&&!A.default.isMyMri(e))){Le=n.noop,q.error(l.LogTraceArea.Navigation,`[ActionLinkHandlers][handleActionPayload][${ie}] failed: skypeMri is invalid one one conversation [action:openconversation]`);break}}Le=()=>{var o;p.default.navigateToConversation({convId:e,origin:i,browserOrigin:re,causeId:ie}),q.track(new Y.OpenDeepLinkEvent(t,void 0,i,re,void 0,null===(o=t.queryParameterKeyValues)||void 0===o?void 0:o.action))}}break;case"dialpad":Re=u.Intent.Dialpad,Le=()=>{var e,n;const r=null===(e=t.queryParameterKeyValues)||void 0===e?void 0:e[be];p.default.navigateToPSTNDialerWithParams({causeId:ie,navigationSource:l.DialerNavigationSource.EdgeTelLink,prefilledNumber:r&&/^\d+$/.test(r)?r:void 0},o),q.track(new Y.OpenDeepLinkEvent(t,void 0,i,re,void 0,null===(n=t.queryParameterKeyValues)||void 0===n?void 0:n.action));try{window.location.href.includes(be)&&window.history.pushState({},"",window.location.origin)}catch(e){q.error(l.LogTraceArea.Navigation,`[ActionLinkHandlers][handleActionPayload][${ie}] failed: ${null==e?void 0:e.message} [action:dialpad]`)}};break;case"todayinterests":Le=()=>{H.default.isUsingStackNavigationContext()?p.default.navigateToTodayTab({openInterestsManagerOnLoad:!0}):(p.default.navigateToTodayTab({openInterestsManagerOnLoad:!1}),p.default.navigateToTodayTabInterestsPanel(o))},Re=u.Intent.Today;break;case"upsell":me.default.handleOnboardingDeeplinkAction(),Le=n.noop;break;case"freecall":Le=()=>{p.default.navigateToFreeSubscription(ie,o)};break;case"kycverify":q.log(l.LogTraceArea.Kyc,`deeplink kycverify: ${De.link} skypeinId: ${De.skypeinId}`);const Je=decodeURIComponent(De.link),Ye=decodeURIComponent(Je),Ze=De.skypeinId;Le=()=>{(0,fe.default)(Ye,Ze)};break;default:Le=n.noop}return r.Resolved({intent:Re,action:Le})},t.handleQuickActionPayload=function(e,t){let i=n.noop,o=u.Intent.Other;if(e.queryParameterKeyValues){const n=e.queryParameterKeyValues.quickaction;[o,i]=function(e,t,i,o){const n=m.default.newCauseId();switch(q.log(l.LogTraceArea.Navigation,"UrlConverter._quickActionsProtocolLaunch, causeId:"+n),q.track(new ce.QuickActionsEvent(e)),e){case"presence":o=()=>p.default.navigateToMeControl(t,n);break;case"call":o=()=>{p.default.navigateToQuickCallPanelWithParams({causeId:n,newGroup:!0},t)};break;case"dialpad":i=u.Intent.Dialpad,o=()=>{p.default.navigateToPSTNDialerWithParams({causeId:n,navigationSource:l.DialerNavigationSource.DeepLink},t)};break;case"recents":i=u.Intent.Recents,o=()=>p.default.navigateToRecentsTab();break;case"chat":o=()=>{new C.default({creating1on1Conversation:!0,peopleType:v.PeopleType.AllExcludingBots,filterPeopleType:v.FilterType.None,isSingleContactSelect:!0,navigationOrigin:l.NavigationConversationOrigin.DeepLink,wizardSteps:[E.WizardSteps.setConvParticipants]}).start(c.MainRootViewId)};break;default:q.error(l.LogTraceArea.Navigation,e+" is not a recognized shortcut.")}return[i,o]}(n,t,o,i)}else q.error(l.LogTraceArea.Navigation,"No queryParameterString found!");return r.Resolved({intent:o,action:i})};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=i(380157),s=(o.__importDefault(i(994070)),o.__importDefault(i(846025))),l=i(815146),c=i(154235),d=i(331079),u=i(535790),p=o.__importDefault(i(740794)),g=o.__importStar(i(812822)),h=i(843890),m=o.__importDefault(i(760989)),S=o.__importStar(i(704704)),_=o.__importDefault(i(206483)),f=o.__importStar(i(94534)),y=i(413686),C=o.__importDefault(i(260928)),v=i(240804),b=o.__importStar(i(265801)),T=o.__importDefault(i(139221)),P=o.__importStar(i(44717)),k=o.__importDefault(i(794229)),A=o.__importDefault(i(363091)),I=o.__importStar(i(626065)),w=o.__importStar(i(459287)),x=o.__importDefault(i(863132)),N=i(618571),D=o.__importDefault(i(582218)),M=o.__importStar(i(401189)),L=o.__importStar(i(926101)),R=i(78895),E=i(113002),B=i(447606),O=o.__importDefault(i(150343)),F=o.__importDefault(i(717247)),V=o.__importStar(i(548056)),U=o.__importDefault(i(251733)),j=o.__importDefault(i(259319)),H=o.__importDefault(i(942724)),W=i(929418),z=o.__importDefault(i(555436)),G=o.__importDefault(i(868505)),K=i(36381),q=o.__importStar(i(85385)),Q=i(85755),X=i(44557),$=o.__importDefault(i(218905)),J=o.__importStar(i(641280)),Y=i(56595),Z=o.__importDefault(i(247286)),ee=o.__importDefault(i(341994)),te=i(342561),ie=i(324779),oe=i(233584),ne=i(810597),re=o.__importDefault(i(691821)),ae=(o.__importDefault(i(982323)),o.__importDefault(i(246230))),se=o.__importDefault(i(68210)),le=i(641400),ce=i(21189),de=i(414838),ue=i(605804),pe=i(601505),ge=i(470177),he=i(96737),me=o.__importDefault(i(330647)),Se=i(371221),_e=i(677790),fe=o.__importDefault(i(610110)),ye=i(887847),Ce=o.__importDefault(i(506082)),ve=["call","chat","settings","openapp","generalsettings","notificationssettings","choosecolor","chooseprofilepic","newgroupcall","closeexternalbrowser","engagementsharecontent","backgroundexecution","meetnow","meetnowjoin","callerid","opentab","todayinterests","sendcredit","dialpad","openconversation","upsell","freecall",ue.DeepLink.Store,ue.DeepLink.Manage,ue.DeepLink.ChannelsTab,ge.DeepLink.MagicBotToolbox,ge.DeepLink.MagicBotWelcome,"kycverify","skypenumber"],be="prefilledNumber";function Te(e){if(e.queryParameterKeyValues){const t=e.queryParameterKeyValues.source,i=e.queryParameterKeyValues.caller;t&&"skypebridge"===t&&q.track(new ie.SystemTrayEvent(i))}}function Pe(e){switch(e){case l.BrowserOrigin.LinkNode:return ne.AddinOrigin.LinkNode;case l.BrowserOrigin.FindPanel:return ne.AddinOrigin.FindPanel;case l.BrowserOrigin.PopCard:return ne.AddinOrigin.PopCard;case l.BrowserOrigin.SwiftActionView:return ne.AddinOrigin.SwiftActionView;case l.BrowserOrigin.SwiftQuickReplyView:return ne.AddinOrigin.SwiftQuickReplyView;case l.BrowserOrigin.LinkerUtil:return ne.AddinOrigin.LinkerUtil;case l.BrowserOrigin.AdaptiveCard:return ne.AddinOrigin.AdaptiveCard;default:return ne.AddinOrigin.DeepLinkRequest}}function ke(e,t,i,o){if(!e.queryParameterKeyValues)return;let n;const r=e.queryParameterKeyValues.toSkypeId;r&&P.isSkypeId(r)&&(n=P.skypeIdToMri(P.asSkypeId(r)),H.default.isUsingStackNavigationContext()?(0,N.navigateToConversation)(n,i,o):(0,N.navigateTo1on1Conversation)(n,i,o));const a=decodeURIComponent(e.queryParameterKeyValues.query);re.default.openInSearchMode(t,a,c.MainRootViewId)}},271842:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleCallPayload=function(e,t,i,n){var l,g;const h=null===(l=e.queryParameterKeyValues)||void 0===l?void 0:l.topic,m="true"===(null===(g=e.queryParameterKeyValues)||void 0===g?void 0:g.video);n&&(0,S.startTrackingSource)(n,f.StartupOrigin.DeepLink,`call with topic ${h}`);if(e.queryParameterKeyValues&&"twincam"in e.queryParameterKeyValues){const t=function(e){const t=e.callId,i=e.j,n=e.threadId,a=e.twincamUser;if(n){const e=n;let s;if(i?s=function(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=(0,C.base64StringToUint8Array)(e);if(!t)throw new Error("Failed to Base64-decode the provided argument");const i=r.inflateRaw(t,{to:"string"});return JSON.parse(i)}))}(i):t&&(s=(0,y.createCallJoinContext)(t,e)),s)return s.then((i=>({callId:t||i.conversationId,conversationId:e,callJoinContext:i,twincamUser:a})))}return null}(e.queryParameterKeyValues);if(t)return a.fromThenable(t).then((e=>({intent:c.Intent.Call,action:()=>{!function(e,t,i,o,n){d.log(s.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink joining as twincam causeId:"+n),d.track(new _.TwincamDeepLinkNavigate(e)),u.default.CallNavigationHelper.startCallWithPreview({callId:e,callJoinContext:t,conversationMri:i,withVideo:!0,isTwincam:!0,twincamInitUser:o,origin:p.NavigationCallOrigin.DeepLink},n)}(e.callId,e.callJoinContext,e.conversationId,e.twincamUser,i)}})))}return a.Resolved({intent:c.Intent.Call,action:()=>b(e,m,t,i,h)})},t.handleVoipDeeplink=function(e,t,i){const o=e.type===l.UrlType.VoipVideo;return a.Resolved({intent:c.Intent.Call,action:()=>b(e,o,t,i)})},t.handleTelDeeplink=function(e,t,i){return a.Resolved({intent:c.Intent.Other,action:()=>h.default.navigateToPSTNDialerWithParams({causeId:i,navigationSource:p.DialerNavigationSource.BrowseIntent,prefilledNumber:e.telNumber},t)})};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(999591)),a=o.__importStar(i(397691)),s=i(167606),l=i(845270),c=i(535790),d=o.__importStar(i(85385)),u=o.__importDefault(i(369347)),p=i(815146),g=o.__importStar(i(44717)),h=o.__importDefault(i(740794)),m=o.__importStar(i(437782)),S=i(371221),_=i(418926),f=i(677790),y=i(785526),C=i(766698),v=i(887847);function b(e,t,i,o,r){const a=(0,v.getParticipantMrisFromUrl)(e.skypeParticipants);if(a.length>1)!function(e,t,i,o){d.log(s.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink group call causeId:"+i),u.default.CallNavigationHelper.startNewGroupCallAndConversation(e,t,i,o,p.NavigationCallOrigin.DeepLink)}(a,t,o,r);else if(1===a.length){const e=n.head(a);e?g.isPhoneMri(e)?function(e,t,i){const o=g.stripMriNamespace(e);d.log(s.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink PSTN call causeId:"+t),h.default.navigateToPSTNDialerWithParams({causeId:t,navigationSource:p.DialerNavigationSource.DeepLink,prefilledNumber:o},i)}(e,o,i):g.isMri(e)?function(e,t,i){d.log(s.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink 1:1 call causeId:"+e),u.default.CallNavigationHelper.startCall({conversationMri:t,withVideo:i,origin:p.NavigationCallOrigin.DeepLink},e)}(o,e,t):d.error(s.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink invalid participant "+m.mriOrId(e)+" causeId:"+o):d.error(s.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink no participant in participants causeId:"+o)}else!function(e,t){d.log(s.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink quick call panel causeId:"+e),h.default.navigateToQuickCallPanel(e,t)}(o,i)}},787926:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleChatPayload=function(e,t,i,o,m,S){var _;const f=e&&e.queryParameterKeyValues&&e.queryParameterKeyValues[s.WebLauncherOriginParamName]===s.WebLauncherOriginParamValue,b=null===(_=e.queryParameterKeyValues)||void 0===_?void 0:_.threadId;if(!b)return S&&(0,C.startTrackingSource)(S,v.StartupOrigin.DeepLink,v.StartupL2Source.L2SourceInviteConversation),T(e,!1,t,o,m).then((e=>({action:e,intent:g.Intent.Chat})));if(f&&(o=a.BrowserOrigin.WebLauncher),!h.isGuestUserMri(y.default.getSkypeMri()))return S&&(0,C.startTrackingSource)(S,v.StartupOrigin.DeepLink,v.StartupL2Source.L2SourceGroupConversation),n.Resolved({intent:g.Intent.Chat,action:()=>(0,c.navigateToGroupConversation)(b,t,o)});if(!!r.isEmpty((0,l.default)().getAllConversationsInMemory())){S&&(0,C.startTrackingSource)(S,v.StartupOrigin.DeepLink,v.StartupL2Source.L2SourceMeetnowConversation);const e=d.default.getPartnerParametersFromUri(i);return u.track(new p.MeetNowDeeplinkProcessedEvent(e)),n.Resolved({intent:g.Intent.Chat,action:()=>(0,c.navigateGuestToMeetNow)(e)})}(0,c.reloadAndJoinConversation)(i,b);return n.Resolved(void 0)},t.handleIpMessagingDeeplink=function(e,t,i,o){return T(e,!0,t,i,o).then((e=>({action:e,intent:g.Intent.Chat})))};const o=i(197582),n=o.__importStar(i(397691)),r=o.__importStar(i(496486)),a=(i(815063),i(815146)),s=i(252013),l=o.__importDefault(i(615364)),c=i(618571),d=o.__importDefault(i(873245)),u=o.__importStar(i(85385)),p=i(190697),g=i(535790),h=o.__importStar(i(44717)),m=i(514546),S=o.__importDefault(i(260928)),_=i(240804),f=i(154235),y=o.__importDefault(i(363091)),C=i(371221),v=i(677790),b=i(887847);function T(e,t,i,o,r){var a;const s=(0,b.getParticipantMrisFromUrl)(e.skypeParticipants,!1);if(s){const l=s[0];if("buddy"===(e.queryParameterKeyValues?e.queryParameterKeyValues.utm_source:void 0)&&h.isMri(l)){const t=e.skypeParticipants,i=(null===(a=e.queryParameterKeyValues)||void 0===a?void 0:a.utm_content)||"";return r&&r.markStepCompleted("InviteReceived"),(0,m.handleInviteLink)(t,i,r)}return 1!==s.length&&t?n.Resolved((()=>{new S.default({invitedUsersMris:s,creating1on1Conversation:!1,navigationOrigin:i,isSingleContactSelect:!1,peopleType:_.PeopleType.All}).start(f.MainRootViewId)})):n.Resolved((()=>(0,c.navigateTo1on1Conversation)(l,i,o)))}return n.Resolved((()=>{new S.default({isSingleContactSelect:!0,creating1on1Conversation:!0,peopleType:_.PeopleType.All,filterPeopleType:_.FilterType.None,navigationOrigin:i}).start(f.MainRootViewId)}))}},9244:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GuestHttpJoinLinkHandler=void 0;const o=i(197582),n=o.__importStar(i(516778)),r=o.__importStar(i(397691)),a=o.__importStar(i(496486)),s=(i(815146),i(535790)),l=(o.__importStar(i(44717)),o.__importDefault(i(615364))),c=(o.__importDefault(i(363091)),o.__importDefault(i(766298))),d=o.__importDefault(i(873245)),u=i(618571);o.__importDefault(i(404547)),i(627414),o.__importDefault(i(855191)),i(444314);t.GuestHttpJoinLinkHandler=class{navigationPromiseForAutoBuddyLink(){return r.Rejected({code:n.Types.LinkingErrorCode.UnexpectedFailure})}navigationPromiseForBotLink(){return r.Rejected({code:n.Types.LinkingErrorCode.UnexpectedFailure})}navigationPromiseForChannelJoinFlow(){return r.Rejected({code:n.Types.LinkingErrorCode.UnexpectedFailure})}navigationPromiseForChannelJoinFlowWithChannelId(){return r.Rejected({code:n.Types.LinkingErrorCode.UnexpectedFailure})}navigationPromiseForCreateFlow(){return r.Rejected({code:n.Types.LinkingErrorCode.UnexpectedFailure})}navigationPromiseForJoinFlow(){return r.Resolved({intent:s.Intent.JoinMeetNow,action:()=>(0,u.navigateToMeetNowJoinFlow)("skype-meetnow:?action=meetnowjoin&source=InClientLink")})}navigationPromiseForShortLink(e,t,i){a.isEmpty((0,l.default)().getAllConversationsInMemory());return c.default.resolveJoinShortId(e).then((e=>{const t=e.threadId;return function(e,t){const i=Object.assign(Object.assign({},d.default.getPartnerParametersFromUri(e)),{convId:t});return r.Resolved({intent:s.Intent.Chat,action:()=>(0,u.navigateGuestToMeetNow)(i)})}(i,t)}))}}},106671:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.navigationPromiseForHttpLink=function(e,t,i,o,p,k,N){var D;const M=e.pathname?n.compact(e.pathname.split("/")):[],L=null===(D=e.host)||void 0===D?void 0:D.toLowerCase(),R=e.queryParameterKeyValues;if(function(e,t){return(w(t)||x(t))&&e.length>0}(M,L)){const e=m.MeetNowHelpers.isGuestFlow()?new g.GuestHttpJoinLinkHandler:new h.SignedInHttpJoinLinkHandler,n=M[0];if(2===M.length){if(n===A.channel){const{enableContentChannels:t}=s.default.getS4LUiFeaturesNoSubscription();if(t){const t=M[1];return x(L)?e.navigationPromiseForChannelJoinFlow(t,p):w(L)?e.navigationPromiseForChannelJoinFlowWithChannelId(t,p):r.Resolved(void 0)}return r.Resolved(void 0)}if(n===A.bot){const t=M[1];return e.navigationPromiseForBotLink(t,i,k)}if(n===A.invite&&x(L))return e.navigationPromiseForAutoBuddyLink(t,o,p,N)}else if(1===M.length)return x(L)?function(e,t,i,o,n,r,a){switch(function(e,t){t&&(t.markStepCompleted("RetrievedJoinLinkData"),e&&t.markStepCompleted("LaunchedFromExternalApp"))}(r,a),t){case"meetnow":return e.navigationPromiseForCreateFlow();case"join":return e.navigationPromiseForJoinFlow();default:return e.navigationPromiseForShortLink(t,o,i,n,a)}}(e,n,t,i,k,o,N):function(e,t,i,o){const{removeThreadIdFromUrlHistory:n}=s.default.getS4LCMCFeaturesNoSubscription();n&&function(){const{href:e}=window.location;if(e.toLowerCase().includes("@thread.skype")){const t=e.replace(/\/[^\/]+@thread.skype/i,"/");T.default.setTimeout((()=>{try{window.history.replaceState(null,"",t)}catch(e){f.error(c.LogTraceArea.Navigation,e.message)}}),0)}}();const a=S.sanitizeMri(e,S.Namespaces.SkypeId),l=Object.assign(Object.assign({},_.default.getPartnerParametersFromUri(t)),{convId:a});l.origin===d.MeetNowOrigin.Unknown&&(l.origin=d.MeetNowOrigin.DeepLink);f.track(new y.MeetNowDeeplinkProcessedEvent(l)),l.origin===d.MeetNowOrigin.CreatorPanel?C.default.beginTrackingCreateMeetNow(d.MeetNowOrigin.DeepLink,null==l?void 0:l.partner):l.origin===d.MeetNowOrigin.JoinLobby&&(v.default.beginTrackingJoinMeetNow(d.MeetNowOrigin.ConversationDeeplink,null==l?void 0:l.partner),v.default.trackValidJoinLinkEntered(e));if(m.MeetNowHelpers.isGuestFlow())return r.Resolved({intent:u.Intent.Call,action:()=>(0,b.navigateGuestToMeetNow)(l)});return r.Resolved({intent:u.Intent.Chat,action:()=>(0,b.navigateToConversation)(a,i,o,void 0,l)})}(n,t,i,k);return r.Resolved(void 0)}if(function(e,t){return w(t)&&n.has(e,"action")&&n.includes(I,null==e?void 0:e.action)}(R,L)){const o=P.default.newCauseId();return(0,a.handleActionPayload)(t,e,i,l.MainRootViewId,o,!0)}return r.Resolved(void 0)},t.isValidHttpHost=w;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=i(84395),s=o.__importDefault(i(150343)),l=i(154235),c=i(815146),d=i(44557),u=i(535790),p=o.__importDefault(i(139221)),g=i(9244),h=i(9560),m=i(85755),S=o.__importStar(i(44717)),_=o.__importDefault(i(873245)),f=o.__importStar(i(85385)),y=i(190697),C=o.__importDefault(i(515858)),v=o.__importDefault(i(455907)),b=i(618571),T=o.__importDefault(i(601274)),P=o.__importDefault(i(760989)),k=i(470177),A={bot:"bot",invite:"invite",channel:"channel"},I=["callerid","sendcredit","dialpad","openconversation",k.DeepLink.MagicBotToolbox];function w(e){return e===p.default.getFrontendHost()}function x(e){return"join.skype.com"===e||"latest-join.skype.com"===e}},9560:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SignedInHttpJoinLinkHandler=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=o.__importStar(i(516778)),s=i(815146),l=o.__importStar(i(44717)),c=i(535790),d=i(618571),u=i(514546),p=o.__importStar(i(85385)),g=o.__importDefault(i(655192)),h=o.__importDefault(i(206483)),m=i(154235),S=o.__importDefault(i(766298)),_=i(252013),f=o.__importStar(i(704704)),y=o.__importDefault(i(220534)),C=o.__importDefault(i(179075)),v=i(978108),b=i(601505),T=i(318315),P=i(803193),k=i(605804);t.SignedInHttpJoinLinkHandler=class{navigationPromiseForAutoBuddyLink(e,t,i,o){return o&&(o.markStepCompleted("AppInstalledOneOnOneInvite"),t&&o.markStepCompleted("LaunchedFromExternalApp")),(0,u.handleAutoBuddyInviteLinkFromUrl)(e,i,o).catch((e=>{p.warn(s.LogTraceArea.Navigation,`Failed to process invite link: ${g.default.errorAsString(e)}`);const t=f.getString("UrlConverter.ProcessingInviteLinkFailedMessage");return h.default.showOKAlert(t,void 0,m.MainRootViewId),o&&(o.markStepCompleted("ProcessingInviteLinkFailed"),o.fail(`ProcessingInviteLinkFailed ${g.default.errorAsString(e)}`)),r.Resolved(n.noop)})).then((e=>({intent:c.Intent.Other,action:e})))}navigationPromiseForBotLink(e,t,i){return e?C.default.getAgentDescriptionForMriAsync(l.sanitizeMri(e,l.Namespaces.Bot)).then((o=>{if(o.isUnknown)return r.Rejected({code:a.Types.LinkingErrorCode.UnexpectedFailure});const n=l.sanitizeMri(e,l.Namespaces.Bot);return{intent:c.Intent.Chat,action:()=>(0,d.navigateTo1on1Conversation)(n,t,i)}})):r.Resolved(void 0)}navigationPromiseForChannelJoinFlow(e,t){const i=new v.ContentChannelsInfoService;return r.fromThenable(i.getChannelInfo(e)).then((i=>({intent:c.Intent.Channel,action:()=>{i&&(0,b.navigateToContentChannel)({channelId:i.channelId,channelName:i.channelName||"",isFollowed:!!i.isFollowed,isVerified:i.isVerified,followersCount:i.followersCount,latestHorizonId:i.latestHorizonId,lastContentId:void 0,lastViewedHorizonIdUpdatedAt:void 0,avatarUrl:i.channelIconUrl,channelSource:{sourceKind:i.channelSource},shortId:e,origin:k.ContentChannelTelemetryOrigin.DeepLink},t,!0)}})))}navigationPromiseForChannelJoinFlowWithChannelId(e,t){const i=(0,T.getChannelsClient)();return e||r.fromThenable(r.Resolved(void 0)),r.fromThenable(i.getChannel(e).then((e=>{if(!e)return;const i=(0,P.mapChannelDtoToChannelModel)(e);return{intent:c.Intent.Channel,action:()=>{var e;(0,b.navigateToContentChannel)({channelId:i.id,channelName:i.name||"",isFollowed:!!i.isFollowed,isVerified:i.isVerified,followersCount:i.followersCount,latestHorizonId:i.lastEventHorizonId,lastContentId:null===(e=i.lastContent)||void 0===e?void 0:e.id,lastViewedHorizonIdUpdatedAt:i.lastViewedHorizonIdUpdatedAt,lastViewedHorizonId:i.lastViewedHorizonId,avatarUrl:i.avatarUrl,channelSource:{sourceKind:i.author.sourceKind},shortId:i.shortId,market:i.market,origin:k.ContentChannelTelemetryOrigin.DeepLink},t,!0)}}})))}navigationPromiseForCreateFlow(){return r.Resolved({intent:c.Intent.CreateMeetNow,action:()=>(0,d.navigateToMeetNowCreateFlow)("skype-meetnow:?action=meetnow&source=InClientLink")})}navigationPromiseForJoinFlow(){return r.Resolved({intent:c.Intent.JoinMeetNow,action:()=>(0,d.navigateToMeetNowJoinFlow)("skype-meetnow:?action=meetnowjoin&source=InClientLink")})}navigationPromiseForShortLink(e,t,i,o,n){return S.default.resolveJoinShortId(e).then((e=>{var a;const l=e.threadId,u=y.default.getURIComponents(i);return(null===(a=null==u?void 0:u.queryParameterKeyValues)||void 0===a?void 0:a[_.WebLauncherOriginParamName])===_.WebLauncherOriginParamValue&&(o=s.BrowserOrigin.WebLauncher),r.Resolved({intent:c.Intent.Chat,action:()=>(0,d.navigateToConversation)(l,t,o,n)})}))}}},910520:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(22336),a=o.__importDefault(i(114818)),s=o.__importDefault(i(997226)),l=o.__importDefault(i(760989));class c{constructor(e,t,i,o,r,a,c,d,u,p,g,h,m,S){e&&(this.guid=e.guid,this.alertType=e.alertType,this.alertTime=e.alertTime,this.isRead=e.isRead,this.highlightsFollowInfo=e.highlightsFollowInfo,this.highlightCommentInfo=e.highlightCommentInfo,this.popCardInfo=e.popCardInfo,this.noticeMessageInfo=e.noticeMessageInfo,this.highlightsSkypeChannelInfo=e.highlightsSkypeChannelInfo,this.scheduledCallInfo=e.scheduledCallInfo,this.missedCallbackReminderCalleeMri=e.missedCallbackReminderCalleeMri,this.oldFriendMri=e.oldFriendMri,e.message&&(this.message=s.default.fromDatabaseObject(e.message))),n.isUndefined(t)?n.isUndefined(this.guid)&&(this.guid=l.default.newGuid()):this.guid=t,n.isUndefined(i)||(this.alertType=i),n.isUndefined(o)||(this.alertTime=o),n.isUndefined(r)||(this.isRead=r?1:0),a&&(this.message=a),n.isUndefined(c)||(this.highlightsFollowInfo=c),n.isUndefined(d)||(this.highlightCommentInfo=d),n.isUndefined(u)||(this.popCardInfo=u),n.isUndefined(p)||(this.noticeMessageInfo=p),n.isUndefined(g)||(this.highlightsSkypeChannelInfo=g),n.isUndefined(h)||(this.scheduledCallInfo=h),n.isUndefined(m)||(this.missedCallbackReminderCalleeMri=m),n.isUndefined(S)||(this.oldFriendMri=S)}static fromDatabaseObject(e){return e?new c(e):void 0}static fromScratch(e,t,i,o,n={}){return new c(void 0,n.guid,e,t,i,o,n.highlightsFollowInfo,n.highlightCommentInfo,n.popCardInfo,n.noticeMessageInfo,n.highlightsSkypeChannelInfo,n.scheduledCallInfo,n.missedCallbackReminderCalleeMri,n.oldFriendMri)}applyRead(e){return!!this.isRead==!!e?this:new c(this,void 0,void 0,void 0,e)}updateHighlightsFollowStatus(e,t,i,o){return e===this.alertTime&&!!this.isRead==!!t&&(0,a.default)(this.message,i)&&(0,a.default)(this.highlightsFollowInfo,o)?this:new c(this,void 0,void 0,e,t,i,o)}isHighlightsFollowRequest(){return this.highlightsFollowInfo&&this.alertType===r.AlertType.HighlightsFollowRequest&&this.highlightsFollowInfo.followState===r.HighlightsFollowAlertState.Follow}isRemovedHighlightsFollowRequest(){return this.highlightsFollowInfo&&this.alertType===r.AlertType.HighlightsFollowRequest&&this.highlightsFollowInfo.followState===r.HighlightsFollowAlertState.Removed}isAcceptedByMeHighlightsFollowRequest(){return this.highlightsFollowInfo&&this.alertType===r.AlertType.HighlightsFollowRequest&&this.highlightsFollowInfo.followState===r.HighlightsFollowAlertState.AcceptedByMe}isEngagementAlert(){return this.alertType===r.AlertType.Engagement||this.alertType===r.AlertType.Notice}isHighlightsSkypeChannelAlert(){return this.alertType===r.AlertType.HighlightsSkypeChannel||this.alertType===r.AlertType.HighlightsSkypeChannelSecondary}isScheduledCallAlert(){return this.alertType===r.AlertType.ScheduledCall}}t.default=c},890484:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioManagerSource=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(119557)),a=o.__importStar(i(397691)),s=o.__importDefault(i(150343)),l=i(815146),c=o.__importStar(i(85385));var d;!function(e){e[e.AudioMessageComposer=0]="AudioMessageComposer",e[e.AudioPlayer=1]="AudioPlayer",e[e.CapturePanel=2]="CapturePanel",e[e.CapturePreview=3]="CapturePreview",e[e.SwiftVideo=4]="SwiftVideo",e[e.VideoViewer=5]="VideoViewer"}(d||(t.AudioManagerSource=d={}));t.default=class{static initialize(){r.default.setConfig({cmc:s.default.getS4LCMCFeatures(),audio:s.default.getSkypeAudioLibraryFeatures()}),s.default.subscribe((()=>{r.default.setConfig({cmc:s.default.getS4LCMCFeatures(),audio:s.default.getSkypeAudioLibraryFeatures()})}))}constructor(e){this._source=e,this._requestSequence=0}hasToken(){return!n.isUndefined(this._token)}requestMode(e,t){const i=++this._requestSequence;let o,s;return n.isUndefined(this._token)?(o="request("+e+")",s=r.default.requestMode(e,t)):(o="exchange("+this._token+", "+e+")",s=r.default.exchangeMode(this._token,e,t)),c.log(l.LogTraceArea.AudioManagerClient,"("+d[this._source]+").requestMode calling AudioManager."+o+". causeId: "+t),s.then((e=>i===this._requestSequence?(c.log(l.LogTraceArea.AudioManagerClient,"("+d[this._source]+").requestMode completed with token "+e+". causeId: "+t),this._token=e,a.Resolved(!0)):(c.log(l.LogTraceArea.AudioManagerClient,"("+d[this._source]+").requestMode completed with token "+e+" - aborting because of subsequent request. causeId: "+t),r.default.release(e,t),a.Resolved(!1))))}release(e){this._requestSequence++,c.log(l.LogTraceArea.AudioManagerClient,"("+d[this._source]+").release("+this._token+"). causeId: "+e),n.isUndefined(this._token)||(r.default.release(this._token,e),this._token=void 0)}}},736267:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useCommonContext=t.CommonContext=t.ComponentVisibilityStatus=void 0;const o=i(197582),n=i(667294),r=o.__importDefault(i(974634)),a=i(154235),s=i(206197),l=i(473483);t.ComponentVisibilityStatus=class{constructor(){this._isVisible=!0,this._visibilityChanged=new r.default}updateVisibility(e){this._isVisible!==e&&(this._isVisible=e,this._visibilityChanged.fire(e))}isVisibleEvent(){return this._visibilityChanged}isVisible(){return this._isVisible}},t.CommonContext=(0,n.createContext)({rootViewId:a.MainRootViewId,rootViewType:a.RootViewType.MainWindow,themeStyles:{},themeColors:{},language:"en-us",theme:s.Theme.Delphi,gradients:{},mode:{isAccessible:!1,isDark:!1},fonts:{},userColor:(0,l.getDefaultUnknownColorInfo)(),isRTL:!1}),t.CommonContext.displayName="CommonContext";t.useCommonContext=()=>(0,n.useContext)(t.CommonContext)},296114:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(667294),r=o.__importDefault(i(114818));class a{equals(e){if(e===this)return!0;if(!e.isImmutable()!=!this.isImmutable())return!1;return(0,r.default)(this,e)}static comparator(e,t){if(e===t)return!0;if(null===e||null===t)return!1;const i=typeof e;if(i!==typeof t)return!1;if("object"!==i)return e!=e&&t!=t;if(e instanceof a)return t instanceof a&&e.equals(t);if(t instanceof a)return!1;if((0,n.isValidElement)(e))return!!(0,n.isValidElement)(t)&&(e.key===t.key&&e.type===t.type&&!a.comparator(e.props,t.props)&&!a.comparator(e.state,t.state));if(Array.isArray(e)){const i=e.length;if(!Array.isArray(t)||i!==t.length)return!1;if(0===i)return!0;if(!a.comparator(e[0],t[0]))return!1;for(let o=i-1;o>0;o--)if(!a.comparator(e[o],t[o]))return!1;return!0}for(const i in e)if(Object.hasOwnProperty.call(e,i)){if(!Object.hasOwnProperty.call(t,i))return!1;if(!a.comparator(e[i],null==t?void 0:t[i]))return!1}for(const i in t)if(Object.hasOwnProperty.call(t,i)&&!Object.hasOwnProperty.call(e,i))return!1;return!0}}t.default=a},148473:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(44717)),a=o.__importStar(i(473483)),s=o.__importDefault(i(453221)),l=o.__importStar(i(704704)),c=o.__importDefault(i(655192));class d extends s.default{getRecordId(){return""}getSkypeId(){const e=this.getMri();return e?r.getSkypeIdFromMri(e):void 0}getMri(){}static convertDisplayNameToInitials(e){let t="?";const i=n.compact(e.split(" "));if(i.length>=2)t=l.getString("DisplayProfile.UsernameInitials",{firstNameLetter:c.default.substr(i[0],0,1),secondNameLetter:c.default.substr(i[1],0,1)});else if(1===i.length){const e=n.startsWith(i[0],"live:")?5:0;t=c.default.substr(i[0],e,2)}return t}static convertDisplayNameToUpperCaseInitials(e){const t=c.default.deburrLocaleUpperCase(e);return this.convertDisplayNameToInitials(t)}getDisplayName(e,t){const i=this.getMri();return i&&!r.isOrgIdUserMri(i)&&r.isDisplayableStrippedMri(i)?r.stripMriNamespace(i):e||l.getString("Notifications.UnknownUser")}getShortName(e){return n.first(n.compact(this.getDisplayName(void 0,e).split(" ")))||""}getInitials(){return d.convertDisplayNameToInitials(this.getDisplayName())}getUpperCaseInitials(){return d.convertDisplayNameToUpperCaseInitials(this.getDisplayName())}getAvatarUrl(e){}getColor(){return a.getDefaultUnknownColorInfo()}isEncrypted(){const e=this.getConversationId();return!!e&&r.isEncryptedThread(e)}getConversationId(){return this.getMri()}}t.default=d},453221:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(296114));class a extends r.default{constructor(e){if(super(),e)for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}mergePartialUpdate(e){const t=Object.create(this.constructor.prototype);for(const e in this)this.hasOwnProperty(e)&&(t[e]=n.cloneDeep(this[e]));return n.each(e,((e,i)=>{t[i]=e})),t}}t.default=a},556037:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582).__importDefault(i(296114));class n extends o.default{constructor(e){super(),this.value=e}isImmutable(){return!0}}t.default=n},794246:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(82485),n=i(815146);t.default=class{constructor(e,t){e?(o.Instrumentation.log(n.LogTraceArea.SISU,`Creating MSA access token with expiresOn: ${t}, expiresOnTimestamp: ${t}`),this.rawToken=e,this.expiration=t):o.Instrumentation.error(n.LogTraceArea.SISU,"Tried creating an MSA access token with invalid token value")}isTokenExpired(){return Date.now()>=this.expiration}}},140334:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(974634)),a=i(844104);t.default=class{constructor(){this._items=[],this.listChanged=new r.default}addItems(e,t,i){const o={type:a.ListModificationType.AddItems,items:t,insertIndex:e,options:i};this.apply(o)}removeItems(e,t,i){const o={type:a.ListModificationType.RemoveItems,removeIndex:e,count:t,options:i};this.apply(o)}replaceItems(e,t,i){const o={type:a.ListModificationType.ReplaceItems,items:t,removeIndex:e,insertIndex:e,count:t.length,options:i};this.apply(o)}moveItems(e,t,i,o,n){const r={type:a.ListModificationType.MoveItems,removeIndex:e,insertIndex:t,count:o,options:n,items:i};this.apply(r)}getItemList(){return this._items}setItemList(e){this._items=n.clone(e);const t={type:a.ListModificationType.ReplaceItems,items:this._items,removeIndex:0,count:this._items.length};this.listChanged.fire(t,this._items)}_canConvertRemoveAddToReplace(e){return 2===e.length&&e[0].type===a.ListModificationType.RemoveItems&&e[1].type===a.ListModificationType.AddItems&&n.size(e[1].items)>0&&e[0].count===n.size(e[1].items)}_getReplaceModification(e,t,i){let o,r;n.each(e,(e=>{this.apply(e,t,i,!0),e.type===a.ListModificationType.RemoveItems?r=e:e.type===a.ListModificationType.AddItems&&(o=e)}));return{count:r.count,insertIndex:o.insertIndex,removeIndex:r.removeIndex,items:o.items,type:a.ListModificationType.ReplaceItems}}applyMany(e,t,i){if(this._canConvertRemoveAddToReplace(e)){const o=this._getReplaceModification(e,t,i);this.listChanged.fire(o,this._items)}else n.each(e,(e=>{this.apply(e,t,i)}));if(0===e.length){t&&t(this._items);const e={type:a.ListModificationType.Metadata};this.listChanged.fire(e,this._items)}}apply(e,t,i,o){i&&i(e,this._items),e.type===a.ListModificationType.AddItems?this._items=[...this._items.slice(0,e.insertIndex),...e.items,...this._items.slice(e.insertIndex)]:e.type===a.ListModificationType.RemoveItems?this._items=[...this._items.slice(0,e.removeIndex),...this._items.slice(e.removeIndex+e.count)]:e.type===a.ListModificationType.ReplaceItems?this._items=[...this._items.slice(0,e.removeIndex),...e.items,...this._items.slice(e.removeIndex+e.items.length)]:e.type===a.ListModificationType.MoveItems&&(e.removeIndex<e.insertIndex?this._items=[...this._items.slice(0,e.removeIndex),...this._items.slice(e.removeIndex+e.count,e.insertIndex+e.count),...e.items,...this._items.slice(e.insertIndex+e.count)]:this._items=[...this._items.slice(0,e.insertIndex),...e.items,...this._items.slice(e.insertIndex,e.removeIndex),...this._items.slice(e.removeIndex+e.count)]),t&&t(this._items),o||this.listChanged.fire(e,this._items)}}},657969:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshTokenType=void 0;const o=i(245127),n=i(815146);var r;!function(e){e[e.MSA=0]="MSA",e[e.PhoneAuth=1]="PhoneAuth"}(r||(t.RefreshTokenType=r={}));t.default=class{constructor(e,t,i){this.rawToken=e,this._tokenPath=i,this._tokenType=this._getTokenType(t,i)}_getTokenType(e,t){return t===o.MsaWebViewTokenPath.PhoneAuth||e===n.LoginMethods[n.LoginMethods.PhoneAuth]?r.PhoneAuth:r.MSA}getTokenType(){return this._tokenType}isMsaRefreshToken(){return this._tokenType===r.MSA}isPhoneAuthRefreshToken(){return this._tokenType===r.PhoneAuth}isFromQrCodeSignIn(){return this._tokenPath===o.MsaWebViewTokenPath.QrSignIn}}},189776:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importDefault(i(296114)),r=o.__importDefault(i(655192));class a extends n.default{static fromDbToken(e){if(e)return new a(e.rawToken,e.expiration)}constructor(e,t){super(),e&&"string"==typeof e&&(this.rawToken=e,this.expiration=t)}isImmutable(){return!0}clone(){return new a(this.rawToken,this.expiration)}isTokenExpired(){return Date.now()>this.expiration}getCidFromSkypeToken(){const e=this.rawToken.split(".");if(e.length<2)return;const t=r.default.parseJsonErrorToUndefined(atob(e[1]));return(null==t?void 0:t.cid)&&r.default.toUpper(null==t?void 0:t.cid)}}if(t.default=a,"undefined"!=typeof window){window.SkypeToken=a}},196687:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(44717)),a=i(815146),s=o.__importDefault(i(363091)),l=i(812822);class c{canNavigateInApp(){return!s.default.isGuestUser()}canForwardMessage(){return!s.default.isGuestUser()}canBookmarkMessage(){return!s.default.isGuestUser()}canUseKeyboardShortcut(e){return!s.default.isGuestUser()||n.includes(c._allowedGuestKeyboardShortcuts,e)}canStartConversationWith(e){return!r.isGuestUserMri(e)}canAddContact(e){return!r.isGuestUserMri(e)}canUseQuickSignOn(){return!s.default.isGuestUser()}allowGroupInteractionBetweenBlockedParticipants(e,t){return r.isGuestUserMri(e)||r.isGuestUserMri(t)}eligibleLeftNavViewModes(){if(s.default.isGuestUser())return c._eligibleLeftNavModesForGuestUsers}}c._allowedGuestKeyboardShortcuts=[a.KeyboardShortcut.AcceptIncomingCall,a.KeyboardShortcut.EditMessage,a.KeyboardShortcut.EnableMultipleSelectMessages,a.KeyboardShortcut.HangupOrRejectCall,a.KeyboardShortcut.MarkAsUnread,a.KeyboardShortcut.OpenAppSettings,a.KeyboardShortcut.OpenHelpInABrowser,a.KeyboardShortcut.SearchInConversation,a.KeyboardShortcut.SendFeedback,a.KeyboardShortcut.SendFile,a.KeyboardShortcut.TakeCallSnapshot,a.KeyboardShortcut.ToggleCamera,a.KeyboardShortcut.ToggleGallery,a.KeyboardShortcut.ToggleMicrophone],c._eligibleLeftNavModesForGuestUsers=[l.LeftNavViewMode.None,l.LeftNavViewMode.ConversationInCall],t.default=new c},859545:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=i(375240),s=o.__importDefault(i(114818));let l=class extends r.StoreBase{constructor(e){super(),this._providers=e}init(){n.each(a.providers,(e=>{e.subscribe&&e.subscribe((()=>{this._updateFlags()}))})),this._updateFlags()}_updateFlags(){const e=n.map(this._providers,(e=>e.flags())),t=n.mergeWith({},...e,((e,t)=>n.isBoolean(e)||n.isBoolean(t)?!1!==e&&!1!==t:void 0));(0,s.default)(this._merged,t)||(this._merged=t,this.trigger(1))}entitlements(){return this._merged.entitlements}userSettings(){return this._merged.userSettings}navigation(){return this._merged.navigation}addins(){return this._merged.addins}onboarding(){return this._merged.onboarding}identity(){return this._merged.identity}contacts(){return this._merged.contacts}meetnow(){return this._merged.meetnow}call(){return this._merged.call}cookie(){return this._merged.cookie}};o.__decorate([(0,r.autoSubscribeWithKey)(1)],l.prototype,"entitlements",null),o.__decorate([(0,r.autoSubscribeWithKey)(1)],l.prototype,"userSettings",null),o.__decorate([(0,r.autoSubscribeWithKey)(1)],l.prototype,"navigation",null),o.__decorate([(0,r.autoSubscribeWithKey)(1)],l.prototype,"addins",null),o.__decorate([(0,r.autoSubscribeWithKey)(1)],l.prototype,"onboarding",null),o.__decorate([(0,r.autoSubscribeWithKey)(1)],l.prototype,"identity",null),o.__decorate([(0,r.autoSubscribeWithKey)(1)],l.prototype,"contacts",null),o.__decorate([(0,r.autoSubscribeWithKey)(1)],l.prototype,"meetnow",null),o.__decorate([(0,r.autoSubscribeWithKey)(1)],l.prototype,"call",null),o.__decorate([(0,r.autoSubscribeWithKey)(1)],l.prototype,"cookie",null),l=o.__decorate([r.AutoSubscribeStore],l),t.default=new l(n.values(a.providers))},363091:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserAccountType=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=o.__importDefault(i(974634)),s=o.__importStar(i(397691)),l=o.__importStar(i(766698));var c,d;!function(e){e[e.userCidUpdated=0]="userCidUpdated",e[e.userGuestUpdated=1]="userGuestUpdated",e[e.userTypeUpdated=2]="userTypeUpdated"}(c||(c={})),function(e){e[e.MSA=0]="MSA",e[e.Unknown=1]="Unknown",e[e.PhoneAuth=2]="PhoneAuth",e[e.PhoneAuthWithLinkedMsa=3]="PhoneAuthWithLinkedMsa"}(d||(t.UserAccountType=d={}));let u=class extends r.StoreBase{constructor(){super(...arguments),this._logoutStarted=!1,this._mris=[],this._isAutoSignInSuccess=!1,this._isAccountSwitch=!1,this._userType=d.Unknown,this.TextMessageMeMri="21:ME",this.userLoggedInUpdatedEvent=new a.default}internal_feedInfo(e,t,i,o,n,r,a){const s=[];if(e&&e!==this._skypeId){this._skypeId=e,this._phoneAccountId=this.isPhoneAuthUser()?this._skypeId.substring(4):void 0,this._phoneAccountIdHex=this._phoneAccountId?l.byteArrayToHexString(l.computeSHA256(this._phoneAccountId)):void 0,this.userLoggedInUpdatedEvent.fire(!0),s.push(c.userGuestUpdated);this._updateUserType(i)&&s.push(c.userTypeUpdated)}if(t&&(this._msaId=t),i&&this._cid!==i){this._cid=i,s.push(c.userCidUpdated);this._updateUserType(i)&&s.push(c.userTypeUpdated)}o&&(this._cidHex=o),a&&(this._fakeCidForPhoneAuthUserTelemetry=a);const d=[this.getSkypeMri()];if(this._msaId&&d.push("1:"+this._msaId),this._mris=d,this._cid){const e=this._cidDeferred;e&&(this._cidDeferred=void 0,e.resolve(this._cid))}if(this._cidHex){const e=this._cidHexDeferred;e&&(this._cidHexDeferred=void 0,e.resolve(this._cidHex))}if(this._fakeCidForPhoneAuthUserTelemetry){const e=this._fakeCidForPhoneAuthUserTelemetryDeferred;e&&(this._fakeCidForPhoneAuthUserTelemetryDeferred=void 0,e.resolve(this._fakeCidForPhoneAuthUserTelemetry))}n&&(this._msaIdFromSignIn=n),r&&(this._anid=r),s.length&&this.trigger(s)}getSkypeId(){return this._skypeId}hasSkypeId(){return!!this._skypeId}hasLogoutStarted(){return this._logoutStarted}logoutUser(){this.isUserLoggedIn()&&(this._logoutStarted=!0,this.userLoggedInUpdatedEvent.fire(!1))}isUserLoggedIn(){return this._skypeId&&!this._logoutStarted}getDisplayableSecondaryIdentifier(){const e=this.getSkypeId();return n.startsWith(e,"live:")?this.getMsaId():e}getMsaId(){return this._msaId}getUserCidHex(){return this._cidHex?this._cidHex:void 0}getUserCidHexAsync(){return this._cidHex?s.Resolved(this._cidHex):this.isPhoneAuthUser()?(this._cidHex="",s.Resolved(this._cidHex)):(this._cidHexDeferred||(this._cidHexDeferred=s.Defer()),this._cidHexDeferred.promise())}getSkypeMri(){return"8:"+this._skypeId}isMyMri(e){return n.includes(this._mris,e)||e.toLowerCase()===this.TextMessageMeMri.toLowerCase()}getMyMris(){return n.clone(this._mris)}getUserCidAsync(){return this._cid?s.Resolved(this._cid):this.isPhoneAuthUser()?(this._cid="",s.Resolved(this._cid)):(this._cidDeferred||(this._cidDeferred=s.Defer()),this._cidDeferred.promise())}getUserCid(){return this._cid?this._cid:void 0}getUserAccountType(){return this._userType}getUserCidNoSubscription(){return this._cid?this._cid:void 0}getPhoneAuthUserTelemetryCidPayloadAsync(){return!this.isPhoneAuthUser()||this._cid||this._cidHex?s.Resolved(void 0):this._fakeCidForPhoneAuthUserTelemetry?s.Resolved(this._fakeCidForPhoneAuthUserTelemetry):(this._fakeCidForPhoneAuthUserTelemetryDeferred||(this._fakeCidForPhoneAuthUserTelemetryDeferred=s.Defer()),this._fakeCidForPhoneAuthUserTelemetryDeferred.promise())}getMsaIdFromSignIn(){return this._msaIdFromSignIn}isGuestUser(){return n.startsWith(this._skypeId,"guest:")}isPhoneAuthUser(){var e,t;return null!==(t=null===(e=this._skypeId)||void 0===e?void 0:e.startsWith(".pn."))&&void 0!==t&&t}getUserAccountTypeNoSubscription(){return this._userType}getPhoneAuthUserAccountId(){return this._phoneAccountId}getPhoneAuthUserAccountIdHex(){return this._phoneAccountIdHex}getAnid(){return this._anid}getAutoSignInResult(){return this._isAutoSignInSuccess}setAutoSignInResult(e){this._isAutoSignInSuccess=e}getIsAccountSwitch(){return this._isAccountSwitch}setIsAccountSwitch(e){this._isAccountSwitch=e}test_reset(){0}_getUserType(e){return this._skypeId?this.isPhoneAuthUser()?e?d.PhoneAuthWithLinkedMsa:d.PhoneAuth:d.MSA:d.Unknown}_updateUserType(e){const t=this._getUserType(e);return t!==this._userType&&(this._userType=t,!0)}};o.__decorate([r.disableWarnings],u.prototype,"getSkypeId",null),o.__decorate([r.disableWarnings],u.prototype,"hasSkypeId",null),o.__decorate([r.disableWarnings],u.prototype,"hasLogoutStarted",null),o.__decorate([r.disableWarnings],u.prototype,"logoutUser",null),o.__decorate([r.disableWarnings],u.prototype,"isUserLoggedIn",null),o.__decorate([r.disableWarnings],u.prototype,"getDisplayableSecondaryIdentifier",null),o.__decorate([r.disableWarnings],u.prototype,"getMsaId",null),o.__decorate([r.disableWarnings],u.prototype,"getUserCidHex",null),o.__decorate([r.disableWarnings],u.prototype,"getUserCidHexAsync",null),o.__decorate([r.disableWarnings],u.prototype,"getSkypeMri",null),o.__decorate([r.disableWarnings],u.prototype,"isMyMri",null),o.__decorate([r.disableWarnings],u.prototype,"getMyMris",null),o.__decorate([r.disableWarnings],u.prototype,"getUserCidAsync",null),o.__decorate([(0,r.autoSubscribeWithKey)(c.userCidUpdated)],u.prototype,"getUserCid",null),o.__decorate([(0,r.autoSubscribeWithKey)(c.userTypeUpdated)],u.prototype,"getUserAccountType",null),o.__decorate([r.disableWarnings],u.prototype,"getUserCidNoSubscription",null),o.__decorate([r.disableWarnings],u.prototype,"getPhoneAuthUserTelemetryCidPayloadAsync",null),o.__decorate([r.disableWarnings],u.prototype,"getMsaIdFromSignIn",null),o.__decorate([r.disableWarnings],u.prototype,"isGuestUser",null),o.__decorate([r.disableWarnings],u.prototype,"isPhoneAuthUser",null),o.__decorate([r.disableWarnings],u.prototype,"getUserAccountTypeNoSubscription",null),o.__decorate([r.disableWarnings],u.prototype,"getPhoneAuthUserAccountId",null),o.__decorate([r.disableWarnings],u.prototype,"getPhoneAuthUserAccountIdHex",null),o.__decorate([r.disableWarnings],u.prototype,"getAutoSignInResult",null),o.__decorate([r.disableWarnings],u.prototype,"getIsAccountSwitch",null),u=o.__decorate([r.AutoSubscribeStore],u),t.default=new u},272202:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.internal_feedAndPersistInfo=function(e,t,i,o,d){const u=a.default.getData(r.InternalKeys.MyUserStoreData)||{};let p;t&&(-1!==t.indexOf("@")||c.default.isValidNumberString(t))&&(p=t);const g={},h=i||l.default.getUserCid()||u.msaCid,m=o||l.default.getUserCidHex()||u.msaCidHex;p=p||l.default.getMsaId()||u.msaId,t=t||l.default.getMsaIdFromSignIn()||u.msaIdFromSignIn,d=d||l.default.getAnid()||u.anid,h&&(g.msaCid=h);m&&(g.msaCidHex=m);p&&(g.msaId=p);t&&(g.msaIdFromSignIn=t);d&&(g.anid=d);let S;S=(0,s.default)(g,u)?n.Resolved():a.default.putData(r.InternalKeys.MyUserStoreData,g);return l.default.internal_feedInfo(e,g.msaId,g.msaCid,g.msaCidHex,g.msaIdFromSignIn,g.anid),S};const o=i(197582),n=o.__importStar(i(397691)),r=i(434343),a=o.__importDefault(i(652032)),s=o.__importDefault(i(114818)),l=o.__importDefault(i(363091)),c=o.__importDefault(i(808164));o.__importStar(i(446574))},139221:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(815063),a=o.__importStar(i(516778)),s=i(815146),l=o.__importStar(i(678032)),c=o.__importDefault(i(808222)),d=o.__importDefault(i(760989)),u=o.__importStar(i(704704)),p=o.__importStar(i(252665)),g=i(651046),h=/[^\u0009\u000A\u000D\u0020-\u007E\u0085\u00A0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]/gm;const m=new class{constructor(){this._sessionId=d.default.newGuid(),this._isRunningInBackgroundTokenRefreshMode=!1,this._isEdgeShoreline=!1}initialize(e){var t,o,a,c;this._appShellType=s.AppShellType.Browser,this._frontendHost=e.frontendHostOverride||"web.skype.com",this._loadPath=e.loadPath||"",this._loadPathFragment=e.loadPathFragment||"",this._initialSkypeURI=e.initialSkypeURI;const d=(e.appVersion||"").split(".");if(4===d.length)this._appVersion=e.appVersion;else{let e=4-d.length;for(;e>0;)d.push("0"),e--;this._appVersion=n.take(d,4).join(".")}if(this._osVersion=r.EnvironmentInfo.OsVersion,this._locale=r.EnvironmentInfo.SystemLocale,this._systemModel=r.EnvironmentInfo.SystemModel,this._deviceId=r.EnvironmentInfo.DeviceId,this._androidOsVersionCode=r.EnvironmentInfo.AndroidOsVersionCode,this._uwpPackageVersion=r.EnvironmentInfo.UWPPackageVersion,this._msixPackageVersion=r.EnvironmentInfo.MSIXPackageVersion,this._cpuCount=r.EnvironmentInfo.CPUCount?r.EnvironmentInfo.CPUCount:void 0,this._cpuSpeedMhz=r.EnvironmentInfo.CPUSpeed?Math.round(r.EnvironmentInfo.CPUSpeed/1e3):void 0,this._chipset=r.EnvironmentInfo.Chipset,this._deviceName=r.EnvironmentInfo.DeviceName,this._deviceType=r.EnvironmentInfo.DeviceType,this._systemManufacturer=r.EnvironmentInfo.SystemManufacturer,this._languageCode=r.EnvironmentInfo.SystemLanguage,this._countryCode=r.EnvironmentInfo.SystemCountry,this._appIdentifier=r.EnvironmentInfo.AppIdentifier,this._preInstallPartnerId=r.EnvironmentInfo.PreInstallPartnerId,this._mccCode=r.EnvironmentInfo.NetworkMCCCode,this._mncCode=r.EnvironmentInfo.NetworkMNCCode,this._cpuAbi=r.EnvironmentInfo.CpuAbi,this._androidPrivateCpuAbi=r.EnvironmentInfo.AndroidPrivateCpuAbi,this._isChromeOS=r.EnvironmentInfo.IsChromeOS,this._isFireOS=r.EnvironmentInfo.IsFireOS,this._isDuoDevice=r.EnvironmentInfo.IsDuoDevice,this._uiTestsConfig=r.EnvironmentInfo.UITestsConfig,null===(t=e.loadPath)||void 0===t?void 0:t.search("correlationId")){const t=e.loadPath.substring(e.loadPath.indexOf("?")+1,e.loadPath.length).split("&");let i;n.each(t,(e=>{const t=e.split("=");"correlationId"===t[0]&&(i=t[1])})),i&&(this._sessionId=i)}{const e=this._locale.split("-");this._languageCode=e.shift(),e.length?this._countryCode=e.join("-"):this._countryCode=l.getDefaultLocale(this._languageCode).toUpperCase();const t=new URLSearchParams(i.g.location.search),n=this.getBrowserNameParam(t.get("browsername"));this._browserName=n;const r=null===(a=null===(o=window.navigator)||void 0===o?void 0:o.userAgentData)||void 0===a?void 0:a.brands,d=null==r?void 0:r.some((e=>e.brand===s.EdgeShorelinePanelName));navigator.userAgent.toLowerCase().includes("edg")?(void 0!==this._browserName&&(this._browserName===s.EdgeBrowserNameType.edgeCanaryShoreline||this._browserName===s.EdgeBrowserNameType.edgeDevShoreline||this._browserName===s.EdgeBrowserNameType.edgeBetaShoreline||this._browserName===s.EdgeBrowserNameType.edgeStableShoreline)||d)&&(this._isEdgeShoreline=!0):this._isEdgeShoreline=!1,this._isEdgeShoreline?this._browserName?localStorage.setItem(s.EdgeShorelineBrowserName,this._browserName):this._browserName=null!==(c=localStorage.getItem(s.EdgeShorelineBrowserName))&&void 0!==c?c:this._systemModel:void 0===this._browserName&&(this._browserName=this._systemModel),this._browserVersion=this._systemManufacturer}r.EnvironmentInfo.onLocaleChange.subscribe((e=>{this._locale=e.systemLocale,this._languageCode=e.systemLanguage,this._countryCode=e.systemCountry,u.setSystemLocale(this._locale),p.setLocale(this._locale)})),this._appInitTime=e.startupTimestamp,this._appLoadDuration=e.loadDuration,this._activateKind=e.activateKind,this._startupInfo=e.startupInfo,this._skypeProcessInfo=e.skypeProcessInfo,e.skypeData&&(this._errorText=e.skypeData.errorText,this._startupSkypeId=e.skypeData.startupSkypeId,this._startupSignInName=e.skypeData.startupSignInName,this._startupRawSkypeToken=e.skypeData.startupRawSkypeToken,this._startupSkypeTokenExpiration=e.skypeData.startupSkypeTokenExpiration),this._corporateInstallationTag=r.EnvironmentInfo.CorporateInstallationTag}getBrowserName(){return this._browserName}getBrowserNameParam(e){switch(e){case"edge_canary_shoreline":return s.EdgeBrowserNameType.edgeCanaryShoreline;case"edge_dev_shoreline":return s.EdgeBrowserNameType.edgeDevShoreline;case"edge_beta_shoreline":return s.EdgeBrowserNameType.edgeBetaShoreline;case"edge_stable_shoreline":return s.EdgeBrowserNameType.edgeStableShoreline;default:return}}getBrowserVersion(){return this._browserVersion}isEdgeShoreline(){return this._isEdgeShoreline}setChatEndpointId(e){this._chatEndpointId=e}getChatEndpointId(){return this._chatEndpointId}getEchoMri(){return"8:echo123"}getMurphyMri(){return"8:inspector.murphy"}getCallLogMri(){return"48:calllogs"}getBlockedPSTNMri(){return"4:+000000"}getDocRoot(){return""}getSoundPath(e=""){return this.getDocRoot()+"media/"+e}getWasmPath(e){return this.getDocRoot()+"resources/"+e}getProtocol(){return"undefined"!=typeof location&&void 0!==location.protocol?location.protocol:"https:"}getFrontendHost(){return this._frontendHost}getFrontendBaseUrl(){return this.getProtocol()+"//"+this._frontendHost}getOAuthEndUrl(){return this.getFrontendBaseUrl()+"/oauthcallback"}deprecatedGetAppShellType(){return this._appShellType}getAppShellTypeName(){return s.AppShellType[this.deprecatedGetAppShellType()]}getPlatformType(){return r.EnvironmentInfo.getPlatformType()}isWindowCloseOnRight(){return this.getPlatformType()===r.PlatformType.Windows||this.getPlatformType()===r.PlatformType.Linux}getPreInstallPartnerId(){return this._preInstallPartnerId}getPlatformTypeName(){return r.EnvironmentInfo.getPlatformTypeName()}getOSVersion(){return this._osVersion}getAndroidOSVersionCode(){return this._androidOsVersionCode}isChromeOS(){return!!this._isChromeOS}isFireOS(){return!!this._isFireOS}isDuoDevice(){return!!this._isDuoDevice}getUITestsConfigOption(e){var t;return!!(null===(t=this._uiTestsConfig)||void 0===t?void 0:t[r.UITestsConfigOptions[e]])}getDeviceName(e=!0){const t=this._deviceName||this.getSystemModel();return e?t.replace(h," "):t}getIOSModel(){if(this.getPlatformType()!==r.PlatformType.iOS||!this._deviceType)return s.IOSModel.None;switch(this._deviceType.toLowerCase()){case"ipad":return s.IOSModel.iPad;case"iphone":return s.IOSModel.iPhone;case"ipod touch":return s.IOSModel.iPodTouch;default:return s.IOSModel.None}}getCPUCount(){return this._cpuCount}getCPUSpeedMhz(){return this._cpuSpeedMhz}getChipset(){return this._chipset}getDeviceId(){return this._deviceId}getSystemModel(){return this._systemModel}getSystemManufacturer(){return this._systemManufacturer||""}getSystemLocale(){return this._locale}getCountryCode(){return this._countryCode}getSystemLanguage(){return this._languageCode}getAppInitTime(){return this._appInitTime}getStartupInfo(){return this._startupInfo}getActivateKind(){return this._activateKind}getSkypeProcessInfo(){return this._skypeProcessInfo}getAppLoadDuration(){return this._appLoadDuration}getSessionId(){return this._sessionId}getMccCode(){return this._mccCode}getMncCode(){return this._mncCode}getXSkypeCallerHeader(){return`Skype4Life ${this.getAppShellTypeName()} ${this.getPlatformTypeName()} (${this.getAppVersion()})`}isDebug(){return!1}getAppVersion(){return this._appVersion}getUWPPackageVersion(){return this._uwpPackageVersion}getMSIXPackageVersion(){return this._msixPackageVersion}getAppIdentifier(){return this._appIdentifier}_getCpuType(){return this._androidPrivateCpuAbi||this._cpuAbi||""}_getAppCenterConfig(){return{appSecret:g.appSecret}}getAppCenterSecret(){return this._getAppCenterConfig().appSecret||""}getAdjustToken(){return""}getSkypePlatformId(){return c.default.platformId.web}getClientId(){return c.default.clientId}isS4LPlatformId(e){return n.some(c.default.platformId,(t=>t===e))}getUIVersion(){return this.getSkypePlatformId()+"/"+this.getAppVersion()}getUIVersionWithPartnerID(){let e=this.getUIVersion();const t=this.getPreInstallPartnerId();return t&&(e=e+"/"+t),e}getInitialUrl(){return this._initialSkypeURI||this.getFrontendBaseUrl()+this._loadPath}getLoadPath(){return this._loadPath}getLoadPathFragment(){return this._loadPathFragment}getErrorText(){return this._errorText}getStartupSkypeId(){return this._startupSkypeId}getStartupRawSkypeToken(){return this._startupRawSkypeToken}getStartupSignInName(){return this._startupSignInName}getStartupSkypeTokenExpiration(){return this._startupSkypeTokenExpiration}getAriaTenantToken(){return c.default.telemetry.ariaTenantToken}getAriaTelemetryTenantToken(){return c.default.telemetry.ariaTelemetryTenantToken}getAriaCallingTenantToken(){return c.default.telemetry.calling.ariaCallingTenantToken}getAriaAddinTenantToken(){return c.default.telemetry.ariaAddinTenantToken}getAriaCQFTenantToken(){return this.getAriaPluginlessMediaTenantToken()}getAriaPluginlessMediaTenantToken(){return c.default.telemetry.calling.ariaPluginlessMediaTenantToken}getAriaCommerceTenantToken(){return c.default.telemetry.ariaCommerceTenantTokenLIVE}getAriaSkypeFraudTelemetryTenantToken(){return c.default.telemetry.ariaSkypeFraudTelemetryTenantToken}getAriaPluginlessTrouterTenantToken(){return c.default.telemetry.calling.ariaPluginlessTrouterTenantToken}getFootprintTenantId(){return c.default.footprintTenantId}isUsingExperimentalNav(){return!1}isRTL(){return a.International.isRTL()}isElectronOsx(){return!1}isElectronWindows(){return!1}isElectronLinux(){return!1}isAnyWindowsOrOsx(){return this.isElectronWindows()||this.isElectronOsx()}isWindows11(){return this._isExpectedRSVersion((e=>e>=s.RSVersion.TwentyOneH2))}isWindows10(){return this._isExpectedRSVersion((e=>e<s.RSVersion.TwentyOneH2),(e=>10===e))}isWindows10Plus(){return this.isElectronWindows()&&(this.isWindows10()||this.isWindows11())}isCurrentRSVersionGreaterThan(e){return this._isExpectedRSVersion((t=>t>e))}isCurrentRSVersionEqualOrGreaterThan(e){return this._isExpectedRSVersion((t=>t>=e))}isCorporateInstallation(){return!n.isUndefined(this._corporateInstallationTag)}isRunningInBackgroundTokenRefreshMode(){return this._isRunningInBackgroundTokenRefreshMode}getCorporateInstallationTag(){return this._corporateInstallationTag||""}getCrashReportingAppId(){return"web.skype.com"===this._frontendHost?c.default.crashReporting.web.marketAppId:-1!==this._frontendHost.indexOf("preview.web.skype.com")?c.default.crashReporting.web.previewAppId:"0.0.84.1"===this.getAppVersion()||-1!==this._frontendHost.indexOf("dev.web.skype.com")?c.default.crashReporting.web.devAppId:-1!==this._frontendHost.indexOf("latest.web.skype.com")?c.default.crashReporting.web.latestAppId:void 0}isAlexaPlatformId(e){return e===c.default.platformId.alexa}getClientVersionAndPlatform(){return`${this.getSkypePlatformId()}/${this.getAppVersion()}`}_isExpectedRSVersion(e,t){const i=this.getOSVersion(),o=i.split(".")[2];if(t){const n=i.split(".")[0];return t(parseInt(n,10))&&e(parseInt(o,10))}return e(parseInt(o,10))}};t.default=m},375240:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.emptyProviderFlags=t.providers=void 0;const o=i(197582),n=i(815063),r=i(217041),a=o.__importDefault(i(150343)),s=o.__importDefault(i(363091));class l extends r.StoreBase{constructor(){super(),this.key="guest",this.flags=()=>({entitlements:{canHaveEntitlements:!this._isGuestUser},userSettings:{canChangeAppearance:!this._isGuestUser},navigation:{canAccessProfileSettings:!this._isGuestUser,canAccessGeneralSettings:!this._isGuestUser,canAccessCallingSettings:!this._isGuestUser,canAccessMessagingSettings:!this._isGuestUser,canAccessConversationDetails:!this._isGuestUser,canAccessRecentsList:!this._isGuestUser,canAccessUserDetails:!this._isGuestUser,canAccessPaymentsSettings:!this._isGuestUser},addins:{canSetupNativeReminders:void 0,canSetupInAppReminders:void 0,canUseAddins:!this._isGuestUser},onboarding:{canSeeCoachMarks:!this._isGuestUser,canSeeTutorial:!this._isGuestUser},identity:{canSeeGuestUpsell:this._isGuestUser,canUseSlashCommands:!this._isGuestUser},contacts:{canInvitePeople:!this._isGuestUser,canHaveContacts:!this._isGuestUser},meetnow:{canInvitePeople:!this._isGuestUser,canRequestPermissionsBeforeNavigation:!this._isGuestUser,canSetupLeftNavigation:!this._isGuestUser,canNavigateBackFromJoinInvite:!this._isGuestUser,canEditMeetingName:!this._isGuestUser,isUserNameRequired:this._isGuestUser},call:{canRefreshTokenBeforeRecordingCall:!this._isGuestUser,canSendMessageToParticipant:!this._isGuestUser,canProvideSpeechConsent:!this._isGuestUser,canEndCallForAll:!this._isGuestUser},cookie:{canSetThirdPartyCookies:void 0}}),s.default.subscribe((()=>{const e=s.default.isGuestUser();this._isGuestUser!==e&&(this._isGuestUser=e,this.trigger())})),this._isGuestUser=s.default.isGuestUser()}}const c=new l;class d extends r.StoreBase{constructor(){super(),this.flags=()=>({entitlements:{canHaveEntitlements:void 0},userSettings:{canChangeAppearance:void 0},navigation:{canAccessProfileSettings:void 0,canAccessGeneralSettings:void 0,canAccessCallingSettings:void 0,canAccessMessagingSettings:void 0,canAccessConversationDetails:void 0,canAccessRecentsList:void 0,canAccessUserDetails:void 0,canAccessPaymentsSettings:void 0},addins:{canSetupNativeReminders:void 0,canSetupInAppReminders:void 0,canUseAddins:void 0},onboarding:{canSeeCoachMarks:void 0,canSeeTutorial:void 0},identity:{canSeeGuestUpsell:void 0,canUseSlashCommands:void 0},contacts:{canInvitePeople:void 0,canHaveContacts:void 0},meetnow:{canInvitePeople:void 0,canRequestPermissionsBeforeNavigation:void 0,canSetupLeftNavigation:void 0,canNavigateBackFromJoinInvite:void 0,canEditMeetingName:void 0,isUserNameRequired:void 0},call:{canRefreshTokenBeforeRecordingCall:void 0,canSendMessageToParticipant:void 0,canProvideSpeechConsent:void 0,canEndCallForAll:void 0},cookie:{canSetThirdPartyCookies:!n.BrowserEnvironment.isEngineWebkit()&&a.default.getConfigSettingsNoSubscription().cookie.canSetThirdPartyCookies}}),a.default.subscribe((()=>{this.trigger()}))}}const u=new d;const p=new class{constructor(){this.key="platform",this.flags=()=>({entitlements:{canHaveEntitlements:void 0},userSettings:{canChangeAppearance:void 0},navigation:{canAccessProfileSettings:void 0,canAccessGeneralSettings:void 0,canAccessCallingSettings:void 0,canAccessMessagingSettings:void 0,canAccessConversationDetails:void 0,canAccessRecentsList:void 0,canAccessUserDetails:void 0,canAccessPaymentsSettings:void 0},addins:{canSetupNativeReminders:!1,canSetupInAppReminders:!1,canUseAddins:void 0},onboarding:{canSeeCoachMarks:void 0,canSeeTutorial:void 0},identity:{canSeeGuestUpsell:void 0,canUseSlashCommands:void 0},contacts:{canInvitePeople:void 0,canHaveContacts:void 0},meetnow:{canInvitePeople:void 0,canRequestPermissionsBeforeNavigation:void 0,canSetupLeftNavigation:void 0,canNavigateBackFromJoinInvite:void 0,canEditMeetingName:void 0,isUserNameRequired:void 0},call:{canRefreshTokenBeforeRecordingCall:void 0,canSendMessageToParticipant:void 0,canProvideSpeechConsent:void 0,canEndCallForAll:void 0},cookie:{canSetThirdPartyCookies:!n.BrowserEnvironment.isEngineWebkit()&&a.default.getConfigSettingsNoSubscription().cookie.canSetThirdPartyCookies}})}};t.providers={ecsProvider:u,guestProvider:c,platformProvider:p},t.emptyProviderFlags={entitlements:{canHaveEntitlements:void 0},userSettings:{canChangeAppearance:void 0},navigation:{canAccessProfileSettings:void 0,canAccessGeneralSettings:void 0,canAccessCallingSettings:void 0,canAccessMessagingSettings:void 0,canAccessConversationDetails:void 0,canAccessRecentsList:void 0,canAccessUserDetails:void 0,canAccessPaymentsSettings:void 0},addins:{canSetupNativeReminders:void 0,canSetupInAppReminders:void 0,canUseAddins:void 0},onboarding:{canSeeCoachMarks:void 0,canSeeTutorial:void 0},identity:{canSeeGuestUpsell:void 0,canUseSlashCommands:void 0},contacts:{canInvitePeople:void 0,canHaveContacts:void 0},meetnow:{canInvitePeople:void 0,canRequestPermissionsBeforeNavigation:void 0,canSetupLeftNavigation:void 0,canNavigateBackFromJoinInvite:void 0,canEditMeetingName:void 0,isUserNameRequired:void 0},call:{canRefreshTokenBeforeRecordingCall:void 0,canSendMessageToParticipant:void 0,canProvideSpeechConsent:void 0,canEndCallForAll:void 0},cookie:{canSetThirdPartyCookies:void 0}}},81686:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCategoryHeaderHeight=function(e){return 33;return e?36:32}},333211:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});i(197582).__exportStar(i(81686),t)},560890:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.USER_COLORS_ORDER=void 0,t.mapIdToUserColorKey=function(e){return t.USER_COLORS_ORDER[function(e){const t=e.includes("@")?e.indexOf("@"):e.length,i=e.substring(t-3,t);let o=0;for(const e of i)o+=e.charCodeAt(0);return o}(e)%t.USER_COLORS_ORDER.length]},t.USER_COLORS_ORDER=["blue","orange","yellow","green","teal","indigo","purple","pink"]},621099:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ASMClientFailure=void 0;const o=i(240297);class n extends o.TelemetryEventBase{constructor(e,t,i,o){super(),this._serviceName=e,this._statusCode=t,this._scenario=i,this._tracingHeaders=o}getEventName(){return"ams_failure"}getAttributes(){const e=super.getAttributes();return e.service_name=this._serviceName,e.scenario=this._scenario,e.status_code=this._statusCode,e.request_id=this._tracingHeaders.requestId,e.correlation_id=this._tracingHeaders.correlationId,this._tracingHeaders.transactionId&&(e.transaction_id=this._tracingHeaders.transactionId),e}}t.ASMClientFailure=n},633788:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trackRenderTime=function(e,t){r.track(new p(e,t))},t.trackImageLoadError=function(e,t){r.track(new g(e))},t.trackActionRender=function(e,t){r.track(new m(e,t))},t.trackActionEvent=function(e,t){r.track(new S(e,t))},t.TrackForwarding=function(e){r.track(new _(e))};const o=i(197582),n=o.__importStar(i(44717)),r=o.__importStar(i(85385)),a=i(240297),s=o.__importDefault(i(685734));var l,c,d;!function(e){e[e.Agent=0]="Agent",e[e.Connector=1]="Connector",e[e.Unknown=2]="Unknown",e[e.User=3]="User"}(l||(l={})),function(e){e[e.Rendered=0]="Rendered",e[e.Executed=1]="Executed"}(c||(c={})),function(e){e[e.Forwarded=0]="Forwarded",e[e.ImageLoadError=1]="ImageLoadError"}(d||(d={}));class u extends a.TelemetryEventBase{constructor(e){super(),this._sender=e}getEventName(){return"caap_adaptivecard"}getAttributes(){const e=super.getAttributes();return e.SenderType=l[f(this._sender)],this._allowedToTrackPII(this._sender)&&(e.SenderIdentity=this._sender,e.SenderName=s.default.getDisplayableUserByMri(this._sender).getDisplayName()),e}_allowedToTrackPII(e){return[l.Agent,l.Connector].indexOf(f(e))>=0}}class p extends u{constructor(e,t){super(e),this._renderTime=t}getAttributes(){const e=super.getAttributes();return e.RenderTime=this._renderTime,e}}class g extends u{getAttributes(){const e=super.getAttributes();return e.Action=d[d.ImageLoadError],e}}class h extends u{constructor(e,t){super(e),this._action=t}}class m extends h{getAttributes(){const e=super.getAttributes();return e.Action=c[c.Rendered],e.Type=this._action.type,e}}class S extends h{getAttributes(){const e=super.getAttributes();return e.Action=c[c.Executed],e.Type=this._action.type,e}}class _ extends u{getAttributes(){const e=super.getAttributes();return e.Action=d[d.Forwarded],e}}function f(e){let t=l.Unknown;return n.isAgent(e)?t=l.Agent:n.isConnector(e)?t=l.Connector:n.isUserMri(e)&&(t=l.User),t}},127565:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AdIdProvisioningEvent=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297);class r extends n.TelemetryEventBase{constructor(e,t){super(),this._msacid=e,this._adId=t}getEventName(){return r.EventName}getAttributes(){return o.assign(super.getAttributes(),{ad_id:this._adId||"",MSACID:this._msacid})}shouldExcludeUserIdentificationInfo(){return!0}shouldExcludeDeviceIdentificationInfo(){return!0}getPiiAttributes(){return{}}}t.AdIdProvisioningEvent=r,r.EventName="adid_provisioning"},47440:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertLoaded=t.AlertClicked=t.AlertsPanelOpened=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(815146)),a=i(240297);class s extends a.TelemetryEventBase{getEventName(){return"all_notifications_panel"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.AlertsPanelOpened=class extends s{constructor(e,t){super(),this._alertTypesInfo=e,this._conversationsCount=t}getActionName(){return"Opened"}getAttributes(){return n.assign({},super.getAttributes(),{ReactionItemsCount:this._alertTypesInfo.reactionsCount,EngagementItemsCount:this._alertTypesInfo.engagementsCount,QuoteItemsCount:this._alertTypesInfo.quotesCount,MentionItemsCount:this._alertTypesInfo.mentionsCount,ConversationsCount:this._conversationsCount})}};t.AlertClicked=class extends s{constructor(e){super(),this._type=e}getActionName(){return"ItemClicked"}getAttributes(){return n.assign({},super.getAttributes(),{Type:r.AlertTypeForTelemetry[this._type]})}};t.AlertLoaded=class extends s{constructor(e){super(),this._type=e}getActionName(){return"ItemLoaded"}getAttributes(){return n.assign({},super.getAttributes(),{Type:r.AlertTypeForTelemetry[this._type]})}}},135041:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CommerceStratusRequest=t.ApiTelemetryEventBase=t.StratusApiTelemetry=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(139221)),a=i(240297);var s;!function(e){e[e.CreateSkypeOrder=0]="CreateSkypeOrder",e[e.GetAtuContract=1]="GetAtuContract",e[e.ReactivateCredit=2]="ReactivateCredit",e[e.GetNonceForSsoLogin=3]="GetNonceForSsoLogin",e[e.GetCurrencyConversion=4]="GetCurrencyConversion",e[e.ProcessIOSTransaction=5]="ProcessIOSTransaction",e[e.ValidateIOSProductAvailability=6]="ValidateIOSProductAvailability",e[e.PostIOSTransactionStatus=7]="PostIOSTransactionStatus",e[e.ProcessGPlayTransaction=8]="ProcessGPlayTransaction",e[e.ValidateGPlayProductAvailability=9]="ValidateGPlayProductAvailability",e[e.ProcessGPlayReceipt=10]="ProcessGPlayReceipt",e[e.PostGPlayTransactionStatus=11]="PostGPlayTransactionStatus",e[e.CancelGPlayOrder=12]="CancelGPlayOrder",e[e.GetOrderDetails=13]="GetOrderDetails",e[e.GetAtuLimits=14]="GetAtuLimits",e[e.CancelAtu=15]="CancelAtu",e[e.EnableAtu=16]="EnableAtu",e[e.GetPurchaseOptions=17]="GetPurchaseOptions",e[e.GetCallerIdSettings=18]="GetCallerIdSettings",e[e.GetCallerIdNumbers=19]="GetCallerIdNumbers",e[e.AddCallerIdNumber=20]="AddCallerIdNumber",e[e.VerifyCallerIdNumber=21]="VerifyCallerIdNumber",e[e.RemoveCallerIdNumber=22]="RemoveCallerIdNumber",e[e.SetCallerId=23]="SetCallerId",e[e.DisableCallerId=24]="DisableCallerId",e[e.GetCallerIdAutoSelectNumbers=25]="GetCallerIdAutoSelectNumbers",e[e.SetCallerIdAutoSelect=26]="SetCallerIdAutoSelect",e[e.GetCallerIdCountries=27]="GetCallerIdCountries",e[e.GetCallingDestinations=28]="GetCallingDestinations",e[e.GetOffersCredit=29]="GetOffersCredit",e[e.GetOffersSubscriptions=30]="GetOffersSubscriptions",e[e.GetAvailableCountries=31]="GetAvailableCountries",e[e.GetCountryAreas=32]="GetCountryAreas",e[e.GetCountryPrefixes=33]="GetCountryPrefixes",e[e.GetCountryAreaPrefixes=34]="GetCountryAreaPrefixes",e[e.GetSuggestedNumberByCountry=35]="GetSuggestedNumberByCountry",e[e.GetSuggestedNumberByPrefix=36]="GetSuggestedNumberByPrefix",e[e.ReserveSkypeNumber=37]="ReserveSkypeNumber",e[e.GetDataCollectionFields=38]="GetDataCollectionFields",e[e.GetDataCollectionValuesList=39]="GetDataCollectionValuesList",e[e.GetDataCollectedForCountry=40]="GetDataCollectedForCountry",e[e.GetFrenchCities=41]="GetFrenchCities",e[e.GetConsumerEntitlement=42]="GetConsumerEntitlement",e[e.FetchSkypeNumbers=43]="FetchSkypeNumbers",e[e.GetEntitlementRecommendations=44]="GetEntitlementRecommendations",e[e.GetSubscriptionOffers=45]="GetSubscriptionOffers",e[e.GetUpgradeRecommendations=46]="GetUpgradeRecommendations",e[e.GetCallEventRecommendations=47]="GetCallEventRecommendations",e[e.GetSMSRatesOldApi=48]="GetSMSRatesOldApi",e[e.GetSMSRates=49]="GetSMSRates",e[e.GetBillingPeriods=50]="GetBillingPeriods",e[e.GetBillingPeriodsAssets=51]="GetBillingPeriodsAssets",e[e.GetSendCreditOptions=52]="GetSendCreditOptions",e[e.GetSendCreditOrderStatus=53]="GetSendCreditOrderStatus",e[e.CheckSendCreditBeneficiaryEligibility=54]="CheckSendCreditBeneficiaryEligibility",e[e.SendCredit=55]="SendCredit",e[e.GetBillingInformations=56]="GetBillingInformations",e[e.KycRequireVerificationCheck=57]="KycRequireVerificationCheck",e[e.KycIsVerified=58]="KycIsVerified",e[e.KycPhoneVerifySaveNumber=59]="KycPhoneVerifySaveNumber",e[e.KycGetPresentationLink=60]="KycGetPresentationLink",e[e.KycGetPresentationStatus=61]="KycGetPresentationStatus",e[e.KycPhoneSavePending=62]="KycPhoneSavePending",e[e.KycPhoneVerifyPending=63]="KycPhoneVerifyPending"}(s||(t.StratusApiTelemetry=s={}));class l extends a.TelemetryEventBase{getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.ApiTelemetryEventBase=l;t.CommerceStratusRequest=class extends l{constructor(e){super(),this._props={},this._props.ApiFunction=s[e],this._startTime=Date.now()}getEventName(){return"s4l_stratus_commerce"}getAriaTenantTokenOverride(){return r.default.getAriaCommerceTenantToken()}getActionName(){return"StratusRequest"}stopTimer(){return this._props.TimeSpent=String(Date.now()-this._startTime),this}addAttributes(e){return this._props.Method=e.method,this._props.AcceptType=e.acceptType,this._props.EndpointUrl=e.endpointUrl,this._props.StatusCode=e.statusCode,this._props.StratusStatusCode=e.stratusStatusCode,this}getAttributes(){return n.assign(super.getAttributes(),this._props)}}},1002:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LifeCycle=t.AppLifeCycleEvent=void 0;const o=i(380157),n=i(240297);class r extends n.TelemetryEventBase{constructor(e,t,i){super(),this._lifeCycle=e,this._dwellTime=i,this._lifeCycleChangeTimestamp=t||Date.now()}getEventName(){return"app_open_status"}getAttributes(){const e=super.getAttributes();return e.LifeCycle=this._lifeCycle,e.LifeCycleChangeTimestamp=this._lifeCycleChangeTimestamp,this._dwellTime&&(e.DwellTime=this._dwellTime),this._lifeCycle===a.StartUp&&this._notificationsPermission&&(e.NotificationsPermission=o.PermissionStatus[this._notificationsPermission]),e}setNotificationsPermission(e){this._notificationsPermission=e}}var a;t.AppLifeCycleEvent=r,function(e){e.StartUp="Start",e.Active="Resume",e.Background="Background",e.Blur="Blur",e.Focus="Focus"}(a||(t.LifeCycle=a={}))},199789:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppRatingDialogTelemetryEvent=t.AppRatingDialogAction=void 0;const o=i(240297);var n;!function(e){e[e.ShouldShowDialog=0]="ShouldShowDialog",e[e.ShowDialog=1]="ShowDialog",e[e.ClickYes=2]="ClickYes",e[e.ClickNo=3]="ClickNo",e[e.ClickClose=4]="ClickClose",e[e.RateSuccess=5]="RateSuccess",e[e.RateFail=6]="RateFail"}(n||(t.AppRatingDialogAction=n={}));class r extends o.TelemetryEventBase{constructor(e,t=""){super(),this._action=e,this._metric=t}getEventName(){return"all_prompt_app_rating"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],e.Metric=this._metric,e}}t.AppRatingDialogTelemetryEvent=r},263611:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AtuPaymentAuthorizationNavigated=t.AutoRechargeDisabled=t.AutoRechargeEnabled=t.AutoRechargeModalOpenDisabled=t.AutoRechargeModalOpenEnabled=t.AutoRechargeToggleInactive=t.AutoRechargeToggleDisabled=t.AutoRechargeToggleEnabled=t.AtuEventTypes=void 0;const o=i(197582).__importDefault(i(139221)),n=i(240297);var r;!function(e){e.AtuToggleEnabled="AutoRechargeToggleEnabled",e.AtuToggleDisabled="AutoRechargeToggleDisabled",e.AtuToggleInactive="AutoRechargeToggleInactive",e.AtuModalOpenEnabled="AutoRechargeModalOpenEnabled",e.AtuModalOpenDisabled="AutoRechargeModalOpenDisabled",e.AtuEnabled="AutoRechargeEnabled",e.AtuDisabled="AutoRechargeDisabled",e.AtuPaymentAuthorizationNavigated="AtuPaymentAuthorizationNavigated"}(r||(t.AtuEventTypes=r={}));class a extends n.TelemetryEventBase{getEventName(){return"s4l_atu"}getAriaTenantTokenOverride(){return o.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.AutoRechargeToggleEnabled=class extends a{getActionName(){return r.AtuToggleEnabled}};t.AutoRechargeToggleDisabled=class extends a{getActionName(){return r.AtuToggleDisabled}};t.AutoRechargeToggleInactive=class extends a{getActionName(){return r.AtuToggleInactive}};t.AutoRechargeModalOpenEnabled=class extends a{getActionName(){return r.AtuModalOpenEnabled}};t.AutoRechargeModalOpenDisabled=class extends a{getActionName(){return r.AtuModalOpenDisabled}};t.AutoRechargeEnabled=class extends a{getActionName(){return r.AtuEnabled}};t.AutoRechargeDisabled=class extends a{getActionName(){return r.AtuDisabled}};t.AtuPaymentAuthorizationNavigated=class extends a{getActionName(){return r.AtuPaymentAuthorizationNavigated}}},548700:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PESAvatarChanged=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297),r=i(815146);class a extends n.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._triggeredBy=t}getEventName(){return"messaging_avatarpicker"}getAttributes(){const e=super.getAttributes();return e.Action=r.AvatarPickerAction[this._action],this._triggeredBy&&(e.TriggeredBy=this._triggeredBy),e}}t.PESAvatarChanged=class extends a{constructor(e,t,i,o,n,r){super(e,t),this._isSuccess=i,this._isUserAvatar=o,this._errorType=n,this._errorStatusCode=r}getAttributes(){const e=super.getAttributes();return e.IsSuccess=this._isSuccess,e.IsUserAvatar=this._isUserAvatar,o.isUndefined(this._errorType)||(e.ErrorType=r.AvatarChangeError[this._errorType]),o.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),e}}},683833:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingASOnChatListTelemetryEvents=t.BingASOnChatList=void 0;const o=i(111851);var n;!function(e){e.ConversationList="conversationList"}(n||(t.BingASOnChatList=n={}));class r extends o.BingASTelemetryEvents{constructor(e,t,i){super(e),this._origin=t,this._suggestion=i}getAttributes(){const e=super.getAttributes();return e.Origin=this._origin,e.Suggestion=this._suggestion,e}}t.BingASOnChatListTelemetryEvents=r},111851:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingASTelemetryEvents=t.ASAction=void 0;const o=i(240297);var n;!function(e){e[e.Shown=0]="Shown",e[e.Clicked=1]="Clicked",e[e.Dismissed=2]="Dismissed"}(n||(t.ASAction=n={}));class r extends o.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._muid=t}getEventName(){return"bing_auto_suggestion"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],void 0!==this._muid&&(e.MUID=this._muid),e}}t.BingASTelemetryEvents=r},813484:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingIABHeaderTelemetryEvents=t.IABHeaderAction=void 0;const o=i(240297);var n;!function(e){e[e.Shown=0]="Shown",e[e.Clicked=1]="Clicked"}(n||(t.IABHeaderAction=n={}));class r extends o.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"bing_iab_header"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],e}}t.BingIABHeaderTelemetryEvents=r},620145:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingImageClickNotificationTelemetry=void 0;const o=i(240297);class n extends o.TelemetryEventBase{constructor(e){super(),this._statusCode=e}getEventName(){return"bing_image_click_notified"}getAttributes(){const e=super.getAttributes();return e.StatusCode=this._statusCode,e}}t.BingImageClickNotificationTelemetry=n},512030:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingSearchHistoryTelemetryEvents=t.HistoryAction=void 0;const o=i(240297);var n;!function(e){e[e.Shown=0]="Shown",e[e.Clicked=1]="Clicked"}(n||(t.HistoryAction=n={}));class r extends o.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"bing_search_history"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],e}}t.BingSearchHistoryTelemetryEvents=r},443140:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingPermissionsInteractionEvent=t.BingInteractionEvent=void 0;const o=i(197582),n=i(380157),r=o.__importStar(i(815146)),a=i(240297);class s extends a.TelemetryEventBase{getEventName(){return"caap_bing"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.BingInteractionEvent=class extends s{constructor(e){super(),this._entryPoint=e}getActionName(){return"bing_interaction"}getAttributes(){const e=super.getAttributes();return e.InteractionType=r.BingEntryPoint[this._entryPoint],e}};t.BingPermissionsInteractionEvent=class extends s{constructor(e,t){super(),this._entryPoint=e,this._permissionStatus=t}getActionName(){return"bing_location_permissions"}getAttributes(){const e=super.getAttributes();return e.PermissionEntryPoint=r.BingPermissionsEntryPoint[this._entryPoint],e.Status=this._stringFromPermissionStatus(),e}_stringFromPermissionStatus(){switch(this._permissionStatus){case n.PermissionStatus.Denied:return"Denied";case n.PermissionStatus.Granted:return"Granted";case n.PermissionStatus.Unavailable:return"Unavailable";case n.PermissionStatus.Unknown:default:return"Unknown"}}}},670593:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingTrendingTelemetryEvents=t.TrendingAction=void 0;const o=i(240297);var n;!function(e){e[e.Shown=0]="Shown",e[e.Clicked=1]="Clicked"}(n||(t.TrendingAction=n={}));class r extends o.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._muid=t}getEventName(){return"bing_trending_search"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],void 0!==this._muid&&(e.MUID=this._muid),e}}t.BingTrendingTelemetryEvents=r},243544:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingUpsellOrigin=t.BingUpsellTelemetryEventAction=void 0;const o=i(240297);var n,r;!function(e){e.UpsellDismissed="UpsellDismissed",e.UpsellClicked="UpsellClicked"}(n||(t.BingUpsellTelemetryEventAction=n={})),function(e){e.SERP="SERP",e.MagicBot="MagicBot"}(r||(t.BingUpsellOrigin=r={}));class a extends o.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"all_bing_upsell"}getAttributes(){const e=super.getAttributes();return e.Action=n[this.props.action]||"UnknownAction",e.Origin=this.props.upsellOrigin,e}}t.default=a},680458:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingWebSearchHistoryTelemetryEvents=t.BingWebSearchAction=void 0;const o=i(240297);var n;!function(e){e[e.Delete=0]="Delete",e[e.ClearAll=1]="ClearAll"}(n||(t.BingWebSearchAction=n={}));class r extends o.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"bing_web_search_history"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],e}}t.BingWebSearchHistoryTelemetryEvents=r},361096:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BotSearchIncorrectName=t.ShareMagicBotLink=t.AutoAddBotExperiment=t.BotShareInteraction=t.BotMessageInteraction=t.BotContactInteraction=t.BotChatInteraction=t.BotCategoryMoreInteraction=t.BotProfileInteraction=t.BotInteraction=void 0;const o=i(815146),n=i(240297);class r extends n.TelemetryEventBase{getEventName(){return"caap_bot"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.BotInteraction=class extends r{constructor(e){super(),this._interaction=e}getActionName(){return o.BotsInteraction[this._interaction]}};t.BotProfileInteraction=class extends r{constructor(e,t,i){super(),this._botId=e,this._botName=t,this._isViewingProfile=i}getActionName(){return this._isViewingProfile?o.BotsInteraction[o.BotsInteraction.ViewBotProfile]:o.BotsInteraction[o.BotsInteraction.CloseBotProfile]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botId,e.BotName=this._botName,e}};t.BotCategoryMoreInteraction=class extends r{constructor(e){super(),this._category=e}getActionName(){return o.BotsInteraction[o.BotsInteraction.ClickMoreForCategory]}getAttributes(){const e=super.getAttributes();return e.Category=this._category,e}};t.BotChatInteraction=class extends r{constructor(e,t,i,o){super(),this._botId=e,this._botName=t,this._isBotAContact=i,this._originatingPanel=o}getActionName(){return o.BotsInteraction[o.BotsInteraction.ClickChatWithBot]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botId,e.BotName=this._botName,e.IsBotAContact=this._isBotAContact,e.OriginatingPanel=o.BotsOriginatingPanel[this._originatingPanel],e}};t.BotContactInteraction=class extends r{constructor(e,t,i){super(),this._botInteraction=e,this._botId=t,this._botName=i}getActionName(){return o.BotsInteraction[this._botInteraction]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botId,e.BotName=this._botName,e}};t.BotMessageInteraction=class extends r{constructor(e,t){super(),this._botId=e,this._botName=t}getActionName(){return o.BotsInteraction[o.BotsInteraction.MessageBot]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botId,e.BotName=this._botName,e}};t.BotShareInteraction=class extends r{constructor(e,t,i){super(),this._botId=e,this._botName=t,this._originatingPanel=i}getActionName(){return o.BotsInteraction[o.BotsInteraction.ClickShareBot]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botId,e.BotName=this._botName,e.OriginatingPanel=o.BotsOriginatingPanel[this._originatingPanel],e}};t.AutoAddBotExperiment=class extends r{constructor(e){super(),this._botId=e}getActionName(){return o.BotsInteraction[o.BotsInteraction.AutoAddBot]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botId,e}};t.ShareMagicBotLink=class extends r{constructor(){super()}getActionName(){return o.BotsInteraction[o.BotsInteraction.ShareMagicBotLink]}};t.BotSearchIncorrectName=class extends r{constructor(e){super(),this._botID=e}getActionName(){return o.BotsInteraction[o.BotsInteraction.SearchIncorrectName]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botID,e}}},882299:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserError=t.BrowserShareExternal=t.BrowserForward=t.BrowserOpenUrl=t.BrowserCopy=t.BrowserSession=t.BrowserCallingSupportEvent=t.BrowserUrlSharedEvent=t.BrowserSwiftCardSharedEvent=t.BrowserShareUrlPreviewEvent=t.BrowserShareCardPreviewEvent=void 0;const o=i(197582),n=o.__importStar(i(636076)),r=i(148540),a=o.__importStar(i(964647)),s=o.__importStar(i(44717)),l=o.__importStar(i(815146)),c=o.__importDefault(i(363091)),d=i(240297);class u extends d.TelemetryEventBase{constructor(e,t,i){super(),this._origin=e,this._shareAction=t,this._integration=i}getEventName(){return"browser_action"}getEventTraceMode(){return d.TelemetryTraceMode.EventName}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.Origin=l.BrowserOrigin[this._origin],this._shareAction&&(e.ShareAction=l.BrowserShareAction[this._shareAction]),this._integration&&(e.Integration=this._integration),e}}t.BrowserShareCardPreviewEvent=class extends u{constructor(e,t,i,o){super(o,t,i),this._cardType=e}getActionName(){return"browser_shareCardPreview"}getAttributes(){const e=super.getAttributes();return e.CardType=this._cardType,e}};t.BrowserShareUrlPreviewEvent=class extends u{constructor(e,t,i,o){super(o,t,i),this._url=e}getActionName(){return"browser_shareUrlPreview"}getPiiAttributes(){const e=super.getPiiAttributes();return e.Url={value:this._url,piiKind:n.AWTPiiKind.Uri},e}};t.BrowserSwiftCardSharedEvent=class extends u{constructor(e,t,i,o,n,r,a){super(o,t,i),this._cardType=e,this._forward=n,this._conversationId=r,this._cmid=a}getActionName(){return"browser_shareCard"}getCorrelationAttributes(){return{Message_Correlation_Id:a.getCorrelationIdFromMessageParts(s.skypeIdToMri(c.default.getSkypeId()),this._conversationId,this._cmid)}}getAttributes(){const e=super.getAttributes();return e.CardType=this._cardType,e.Forward=this._forward,e}};t.BrowserUrlSharedEvent=class extends u{constructor(e,t,i,o,n,r,a){super(o,void 0,t),this._url=e,this._forward=n,this._conversationId=r,this._cmid=a}getActionName(){return"browser_shareUrl"}getCorrelationAttributes(){return{Message_Correlation_Id:a.getCorrelationIdFromMessageParts(s.skypeIdToMri(c.default.getSkypeId()),this._conversationId,this._cmid)}}getAttributes(){const e=super.getAttributes();return e.ShareAction=l.BrowserShareAction[l.BrowserShareAction.ShareUrlFromBrowser],e.Forward=this._forward,e}getPiiAttributes(){const e=super.getPiiAttributes();return e.Url={value:this._url,piiKind:n.AWTPiiKind.Uri},e}};class p extends d.TelemetryEventBase{constructor(e,t){super(),this._support=e,this._error=t}getEventName(){return"browser_calling_support"}getAttributes(){var e;const t=super.getAttributes();return t.Action=r.CallSupport[this._support],this._error&&(t.ErrorMessage=null!==(e=this._error.message)&&void 0!==e?e:"Unknown"),t}}t.BrowserCallingSupportEvent=p;class g extends d.TelemetryEventBase{constructor(e,t){super(),this._url=e,this._origin=t}getEventName(){return"inapp_browser"}getAttributes(){const e=super.getAttributes();return e.operation=this.getOperation(),e.origin=this._origin,e}getPiiAttributes(){const e=super.getPiiAttributes();return e.url={value:this._url,piiKind:n.AWTPiiKind.Uri},e}}t.BrowserSession=class extends g{constructor(e,t,i){super(e,t),this._duration=i}getOperation(){return"browserSession"}getAttributes(){const e=super.getAttributes();return e.duration=this._duration,e}};t.BrowserCopy=class extends g{getOperation(){return"copy"}};t.BrowserOpenUrl=class extends g{getOperation(){return"openUrlInBrowser"}};t.BrowserForward=class extends g{getOperation(){return"forward"}};t.BrowserShareExternal=class extends g{getOperation(){return"shareExternal"}getActionName(){}};t.BrowserError=class extends g{getOperation(){return"error"}}},678247:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(240297);class n extends o.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"calendar_extension"}getAttributes(){const e=super.getAttributes();return e.Action=this._action,e}}t.default=n},95480:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CaptionsNotificationClickedEvent=t.NotificationActionButtonType=t.CaptionsNotificationDisplayedEvent=void 0;const o=i(240297);class n extends o.TelemetryEventBase{getEventName(){return"calling_call_captions_notifications"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}var r;t.CaptionsNotificationDisplayedEvent=class extends n{constructor(e,t,i){super(),this._callId=e,this._type=t,this._variantB=i}getActionName(){return"NotificationDisplayed"}getAttributes(){const e=super.getAttributes();return e.CallId=this._callId,e.Type=this._type,e.Variant=void 0===this._variantB?"-":!1===this._variantB?"B":"A",e}},function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary"}(r||(t.NotificationActionButtonType=r={}));t.CaptionsNotificationClickedEvent=class extends n{constructor(e,t,i,o){super(),this._callId=e,this._type=t,this._variantB=i,this._actionButton=o}getActionName(){return"NotificationClicked"}getAttributes(){const e=super.getAttributes();return e.CallId=this._callId,e.Type=this._type,e.ActionButton=r[this._actionButton],e.Variant=void 0===this._variantB?"-":!1===this._variantB?"B":"A",e}}},509979:(e,t,i)=>{var o,n;Object.defineProperty(t,"__esModule",{value:!0}),t.CallPermissionsBrowserEvent=t.InitialScreen=t.AVPermissionsAction=void 0,function(e){e[e.Cancel=0]="Cancel",e[e.ContinueWithoutAV=1]="ContinueWithoutAV",e[e.PermissionGranted=2]="PermissionGranted",e[e.None=3]="None"}(o||(t.AVPermissionsAction=o={})),function(e){e[e.AllowPrompt=0]="AllowPrompt",e[e.DenyPrompt=1]="DenyPrompt"}(n||(t.InitialScreen=n={}));const r=i(240297);class a extends r.TelemetryEventBase{constructor(e){super(),this._initialState=e,this._action=o.None}getEventName(){return"calling_permissions_browser"}setAction(e){this._action=e}getAttributes(){const e=super.getAttributes();return e.Action=o[this._action],e.InitialState=n[this._initialState],e}}t.CallPermissionsBrowserEvent=a},287153:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CallTabsListTelemetry=t.CallTabsButtonsTelemetry=t.CallTabsSearchTelemetry=void 0;const o=i(249549),n=i(240297),r=i(815146);class a extends n.TelemetryEventBase{getEventName(){return"s4l_call_tabs"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.CallTabsSearchTelemetry=class extends a{constructor(e){super(),this._origin=e}getActionName(){return"CallTabsSearch"}getAttributes(){const e=super.getAttributes();return e.origin=r.SearchPanelInitiator[this._origin],e}};t.CallTabsButtonsTelemetry=class extends a{constructor(e,t,i,o){super(),this._tab=e,this._button=t,this._event=i,this._userHasEntitlements=o}getActionName(){return"CallTabsButtons"}getAttributes(){const e=super.getAttributes();return e.tab=o.Tab[this._tab],e.button=o.Buttons[this._button],e.event=o.ButtonEvents[this._event],this._userHasEntitlements&&(e.userHasEntitlements=this._userHasEntitlements),e}};t.CallTabsListTelemetry=class extends a{constructor(e,t){super(),this._tab=e,this._event=t}getActionName(){return"CallTabsList"}getAttributes(){const e=super.getAttributes();return e.tab=o.Tab[this._tab],e.event=o.ButtonEvents[this._event],e}}},885852:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorFilterRenderDurationEvent=t.ColorFilterFailureEvent=t.QRCodeScan=t.CameraCaptureEvent=t.CameraFirstFrame=t.CameraFailureEvent=t.MediaCapturedEvent=t.VideoReencode=t.MarkupAdded=t.CameraVisibleTime=t.MediaSource=t.MediaType=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(679468),a=o.__importStar(i(815146)),s=o.__importStar(i(370950)),l=i(240297);var c,d;!function(e){e[e.Photo=0]="Photo",e[e.Video=1]="Video",e[e.Document=2]="Document",e[e.Whiteboard=3]="Whiteboard"}(c||(t.MediaType=c={})),function(e){e.OfficeLens="OL",e.FSM="FSM"}(d||(t.MediaSource=d={}));class u extends l.TelemetryEventBase{constructor(){super()}getEventName(){return"camera_action"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),s.isOfficeLensTelemetryActive()&&(e.IsOfficeLens=!0),e}}t.CameraVisibleTime=class extends u{constructor(e,t){super(),this._startTime=e,this._endTime=t}getActionName(){return"CameraVisibleTime"}getAttributes(){return n.assign(super.getAttributes(),{VisibleTimeMs:this._endTime-this._startTime})}};t.MarkupAdded=class extends u{constructor(e,t,i,o,n,r,a,s,l){super(),this._entryPoint=e,this._ink=t,this._text=i,this._stickers=o,this._overlay=n,this._filter=r,this._stickerIds=a,this._crop=s,this._rotate=l}getActionName(){return"MarkupAdded"}getAttributes(){const e=super.getAttributes();return e.EntryPoint=a.PostSource[this._entryPoint],e.Ink=this._ink||!1,e.Text=this._text||!1,e.Sticker=this._stickers||!1,e.Overlay=this._overlay||!1,e.Filter=this._filter||!1,e.StickerIds=this._stickerIds?this._stickerIds.join():"",this._crop&&(e.Crop=this._crop),this._rotate&&(e.Rotate=this._rotate),e}};t.VideoReencode=class extends u{constructor(e){super(),this._videoDuration=e,this._startTime=0,this._reencodeDuration=0,this._success=!1,this._error="",this._startTime=Date.now()}getActionName(){return"VideoReencode"}getAttributes(){return n.assign(super.getAttributes(),{Duration:this._reencodeDuration,Success:this._success,VideoDuration:this._videoDuration,Error:this._error})}setStatus(e,t=""){this._success=e,this._error=t,this._reencodeDuration=this._startTime>0?Date.now()-this._startTime:0}};class p extends u{constructor(e){super(),this._source=e}getAttributes(){return n.assign(super.getAttributes(),{Source:this._source})}}t.MediaCapturedEvent=class extends p{getActionName(){return"MediaCaptured"}constructor(e,t,i=1,o,n){super(t),this._success=e,this._mediaCount=i,this._failureReason=o,this._errorCode=n}getAttributes(){const e=super.getAttributes();return e.Success=this._success,void 0!==this._failureReason&&(e.FailureReason=this._failureReason,this._errorCode&&(e.ErrorCode=this._errorCode)),e.MediaCount=this._mediaCount,e}};t.CameraFailureEvent=class extends p{getActionName(){return"CameraFailure"}constructor(e,t,i){super(t),this._failureReason=e,this._failureDetails=i}getAttributes(){return n.assign(super.getAttributes(),{FailureReason:this._failureReason,FailureDetails:this._failureDetails||""})}};t.CameraFirstFrame=class extends p{getActionName(){return"CameraFirstFrame"}constructor(e,t){super(t),this._duration=Date.now()-e}getAttributes(){return n.assign(super.getAttributes(),{Duration:this._duration})}};t.CameraCaptureEvent=class extends p{getActionName(){return this._captureEventName}constructor(e,t,i,o,n,r,a=1){super(n),this._captureEventName=e,this._success=t,this._failureReason=i,this._resolution=o,this._mediaType=r,this._mediaCount=a}getAttributes(){const e=super.getAttributes();return e.Success=this._success,void 0!==this._failureReason&&(e.FailureReason=this._failureReason),void 0!==this._resolution&&(e.CaptureResolution=this._resolution),void 0!==this._mediaType&&(e.MediaType=c[this._mediaType]),e.MediaCount=this._mediaCount,e}};t.QRCodeScan=class extends u{getActionName(){return"QRCodeScan"}constructor(e){super(),this._scanState=e}getAttributes(){return n.assign(super.getAttributes(),{QRCodeScanState:r.QRCodeScanState[this._scanState]})}};t.ColorFilterFailureEvent=class extends u{getActionName(){return"ColorFilterFailure"}constructor(e){super(),this._failure=e}getAttributes(){return n.assign(super.getAttributes(),{Failure:this._failure})}};t.ColorFilterRenderDurationEvent=class extends u{getActionName(){return"ColorFilterRenderDuration"}constructor(e){super(),this._renderDuration=e}getAttributes(){return n.assign(super.getAttributes(),{RenderDuration:this._renderDuration})}}},126033:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CaptureFailureTelemetry=t.CaptureSuccessTelemetry=t.CaptureProviderScenarioTelemetry=void 0;const o=i(240297);var n;!function(e){e[e.Avatar=0]="Avatar",e[e.Camera=1]="Camera",e[e.Picker=2]="Picker",e[e.QRCode=3]="QRCode"}(n||(t.CaptureProviderScenarioTelemetry=n={}));class r extends o.TelemetryEventBase{constructor(e,t,i){super(),this._scenario=e,this._provider=t,this._success=i}getEventName(){return"CaptureProvider"}getAttributes(){const e=super.getAttributes();return e.Scenario=n[this._scenario],e.Provider=this._provider,e.Success=this._success,e}}t.CaptureSuccessTelemetry=class extends r{constructor(e,t,i,o){super(e,t,!0),this._videoCount=i,this._imageCount=o}getEventName(){return"CaptureProvider"}getAttributes(){const e=super.getAttributes();return e.VideoCount=this._videoCount,e.ImageCount=this._imageCount,e}};t.CaptureFailureTelemetry=class extends r{constructor(e,t,i,o){super(e,t,!1),this._userCancelled=i,this._failureReason=o}getEventName(){return"CaptureProvider"}getAttributes(){const e=super.getAttributes();return void 0!==this._userCancelled&&(e.UserCancelled=this._userCancelled),void 0!==this._failureReason&&(e.FailureReason=this._failureReason),e}}},768741:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CelebrationNotificationTelemetryEvent=t.CelebrationNotificationType=t.CelebrationNotificationTelemetryEventAction=void 0;const o=i(197582),n=o.__importStar(i(636076)),r=o.__importStar(i(496486)),a=i(240297);var s,l;!function(e){e.Created="NotificationCreated",e.SelectedTopContactUserProfileIncomplete="SelectedTopContactUserProfileIncomplete",e.PullCampaignContentServiceFailed="PullCampaignContentServiceFailed",e.ContactCutOffLimitReached="ContactCutOffLimitReached",e.NotificationAlreadyShown="NotificationAlreadyShown"}(s||(t.CelebrationNotificationTelemetryEventAction=s={})),function(e){e.EngagementPopCard="EngagementPopCard"}(l||(t.CelebrationNotificationType=l={}));class c extends a.TelemetryEventBase{constructor(e){super(),this._telemetryEventOptions=e}shouldSend(){return!0}getEventName(){return"celebration_notification"}getPiiAttributes(){return this._telemetryEventOptions.celebratedUserSkypeId?r.merge(super.getPiiAttributes(),{CelebratedUser:{value:this._telemetryEventOptions.celebratedUserSkypeId,piiKind:n.AWTPiiKind.Identity}}):super.getPiiAttributes()}getAttributes(){return r.assign(super.getAttributes(),this._getOwnAttributes())}_getOwnAttributes(){return r.assign(super.getAttributes(),{Action:this._telemetryEventOptions.action,NotificationType:this._telemetryEventOptions.notificationType||"",CampaignId:this._telemetryEventOptions.cardCampaignId,CardGuid:this._telemetryEventOptions.cardGuid,NumberOfTopContacts:this._telemetryEventOptions.numberOfTopContacts,DidIdentifyDifferentTopContacts:this._telemetryEventOptions.didIdentifyDifferentTopContacts})}}t.CelebrationNotificationTelemetryEvent=c},661689:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CensusTelemetryEvent=void 0;const o=i(197582).__importStar(i(496486)),n=i(496486),r=i(278230),a=i(380157),s=i(196761),l=i(240297),c=i(15752),d="Unset",u="Set";class p extends l.TelemetryEventBase{constructor(e){super(),this._props=e}getEventName(){return"people_census"}getAttributes(){const e=super.getAttributes();e.AvatarState=this._props.userHasAvatar?u:d,e.PhoneVerificationState=this._mapBooleanOrUndefinedToCensusState(this._props.userHasVerifiedPhoneNumber),e.EmailVerificationState=this._mapBooleanOrUndefinedToCensusState(this._props.userHasVerifiedEmail),e.LocalAddressBookState=this._props.userHasAddressBookConnected?u:d,e.AppearInSearchState=this._props.userAppearsInSearch?u:d,e.AppearInSuggestionsState=this._props.userAppearsInSuggestions?u:d,e.UserSearchPrivacyOption=this._props.userSearchPrivacyOption,e.AvatarPolicy=e.AvatarPolicy=(0,r.flow)(n.camelCase,n.upperFirst)(this._props.userAvatarPolicy),e.UserPresenceStatus=this._props.userPresenceStatus,e.UserMoodStatus=this._props.userMoodStatus?u:d,e.DisplayableNonAuthorizedContacts=this._props.displayableNonAuthorizedContacts,e.UserHasSplitViewEnabled=this._props.userHasSplitViewEnabled?u:d;const{city:t,state:i,province:l,country:p}=this._props.userLocation;return e.UserLocationCity=t?u:d,e.UserLocationState=i?u:d,e.UserLocationProvince=l?u:d,e.UserLocationCountry=p?u:d,e.InviteFreeContactsCount=this._props.inviteFreeContactsCount,e.ManuallyAddedContactsCount=this._props.manuallyAddedContactsCount,e.BlockedContactsCount=this._props.blockedContactsCount,e.BotsContactsCount=this._props.botsCount,e.FavoritesContactsCount=this._props.favoriteContactsCount,e.AllNonBlockedContactsCount=this._props.nonBlockedContactsCount,e.OneWayShortCircuitContactsCount=this._props.oneWayShortCircuitContactsCount,e.TwoWayShortCircuitContactsCount=this._props.twoWayShortCircuitContactsCount,e.PstnContactsCount=this._props.pstnContactsCount,e.EngagedContactsCount=this._props.engagedContactsCount,e.AllShownContactsCount=this._props.allShownContactsCount,e.RemovedAuthorizedContactsCount=this._props.removedAuthorizedContactsCount,e.UserDisplayNameWordCount=this._props.displayNamePartsLength,e.FirstNameAndLastNameAreMatching=this._props.firstAndSecondAreMatching,e.DefaultReactionsCount=this._props.numberOfDefaultReactions,e.CustomReactionsCount=this._props.numberOfCustomReactions,e.UserIsNew=this._props.userIsNew,e.DaysFromWizardCompletion=this._props.daysFromWizardCompletion||d,e.WasUpgradedFromDelphiToElectonDate=this._props.migratedDateFromDelphiToElectron||d,e.HasReadReceiptsEnabled=(0,n.isUndefined)(this._props.hasReadReceiptsEnabled)?d:this._props.hasReadReceiptsEnabled,!1!==this._props.hasReadReceiptsEnabled?e.ReadReceiptsDisabledReason=d:e.ReadReceiptsDisabledReason=!1===this._props.readReceiptsSettingPreference?s.ReadReceiptsSettingOrigin[s.ReadReceiptsSettingOrigin.UserAction]:this._props.userPresenceStatus===c.UserStatus[c.UserStatus.Hidden]?s.ReadReceiptsSettingOrigin[s.ReadReceiptsSettingOrigin.UserStatusUpdate]:s.ReadReceiptsSettingOrigin[s.ReadReceiptsSettingOrigin.OptOut],e.UserSignedInIdType=this._props.userSignedInIdType||d,e.UserSkypeIdType=this._props.userSkypeIdType||d,(0,n.isUndefined)(this._props.osNotificationsEnabled)||(e.IsOsNotificationPermissionEnabled=this._props.osNotificationsEnabled),e.NotificationsPermission=a.PermissionStatus[this._props.notificationsPermission],e.CameraPermission=a.PermissionStatus[this._props.cameraPermission],e.MicrophonePermission=a.PermissionStatus[this._props.microphonePermission],e.ContactsPermission=a.PermissionStatus[this._props.contactsPermission],e.ConversationsCountTotal=this._props.countConversationsTotal,e.ConversationsCountDisplayable=this._props.countConversationsDisplayable,e.ConversationsCountDisplayed=this._props.countConversationsDisplayed,e.RecentListConversationsCount=this._props.numberOfRecentListConversations,e.RecentListSkype1on1ConversationsCount=this._props.numberOfRecentListSkype1on1Conversations,e.RecentListSkypeGroupConversationsCount=this._props.numberOfRecentListSkypeGroupConversations,e.RecentListSkypeBotConversationsCount=this._props.numberOfRecentListSkypeBotConversations,e.RecentListPstnConversationsCount=this._props.numberOfRecentListPstnConversations,e.RecentListPrivateConversationsCount=this._props.numberOfRecentListPrivateConversations,e.RecentListConversationsWithTabsCount=this._props.numberOfRecentListConversationsWithTabs,e.RecentListOtherConversationsCount=this._props.numberOfRecentListOtherConversations,e.ArchivedConversationsCount1on1=this._props.archived1on1ConversationsCount,e.ArchivedConversationsCountGroup=this._props.archivedGroupConversationsCount,e.Muted1on1ConversationsCount=this._props.muted1on1ConversationsCount,e.MutedGroupConversationsCount=this._props.mutedGroupConversationsCount,e.SmartMutedConversationsCount=this._props.smartMutedConversationsCount,e.TranslatedConversationsCount=this._props.translatedConversationsCount,o.isUndefined(this._props.profileMigrationParams)||(e.ProfileMigratedV2=this._mapBooleanOrUndefinedToCensusState(!0),e.ProfilePhonesCount=this._props.profileMigrationParams.phonesCount,e.ProfileMsaPhonesCount=this._props.profileMigrationParams.msaPhonesCount,e.ProfileSkypeVerifiedPhonesCount=this._props.profileMigrationParams.skypeVerifiedPhonesCount,e.ProfileSkypeVisiblePhonesCount=this._props.profileMigrationParams.skypeVisiblePhonesCount,e.ProfileEmailsCount=this._props.profileMigrationParams.emailsCount,e.ProfileMsaEmailsCount=this._props.profileMigrationParams.msaEmailsCount,e.ProfileSkypeVerifiedEmailsCount=this._props.profileMigrationParams.skypeVerifiedEmailsCount,e.ProfileCountry=this._mapBooleanOrUndefinedToCensusState(this._props.profileMigrationParams.countryVisible),e.ProfileBirthday=this._mapBooleanOrUndefinedToCensusState(this._props.profileMigrationParams.birthdayVisible),e.ProfileGender=this._mapBooleanOrUndefinedToCensusState(this._props.profileMigrationParams.genderVisible)),e.FollowingChannelsCount=this._props.followingChannelsCount,e.HasSuggestedMSNMarket=this._mapBooleanOrUndefinedToCensusState(this._props.hasSuggestedMSNMarket),e}_mapBooleanOrUndefinedToCensusState(e){return o.isUndefined(e)?"Unknown":e?u:d}}t.CensusTelemetryEvent=p},680954:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(335103),r=i(815146),a=o.__importDefault(i(550385)),s=i(96575);class l extends a.default{constructor(e,t){super("ChatService",s.ScenarioName.ChatServiceRequest,{scenario:e,connectionType:r.ChatServiceConnectionType[t]},"chatServiceScenario_",e)}failed(e){const t=Object.assign(Object.assign({},l._extractResponseMetadata(e,!0)),{Canceled:e.canceled,TimedOut:e.timedOut});this._failed("Request Failed",t)}retry(e){const t=Object.assign(Object.assign({},l._extractResponseMetadata(e,!0)),{Canceled:e.canceled,TimedOut:e.timedOut});this._retry("Request Failed, will retry",t)}succeeded(e){this._succeeded(l._extractResponseMetadata(e))}static _extractResponseMetadata(e,t=!1){const i=n.ChatServiceErrorHandler.getChatServiceErrorResponseMetadata(e),o={ContextId:i.contextId,Date:i.date};return t&&(o.ErrorCode=i.errorCode,o.StatusCode=i.statusCode,o.StatusText=i.statusText,o.ErrorMessage=i.errorMessage),o}}t.default=l},669431:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChatServiceConversationCreated=t.ChatServiceRedirectEvent=t.ChatServiceTransformationFailureEvent=t.ChatServiceForceSyncConversationEvent=t.ChatServiceBundleProcessingErrorEvent=t.ChatServiceInternalFailureEvent=t.ChatServiceFailureEvent=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(815146)),a=i(240297),s=o.__importStar(i(44717)),l=i(511134),c=o.__importStar(i(340482));class d extends a.TelemetryEventBase{constructor(e,t,i,o,n,r){super(),this._scenario=e,this._mriType=t,this._attributes=i,this._metadata=o,this._connectionType=n,this._conv=r}getEventName(){return"chat_service_failure"}getAttributes(){const e=super.getAttributes();if(e.scenario=this._scenario,e.mriType=this._mriType||"",n.assign(e,this._attributes),e.error_code=this._metadata.errorCode,e.StatusCode=this._metadata.statusCode,e.StatusText=this._metadata.statusText,e.ErrorMessage="Unknown"===this._metadata.errorMessage?this._metadata.statusText:this._metadata.errorMessage,e.context_id=this._metadata.contextId,e.ServerTime=this._metadata.date,e.Connection_Type=r.ChatServiceConnectionType[this._connectionType],this._metadata.canceled&&(e.Canceled=this._metadata.canceled),this._metadata.timedOut&&(e["TimedOut "]=this._metadata.timedOut),this._metadata.msCv&&(e.CorrelationVector=this._metadata.msCv),this._metadata.retryAfter&&(e.RetryAfter=this._metadata.retryAfter),this._conv){const t=s.isOneOnOneConversation(this._conv.id)?this._conv.getOtherPartyMri():void 0,i=s.getThreadSuffix(this._conv.id);i&&(e.ThreadSuffix=i),e.MriNamespace=s.getMriNamespace(this._conv.id),t&&(e.RecipientMriNamespace=s.getMriNamespace(t))}return e}}t.ChatServiceFailureEvent=d;t.ChatServiceInternalFailureEvent=class extends d{constructor(e,t,i,o,n,r,a,s){super(e,t,i,o,n,s),this._networkType=r,this._isNetworkingAvailable=a}getAttributes(){const e=super.getAttributes();return e.NetworkType=this._networkType,e.WasNetworkingAvailable=this._isNetworkingAvailable,e}getEventName(){return"chat_service_app_internal_failure"}};class u extends a.TelemetryEventBase{constructor(e){super(),this._description=e}getEventName(){return"chat_service_bundle_processing_failure"}getAttributes(){const e=super.getAttributes();return e.description=this._description,e}}t.ChatServiceBundleProcessingErrorEvent=u;class p extends a.TelemetryEventBase{constructor(e,t){super(),this._reason=e,this._syncSuccess=t}getEventName(){return"chat_service_force_sync"}getAttributes(){const e=super.getAttributes();return e.Reason=this._reason,e.ForceSyncSuccess=this._syncSuccess,e}}t.ChatServiceForceSyncConversationEvent=p;class g extends a.TelemetryEventBase{constructor(e){super(),this._attributes=e}getEventName(){return"chat_service_transformation_failure"}getAttributes(){const e=super.getAttributes();return e.Message=this._attributes.reason,e.ResourceType=this._attributes.resourceType,void 0!==this._attributes.mriNamespace&&(e.MriNamespace=this._attributes.mriNamespace),void 0!==this._attributes.threadSuffix&&(e.ThreadSuffix=this._attributes.threadSuffix),this._attributes.cv&&(e.CorrelationVector=this._attributes.cv),this._attributes.error&&(e.Error=this._attributes.error),e}}t.ChatServiceTransformationFailureEvent=g;class h extends a.TelemetryEventBase{constructor(e){super(),this._attributes=e}getEventName(){return"chat_service_redirect"}getAttributes(){const e=super.getAttributes();return e.Source=this._attributes.source,e.TargetEnvironment=this._attributes.targetEnvironment,e.PreviousEnvironment=this._attributes.previousEnvironment,e.TargetUrl=this._attributes.targetUrl,this._attributes.previousUrl&&(e.PreviousUrl=this._attributes.previousUrl),e}}t.ChatServiceRedirectEvent=h;class m extends a.TelemetryEventBase{constructor(e,t){super(),this._convId=e,this._recipientMri=t}getEventName(){return"conversation_created"}getAttributes(){const e=super.getAttributes();e.MriNamespace=s.getMriNamespace(this._convId),this._recipientMri&&(e.RecipientMriNamespace=s.getMriNamespace(this._recipientMri),e.Bot_Conversation=s.isAgent(this._recipientMri)),e.ConversationType=l.ConversationType[c.getConversationTypeForTelemetry(this._convId)];const t=s.getThreadSuffix(this._convId);return t&&(e.ThreadSuffix=t),e}}t.ChatServiceConversationCreated=m},502339:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this._conversations=new Set,this._messagesCount=0}markFullSync(e){this._isFullSync=e}markFirstSync(){this._isFirstSync=!0}accumulateData(e,t){this._messagesCount+=t,this._conversations.add(e)}getData(){return{isFirstSync:this._isFirstSync,isFullSync:this._isFullSync,conversationsCount:this._conversations.size,messagesCount:this._messagesCount}}reset(){this._conversations.clear(),this._messagesCount=0,this._isFullSync=!1,this._isFirstSync=!1}}},785484:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClientTriggeredEngagementEvent=t.EventStatus=t.ClientTriggeredEngagementActions=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297);var r,a;!function(e){e[e.Overview=1]="Overview",e[e.New=2]="New",e[e.Update=3]="Update",e[e.Delete=4]="Delete",e[e.Finished=5]="Finished",e[e.LoadCampaign=6]="LoadCampaign",e[e.LoadingCampaign=7]="LoadingCampaign",e[e.OpenCampaign=8]="OpenCampaign",e[e.Reset=9]="Reset"}(r||(t.ClientTriggeredEngagementActions=r={})),function(e){e[e.Completed=1]="Completed",e[e.Failed=2]="Failed"}(a||(t.EventStatus=a={}));class s extends n.TelemetryEventBase{constructor(e){super(),this.props=e}getAttributes(){const e=o.assign(super.getAttributes(),{Action:r[this.props.action]||"UnknownAction",IsOfflineTargeted:this.props.offlineTargeted||!1});return this.props.campaignId&&(e.CampaignId=this.props.campaignId),this.props.campaignVariant&&(e.CampaignVariant=this.props.campaignVariant),this.props.campaignVersion&&(e.CampaignVersion=this.props.campaignVersion||0),this.props.newCampaignsCount&&(e.NewCampaignsCount=this.props.newCampaignsCount),this.props.updatedCampaignsCount&&(e.UpdatedCampaignsCount=this.props.updatedCampaignsCount),this.props.deletedCampaignsCount&&(e.DeletedCampaignsCount=this.props.deletedCampaignsCount),this.props.durationInMs&&(e.DurationInMs=this.props.durationInMs),this.props.status&&(e.Status=a[this.props.status]),this.props.correlationId&&(e.MessageCorrelationId=this.props.correlationId),e}getEventName(){return"engagement_client_triggered_campaigns"}}t.ClientTriggeredEngagementEvent=s},185501:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoachMarkTelemetryEventAction=void 0;const o=i(197582).__importStar(i(496486)),n=i(315742),r=i(815146),a=i(240297);var s;!function(e){e[e.Open=1]="Open",e[e.Close=2]="Close",e[e.Suppress=3]="Suppress"}(s||(t.CoachMarkTelemetryEventAction=s={}));class l extends a.TelemetryEventBase{constructor(e){super(),this._action=e.action,this._anchorClicked=e.anchorClicked,this._coachMarkType=e.coachMarkType,this._dismissed=e.dismissed,this._nextClicked=e.nextClicked,this._skipClicked=e.skipClicked,this._origin=e.origin,this._error=e.error,this._errorDescription=e.errorDescription}getEventName(){return"engagement_coach_mark_event"}getAttributes(){return o.assign(super.getAttributes(),{Action:this._action?s[this._action]:"Unknown",AnchorClicked:this._anchorClicked||"",CoachMarkType:this._coachMarkType?n.CoachMarkType[this._coachMarkType]:"Unknown",Dismissed:this._dismissed||"",NextClicked:this._nextClicked||"",SkipClicked:this._skipClicked||"",Origin:r.CoachMarkOrigin[this._origin||r.CoachMarkOrigin.Unknown],Error:this._error||"",ErrorDescription:this._errorDescription||""})}}t.default=l},94151:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectOnSkypeTelemetryEvents=void 0;const o=i(240297);class n extends o.TelemetryEventBase{constructor(e){super(),this._connectType=e}getEventName(){return"people_search_connect_on_skype"}getAttributes(){const e=super.getAttributes();return e.Action=this._connectType,e}}t.ConnectOnSkypeTelemetryEvents=n},215070:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContactsPanelBannerEvent=t.AddContactPanelEvent=t.ContactsPanelEvent=t.BannerType=t.BannerAction=t.AddPhoneNumberPanelOrigin=t.AddContactPanelOrigin=t.ContactsPanelAction=void 0;const o=i(197582).__importStar(i(496486)),n=i(113002),r=i(240297);var a,s,l,c,d;!function(e){e[e.Opened=0]="Opened",e[e.Closed=1]="Closed",e[e.TabsSwitched=2]="TabsSwitched",e[e.AddContactPanelOpened=3]="AddContactPanelOpened",e[e.ShowActiveNow=4]="ShowActiveNow",e[e.ShowAllMyContacts=5]="ShowAllMyContacts"}(a||(t.ContactsPanelAction=a={})),function(e){e[e.ContactsPanelV2=0]="ContactsPanelV2",e[e.HubTabPeople=1]="HubTabPeople",e[e.SearchResultListAddContactButton=2]="SearchResultListAddContactButton",e[e.DesktopNewActionPicker=3]="DesktopNewActionPicker",e[e.LandingScreen=4]="LandingScreen"}(s||(t.AddContactPanelOrigin=s={})),function(e){e[e.AddContactsPanel=0]="AddContactsPanel",e[e.DialpadPanel=1]="DialpadPanel",e[e.ContactListAdd=2]="ContactListAdd",e[e.ContactListEdit=3]="ContactListEdit",e[e.UserCard=4]="UserCard"}(l||(t.AddPhoneNumberPanelOrigin=l={})),function(e){e[e.Shown=0]="Shown",e[e.Clicked=1]="Clicked",e[e.Dismissed=2]="Dismissed"}(c||(t.BannerAction=c={})),function(e){e[e.ContactsPrivacy=0]="ContactsPrivacy",e[e.SyncAddressBook=1]="SyncAddressBook"}(d||(t.BannerType=d={}));class u extends r.TelemetryEventBase{getEventName(){return"people_contacts_panel"}}t.ContactsPanelEvent=class extends u{constructor(e,t,i,o){super(),this._action=e,this._tab=t,this._hasSyncedAddressBook=i,this._isShowingActiveNow=o}getAttributes(){const e=super.getAttributes();return e.Action=a[this._action],e.Tab=this._getTabName(this._tab),o.isUndefined(this._isShowingActiveNow)||(e.IsShowingActiveNow=this._isShowingActiveNow),o.isUndefined(this._hasSyncedAddressBook)||(e.HasSyncedAB=this._hasSyncedAddressBook),e}_getTabName(e){return n.ContactsPanelV2[e]}};t.AddContactPanelEvent=class extends u{constructor(e){super(),this._origin=e}getAttributes(){const e=super.getAttributes();return e.Action=a[a.AddContactPanelOpened],e.Origin=s[this._origin],e}};t.ContactsPanelBannerEvent=class extends u{constructor(e,t){super(),this._type=e,this._action=t}getAttributes(){const e=super.getAttributes();return e.BannerType=d[this._type],e.Action=c[this._action],e}}},468511:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContactsVisibilityRatio=t.LocalAddressBookPhoneNumbersCorrected=t.ShortCircuitPhoneNumberRegistration=t.ShortCircuitContactsError=t.ShortCircuitContactsProcessed=t.ContactInvite=t.ContactsActionReportMessageFailure=t.ContactsActionReportMessage=t.ContactsTelemetryEvent=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(815146)),a=i(240297);class s extends a.TelemetryEventBase{constructor(e,t){super(),this._attributes=e,this._piiAttributes=t}getEventName(){return"people_contacts_action"}getAttributes(){return n.merge(super.getAttributes(),this._attributes)}getPiiAttributes(){return n.merge(super.getPiiAttributes(),this._piiAttributes)}}t.ContactsTelemetryEvent=s;class l extends a.TelemetryEventBase{constructor(e,t,i,o){super(),this._messageHash=e,this._context=t,this._reason=i,this._block=o}getEventName(){return"ReportMessage"}getAttributes(){const e=super.getAttributes();return e.MessageHash=this._messageHash,e.ReportContext=this._context,e.ReportReason=this._reason,e.UserBlocked=this._block,e}}t.ContactsActionReportMessage=l;class c extends a.TelemetryEventBase{constructor(e,t){super(),this._errorCode=e,this._errorMessage=t}getEventName(){return"ReportMessageFailure"}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this._errorCode,e.ErrorMessage=this._errorMessage,e}}t.ContactsActionReportMessageFailure=c;class d extends a.TelemetryEventBase{constructor(e,t){super(),this._type=e,this._origin=t}getEventName(){return"contactInvite"}getAttributes(){const e=super.getAttributes();return e.Type=r.ContactInviteType[this._type],e.Origin=r.ContactInviteOrigin[this._origin],e}}t.ContactInvite=d;class u extends a.TelemetryEventBase{constructor(e,t,i,o){super(),this._count=e,this._isInitialSync=t,this._durationInMs=i,this._hashSentCount=o}getEventName(){return"shortCircuitContactsProcessed"}getAttributes(){const e=super.getAttributes();return e.count=this._count,e.isInitialSync=this._isInitialSync,e.duration=this._durationInMs,e.HashSentCount=this._hashSentCount,e}}t.ShortCircuitContactsProcessed=u;class p extends a.TelemetryEventBase{constructor(e,t,i){super(),this._error=e,this._isInitialSync=t,this._hashSentCount=i}getEventName(){return"shortCircuitContactsError"}getAttributes(){const e=super.getAttributes();return e.error=this._error,e.isInitialSync=this._isInitialSync,e.HashSentCount=this._hashSentCount,e}}t.ShortCircuitContactsError=p;class g extends a.TelemetryEventBase{constructor(e,t,i){super(),this._isSuccess=e,this._source=t,this._errorCode=i}getEventName(){return"ShortCircuitPhoneNumberRegistration"}getAttributes(){const e=super.getAttributes();return e.IsSuccess=this._isSuccess,void 0!==this._source&&(e.Source=this._source),void 0!==this._errorCode&&(e.ErrorCode=this._errorCode),e}}t.ShortCircuitPhoneNumberRegistration=g;class h extends a.TelemetryEventBase{constructor(e,t){super(),this._shortPhoneNumbersCount=e,this._correctedPhoneNumbersCount=t}getEventName(){return"local_address_book_phone_numbers_corrected"}getAttributes(){const e=super.getAttributes();return e.shortPhoneNumbersCount=this._shortPhoneNumbersCount,e.correctedPhoneNumbersCount=this._correctedPhoneNumbersCount,e}}t.LocalAddressBookPhoneNumbersCorrected=h;class m extends a.TelemetryEventBase{constructor(e){super(),this._cvr=e}getEventName(){return"contacts_visibility_ratio"}getAttributes(){const e=super.getAttributes();return e.cvr=this._cvr,e}}t.ContactsVisibilityRatio=m},134894:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContactsTelemetryHelper=t.FavoriteActionType=t.PresenceActions=t.GreetActionType=t.FavoriteContactOrigin=t.ShareInviteOrigin=t.UpdateContactOrigin=t.DeleteContactOrigin=t.AddContactOrigin=void 0;const o=i(197582),n=o.__importStar(i(636076)),r=o.__importStar(i(44717)),a=i(468511),s=o.__importStar(i(85385)),l=i(627414);var c,d,u,p,g,h,m,S,_,f;!function(e){e[e.AcceptButton=0]="AcceptButton",e[e.ActiveNowPanel=1]="ActiveNowPanel",e[e.AddContactPanel=2]="AddContactPanel",e[e.AddTranslatorBot=3]="AddTranslatorBot",e[e.ChatWave=4]="ChatWave",e[e.DiscoverPanel=5]="DiscoverPanel",e[e.FavoriteContextMenu=6]="FavoriteContextMenu",e[e.FavoriteToggle=7]="FavoriteToggle",e[e.MoreContactsPanel=8]="MoreContactsPanel",e[e.NewConversation=9]="NewConversation",e[e.NewCall=10]="NewCall",e[e.ProfileBigButton=11]="ProfileBigButton",e[e.ProfileSmallButton=12]="ProfileSmallButton",e[e.SearchItem=13]="SearchItem",e[e.AddPhoneNumberPanel=14]="AddPhoneNumberPanel",e[e.AddContactContextMenu=15]="AddContactContextMenu",e[e.MagicBot=16]="MagicBot"}(c||(t.AddContactOrigin=c={})),function(e){e[e.Profile=0]="Profile",e[e.BotChatSettingsPanel=1]="BotChatSettingsPanel",e[e.ConversationsListItem=2]="ConversationsListItem",e[e.ManageConnectedPeople=3]="ManageConnectedPeople",e[e.AddPhoneNumberPanel=4]="AddPhoneNumberPanel",e[e.SlashCommand=5]="SlashCommand"}(d||(t.DeleteContactOrigin=d={})),function(e){e[e.AddPhoneNumberPanel=0]="AddPhoneNumberPanel"}(u||(t.UpdateContactOrigin=u={})),function(e){e[e.GroupProfile=0]="GroupProfile",e[e.ChatShareLinkButton=1]="ChatShareLinkButton",e[e.MyProfile=2]="MyProfile",e[e.AddToGroupPanel=3]="AddToGroupPanel"}(p||(t.ShareInviteOrigin=p={})),function(e){e[e.AutoFavorite=0]="AutoFavorite"}(g||(t.FavoriteContactOrigin=g={})),function(e){e[e.Greet=0]="Greet",e[e.Message=1]="Message",e[e.None=2]="None"}(h||(t.GreetActionType=h={})),function(e){e[e.Retry=0]="Retry",e[e.Fetch=1]="Fetch"}(m||(t.PresenceActions=m={})),function(e){e[e.Contact=0]="Contact",e[e.Conversation=1]="Conversation"}(S||(t.FavoriteActionType=S={})),function(e){e[e.AcceptInvite=0]="AcceptInvite",e[e.DeclineInvite=1]="DeclineInvite",e[e.Favorite=2]="Favorite",e[e.Unfavorite=3]="Unfavorite",e[e.Add=4]="Add",e[e.Delete=5]="Delete",e[e.Greet=6]="Greet",e[e.Block=7]="Block",e[e.Unblock=8]="Unblock",e[e.GetContacts=9]="GetContacts",e[e.GetInvites=10]="GetInvites",e[e.RemoveDevice=11]="RemoveDevice",e[e.Presence=12]="Presence",e[e.Update=13]="Update",e[e.MergeContactWithPstnContact=14]="MergeContactWithPstnContact",e[e.SyncABContactsRefreshClicked=15]="SyncABContactsRefreshClicked"}(_||(_={})),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(f||(f={}));t.ContactsTelemetryHelper=new class{acceptInviteSuccess(e){const t=this._getBaseAttributes(_.AcceptInvite,f.Success),i=this._getBasePiiAttributes(e);this._track(t,i)}mergeContactWithPstnContact(e){const t=this._getBaseAttributes(_.MergeContactWithPstnContact,f.Success),i=this._getBasePiiAttributes(e);this._track(t,i)}acceptInviteError(e,t){const i=this._getBaseAttributes(_.AcceptInvite,f.Error),o=this._getBasePiiAttributes(e);this._setError(i,t),this._track(i,o)}declineInviteSuccess(e){const t=this._getBaseAttributes(_.DeclineInvite,f.Success),i=this._getBasePiiAttributes(e);this._track(t,i)}declineInviteError(e,t){const i=this._getBaseAttributes(_.DeclineInvite,f.Error),o=this._getBasePiiAttributes(e);this._setError(i,t),this._track(i,o)}addContactSuccess(e,t){const i=this._getBaseAttributes(_.Add,f.Success),o=this._getBasePiiAttributes(e);i.Origin=c[t],i.IsPstn=r.isPhoneMri(e),this._track(i,o)}addContactError(e,t,i){const o=this._getBaseAttributes(_.Add,f.Error),n=this._getBasePiiAttributes(e);o.Origin=c[t],o.IsPstn=r.isPhoneMri(e),this._setError(o,i),this._track(o,n)}updateContactSuccess(e,t){const i=this._getBaseAttributes(_.Update,f.Success),o=this._getBasePiiAttributes(e);i.Origin=u[t],i.IsPstn=r.isPhoneMri(e),this._track(i,o)}updateContactError(e,t,i){const o=this._getBaseAttributes(_.Update,f.Error),n=this._getBasePiiAttributes(e);o.Origin=u[t],o.IsPstn=r.isPhoneMri(e),this._setError(o,i),this._track(o,n)}blockContactSuccess(e,t){const i=this._getBaseAttributes(_.Block,f.Success),o=this._getBasePiiAttributes(e);void 0!==t&&(i.Source=l.BlockConversationSource[t]),r.getMriNamespace(e)===r.Namespaces.Bot&&(i.BotId=r.stripMriNamespace(e)),this._track(i,o)}blockContactError(e,t,i){const o=this._getBaseAttributes(_.Block,f.Error),n=this._getBasePiiAttributes(e);void 0!==i&&(o.Source=l.BlockConversationSource[i]),r.getMriNamespace(e)===r.Namespaces.Bot&&(o.BotId=r.stripMriNamespace(e)),this._setError(o,t),this._track(o,n)}unblockContactSuccess(e,t){const i=this._getBaseAttributes(_.Unblock,f.Success),o=this._getBasePiiAttributes(e);void 0!==t&&(i.Source=l.BlockConversationSource[t]),r.getMriNamespace(e)===r.Namespaces.Bot&&(i.BotId=r.stripMriNamespace(e)),this._track(i,o)}unblockContactError(e,t,i){const o=this._getBaseAttributes(_.Unblock,f.Error),n=this._getBasePiiAttributes(e);void 0!==i&&(o.Source=l.BlockConversationSource[i]),r.getMriNamespace(e)===r.Namespaces.Bot&&(o.BotId=r.stripMriNamespace(e)),this._setError(o,t),this._track(o,n)}deleteContactSuccess(e,t){const i=this._getBaseAttributes(_.Delete,f.Success),o=this._getBasePiiAttributes(e);i.Origin=d[t],this._setBotId(i,e),this._track(i,o)}deleteContactError(e,t,i){const o=this._getBaseAttributes(_.Delete,f.Error),n=this._getBasePiiAttributes(e);o.Origin=d[t],this._setBotId(o,e),this._setError(o,i),this._track(o,n)}favoriteSuccess(e,t,i,o){const n=this._getBaseAttributes(_.Favorite,f.Success),r=this._getBasePiiAttributes(e);n.IsGroup=i,n.Type=S[t],o&&(n.Origin=g[o]),this._setBotId(n,e),this._track(n,r)}favoriteError(e,t,i,o,n){const r=this._getBaseAttributes(_.Favorite,f.Error),a=this._getBasePiiAttributes(e);r.IsGroup=i,r.Type=S[t],n&&(r.Origin=g[n]),this._setBotId(r,e),this._setError(r,o),this._track(r,a)}unfavoriteSuccess(e,t,i){const o=this._getBaseAttributes(_.Unfavorite,f.Success),n=this._getBasePiiAttributes(e);o.IsGroup=i,o.Type=S[t],this._setBotId(o,e),this._track(o,n)}unfavoriteError(e,t,i,o){const n=this._getBaseAttributes(_.Unfavorite,f.Error),r=this._getBasePiiAttributes(e);n.IsGroup=i,n.Type=S[t],this._setBotId(n,e),this._setError(n,o),this._track(n,r)}getContactsSuccess(e,t,i,o,n,r,a=0){const s=this._getBaseAttributes(_.GetContacts,f.Success);s.NumContacts=e,s.NumBlockedContacts=t,s.SyncType=i?"Full":"Delta",s.Duration=n,s.IsFromServer=r,s.RetryCount=a,void 0!==o&&(s.DeltaSyncETag=o),this._track(s,{})}getContactsError(e,t,i,o,n){const r=this._getBaseAttributes(_.GetContacts,f.Error);r.SyncType=n?"Full":"Delta",r.Duration=t,r.IsFromServer=i,r.RetryCount=o,this._setError(r,e),this._track(r,{})}getInvitesSuccess(e,t){const i=this._getBaseAttributes(_.GetInvites,f.Success);i.Duration=e,i.IsFromServer=t,this._track(i,{})}getInvitesError(e,t,i){const o=this._getBaseAttributes(_.GetInvites,f.Error);o.Duration=t,o.IsFromServer=i,this._setError(o,e),this._track(o,{})}removeDeviceError(e){const t=this._getBaseAttributes(_.RemoveDevice,f.Error);this._setError(t,e),this._track(t,{})}greetContact(e,t){const i=this._getBaseAttributes(_.Greet,f.Success),o=this._getBasePiiAttributes(e);i.GreetActionType=h[t],this._track(i,o)}fetchContactPresenceFailure(e,t,i,o,n=0,r=0){const a=this._getBaseAttributes(_.Presence,f.Error);a.PresenceFetchActionType=m[e],a.IsAllContactFetch=t,a.RetryCount=n,a.FailedUserCount=r,i&&(a.ErrorCode=i),o&&(a.ErrorMessage=o),this._track(a,{})}syncABContactsRefreshClicked(){const e=this._getBaseAttributes(_.SyncABContactsRefreshClicked,f.Success);this._track(e,{})}_getBaseAttributes(e,t){const i={};return i.Action=_[e],i.Status=f[t],i}_getBasePiiAttributes(e){const t={},i=r.getSkypeIdFromMri(e);return i&&(t.ContactSkypeId={value:i,piiKind:n.AWTPiiKind.Identity}),t}_setError(e,t){void 0!==t.statusCode&&(e.ErrorCode=t.statusCode),void 0!==t.statusText&&(e.ErrorMessage=t.statusText)}_setBotId(e,t){r.getMriNamespace(t)===r.Namespaces.Bot&&(e.BotId=r.stripMriNamespace(t))}_track(e,t){s.track(new a.ContactsTelemetryEvent(e,t))}}},138245:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenuTelemetryEvents=t.ContextMenuAction=void 0;const o=i(240297);var n;!function(e){e[e.ContextMenuShown=0]="ContextMenuShown",e[e.ContextMenuItemClicked=1]="ContextMenuItemClicked",e[e.MiniContextMenuShown=2]="MiniContextMenuShown",e[e.MiniContextMenuItemClicked=3]="MiniContextMenuItemClicked",e[e.BottomSheetPanelShown=4]="BottomSheetPanelShown",e[e.WebSearchEntryClicked=5]="WebSearchEntryClicked",e[e.AnalyzedEntityShown=6]="AnalyzedEntityShown",e[e.AnalyzedEntityClicked=7]="AnalyzedEntityClicked"}(n||(t.ContextMenuAction=n={}));class r extends o.TelemetryEventBase{constructor(e,t,i){super(),this._action=e,this._command=t,this._muid=i}getEventName(){return"context_menu_event"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],void 0!==this._command&&(e.Command=this._command),void 0!==this._muid&&(e.MUID=this._muid),e}}t.ContextMenuTelemetryEvents=r},823684:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationAction=t.ConversationListItemClicked=t.ConversationDeletionCanceled=t.ConversationDeletionFailed=t.ConversationDeleted=t.ConversationUnarchived=t.ConversationArchived=t.ConversationMarkedRead=void 0;const o=i(197582),n=i(627414),r=o.__importStar(i(44717)),a=i(511134),s=i(815146),l=i(240297),c=o.__importStar(i(340482));class d extends l.TelemetryEventBase{constructor(e){super(),this._conversationId=e}getEventName(){return"conversation_action"}getAttributes(){const e=super.getAttributes();e.Action=this.getAction(),e.Conversation_NameSpace=r.Namespaces[r.getMriNamespace(this._conversationId)];const t=c.getTrackableConversationId(this._conversationId);return t&&(e.Conversation_Id=t),e}}t.ConversationMarkedRead=class extends d{constructor(e,t){super(e),this._consumptionHorizon=t}getAction(){return"conversation_marked_read"}getAttributes(){const e=super.getAttributes();return e.Consumption_Horizon=this._consumptionHorizon,e}};t.ConversationArchived=class extends d{constructor(e,t,i){super(e),this._origin=t,this._isGroupConversation=i}getAction(){return"conversation_archived"}getAttributes(){const e=super.getAttributes();return e.Origin=s.ArchiveConversationOrigin[this._origin],e.IsGroupConversation=this._isGroupConversation,e}};t.ConversationUnarchived=class extends d{constructor(e,t,i){super(e),this._origin=t,this._isGroupConversation=i}getAction(){return"conversation_unarchived"}getAttributes(){const e=super.getAttributes();return e.Origin=s.UnarchiveConversationOrigin[this._origin],e.IsGroupConversation=this._isGroupConversation,e}};t.ConversationDeleted=class extends d{constructor(e,t,i){super(e),this._source=t,this._conversationType=i}getAction(){return"conversation_deleted"}getAttributes(){const e=super.getAttributes();return e.Source=n.DeleteConversationSource[this._source],e.ConversationType=a.ConversationType[this._conversationType],e}};t.ConversationDeletionFailed=class extends d{constructor(e,t,i,o){super(e),this._errorCode=t,this._source=i,this._conversationType=o}getAction(){return"conversation_deletion_failed"}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this._errorCode,e.Source=n.DeleteConversationSource[this._source],e.ConversationType=a.ConversationType[this._conversationType],e}};t.ConversationDeletionCanceled=class extends d{constructor(e,t,i){super(e),this._conversationType=t,this._source=i}getAction(){return"conversation_deletion_canceled"}getAttributes(){const e=super.getAttributes();return e.ConversationType=a.ConversationType[this._conversationType],void 0!==this._source&&(e.Source=n.DeleteConversationSource[this._source]),e}};t.ConversationListItemClicked=class extends d{constructor(e,t,i,o){super(e),this._itemId=t,this._actionSuccess=i,this._conversationType=o}getAction(){return"conversation_list_item_clicked"}getAttributes(){const e=super.getAttributes();return e.Item_id=this._itemId,void 0!==this._actionSuccess&&(e.action_success=this._actionSuccess),void 0!==this._conversationType&&(e.ConversationType=a.ConversationType[this._conversationType]),e}};t.ConversationTranslationAction=class extends d{constructor(e,t,i,o){super(e),this._action=t,this._fromLocale=i,this._toLocale=o}getAction(){return"translation_action"}getAttributes(){const e=super.getAttributes();return e.TranslationAction=s.TranslationAction[this._action],this._toLocale&&(e.FromLanguage=this._fromLocale,e.ToLanguage=this._toLocale),e}}},624471:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SetUpCallForwardingClicked=void 0;const o=i(197582).__importDefault(i(139221)),n=i(240297);class r extends n.TelemetryEventBase{getEventName(){return"credit_upsell"}getAriaTenantTokenOverride(){return o.default.getAriaSkypeFraudTelemetryTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.SetUpCallForwardingClicked=class extends r{getActionName(){return"SetUpCallForwarding"}}},56595:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneDiscoverabilityEvent=t.PhoneDiscoverabilityDialogCommand=t.OpenDeepLinkEvent=t.DeepLinkTelemetryEventBase=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(44717)),a=i(342561),s=i(240297),l=i(845270),c=i(461967),d=(i(815146),o.__importStar(i(340482)));var u,p;!function(e){e.InClientLink="InClientLink",e.LinkWeb="LinkWeb",e.LinkDesktop="LinkDesktop",e.LinkMobile="LinkMobile"}(u||(u={}));class g extends s.TelemetryEventBase{constructor(){super()}getEventName(){return"navigation_deeplink"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.DeepLinkTelemetryEventBase=g;t.OpenDeepLinkEvent=class extends g{constructor(e,t,i,o,n,r){super(),this._urlComponents=e,this._conversationId=t,this._navigationOrigin=i,this._browserOrigin=o,this._origin=n,this._urlAction=r}getActionName(){return"OpenDeepLink"}getAttributes(){var e,t,i,o,a;const s=super.getAttributes();if(s.UrlType=l.UrlType[this._urlComponents.type],s.UrlProtocol=this._urlComponents.protocol,this._urlComponents.host&&(s.UrlHost=this._urlComponents.host),this._urlAction&&(s.UrlAction=this._urlAction),(null===(e=this._urlComponents.queryParameterKeyValues)||void 0===e?void 0:e.tabname)&&(s.TabName=this._urlComponents.queryParameterKeyValues.tabname),this._conversationId){const e=d.getTrackableConversationId(this._conversationId);e&&(s.ConversationId=e),(this._conversationId===this._urlComponents.pathname||"skype"===this._urlComponents.protocol&&"launcher"===this._origin)&&(s.OutsideOfClientJoinLink=!0)}"join.skype.com"===this._urlComponents.host?s.JoinLinkPath=u.InClientLink:(null===(t=this._urlComponents.queryParameterString)||void 0===t?void 0:t.includes("chat"))?s.JoinLinkPath=u.LinkDesktop:(null===(i=this._urlComponents.pathname)||void 0===i?void 0:i.includes("@thread.skype"))&&(s.JoinLinkPath=u.LinkWeb),(null===(o=this._urlComponents.pathname)||void 0===o?void 0:o.includes("/invite/"))&&(s.LinkType="buddy");const p=this._urlComponents.queryParameterKeyValues;if(p&&p.source&&(s.UrlParamSource=p.source),this._urlComponents.type===l.UrlType.Web&&this._urlComponents.pathname){const e=this._urlComponents.pathname.split("/")[0];e&&r.isMri(e)&&r.isThread(e)&&(s.UrlIntent="JoinConversation",p&&n.includes(c.UrlNavigationAction,null===(a=p.action)||void 0===a?void 0:a.toLocaleLowerCase())&&(s.UrlParamAction=p.action.toLocaleLowerCase()))}return s}},function(e){e[e.OpenConfirmation=0]="OpenConfirmation",e[e.Confirm=1]="Confirm",e[e.Reject=2]="Reject",e[e.RejectOutside=3]="RejectOutside"}(p||(t.PhoneDiscoverabilityDialogCommand=p={}));t.PhoneDiscoverabilityEvent=class extends g{constructor(e){super(),this._phoneDiscoverabilityEventParams=e}getActionName(){return"PhoneDiscoverability"}getAttributes(){const e=super.getAttributes();return this._phoneDiscoverabilityEventParams.userPhonesCount&&(e.UserPhonesCount=this._phoneDiscoverabilityEventParams.userPhonesCount),void 0!==this._phoneDiscoverabilityEventParams.command&&(e.DialogCommand=p[this._phoneDiscoverabilityEventParams.command]),void 0!==this._phoneDiscoverabilityEventParams.origin&&(e.Origin=a.PhoneDiscoverabilityOrigin[this._phoneDiscoverabilityEventParams.origin]),e}}},78987:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DirectShareTelemetry=void 0;const o=i(240297);class n extends o.TelemetryEventBase{constructor(e,t){super(),this._itemType=e,this._numberOfItems=t}getEventName(){return"messaging_direct_share"}getAttributes(){const e=super.getAttributes();return e.ItemType=this._itemType,e.NumberOfItems=this._numberOfItems,e}}t.DirectShareTelemetry=n},595392:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadRecovered=t.PermanentDownloadFailure=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(815146)),a=i(240297);class s extends a.TelemetryEventBase{constructor(e,t,i=0,o,n,r){super(),this._failureSource=e,this._firstSendTime=t,this._numberRetries=i,this._statusCode=o,this._statusText=n,this._errorMetadata=r}getEventName(){return"download_service"}getAttributes(){const e=super.getAttributes();return e.operation=this.getOperation(),e.failure_source=r.PostingTransferSource[this._failureSource],e.time_to_failure=this._eventCreationTime-this._firstSendTime,e.number_retries=this._numberRetries,e.status_code=this._statusCode,e.status_text=this._statusText?this._statusText:"",n.extend(e,this._errorMetadata),e}}t.PermanentDownloadFailure=class extends s{getOperation(){return"download_failure"}};t.DownloadRecovered=class extends s{getOperation(){return"download_recovered"}}},472110:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DraftMessageAppExitWithDrafts=t.DraftMessageDeleted=t.DraftMessageWasSent=t.DraftMessageCreated=void 0;const o=i(240297);class n extends o.TelemetryEventBase{getEventName(){return"messaging_drafts"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}t.DraftMessageCreated=class extends n{constructor(){super()}getAction(){return"Created"}};t.DraftMessageWasSent=class extends n{constructor(e,t){super(),this._modifiedBeforeSent=e,this._createdTime=t}getAction(){return"Sent"}getAttributes(){const e=super.getAttributes();return e.WasModifiedBeforeSent=this._modifiedBeforeSent,e.LifetimeDuration=Date.now()-this._createdTime,e}};t.DraftMessageDeleted=class extends n{constructor(e){super(),this._createdTime=e}getAction(){return"Deleted"}getAttributes(){const e=super.getAttributes();return e.LifetimeDuration=Date.now()-this._createdTime,e}};t.DraftMessageAppExitWithDrafts=class extends n{constructor(e){super(),this._numberOfDrafts=e}getAction(){return"AppExitWithDrafts"}getAttributes(){const e=super.getAttributes();return e.DraftsCount=this._numberOfDrafts,e}}},693352:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DragAndDropTelemetry=t.DragAction=t.DragType=t.DropTarget=t.DragOrigin=void 0;const o=i(240297);var n,r,a,s;!function(e){e[e.RecentConversations=0]="RecentConversations",e[e.Contacts=1]="Contacts",e[e.MessageStream=2]="MessageStream",e[e.Unknown=3]="Unknown"}(n||(t.DragOrigin=n={})),function(e){e[e.MessagePanel=0]="MessagePanel",e[e.ConversationListItem=1]="ConversationListItem"}(r||(t.DropTarget=r={})),function(e){e[e.File=0]="File",e[e.Picture=1]="Picture",e[e.Video=2]="Video",e[e.Contact=3]="Contact",e[e.TextOrLink=4]="TextOrLink"}(a||(t.DragType=a={})),function(e){e[e.DragStart=0]="DragStart",e[e.Drop=1]="Drop"}(s||(t.DragAction=s={}));class l extends o.TelemetryEventBase{constructor(e,t,i,o){super(),this._action=e,this._origin=t,this._type=i,this._target=o}getEventName(){return"messaging_drag_and_drop"}getAttributes(){const e=super.getAttributes();return e.Action=s[this._action],e.Origin=n[this._origin],e.Type=a[this._type],void 0!==this._target&&(e.Target=r[this._target]),e}}t.DragAndDropTelemetry=l},94618:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.E2eeDecryptionFailure=t.E2eeEncryptionFailure=t.E2eeRetry=t.E2eeReject=t.E2eeConfirm=t.E2eeAccept=t.E2eeInvite=t.E2eeRetryType=t.E2eeAction=void 0;const o=i(197582).__importStar(i(496486)),n=i(815146),r=i(240297);var a,s;!function(e){e[e.Invite=0]="Invite",e[e.Accept=1]="Accept",e[e.Confirm=2]="Confirm",e[e.Reject=3]="Reject",e[e.EncryptionFailure=4]="EncryptionFailure",e[e.DecryptionFailure=5]="DecryptionFailure"}(a||(t.E2eeAction=a={})),function(e){e[e.ForceInviteIdRefresh=0]="ForceInviteIdRefresh",e[e.NewInviteIdSynced=1]="NewInviteIdSynced"}(s||(t.E2eeRetryType=s={}));class l extends r.TelemetryEventBase{constructor(e,t,i){super(),this._action=e,this._failure=t,this._reason=i}getEventName(){return"messaging_e2ee"}getAttributes(){const e=super.getAttributes();return e.Action=a[this._action],this._reason&&(e.Reason=this._reason),e.Status=this._failure?"Failure":"OK",e}}t.E2eeInvite=class extends l{constructor(e,t=!1,i){super(a.Invite,t,i),this._origin=e}getAttributes(){const e=super.getAttributes();return e.Origin=o.isNil(this._origin)?"N/A":n.E2EEInviteOrigin[this._origin],e}};t.E2eeAccept=class extends l{constructor(e,t=!1,i){super(a.Accept,t,i),this._origin=e}getAttributes(){const e=super.getAttributes();return e.Origin=o.isNil(this._origin)?"N/A":n.E2EEAcceptOrigin[this._origin],e}};t.E2eeConfirm=class extends l{constructor(e,t=!1,i){super(a.Confirm,t,i),this._isAutoConfirm=e}getAttributes(){const e=super.getAttributes();return e.IsAutoConfirm=this._isAutoConfirm,e}};t.E2eeReject=class extends l{constructor(e,t=!1,i){super(a.Reject,t,i),this._rejectionReason=e}getAttributes(){const e=super.getAttributes();return e.RejectionReason=o.isNil(this._rejectionReason)?"N/A":n.E2EERejectionReason[this._rejectionReason],e}};t.E2eeRetry=class extends l{constructor(e,t){super(e,!1),this._retryType=t}getAttributes(){const e=super.getAttributes();return e.RetryType=s[this._retryType],e}};t.E2eeEncryptionFailure=class extends l{constructor(e){super(a.EncryptionFailure,!0,e)}};t.E2eeDecryptionFailure=class extends l{constructor(e){super(a.DecryptionFailure,!0,e)}}},264572:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EcsTelemetryEvent=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297);class r extends n.TelemetryEventBase{constructor(e,t){super(),this._eventName=e,this._attributes=t}shouldSend(){return!0}getEventName(){return this._eventName}getAttributes(){const e=super.getAttributes();return o.assign(e,this._attributes),e.Client="SkypeConsumer",e}}t.EcsTelemetryEvent=r},912970:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582).__importStar(i(496486));t.default=class{constructor(e){this._namedMapping={},e&&o.each(e,(e=>{o.each(e,((e,t)=>{this._namedMapping[t]?this._namedMapping[t]=[this._namedMapping[t],e].join(","):this._namedMapping[t]=e}))}))}getExperimentIdsForEventName(e){return[this._namedMapping[e],this._namedMapping._all_].filter((e=>void 0!==e&&""!==e)).join(",")}}},309304:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(815146),r=o.__importStar(i(85385)),a=o.__importStar(i(535775));t.default=class{constructor(e){this._contextId=e,this._scenarioName=a.ScenarioName[a.ScenarioName.EmergencyRestoreEndpoints],this._scenario=new a.default(a.ScenarioName.EmergencyRestoreEndpoints,void 0,{contextId:e||""}),r.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" Scenario created!: "+this._contextId)}start(){r.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" Scenario started!: "+this._contextId),this._scenario.start()}gotSkypeToken(e){this._scenario.markStepCompleted("GotSkypeToken",{refreshNeeded:e}),r.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" GotSkypeToken:"+(e?" Refreshed ":" ")+this._contextId)}endpointMissing(e){this._scenario.markStepCompleted("MarkEndpointsMissing",{id:e||""}),r.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" MarkEndpointsMissing: "+this._contextId)}endpointRestored(e){this._scenario.markStepCompleted("EndpointRestored",{id:e||""}),r.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" EndpointRestored: "+this._contextId)}pushSubscriptionRestored(e){this._scenario.markStepCompleted("PushSubscriptionRestored",{pushSubscriptionId:e}),r.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" PushSubscriptionRestored: "+this._contextId)}timedOut(){this._scenario.markStepCompleted("TimedOut"),r.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" TimedOut: "+this._contextId)}finish(){r.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" Finished: "+this._contextId),this._scenario.finish()}failed(e,t){r.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" Failed: "+this._contextId+", reason:"+e),this._scenario.markStepCompleted("Failed",Object.assign({reason:e},t))}ignored(e){this._scenario.markStepCompleted("Ignored",{reason:e}),r.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" Ignored: "+this._contextId+", reason:"+e)}}},339036:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EngagementPullRequestEvent=t.FailureReason=t.EngagementApiPullRequestEventSource=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297);var r,a;!function(e){e[e.MSA=2]="MSA",e[e.EngagementApi=3]="EngagementApi",e[e.SkypeToken=4]="SkypeToken",e[e.MsaCidHex=5]="MsaCidHex"}(r||(t.EngagementApiPullRequestEventSource=r={})),function(e){e[e.ContentDownloadError=2]="ContentDownloadError",e[e.ContentStatusFailure=3]="ContentStatusFailure",e[e.SkypeTokenUnavailable=4]="SkypeTokenUnavailable",e[e.ServerFailure=5]="ServerFailure",e[e.MSATokenMissing=6]="MSATokenMissing",e[e.MSATokenUnavailable=7]="MSATokenUnavailable",e[e.SkypeTokenMissing=8]="SkypeTokenMissing",e[e.MsaCidHexMissing=9]="MsaCidHexMissing"}(a||(t.FailureReason=a={}));class s extends n.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"engagement_pull_request"}getAttributes(){return o.assign(super.getAttributes(),{DidSucceed:this.props.didSucceed,Source:this.props.source?r[this.props.source]:"",FailureReason:this.props.failureReason?a[this.props.failureReason]:"",CampaignId:this.props.campaignId||"",CampaignVariant:this.props.campaignVariant||"",RequestDurationMs:this.props.requestDuration||0,ServerStatusCode:this.props.serverStatusCode||0,MessageCorrelationId:this.props.correlationId||""})}}t.EngagementPullRequestEvent=s},224958:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EngagementTooltipTelemetryEvent=t.EngagementBannerTelemetryEvent=t.EngagementShareableContentEvent=t.EngagementSettingsTelemetryEvent=t.EngagementPushNotificationTelemetryEvent=t.EngagementNoticeTelemetryEvent=t.EngagementPopCardTelemetryEvent=t.EngagementFeedbackTelemetryEvent=t.EngagementMessageTelemetryEvent=t.EngagementTelemetryEventBase=t.EngagementShareableContentAction=t.EngagementPushSource=t.EngagementSettingsSource=t.SuppressReason=t.ActionOrigin=t.EngagementMessageTelemetryEventType=t.EngagementPostMessageReason=t.EngagementTelemetryEventType=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(284841),a=i(22478),s=i(240297),l=o.__importStar(i(340482)),c=i(567567);var d,u,p,g,h,m,S,_;!function(e){e[e.BackButton=1]="BackButton",e[e.CampaignBlocked=2]="CampaignBlocked",e[e.ChatServiceBlockedMessage=3]="ChatServiceBlockedMessage",e[e.EngagementContentDisabled=4]="EngagementContentDisabled",e[e.EngagementPushContentDisabled=5]="EngagementPushContentDisabled",e[e.PushDiscardedForChild=6]="PushDiscardedForChild",e[e.EscKey=7]="EscKey",e[e.FeatureDisabled=8]="FeatureDisabled",e[e.InvalidCampaignId=9]="InvalidCampaignId",e[e.InvalidColor=10]="InvalidColor",e[e.InvalidLink=11]="InvalidLink",e[e.InvalidSkypeId=12]="InvalidSkypeId",e[e.InvalidSkypeIdPlaceholder=13]="InvalidSkypeIdPlaceholder",e[e.NoticeBulkSizeExceeded=14]="NoticeBulkSizeExceeded",e[e.NoticeClientVersionMismatch=15]="NoticeClientVersionMismatch",e[e.NoticeCompleted=16]="NoticeCompleted",e[e.NoticeDelivered=17]="NoticeDelivered",e[e.NoticeDiscardedForChild=18]="NoticeDiscardedForChild",e[e.NoticeDiscardedOnFirstRun=19]="NoticeDiscardedOnFirstRun",e[e.NoticeDismiss=20]="NoticeDismiss",e[e.NoticeExperimentNotAllocated=21]="NoticeExperimentNotAllocated",e[e.NoticeExperimentVariantMismatch=22]="NoticeExperimentVariantMismatch",e[e.NoticeExpired=23]="NoticeExpired",e[e.NoticeInvalidPlaceholder=24]="NoticeInvalidPlaceholder",e[e.NoticeMissingContent=25]="NoticeMissingContent",e[e.NoticeParseError=26]="NoticeParseError",e[e.NoticeReceived=27]="NoticeReceived",e[e.NoticeReceivedControl=28]="NoticeReceivedControl",e[e.NoticeTapButton=29]="NoticeTapButton",e[e.NoticeTapCard=30]="NoticeTapCard",e[e.NoticeTimeout=31]="NoticeTimeout",e[e.NoticeUnsupportedContentType=32]="NoticeUnsupportedContentType",e[e.NoticeUnsupportedValidForPeriod=33]="NoticeUnsupportedValidForPeriod",e[e.NoticeUnsupportedDelayForPeriod=34]="NoticeUnsupportedDelayForPeriod",e[e.NoticeEnqueued=35]="NoticeEnqueued",e[e.NoticeDequeued=36]="NoticeDequeued",e[e.NoticeWrongLanguage=37]="NoticeWrongLanguage",e[e.NoticeWrongPlatform=38]="NoticeWrongPlatform",e[e.PlaceholderWithoutSkypeId=39]="PlaceholderWithoutSkypeId",e[e.PopCardBulkSizeExceeded=40]="PopCardBulkSizeExceeded",e[e.PopCardClientVersionMismatch=41]="PopCardClientVersionMismatch",e[e.PopCardCompleted=42]="PopCardCompleted",e[e.PopCardDelivered=43]="PopCardDelivered",e[e.PopCardDiscardedForChild=44]="PopCardDiscardedForChild",e[e.PopCardDiscardedOnFirstRun=45]="PopCardDiscardedOnFirstRun",e[e.PopCardDismiss=46]="PopCardDismiss",e[e.PopCardDisplay=47]="PopCardDisplay",e[e.PopCardExpand=48]="PopCardExpand",e[e.PopCardExperimentNotAllocated=49]="PopCardExperimentNotAllocated",e[e.PopCardExperimentVariantMismatch=50]="PopCardExperimentVariantMismatch",e[e.PopCardExpired=51]="PopCardExpired",e[e.PopCardInvalidPlaceholder=52]="PopCardInvalidPlaceholder",e[e.PopCardMissingContent=53]="PopCardMissingContent",e[e.PopCardParseError=54]="PopCardParseError",e[e.PopCardReceived=55]="PopCardReceived",e[e.PopCardReceivedControl=56]="PopCardReceivedControl",e[e.PopCardSuppressed=57]="PopCardSuppressed",e[e.PopCardTapButton=58]="PopCardTapButton",e[e.PopCardTapCard=59]="PopCardTapCard",e[e.PopCardTimeout=60]="PopCardTimeout",e[e.PopCardUnsupportedValidForPeriod=61]="PopCardUnsupportedValidForPeriod",e[e.PopCardUnsupportedDelayForPeriod=62]="PopCardUnsupportedDelayForPeriod",e[e.PopCardEnqueued=63]="PopCardEnqueued",e[e.PopCardDequeued=64]="PopCardDequeued",e[e.PopCardWrongLanguage=65]="PopCardWrongLanguage",e[e.PopCardWrongPlatform=66]="PopCardWrongPlatform",e[e.PostMessage=67]="PostMessage",e[e.PushNotificationClientVersionMismatch=68]="PushNotificationClientVersionMismatch",e[e.PushNotificationDelivered=69]="PushNotificationDelivered",e[e.PushNotificationDismissedDueToActivity=70]="PushNotificationDismissedDueToActivity",e[e.PushNotificationDismissedOnFeatureCategory=71]="PushNotificationDismissedOnFeatureCategory",e[e.PushNotificationDisplayed=72]="PushNotificationDisplayed",e[e.PushNotificationDisplayFailed=73]="PushNotificationDisplayFailed",e[e.PushNotificationExperimentNotAllocated=74]="PushNotificationExperimentNotAllocated",e[e.PushNotificationExperimentVariantMismatch=75]="PushNotificationExperimentVariantMismatch",e[e.PushNotificationParseError=76]="PushNotificationParseError",e[e.PushNotificationReceived=77]="PushNotificationReceived",e[e.PushNotificationReceivedControl=78]="PushNotificationReceivedControl",e[e.PushNotificationSuppressed=79]="PushNotificationSuppressed",e[e.PushNotificationTap=80]="PushNotificationTap",e[e.PushNotificationTimestampParsingError=81]="PushNotificationTimestampParsingError",e[e.PushNotificationWrongLanguage=82]="PushNotificationWrongLanguage",e[e.SignoutSurveyDismiss=83]="SignoutSurveyDismiss",e[e.SkypeIdBlocked=84]="SkypeIdBlocked",e[e.UnableToResolveUserProfile=85]="UnableToResolveUserProfile",e[e.UnexpectedValidationResult=86]="UnexpectedValidationResult",e[e.UnsupportedPersistencyMode=87]="UnsupportedPersistencyMode",e[e.UnsupportedValidUntilTimestamp=88]="UnsupportedValidUntilTimestamp",e[e.UntrustedActionUri=89]="UntrustedActionUri",e[e.UntrustedLinkUri=90]="UntrustedLinkUri"}(d||(t.EngagementTelemetryEventType=d={})),function(e){e[e.OriginInvalid=1]="OriginInvalid",e[e.OriginValid=2]="OriginValid",e[e.Invalid=3]="Invalid",e[e.WebViewNotReady=4]="WebViewNotReady",e[e.Sent=5]="Sent"}(u||(t.EngagementPostMessageReason=u={})),function(e){e[e.BotMessageServiceConvSyncFailBricked=1]="BotMessageServiceConvSyncFailBricked",e[e.BotMessageServiceConvSyncFailNoMeta=2]="BotMessageServiceConvSyncFailNoMeta",e[e.BotMessageServiceConvSyncFailNoProgress=3]="BotMessageServiceConvSyncFailNoProgress",e[e.BotMessageServiceUnsupportedMessageType=4]="BotMessageServiceUnsupportedMessageType",e[e.BotMessageServiceWaitingMessage=5]="BotMessageServiceWaitingMessage",e[e.ChatServiceBlockedMessage=6]="ChatServiceBlockedMessage",e[e.InvalidPayload=7]="InvalidPayload",e[e.TelemetryObjectNotFound=8]="TelemetryObjectNotFound",e[e.InvalidPlatformListInPayload=9]="InvalidPlatformListInPayload",e[e.InvalidClientVersionInPayload=10]="InvalidClientVersionInPayload"}(p||(t.EngagementMessageTelemetryEventType=p={})),function(e){e[e.Notification=1]="Notification",e[e.PopCard=2]="PopCard",e[e.PopCardToast=3]="PopCardToast",e[e.QuietPopCard=4]="QuietPopCard",e[e.WebView=5]="WebView"}(g||(t.ActionOrigin=g={})),function(e){e[e.ApplicationActive=1]="ApplicationActive",e[e.CallInProgress=2]="CallInProgress",e[e.CoachMarkShown=3]="CoachMarkShown",e[e.GenericModalOpened=4]="GenericModalOpened",e[e.HubNotVisible=5]="HubNotVisible",e[e.NotOnLandingPage=6]="NotOnLandingPage",e[e.OnboardingInProgress=7]="OnboardingInProgress",e[e.PopCardModalOpen=8]="PopCardModalOpen",e[e.PopCardToggled=9]="PopCardToggled",e[e.QuietCard=10]="QuietCard",e[e.UserStatusBusy=11]="UserStatusBusy",e[e.WebViewOpened=12]="WebViewOpened",e[e.SurfaceDisabled=13]="SurfaceDisabled",e[e.EngagementTypeFilterEnabled=14]="EngagementTypeFilterEnabled",e[e.AppRatingDialogOpened=15]="AppRatingDialogOpened"}(h||(t.SuppressReason=h={})),function(e){e[e.TipsAndTricks=0]="TipsAndTricks",e[e.TipsAndTricksPush=1]="TipsAndTricksPush",e[e.EmailMissedMessageReminders=2]="EmailMissedMessageReminders",e[e.EmailMissedCallReminders=3]="EmailMissedCallReminders"}(m||(t.EngagementSettingsSource=m={})),function(e){e[e.TPUM=1]="TPUM",e[e.InApp=2]="InApp"}(S||(t.EngagementPushSource=S={})),function(e){e[e.OpenDialog=0]="OpenDialog",e[e.CloseDialog=1]="CloseDialog",e[e.DismissDialog=2]="DismissDialog"}(_||(t.EngagementShareableContentAction=_={}));class f extends s.TelemetryEventBase{constructor(e){super(),this.props=e}getAttributes(){const e=super.getAttributes();if(e.Action=d[this.props.eventType]||"UnknownAction",e.CampaignId=this.props.campaignId||"UnknownCampaign",e.IsOfflineTargeted=this.props.offlineTargeted||!1,this.props.actionOrigin&&(e.ActionOrigin=g[this.props.actionOrigin]),this.props.campaignTrackId&&(e.CampaignTrackId=this.props.campaignTrackId),this.props.contentLanguage&&(e.ContentLanguage=this.props.contentLanguage),this.props.contentPlatforms&&(e.ContentPlatforms=(0,r.chain)(this.props.contentPlatforms,(0,r.map)((e=>a.EngagementPlatformType[e])),(0,r.sortBy)(),(0,r.uniq)(),(0,r.join)(","))),this.props.suppressReason&&(e.SuppressReason=h[this.props.suppressReason]),this.props.deliveryTime&&this.props.sentTime&&(e.DeliveryTime=this.props.deliveryTime,e.SentTime=this.props.sentTime,e.DeliveryDuration=this.props.deliveryTime-this.props.sentTime),n.isNumber(this.props.buttonIndex)&&(e.ButtonIndex=this.props.buttonIndex),this.props.messageId&&(e.MessageId=this.props.messageId),this.props.messageCorrelationId&&(e.MessageCorrelationId=this.props.messageCorrelationId),this.props.actionUri&&(e.ActionUri=this.props.actionUri),!n.isUndefined(this.props.userStatus)){const t=(0,c.encodeStatus)(this.props.userStatus);t&&(e.UserStatus=t)}if(this.props.hubLocation&&(e.HubLocation=this.props.hubLocation),this.props.engagementTelemetryAttributes){const t="T_";n.each(this.props.engagementTelemetryAttributes,((i,o)=>{e[t+n.upperFirst(o)]=i}))}return this.props.postMessageReason&&(e.PostMessageReason=u[this.props.postMessageReason]),this.props.delayForPeriod&&(e.DelayForPeriod=this.props.delayForPeriod),e}}t.EngagementTelemetryEventBase=f;class y extends s.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"engagement_message"}getAttributes(){const e=super.getAttributes();e.Action=p[this.props.eventType]||"UnknownAction",this.props.messageType&&(e.MessageType=this.props.messageType),this.props.messageCorrelationId&&(e.MessageCorrelationId=this.props.messageCorrelationId),this.props.messageId&&(e.MessageId=this.props.messageId);const t=l.getTrackableConversationId(this.props.conversationId);return t&&(e.ConversationId=t),e}}t.EngagementMessageTelemetryEvent=y;t.EngagementFeedbackTelemetryEvent=class extends f{getEventName(){return"engagement_feedback_event"}};t.EngagementPopCardTelemetryEvent=class extends f{getEventName(){return"engagement_popcard_event"}};t.EngagementNoticeTelemetryEvent=class extends f{getEventName(){return"engagement_notice_event"}};t.EngagementPushNotificationTelemetryEvent=class extends f{constructor(e){super(e),this.props=e}getEventName(){return"engagement_push_notification_event"}getAttributes(){const e=super.getAttributes();return e.Source=this.props.source?S[this.props.source]:S[S.TPUM],this.props.lastAppActiveTimeTimestamp&&(e.LastAppActiveTimeTimestamp=this.props.lastAppActiveTimeTimestamp),this.props.lastActivityCheckTimestamp&&(e.LastActivityCheckTimestamp=this.props.lastActivityCheckTimestamp),this.props.lastActivityCheckParsedTimestamp&&(e.LastActivityCheckParsedTimestamp=this.props.lastActivityCheckParsedTimestamp),e}getLoggedOutSendingPolicy(){return s.TelemetryEventLoggedOutPolicy.SendNow}};class C extends s.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"engagement_settings"}getAttributes(){const e=super.getAttributes();return e.Source=m[this.props.source],e.IsToggled=this.props.isToggled,e}}t.EngagementSettingsTelemetryEvent=C;class v extends s.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"engagement_shareable_content"}getAttributes(){const e=super.getAttributes();return e.Action=_[this.props.action],e.CampaignId=this.props.campaignId,e.TextInputEnabled=this.props.wasTextMsgEnabled,e.CarouselEnabled=this.props.wasCarouselEnabled,e.OneClickSendEnabled=this.props.wasOneClickSendEnabled,e.HasShareButton=!!this.props.hasShareButton,e.ContentReshare=!!this.props.isContentReshare,e.SharesCount=this.props.shareCounts||0,e.HasUsedSearch=!!this.props.hasUsedSearch,e.HasUsedCarousel=!!this.props.hasUsedCarousel,e.HasSharedTextMsg=!!this.props.hasSharedTextMsg,e.CardsShareCount=this.props.cardsShareCount||0,this.props.cardsShared&&(e.CardsShared=n.toString(n.sortBy(this.props.cardsShared))),e}}t.EngagementShareableContentEvent=v;class b extends s.TelemetryEventBase{constructor(e,t){super(),this._type=e,this._action=t}getEventName(){return"engagement_banner"}getAttributes(){const e=super.getAttributes();return e.BannerType=this._type,e.Action=this._action,e}}t.EngagementBannerTelemetryEvent=b;class T extends s.TelemetryEventBase{constructor(e,t){super(),this._type=e,this._action=t}getEventName(){return"engagement_tooltip"}getAttributes(){const e=super.getAttributes();return e.TooltipType=this._type,e.Action=this._action,e}}t.EngagementTooltipTelemetryEvent=T},362910:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(220534));t.default=class{static getTrackingQueryParam(e){if(n.isEmpty(e))return;const t=r.default.getURIComponents(e);return t?n.get(t.queryParameterKeyValues,"WT.mc_id",void 0):void 0}}},710664:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EnhancedHistorySearchEvent=t.EnhancedHistorySearchActionType=void 0;const o=i(240297);var n;!function(e){e[e.QuickLastImage=0]="QuickLastImage",e[e.QuickLastLink=1]="QuickLastLink",e[e.Date=2]="Date",e[e.Reveal=3]="Reveal"}(n||(t.EnhancedHistorySearchActionType=n={}));class r extends o.TelemetryEventBase{constructor(e){super(),this._actionType=e}getEventName(){return"enhanced_history_search"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._actionType],e}}t.EnhancedHistorySearchEvent=r},287687:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionSearchAction=t.SubscriptionSearchComponentClick=t.ManageSubscription=t.SubscriptionUpgrade=t.SubscriptionDetailsLinkClick=t.BalanceStatePanelComponentClick=t.BalanceStateNavigation=t.ReactivationStep=t.PushEtagExpired=t.EntitlementIntegrationError=t.BalanceStatePollNotificationConsumed=t.BalanceStatePollNotificationReceived=t.OrderNotificationOrEntitlementsUpdated=t.OrderPollNotificationReceived=t.AADCPanelLoaded=t.RatesFetching=t.ServicesFetching=t.AADCLInfoLinksClickTarget=t.AADCExperienceLoaded=t.ManageSubscriptionClickTarget=t.SubscriptionSearchComponentClickTarget=t.ContentShowSource=t.SubscriptionUpgradeFlowStep=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(783193),a=o.__importDefault(i(139221)),s=i(240297),l=i(425495),c=i(230667);var d,u,p,g,h,m;!function(e){e.ShowButton="show",e.ClickButton="click"}(d||(t.SubscriptionUpgradeFlowStep=d={})),function(e){e.InfoScreen="info_screen",e.MainScreen="main_screen"}(u||(t.ContentShowSource=u={})),function(e){e.SubscriptionSearchButton="SubscriptionSearchButton",e.SubscriptionResetSearchButton="SubscriptionResetSearchButton"}(p||(t.SubscriptionSearchComponentClickTarget=p={})),function(e){e.SubscriptionClicked="SubscriptionClicked",e.ManageSubscriptionLinkClicked="ManageSubscriptionLinkClicked",e.IOSSubscriptionManageLinkClicked="IOSSubscriptionManageLinkClicked",e.GPlaySubscriptionManageLinkClicked="GplaySubscriptionManageLinkClicked"}(g||(t.ManageSubscriptionClickTarget=g={})),function(e){e.BalancePanelScreenLoaded="BalancePanelScreenLoaded",e.CallFailureScreenLoaded="CallFailureScreenLoaded",e.SmsFailureScreenLoaded="SmsFailureScreenLoaded",e.SkypeNumberPurchaseScreenLoaded="SkypeNumberPurchaseScreenLoaded",e.TasterScreenLoaded="TasterScreenLoaded",e.SendCreditPanelScreenLoaded="SendCreditPanelScreenLoaded"}(h||(t.AADCExperienceLoaded=h={})),function(e){e.AADCLearnMoreLinkClicked="AADCLearnMoreLinkClicked",e.GiftSkypeCreditFAQLinkClicked="GiftSkypeCreditFAQLinkClicked"}(m||(t.AADCLInfoLinksClickTarget=m={}));class S extends l.PriorityTelemetryEventBase{getEventName(){return"s4l_entitlement"}getAriaTenantTokenOverride(){return a.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.PurchaseTraceId=c.paymentStepTracker.getTraceId(),e}}class _ extends s.TelemetryEventBase{getEventName(){return"s4l_entitlement_polling"}getAriaTenantTokenOverride(){return a.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.ServicesFetching=class extends _{constructor(e){super(),this._servicesFetchingTime=e}getActionName(){return"ServicesFetching"}getAttributes(){const e=super.getAttributes();return e.Duration=this._servicesFetchingTime,e}};t.RatesFetching=class extends _{constructor(e){super(),this._ratesFetchingTime=e}getActionName(){return"RatesFetching"}getAttributes(){const e=super.getAttributes();return e.Duration=this._ratesFetchingTime,e}};t.AADCPanelLoaded=class extends S{constructor(e,t){super(),this._navigationScreen=e,this._infoLink=t}getActionName(){return"AADCPanelLoaded"}getAttributes(){const e=super.getAttributes();return e.navigationScreen=this._navigationScreen,e.infoLinkClicked=void 0!==this._infoLink?this._infoLink:"",e}};t.OrderPollNotificationReceived=class extends S{constructor(e){super(),this._reason=e}getActionName(){return"OrderPollNotificationReceived"}getAttributes(){const e=super.getAttributes();return e.Reason=r.EntitlementRequestReason[this._reason],e}};t.OrderNotificationOrEntitlementsUpdated=class extends S{constructor(e,t,i,o,n,r){super(),this._reason=e,this._failed=t,this._didBalanceUpdate=i,this._didSubscriptionsUpdate=o,this._didSkypeNumbersUpdate=n,this._consumeTime=r}getActionName(){return"OrderNotificationOrEntitlementsUpdated"}getAttributes(){const e=super.getAttributes();return e.ConsumeTime=this._consumeTime,e.DidConsumeFail=this._failed,e.DidBalanceUpdate=this._didBalanceUpdate,e.DidSubscriptionsUpdate=this._didSubscriptionsUpdate,e.DidSkypeNumbersUpdate=this._didSkypeNumbersUpdate,e.Reason=r.EntitlementRequestReason[this._reason],e}};t.BalanceStatePollNotificationReceived=class extends _{constructor(e){super(),this._reason=e}getActionName(){return"BalanceStatePollNotificationReceived"}getAttributes(){const e=super.getAttributes();return e.Reason=r.EntitlementRequestReason[this._reason],e}};t.BalanceStatePollNotificationConsumed=class extends _{constructor(e,t,i,o,n,r){super(),this._reason=e,this._failed=t,this._didBalanceUpdate=i,this._didSubscriptionsUpdate=o,this._didSkypeNumbersUpdate=n,this._consumeTime=r}getActionName(){return"BalanceStatePollNotificationConsumed"}getAttributes(){const e=super.getAttributes();return e.ConsumeTime=this._consumeTime,e.DidConsumeFail=this._failed,e.DidBalanceUpdate=this._didBalanceUpdate,e.DidSubscriptionsUpdate=this._didSubscriptionsUpdate,e.DidSkypeNumbersUpdate=this._didSkypeNumbersUpdate,e.Reason=r.EntitlementRequestReason[this._reason],e}};t.EntitlementIntegrationError=class extends _{constructor(e,t,i){super(),this._step=e,this._description=t,this._props=i}getActionName(){return"EntitlementIntegrationError"}getAttributes(){const e=super.getAttributes();return e.Step=this._step,e.Description=this._description,n.assign(e,this._props||{})}};t.PushEtagExpired=class extends _{constructor(e,t){super(),this._currentEtag=e,this._pushEtag=t,this._getEtagDiff=()=>{const e=this._currentEtag.replace(/\D/g,""),t=this._pushEtag.replace(/\D/g,"");let i=0;for(let o=e.length-1;o>=0;o--){i+=(parseInt(e.charAt(o)||"0",10)-parseInt(t.charAt(o)||"0",10))*Math.pow(10,e.length-o-1)}return i}}getActionName(){return"PushEtagExpired"}getAttributes(){const e=super.getAttributes();return e.CurrentEtag=this._currentEtag,e.PushEtag=this._pushEtag,e.EtagDiff=String(this._getEtagDiff()),e}};t.ReactivationStep=class extends S{constructor(e){super(),this._reactivationActionStep=e}getActionName(){return"ReactivationStep"}getAttributes(){const e=super.getAttributes();return e.Step=this._reactivationActionStep,e}};t.BalanceStateNavigation=class extends S{constructor(e,t,i){super(),this._navigationSource=e,this._entitlements=t,this._contentShown=i}getActionName(){return"BalanceStateNavigation"}getAttributes(){const e=super.getAttributes();return e.NavigationSource=this._navigationSource,e.EntitlementsCombination=this._entitlements,e.ContentShown=this._contentShown,e}};t.BalanceStatePanelComponentClick=class extends S{constructor(e){super(),this._target=e}getActionName(){return"BalanceStatePanelComponentClick"}getAttributes(){const e=super.getAttributes();return e.Target=this._target,e}};t.SubscriptionDetailsLinkClick=class extends S{constructor(e){super(),this._subscriptionId=e}getActionName(){return"SubscriptionDetailsLinkClick"}getAttributes(){const e=super.getAttributes();return e.SubscriptionId=this._subscriptionId,e}};t.SubscriptionUpgrade=class extends S{constructor(e,t,i,o){super(),this._flowStep=e,this._originSubscriptionId=t,this._upgradeSubscriptionId=i,this._minutesLeft=o}getActionName(){return"SubscriptionUpgrade"}getAttributes(){const e=super.getAttributes();return e.Step=this._flowStep,e.OriginSubscriptionId=this._originSubscriptionId,e.UpgradeSubscriptionId=this._upgradeSubscriptionId,e.OriginSubscriptionMinutesLeft=this._minutesLeft,e}};t.ManageSubscription=class extends S{constructor(e,t){super(),this._target=e,this._subscriptionId=t}getActionName(){return"ManageSubscription"}getAttributes(){const e=super.getAttributes();return e.Step=this._target,e.SubscriptionId=this._subscriptionId,e}};t.SubscriptionSearchComponentClick=class extends S{constructor(e,t){super(),this._target=e,this._countryCode=t}getActionName(){return"SubscriptionSearchComponentClick"}getAttributes(){const e=super.getAttributes();return e.Target=this._target,this._countryCode&&(e.SearchedCountry=this._countryCode),e}};t.SubscriptionSearchAction=class extends S{constructor(e){super(),this._countryCode=e}getActionName(){return"SubscriptionSearchAction"}getAttributes(){const e=super.getAttributes();return e.SearchedCountry=this._countryCode,e}}},703953:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileExposure=t.FileOpenClick=t.FileDownloadFailure=t.FileDownloadCancelClick=t.FileDownloadRetryClick=t.FileDownloadClick=t.FileEventVersion=t.FileAction=void 0;const o=i(197582),n=i(786531),r=i(240297),a=o.__importStar(i(340482));var s,l;!function(e){e[e.DownloadClick=0]="DownloadClick",e[e.DownloadRetryClick=1]="DownloadRetryClick",e[e.DownloadCancelClick=2]="DownloadCancelClick",e[e.DownloadFailure=3]="DownloadFailure",e[e.OpenClick=4]="OpenClick",e[e.Exposure=5]="Exposure"}(s||(t.FileAction=s={})),function(e){e.OldDesign="old_design",e.ReDesignV1="redesign_v1"}(l||(t.FileEventVersion=l={}));class c extends n.MessageTelemetryBase{constructor(e,t,i){super(i,i.conversationId),this._action=e,this._fileType=t;const o=a.getClientMessageId(i);this._clientMessageId=o||""}getEventName(){return"file_action"}getEventTraceMode(){return r.TelemetryTraceMode.EventName}getCorrelationAttributes(){const e=super.getCorrelationAttributes();return e.Client_Message_Id=this._clientMessageId,e}getAttributes(){const e=super.getAttributes();e.file_type=this._fileType;let t=s[this._action];return this._action===s.OpenClick&&(t="open_click"),e.action=t,e}_useOldAttributeNames(){return!0}}class d extends c{constructor(e,t,i,o,n,r,a){super(e,t,i),this._fileSizeRaw=o,this._version=n,this._autoDownload=r,this._networkType=a}getAttributes(){const e=super.getAttributes();return e.file_size_bytes=this._fileSizeRaw,e.network_type=this._networkType,e.version=this._version,e.auto_download=this._autoDownload,e}}t.FileDownloadClick=class extends d{constructor(e,t,i,o,n,r){super(s.DownloadClick,e,t,i,o,n,r)}};t.FileDownloadRetryClick=class extends d{constructor(e,t,i,o,n,r){super(s.DownloadRetryClick,e,t,i,o,n,r)}};t.FileDownloadCancelClick=class extends d{constructor(e,t,i,o,n,r){super(s.DownloadCancelClick,e,t,i,o,n,r)}};t.FileDownloadFailure=class extends d{constructor(e,t,i,o,n,r){super(s.DownloadFailure,e,t,i,o,n,r)}};t.FileOpenClick=class extends c{constructor(e,t,i,o,n){super(s.OpenClick,e,t),this._version=i,this._autoDownload=o,this._networkType=n}getAttributes(){const e=super.getAttributes();return e.Clicked_Timestamp=this._eventCreationTime,e.Server_Message_Id=this._serverMessageId,e.network_type=this._networkType,e.version=this._version,e.auto_download=this._autoDownload,e}};t.FileExposure=class extends c{constructor(e,t,i,o,n){super(s.Exposure,e,t),this._version=i,this._autoDownload=o,this._networkType=n,this._serverMessageId=t.getOriginalServerId()||""}getAttributes(){const e=super.getAttributes();return e.Exposed_Timestamp=this._eventCreationTime,e.Server_Message_Id=this._serverMessageId,e.network_type=this._networkType,e.version=this._version,e.auto_download=this._autoDownload,e}}},884881:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FindPanelAddinShared=t.FindPanelLaunched=t.FindPanelLaunchMessage=t.FindPanelResult=void 0;const o=i(240297);var n,r;!function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"}(n||(t.FindPanelResult=n={})),function(e){e[e.NoAddinsAvailable=0]="NoAddinsAvailable",e[e.AddinsAvailable=1]="AddinsAvailable",e[e.AddinsFetchError=2]="AddinsFetchError"}(r||(t.FindPanelLaunchMessage=r={}));class a extends o.TelemetryEventBase{getEventName(){return"caap_find_panel"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.FindPanelLaunched=class extends a{constructor(e){super(),this._launchData=e}getActionName(){return"Launched"}getAttributes(){const e=super.getAttributes();return e.LaunchResult=n[this._launchData.resultCode],e.LaunchResultMessage=r[this._launchData.resultMessage],e}};t.FindPanelAddinShared=class extends a{constructor(e){super(),this._shareData=e}getActionName(){return"AddinShared"}getAttributes(){const e=super.getAttributes();return e.IntegrationId=this._shareData.integrationId||"",e.IsBrowserUrl=this._shareData.isBrowserUrl,e.ShareResult=n[this._shareData.resultCode],e.ShareResultMessage=this._shareData.resultMessage||"",e}}},895690:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SyncContactsPermissionEvent=t.SyncContactsLoadedEvent=void 0;const o=i(240297);class n extends o.TelemetryEventBase{getEventName(){return"free_call_sync_contacts"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.SyncContactsLoadedEvent=class extends n{getActionName(){return"SyncContactsLoaded"}};t.SyncContactsPermissionEvent=class extends n{constructor(e){super(),this._didGrantPermission=e}getActionName(){return"SyncContactsPermission"}getAttributes(){const e=super.getAttributes();return e.DidGrantPermission=this._didGrantPermission,e}}},120695:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FundamentalsDebugEmptyBodyEvent=t.FundamentalsMessagePushDebug=t.FundamentalsDebugEvent=t.AriaGetEventsLimitReached=t.DatabaseDebugEvent=t.DatabaseErrorEvent=t.MissingPushSubscription=void 0;const o=i(197582),n=o.__importStar(i(636076)),r=o.__importStar(i(496486)),a=i(240297);o.__importStar(i(340482));class s extends a.TelemetryEventBase{constructor(e,t,i,o,n,r){super(),this._newEndpointId=e,this._existingEndpointId=t,this._pushSubscriptionId=i,this._edfRegistrationId=o,this._reason=n,this._tcid=r}getEventName(){return"fundamentals_missing_push_sub"}getAttributes(){return r.assign({},super.getAttributes(),{NewEndpointId:this._newEndpointId,EndpointId:this._existingEndpointId,PushSubscriptionId:this._pushSubscriptionId,EdfRegistrationId:this._edfRegistrationId||"",Reason:this._reason||"",CSContextId:this._tcid?this._tcid.contextId:"",CSDate:this._tcid?this._tcid.date:""})}}t.MissingPushSubscription=s;class l extends a.TelemetryEventBase{constructor(e){super(),this._errorInfo=e}getEventName(){return"fundamentals_database_error"}getAttributes(){return r.assign(super.getAttributes(),{WebSQLCode:this._errorInfo.webSqlCode,SQLiteCode:this._errorInfo.sqliteCode,Message:this._errorInfo.sanitizedErrorMessage,isNewDAL:this._errorInfo.isNewDAL})}}t.DatabaseErrorEvent=l;class c extends a.TelemetryEventBase{constructor(e,t,i){super(),this._providerName=e,this._timeToOpen=t,this._isNormalConnection=i}getEventName(){return"fundamentals_db_debug"}getAttributes(){const e=super.getAttributes();return e.ProviderName=this._providerName,e.TimeToOpen=this._timeToOpen,e.IsNormalConnection=this._isNormalConnection,e}}t.DatabaseDebugEvent=c;class d extends a.TelemetryEventBase{constructor(e,t){super(),this._tableSize=e,this._oldestSentTimestamp=t}getEventName(){return"fundamentals_aria_limit"}getAttributes(){const e=super.getAttributes();return e.TableSize=this._tableSize,e.OldestSent=this._oldestSentTimestamp,e}}t.AriaGetEventsLimitReached=d;class u extends a.TelemetryEventBase{constructor(e,t=""){super(),this._trackingName=e,this._data=t}getEventName(){return"fundamentals_debug"}getAttributes(){const e=super.getAttributes();return e.Name=this._trackingName,e.Data=this._data,e}}t.FundamentalsDebugEvent=u;t.FundamentalsMessagePushDebug=class extends u{constructor(e,t,i,o="",n=""){super("MessagePushDebug"),this._clientMessageId=e,this._correlationId=t,this._step=i,this._error=o,this._result=n}shouldSend(){return!1}getAttributes(){const e=super.getAttributes();return e.ProcessingStep=this._step,e.ClientMessageId=this._clientMessageId,e.MessageCorrelationId=this._correlationId,e.PushProcessingError=this._error,e.ProcessingResult=this._result,e}getEventPriority(){return n.AWTEventPriority.High}};class p extends a.TelemetryEventBase{constructor(e,t,i,o,n){super(),this._restClient=e,this._scenario=t,this._requestId=i,this._statusCode=o,this._statusText=n}getEventName(){return"fundamentals_empty_body_debug"}getAttributes(){const e=super.getAttributes();return e.RestClient=this._restClient,e.Scenario=this._scenario,e.RequestId=this._requestId||"",e.StatusCode=this._statusCode,e.StatusText=this._statusText||"",e}}t.FundamentalsDebugEmptyBodyEvent=p},893147:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GalleryFilterSwitchedEvent=t.GalleryItemViewedEvent=t.GalleryCommandSelectedEvent=t.GalleryAddItemViaDragAndDropEvent=t.GalleryAddItemPanelOpenedEvent=t.GalleryOpenedEvent=t.GalleryAction=void 0;const o=i(197582).__importStar(i(44717)),n=i(812822),r=i(206467),a=i(240297),s=i(340482);var l;!function(e){e[e.Opened=0]="Opened",e[e.FilterSwitched=1]="FilterSwitched",e[e.AddItemPanelOpened=2]="AddItemPanelOpened",e[e.AddItemViaDragAndDrop=3]="AddItemViaDragAndDrop",e[e.CommandSelected=4]="CommandSelected",e[e.ItemViewed=5]="ItemViewed"}(l||(t.GalleryAction=l={}));class c extends a.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._conversationId=t}getEventName(){return"messaging_gallery"}getAttributes(){const e=super.getAttributes();return e.Action=l[this._action],e.IsGroupConversation=o.isGroupConversation(this._conversationId),e.IsEncryptedConversation=o.isEncryptedThread(this._conversationId),e}}t.GalleryOpenedEvent=class extends c{constructor(e){super(l.Opened,e)}};t.GalleryAddItemPanelOpenedEvent=class extends c{constructor(e){super(l.AddItemPanelOpened,e)}};t.GalleryAddItemViaDragAndDropEvent=class extends c{constructor(e){super(l.AddItemViaDragAndDrop,e)}};t.GalleryCommandSelectedEvent=class extends c{constructor(e,t){super(l.CommandSelected,e.conversationId),this._message=e,this._command=t}getAttributes(){const e=super.getAttributes();return e.ItemType=(0,s.getMessageTypeName)(this._message),e.Command=r.CommandTypes[this._command],e}};t.GalleryItemViewedEvent=class extends c{constructor(e){super(l.ItemViewed,e.conversationId),this._message=e}getAttributes(){const e=super.getAttributes();return e.ItemType=(0,s.getMessageTypeName)(this._message),e}};t.GalleryFilterSwitchedEvent=class extends c{constructor(e,t,i){super(l.FilterSwitched,e),this._from=t,this._to=i}getAttributes(){const e=super.getAttributes();return e.From=n.GalleryViewMode[this._from],e.To=n.GalleryViewMode[this._to],e}}},663823:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(242561),r=i(893147),a=i(532448),s=o.__importStar(i(85385));t.default=class{static potentiallyMarkCommandSelected(e,t,i){if(t===n.MessageRenderOrigin.StackGalleryCanvas||t===n.MessageRenderOrigin.CompositeGalleryCanvas){const t=a.GalleryTelemetryScenario.getInstance();t&&t.markStreamItemCommandSelected(e,i),s.track(new r.GalleryCommandSelectedEvent(e,i))}}static potentiallyMarkItemViewed(e,t){if(t===n.MessageRenderOrigin.StackGalleryCanvas||t===n.MessageRenderOrigin.CompositeGalleryCanvas){const t=a.GalleryTelemetryScenario.getInstance();t&&t.markItemViewed(e),s.track(new r.GalleryItemViewedEvent(e))}}}},532448:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GalleryTelemetryScenario=t.GalleryScenarioStep=void 0;const o=i(197582),n=o.__importStar(i(971988)),r=i(815146),a=o.__importStar(i(85385)),s=o.__importDefault(i(519093)),l=i(812822),c=i(96575),d=i(206467),u=o.__importDefault(i(535775)),p=o.__importDefault(i(601274));var g;!function(e){e[e.GalleryOpened=0]="GalleryOpened",e[e.GalleryClosed=1]="GalleryClosed",e[e.ConversationChanged=2]="ConversationChanged",e[e.ChangedView=3]="ChangedView",e[e.ItemAdded=4]="ItemAdded",e[e.ItemViewed=5]="ItemViewed",e[e.ItemForwarded=6]="ItemForwarded",e[e.ItemRemoved=7]="ItemRemoved",e[e.ViewedItemInChat=8]="ViewedItemInChat",e[e.ItemSaved=9]="ItemSaved",e[e.ItemCopied=10]="ItemCopied",e[e.LinkCopied=11]="LinkCopied",e[e.ItemReported=12]="ItemReported",e[e.TimedOut=13]="TimedOut",e[e.Unknown=14]="Unknown"}(g||(t.GalleryScenarioStep=g={}));class h{constructor(){this._scenarioCompleted=!1,this._scenarioTimedOut=!1,this._onGalleryOpenTimeout=()=>{if(this._scenarioCompleted)return;const e={cause:g[g.TimedOut]};this._scenario.finish(e),this._scenarioCompleted=!0,this._scenarioTimedOut=!0},this._startNewScenario(g.GalleryOpened)}static getInstance(e=!1){return!e&&this._instance||(this._instance=new h),this._instance}static destroyInstance(){this._instance=void 0}_startNewScenario(e){this._scenarioTimedOut=!1,this._scenarioCompleted=!1;const t={cause:g[e]};this._scenario=new u.default(c.ScenarioName.Gallery),this._scenario.start(t),this._resetTimeoutTimer()}_resetTimeoutTimer(){this._timeoutTimerId&&(p.default.clearTimeout(this._timeoutTimerId),this._timeoutTimerId=void 0),this._timeoutTimerId=p.default.setTimeout(this._onGalleryOpenTimeout,12e4)}markStep(e,t){if(this._scenarioTimedOut&&this._startNewScenario(g.TimedOut),!this._scenarioCompleted)if(e===g.GalleryClosed||e===g.ConversationChanged){const t={cause:g[e]};this._scenario.finish(t),this._scenarioCompleted=!0,this._timeoutTimerId&&(p.default.clearTimeout(this._timeoutTimerId),this._timeoutTimerId=void 0)}else{const i=g[e];this._scenario.isStepMarked(i)||this._scenario.markStepCompleted(i,t),this._resetTimeoutTimer()}}markChangedViewMode(e){const t={changedToViewMode:l.GalleryViewMode[e]};this.markStep(g.ChangedView,t)}markItemViewed(e){const t={itemType:this._getItemType(e)};this.markStep(g.ItemViewed,t)}markStreamItemCommandSelected(e,t){const i={itemType:this._getItemType(e)};this.markStep(this._convertCommandToStep(t),i)}_getItemType(e){return s.default.isMediaItem(e)?l.GalleryViewMode[l.GalleryViewMode.Media]:this._isLinkItem(e)?l.GalleryViewMode[l.GalleryViewMode.Links]:this._isFileItem(e)?l.GalleryViewMode[l.GalleryViewMode.Files]:e.messagetype}_isLinkItem(e){return n.getMessageTypeGroup(e)===n.MessageTypeGroups.SwiftCard||e.messagetype===n.MessageTypes.UriObject||e.hasUrlPreviewMetadata()}_isFileItem(e){return n.getMessageTypeGroup(e)===n.MessageTypeGroups.UriFile}_convertCommandToStep(e){switch(e){case d.CommandTypes.Forward:return g.ItemForwarded;case d.CommandTypes.Remove:return g.ItemRemoved;case d.CommandTypes.ViewInChat:return g.ViewedItemInChat;case d.CommandTypes.SaveAsFile:case d.CommandTypes.SaveAsMedia:case d.CommandTypes.SaveMedia:return g.ItemSaved;case d.CommandTypes.Copy:case d.CommandTypes.CopyImage:return g.ItemCopied;case d.CommandTypes.CopyLink:return g.LinkCopied;case d.CommandTypes.OpenFileLocation:case d.CommandTypes.OpenMediaLocation:return g.ItemViewed;case d.CommandTypes.Report:return g.ItemReported;default:return a.warn(r.LogTraceArea.GenericUnsafe,"Unsupported command passed to the gallery telemetry scenario: "+d.CommandTypes[e]),g.Unknown}}}t.GalleryTelemetryScenario=h},387584:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalHotkeyInvokedEvent=t.GlobalHotkeyUnregisteredEvent=t.GlobalHotkeyRegisteredEvent=void 0;const o=i(240297);var n;!function(e){e[e.Registered=0]="Registered",e[e.Unregistered=1]="Unregistered",e[e.Invoked=2]="Invoked"}(n||(n={}));class r extends o.TelemetryEventBase{constructor(e,t,i){super(),this._action=e,this._hotkey=t,this._hotkeyAccelerator=i}getEventName(){return"all_global_hotkeys"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],e.Hotkey=this._hotkey,this._hotkeyAccelerator&&(e.HotkeyAccelerator=this._hotkeyAccelerator),e}}t.GlobalHotkeyRegisteredEvent=class extends r{constructor(e,t,i){super(n.Registered,t,i),this._wasRegistrationSuccessful=e}getAttributes(){const e=super.getAttributes();return e.WasSuccessful=this._wasRegistrationSuccessful,e}};t.GlobalHotkeyUnregisteredEvent=class extends r{constructor(e,t,i){super(n.Unregistered,t,i),this._wasUnregistrationSuccessful=e}getAttributes(){const e=super.getAttributes();return e.WasSuccessful=this._wasUnregistrationSuccessful,e}};t.GlobalHotkeyInvokedEvent=class extends r{constructor(e,t){super(n.Invoked,e,t)}}},653305:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InviteMorePeopleButtonClickedEvent=t.ShareGroupButtonClickedEvent=t.InviteMorePeopleButtonOrigin=t.ShareGroupButtonOrigin=void 0,t.getShareButtonOriginFromSearchResultsListOrigin=function(e){let t;switch(e){case o.SearchResultsListOrigin.AddingParticipantsToGroup:t=r.AddToGroup;break;case o.SearchResultsListOrigin.QuickCallPanel:t=r.QuickCallPanel;break;default:t=r.Unknown}return t};const o=i(815146),n=i(240297);var r,a,s;!function(e){e[e.MessageStream=0]="MessageStream",e[e.GroupProfile=1]="GroupProfile",e[e.ConversationHeader=2]="ConversationHeader",e[e.AddToGroup=3]="AddToGroup",e[e.QuickCallPanel=4]="QuickCallPanel",e[e.CallRosterPanel=5]="CallRosterPanel",e[e.Unknown=6]="Unknown"}(r||(t.ShareGroupButtonOrigin=r={})),function(e){e[e.MessageStream=0]="MessageStream"}(a||(t.InviteMorePeopleButtonOrigin=a={})),function(e){e[e.ShareGroupButtonClicked=0]="ShareGroupButtonClicked",e[e.InviteMorePeopleButtonClicked=1]="InviteMorePeopleButtonClicked"}(s||(s={}));class l extends n.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"people_group_engagement"}getAttributes(){const e=super.getAttributes();return e.Action=s[this._action],e}}t.ShareGroupButtonClickedEvent=class extends l{constructor(e){super(s.ShareGroupButtonClicked),this._origin=e}getAttributes(){const e=super.getAttributes();return e.Origin=r[this._origin],e}};t.InviteMorePeopleButtonClickedEvent=class extends l{constructor(e){super(s.InviteMorePeopleButtonClicked),this._origin=e}getAttributes(){const e=super.getAttributes();return e.Origin=a[this._origin],e}}},57872:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GuestUpsellTelemetryEventAction=void 0;const o=i(197582).__importStar(i(496486)),n=i(355344),r=i(240297);var a;!function(e){e[e.UpsellPanelPresented=1]="UpsellPanelPresented",e[e.SisuStarted=2]="SisuStarted",e[e.SisuFinished=3]="SisuFinished",e[e.MeetNowFlowStarted=4]="MeetNowFlowStarted"}(a||(t.GuestUpsellTelemetryEventAction=a={}));class s extends r.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"engagement_guest_upsell"}getAttributes(){const e=super.getAttributes();return e.Action=a[this.props.action]||"UnknownAction",this.props.upsellType&&(e.Type=this.props.upsellType),o.isUndefined(this.props.isSignUp)||(e.SisuType=n.AppEntryMethod.Unknown),this.props.meetNowPartner&&(e.Partner=this.props.meetNowPartner),e}}t.default=s},482564:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HubPlusButtonEvent=void 0;const o=i(240297);class n extends o.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"all_hub_plus_button"}getAttributes(){const e=super.getAttributes();return e.Action=this._action,e}}t.HubPlusButtonEvent=n},931727:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InstallAttributionTelemetryEvents=t.AttributionProvider=void 0;const o=i(240297);var n;!function(e){e.Adjust="Adjust",e.Eagle="Eagle"}(n||(t.AttributionProvider=n={}));class r extends o.TelemetryEventBase{constructor(e){super(),this._installAttribution=e}getEventName(){return"install_attribution"}getAttributes(){const e=super.getAttributes();return e.Network=this._installAttribution.network,e.AttributionProvider=this._installAttribution.attributionProvider,this._installAttribution.campaign&&(e.Campaign=this._installAttribution.campaign),this._installAttribution.adgroup&&(e.Adgroup=this._installAttribution.adgroup),this._installAttribution.callbackPerf&&(e.CallbackPerf=this._installAttribution.callbackPerf),this._installAttribution.initPerf&&(e.InitPerf=this._installAttribution.initPerf),this._installAttribution.isRefresh&&(e.Refresh=1),this._installAttribution.adid&&(e.Adid=this._installAttribution.adid),this._installAttribution.deepLinkPageName&&(e.DeepLinkPageName=this._installAttribution.deepLinkPageName),this._installAttribution.trackerName&&(e.TrackerName=this._installAttribution.trackerName),this._installAttribution.errorMessage&&(e.ErrorMessage=this._installAttribution.errorMessage),e}}t.InstallAttributionTelemetryEvents=r},740442:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationStoreTelemetryEvent=t.IntegrationActionTelemetryEvent=t.IntegrationErrorEvent=t.NativeIntegrationLoadEvent=t.WebIntegrationLoadEvent=t.IntegrationLoadEvent=t.NativeIntegrationLaunchEvent=t.WebIntegrationLaunchEvent=t.IntegrationClosedEvent=t.IntegrationLaunchEvent=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(815146),a=i(810597),s=o.__importDefault(i(139221)),l=i(240297);class c extends l.TelemetryEventBase{getEventName(){return"caap_integration"}getAttributes(){let e=super.getAttributes();return e=n.merge(e,this.getIntegrationActionAttributes()),e}getIntegrationActionAttributes(){return{Action:this.getActionName()}}}class d extends c{constructor(e,t){super(),this._integration=e,this._integrationName=t}getActionName(){return"IntegrationLaunched"}getAttributes(){const e=super.getAttributes();return e.Integration=this._integration,this._integrationName&&(e.IntegrationName=this._integrationName),e}}t.IntegrationLaunchEvent=d;t.IntegrationClosedEvent=class extends c{constructor(e,t){super(),this._integration=e,this._integrationName=t}getActionName(){return"IntegrationClosed"}getAttributes(){const e=super.getAttributes();return e.Integration=this._integration,this._integrationName&&(e.IntegrationName=this._integrationName),e}};t.WebIntegrationLaunchEvent=class extends d{constructor(e,t,i){super(e,t),this._origin=i}getAttributes(){const e=super.getAttributes();return e.Origin=r.BrowserOrigin[this._origin],e.IsNative=!1,e}};t.NativeIntegrationLaunchEvent=class extends d{constructor(e,t,i){super(e,t),this._origin=i}getAttributes(){const e=super.getAttributes();return e.Origin=a.AddinOrigin[this._origin],e.IsNative=!0,e}};class u extends c{constructor(e,t,i,o,n){super(),this._integration=e,this._integrationName=t,this._urlLaunchedFromFindPanel=i,this._isFirstPage=o,this._pageLoadTimeInMs=n}getActionName(){return"IntegrationLoaded"}getAttributes(){const e=super.getAttributes();return e.Integration=this._integration,this._integrationName&&(e.IntegrationName=this._integrationName),e.IsUrlLaunchedFromFindPanel=this._urlLaunchedFromFindPanel,e.IsFirstPage=this._isFirstPage,e.PageLoadDuration=this._pageLoadTimeInMs,e}}t.IntegrationLoadEvent=u;t.WebIntegrationLoadEvent=class extends u{constructor(e,t,i,o,n,r){super(e,t,i,o,n),this._origin=r}getAttributes(){const e=super.getAttributes();return e.Origin=r.BrowserOrigin[this._origin],e.IsNative=!1,e}};t.NativeIntegrationLoadEvent=class extends u{constructor(e,t,i,o,n){super(e,t,i,o,0),this._origin=n}getAttributes(){const e=super.getAttributes();return e.Origin=a.AddinOrigin[this._origin],e.IsNative=!0,e}};t.IntegrationErrorEvent=class extends c{constructor(e,t,i,o,n,r){super(),this._integration=e,this._integrationName=t,this._urlLaunchedFromFindPanel=i,this._origin=o,this._isFirstPage=n,this._errorCode=r}getActionName(){return"IntegrationError"}getAttributes(){const e=super.getAttributes();return e.Integration=this._integration,this._integrationName&&(e.IntegrationName=this._integrationName),e.IsUrlLaunchedFromFindPanel=this._urlLaunchedFromFindPanel,e.Origin=r.BrowserOrigin[this._origin],e.IsFirstPage=this._isFirstPage,e.ErrorCode=this._errorCode,e}};class p extends c{constructor(e,t){super(),this._integration=e,this._actionName=t}getEventName(){return"caap_"+this._integration}getAriaTenantTokenOverride(){return s.default.getAriaAddinTenantToken()}getIntegrationActionAttributes(){return n.merge({Integration:this._integration},super.getIntegrationActionAttributes())}getActionName(){return this._actionName}}t.IntegrationActionTelemetryEvent=p;t.IntegrationStoreTelemetryEvent=class extends p{constructor(e,t,i,o,n,r){super(e,"Store"+t),this._isSuccessful=i,this._latencyMs=o,this._errorCode=n,this._errorMsg=r}getIntegrationActionAttributes(){return n.merge({IsSuccessful:this._isSuccessful,LatencyDuration:this._latencyMs,ErrorCode:this._errorCode,"ErrorMessage:":this._errorMsg},super.getIntegrationActionAttributes())}}},627924:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FingerPrintCheckEvent=t.InviteFriendsButtonClicked=t.InviteRevokedEvent=t.InviteSharedEvent=t.ShareType=t.FingerPrintResult=t.InviteLinkOrigin=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(636076)),a=i(44717),s=i(240297);var l,c,d;!function(e){e[e.UserProfile=0]="UserProfile",e[e.GroupProfile=1]="GroupProfile",e[e.AddToGroup=2]="AddToGroup",e[e.AddContact=3]="AddContact",e[e.MoreContactsPanel=4]="MoreContactsPanel",e[e.MessageStream=5]="MessageStream",e[e.DesktopNewActionPicker=6]="DesktopNewActionPicker",e[e.NewChatInvite=7]="NewChatInvite",e[e.QuickCallPanel=8]="QuickCallPanel",e[e.CallRosterPanel=9]="CallRosterPanel",e[e.LandingScreen=10]="LandingScreen",e[e.MeProfile=11]="MeProfile",e[e.Unknown=12]="Unknown",e[e.MeControl=13]="MeControl"}(l||(t.InviteLinkOrigin=l={})),function(e){e[e.NotRecognized=0]="NotRecognized",e[e.Recognized=1]="Recognized",e[e.TimedOut=2]="TimedOut"}(c||(t.FingerPrintResult=c={}));class u extends s.TelemetryEventBase{constructor(e,t){super(),this._mri=e,this._origin=t}getAttributes(){const e=super.getAttributes();return e.Origin=l[this._origin],e.InviteType=(0,a.isThread)(this._mri)?"group":"user",e}}!function(e){e.Clipboard="clipboard",e.Email="email",e.Native="native",e.QR="qr"}(d||(t.ShareType=d={}));class p extends u{constructor(e,t,i,o){super(t,o),this._inviteLink=e,this._shareType=i}getEventName(){return"people_invite_link_shared"}getAttributes(){const e=super.getAttributes();return e.ShareType=this._shareType,e}getPiiAttributes(){const e=super.getPiiAttributes();return e.InviteLink={value:this._inviteLink,piiKind:r.AWTPiiKind.Uri},e}}t.InviteSharedEvent=p;t.InviteRevokedEvent=class extends u{constructor(e,t,i,o,n,r){super(e,t),this._requestDuration=i,this._isSuccess=o,this._errorStatusCode=n,this._errorMessage=r}getEventName(){return"people_invite_link_revoked"}getAttributes(){const e=super.getAttributes();return e.RequestDuration=this._requestDuration,e.IsSuccess=this._isSuccess,n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),n.isUndefined(this._errorMessage)||(e.ErrorMessage=this._errorMessage),e}};t.InviteFriendsButtonClicked=class extends p{getActionName(){return"InviteFriendsButtonClicked"}};class g extends s.TelemetryEventBase{constructor(e){super(),this._result=e}getEventName(){return"people_device_fingerprint_checked"}getAttributes(){const e=super.getAttributes();return e.Result=c[this._result],e}}t.FingerPrintCheckEvent=g},923908:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JoinLinkRetrievalServiceErrorEvent=t.JoinLinkRetrievalServiceSuccessEvent=t.ShortIdResolutionServiceErrorEvent=t.ShortIdResolutionServiceSuccessEvent=t.JoinLinkResolutionErrorEvent=t.GuestMeetingCreationServiceErrorEvent=t.GuestLoginAttemptEvent=t.GuestLoginAvailableEvent=t.GuestCreationSuccessEvent=t.GuestCreationServiceErrorEvent=t.WaitForJoinedKnowledgeTimedOutEvent=t.JoinAddMemberToThreadErrorEvent=t.JoinGroupConversationEvent=t.JoinLinkOrigin=void 0;const o=i(197582),n=o.__importStar(i(636076)),r=o.__importStar(i(496486)),a=i(815146),s=i(240297),l=o.__importStar(i(340482));var c;!function(e){e[e.WebLauncher=0]="WebLauncher",e[e.InClient=1]="InClient",e[e.Campaign=2]="Campaign",e[e.ExternalOther=3]="ExternalOther",e[e.QRCode=4]="QRCode",e[e.Unknown=5]="Unknown"}(c||(t.JoinLinkOrigin=c={}));class d extends s.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"join_conversation"}getAttributes(){const e=super.getAttributes();e.Action=this.getAction(),e.JoinLinkOrigin=c[this.props.joinLinkOrigin],e.PreSisu=this.props.preSisu,e.NavigationConversationOrigin=a.NavigationConversationOrigin[this.props.navigationConversationOrigin];const t=l.getTrackableConversationId(this.props.conversationId);return t&&(e.ConversationId=t),r.isUndefined(this.props.browserOrigin)||(e.BrowserOrigin=a.BrowserOrigin[this.props.browserOrigin]),e}}t.JoinGroupConversationEvent=class extends d{constructor(e){super(e),this.props=e}getAction(){return"JoinGroupConversation"}getAttributes(){const e=super.getAttributes();return e.ExistingMember=this.props.existingMember,e}};t.JoinAddMemberToThreadErrorEvent=class extends d{constructor(e){super(e),this.props=e}getAction(){return"AddMemberToThreadError"}getAttributes(){const e=super.getAttributes();return e.StatusCode=this.props.statusCode,e.TimedOut=this.props.timedOut,r.isUndefined(this.props.statusText)||(e.StatusText=this.props.statusText),r.isUndefined(this.props.contextId)||(e.ContextId=this.props.contextId),r.isUndefined(this.props.date)||(e.Date=this.props.date),r.isUndefined(this.props.errorCode)||(e.ErrorCode=this.props.errorCode),r.isUndefined(this.props.errorMessage)||(e.ErrorMessage=this.props.errorMessage),e}};t.WaitForJoinedKnowledgeTimedOutEvent=class extends d{constructor(e){super(e),this.props=e}getAction(){return"WaitForJoinedKnowledgeTimedOut"}getAttributes(){const e=super.getAttributes();return e.TimeoutDurationInMs=this.props.timeoutDurationInMs,e}};class u extends s.TelemetryEventBase{getEventName(){return"join_guest"}getLoggedOutSendingPolicy(){return s.TelemetryEventLoggedOutPolicy.SendNow}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}class p extends u{constructor(e){super(),this.props=e}getAction(){return"GuestCreationError"}getAttributes(){const e=super.getAttributes();return r.isUndefined(this.props.requestId)||(e.RequestId=this.props.requestId),e.TimedOut=this.props.timedOut,e.StatusCode=this.props.statusCode,e.Url=this.props.url,e}}t.GuestCreationServiceErrorEvent=p;t.GuestCreationSuccessEvent=class extends u{getAction(){return"GuestCreationSuccess"}};t.GuestLoginAvailableEvent=class extends u{getAction(){return"GuestLoginAvailable"}};t.GuestLoginAttemptEvent=class extends u{getAction(){return"GuestLoginAttempt"}};t.GuestMeetingCreationServiceErrorEvent=class extends p{getAction(){return"GuestMeetingCreationServiceError"}};class g extends s.TelemetryEventBase{getEventName(){return"join_link_resolution"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}t.JoinLinkResolutionErrorEvent=class extends g{constructor(e){super(),this.props=e}getAction(){return"JoinLinkResolutionError"}getAttributes(){const e=super.getAttributes();return e.ResolutionError=this.props.resolutionError,e}getPiiAttributes(){const e=super.getPiiAttributes();return e.UriToResolve={value:this.props.uriToResolve,piiKind:n.AWTPiiKind.Uri},e}};class h extends g{constructor(e){super(),this.props=e}getAttributes(){const e=super.getAttributes(),t=l.getTrackableConversationId(this.props.convId);return t&&(e.ConversationId=t),e}getPiiAttributes(){const e=super.getPiiAttributes();return e.ShortId={value:this.props.shortId,piiKind:n.AWTPiiKind.Identity},e}}t.ShortIdResolutionServiceSuccessEvent=class extends h{getAction(){return"ShortIdResolutionServiceSuccess"}};t.ShortIdResolutionServiceErrorEvent=class extends h{constructor(e){super(e),this.props=e}getAction(){return"ShortIdResolutionServiceError"}getAttributes(){const e=super.getAttributes();return r.isUndefined(this.props.requestId)||(e.RequestId=this.props.requestId),e.TimedOut=this.props.timedOut,e.StatusCode=this.props.statusCode,e}};class m extends s.TelemetryEventBase{getEventName(){return"join_link_retrieval"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}class S extends m{constructor(e){super(),this.props=e}getAttributes(){const e=super.getAttributes(),t=l.getTrackableConversationId(this.props.conversationId);return t&&(e.ConversationId=t),e}getPiiAttributes(){const e=super.getPiiAttributes();return this.props.shortId&&(e.ShortId={value:this.props.shortId,piiKind:n.AWTPiiKind.Identity}),e}}t.JoinLinkRetrievalServiceSuccessEvent=class extends S{getAction(){return"JoinLinkRetrievalServiceSuccess"}};t.JoinLinkRetrievalServiceErrorEvent=class extends S{constructor(e){super(e),this.props=e}getAction(){return"JoinLinkRetrievalServiceError"}getAttributes(){const e=super.getAttributes();return r.isUndefined(this.props.requestId)||(e.RequestId=this.props.requestId),e.IsTimedOut=this.props.timedOut,e.StatusCode=this.props.statusCode,e.Url=this.props.url,e}}},121026:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.startingUi=function(e){k(s.AppEntryPoint.Opened),r.default.subscribeForChanges("KpiActivityStartedTelemetryService",T),T(),C=e},t.trackEntryPoint=k,t.getMaxEntryPoint=function(){return f},t.getLastReportedMaxEntryPoint=function(e=!1){if(f)return f;return Date.now()<v||e?_:void 0};const o=i(197582),n=o.__importStar(i(516778)),r=o.__importDefault(i(659938)),a=o.__importDefault(i(150343)),s=i(815146),l=i(815146),c=o.__importStar(i(85385)),d=o.__importStar(i(216030)),u=o.__importDefault(i(778362)),p=o.__importDefault(i(966584)),g=o.__importDefault(i(139221)),h=o.__importDefault(i(601274)),m=1e4;let S,_,f,y,C,v=0,b=!1;function T(){const e=n.App.getActivationState()===n.Types.AppActivationState.Active;e!==b&&(b=e,e?k(s.AppEntryPoint.Foregrounded):S&&(h.default.clearTimeout(S),P()))}function P(){S=void 0;let e=u.default.getMccCode(),t=u.default.getMncCode();e&&t||(e=g.default.getMccCode(),t=g.default.getMncCode()),c.log(l.LogTraceArea.Startup,"Sending KpiActivityStarted: "+s.AppEntryPoint[f]);const i=new d.KpiActivityStarted({startTime:y,entryPoint:f,isSuggestionsEnabled:p.default.getSuggestionsEnabled(),mccCode:e,mncCode:t,startUiParams:C});c.track(i),y=void 0,f=void 0,C={}}function k(e){(!f||e>f)&&(f=e,_=f,v=Date.now()+a.default.getS4LSisuFeatures().msaConvergenceFlags.entryPointStalenessWindow,y=Date.now()),S||(S=h.default.setTimeout(P,m))}},216030:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileReceived=t.FileSent=t.KpiLongPollFailure=t.KpiLongPoll=t.KpiChatSyncFailure=t.KpiChatSync=t.KpiAppStart=t.KpiActivityStarted=t.KpiMessageDelivered=t.KpiMessageSent=void 0;const o=i(197582),n=o.__importStar(i(636076)),r=o.__importStar(i(496486)),a=o.__importDefault(i(150343)),s=o.__importDefault(i(925494)),l=o.__importStar(i(964647)),c=i(971988),d=o.__importStar(i(44717)),u=o.__importStar(i(766698)),p=o.__importStar(i(815146)),g=o.__importDefault(i(363091)),h=i(822701),m=o.__importDefault(i(139221)),S=i(240297),_=o.__importStar(i(340482)),f=i(425495);class y extends S.TelemetryEventBase{getAriaTenantTokenOverride(){return m.default.getAriaTelemetryTenantToken()}shouldSend(){const e=this.getTelemetryConfig();return!!e&&e.enabled}getAttributes(){return r.assign(super.getAttributes(),{DeviceInfo_Os_Version:m.default.getOSVersion(),Client_Name:"SkypeX"})}getEventTraceMode(){return S.TelemetryTraceMode.EventName}}class C extends f.PriorityTelemetryEventBase{getAriaTenantTokenOverride(){return m.default.getAriaTelemetryTenantToken()}shouldSend(){const e=this.getTelemetryConfig();return!!e&&e.enabled}getAttributes(){return r.assign(super.getAttributes(),{DeviceInfo_Os_Version:m.default.getOSVersion(),Client_Name:"SkypeX"})}getEventTraceMode(){return S.TelemetryTraceMode.EventName}}class v extends C{constructor(e,t,i,o,n,r,a,s){super(),this._conversationId=e,this._recipientMri=t,this._cmid=i,this._creator=o,this._registrationId=n,this._chatServiceEndpointInfo=r,this._serverMessageId=a,this._hasAnyCall=s}shouldSend(){if(!super.shouldSend())return!1;if(!this._cmid)return!1;const e=this.getTelemetryConfig();return!(!a.default.dangerouslyGetS4LMessagingFeatures().magicBotTelemetrySamplingOverride||this._creator!==a.default.dangerouslyGetS4LMessagingFeatures().magicBotId)||_.shouldTrackMessage(this._cmid,e)}getCorrelationAttributes(){const e={Message_Correlation_Id:l.getCorrelationIdFromMessageParts(this._creator,this._conversationId,this._cmid)};if(this._recipientMri&&d.isV2OneToOneThread(this._conversationId)){const t=l.getCorrelationIdFromMessageParts(this._creator,this._recipientMri,this._cmid);e.MessageCorrelationIdV1=t}return e}getAttributes(){const e=1/(this.getTelemetryConfig().percentage/100),t={Client_Message_Id:this._cmid||"",Event_Sampling_Value:e,Registration_Id:this._registrationId||"",Endpoint_Id:this._chatServiceEndpointInfo&&this._chatServiceEndpointInfo.id||"",Server_Message_Id:this._serverMessageId||"",IsAnyCallOngoing:this._hasAnyCall,MriNamespace:d.getMriNamespace(this._conversationId)},i=d.getThreadSuffix(this._conversationId);i&&(t.ThreadSuffix=i);const o=_.getTrackableConversationId(this._conversationId);return o&&(t.Conversation_Id=o),r.assign({},super.getAttributes(),t)}}class b extends y{shouldSend(){if(super.shouldSend()){if(void 0===this._shouldRandomlySend){const e=this.getTelemetryConfig();this._shouldRandomlySend=100*u.random()<e.percentage}return this._shouldRandomlySend}return!1}markConfirmedGoodConnection(e){this._confirmedGoodConnection=e}}t.KpiMessageSent=class extends v{constructor(e,t,i,o,n,r,a,s,l,c,u,p,h,m,S,_,f,y,C){super(e,C,t.clientmessageid,d.skypeIdToMri(g.default.getSkypeId()),l,c,h,m),this._message=t,this._conversationMemberCount=i,this._queueTime=o,this._blockedTime=n,this._sendingTime=r,this._retryCount=a,this._rawContentLength=s,this._contextId=u,this._date=p,this._backgroundedTime=S,this._hasAppStart=_,this._connectionType=f,this._triggeredBy=y}getEventName(){return"kpi_message_sent"}getTelemetryConfig(){return S.TelemetryConfig.kpi_message_sent}getAttributes(){let e=super.getAttributes();return e.Sending_Time=this._sendingTime,e.Queue_Time=this._queueTime,e.Blocked_Time=this._blockedTime,e.Retry_Count=this._retryCount,e.context_id=this._contextId,e.date=this._date,e.BackgroundedTime=this._backgroundedTime,e.HasAppRestart=this._hasAppStart,e.ConnectionType=p.ChatServiceConnectionType[this._connectionType],e.TriggeredBy=h.PostingTrigger[this._triggeredBy],e=_.getCommonAttributesMessageSent(e,this._conversationId,this._eventCreationTime,this._message,this._conversationMemberCount,this._rawContentLength),this._recipientMri&&(e.RecipientMriNamespace=d.getMriNamespace(this._recipientMri),e.Bot_Conversation=d.isAgent(this._recipientMri)),this._message.properties&&this._message.properties[c.MessageProperties.AlbumId]&&(e.AlbumId=this._message.properties[c.MessageProperties.AlbumId].toString()),e}getEventPriority(){return a.default.getS4LTelemetryFeaturesNoSubscription().priorityEventList.includes(this.getEventName())?super.getEventPriority():n.AWTEventPriority.High}};t.KpiMessageDelivered=class extends v{constructor(e,t,i,o,n,r,a,s,l,c,d,u){super(e.conversationId,u,o,e.creator,n,r,e.getOriginalServerId(),s),this._message=e,this._messageOrigin=t,this._notificationResult=i,this._messageAlreadySeen=a,this._originsCount=l,this._correlationVector=c,this._messageStoreUsed=d}shouldSend(){return!this._message.isMessageLie()&&!this._message.isPropertyLie()&&(this._messageOrigin===p.MessageOrigin.ChatSync||this._messageOrigin===p.MessageOrigin.LongPoll||this._messageOrigin===p.MessageOrigin.PushNotification||this._messageOrigin===p.MessageOrigin.Trouter)&&super.shouldSend()}getEventName(){return"kpi_message_delivered"}getEventTraceMode(){return S.TelemetryTraceMode.None}getTelemetryConfig(){return S.TelemetryConfig.kpi_message_delivered}getAttributes(){const e=Number(this._message.getLatestServerMessageVersion()),t=e?this._eventCreationTime-e:"",i=r.assign({},super.getAttributes(),{Group_Conversation:d.isGroupConversation(this._message.conversationId),IsEncryptedConversation:d.isEncryptedThread(this._message.conversationId),Delivery_Timestamp:this._eventCreationTime,Message_Origin:p.MessageOrigin[this._messageOrigin],My_Message:g.default.isMyMri(this._message.creator),Notification_Result:p.MessageProcessResult[this._notificationResult],MessageAlreadySeen:void 0===this._messageAlreadySeen?"":this._messageAlreadySeen,DeliveryDelay:t,Time_From_Startup:Date.now()-m.default.getAppInitTime(),Message_Type:_.getMessageTypeName(this._message,this._message.creator,this._message.conversationId),OriginsCount:this._originsCount,MessageRawType:_.getMessageRawTypeName(this._message,this._message.creator,this._message.conversationId),MessageStoreUsed:this._messageStoreUsed});return this._message.hasAlbumId()&&(i.AlbumId=this._message.getAlbumId()),this._correlationVector&&(i.CorrelationVector=this._correlationVector),this._recipientMri&&(i.RecipientMriNamespace=d.getMriNamespace(this._recipientMri),i.Bot_Conversation=d.isAgent(this._recipientMri)),i}};t.KpiActivityStarted=class extends C{constructor(e){super(),this._params=e}getEventName(){return"kpi_inapp_activity_start"}getTelemetryConfig(){return S.TelemetryConfig.kpi_inapp_activity_start}getAttributes(){const e=r.assign(super.getAttributes(),{Foreground_Start_Time:this._params.startTime,Entry_Point:p.AppEntryPoint[this._params.entryPoint],IsSuggestionsEnabled:this._params.isSuggestionsEnabled,NetworkMCCCode:this._params.mccCode||"",NetworkMNCCode:this._params.mncCode||""}),{meetNowAction:t,meetNowSource:i,correlationId:o}=this._params.startUiParams;t&&(e.MeetNowAction=t),i&&(e.MeetNowSource=i),o&&(e.CorrelationId=o),this._params.startUiParams.conversationId&&(e.ConversationId=this._params.startUiParams.conversationId);const n=a.default.getS4LCMCFeaturesNoSubscription().clientCountry;n&&(e.ClientCountry=n);const s=a.default.getS4LMessagingFeaturesNoSubscription().ued;return s&&s.enabled&&s.consumeEvents&&(e.IsUedEventProcessingEnabled=!0),e}};t.KpiAppStart=class extends y{getEventName(){return"kpi_client_init"}getTelemetryConfig(){return S.TelemetryConfig.kpi_client_init}getAttributes(){return r.assign(super.getAttributes(),{Init_Timestamp:m.default.getAppInitTime()})}};t.KpiChatSync=class extends b{constructor(){super(...arguments),this._backgrounded=!1}getEventName(){return"kpi_chatsync_complete"}getTelemetryConfig(){return S.TelemetryConfig.kpi_chatsync_complete}getAttributes(){const e=r.assign(super.getAttributes(),{sync_time:this._endTime-this._eventCreationTime,ran_in_background:this._backgrounded});return this._syncData&&r.assign(e,{synced_conversations:this._syncData.conversationsCount,synced_messages:this._syncData.messagesCount,is_first_sync:this._syncData.isFirstSync,is_full_sync:this._syncData.isFullSync}),void 0!==this._confirmedGoodConnection&&(e.ConfirmedGoodConnection=this._confirmedGoodConnection),e}endSync(e){this._endTime=Date.now(),this._syncData=e}markBackgrounded(){this._backgrounded=!0}};t.KpiChatSyncFailure=class extends b{constructor(e){super(),this._responseCode=e}getEventName(){return"kpi_chatsync_failed"}getTelemetryConfig(){return S.TelemetryConfig.kpi_chatsync_failed}getAttributes(){const e=r.assign(super.getAttributes(),{response_code:this._responseCode});return void 0!==this._confirmedGoodConnection&&(e.ConfirmedGoodConnection=this._confirmedGoodConnection),e}};t.KpiLongPoll=class extends b{constructor(e,t,i){super(),this._events=e,this._requestDuration=t,this._activeTimeout=i}getEventName(){return"kpi_longpoll_complete"}getTelemetryConfig(){return S.TelemetryConfig.kpi_longpoll_complete}getAttributes(){const e={EventCountTotal:this._events.length,RequestDuration:this._requestDuration};return r.isUndefined(this._activeTimeout)||(e.ActiveTimeout=this._activeTimeout),void 0!==this._confirmedGoodConnection&&(e.ConfirmedGoodConnection=this._confirmedGoodConnection),r.each(this._events,(t=>{const i="EventCount"+this._getNormalizedResourceType(t);e[i]?e[i]=e[i]+1:e[i]=1})),r.assign({},super.getAttributes(),e)}_getNormalizedResourceType(e){switch(e.resourceType){case"CustomUserProperties":case"ConversationUpdate":case"ThreadUpdate":case"NewMessage":case"MessageUpdate":case"EndpointPresence":case"UserPresence":case"ReadReceipt":case"SignalRelay":return e.resourceType;default:return"Unknown"}}};t.KpiLongPollFailure=class extends b{constructor(e,t,i=!0,o){super(),this._responseCode=e,this._requestDuration=t,this._processedEvents=i,this._activeTimeout=o}getEventName(){return"kpi_longpoll_failed"}getTelemetryConfig(){return S.TelemetryConfig.kpi_longpoll_failed}getAttributes(){const e={ResponseCode:this._responseCode,RequestDuration:this._requestDuration,DidProcessEvents:this._processedEvents};return r.isUndefined(this._activeTimeout)||(e.ActiveTimeout=this._activeTimeout),void 0!==this._confirmedGoodConnection&&(e.ConfirmedGoodConnection=this._confirmedGoodConnection),r.assign({},super.getAttributes(),e)}};t.FileSent=class extends y{constructor(e,t,i,o,n,r,a){super(),this._conversationIds=e,this._source=t,this._extension=i,this._fileSize=o,this._viewId=n,this._documentId=r,this._messagesForPosting=a,this._failureReason=p.MessagingFailureReason.None,this._uploadStartTime=-1,this._uploadDuration=-1}getEventName(){return"file_sent"}getTelemetryConfig(){return S.TelemetryConfig.file_sent}getCorrelationAttributes(){return super.getCorrelationAttributes()}getAttributes(){const e=r.keys(this._messagesForPosting),t=super.getAttributes(),i=e[0];return t.Message_Type=_.getMessageTypeName(this._messagesForPosting[i],g.default.getSkypeMri(),i),t.Size=this._fileSize?this._fileSize:-1,t.Source=p.PostSource[this._source],t.Success=this._success,t.UploadDuration=this._uploadDuration,t.Extension=this._extension,t.NumOfConvs=this._conversationIds.length,t.Reason=p.MessagingFailureReason[this._failureReason],t.ViewId=this._viewId,t.DocId=this._documentId,t.FinishedAttemptsCount=this._finishedAttemptsSoFar||"",t.ResponseStatusCode=this._responseStatusCode||"",t}setSuccess(e,t,i,o,n,r){this._success=e,this._failureReason=t,this._finishedAttemptsSoFar=i,this._responseStatusCode=o,this._uploadStartTime=n,this._uploadDuration=r}};t.FileReceived=class extends y{constructor(e,t,i){super(),this._uri=e,this._size=t,this._extension=i,this._downloadDuration=-1,this._downloadStartTime=-1}getEventName(){return"file_received"}getTelemetryConfig(){return S.TelemetryConfig.file_received}getAttributes(){const e=new s.default(this._uri);let t;return this._downloadDuration>0&&this._size&&(t=1e3*this._size/(1024*this._downloadDuration)),r.assign(super.getAttributes(),{Success:this._success||"",DownloadDuration:this._downloadDuration,Intent:this._intent?p.MediaDownloadIntent[this._intent]:"",MediaProfile:this._mediaProfile||"",Extension:this._extension||"",ViewId:e.getViewId()||"",DocId:e.getDocumentId()||"",FailureReason:p.MessagingFailureReason[this._failureReason],Size:this._size||"",DownloadSpeed:t||"",FinishedAttemptsCount:this._finishedAttemptsSoFar||"",ResponseStatusCode:this._responseStatusCode||"",ErrorInfo:this._errorInfo||""})}setSuccess(e,t=p.MessagingFailureReason.None,i=1,o=void 0,n=""){this._success=e,this._failureReason=t,this._finishedAttemptsSoFar=i,this._responseStatusCode=o,this._errorInfo=n}setIntent(e){this._intent=e}setMediaProfile(e){this._mediaProfile=e}startDownload(){this._downloadStartTime=Date.now()}endDownload(){this._downloadDuration=Date.now()-this._downloadStartTime}setDownloadDuration(e){this._downloadDuration=e}}},64430:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageUIChangedEvent=t.LanguageSlashCommandChangedEvent=void 0;const o=i(197582).__importDefault(i(139221)),n=i(240297);class r extends n.TelemetryEventBase{constructor(e,t){super(),this._fromLlcc=e,this._toLlcc=t}getEventName(){return"language"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.FromLlcc=this._fromLlcc,e.ToLlcc=this._toLlcc,e.CurrentCountryCode=o.default.getCountryCode()||"Unknown",e}}t.LanguageSlashCommandChangedEvent=class extends r{getActionName(){return"slashcommand_change_language"}};t.LanguageUIChangedEvent=class extends r{getActionName(){return"ui_change_language"}}},776098:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LensFallbackAndroid=t.LensFallbackMode=t.LensSaveiOS=t.LensLaunchiOS=t.LensSaveAndroid=t.LensLaunchAndroid=void 0;const o=i(240297);class n extends o.TelemetryEventBase{constructor(){super()}getAttributes(){return super.getAttributes()}}t.LensLaunchAndroid=class extends n{constructor(e){super(),this._launchEvent=e}getEventName(){return"Office_Lens_LensSdk_LaunchLensAndroid"}getAttributes(){const e=super.getAttributes();return e.SessionId=this._launchEvent.SessionId||"",e.LensSdkVersion=this._launchEvent.LensSdkVersion||"",e.TelemetryEventTimestamp=this._launchEvent.TelemetryEventTimestamp||"",e.CurrentWorkFlowType=this._launchEvent.CurrentWorkFlowType||"",e.SDKMode=this._launchEvent.SDKMode||"",e.LaunchPerf=this._launchEvent.LaunchPerf||"",e.CameraXBindUsecasesToPreview=this._launchEvent.CameraXBindUsecasesToPreview||"",e.CameraXBindUsecasesApi=this._launchEvent.CameraXBindUsecasesApi||"",e.IsEmbeddedLaunch=this._launchEvent.IsEmbeddedLaunch||"",e.RecoveryMode=this._launchEvent.RecoveryMode||"",e.IsDexModeEnabled=this._launchEvent.IsDexModeEnabled||"",e.IsInterimCropEnabled=this._launchEvent.IsInterimCropEnabled||"",e.IsMultiWindowEnabled=this._launchEvent.IsMultiWindowEnabled||"",e.IsTalkBackEnabled=this._launchEvent.IsTalkBackEnabled||"",e}};t.LensSaveAndroid=class extends n{constructor(e){super(),this._launchEvent=e}getEventName(){return"Office_Lens_LensSdk_SaveMediaAndroid"}getAttributes(){const e=super.getAttributes();return e.SessionId=this._launchEvent.SessionId||"",e.LensSdkVersion=this._launchEvent.LensSdkVersion||"",e.TelemetryEventTimestamp=this._launchEvent.TelemetryEventTimestamp||"",e.CurrentWorkFlowType=this._launchEvent.CurrentWorkFlowType||"",e.MediaId=this._launchEvent.MediaId||"",e.Source=this._launchEvent.Source||"",e.ProcessMode=this._launchEvent.ProcessMode||"",e.Filter=this._launchEvent.Filter||"",e.FileSizeBeforeCleanUp=this._launchEvent.FileSizeBeforeCleanUp||"",e.ImageWidthBeforeCleanUp=this._launchEvent.ImageWidthBeforeCleanUp||"",e.ImageHeightBeforeCleanUp=this._launchEvent.ImageHeightBeforeCleanUp||"",e.FileSizeAfterCleanUp=this._launchEvent.FileSizeAfterCleanUp||"",e.ImageWidthAfterCleanUp=this._launchEvent.ImageWidthAfterCleanUp||"",e.ImageHeightAfterCleanUp=this._launchEvent.ImageHeightAfterCleanUp||"",e.FileSizeAfterSave=this._launchEvent.FileSizeAfterSave||"",e.Reason=this._launchEvent.Reason||"",e.Duration=this._launchEvent.Duration||0,e.TrimmedDuration=this._launchEvent.TrimmedDuration||0,e.OriginalVideoFileSize=this._launchEvent.OriginalVideoFileSize||0,e}};t.LensLaunchiOS=class extends n{constructor(e){super(),this._launchEvent=e}getEventName(){return"Office_Lens_LensSdk_LaunchLensiOS"}getAttributes(){const e=super.getAttributes();return e.Lens_SessionId=this._launchEvent.Lens_SessionId||"",e.version=this._launchEvent.version||"",e.currentWorkflowId=this._launchEvent.currentWorkflowId||"",e.LensEventName=this._launchEvent.LensEventName||"",e.defaultWorkflow=this._launchEvent.defaultWorkflow||"",e.imageDPI=this._launchEvent.imageDPI||"",e.isExistingUser=this._launchEvent.isExistingUser||"",e.isFirstLaunch=this._launchEvent.isFirstLaunch||"",e.isResumeSession=this._launchEvent.isResumeSession||"",e.launchReason=this._launchEvent.launchReason||"",e.launchWorkflowItem=this._launchEvent.launchWorkflowItem||"",e.mediaCompressionFactor=this._launchEvent.mediaCompressionFactor||"",e}};var r;t.LensSaveiOS=class extends n{constructor(e){super(),this._saveEvent=e}getEventName(){return"Office_Lens_LensSdk_SaveMediaiOS"}getAttributes(){const e=super.getAttributes();return e.Lens_SessionId=this._saveEvent.Lens_SessionId||"",e.version=this._saveEvent.version||"",e.currentWorkflowId=this._saveEvent.currentWorkflowId||"",e.LensEventName=this._saveEvent.LensEventName||"",e.mediaId=this._saveEvent.mediaId||"",e.source=this._saveEvent.source||"",e.mode=this._saveEvent.mode||"",e.filter=this._saveEvent.filter||"",e.imageSize=this._saveEvent.imageSize||"",e.imageDPI=this._saveEvent.imageDPI||"",e.sizeinPixel=this._saveEvent.sizeinPixel||"",e.ImageEntity=this._saveEvent.ImageEntity||"",e.Ink=this._saveEvent.Ink||"",e.TextSticker=this._saveEvent.TextSticker||"",e.orignalImageSize=this._saveEvent.orignalImageSize||"",e.processedImageSize=this._saveEvent.processedImageSize||"",e.VideoEntity=this._saveEvent.VideoEntity||"",e.duration=this._saveEvent.duration||"",e}},function(e){e.TakePicture="TakePicture",e.RecordVideo="RecordVideo",e.PickFromGallery="PickFromGallery"}(r||(t.LensFallbackMode=r={}));t.LensFallbackAndroid=class extends n{constructor(e){super(),this._mode=e}getEventName(){return"Office_Lens_Fallback_Android"}getAttributes(){const e=super.getAttributes();return e.Mode=this._mode||"",e}}},576047:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocationViewerOpenMaps=t.LocationViewerOpenGoogleMaps=t.LocationViewerOpen=t.LocationPickerResolveAddressFailed=t.LocationPickerResolveAddress=t.LocationPickerNearByFetchingFailed=t.LocationPickerNearbyClicked=t.LocationPickerNearByFetching=t.LocationPickerNavigationClose=t.LocationPickerNavigationOpen=t.LocationPickerSearchCancel=t.LocationPickerSearchStart=t.LocationPickerPermissionsChanged=t.LocationPickerGeolocationFetchedFailed=t.LocationPickerGeolocationFetched=t.LocationPickerSend=t.LocationAction=t.LocationStoreGeolocationFetchedFailed=t.LocationStoreGeolocationFetched=void 0;const o=i(197582),n=o.__importStar(i(964647)),r=o.__importStar(i(44717)),a=i(240297),s=o.__importStar(i(340482));class l extends a.TelemetryEventBase{getEventName(){return"caap_location"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class c extends l{constructor(e,t){super(),this._isHighAccurracy=e,this._durationInMs=t}getActionName(){return"Fetched"}getAttributes(){const e=super.getAttributes();return e.IsFetchHighAccuracy=this._isHighAccurracy,e.FetchDuration=this._durationInMs,e}}t.LocationStoreGeolocationFetched=c;var d;t.LocationStoreGeolocationFetchedFailed=class extends c{constructor(e,t,i,o,n){super(e,t),this._isTimeout=i,this._isPermissionDenied=o,this._isPositionUnavailable=n}getActionName(){return"Failed"}getAttributes(){const e=super.getAttributes();return e.IsFailedTimeout=this._isTimeout,e.IsDeniedPermission=this._isPermissionDenied,e.IsUnavailablePosition=this._isPositionUnavailable,e}},function(e){e[e.LocationPickerSend=0]="LocationPickerSend",e[e.LocationPickerGeolocationFetched=1]="LocationPickerGeolocationFetched",e[e.LocationPickerGeolocationFetchedFailed=2]="LocationPickerGeolocationFetchedFailed",e[e.LocationPickerPermissionsChanged=3]="LocationPickerPermissionsChanged",e[e.LocationPickerSearchStart=4]="LocationPickerSearchStart",e[e.LocationPickerSearchCancel=5]="LocationPickerSearchCancel",e[e.LocationPickerNavigationOpen=6]="LocationPickerNavigationOpen",e[e.LocationPickerNavigationClose=7]="LocationPickerNavigationClose",e[e.LocationPickerNearByFetching=8]="LocationPickerNearByFetching",e[e.LocationPickerNearByClicked=9]="LocationPickerNearByClicked",e[e.LocationPickerNearByFetchingFailed=10]="LocationPickerNearByFetchingFailed",e[e.LocationPickerResolveAddress=11]="LocationPickerResolveAddress",e[e.LocationPickerResolveAddressFailed=12]="LocationPickerResolveAddressFailed",e[e.LocationViewerOpen=13]="LocationViewerOpen",e[e.LocationViewerOpenGoogleMaps=14]="LocationViewerOpenGoogleMaps",e[e.LocationViewerOpenMaps=15]="LocationViewerOpenMaps"}(d||(t.LocationAction=d={}));class u extends a.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"messaging_location"}getEventTraceMode(){return a.TelemetryTraceMode.EventName}getAttributes(){const e=super.getAttributes();return e.Action=d[this._action],e}}class p extends u{constructor(e,t){super(e),this._type=t}getAttributes(){const e=super.getAttributes();return e.LocationPickerType=this._type,e}}t.LocationPickerSend=class extends p{constructor(e){super(d.LocationPickerSend,e)}};class g extends p{constructor(e,t,i,o,n,r){super(r||d.LocationPickerGeolocationFetched,e),this._originator=t,this._isHighAccurracy=i,this._isComponentMounted=o,this._durationInMs=n}getAttributes(){const e=super.getAttributes();return e.Originator=this._originator,e.IsHighaccurracy=this._isHighAccurracy,e.IsComponentMounted=this._isComponentMounted,e.DurationInMs=this._durationInMs,e}}t.LocationPickerGeolocationFetched=g;t.LocationPickerGeolocationFetchedFailed=class extends g{constructor(e,t,i,o,n,r,a,s){super(e,t,i,o,n,d.LocationPickerGeolocationFetchedFailed),this._isTimeout=r,this._isPermissionDenied=a,this._isPositionUnavailable=s}getAttributes(){const e=super.getAttributes();return e.IsTimeout=this._isTimeout,e.IsPermissionDenied=this._isPermissionDenied,e.IsPositionUnavailable=this._isPositionUnavailable,e}};t.LocationPickerPermissionsChanged=class extends p{constructor(e,t,i){super(d.LocationPickerPermissionsChanged,e),this._oldPermission=t,this._newPermission=i}getAttributes(){const e=super.getAttributes();return e.OldPermission=this._oldPermission,e.NewPermission=this._newPermission,e}};t.LocationPickerSearchStart=class extends p{constructor(e){super(d.LocationPickerSearchStart,e)}};t.LocationPickerSearchCancel=class extends p{constructor(e){super(d.LocationPickerSearchCancel,e)}};t.LocationPickerNavigationOpen=class extends p{constructor(e){super(d.LocationPickerNavigationOpen,e)}};t.LocationPickerNavigationClose=class extends p{constructor(e){super(d.LocationPickerNavigationClose,e)}};class h extends p{constructor(e,t,i,o){super(o||d.LocationPickerNearByFetching,e),this._isComponentMounted=t,this._durationInMs=i}getAttributes(){const e=super.getAttributes();return e.IsComponentMounted=this._isComponentMounted,e.DurationInMs=this._durationInMs,e}}t.LocationPickerNearByFetching=h;t.LocationPickerNearbyClicked=class extends p{constructor(e){super(d.LocationPickerNearByClicked,e)}};t.LocationPickerNearByFetchingFailed=class extends h{constructor(e,t,i,o){super(e,t,i,d.LocationPickerNearByFetchingFailed),this._statusCode=o}getAttributes(){const e=super.getAttributes();return e.StatusCode=this._statusCode,e}};class m extends p{constructor(e,t,i,o,n){super(e,t),this._addressFound=i,this._isComponentMounted=o,this._durationInMs=n}getAttributes(){const e=super.getAttributes();return e.WasAddressFound=this._addressFound,e.IsComponentMounted=this._isComponentMounted,e.DurationInMs=this._durationInMs,e}}t.LocationPickerResolveAddress=class extends m{constructor(e,t,i,o){super(d.LocationPickerResolveAddress,e,t,i,o)}};t.LocationPickerResolveAddressFailed=class extends m{constructor(e,t,i,o){super(d.LocationPickerResolveAddressFailed,e,t,i,o)}};t.LocationViewerOpen=class extends u{constructor(e,t){super(d.LocationViewerOpen),this._conversationId=e,this._message=t,this._cmid=s.getClientMessageId(this._message),this._messageCorrelationId=n.getCorrelationIdFromMessageParts(this._message.creator,this._conversationId,this._cmid),this._isGroupConversation=r.isGroupConversation(this._conversationId)}getEventName(){return"location_viewer"}getCorrelationAttributes(){const e=super.getAttributes();return e.Message_Correlation_Id=this._messageCorrelationId,e.Client_Message_Id=this._cmid||"",e}getAttributes(){const e=super.getAttributes();e.location_viewer_operation="open_viewer",e.Clicked_Timestamp=this._eventCreationTime,e.Group_Conversation=this._isGroupConversation,e.Server_Message_Id=this._message.getOriginalServerId()||"";const t=s.getTrackableConversationId(this._message.conversationId);return t&&(e.Conversation_Id=t),e}};t.LocationViewerOpenGoogleMaps=class extends u{constructor(){super(d.LocationViewerOpenGoogleMaps)}};t.LocationViewerOpenMaps=class extends u{constructor(){super(d.LocationViewerOpenMaps)}}},467036:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PreSignOutPanelEvent=t.TokenIssueEvent=t.TokenIssueType=t.KeychainFailureEvent=t.LogoutEvent=t.StartupErrorEvent=t.RedirectToLoginEvent=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(815146)),a=o.__importDefault(i(902530)),s=i(240297);class l extends s.TelemetryEventBase{getEventName(){return"sisu_login_logout"}getAttributes(){return n.assign(super.getAttributes(),{Action:this.getActionName(),NodeId:a.default.CallingNodeId.get()||""})}getLoggedOutSendingPolicy(){return s.TelemetryEventLoggedOutPolicy.SendNow}}t.RedirectToLoginEvent=class extends l{constructor(e,t,i,o,n){super(),this._reason=e,this._errorCode=t,this._timeSinceLastRefresh=i,this._correlationId=o,this._msaTokenKeychainKey=n}getActionName(){return"RedirectToLogin"}getAttributes(){const e=n.assign(super.getAttributes(),{Reason:r.RedirectToLoginReason[this._reason]});return this._errorCode&&(e.ErrorCode=this._errorCode),this._timeSinceLastRefresh&&(e.TimeSinceLastRefresh=this._timeSinceLastRefresh),this._correlationId&&(e.ErrorCorrelationId=this._correlationId),this._msaTokenKeychainKey&&(e.MsaTokenKeychainKey=this._msaTokenKeychainKey),e}};t.StartupErrorEvent=class extends l{constructor(e,t){super(),this._error=e,this._appWakeupReason=t}getActionName(){return"StartupError"}getAttributes(){return n.assign(super.getAttributes(),{Error:this._error||"unknown",AppWakeupReason:this._appWakeupReason||"unknown"})}};t.LogoutEvent=class extends l{constructor(e,t){super(),this._reason=e,this._isSaveCredentials=t,this._attributes={Reason:r.LogoutReason[this._reason]},n.isUndefined(this._isSaveCredentials)||(this._attributes=n.assign(this._attributes,{IsSaveCredentials:this._isSaveCredentials}))}getActionName(){return"Logout"}getAttributes(){return n.assign(super.getAttributes(),this._attributes)}};var c;t.KeychainFailureEvent=class extends l{constructor(e,t,i){super(),this._failureType=e,this._tokenType=t,this._error=i,this._attributes={Error:this._error,FailureType:r.KeychainFailureType[this._failureType],TokenType:r.KeychainTokenType[this._tokenType]}}getActionName(){return"KeychainFailure"}getAttributes(){return n.assign(super.getAttributes(),this._attributes)}},function(e){e[e.EmptyToken=0]="EmptyToken",e[e.InvalidToken=1]="InvalidToken"}(c||(t.TokenIssueType=c={}));t.TokenIssueEvent=class extends l{constructor(e,t,i){super(),this._tokenType=e,this._tokenIssueType=t,this._source=i,this._attributes={TokenType:r.KeychainTokenType[this._tokenType],TokenIssueType:c[this._tokenIssueType],Source:this._source}}getActionName(){return"TokenIssue"}getAttributes(){return n.assign(super.getAttributes(),this._attributes)}};t.PreSignOutPanelEvent=class extends l{constructor(e,t){super(),this._actionType=e,this._source=t}getActionName(){return"PreSignOutPanelAction"}getAttributes(){const e=super.getAttributes();return e.Source=this._source,e.ActionType=this._actionType,e}}},901156:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioMessageCancelEvent=t.FilesSentViaPicker=t.FilePickerOrigin=t.MediaBarItemPressed=void 0;const o=i(197582),n=o.__importStar(i(44717)),r=o.__importDefault(i(606617)),a=i(985367),s=i(331079),l=i(240297);class c extends l.TelemetryEventBase{constructor(e,t,i,o){super(),this._mediaBarItem=e,this._isActive=t,this._conversationId=i,this._origin=o,this._isGroupConversation=n.isGroupConversation(this._conversationId),this._isEncryptedConversation=n.isEncryptedThread(this._conversationId)}getEventName(){return"messaging_media_bar"}getAttributes(){const e=super.getAttributes();return e.MediaBarItem=this._mediaBarItem,e.IsActive=this._isActive,e.IsGroupConversation=this._isGroupConversation,e.IsEncryptedConversation=this._isEncryptedConversation,e.Origin=a.MediaBarItemOrigin[this._origin],e.IsMyBotConversation=n.isMyBotConversation(this._conversationId),e}}var d;t.MediaBarItemPressed=c,function(e){e[e.MediaPickerItem=0]="MediaPickerItem",e[e.FilePickerItem=1]="FilePickerItem",e[e.MessageComposer=2]="MessageComposer",e[e.DesktopGalleryPanel=3]="DesktopGalleryPanel",e[e.GalleryMediaList=4]="GalleryMediaList",e[e.DragAndDropToMessagePanel=5]="DragAndDropToMessagePanel",e[e.DragAndDropToRecentConversationsLists=6]="DragAndDropToRecentConversationsLists",e[e.DragAndDropToAvatarPicker=7]="DragAndDropToAvatarPicker",e[e.DragAndDropToGallery=8]="DragAndDropToGallery",e[e.CapturePreview=9]="CapturePreview",e[e.MediaPreview=10]="MediaPreview"}(d||(t.FilePickerOrigin=d={}));class u extends l.TelemetryEventBase{constructor(e,t,i,o){super(),this._origin=e,this._limitValue=t,this._wasOverLimit=i,this._filesExtensions=o}getEventName(){return"messaging_file_picker"}getAttributes(){let e=super.getAttributes();e.Origin=d[this._origin],e.LimitValue=this._limitValue,e.WasOverLimit=this._wasOverLimit;const t={},i=this._filesExtensions.length;for(let e=0;e<i;e++){const i=this._filesExtensions[e].toLowerCase(),o=r.default.getFileType(i),n=s.UploadFileType[o]+"Count";t.hasOwnProperty(n)||(t[n]=0),t[n]++}return e=Object.assign(Object.assign({},e),t),e.TotalCount=i,e}}t.FilesSentViaPicker=u;class p extends l.TelemetryEventBase{getEventName(){return"messaging_audio_message_cancel"}}t.AudioMessageCancelEvent=p},732469:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MediaDownloadTelemetryEvent=t.MediaDownloadActionOrigin=t.MediaDownloadReason=void 0;const o=i(786531);var n,r;!function(e){e[e.Copy=0]="Copy",e[e.Open=1]="Open",e[e.SaveAs=2]="SaveAs",e[e.SaveToDownloads=3]="SaveToDownloads"}(n||(t.MediaDownloadReason=n={})),function(e){e[e.MediaViewer=0]="MediaViewer",e[e.StreamItem=1]="StreamItem"}(r||(t.MediaDownloadActionOrigin=r={}));class a extends o.MessageTelemetryBase{constructor(e,t,i,o=""){super(e,e.conversationId),this._origin=t,this._reason=i,this._fileType=o}getEventName(){return"messaging_download"}getAttributes(){const e=super.getAttributes();return e.Reason=n[this._reason],e.Origin=r[this._origin],e.FileType=this._fileType,e}_useOldAttributeNames(){return!0}}t.MediaDownloadTelemetryEvent=a},244666:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPreviewAppExitWithDraftsEvent=t.MediaPreviewSentEvent=t.MediaPreviewDraftDestroyedEvent=t.MediaPreviewDraftDeletedEvent=t.MediaPreviewDraftCreatedEvent=t.MediaPreviewCreatedEvent=t.MediaPreviewTelemetryMobileEvent=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(815146),a=o.__importDefault(i(606617)),s=i(331079),l=i(240297);class c extends l.TelemetryEventBase{getEventName(){return"messaging_media_preview"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}t.MediaPreviewTelemetryMobileEvent=class extends c{constructor(e){super(),this._props=e}getAction(){return"MobilePreviewSent"}getAttributes(){const{totalCount:e,imageCount:t,videoCount:i}=this._props,o=super.getAttributes();return o.VideoCount=i,o.ImageCount=t,o.TotalCount=e,o}};class d extends c{constructor(e){super(),this._props=e}getAttributes(){const{previews:e,deletedPreviewsCount:t,galleryOpenCount:i,wasSavedAsDraft:o,wasRecoveredFromDb:l,lastAddTimestamp:c}=this._props,d=n.mapKeys(n.countBy(e,"originator"),((e,t)=>`Origin_${r.PostSource[parseInt(t,10)]}`)),u=n.mapKeys(n.countBy(e,"data.extension"),((e,t)=>{const i=a.default.getFileType(t);return`Count_${s.UploadFileType[i]}`})),{imageCount:p,videoCount:g}=e.reduce(((e,t)=>(a.default.isImageExtension(t.data.extension)?e.imageCount++:(a.default.isVideoExtension(t.data.extension)||a.default.isAVIExtension(t.data.extension))&&e.videoCount++,Object.assign({},e))),{imageCount:0,videoCount:0}),h=Object.assign(Object.assign({},d),u);return h.VideoCount=g,h.ImageCount=p,h.TotalCount=e.length,h.DeletedPreviewsCount=t,h.GalleryOpenCount=i,h.WasSavedAsDraft=o,h.WasRecoveredFromDb=l,c&&(h.TimeElapsedSinceLastAdd=Date.now()-c),Object.assign(Object.assign({},super.getAttributes()),h)}}t.MediaPreviewCreatedEvent=class extends c{constructor(e,t){super(),this._fileSize=e,this._fileExt=t}getAction(){return"Created"}getAttributes(){const e=super.getAttributes();return e.Size=this._fileSize,e.Extension=this._fileExt,e}};t.MediaPreviewDraftCreatedEvent=class extends d{constructor(e,t){super(e),this._duration=t}getAction(){return"DraftCreated"}getAttributes(){const e=super.getAttributes();return e.Duration=this._duration,e}};t.MediaPreviewDraftDeletedEvent=class extends d{constructor(e){super(e)}getAction(){return"DraftDeleted"}};t.MediaPreviewDraftDestroyedEvent=class extends d{constructor(e){super(e)}getAction(){return"DraftDestroyed"}};t.MediaPreviewSentEvent=class extends d{constructor(e,t){super(e),this._duration=t}getAction(){return"Sent"}getAttributes(){const e=super.getAttributes();return e.Duration=this._duration,e}};t.MediaPreviewAppExitWithDraftsEvent=class extends c{constructor(e){super(),this._numberOfDrafts=e}getAction(){return"AppExitWithDrafts"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{DraftsCount:this._numberOfDrafts})}}},345500:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioMessageActions=t.MediaUploadBase=t.FileRejectedByClient=t.FileRejectedReason=t.UnrecognizedMediaDimension=t.CaptureSession=t.ReencodeSession=t.VideoPlayback=t.ImageLoad=t.AudioPlaybackState=t.MediaAction=void 0;const o=i(197582),n=o.__importStar(i(636076)),r=o.__importStar(i(496486)),a=i(331654),s=o.__importDefault(i(150343)),l=i(679468),c=o.__importStar(i(815146)),d=i(966259),u=i(331079),p=i(240297),g=o.__importDefault(i(760989));var h,m,S;!function(e){e[e.ImageLoad=0]="ImageLoad",e[e.VideoPlayback=1]="VideoPlayback",e[e.UnrecognisedMediaDimensions=2]="UnrecognisedMediaDimensions",e[e.FileRejected=3]="FileRejected",e[e.ImageUpload=4]="ImageUpload",e[e.VideoUpload=5]="VideoUpload",e[e.AudioPlayback=6]="AudioPlayback",e[e.AudioTranscription=7]="AudioTranscription",e[e.AudioSpeedChange=8]="AudioSpeedChange"}(h||(t.MediaAction=h={})),function(e){e[e.NotStarted=0]="NotStarted",e[e.Playing=1]="Playing",e[e.Paused=2]="Paused"}(m||(t.AudioPlaybackState=m={}));class _ extends p.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"all_media"}getAttributes(){const e=super.getAttributes();return e.Action=h[this._action],e}}t.ImageLoad=class extends _{constructor(e,t,i){super(h.ImageLoad),this._uri=e,this._origin=t,this._properties=i,this._loadDuration=-1,this._loadStartTime=-1}getAttributes(){const e=r.assign(super.getAttributes(),{IsSuccess:this._success,LoadDuration:this._loadDuration,FailureReason:c.MessagingFailureReason[this._failureReason],Origin:this._origin});return this._properties?r.assign(e,this._properties):e}getPiiAttributes(){const e=super.getPiiAttributes();return e.Uri={value:this._uri,piiKind:n.AWTPiiKind.Uri},e}setStatus(e,t=c.MessagingFailureReason.None){this._success=e,this._failureReason=t}startLoad(){this._loadStartTime=Date.now()}endLoad(){this._loadDuration=Date.now()-this._loadStartTime}};t.VideoPlayback=class extends _{constructor(e,t,i,o,n,r){super(h.VideoPlayback),this._uri=e,this._mediaProvider=t,this._dimensions=i,this._origin=o,this._amsReferences=n,this._messagetype=r,this._loadSuccess=!1,this._playSuccess=!1,this._videoDuration=0,this._loadDuration=0,this._loadStartTime=0,this._playDuration=0,this._playStartTime=0,this._rebufferingCount=0,this._rebufferingDuration=0,this._rebufferingStartTime=0,this._cachingSuccess=!0,this._cachingDuration=0}getAttributes(){return r.assign(super.getAttributes(),{MediaProvider:this._mediaProvider?this._mediaProvider:"",Origin:this._origin||"",MediaWidth:this._dimensions?this._dimensions.width:"",MediaHeight:this._dimensions?this._dimensions.height:"",IsLoadSuccess:this._loadSuccess,LoadDuration:this._loadDuration,VideoDuration:this._videoDuration,IsPlaySuccess:this._playSuccess,PlayDuration:this._playDuration,DurationToPlayStart:this._getTimeToPlay(),RebufferingCount:this._rebufferingCount,RebufferingDuration:this._rebufferingDuration,FailureReason:c.MessagingFailureReason[this._failureReason],ErrorInfo:this._errorInfo,IsCachingSuccess:this._cachingSuccess,CacheMode:void 0!==this._cacheMode?d.CacheMode[this._cacheMode]:"",CachingDuration:this._cachingDuration,AmsDocumentIds:r.join(this._amsReferences),MessageType:this._messagetype||""})}getPiiAttributes(){const e=super.getPiiAttributes();return e.Uri={value:this._uri?this._uri:"",piiKind:n.AWTPiiKind.Uri},e}setCachingStatus(e,t,i){this._cachingSuccess=e,this._cacheMode=t,this._cachingDuration=i||0}setLoadStatus(e,t,i=c.MessagingFailureReason.None,o=""){this._loadSuccess=e,this._videoDuration=t,this._failureReason=i,this._errorInfo=o}setPlayStatus(e,t=c.MessagingFailureReason.None){this._playSuccess=e,this._failureReason=t}startLoad(){this._loadStartTime=Date.now()}endLoad(){this._loadDuration=this._loadStartTime>0?Date.now()-this._loadStartTime:0}startPlay(){this._playStartTime=Date.now()}endPlay(){this._playDuration=this._playStartTime>0?Date.now()-this._playStartTime:0}_getTimeToPlay(){return this._playSuccess&&this._loadStartTime>0&&this._playStartTime>0?this._playStartTime-this._loadStartTime:""}startRebuffering(){this._rebufferingCount++,this._rebufferingStartTime=Date.now()}endRebuffering(){this._rebufferingDuration+=this._rebufferingStartTime>0?Date.now()-this._rebufferingStartTime:0,this._rebufferingStartTime=0}};class f extends p.TelemetryEventBase{constructor(){super(...arguments),this._reencodeStartTime=0}getEventName(){return"all_reencode_session"}getAttributes(){return r.assign(super.getAttributes(),{State:void 0!==this._state?c.ReencodeState[this._state]:"",ReencodeDuration:this._reencodeDuration?this._reencodeDuration:0,OriginalAssetFetchDuration:this._originalAssetFetchDuration||0,HasOverlay:!!this._hasOverlay&&this._hasOverlay,ErrorType:this._errorType?this._errorType:"",ErrorInfo:this._errorInfo?this._errorInfo:"",VideoDuration:this._videoDuration?this._videoDuration:0,SourceWidth:this._sourceDimensions?this._sourceDimensions.width:0,SourceHeight:this._sourceDimensions?this._sourceDimensions.height:0,SourceFileSize:this._sourceFileSize?this._sourceFileSize:0,OutputWidth:this._outputDimensions?this._outputDimensions.width:0,OutputHeight:this._outputDimensions?this._outputDimensions.height:0,OutputFileSize:this._outputFileSize?this._outputFileSize:0,EstimatedFileSize:this._estimatedFileSize?this._estimatedFileSize:0,TransactionID:this._transactionId?this._transactionId:""})}getScenarioAttributes(){return{ReencodeState:void 0!==this._state?c.ReencodeState[this._state]:"",ReencodeDuration:this._reencodeDuration?this._reencodeDuration:0,ReencodeFetchDuration:this._originalAssetFetchDuration||0,HasReencodeOverlay:!!this._hasOverlay&&this._hasOverlay,ReencodeSourceWidth:this._sourceDimensions?this._sourceDimensions.width:0,ReencodeSourceHeight:this._sourceDimensions?this._sourceDimensions.height:0,ReencodeSourceFileSize:this._sourceFileSize?this._sourceFileSize:0,ReencodeOutputWidth:this._outputDimensions?this._outputDimensions.width:0,ReencodeOutputHeight:this._outputDimensions?this._outputDimensions.height:0,ReencodeEstimatedFileSize:this._estimatedFileSize?this._estimatedFileSize:0}}startReencode(){this._reencodeStartTime=Date.now()}endReencode(){this._reencodeDuration=(this._reencodeStartTime>0?Date.now()-this._reencodeStartTime:0)/1e3}setOriginalAssetFetchDuration(e){this._originalAssetFetchDuration=e}setState(e){this._state=e}setHasOverlay(e){this._hasOverlay=e}setErrorType(e){this._errorType=e}setErrorInfo(e){this._errorInfo=e}setVideoDuration(e){this._videoDuration=e}setSourceDimensions(e){this._sourceDimensions=e}setSourceFileSize(e){this._sourceFileSize=e}setOutputDimensions(e){this._outputDimensions=e}setOutputFileSize(e){this._outputFileSize=e}setEstimatedFileSize(e){this._estimatedFileSize=e}setTransactionID(e){this._transactionId=e}}t.ReencodeSession=f;class y extends p.TelemetryEventBase{constructor(e){super(),this._entryPoint=e,this._isVideo=!1,this._mediaCount=1,this._ink=!1,this._text=!1,this._stickers=!1,this._overlay=!1,this._filter=!1,this._addStickersClickCount=0,this._stickerIds=[],this._stickerNames=[],this._tabNames=[],this._isMediaSaved=!1,this._isMediaSent=!1,this._isCanceled=!1,this._overlaysViewCount={}}getEventName(){return"camera_capture_session"}clearMarkup(){this._ink=!1,this._text=!1,this._stickers=!1,this._overlay=!1,this._filter=!1,this._stickerIds=[],this._stickerNames=[],this._tabNames=[]}setIsVideo(e){this._isVideo=e}setCameraMode(e){this._cameraMode=e}setDeviceOrientation(e){this._deviceOrientation=e===a.DeviceOrientation.Portrait?"Portrait":e===a.DeviceOrientation.Landscape?"Landscape":"Unlocked"}setMediaCount(e){this._mediaCount=e}setInk(e){this._ink=e}setText(e){this._text=e}setStickers(e){this._stickers=e}setOverlay(e){this._overlay=e}setOverlayType(e){this._overlayType=e}setFilter(e){this._filter=e}setFilterName(e){this._filterName=e}setAddStickersClickCount(e){this._addStickersClickCount=e}setStickerIds(e){this._stickerIds=e}setStickerNames(e){this._stickerNames=e}setTabNames(e){this._tabNames=e}setMediaSavedStatus(e){this._isMediaSaved=e}setMediaSentStatus(e){this._isMediaSent=e}setIsCanceled(e){this._isCanceled=e}recordOverlayViewed(e){e=e.replace(/\s/g,""),this._overlaysViewCount[e]?this._overlaysViewCount[e]=this._overlaysViewCount[e]+1:this._overlaysViewCount[e]=1}getAttributes(){this._stickers&&(this._pesStickerConfig=s.default.getPesConfig().sticker_config);const e=r.assign(super.getAttributes(),{IsCanceled:this._isCanceled,EntryPoint:c.PostSource[this._entryPoint],IsVideo:this._isVideo,CameraMode:this._cameraMode?this._cameraMode:"",DeviceOrientation:this._deviceOrientation?this._deviceOrientation:"",MediaCount:this._mediaCount,Ink:this._ink,Text:this._text,Sticker:this._stickers,Overlay:this._overlay,OverlayType:this._overlayType?l.OverlayType[this._overlayType]:"",Filter:this._filter?this._filter:"",FilterName:this._filterName||"",AddStickersClickCount:this._addStickersClickCount,StickerIds:this._stickerIds.join(),StickerNames:this._stickerNames.join(),TabNames:this._tabNames.join(),IsMediaSaved:this._isMediaSaved,IsMediaSent:this._isMediaSent,PesStickerConfig:this._pesStickerConfig||"",PesFxSceneConfig:this._pesFxSceneConfig||""});return r.each(this._overlaysViewCount,((t,i)=>{e["OverlayViewCount_"+i]=t})),e.WasSentAfterSwiping=0!==this._overlaysViewCount.count,e}}t.CaptureSession=y;t.UnrecognizedMediaDimension=class extends _{constructor(e,t){super(h.UnrecognisedMediaDimensions),this._extension=e,this._uploadSource=t}getAttributes(){return r.assign(super.getAttributes(),{Extension:this._extension,UploadSource:this._uploadSource?c.PostSource[this._uploadSource]:"Unknown"})}},function(e){e[e.FileSize=0]="FileSize",e[e.VideoDuration=1]="VideoDuration"}(S||(t.FileRejectedReason=S={}));t.FileRejectedByClient=class extends _{constructor(e,t,i){super(h.FileRejected),this._fileType=e,this._uploadSource=t,this._reason=i,this._isRejectedFromPost=!1}setVideoDurationDetails(e,t){this._durationLimit=e,this._videoDuration=t}setFileSizeDetails(e,t){this._sizeLimit=e,this._fileSize=t}setIsRejectedFromPost(e){this._isRejectedFromPost=e}getAttributes(){const e={UploadSource:c.PostSource[this._uploadSource],FileType:u.UploadFileType[this._fileType],FileRejectedReason:S[this._reason],IsRejectedFromPost:this._isRejectedFromPost};return this._durationLimit&&(e.DurationLimit=this._durationLimit),this._videoDuration&&(e.VideoDuration=this._videoDuration),this._sizeLimit&&(e.SizeLimit=this._sizeLimit),this._fileSize&&(e.FileSize=this._fileSize),r.assign(super.getAttributes(),e)}};t.MediaUploadBase=class extends _{static mediaActionForFileType(e){let t;if(e)switch(e){case u.UploadFileType.Picture:case u.UploadFileType.ImageCreatorPicture:case u.UploadFileType.Thumbnail:case u.UploadFileType.GroupAvatar:t=h.ImageUpload;break;case u.UploadFileType.Video:case u.UploadFileType.VideoMessage:t=h.VideoUpload;break;case u.UploadFileType.File:case u.UploadFileType.Audio:case u.UploadFileType.AudioMessage:case u.UploadFileType.Excel:case u.UploadFileType.OneNote:case u.UploadFileType.Powerpoint:case u.UploadFileType.Word:case u.UploadFileType.PDF:case u.UploadFileType.AVI:case u.UploadFileType.Zip:break;default:g.default.switchStatementExhaustiveChecking(e)}return t}constructor(e,t,i,o,n,r,a,s,l){super(e),this._success=t,this._failureReason=i,this._uploadDuration=o,this._fileType=n,this._dimensions=r,this._transactionId=a,this._documentId=s,this._isGroupChat=l}getAttributes(){return r.assign(super.getAttributes(),{IsSuccess:this._success,FailureReason:c.MessagingFailureReason[this._failureReason],FileType:r.isUndefined(this._fileType)?"":u.UploadFileType[this._fileType],UploadDuration:this._uploadDuration,MediaWidth:this._dimensions?this._dimensions.width:"",MediaHeight:this._dimensions?this._dimensions.height:"",TransactionId:this._transactionId||"",DocumentId:this._documentId||"",IsGroupChat:r.isUndefined(this._isGroupChat)?"":this._isGroupChat})}};t.AudioMessageActions=class extends _{constructor(e,t,i,o){super(e),this._playbackState=t,this._audioDuration=i,this._speedIndex=o,this._transcriptionStartTime=-1,this._transcriptionDuration=-1}getAttributes(){const e={};return void 0!==this._audioDuration&&(e.AudioDuration=this._audioDuration),void 0!==this._playbackState?e.PlaybackState=this._playbackState:void 0!==this._speedIndex?e.SpeedIndex=this._speedIndex:void 0!==this._success&&(e.IsSuccess=this._success,e.TranscriptionDuration=this._transcriptionDuration),r.assign(super.getAttributes(),e)}startTranscription(){this._transcriptionStartTime=Date.now()}endTranscription(){this._transcriptionDuration=Date.now()-this._transcriptionStartTime}setSuccess(e){this._success=e}}},190697:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MeetNowRepeatedGuestLoginEvent=t.MeetNowJoinLinkInSearchBarEvent=t.MeetNowSharePopupCloseEvent=t.MeetNowTitleSelectedEvent=t.MeetNowAvatarSelected=t.MeetNowAvatarNotSelected=t.MeetNowAvatarPickerOpen=t.MeetNowUserNameChanged=t.MeetNowMeetingNameManuallyChanged=t.MeetNowAddSkypeContactEvent=t.MeetNowJoinLinkPanelClosedEvent=t.MeetNowCreatedOnJoinLinkPanelEvent=t.MeetNowJoinLinkPanelInputSendEvent=t.MeetNowJoinLinkPanelMountedEvent=t.MeetNowClosePanelEvent=t.MeetNowLobbyMounted=t.MeetNowClickEvent=t.MeetNowErrorEvent=t.MeetNowDeeplinkProcessedEvent=t.MeetNowUriReceivedEvent=t.MeetNowTelemetryEventBase=t.MeetNowSharePopupCloseActionType=t.MeetNowJoinPanelResult=t.JoinMeetNowStep=t.CreateMeetNowStep=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(873245)),a=i(966666),s=i(240297),l=i(815146),c=o.__importStar(i(340482));var d,u,p,g;!function(e){e.MeetNowPanelReady="MeetNowPanelReady",e.MeetNowPanelClosed="MeetNowPanelClosed",e.StartMeetNowButtonClicked="StartMeetNowButtonClicked",e.CallStarted="CallStarted",e.CallMade="CallMade"}(d||(t.CreateMeetNowStep=d={})),function(e){e.ValidJoinLinkEntered="ValidJoinLinkEntered",e.UserIsConversationParticipant="UserIsConversationParticipant",e.LobbyNavigationStarted="LobbyNavigationStarted",e.MeetNowPanelReady="MeetNowPanelReady",e.MeetNowPanelClosed="MeetNowPanelClosed",e.StartOrJoinMeetNowButtonClicked="StartOrJoinMeetNowButtonClicked",e.CallStarted="CallStarted",e.CallMade="CallMade"}(u||(t.JoinMeetNowStep=u={})),function(e){e[e.NavigateToConversation=0]="NavigateToConversation",e[e.Exit=1]="Exit"}(p||(t.MeetNowJoinPanelResult=p={})),function(e){e.Auto="Auto",e.Manual="Manual"}(g||(t.MeetNowSharePopupCloseActionType=g={}));class h extends s.TelemetryEventBase{constructor(e,t){super(),this._callId=e,this._meetNowParameters=t}getEventName(){return"calling_meet_now"}getAttributes(){const e=super.getAttributes();e.Action=this.getActionName(),this._meetNowParameters.origin&&(e.Origin=a.MeetNowOrigin[this._meetNowParameters.origin]),this._callId&&(e.CallId=this._callId),this._meetNowParameters.partner&&(e.Partner=this._meetNowParameters.partner),this._meetNowParameters.windowsExpId&&(e.Exp=this._meetNowParameters.windowsExpId);const t=c.getTrackableConversationId(this._meetNowParameters.convId);return t&&(e.ConversationId=t),e}}t.MeetNowTelemetryEventBase=h;t.MeetNowUriReceivedEvent=class extends h{constructor(e){super(void 0,r.default.getPartnerParametersFromUri(e))}getActionName(){return"MeetNowUriReceived"}};t.MeetNowDeeplinkProcessedEvent=class extends h{constructor(e){super(void 0,e)}getActionName(){return"MeetNowDeeplinkProcessed"}};t.MeetNowErrorEvent=class extends h{constructor(e,t,i){super(void 0,e),this._error=t,this._errorCode=i}getAttributes(){const e=super.getAttributes();return e.MeetNowError=this._error,this._errorCode&&(e.MeetNowErrorCode=this._errorCode),e}getActionName(){return"MeetNowError"}};t.MeetNowClickEvent=class extends h{constructor(e,t,i,o){super(e,t),this._clickType=i,this._selected=o}getActionName(){return"MeetNowClick"}getAttributes(){const e=super.getAttributes();return e.ClickType=a.MeetNowClickType[this._clickType],this._clickType!==a.MeetNowClickType.ClickToggleAllowJoiningLink||n.isUndefined(this._selected)||(e.IsJoiningViaLinkAllowed=this._selected),e}};t.MeetNowLobbyMounted=class extends h{constructor(e,t){super(e,t)}getActionName(){return"MeetNowLobbyMounted"}getAttributes(){return super.getAttributes()}};t.MeetNowClosePanelEvent=class extends h{constructor(e,t,i,o){super(e,t),this._closeOrigin=i,this._userActionsCount=o}getActionName(){return"MeetNowClosePanel"}getAttributes(){const e=super.getAttributes();return e.CloseOrigin=a.MeetNowClosePanelOrigin[this._closeOrigin],e.UserActionsCount=this._userActionsCount,e}};t.MeetNowJoinLinkPanelMountedEvent=class extends h{constructor(e){super(void 0,e)}getActionName(){return"MeetNowJoinLinkPanelMounted"}};t.MeetNowJoinLinkPanelInputSendEvent=class extends h{constructor(e,t,i){super(void 0,i),this._linkType=e,this._isInputValid=t}getActionName(){return"MeetNowJoinLinkPanelInputSend"}getAttributes(){const e=super.getAttributes();return e.LinkType=this._linkType,e.IsInputValid=this._isInputValid,e}};t.MeetNowCreatedOnJoinLinkPanelEvent=class extends h{constructor(e){super(void 0,e)}getActionName(){return"MeetNowCreatedOnJoinLinkPanel"}};t.MeetNowJoinLinkPanelClosedEvent=class extends h{constructor(e,t,i){super(void 0,e),this._errorCount=t,this._result=i}getActionName(){return"MeetNowJoinLinkPanelClosed"}getAttributes(){const e=super.getAttributes();return e.ErrorCount=this._errorCount,e.Result=p[this._result],e}};t.MeetNowAddSkypeContactEvent=class extends h{constructor(e,t,i){super(e,t),this._countSkypeContactAdded=i}getActionName(){return"MeetNowAddSkypeContact"}getAttributes(){const e=super.getAttributes();return e.CountSkypeContactAdded=this._countSkypeContactAdded,e}};t.MeetNowMeetingNameManuallyChanged=class extends h{constructor(e){super(void 0,e)}getActionName(){return"MeetNowMeetingNameManuallyChanged"}};t.MeetNowUserNameChanged=class extends h{constructor(e){super(void 0,e)}getActionName(){return"MeetNowUserNameChanged"}};t.MeetNowAvatarPickerOpen=class extends h{constructor(e){super(void 0,e)}getActionName(){return"MeetNowAvatarPickerOpen"}};t.MeetNowAvatarNotSelected=class extends h{constructor(e){super(void 0,e)}getActionName(){return"MeetNowAvatarNotSelected"}};t.MeetNowAvatarSelected=class extends h{constructor(e,t,i,o){super(void 0,e),this._avatarType=t,this._emoticonsSelectedBeforeUpload=i,this._stickersSelectedBeforeUpload=o}getActionName(){return"MeetNowAvatarSelected"}getAttributes(){const e=super.getAttributes();return e.SelectedAvatarType=l.AvatarPickerAction[this._avatarType],n.isNil(this._emoticonsSelectedBeforeUpload)||(e.EmoticonsSelectedBeforeUpload=this._emoticonsSelectedBeforeUpload),n.isNil(this._stickersSelectedBeforeUpload)||(e.StickersSelectedBeforeUpload=this._stickersSelectedBeforeUpload),e}};t.MeetNowTitleSelectedEvent=class extends h{constructor(e,t,i,o){super(void 0,e),this._name=t,this._wasSuggested=i,this._category=o}getActionName(){return"MeetNowTitleSelected"}getAttributes(){const e=super.getAttributes();return e.MeetingName=this._name,this._category&&(e.Category=this._category),e.WasSuggested=this._wasSuggested,e}};t.MeetNowSharePopupCloseEvent=class extends h{constructor(e,t,i,o){super(void 0,e),this._actionType=t,this._isGuestFlow=i,this._durationMs=o}getActionName(){return"MeetNowSharePopupClose"}getAttributes(){const e=super.getAttributes();return e.ActionType=this._actionType,e.IsGuestFlow=this._isGuestFlow,e.DurationMs=this._durationMs,e}};t.MeetNowJoinLinkInSearchBarEvent=class extends h{constructor(e,t){super(void 0,e),this._isBuddyLink=t}getActionName(){return"MeetNowJoinLinkInSearchBar"}getAttributes(){const e=super.getAttributes();return e.LinkType=this._isBuddyLink?a.MeetNowJoinPanelInput.BuddyLink:a.MeetNowJoinPanelInput.SkypeLink,e}};t.MeetNowRepeatedGuestLoginEvent=class extends h{constructor(e){super(void 0,e)}getActionName(){return"MeetNowRepeatedGuestLogin"}}},106333:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationShareEvent=t.IntegrationEvent=t.MessageOverflowEvent=t.IntegrationShareContentType=t.IntegrationAction=t.MessageOverflowAction=void 0;const o=i(197582).__importStar(i(496486)),n=i(815146),r=i(240297);var a,s,l;!function(e){e[e.MessageOverflowOpenButtonClicked=0]="MessageOverflowOpenButtonClicked",e[e.MessageOverflowCloseButtonClicked=1]="MessageOverflowCloseButtonClicked",e[e.MessageOverflowMinimized=2]="MessageOverflowMinimized"}(a||(t.MessageOverflowAction=a={})),function(e){e[e.IntegrationLaunched=0]="IntegrationLaunched",e[e.IntegrationCloseButtonClicked=1]="IntegrationCloseButtonClicked",e[e.IntegrationSharePreviewLaunched=2]="IntegrationSharePreviewLaunched",e[e.IntegrationShared=3]="IntegrationShared",e[e.IntegrationShareCanceled=4]="IntegrationShareCanceled"}(s||(t.IntegrationAction=s={})),function(e){e[e.SwiftCard=0]="SwiftCard",e[e.AdaptiveCard=1]="AdaptiveCard",e[e.Url=2]="Url",e[e.Unknown=3]="Unknown"}(l||(t.IntegrationShareContentType=l={}));class c extends r.TelemetryEventBase{getEventName(){return"caap_message_composer_overflow"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.MessageOverflowEvent=class extends c{constructor(e){super(),this._action=e}getActionName(){return a[this._action]}};class d extends c{constructor(e,t){super(),this._action=e,this._integrationCorrelationId=t}getActionName(){return s[this._action]}getAttributes(){const e=super.getAttributes();return this._integrationCorrelationId&&(e.IntegrationCorrelationId=this._integrationCorrelationId),e}}t.IntegrationEvent=d;t.IntegrationShareEvent=class extends d{constructor(e,t,i,o,n){super(e,o),this._contentType=t,this._sessionId=i,this._origin=n}getAttributes(){const e=super.getAttributes();return e.ContentType=l[this._contentType],e.SessionCorrelationId=this._sessionId||"",e.Origin=o.isUndefined(this._origin)?"":n.BrowserOrigin[this._origin],e}}},187086:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getTextMessageTypeFromContent=function(e){if(!e)return n.MessageComposerSentContentType.NoText;if(0===e.indexOf("(@@ )"))return n.MessageComposerSentContentType.PlainText;if(((e=e.replace("(*)","")).match(/\*/g)||[]).length>1)return n.MessageComposerSentContentType.MarkupText;if((e.match(/\_/g)||[]).length>1)return n.MessageComposerSentContentType.MarkupText;if((e.match(/\~/g)||[]).length>1)return n.MessageComposerSentContentType.MarkupText;if((e.match(/\`\`\`/g)||[]).length>1)return n.MessageComposerSentContentType.MarkupText;return n.MessageComposerSentContentType.PlainText},t.convertPastedTextTypeToTelemetry=function(e){switch(e){case o.PastedTextType.PlainText:return n.MessageComposerAction.PastePlainText;case o.PastedTextType.HtmlText:return n.MessageComposerAction.PasteHtmlText;case o.PastedTextType.Link:return n.MessageComposerAction.PasteLink;case o.PastedTextType.EscapedLink:return n.MessageComposerAction.PasteEscapedLink;case o.PastedTextType.DraggedPlainText:return n.MessageComposerAction.DragPlainText;case o.PastedTextType.DraggedHtmlText:return n.MessageComposerAction.DragHtmlText;case o.PastedTextType.DraggedLink:return n.MessageComposerAction.DragLink;case o.PastedTextType.DraggedEscapedLink:return n.MessageComposerAction.DragEscapedLink;default:return n.MessageComposerAction.NoPaste}};const o=i(6625),n=i(786531)},746610:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FinishReason=void 0;const o=i(197582),n=o.__importStar(i(242561)),r=i(96575),a=o.__importDefault(i(535775));var s,l;!function(e){e[e.UserClosed=0]="UserClosed",e[e.UserOpenedApp=1]="UserOpenedApp",e[e.RestrictedVideoOpenedInApp=2]="RestrictedVideoOpenedInApp",e[e.PipDestroyed=3]="PipDestroyed"}(s||(t.FinishReason=s={})),function(e){e[e.ContentChanged=0]="ContentChanged",e[e.ContentFailedToLoad=1]="ContentFailedToLoad",e[e.PlaybackStateChanged=2]="PlaybackStateChanged",e[e.ViewModeChanged=3]="ViewModeChanged"}(l||(l={}));t.default=class{constructor(e){this._scenario=new a.default(r.ScenarioName.MessagePanelPip),this._scenario.setDuplicateStepMarkingEnabled(!0),this._scenario.start(this._getBaseTelemetryData(e))}markViewModeChanged(e,t){const i=this._getBaseTelemetryData(e);i.IsLandscape=t.isLandscape,i.WasLandscape=t.wasLandscape,i.IsFullscreen=t.isFullScreen,i.WasFullscreen=t.wasFullScreen,this._markStep(l.ViewModeChanged,i)}markContentChanged(e){this._markStep(l.ContentChanged,this._getBaseTelemetryData(e))}markContentFailedToLoad(e){this._markStep(l.ContentFailedToLoad,this._getBaseTelemetryData(e))}markPlaybackStateChanged(e,t){const i=this._getBaseTelemetryData(e);i.NewState=t.newState,i.OldState=t.oldState,this._markStep(l.PlaybackStateChanged,i)}finish(e,t){const i=this._getBaseTelemetryData(e);i.FinishReason=s[t],this._scenario.finish(i)}isFinished(){return this._scenario.isResolved()}_markStep(e,t){this._scenario.markStepCompleted(l[e],t)}_getBaseTelemetryData(e){const t={ContentType:n.PipContentType[e.contentType]};if(e.contentType===n.PipContentType.Youtube){const i=e;t.HasPreviewImage=!!i.videoPreviewUrl}return t}}},786531:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageComposerControlEvent=t.MessageComposerControls=t.MessageComposerControlAction=t.MessageAttribution=t.AttributionType=t.MessageLink=t.MessagesFetched=t.MessageComposerTelemetry=t.MessageComposerSentContentType=t.MessageComposerAction=t.AddContactsTelemetry=t.ShareContactsTelemetry=t.ReadReceiptsViewed=t.JumpToEnd=t.MessagePanelActionType=t.MessageTyping=t.MessageSent=t.MessageReadLie=t.MessageReceivedRead=t.MessageRead=t.MessageSendTimeout=t.MessageContentClicked=t.SelectedMessagesTelemetry=t.KeyboardMessagesTelemetry=t.LoadedOldFriendBackChatTelemetry=t.OldFriendBackQuickReplyTelemetry=t.QuotesEventTelemetry=t.ShareFileMessageTelemetry=t.ForwardedMessageTelemetry=t.MessageActionTelemetry=t.MessageTelemetryBase=t.ConversationTelemetryBase=t.KeyboardActionType=t.MessageActionOrigin=t.MessageActionType=void 0;const o=i(197582),n=o.__importStar(i(636076)),r=o.__importStar(i(496486)),a=i(331654),s=o.__importStar(i(964647)),l=i(971988),c=i(627414),d=o.__importStar(i(44717)),u=i(154235),p=o.__importDefault(i(615364)),g=o.__importStar(i(463519)),h=i(815146),m=o.__importDefault(i(606617)),S=i(929418),_=i(606933),f=o.__importDefault(i(363091)),y=o.__importDefault(i(997226)),C=i(240297),v=i(425495),b=o.__importStar(i(340482)),T=i(935086),P=i(151619),k=o.__importDefault(i(872820)),A=o.__importDefault(i(150343));var I,w,x;!function(e){e[e.Cancel=0]="Cancel",e[e.CancelRejected=1]="CancelRejected",e[e.ClearQuote=2]="ClearQuote",e[e.Copy=3]="Copy",e[e.CopyLink=4]="CopyLink",e[e.Delete=5]="Delete",e[e.Edit=6]="Edit",e[e.Forward=7]="Forward",e[e.MarkMessageUnread=8]="MarkMessageUnread",e[e.Quote=9]="Quote",e[e.SelectMessages=10]="SelectMessages",e[e.ShareFile=11]="ShareFile",e[e.DismissActionMenu=12]="DismissActionMenu",e[e.RetryFailed=13]="RetryFailed",e[e.DragDropFromConversationToRecentLists=14]="DragDropFromConversationToRecentLists",e[e.ShowReportedMessage=15]="ShowReportedMessage",e[e.AddBookmark=16]="AddBookmark",e[e.RemoveBookmark=17]="RemoveBookmark",e[e.SearchSelection=18]="SearchSelection",e[e.QuickReply=19]="QuickReply",e[e.QuickReplyLoaded=20]="QuickReplyLoaded"}(I||(t.MessageActionType=I={})),function(e){e.StreamItem="streamItem",e.MessageStream="messageStream",e.StreamItemAccesory="streamItemAccessory",e.StreamItemDesktopContextMenu="streamItemDesktopContextMenu",e.StreamItemActionMenu="streamItemActionMenu",e.StreamItemPopup="streamItemPopup",e.StreamItemMultipleMessages="_streamItemMultipleMessages",e.DocumentViewer="documentViewer",e.MessageComposer="MessageComposer",e.LocationViewer="locationViewer",e.PostingService="postingService",e.FileNode="fileNode",e.BookmarksViewer="bookmarksViewer",e.ImageCreator="imageCreator"}(w||(t.MessageActionOrigin=w={})),function(e){e[e.KeyboardCopy=0]="KeyboardCopy",e[e.KeyboardPaste=1]="KeyboardPaste"}(x||(t.KeyboardActionType=x={}));const N="messaging_action";class D extends v.PriorityTelemetryEventBase{constructor(e){super(),this._conversationId=e,this._isGroupConversation=d.isGroupConversation(this._conversationId),this._isEncryptedConversation=d.isEncryptedThread(this._conversationId),this._isBotConversation=d.isOneOnOneConversation(this._conversationId)&&d.isAgent(this._conversationId),this._isBookmarkConversation=d.isBookmarkConversation(this._conversationId);const t=(0,p.default)().getConversation(this._conversationId);this._conversationMembersCount=t?t.getMemberCount():0}_useOldAttributeNames(){return!1}getAttributes(){const e=this._useOldAttributeNames()?{Bot_Conversation:this._isBotConversation,Conversation_Members_Number:this._conversationMembersCount,Group_Conversation:this._isGroupConversation,IsEncryptedConversation:this._isEncryptedConversation}:{IsBotConversation:this._isBotConversation,ConversationMembersCount:this._conversationMembersCount,IsGroupConversation:this._isGroupConversation,IsEncryptedConversation:this._isEncryptedConversation};this._isBookmarkConversation&&(e.IsBookmarkConversation=this._isBookmarkConversation);const t=b.getTrackableConversationId(this._conversationId);t&&(e[this._useOldAttributeNames()?"Conversation_Id":"ConversationId"]=t),e.MriNamespace=d.getMriNamespace(this._conversationId);const i=d.getThreadSuffix(this._conversationId);return i&&(e.ThreadSuffix=i),r.assign({},super.getAttributes(),e)}}t.ConversationTelemetryBase=D;class M extends D{constructor(e,t){super(t),this._message=e,this._messageType=b.getMessageTypeName(this._message,f.default.getSkypeMri(),t),this._messageRawType=b.getMessageRawTypeName(this._message,f.default.getSkypeMri(),t),this._message instanceof y.default?this._messageCorrelationId=s.getCorrelationIdFromMessageParts(this._message.creator,this._message.conversationId,b.getClientMessageId(this._message)):this._messageCorrelationId=s.getCorrelationIdFromMessageParts(d.skypeIdToMri(f.default.getSkypeId()),t,this._message.clientmessageid);const i=this._message instanceof y.default?this._message.creator:d.skypeIdToMri(f.default.getSkypeId());this._isOwnMessage=f.default.isMyMri(i)}getCorrelationAttributes(){const e=this._useOldAttributeNames()?{Message_Correlation_Id:this._messageCorrelationId}:{MessageCorrelationId:this._messageCorrelationId};return r.assign({},super.getCorrelationAttributes(),e)}getAttributes(){const e=this._useOldAttributeNames()?{Message_Type:this._messageType,Message_RawType:this._messageRawType,Own_Message:this._isOwnMessage}:{MessageType:this._messageType,MessageRawType:this._messageRawType,IsOwnMessage:this._isOwnMessage};return this._message instanceof y.default&&this._message.hasAlbumId()?e.AlbumId=this._message.getAlbumId():this._message.properties&&this._message.properties[l.MessageProperties.AlbumId]&&(e.AlbumId=this._message.properties[l.MessageProperties.AlbumId].toString()),r.assign({},super.getAttributes(),e)}}t.MessageTelemetryBase=M;class L extends M{constructor(e,t,i,o,n,r,a){super(t,e),this._originalMessageTime=i,this._origin=o,this._action=n,this._docId=r,this._searchSelectionUsedAfterHintShown=a,this._timeToAction=Math.round((this._eventCreationTime-this._originalMessageTime)/1e3)}getEventName(){return N}getAttributes(){return r.assign({},super.getAttributes(),{Action:I[this._action],Origin:this._origin,TimeToActionDuration:this._timeToAction,DocId:this._docId||"",SearchSelectionUsedAfterHintShown:this._searchSelectionUsedAfterHintShown})}}t.MessageActionTelemetry=L;t.ForwardedMessageTelemetry=class extends L{constructor(e,t,i,o,n,r){super(e,t,i,o,n),this._destinationsConversationType=r,this._skypeConversationCount=0,this._privateConversationCount=0,this._smsConversationCount=0,this._computeConversationTypes()}getAttributes(){const e=super.getAttributes();return e.SkypeConversationCount=this._skypeConversationCount,e.PrivateConversationCount=this._privateConversationCount,e.SmsConversationCount=this._smsConversationCount,e}_computeConversationTypes(){this._destinationsConversationType&&r.each(this._destinationsConversationType,(e=>{d.isEncryptedThread(e)?this._privateConversationCount++:d.isPhoneMri(e)?this._smsConversationCount++:this._skypeConversationCount++}))}};t.ShareFileMessageTelemetry=class extends L{constructor(e,t,i,o,n,r,a,s){super(e,t,i,o,n),this._fileExtension=r,this._wasShared=a,this._error=s}getAttributes(){const e=super.getAttributes();return e.IsShared=this._wasShared,e.Error=this._error||"",e.FileExtension=this._fileExtension,e}};t.QuotesEventTelemetry=class extends L{constructor(e,t,i,o,n,r,a){super(e,t,i,o,n),this._quotesTriggerType=r,this._quotesMessageType=a}getAttributes(){const e=super.getAttributes();return e.QuotesTriggerType=T.QuotesTriggerType[this._quotesTriggerType],e.QuotesMessageType=this._quotesMessageType,e}};t.OldFriendBackQuickReplyTelemetry=class extends L{constructor(e,t,i,o,n,r){super(e,t,i,o,n),this._isQuickReply=r}getAttributes(){const e=super.getAttributes();return e.IsQuickReply=this._isQuickReply,e}};t.LoadedOldFriendBackChatTelemetry=class extends L{constructor(e,t,i,o,n){super(e,t,i,o,n)}getAttributes(){return super.getAttributes()}};t.KeyboardMessagesTelemetry=class extends D{constructor(e,t){super(e),this._attributes=this._constructAttributes(t)}getEventName(){return N}getAttributes(){return r.assign(super.getAttributes(),this._attributes)}_constructAttributes(e){return{Action:x[e.actionType],MessagesCount:e.messagesCount}}};t.SelectedMessagesTelemetry=class extends D{constructor(e,t,i,o,n){super(e),this._toConversationCount=t,this._selectedMessages=i,this._selectedMessagesActionType=o,this._disabledActions=n,this._currentAttributes=this._computeAllAttributes()}getEventName(){return N}_computeAllAttributes(){const e={Action:I[I.SelectMessages],SelectedMessagesCount:this._selectedMessages.length,SelectedMessagesAction:T.SelectedMessagesActionType[this._selectedMessagesActionType]};this._toConversationCount&&(e.ForwardToConversationCount=this._toConversationCount);const t={};return r.each(this._selectedMessages,(e=>{const i="SelectedMessageType:"+b.getMessageTypeName(e.message,f.default.getSkypeMri(),this._conversationId);t[i]=r.isUndefined(t[i])?1:t[i]+1})),r.assign(e,t),e.SelectedMessagesDisabledCopy=this._disabledActions.disabledCopy,e.SelectedMessagesDisabledRemove=this._disabledActions.disabledRemove,e.SelectedMessagesDisabledForward=this._disabledActions.disabledForward,e}getAttributes(){const e=super.getAttributes();return r.assign(e,this._currentAttributes),e}};t.MessageContentClicked=class extends M{constructor(e,t){super(e,e.conversationId),this._isQuoted=t,this._serverMessageId=e.getOriginalServerId()||"",this._cmid=b.getClientMessageId(this._message)||""}getEventName(){return"message_consumed"}getCorrelationAttributes(){const e=super.getCorrelationAttributes();return e.Client_Message_Id=this._cmid,e}getAttributes(){const e=super.getAttributes();return e.Clicked_Timestamp=this._eventCreationTime,e.Server_Message_Id=this._serverMessageId,e.Action="contentClicked",e.Is_Quoted=this._isQuoted,e}_useOldAttributeNames(){return!0}};t.MessageSendTimeout=class extends M{constructor(e,t,i){super(e,t),this._delayTimeDuration=i}getEventName(){return"messaging_send_delayed"}getAttributes(){const e=super.getAttributes();return this._delayTimeDuration&&(e.DelayTimeDuration=this._delayTimeDuration),e}};t.MessageRead=class extends M{getEventName(){return"message_read"}getAttributes(){const e=super.getAttributes();return e.MessageType=this._messageType,e}_useOldAttributeNames(){return!0}};t.MessageReceivedRead=class extends M{constructor(e,t,i=0){super(e,t),this._messageCount=i}getEventName(){return"message_received_read"}getAttributes(){const e=super.getAttributes();return e.MessageCount=this._messageCount,e}_useOldAttributeNames(){return!1}};t.MessageReadLie=class extends M{getEventName(){return"message_read_lie"}_useOldAttributeNames(){return!0}};t.MessageSent=class extends M{constructor(e,t,i,o,n,r,a,s,l,c,d,u,p,h,m,S,_,f,y){super(t,e),this._isReceiverShortCircuit=i,this._rawContentLength=o,this._postSource=n,this._registrationId=r,this._endpointId=a,this._receiverMri=s,this._receiverUserId=l,this._nonBlocking=c,this._rootViewType=d,this._deviceOrientation=u,this._isMediaPipOpened=p,this._messageComposerAction=h,this._messageSentContentType=m,this._mediaDurationInMs=S,this._isMagicBotConversation=_,this._quotedMessageLength=f,this._recipientMri=y;const C=(0,P.transformUnicodeEmojis)(g.decodeFromContent(this._message.content));this._numberOfEmoticons=C.getNumberOfEmoticons(),this._numberOfDiverseEmoticons=C.getNumberOfDiverseEmoticons(),this._numberOfNativeEmojis=C.getNumberOfUnicodeEmoji(),this._numberOfDirectMentions=C.getNumberOfDirectMentions(),this._hasAllMention=C.hasAllMention(),this._hasMagicBotMention=C.hasMagicBotMention(),this._webLinks=C.getWebLinks(),this._hasWikiMarkup=C.hasWikiMarkup();const v=this._message;this._clientMessageId=v.clientmessageid,this._applyMessageTypeOverrideIfNeeded(C)}getEventName(){return"message_sent"}getEventPriority(){return A.default.getS4LTelemetryFeaturesNoSubscription().priorityEventList.includes(this.getEventName())?super.getEventPriority():n.AWTEventPriority.High}getAttributes(){const e={CharacterCount:this._rawContentLength,EmoticonCount:this._numberOfEmoticons,DiverseEmoticonCount:this._numberOfDiverseEmoticons,IsReceiverShortCircuit:this._isReceiverShortCircuit,NativeEmojiCount:this._numberOfNativeEmojis,SendTimestamp:this._eventCreationTime,DirectMentionCount:this._numberOfDirectMentions,HasAllMention:this._hasAllMention,URLCount:r.size(this._webLinks),IsNonBlocking:!!this._nonBlocking,PostSource:h.PostSource[this._postSource],HasWikiMarkup:this._hasWikiMarkup,DeviceOrientation:a.DeviceOrientation[this._deviceOrientation],IsBingBotConversation:this._isMagicBotConversation,HasBingBotMention:this._hasMagicBotMention,QuotedMessageLength:this._quotedMessageLength};this._clientMessageId&&(e.ClientMessageId=this._clientMessageId),this._endpointId&&(e.EndpointId=this._endpointId),this._registrationId&&(e.RegistrationId=this._registrationId),this._rootViewType&&(e.RootViewType=u.RootViewType[this._rootViewType]),r.isUndefined(this._isMediaPipOpened)||(e.IsMediaPipOpened=this._isMediaPipOpened),r.isUndefined(this._messageComposerAction)||(e.MessageComposerAction=E[this._messageComposerAction]),r.isUndefined(this._messageSentContentType)||(e.MessageSentContentType=B[this._messageSentContentType]),r.isUndefined(this._mediaDurationInMs)||(e.MediaDurationInMs=this._mediaDurationInMs),this._addWellKnownDomainAttributes(e),this._recipientMri&&(e.RecipientMriNamespace=d.getMriNamespace(this._recipientMri),e.Bot_Conversation=d.isAgent(this._recipientMri)),e.Conversation_Members_Number=this._conversationMembersCount;const t=this._getCorrelationIdV1();return t&&(e.MessageCorrelationIdV1=t),r.assign({},super.getAttributes(),e)}getPiiAttributes(){return r.assign({},super.getPiiAttributes(),{ReceiverMri:{value:this._receiverMri||"",piiKind:n.AWTPiiKind.Identity},ReceiverUserId:{value:this._receiverUserId||"",piiKind:n.AWTPiiKind.Identity}})}_getCorrelationIdV1(){if(!d.isV2OneToOneThread(this._conversationId))return;const e=this._message instanceof y.default?this._message.creator:d.skypeIdToMri(f.default.getSkypeId());return this._recipientMri&&this._clientMessageId?s.getCorrelationIdFromMessageParts(e,this._recipientMri,this._clientMessageId):void 0}_addWellKnownDomainAttributes(e){let t=0;r.each(this._webLinks,(e=>{k.default.isYoutubeUrl(e)&&t++})),t>0&&(e.YoutubeURLCount=t)}_applyMessageTypeOverrideIfNeeded(e){if(b.getMessageTypeGroup(this._message)===l.MessageTypeGroups.SwiftCard){const t=e.getFirstUriObjectChild(_.SwiftUriObjectNode);if(t){t.getCardType()===m.default.imageContentTypes.gif&&(this._messageType="Gif")}}}};var R,E,B,O,F,V;t.MessageTyping=class extends D{constructor(e,t,i){super(e),this._registrationId=t,this._endpointId=i}getEventName(){return"message_typing"}getAttributes(){const e=super.getAttributes();return this._endpointId&&(e.EndpointId=this._endpointId),this._registrationId&&(e.RegistrationId=this._registrationId),e}},function(e){e[e.JumpToEnd=0]="JumpToEnd",e[e.ReadReceiptsViewed=1]="ReadReceiptsViewed"}(R||(t.MessagePanelActionType=R={}));class U extends C.TelemetryEventBase{constructor(e,t){super(),this._conversationId=e,this._actionType=t,this._isGroupConversation=d.isGroupConversation(this._conversationId);const i=(0,p.default)().getConversation(this._conversationId);this._conversationMembersCount=i?i.getMemberCount():0}getEventName(){return"messaging_panel"}getAttributes(){const e=super.getAttributes();return e.Action=R[this._actionType],e.IsGroupConversation=this._isGroupConversation,e.ConversationMembersCount=this._conversationMembersCount,e}}t.JumpToEnd=class extends U{constructor(e,t,i){super(e,R.JumpToEnd),this._jumpedFrom=t,this._unreadCounts=i}getAttributes(){const e=super.getAttributes();return e.JumpedFrom=this._jumpedFrom?this._jumpedFrom:"DB_LOAD",e.UnreadCount=this._unreadCounts,e}};t.ReadReceiptsViewed=class extends U{constructor(e,t,i){super(i,R.ReadReceiptsViewed),this._peopleCountOnMark=e,this._peopleCountTotal=t}getAttributes(){const e=super.getAttributes();return e.ReadByMarkCount=this._peopleCountOnMark,e.ReadByTotalCount=this._peopleCountTotal,e}};t.ShareContactsTelemetry=class extends D{constructor(e,t,i,o,n){super(t),this._entryPoint=e,this.conversationId=t,this._numberOfPSTNContactsShares=i,this._numberOfSkypeContactsShares=o,this._usedSearch=n}getEventName(){return"messaging_share_contacts"}getAttributes(){const e=super.getAttributes();return e.EntryPoint=S.ShareContactOrigin[this._entryPoint],e.SharedPSTNContactsCount=this._numberOfPSTNContactsShares,e.SharedSkypeContactsCount=this._numberOfSkypeContactsShares,e.HasUsedSearch=this._usedSearch,e}_useOldAttributeNames(){return!0}};t.AddContactsTelemetry=class extends D{constructor(e,t){super(t),this._origin=e,this.conversationId=t}getEventName(){return"messaging_add_contacts"}getAttributes(){const e=super.getAttributes();return e.AddContactsOrigin=c.AddMemberToThreadSource[this._origin],e}_useOldAttributeNames(){return!0}},function(e){e[e.Paste=0]="Paste",e[e.NoPaste=1]="NoPaste",e[e.PastePlainText=2]="PastePlainText",e[e.PasteHtmlText=3]="PasteHtmlText",e[e.PasteLink=4]="PasteLink",e[e.PasteEscapedLink=5]="PasteEscapedLink",e[e.DragPlainText=6]="DragPlainText",e[e.DragHtmlText=7]="DragHtmlText",e[e.DragLink=8]="DragLink",e[e.DragEscapedLink=9]="DragEscapedLink"}(E||(t.MessageComposerAction=E={})),function(e){e[e.NoText=0]="NoText",e[e.PlainText=1]="PlainText",e[e.MarkupText=2]="MarkupText",e[e.Link=3]="Link",e[e.Audio=4]="Audio"}(B||(t.MessageComposerSentContentType=B={}));t.MessageComposerTelemetry=class extends D{constructor(e,t,i){super(e),this._userCancelled=t,this._action=i}getEventName(){return"messaging_composer"}getAttributes(){const e=super.getAttributes();return e.UserCancelled=this._userCancelled,e.Action=E[this._action],e}_useOldAttributeNames(){return!0}};t.MessagesFetched=class extends D{constructor(e,t,i,o){super(e),this._fetchedMessages=t,this._syncedBackwards=i,this._duration=o}getEventName(){return"messaging_extra_fetch"}getAttributes(){const e=super.getAttributes();return e.FetchedMessages=this._fetchedMessages,e.IsSyncedBackwards=this._syncedBackwards,e.Duration=this._duration,e}_useOldAttributeNames(){return!0}};t.MessageLink=class extends D{constructor(e){super(e)}getEventName(){return"messaging_link_bing"}},function(e){e[e.InlineAttribution=0]="InlineAttribution",e[e.InlineText=1]="InlineText",e[e.Footer=2]="Footer",e[e.Overlay=3]="Overlay"}(O||(t.AttributionType=O={}));t.MessageAttribution=class extends D{constructor(e,t,i){super(e),this._attributionType=t,this._source=i}getEventName(){return"bing_message_attribution"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{Type:O[this._attributionType],Source:this._source})}},function(e){e[e.Click=0]="Click",e[e.Active=1]="Active"}(F||(t.MessageComposerControlAction=F={})),function(e){e[e.SendButton=0]="SendButton"}(V||(t.MessageComposerControls=V={}));class j extends C.TelemetryEventBase{constructor(e,t){super(),this._source=e,this._action=t}getEventName(){return"messaging_right_control"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{Source:V[this._source],Action:F[this._action]})}}t.MessageComposerControlEvent=j},777745:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NavigatedToNextResult=t.NavigatedToPrevResult=t.TriggeredLoadMoreMessages=t.ClosedSearch=t.OpenedSearch=void 0;const o=i(376229),n=i(240297);class r extends n.TelemetryEventBase{getEventName(){return"messaging_search"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.OpenedSearch=class extends r{constructor(e){super(),this._origin=e}getActionName(){return"OpenedMessageSearch"}getAttributes(){const e=super.getAttributes();return e.Origin=o.MessageSearchToggleOrigin[this._origin],e}};t.ClosedSearch=class extends r{constructor(e,t,i,o){super(),this._origin=e,this._didUserSearch=t,this._lastResultsCount=i,this._numberOfRequests=o}getActionName(){return"ClosedMessageSearch"}getAttributes(){const e=super.getAttributes();return e.Origin=o.MessageSearchToggleOrigin[this._origin],e.DidUserSearch=this._didUserSearch,e.LastSearchResultsCount=this._lastResultsCount,e.NumberOfRequests=this._numberOfRequests,e}};t.TriggeredLoadMoreMessages=class extends r{constructor(e,t){super(),this._isSearchingGlobal=e,this._pageNumberRequested=t}getActionName(){return"TriggeredLoadMoreMessages"}getAttributes(){const e=super.getAttributes();return e.IsSearchingGlobal=this._isSearchingGlobal,e.PageNumberRequested=this._pageNumberRequested,e}};t.NavigatedToPrevResult=class extends r{getActionName(){return"NavigatedToPrevResult"}};t.NavigatedToNextResult=class extends r{getActionName(){return"NavigatedToNextResult"}}},196761:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChatNotificationsToggleSetting=t.AutoDownloadFilesV2ToggleSetting=t.PicturePrefetchToggleSetting=t.AutoDownloadFilesToggleSetting=t.OnlyShowSubtitlesForOtherParticipants=t.EnableSubtitlesForAllCallsSetting=t.ChatNotificationsWhileDNDToggleSetting=t.CallNotificationsWhileDNDToggleSetting=t.FontSizeSetting=t.FileDownloadPathDesktopSetting=t.LastMessageAuthorAvatarToggleSetting=t.FormattingToggleSetting=t.PasteAsQuoteToggleSetting=t.SendMessageWithEnterToggleSetting=t.OpenLinksInSkype=t.DisplayUrlPreviewsToggleSetting=t.ReactionPushNotificationsToggleSetting=t.ReadReceiptsToggleSetting=t.ReadReceiptsSettingOrigin=t.MessagingToggleSetting=t.FontSizeChangeOrigin=t.MessagingSettings=void 0;const o=i(167606),n=i(511134),r=i(954225),a=i(240297);var s,l,c;!function(e){e[e.ReadReceipts=0]="ReadReceipts",e[e.ReactionPushNotifications=1]="ReactionPushNotifications",e[e.DisplayUrlPreviews=2]="DisplayUrlPreviews",e[e.OpenLinksInSkype=3]="OpenLinksInSkype",e[e.SendMessageWithEnter=4]="SendMessageWithEnter",e[e.PasteAsQuote=5]="PasteAsQuote",e[e.Formatting=6]="Formatting",e[e.LastMessageAuthorAvatar=7]="LastMessageAuthorAvatar",e[e.FontSize=8]="FontSize",e[e.FileDownloadPathDesktop=9]="FileDownloadPathDesktop",e[e.ChatNotificationsWhileDND=10]="ChatNotificationsWhileDND",e[e.CallNotificationsWhileDND=11]="CallNotificationsWhileDND",e[e.EnableSubtitlesForAllCalls=12]="EnableSubtitlesForAllCalls",e[e.OnlyShowSubtitlesForOtherParticipants=13]="OnlyShowSubtitlesForOtherParticipants",e[e.AutoDownloadFiles=14]="AutoDownloadFiles",e[e.PicturePrefetch=15]="PicturePrefetch",e[e.ChatNotifications=16]="ChatNotifications",e[e.AutoDownloadFilesV2=17]="AutoDownloadFilesV2"}(s||(t.MessagingSettings=s={})),function(e){e[e.Settings=0]="Settings"}(l||(t.FontSizeChangeOrigin=l={}));class d extends a.TelemetryEventBase{constructor(e){super(),this._setting=e}getEventName(){return"messaging_settings"}getAttributes(){const e=super.getAttributes();return e.Setting=s[this._setting],e}}class u extends d{constructor(e,t){super(t),this._didEnable=e}getAttributes(){const e=super.getAttributes();return e.DidEnable=this._didEnable,e}}t.MessagingToggleSetting=u,function(e){e[e.UserAction=0]="UserAction",e[e.OptIn=1]="OptIn",e[e.UserStatusUpdate=2]="UserStatusUpdate",e[e.OptOut=3]="OptOut"}(c||(t.ReadReceiptsSettingOrigin=c={}));t.ReadReceiptsToggleSetting=class extends u{constructor(e,t){super(e,s.ReadReceipts),this._origin=t}getAttributes(){const e=super.getAttributes();return e.Origin=c[this._origin],e}};t.ReactionPushNotificationsToggleSetting=class extends u{constructor(e){super(e,s.ReactionPushNotifications)}};t.DisplayUrlPreviewsToggleSetting=class extends u{constructor(e){super(e,s.DisplayUrlPreviews)}};t.OpenLinksInSkype=class extends u{constructor(e){super(e,s.OpenLinksInSkype)}};t.SendMessageWithEnterToggleSetting=class extends u{constructor(e){super(e,s.SendMessageWithEnter)}};t.PasteAsQuoteToggleSetting=class extends u{constructor(e){super(e,s.PasteAsQuote)}};t.FormattingToggleSetting=class extends u{constructor(e){super(e,s.Formatting)}};t.LastMessageAuthorAvatarToggleSetting=class extends u{constructor(e){super(e,s.LastMessageAuthorAvatar)}};t.FileDownloadPathDesktopSetting=class extends d{constructor(){super(s.FileDownloadPathDesktop)}};t.FontSizeSetting=class extends d{constructor(e,t){super(s.FontSize),this._size=e,this._origin=t}getAttributes(){const e=super.getAttributes();return e.FontSizeValue=r.MessageStreamFontSize[this._size],e.Origin=l[this._origin],e}};t.CallNotificationsWhileDNDToggleSetting=class extends u{constructor(e){super(e,s.CallNotificationsWhileDND)}};t.ChatNotificationsWhileDNDToggleSetting=class extends u{constructor(e){super(e,s.ChatNotificationsWhileDND)}};t.EnableSubtitlesForAllCallsSetting=class extends u{constructor(e){super(e,s.EnableSubtitlesForAllCalls)}};t.OnlyShowSubtitlesForOtherParticipants=class extends u{constructor(e){super(e,s.OnlyShowSubtitlesForOtherParticipants)}};t.AutoDownloadFilesToggleSetting=class extends u{constructor(e){super(e,s.AutoDownloadFiles)}};t.PicturePrefetchToggleSetting=class extends d{constructor(e){super(s.PicturePrefetch),this._mode=e}getAttributes(){const e=super.getAttributes();return e.Mode=this._mode,e}};t.AutoDownloadFilesV2ToggleSetting=class extends d{constructor(e){super(s.AutoDownloadFilesV2),this._mode=e}getAttributes(){const e=super.getAttributes();return e.Mode=this._mode,e}};t.ChatNotificationsToggleSetting=class extends u{constructor(e,t,i,o,n,r){super(e,s.ChatNotifications),this._disableChatNotificationsPeriod=t,this._conversationId=i,this._value=o,this._source=n,this._conversationType=r}getAttributes(){const e=super.getAttributes();return this._disableChatNotificationsPeriod&&(e.DisableChatNotificationsPeriod=this._disableChatNotificationsPeriod),this._conversationId,void 0!==this._value&&(e.Value=this._value),void 0!==this._source&&(e.Source=o.NotificationsSource[this._source]),void 0!==this._conversationType&&(e.ConversationType=n.ConversationType[this._conversationType]),e}}},978493:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessagingTabsHiddenEvent=void 0;const o=i(240297);class n extends o.TelemetryEventBase{getEventName(){return"messaging_tabs"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.MessagingTabsHiddenEvent=class extends n{constructor(e,t){super(),this._visibleTabs=e,this._overflownTabs=t}getActionName(){return"TabsHidden"}getAttributes(){const e=super.getAttributes();return e.VisibleTabs=this._visibleTabs,e.HiddenTabs=this._overflownTabs,e}}},480327:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessagingToastAlertEvent=t.MessagingToastQuickActionEvent=t.MessagingToastShowEvent=t.MessagingToastEvent=t.MessagingToastAlertType=t.MessagingToastQuickAction=t.MessagingToastActionType=void 0;const o=i(197582),n=o.__importStar(i(44717)),r=i(395617),a=i(240297),s=o.__importStar(i(340482));var l,c,d;!function(e){e[e.Tapped=0]="Tapped",e[e.Panned=1]="Panned",e[e.Ignored=2]="Ignored",e[e.Shown=3]="Shown",e[e.QuickAction=4]="QuickAction"}(l||(t.MessagingToastActionType=l={})),function(e){e[e.ThumbsUp=0]="ThumbsUp",e[e.InlineReply=1]="InlineReply",e[e.AcceptScheduledCall=2]="AcceptScheduledCall",e[e.DeclineScheduledCall=3]="DeclineScheduledCall",e[e.MarkAsRead=4]="MarkAsRead",e[e.JoinCall=5]="JoinCall"}(c||(t.MessagingToastQuickAction=c={})),function(e){e[e.ReplyNotSent=0]="ReplyNotSent"}(d||(t.MessagingToastAlertType=d={}));class u extends a.TelemetryEventBase{constructor(e,t,i){super(),this._conversationId=e,this._notificationType=t,this._action=i}getEventName(){return"messaging_toast"}getAttributes(){const e=super.getAttributes();this._action!==l.Shown&&(e.Action=l[this._action]),void 0!==this._notificationType&&(e.ToastType=r.MessageNotificationType[this._notificationType]),e.IsGroupConversation=n.isGroupConversation(this._conversationId);const t=s.getTrackableConversationId(this._conversationId);return t&&(e.ConversationId=t),e}}t.MessagingToastEvent=u;t.MessagingToastShowEvent=class extends u{constructor(e,t,i,o,n,r){super(e.conversationId,t,l.Shown),this._message=e,this._notificationAction=i,this._useSystemNotification=o,this._groupedNotifications=n,this._displayedMessagesCount=r}getEventName(){return"messaging_notification"}getAttributes(){const e=super.getAttributes();return e.NotificationAction=r.MessageNotificationAction[this._notificationAction],e.IsSystemNotification=this._useSystemNotification,e.IsSampledType=this._isSampledNotificationType(),void 0!==this._displayedMessagesCount&&(e.DisplayedMessagesCount=this._displayedMessagesCount),e}shouldSend(){if(!super.shouldSend())return!1;if(!this._isSampledNotificationType())return!0;if(!this._message)return!1;const e=this._message.getLatestRelevantClientMessageId();if(!e)return!1;const t=a.TelemetryConfig.kpi_message_sent;return s.shouldTrackMessage(e,t)}_isSampledNotificationType(){return this._notificationType!==r.MessageNotificationType.AddToConversation}};t.MessagingToastQuickActionEvent=class extends u{constructor(e,t){super(t,void 0,l.QuickAction),this._actionName=e}getAttributes(){const e=super.getAttributes();return e.QuickAction=c[this._actionName],e.IsSystemNotification=!0,e}};t.MessagingToastAlertEvent=class extends u{constructor(e,t){super(t,r.MessageNotificationType.SystemAlert,l.Shown),this._alertType=e}getAttributes(){const e=super.getAttributes();return e.AlertType=d[this._alertType],e.IsSystemNotification=!0,e}}},744324:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeLanguageAndTranslateOneMessage=t.OpenTranslateMenu=t.ShowOriginalMessage=t.TranslateOneMessage=void 0;const o=i(142833),n=i(240297);class r extends n.TelemetryEventBase{getEventName(){return"messaging_translateone"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.TranslateOneMessage=class extends r{constructor(e,t,i){super(),this._origin=e,this._correlationId=t,this._requestTranslation=i}getActionName(){return"TranslateOneMessage"}getAttributes(){const e=super.getAttributes();return e.ToggleOrigin=o.TranslateOneMessageToggleOrigin[this._origin],e.MessageCorrelationId=this._correlationId,e.RequestTranslation=this._requestTranslation,e}};t.ShowOriginalMessage=class extends r{constructor(e,t){super(),this._origin=e,this._correlationId=t}getActionName(){return"ShowOriginalMessage"}getAttributes(){const e=super.getAttributes();return e.ToggleOrigin=o.TranslateOneMessageToggleOrigin[this._origin],e.MessageCorrelationId=this._correlationId,e}};t.OpenTranslateMenu=class extends r{constructor(e,t){super(),this._origin=e,this._correlationId=t}getActionName(){return"OpenTranslateMenu"}getAttributes(){const e=super.getAttributes();return e.ToggleOrigin=o.TranslateOneMessageToggleOrigin[this._origin],e.MessageCorrelationId=this._correlationId,e}};t.ChangeLanguageAndTranslateOneMessage=class extends r{constructor(e,t,i){super(),this._origin=e,this._correlationId=t,this._newLang=i}getActionName(){return"ChangeLanguageAndTranslateOneMessage"}getAttributes(){const e=super.getAttributes();return e.ToggleOrigin=o.TranslateOneMessageToggleOrigin[this._origin],e.MessageCorrelationId=this._correlationId,e.Lang=this._newLang,e}}},563748:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MyBotTooltipClose=t.MyBotTooltipCloseType=t.MyBotTooltipShow=t.MyBotFreHeadClose=t.MyBotQRImgCilck=t.MyBotQRDialogClose=void 0;const o=i(240297);class n extends o.TelemetryEventBase{constructor(){super()}getEventName(){return"messaging_mybot"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.MyBotQRDialogClose=class extends n{constructor(){super()}getActionName(){return"QRDialogClose"}};t.MyBotQRImgCilck=class extends n{constructor(e){super(),this._isNoMessage=e}getActionName(){return"QRImgClick"}getAttributes(){const e=super.getAttributes();return e.NoMessage=this._isNoMessage,e}};t.MyBotFreHeadClose=class extends n{constructor(e){super(),this._isNoMessage=e}getActionName(){return"FreHeadClose"}getAttributes(){const e=super.getAttributes();return e.NoMessage=this._isNoMessage,e}};var r;t.MyBotTooltipShow=class extends n{constructor(){super()}getActionName(){return"MyBotTooltipShow"}},function(e){e.ClickBtnClose="clickButton",e.TouchScreenClose="touchScreenClose"}(r||(t.MyBotTooltipCloseType=r={}));t.MyBotTooltipClose=class extends n{constructor(e){super(),this._closeType=e}getActionName(){return"MyBotTooltipClose"}getAttributes(){const e=super.getAttributes();return e.CloseType=this._closeType,e}}},975741:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NativeAdChoicesClickEvent=t.NativeAdCtaClickEvent=t.NativeAdsUnhideEvent=t.NativeAdsHideEvent=t.NativeAdDisplayedEvent=t.NativeAdImpressionLoggedEvent=t.NativeAdDisplayRegisteredEvent=t.NativeAdDisplayErrorEvent=t.NativeAdsErrorEvent=t.NativeAdsLoadedEvent=t.NativeAdsPlacementNotVisibleEvent=t.NativeAdsEligibilityForcedEvent=t.NativeAdsEligibilityErrorEvent=t.NativeAdsEligibilityEvent=t.NativeAdPlacementName=void 0;const o=i(240297);var n;!function(e){e.AlertsPanel="alertsPanel",e.ConversationList="conversationList"}(n||(t.NativeAdPlacementName=n={}));class r extends o.TelemetryEventBase{constructor(e){super(),this.props=e}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e.PlacementId=this.props.placementId,e.PlacementName=this.props.placementName,e.AdsGuid=this.props.adsGuid,e.NaExperimentName=this.props.naExperimentName,e.AdsProvider=this.props.provider,e}getEventName(){return"monetization_ads"}}class a extends r{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.AdGuid=this.props.adGuid,e}}class s extends r{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.AdsElapsedTime=this.props.elapsedTime,e}}class l extends a{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.AdElapsedTime=this.props.elapsedTime,e}}t.NativeAdsEligibilityEvent=class extends r{getAction(){return"UserIsAdsEligible"}};t.NativeAdsEligibilityErrorEvent=class extends r{constructor(e){super(e),this.props=e}getAction(){return"AdsEligibilityCheckFailed"}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this.props.errorCode,e.ErrorMessage=this.props.errorMessage,e}};t.NativeAdsEligibilityForcedEvent=class extends r{getAction(){return"AdsEligibilityForced"}};t.NativeAdsPlacementNotVisibleEvent=class extends r{constructor(e){super(e),this.props=e}getAction(){return"PlacementNotVisible"}getAttributes(){const e=super.getAttributes();return e.IsFirstRequest=this.props.isFirstRequest,e}};t.NativeAdsLoadedEvent=class extends s{constructor(e){super(e),this.props=e}getAction(){return"AdsLoaded"}getAttributes(){const e=super.getAttributes();return e.NewAdsCount=this.props.newAdsCount,e}};t.NativeAdsErrorEvent=class extends s{constructor(e){super(e),this.props=e}getAction(){return"AdsError"}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this.props.errorCode,e.ErrorMessage=this.props.errorMessage,e}};t.NativeAdDisplayErrorEvent=class extends l{constructor(e){super(e),this.props=e}getAction(){return"AdDisplayError"}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this.props.errorCode,e.ErrorMessage=this.props.errorMessage,e}};t.NativeAdDisplayRegisteredEvent=class extends l{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.IsVisibleOnLoad=this.props.isVisibleOnLoad,e}getAction(){return"AdDisplayRegistered"}};t.NativeAdImpressionLoggedEvent=class extends a{getAction(){return"AdImpressionLogged"}};t.NativeAdDisplayedEvent=class extends l{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.IsVisibleOnLoad=this.props.isVisibleOnLoad,e}getAction(){return"AdDisplayed"}};t.NativeAdsHideEvent=class extends r{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.RemainingHidingTime=this.props.remainingHidingTime,e.OnStartup=this.props.onStartup,e}getAction(){return"AdsHide"}};t.NativeAdsUnhideEvent=class extends r{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.OnStartup=this.props.onStartup,e}getAction(){return"AdsUnhideOnStartup"}};t.NativeAdCtaClickEvent=class extends a{getAction(){return"AdCtaClicked"}};t.NativeAdChoicesClickEvent=class extends a{getAction(){return"AdChoicesClicked"}}},185201:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AccountReadMoreClick=t.CheckAccountClick=t.NavigationHelpAndFeedback=t.NavigationHelpAndFeedbackLink=t.NavigationNotificationSettings=t.NavigationCallInvalidMri=t.NavigationConversation=t.RecentsPillTabNavigationEvent=t.NavigationTab=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(44717)),a=o.__importStar(i(815146)),s=o.__importStar(i(113002)),l=i(473711),c=i(240297);class d extends c.TelemetryEventBase{constructor(e){super(),this._to=e}getEventName(){return"all_navigation"}getAttributes(){const e=super.getAttributes();return e.NavigationType=this.getNavDestinationType(),this._to&&(e.NavigationTo=this._to),e}}t.NavigationTab=class extends d{constructor(e){super(e)}getNavDestinationType(){return"TabView"}};t.RecentsPillTabNavigationEvent=class extends d{constructor(e){super(e)}getNavDestinationType(){return"RecentsFilterTab"}};t.NavigationConversation=class extends d{constructor(e,t,i,o,n,a,s,l){let c="OneOnOne";a?c="NewsChannel":s?c="NewsBot":r.isGroupConversation(e)?c="Group":r.isEncryptedThread(e)?c="E2EE":r.isAgent(e)?c=r.isMyBotConversation(e)?"MyBot":"Bot":r.isSkypeIdMri(e)&&-1!==e.indexOf("@")?c="SkypeIdLooksLikeEmail":r.isBookmarkConversation(e)&&(c="Bookmarks"),super(c),this._origin=t,this._browserOrigin=i,this._millisecSinceLastConv=o?Date.now()-o:-1,this._conversationsInGroup=n,this._callId=l}getNavDestinationType(){return"Conversation"}getAttributes(){return n.assign(super.getAttributes(),this._getOwnAttributes())}_getOwnAttributes(){const e={};return n.isUndefined(this._origin)||(e.Origin=a.NavigationConversationOrigin[this._origin]),n.isUndefined(this._browserOrigin)||(e.BrowserOrigin=a.BrowserOrigin[this._browserOrigin]),!n.isUndefined(this._conversationsInGroup)&&this._conversationsInGroup&&(e.ConversationTypesForUserCount=this._conversationsInGroup),n.isUndefined(this._callId)||(e.CallId=this._callId),e.TimeSinceLastConv=this._millisecSinceLastConv,e}};t.NavigationCallInvalidMri=class extends d{constructor(e,t,i){super("CallInvalidMri"),this._isMriInvalid=r.isSkypeIdMri(e)&&-1!==e.indexOf("@"),this._origin=t,this._callId=i}shouldSend(){return!!this._isMriInvalid&&super.shouldSend()}getNavDestinationType(){return"CallInvalidMri"}getAttributes(){const e=super.getAttributes();return this._origin&&(e.Origin=a.NavigationCallOrigin[this._origin]),this._callId&&(e.CallId=this._callId),e}};class u extends c.TelemetryEventBase{constructor(e){super(),this._origin=e}getEventName(){return"all_notification_settings_menu_click"}getAttributes(){const e=super.getAttributes();return this._origin&&(e.Origin=s.NavigationSettingsOrigin[this._origin]),e}}t.NavigationNotificationSettings=u;class p extends c.TelemetryEventBase{constructor(e,t){super(),this._target=e,this._isFailure=t}getEventName(){return"feedback_navigation"}getAttributes(){const e=super.getAttributes();return e.Target=this._target,e.IsFailure=this._isFailure?"true":"false",e}}t.NavigationHelpAndFeedbackLink=p;class g extends c.TelemetryEventBase{constructor(e,t,i){super(),this._to=s.NavigationSettingsItem[e],this._origin=s.NavigationSettingsOrigin[t],this._telemetryCorrelationId=i}getEventName(){return"all_feedback_menu_click"}getAttributes(){const e=super.getAttributes();return e.NavigationType="SettingsMenu",this._origin&&(e.Origin=this._origin),this._to&&(e.NavigationTo=this._to),this._telemetryCorrelationId&&(e.TelemetryCorrelationId=this._telemetryCorrelationId),e}}t.NavigationHelpAndFeedback=g;class h extends g{constructor(e,t,i){super(e,s.NavigationSettingsOrigin.LandingScreen,i),this._landingScreenVariant=t}getAttributes(){const e=super.getAttributes();return e.CheckAccountSectionVariant=l.OnboardingCheckAccountSectionVariant[this._landingScreenVariant],e}}t.CheckAccountClick=class extends h{constructor(e,t){super(s.NavigationSettingsItem.CheckAccount,e,t)}};t.AccountReadMoreClick=class extends h{constructor(e,t){super(s.NavigationSettingsItem.AccountReadMore,e,t)}}},457930:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NdiTelemetryEvent=void 0;const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=o.__importStar(i(167606)),s=o.__importDefault(i(655192)),l=i(240297);class c extends l.TelemetryEventBase{constructor(e,t){super(),this._name=e;const i=s.default.parseJsonErrorable(t);r.isError(i)?a.error(a.LogTraceArea.Ndi,"NdiTelemetryEvent constructor failed to parse json payload",s.default.errorAsString(i),n.pii.Omit(JSON.stringify(t))):this._payload=i}getEventName(){return this._name}getAttributes(){return r.assign(super.getAttributes(),this._payload)}}t.NdiTelemetryEvent=c},25083:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CaptivePortalQuestionnaireEvent=t.ConnectivityAlertDismissEvent=t.ConnectivityAlertShowEvent=t.CaptivePortalOpenBrowserEvent=t.CaptivePortalCheckFailureEvent=t.CaptivePortalCheckEvent=t.CaptivePortalQuestionnaireOption=void 0;const o=i(815146),n=i(240297);var r;!function(e){e[e.Invalid=1]="Invalid",e[e.Useless=2]="Useless",e[e.DontUnderstand=3]="DontUnderstand",e[e.Other=4]="Other",e[e.NoAnswer=5]="NoAnswer"}(r||(t.CaptivePortalQuestionnaireOption=r={}));class a extends n.TelemetryEventBase{getEventName(){return"messaging_network"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class s extends a{constructor(e,t,i){super(),this._checkResult=e,this._connectedBefore=t,this._checkBefore=i,this._requestSuccess=!0}getActionName(){return"CaptivePortal"}getAttributes(){const e=super.getAttributes();return e.RequestSuccess=this._requestSuccess,e.CheckResult=this._getCheckResult(),e.ConnectedBefore=this._connectedBefore,e.CheckBefore=this._checkBefore,e}_getCheckResult(){return this._requestSuccess?this._checkResult?"Connected":"CaptivePortal":"RequestFailure"}}t.CaptivePortalCheckEvent=s;t.CaptivePortalCheckFailureEvent=class extends s{constructor(e,t,i,o){super(!0,e,t),this._statusText=i,this._timedOut=o,this._requestSuccess=!1}getAttributes(){const e=super.getAttributes();return e.StatusText=this._statusText,e.IsTimeout=this._timedOut,e}};t.CaptivePortalOpenBrowserEvent=class extends a{getActionName(){return"CaptivePortalBrowserOpen"}};t.ConnectivityAlertShowEvent=class extends a{constructor(e){super(),this._alertType=e}getActionName(){return"ConnectivityAlertShow"}getAttributes(){const e=super.getAttributes();return e.AlertType=o.ConnectivityAlertType[this._alertType],e}};t.ConnectivityAlertDismissEvent=class extends a{constructor(e){super(),this._alertType=e}getActionName(){return"ConnectivityAlertDismiss"}getAttributes(){const e=super.getAttributes();return e.AlertType=o.ConnectivityAlertType[this._alertType],e}};t.CaptivePortalQuestionnaireEvent=class extends a{constructor(e){super(),this._answer=e}getActionName(){return"CaptivePortalQuestionnaire"}getAttributes(){const e=super.getAttributes();return e.Answer=r[this._answer],e}}},693394:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(815146),r=i(96575),a=o.__importDefault(i(535775));t.default=class{constructor(){this._parameters={}}start(e,t,i){this._parameters={avatarSelected:!1,navigationOrigin:t,wizardSteps:i,participantCount:0,visitedParticipantPicker:!1,visitedSetConvInfoPanel:!1,existingConversationFound:!1},this._scenario=new a.default(r.ScenarioName.NewGroupChat,void 0,{},e),this._scenario.start(this._getStartAndFinishProperties())}setAvatarSelection(e){this._parameters.avatarSelected=e}setVisitedSetConvInfoPanel(){this._parameters.visitedSetConvInfoPanel=!0}setVisitedParticipantPicker(){this._parameters.visitedParticipantPicker=!0}setExistingConversationFound(){this._parameters.existingConversationFound=!0}setParticipantCount(e){this._parameters.participantCount=e}markFunnelCompleted(){this._scenario&&this._scenario.markStepCompleted("FunnelCompleted",this._getFunnelProperties())}markFunnelDropped(){this._scenario&&(this._scenario.markStepCompleted("FunnelDropped",this._getFunnelProperties()),this._scenario.finish(this._getStartAndFinishProperties()),this._reset())}markConversationCreated(){this._scenario&&(this._scenario.markStepCompleted("ConversationCreated"),this._scenario.finish(this._getStartAndFinishProperties()),this._reset())}finish(){this._scenario&&(this._scenario.finish(this._getStartAndFinishProperties()),this._reset())}fail(e,t,i,o,n){if(!this._scenario)return;const r={skypeErrorMessage:e||"",skypeErrorCode:t||"",httpStatusText:o||"",httpStatusCode:i||"",errorPayload:n||""};this._scenario.fail(void 0,r),this._reset()}_reset(){this._parameters={},this._scenario=void 0}_getFunnelProperties(){return{AvatarSelected:!!this._parameters.avatarSelected,ParticipantsCount:this._parameters.participantCount||-1,VisitedParticipantPicker:!!this._parameters.visitedParticipantPicker,VisitedSetConvInfoPanel:!!this._parameters.visitedSetConvInfoPanel,ExistingConversationFound:!!this._parameters.existingConversationFound,NewGroupChatNavOrigin:this._parameters.navigationOrigin?n.NavigationConversationOrigin[this._parameters.navigationOrigin]:"",WizardSteps:this._parameters.wizardSteps||""}}_getStartAndFinishProperties(){return{NewGroupChatNavOrigin:this._parameters.navigationOrigin?n.NavigationConversationOrigin[this._parameters.navigationOrigin]:""}}}},754801:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonFatalErrorFetchingToken=t.GaveUpOnFetchingToken=t.GotToken=void 0;const o=i(197582).__importStar(i(496486)),n=i(425495);class r extends n.PriorityTelemetryEventBase{getEventName(){return"all_notification_registration"}getAttributes(){return o.assign(super.getAttributes(),{Action:this.getActionName()})}}t.GotToken=class extends r{getActionName(){return"GotToken"}getAttributes(){return o.assign(super.getAttributes(),{RegistrationAction:this.registrationAction})}};t.GaveUpOnFetchingToken=class extends r{getActionName(){return"GaveUpOnFetchingToken"}};t.NonFatalErrorFetchingToken=class extends r{constructor(e,t,i){super(),this._errorCode=e,this._errorMessage=t,this._networkConnectivityLevel=i}getActionName(){return"NonFatalErrorFetchingToken"}getAttributes(){return o.assign(super.getAttributes(),{Code:this._errorCode,Message:this._errorMessage,NetworkConnectivityLevel:this._networkConnectivityLevel})}}},28823:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationAppLaunched=t.NotificationIgnoredAsDuplicate=t.NotificationRawContentNotParsed=t.NotificationNotProcessedEvent=t.NotificationForIncorrectRecipientEvent=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(44717)),a=i(815146),s=i(527703),l=i(240297),c=o.__importStar(i(340482));class d extends l.TelemetryEventBase{constructor(e,t,i,o){super(),this._event=e,this._signedIn=t,this._notificationTime=i,this._cv=o}getEventName(){return"all_notification"}getAttributes(){return n.assign(super.getAttributes(),{Action:this.getActionName(),EventType:this._event,EventTypeName:s.PNHEvents[this._event],SignedIn:this._signedIn,TimeToProcess:this._notificationTime?this._eventCreationTime-this._notificationTime:-1,CorrelationVector:this._cv?this._cv:""})}}t.NotificationForIncorrectRecipientEvent=class extends d{getActionName(){return"IncorrectRecipient"}};t.NotificationNotProcessedEvent=class extends d{constructor(e,t,i,o){super(e,t,i,void 0),this._nodeId=o}getActionName(){return"NotProcessed"}getAttributes(){return n.assign(super.getAttributes(),{NodeId:this._nodeId||""})}};t.NotificationRawContentNotParsed=class extends d{constructor(e,t,i){super(e,!0,t,i)}getActionName(){return"RawContentNotParsed"}};t.NotificationIgnoredAsDuplicate=class extends d{constructor(e,t,i){super(e,!0,t,i)}getActionName(){return"IgnoredAsDuplicate"}};class u extends l.TelemetryEventBase{constructor(e,t){super(),this._type=e,this._conversationId=t}getEventName(){return"all_notification_app_launched"}getAttributes(){const e=super.getAttributes();e.Action="NotificationClicked",e.NotificationType=a.NotificationTypeAppLaunched[this._type],e.IsGroupConversation=r.isGroupConversation(this._conversationId);const t=c.getTrackableConversationId(this._conversationId);return t&&(e.ConversationId=t),e}}t.NotificationAppLaunched=u},849487:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsPromptDisplayed=t.NotificationsPromptButtonPressed=t.NotificationsPromptClosed=t.NotificationsPromptSettingsOpened=t.NotificationsPromptEnableButtonDisplayed=t.NotificationPromptOrigin=void 0;const o=i(380157),n=i(240297);var r;!function(e){e[e.ConversationList=0]="ConversationList",e[e.AlertPanel=1]="AlertPanel"}(r||(t.NotificationPromptOrigin=r={}));class a extends n.TelemetryEventBase{constructor(e){super(),this._origin=e}getEventName(){return"notificationsPrompt_action"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.Origin=r[this._origin],e}}t.NotificationsPromptEnableButtonDisplayed=class extends a{getActionName(){return"displayed"}};t.NotificationsPromptSettingsOpened=class extends a{constructor(){super(...arguments),this._enabledNotifications=!1}getActionName(){return"opened"}enabledNotifications(){this._enabledNotifications=!0}getAttributes(){const e=super.getAttributes();return e.Enabled_Notifications=this._enabledNotifications,e}};t.NotificationsPromptClosed=class extends a{getActionName(){return"closed"}};t.NotificationsPromptButtonPressed=class extends a{constructor(e,t){super(e),this._permission=t}getActionName(){return"pressed"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{Status:o.PermissionStatus[this._permission]})}};t.NotificationsPromptDisplayed=class extends a{getActionName(){return"prompt_displayed"}}},914518:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotifyMyFriendsEvent=void 0;const o=i(240297);class n extends o.TelemetryEventBase{constructor(e,t){super(),this._statusCode=e,this._shortCircuitContactCount=t}getEventName(){return"people_notify_my_friends"}getAttributes(){const e=super.getAttributes();return e.StatusCode=this._statusCode,e.ShortCircuitContactCount=this._shortCircuitContactCount,e}}t.NotifyMyFriendsEvent=n},970809:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingFinished=t.SkypeNumberPurchaseFlowOptionSelected=t.SkypeNumberPurchaseFlowOptionClick=t.SkypeNumberPurchaseFlowClick=t.SkypeNumberPanelOpened=t.SkypeNumberTelemetry=t.CreditPickerNoOffersRetryClick=t.CreditPickerNoOffersToRender=t.CreditPickerRenderingError=t.BuyCreditOfferOptionClick=t.CreditOfferOptionClick=t.OffersIntroductionButtonClick=t.ButtonClicked=t.SkypeNumberLoadFailed=t.SkypeNumberLoaded=t.RecommendedSubscriptionsLoaded=t.PurchaseContinuationPanelOpened=t.PromotionDetailsReceived=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(496486),a=i(278230),s=i(739901),l=i(919326),c=o.__importDefault(i(655192)),d=o.__importDefault(i(139221)),u=i(240297),p=i(230667);class g extends u.TelemetryEventBase{getEventName(){return"s4l_offers"}getAriaTenantTokenOverride(){return d.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.StartOrderSessionId=p.paymentStepTracker.getTraceId(),e}}t.PromotionDetailsReceived=class extends g{constructor(e,t,i){super(),this._offerType=e,this._goLink=t,this._inAppAllowed=i}getActionName(){return"PromotionDetailsReceived"}getAttributes(){const e=super.getAttributes();return e.OfferType=this._offerType,e.InAppAllowed=n.isUndefined(this._inAppAllowed)?"undefined":this._inAppAllowed,e.GoLink=this._goLink,e}};t.PurchaseContinuationPanelOpened=class extends g{constructor(e,t){super(),this._offerType=e,this._campaignRef=t}getActionName(){return"PurchaseContinuationPanelOpened"}getAttributes(){const e=super.getAttributes();return e.OfferType=this._offerType,e.CampaignRef=this._campaignRef||"",e}};t.RecommendedSubscriptionsLoaded=class extends g{constructor(e,t,i){super(),this._cardsToShow=e,this._defaultOpened=t,this._totalRecOffers=i}getActionName(){return"RecommendedSubscriptionsLoaded"}getAttributes(){const e=super.getAttributes();return e.CardsToShowCount=this._cardsToShow||"",e.TotalCardsCount=this._totalRecOffers||"",e.isDefaultOpened=this._defaultOpened||"",e}};t.SkypeNumberLoaded=class extends g{constructor(){super()}getActionName(){return"SkypeNumberLoaded"}getAttributes(){return super.getAttributes()}};t.SkypeNumberLoadFailed=class extends g{constructor(e){super(),this._error=e}getActionName(){return"SkypeNumberLoadFailed"}getAttributes(){const e=super.getAttributes();return e.Error=this._error||"",e}};t.ButtonClicked=class extends g{constructor(e,t,i,o,n,r,a,s){super(),this._cardType=e,this._location=t,this._offerType=i,this._campaignRef=o,this._cardsToShow=n,this._defaultOpened=r,this._orderId=a,this._skuId=s}getActionName(){return"ContinueButtonClicked"}getAttributes(){const e=super.getAttributes();return e.CardType=this._getBackwardsCompatibleCardTypeAttribute(),e.Location=s.Location[this._location],e.OfferType=this._offerType||"",e.CampaignRef=this._campaignRef||"",e.CardsToShowCount=void 0!==this._cardsToShow?this._cardsToShow:"",e.isDefaultOpened=void 0!==this._defaultOpened?this._defaultOpened:"",e.OrderId=this._orderId||"",e.SkuId=this._skuId||"",e}_getBackwardsCompatibleCardTypeAttribute(){switch(this._location){case s.Location.BalancePanel:switch(this._cardType){case s.CardType.CallingRecommended:return"BalanceRecommended";case s.CardType.Credit:case s.CardType.CreditSingle:return"BalanceCredit";default:return"Balance"+s.CardType[this._cardType]}case s.Location.ContinuePurchase:switch(this._cardType){case s.CardType.CallingPersonal:return"ContinueCallingRecommended";case s.CardType.CallingRecommended:return"ContinueCallingPopular";case s.CardType.Credit:case s.CardType.CreditSingle:return"ContinueCredit";default:return"Continue"+s.CardType[this._cardType]}default:return s.Location[this._location]+s.CardType[this._cardType]}}};t.OffersIntroductionButtonClick=class extends g{constructor(e){super(),this._step=e}getActionName(){return"OffersIntroductionButtonClick"}getAttributes(){const e=super.getAttributes();return e.Step=this._step,e}};t.CreditOfferOptionClick=class extends g{constructor(e,t,i){super(),this._creditOffer=e,this._isStacked=t,this._creditPickerSize=i}getActionName(){return"CreditOfferOptionClick"}getAttributes(){const e=super.getAttributes();return e.CreditOffer=this._creditOffer,e.IsStacked=this._isStacked,e.CreditPickerSize=this._creditPickerSize,e}};t.BuyCreditOfferOptionClick=class extends g{constructor(e,t,i,o,n,r){super(),this._creditOffer=e,this._buttonType=t,this._location=i,this._isStacked=o,this._creditPickerSize=n,this._wasCreditPickerUsed=r}getActionName(){return"BuyCreditOfferOptionClick"}getAttributes(){const e=super.getAttributes();return e.CreditOffer=this._creditOffer,e.ButtonType=this._buttonType,e.Location=s.Location[this._location],void 0!==this._isStacked&&(e.IsStacked=this._isStacked),void 0!==this._creditPickerSize&&(e.CreditPickerSize=this._creditPickerSize),void 0!==this._wasCreditPickerUsed&&(e.WasCreditPickerUsed=this._wasCreditPickerUsed),e}};t.CreditPickerRenderingError=class extends g{getActionName(){return"CreditPickerRenderingError"}};t.CreditPickerNoOffersToRender=class extends g{constructor(e){super(),this._location=e}getActionName(){return"CreditPickerNoOffersToRender"}getAttributes(){const e=super.getAttributes();return e.Location=s.Location[this._location],e}};t.CreditPickerNoOffersRetryClick=class extends g{constructor(e){super(),this._location=e}getActionName(){return"CreditPickerNoOffersRetryClick"}getAttributes(){const e=super.getAttributes();return e.Location=s.Location[this._location],e}};t.SkypeNumberTelemetry=class extends g{constructor(e,t,i,o){super(),this._subtype=e,this._action=t,this._location=i,this._fromBuyToFetchDuration=o}getActionName(){return"SkypeNumber"+l.SkypeNumberTelemetryOrigin[this._subtype]+this._actionType()}_actionType(){return this._action?(0,a.flow)(r.camelCase,r.upperFirst)(this._action):""}getAttributes(){const e=super.getAttributes();return e.Location=void 0!==this._location?s.Location[this._location]:"",e.FromBuyToFetchDuration=void 0!==this._fromBuyToFetchDuration?this._fromBuyToFetchDuration:"",e}};t.SkypeNumberPanelOpened=class extends g{constructor(e){super(),this._location=e}getActionName(){return"SkypeNumberPanelOpened"}getAttributes(){const e=super.getAttributes();return e.Location=s.Location[this._location],e}};t.SkypeNumberPurchaseFlowClick=class extends g{constructor(e,t){super(),this._buttonClicked=e,this._defaultClick=t}getActionName(){return"SkypeNumberPurchaseFlowClick"}getAttributes(){const e=super.getAttributes();return e.ButtonClicked=this._buttonClicked,void 0!==this._defaultClick&&(e.DefaultClick=this._defaultClick),e}};t.SkypeNumberPurchaseFlowOptionClick=class extends g{constructor(e){super(),this._skypeNumberOption=e}getActionName(){return"SkypeNumberPurchaseFlowOptionClick"}getAttributes(){const e=super.getAttributes();return e.SkypeNumberOption=this._skypeNumberOption,e}};t.SkypeNumberPurchaseFlowOptionSelected=class extends g{constructor(e,t,i,o){super(),this._skypeNumberOption=e,this._optionSelectedCountryRegion=t,this._optionSelectedArea=i,this._optionSelectedPrefix=o}getActionName(){return"SkypeNumberPurchaseFlowOptionSelected"}getAttributes(){const e=super.getAttributes();return e.SkypeNumberOption=this._skypeNumberOption,e.OptionSelectedCountryRegion=c.default.toUpper(this._optionSelectedCountryRegion)||"",e.OptionSelectedArea=c.default.toUpper(this._optionSelectedArea)||"",e.OptionSelectedPrefix=this._optionSelectedPrefix||"",e}};t.LoadingFinished=class extends g{constructor(e,t,i,o){super(),this._duration=e,this._location=t,this._closedBeforeLoadingFinished=i,this._isNative=o}getActionName(){return"LoadingFinished"}getAttributes(){const e=super.getAttributes();return e.Duration=this._duration,e.Location=s.Location[this._location],e.ClosedBeforeLoadingFinish=this._closedBeforeLoadingFinished,e.IsNative=this._isNative,e}}},503308:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PressAction=t.PressScenario=void 0;const o=i(197582),n=i(240297),r=o.__importDefault(i(139221));var a;!function(e){e.HubTab="HubTab",e.SearchNavigation="SearchNavigation",e.MeetNow="MeetNow",e.Notification="Notification",e.SearchAccessory="SearchAccessory",e.NavigationHeader="NavigationHeader"}(a||(t.PressScenario=a={}));class s extends n.TelemetryEventBase{constructor(e,t,i){super(),this._scenario=e,this._origin=t,this._destination=i,this._actionStartTime=Date.now()}getEventName(){return"press_action"}getAttributes(){const e=super.getAttributes();return e.Scenario=this._scenario,e.Origin=this._origin,e.TimeGap=this._actionStartTime-r.default.getAppInitTime(),this._destination&&(e.Destination=this._destination),e}}t.PressAction=s},697091:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LandingPageCardClickEvent=t.LandingPageCardShownEvent=t.UserProfileChange=t.LandingPageWithCardsTelemetryEvent=t.CheckAccountSectionUnknownSignId=t.SwitchAccountClicked=t.StartNewConversationClicked=t.LandingPageShown=t.OnboardingActivityDone=t.OnboardingActivityType=t.FinishSetupPromptClicked=t.WelcomeViewWithCardsDisplayed=t.WelcomeViewWithProfileUpdateDisplayed=t.ClickedLearnMoreOnEmptyStateCta=t.DisplayedEmptyStateCta=t.EmptyStateOrigin=t.TutorialLaunched=t.TutorialLaunchOrigin=t.SetupWizardClickedOutside=t.BugReportedInWizard=t.SetupWizardFinished=t.AvatarChanged=t.SwitchWamAccount=t.SetupWizardStarted=t.FailFinishOnboardingEventBase=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(380157),a=o.__importStar(i(516778)),s=i(413686),l=i(815146),c=i(473711),d=i(240297);class u extends d.TelemetryEventBase{constructor(){super(...arguments),this._onboardingTrackingAttributes={}}setOnboardingAttributes(e){this._onboardingTrackingAttributes=e}getOnboardingAttributes(){return this._onboardingTrackingAttributes}getAttributes(){return n.extend({},super.getAttributes(),this.getOnboardingAttributes())}}class p extends u{constructor(e){super(),this._dialogOrigin=e}getEventName(){return"onboarding_setup"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.DialogOrigin=s.DialogNavOrigin[this._dialogOrigin],e}}t.FailFinishOnboardingEventBase=class extends p{constructor(e){super(e)}getActionName(){return"failed"}};t.SetupWizardStarted=class extends p{constructor(e,t,i,o,n,r,a,s){super(e),this._appState=t,this._stringifiedSteps=i,this._notificationsPermission=o,this._cameraPermission=n,this._microphonePermission=r,this._contactsPermission=a,this._scenarioId=s}getActionName(){return"started"}getAttributes(){const e=super.getAttributes();return e.AppState=a.Types.AppActivationState[this._appState],e.StepSequence=this._stringifiedSteps,e.NotificationsPermission=r.PermissionStatus[this._notificationsPermission],e.CameraPermission=r.PermissionStatus[this._cameraPermission],e.MicrophonePermission=r.PermissionStatus[this._microphonePermission],e.ContactsPermission=r.PermissionStatus[this._contactsPermission],e.ScenarioId=this._scenarioId,e}};t.SwitchWamAccount=class extends p{constructor(e,t){super(e),this._loginMethod=t}getActionName(){return"SwitchAccount"}getAttributes(){return n.assign(super.getAttributes(),{LoginMethod:l.LoginMethods[this._loginMethod]})}};t.AvatarChanged=class extends p{constructor(e,t,i,o){super(o),this._success=e,this._avatarChangeType=t,this._durationInMs=i}getActionName(){return"avatar_changed"}getAttributes(){return n.assign(super.getAttributes(),{ChangeType:l.AvatarChangeType[this._avatarChangeType],Success:this._success,Duration:this._durationInMs})}};t.SetupWizardFinished=class extends p{constructor(e,t,i,o,n,r){super(t),this._duration=e,this._firstOccurence=i,this._scenarioId=o,this._success=n,this._stringifiedSteps=r}getActionName(){return"finished"}getAttributes(){const e=super.getAttributes();return e.Duration=this._duration,e.FirstOccurence=this._firstOccurence,e.ScenarioId=this._scenarioId,e.Success=this._success,e.StepSequence=this._stringifiedSteps,e}};t.BugReportedInWizard=class extends p{constructor(e){super(e)}getActionName(){return"bugReportedInWizard"}};t.SetupWizardClickedOutside=class extends p{constructor(e){super(e)}getActionName(){return"clickedOutside"}getAttributes(){return super.getAttributes()}};class g extends d.TelemetryEventBase{constructor(){super(...arguments),this._onboardingTrackingAttributes={}}setOnboardingAttributes(e){this._onboardingTrackingAttributes=e}getOnboardingAttributes(){return this._onboardingTrackingAttributes}getEventName(){return"onboarding_postsetup"}getAttributes(){let e=super.getAttributes();return e=n.merge([],e,this.getOnboardingAttributes()),e}}var h,m,S;!function(e){e[e.LandingScreenStandard=0]="LandingScreenStandard",e[e.LandingScreenForNewUsers=1]="LandingScreenForNewUsers"}(h||(t.TutorialLaunchOrigin=h={}));t.TutorialLaunched=class extends g{constructor(e,t){super(),this._origin=e,this._isRestarted=t}getActionName(){return"tutorialLaunched"}getAttributes(){const e=super.getAttributes();return e.Origin=h[this._origin],e.IsRestarted=this._isRestarted,e}},function(e){e[e.Unknown=0]="Unknown",e[e.NoCalls=1]="NoCalls",e[e.NoRecentConversations=2]="NoRecentConversations"}(m||(t.EmptyStateOrigin=m={}));t.DisplayedEmptyStateCta=class extends g{constructor(e){super(),this._origin=e}getActionName(){return"emptyStateCtaDisplayed"}getAttributes(){return n.assign(super.getAttributes(),{Origin:m[this._origin]})}};t.ClickedLearnMoreOnEmptyStateCta=class extends g{getActionName(){return"clickedLearnMoreOnEmptyStateCta"}};t.WelcomeViewWithProfileUpdateDisplayed=class extends g{getActionName(){return"welcomeViewWithProfileUpdateDisplayed"}};t.WelcomeViewWithCardsDisplayed=class extends g{getActionName(){return"welcomeViewWithCardsDisplayed"}};t.FinishSetupPromptClicked=class extends g{getActionName(){return"finishSetupPromptClicked"}},function(e){e[e.FirstMessageReceived=0]="FirstMessageReceived",e[e.FirstCallAnswered=1]="FirstCallAnswered"}(S||(t.OnboardingActivityType=S={}));t.OnboardingActivityDone=class extends g{constructor(e){super(),this._activityType=e}getActionName(){return"activityDone"}getAttributes(){const e=super.getAttributes();return e.ActivityType=S[this._activityType],e}};class _ extends d.TelemetryEventBase{constructor(){super(...arguments),this._onboardingTrackingAttributes={}}setOnboardingAttributes(e){this._onboardingTrackingAttributes=e}getOnboardingAttributes(){return this._onboardingTrackingAttributes}getEventName(){return"onboarding_homescreen"}getAttributes(){let e=super.getAttributes();return e=n.merge([],e,this.getOnboardingAttributes()),e.Action=this.getActionName(),e}}t.LandingPageShown=class extends _{getActionName(){return"LandingPageShown"}};t.StartNewConversationClicked=class extends _{getActionName(){return"StartNewConversationClicked"}};class f extends _{constructor(e){super(),this._variant=e}getAttributes(){const e=super.getAttributes();return e.Variant=c.OnboardingCheckAccountSectionVariant[this._variant],e}}t.SwitchAccountClicked=class extends f{getActionName(){return"SwitchAccountClick"}};t.CheckAccountSectionUnknownSignId=class extends f{constructor(e,t){super(e),this._originalVariant=t}getActionName(){return"CheckAccountSectionUnknownSignId"}getAttributes(){const e=super.getAttributes();return e.OriginalVariant=c.OnboardingCheckAccountSectionVariant[this._originalVariant],e}};class y extends u{constructor(e){super(),this.props=e}getEventName(){return"onboarding_landing_page_with_cards"}getAttributes(){const e=super.getAttributes();return e.CardName=c.LandingPageCardId[this.props.cardId],this.props.actionPerformed&&(e.ActionPerformed=this.props.actionPerformed),this.props.wasAppUpdated&&(e.WasAppUpdated=this.props.wasAppUpdated),e}}t.LandingPageWithCardsTelemetryEvent=y;t.UserProfileChange=class extends p{constructor(e){super(e.origin),this._props=e}getActionName(){return"user_profile_change"}getAttributes(){const e=super.getAttributes();return this._props.addPhoneNumber&&(e.DidChooseAddPhoneNumber=this._props.addPhoneNumber),this._props.addEmail&&(e.DidChooseAddEmail=this._props.addEmail),e}};t.LandingPageCardShownEvent=class extends y{getAttributes(){const e=super.getAttributes();return e.Action="LandingPageCardShown",e.CardName=c.LandingPageCardId[this.props.cardId],e}};t.LandingPageCardClickEvent=class extends y{getAttributes(){const e=super.getAttributes();return e.Action="LandingPageCardClick",e.CardName=c.LandingPageCardId[this.props.cardId],e}}},941555:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OnboardingUpsellTaskEvent=t.OnboardingUpsellCampignEvent=t.OnboardingUpsellClickEvent=t.OnboardingUpsellViewEvent=t.OnboardingUpsellViewName=void 0;const o=i(240297);var n,r;!function(e){e.Clicked="Clicked",e.Shown="Shown",e.Campaign="RewardsCampaign",e.Task="RewardsTask"}(n||(n={})),function(e){e[e.About=0]="About",e[e.Info=1]="Info",e[e.Disabled=2]="Disabled",e[e.GoButton=3]="GoButton",e[e.ClaimButton=4]="ClaimButton"}(r||(t.OnboardingUpsellViewName=r={}));class a extends o.TelemetryEventBase{constructor(e){super(),this._onboardingTaskType=e}getEventName(){return"onboarding_rewards_upsell"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.TaskType=this._onboardingTaskType,e}}t.OnboardingUpsellViewEvent=class extends a{constructor(e,t){super(e),this._viewName=t}getActionName(){return n.Shown}getAttributes(){const e=super.getAttributes();return e.ViewName=r[this._viewName],e}};t.OnboardingUpsellClickEvent=class extends a{constructor(e,t){super(e),this._viewName=t}getActionName(){return n.Clicked}getAttributes(){const e=super.getAttributes();return e.ViewName=r[this._viewName],e}};t.OnboardingUpsellCampignEvent=class extends a{constructor(e,t,i,o){super(e),this._isFirstRun=t,this._isFromEagle=i,this._onboardingState=o}getActionName(){return n.Campaign}getAttributes(){const e=super.getAttributes();return e.IsFirstRun=this._isFirstRun,e.IsFromEagle=this._isFromEagle,void 0!==this._onboardingState&&(e.OnboardingState=this._onboardingState),e}};t.OnboardingUpsellTaskEvent=class extends a{constructor(e,t,i){super(e),this._completedTask=t,this._inProgress=i}getActionName(){return n.Task}getAttributes(){const e=super.getAttributes();return e.CompletedTask=this._completedTask,e.InProgress=this._inProgress,e}}},693884:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OneDriveAddinLoadEvent=t.OneDriveStoreEvent=t.OneDriveStoreEvents=void 0;const o=i(197582).__importStar(i(496486)),n=i(272626),r=i(740442);var a;!function(e){e[e.OneDriveDriveDetailsReceived=0]="OneDriveDriveDetailsReceived",e[e.OneDriveAllItemsReceived=1]="OneDriveAllItemsReceived",e[e.OneDriveRecentItemsReceived=2]="OneDriveRecentItemsReceived",e[e.OneDriveSearchItemsReceived=3]="OneDriveSearchItemsReceived",e[e.OneDriveExistingShareLinkReceived=4]="OneDriveExistingShareLinkReceived",e[e.OneDriveCreateShareLinkReceived=5]="OneDriveCreateShareLinkReceived"}(a||(t.OneDriveStoreEvents=a={}));class s extends r.IntegrationStoreTelemetryEvent{constructor(e,t,i,o,r){super(n.IntegrationIds.OneDrive,a[e],t,i,o,r)}}t.OneDriveStoreEvent=s;class l extends r.IntegrationActionTelemetryEvent{constructor(e){super(n.IntegrationIds.OneDrive,"OneDriveAddinLoaded"),this._timeToLoad=e}getIntegrationActionAttributes(){return o.merge({LoadDuration:this._timeToLoad},super.getIntegrationActionAttributes())}}t.OneDriveAddinLoadEvent=l},384860:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SmsReceived=t.SmsSendStatus=t.SmsSent=t.SmsDeliveryReportStatus=t.SmsLineSwitcherClick=t.SmsLineSwitcherShown=t.SmsSwitcherTarget=t.SmsSource=t.DestinationType=t.OneWaySmsAction=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(160049)),a=i(240297);var s,l,c,d;!function(e){e[e.SmsLineSwitcherShown=0]="SmsLineSwitcherShown",e[e.SmsDeliveryFailed=1]="SmsDeliveryFailed",e[e.SmsSent=2]="SmsSent",e[e.SmsDeliverySuccess=3]="SmsDeliverySuccess",e[e.SmsCheckedAndSent=4]="SmsCheckedAndSent",e[e.SmsCheckedAndStopped=5]="SmsCheckedAndStopped",e[e.InsufficientFunds=6]="InsufficientFunds",e[e.NumberBlocked=7]="NumberBlocked",e[e.SmsReceived=8]="SmsReceived",e[e.SmsLineSwitcherClick=9]="SmsLineSwitcherClick"}(s||(t.OneWaySmsAction=s={})),function(e){e.Contact="Contact",e.ContactNumber="ContactNumber",e.PhoneNumber="PhoneNumber",e.Unknown="Unknown"}(l||(t.DestinationType=l={})),function(e){e.Skype="Skype",e.Phone="Phone",e.Unknown="Unknown"}(c||(t.SmsSource=c={})),function(e){e[e.Sms=0]="Sms",e[e.Skype=1]="Skype"}(d||(t.SmsSwitcherTarget=d={}));class u extends a.TelemetryEventBase{constructor(e){super(),this._action=e}getAttributes(){const e=super.getAttributes();return e.Action=s[this._action],e}getEventName(){return"messaging_sms"}getOptionalAttributes(e,t,i,o){const n={};return e&&(n.ClientMessageId=e),t&&(n.RequestId=t),i&&(n.DestinationCountry=i),o&&(n.CallerCountry=o),n}}t.SmsLineSwitcherShown=class extends u{constructor(){super(s.SmsLineSwitcherShown),this._wasSmsSent=!1,this._wasSkypeMessageSent=!1,this._switchedToSkype=!1,this._switchedToSms=!1,this._flowId=r.default.getFlowId()}setSmsWasSent(e){this._wasSmsSent=e}setSwitchedToSmsMode(e){this._switchedToSms=e,this._switchedToSkype=!e}setSwitchedToSkype(e){this._switchedToSkype=e,this._switchedToSms=!e}setFlowId(e){this._flowId=e}setSkypeMessageSent(e){this._wasSkypeMessageSent=e}getAttributes(){const e=super.getAttributes();return e.DidSwitchToSms=this._switchedToSms,e.DidSendSMS=this._wasSmsSent,e.DidSwitchToSkype=this._switchedToSkype,e.DidSendSkypeMsg=this._wasSkypeMessageSent,e.FlowId=this._flowId,e}};t.SmsLineSwitcherClick=class extends u{constructor(e){super(s.SmsLineSwitcherClick),this._target=e}getAttributes(){const e=super.getAttributes();return e.Target=d[this._target],e}};t.SmsDeliveryReportStatus=class extends u{constructor(e,t,i,o,n){super(e?s.SmsDeliverySuccess:s.SmsDeliveryFailed),this._deliveryStatus=t,this._clientMessageId=i,this._requestId=o,this._destinationCountry=n,this._flowId=r.default.getFlowId()}getAttributes(){const e={ErrorCategory:this._deliveryStatus.errorCategory,Status:this._deliveryStatus.status,FlowId:this._flowId},t=this.getOptionalAttributes(this._clientMessageId,this._requestId,this._destinationCountry);return n.assign({},super.getAttributes(),e,t)}};t.SmsSent=class extends u{constructor(e,t,i,o,n,a){super(s.SmsSent),this._isValidNumber=e,this._callerIdType=t,this._clientMessageId=i,this._requestId=o,this._destinationCountry=n,this._callerCountry=a,this._flowId=r.default.getFlowId()}getAttributes(){const e={FlowId:this._flowId,CallerIdType:this._callerIdType||"CallerID Off",IsValidNumber:this._isValidNumber},t=this.getOptionalAttributes(this._clientMessageId,this._requestId,this._destinationCountry,this._callerCountry);return n.assign({},super.getAttributes(),e,t)}};t.SmsSendStatus=class extends u{constructor(e,t=l.Unknown){super(e),this._SMSSendStatus=e,this._destinationType=t,this._flowId=r.default.getFlowId()}getAttributes(){return n.assign({},super.getAttributes(),{FlowId:this._flowId,SmsSendStatus:s[this._SMSSendStatus],DestinationType:l[this._destinationType]})}};t.SmsReceived=class extends u{constructor(e=c.Unknown,t,i,o,n){super(s.SmsReceived),this._source=e,this._correlationId=t,this._clientMessageId=i,this._requestId=o,this._destinationCountry=n}getAttributes(){const e={Source:c[this._source],CorrelationId:this._correlationId},t=this.getOptionalAttributes(this._clientMessageId,this._requestId,this._destinationCountry);return n.assign({},super.getAttributes(),e,t)}}},742134:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PSTNCallItemEvent=t.PSTNCallItemTarget=t.PSTNCallItemAction=void 0;const o=i(240297);var n,r;!function(e){e[e.PSTNCallItemShown=0]="PSTNCallItemShown",e[e.PSTNCallItemClick=1]="PSTNCallItemClick"}(n||(t.PSTNCallItemAction=n={})),function(e){e[e.PSTNCallItemTargetCall=1]="PSTNCallItemTargetCall",e[e.PSTNCallItemTargetAddFund=2]="PSTNCallItemTargetAddFund",e[e.PSTNCallItemTargetSms=4]="PSTNCallItemTargetSms",e[e.PSTNCallItemTargetInvite=8]="PSTNCallItemTargetInvite"}(r||(t.PSTNCallItemTarget=r={}));class a extends o.TelemetryEventBase{constructor(e,t,i=!1){super(),this._action=e,this._target=t,this._enableSendSmsButton=i}getEventName(){return"Calling_PSTN_directory_item"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],e.Target=this._target,e.EnableSendSms=this._enableSendSmsButton,e}}t.PSTNCallItemEvent=a},427393:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StartPSTNCallWithInvalidNotificationEvent=t.RenderInvalidNotificationEvent=t.E911BingMapsEvent=t.E911EmergencyContentEvent=t.E911LocationUpdateEvent=t.E911LocationConsentEvent=t.E911AcknowledgementEvent=t.TasterImageShown=t.DefaultCountryStored=t.ContactSelected=t.SaveContactDialpadFlowStep=t.DialerPanelComponentClick=t.EmergencyCallDefaultCountryChanged=t.EmergencyCallFailed=t.EmergencyCall=t.EmergencyNumber=t.StartCall=t.PasteNumber=t.NavigateToDialpad=t.SaveContactFlowStep=t.DialerPanelClickTarget=void 0;const o=i(197582),n=i(815146),r=o.__importDefault(i(139221)),a=i(240297);var s,l;!function(e){e[e.ContactsIcon=0]="ContactsIcon",e[e.SettingsButton=1]="SettingsButton",e[e.CallButton=2]="CallButton",e[e.SmsButton=3]="SmsButton",e[e.SaveContactButton=4]="SaveContactButton"}(s||(t.DialerPanelClickTarget=s={})),function(e){e[e.SaveContactButtonShow=0]="SaveContactButtonShow",e[e.SaveContactSuceeded=1]="SaveContactSuceeded",e[e.SaveContactCancelled=2]="SaveContactCancelled"}(l||(t.SaveContactFlowStep=l={}));class c extends a.TelemetryEventBase{getEventName(){return"s4l_dialpad"}getAriaTenantTokenOverride(){return r.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.NavigateToDialpad=class extends c{constructor(e,t=!1,i=!1){super(),this._navigationSource=e,this._usePrefilledNumber=t,this._smsNewEntry=i}getActionName(){return"NavigateToDialpad"}getAttributes(){const e=super.getAttributes();return e.NavigationSource=n.DialerNavigationSource[this._navigationSource],e.UsePrefilledNumber=this._usePrefilledNumber,e.SmsNewEntry=this._smsNewEntry,e}};t.PasteNumber=class extends c{getActionName(){return"PasteNumber"}};t.StartCall=class extends c{constructor(e){super(),this._phoneNumberOrigin=e}getActionName(){return"StartCall"}getAttributes(){const e=super.getAttributes();return e.PhoneNumberOrigin=this._phoneNumberOrigin,e}};t.EmergencyNumber=class extends c{getActionName(){return"EmergencyNumber"}};t.EmergencyCall=class extends c{getActionName(){return"EmergencyCall"}};t.EmergencyCallFailed=class extends c{getActionName(){return"EmergencyCallFailed"}};t.EmergencyCallDefaultCountryChanged=class extends c{constructor(e){super(),this._country=e}getActionName(){return"EmergencyCallDefaultCountryChanged"}getAttributes(){const e=super.getAttributes();return e.Country=this._country,e}};t.DialerPanelComponentClick=class extends c{constructor(e,t,i=!1,o=!1){super(),this._target=e,this._userEntitlementsSummary=t,this._smsNewEntry=i,this._willGoToCallerIdWarning=o}getActionName(){return"DialerPanelComponentClick"}getAttributes(){const e=super.getAttributes();return e.Target=s[this._target],this._userEntitlementsSummary&&(e.UserEntitlementsSummary=this._userEntitlementsSummary),e.SmsNewEntry=this._smsNewEntry,e.WillGoToCallerIdWarning=this._willGoToCallerIdWarning,e}};t.SaveContactDialpadFlowStep=class extends c{constructor(e){super(),this._step=e}getActionName(){return l[this._step]}};t.ContactSelected=class extends c{constructor(e){super(),this._inputLength=e}getActionName(){return"ContactSelected"}getAttributes(){const e=super.getAttributes();return e.InputLength=this._inputLength,e}};t.DefaultCountryStored=class extends c{constructor(e,t){super(),this._countryOld=e,this._countryNew=t}getActionName(){return"DefaultCountryStored"}getAttributes(){const e=super.getAttributes();return e.CountryOld=this._countryOld,e.CountryNew=this._countryNew,e}};t.TasterImageShown=class extends c{getActionName(){return"TasterImageShown"}};t.E911AcknowledgementEvent=class extends c{getActionName(){return"E911Acknowledgement"}};t.E911LocationConsentEvent=class extends c{constructor(e){super(),this._isGranted=e}getActionName(){return"E911LocationConsent"}getAttributes(){const e=super.getAttributes();return e.IsGranted=this._isGranted,e}};t.E911LocationUpdateEvent=class extends c{getActionName(){return"E911LocationUpdate"}};t.E911EmergencyContentEvent=class extends c{getActionName(){return"E911EmergencyContent"}};t.E911BingMapsEvent=class extends c{constructor(e){super(),this._statusCode=e}getActionName(){return"E911BingMaps"}getAttributes(){const e=super.getAttributes();return e.StatusCode=this._statusCode,e}};t.RenderInvalidNotificationEvent=class extends c{constructor(e,t,i){super(),this._showInvalidNumberNote=e,this._showInvalidNoteBeforeStartCall=t,this._openedOnInvalidNumberError=i}getActionName(){return"RenderInvalidNotification"}getAttributes(){const e=super.getAttributes();return e.ShowInvalidNumberNote=this._showInvalidNumberNote,e.ShowInvalidNoteBeforeStartCall=this._showInvalidNoteBeforeStartCall,e.OpenedOnInvalidNumberError=this._openedOnInvalidNumberError,e}};t.StartPSTNCallWithInvalidNotificationEvent=class extends c{constructor(e){super(),this._causeId=e}getActionName(){return"StartPSTNCallWithInvalidNotification"}getAttributes(){const e=super.getAttributes();return e.CauseId=this._causeId,e}}},414838:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SkypeStartPayment=t.SkypeOrderCreateSuccess=t.SendCreditEvent=t.SendCreditStep=t.NativeProductFetch=t.PurchaseConfirmationDialogClick=t.PurchaseConfirmationDialog=t.SkypeNumberPurchase=t.SubscriptionPurchase=t.Purchase=t.PurchaseStep=t.GPlayStep=t.SkypePhonePaymentStep=t.CreditPaymentStep=t.PaymentStep=t.GooglePayStep=t.GPayStep=t.PurchaseFlowStep=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(815146),a=o.__importDefault(i(655192)),s=o.__importDefault(i(139221)),l=i(240297),c=i(230667);var d,u,p;!function(e){e.ShowFreeTrial="show_free_trial",e.ClickFreeTrial="click_free_trial"}(d||(t.PurchaseFlowStep=d={}));class g extends l.TelemetryEventBase{getEventName(){return"s4l_payments"}getAriaTenantTokenOverride(){return s.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.StartOrderSessionId=c.paymentStepTracker.getTraceId(),e}}!function(e){e.IsReady="isReady",e.NotReady="notReady",e.RequestPaymentSuccess="requestPaymentSuccess",e.RequestPaymentFail="requestPaymentFail"}(u||(t.GPayStep=u={}));t.GooglePayStep=class extends g{constructor(e,t,i){super(),this._props={},this._props.step=e,this._props.errorCode=null!=t?t:"",this._props.errorMessage=null!=i?i:""}getActionName(){return"gpay_step"}getAttributes(){return n.assign(super.getAttributes(),this._props)}};class h extends g{constructor(e,t={},i,o){super(),this._props=t,this._props.step=e,this._props.OrderId=i||"",this._props.SkuId=o||"",e===r.PaymentFlowStep.ShowPanel&&c.paymentStepTracker.createTraceId()}getActionName(){return"payment_step"}getAttributes(){return n.assign(super.getAttributes(),this._props)}}t.PaymentStep=h;t.CreditPaymentStep=class extends g{constructor(e,t={},i,o){super(),this._props=t,this._props.step=e,this._props.OrderId=i||"",this._props.SkuId=o||""}getActionName(){return"credit_payment_step"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),this._props)}};t.SkypePhonePaymentStep=class extends g{constructor(e,t={},i,o){super(),this._props=t,this._props.step=e,this._props.OrderId=i||"",this._props.SkuId=o||""}getActionName(){return"skypetophone_payment_step"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),this._props)}};t.GPlayStep=class extends h{constructor(e,t={}){super(e,t)}getActionName(){return"gplay_step"}getAttributes(){return super.getAttributes()}};t.PurchaseStep=class extends g{constructor(e,t={}){super(),this._props=t,this._props.step=e}getActionName(){return"purchase_step"}getAttributes(){return n.assign(super.getAttributes(),this._props)}};class m extends g{constructor(e,t,i,o,n,r,a,s){super(),this._timeSpent=e,this._buttonType=t,this._isNative=i,this._product=o,this._productCurrency=n,this._appStoreCountry=r,this._offerId=a,this._skuId=s}getActionName(){return"buy_credit_click"}getAttributes(){const e=super.getAttributes();return e.TimeSpent=this._timeSpent/1e3,e.ButtonType=this._buttonType,e.IsNative=this._isNative,e.Product=this._product,e.ProductCurrency=this._productCurrency||"",e.AppStoreCountry=this._appStoreCountry||"",e.OfferId=this._offerId||"",e.SkuId=this._skuId||"",e}}t.Purchase=m;t.SubscriptionPurchase=class extends m{getActionName(){return"buy_subscription_click"}};t.SkypeNumberPurchase=class extends m{constructor(e,t,i,o,n,r,a,s,l){super(e,t,i,o,n,r),this._snCountryRegion=a,this._snArea=s,this._snPrefix=l}getActionName(){return"buy_skypenumber_click"}getAttributes(){const e=super.getAttributes();return e.CountryRegion=a.default.toUpper(this._snCountryRegion)||"",e.Area=a.default.toUpper(this._snArea)||"",e.Prefix=this._snPrefix||"",e}};class S extends g{constructor(e){super(),this.payload=e}getActionName(){return"purchase_dialog_open"}getAttributes(){const e=super.getAttributes();return e.DialogId=this.payload.dialogId,this.payload.productId&&(e.product_id=this.payload.productId),e}}t.PurchaseConfirmationDialog=S;t.PurchaseConfirmationDialogClick=class extends S{constructor(e){super(e),this.payload=e}getActionName(){return"purchase_dialog_click"}getAttributes(){const e=super.getAttributes();return e.ConfirmationDuration=this.payload.confirmationDuration/1e3,e.ButtonType=this.payload.buttonType,e}};t.NativeProductFetch=class extends g{constructor(e,t,i){super(),this._duration=e,this._isSuccess=t,this._error=i}getActionName(){return"fetch_native_product"}getAttributes(){const e=super.getAttributes();return e.Duration=this._duration,e.IsSuccess=this._isSuccess,this._error&&(e.Error=this._error),e}},function(e){e[e.ChatClick=0]="ChatClick",e[e.EligibilityConfirm=1]="EligibilityConfirm",e[e.Submit=2]="Submit",e[e.Confirm=3]="Confirm",e[e.Message=4]="Message",e[e.SkypeToPhoneSendClick=5]="SkypeToPhoneSendClick",e[e.ChooseRecipient=6]="ChooseRecipient",e[e.Deeplink=7]="Deeplink"}(p||(t.SendCreditStep=p={}));t.SendCreditEvent=class extends g{constructor(e,t,i){super(),this._step=e,this._denominationId=t,this._cardId=i}getActionName(){return"send_credit"}getAttributes(){const e=super.getAttributes();return e.Step=p[this._step],void 0!==this._denominationId&&(e.DenominationId=this._denominationId),void 0!==this._cardId&&(e.CardId=this._cardId),e}};t.SkypeOrderCreateSuccess=class extends g{constructor(e,t){super(),this._order=e,this._orderId=t}getActionName(){return"skype_order_create_success"}getAttributes(){const e=super.getAttributes();return e.Order=this._order,e.OrderId=this._orderId,e}};t.SkypeStartPayment=class extends g{constructor(){super()}getActionName(){return"skype_start_payment"}getAttributes(){return super.getAttributes()}}},230667:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.paymentStepTracker=void 0;const o=i(197582).__importDefault(i(760989));t.paymentStepTracker=new class{constructor(){this._paymentTraceId=""}getTraceId(){return""===this._paymentTraceId&&this.createTraceId(),this._paymentTraceId}createTraceId(){this._paymentTraceId=o.default.newGuid()}clearTraceId(){this._paymentTraceId=""}}},310646:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PeopleYouMayKnowNoticeDialogEvent=t.SyncAddressBookDialogEvent=void 0;const o=i(197582).__importStar(i(496486)),n=i(967338);class r extends n.OnboardingDialogEvent{constructor(){super(...arguments),this._didPressNextOnValueProp=!1,this._didHavePermission=!1,this._didPromptBefore=!1,this._didRequestPermission=!1,this._didGrantPermission=!1,this._didStartSync=!1,this._didVisitPrivacyStatement=!1,this._didSeeLearnMoreButton=!1,this._didVisitLearnMorePopup=!1}getEventName(){return"people_syncAddressBookDialog"}markDidPressNextOnValueProp(){this._didPressNextOnValueProp=!0}setInitialPermission(e){this._didHavePermission=e}setDidPromptBefore(e){this._didPromptBefore=e}markDidRequestPermission(){this._didRequestPermission=!0}setDidGrantPermission(e){this._didGrantPermission=e}markDidStartSync(){this._didStartSync=!0}markDidVisitPrivacyStatement(){this._didVisitPrivacyStatement=!0}markDidSeeLearnMoreButton(){this._didSeeLearnMoreButton=!0}markDidVisitLearnMorePopup(){this._didVisitLearnMorePopup=!0}getAttributes(){return o.extend({},super.getAttributes(),this.getOnboardingAttributes(),{DidPressNextOnValueProp:this._didPressNextOnValueProp,DidHavePermission:this._didHavePermission,DidPromptBefore:this._didPromptBefore,DidRequestPermission:this._didRequestPermission,DidGrantPermission:this._didGrantPermission,DidStartSync:this._didStartSync,DidVisitPrivacyStatement:this._didVisitPrivacyStatement,DidSeeLearnMoreButton:this._didSeeLearnMoreButton,DidVisitLearnMorePopup:this._didVisitLearnMorePopup})}}t.SyncAddressBookDialogEvent=r;class a extends n.OnboardingDialogEvent{constructor(){super(...arguments),this._didVisitPrivacyStatement=!1}getEventName(){return"people_peopleyoumayknownoticedialog"}markDidVisitPrivacyStatement(){this._didVisitPrivacyStatement=!0}getAttributes(){return o.assign(super.getAttributes(),{DidVisitPrivacyStatement:this._didVisitPrivacyStatement})}}t.PeopleYouMayKnowNoticeDialogEvent=a},352549:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScenarioName=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=(o.__importStar(i(516778)),o.__importDefault(i(659938)),i(815146)),a=o.__importStar(i(85385)),s=i(96575);Object.defineProperty(t,"ScenarioName",{enumerable:!0,get:function(){return s.ScenarioName}});const l=o.__importDefault(i(601274)),c=o.__importDefault(i(760989));class d{constructor(e,t,i={},o=void 0){this._properties=i,this._experimentConfigIds=o,this._totalDuration=0,this._isResolved=!1,this._isInvalidated=!1,this._isInterrupted=!1,this._timePassedTillInterruption=0,this._markedSteps=[],this._secondaryScenarios={},this._duplicateStepMarking=!1,this._scenarioName=s.ScenarioName[e],this.reset(t)}setScenarioTimeout(e,t=5e3){this._timeoutTimerId=l.default.setTimeout((()=>{this._timeoutTimerId=void 0;e()&&this.fail("timeout")}),t)}reset(e){this._cleanup(),this._scenarioId=e||c.default.newGuid(),this._lastAutomaticTimestamp=void 0,this._totalDuration=0,this._isResolved=!1,this._isInvalidated=!1,this._markedSteps=[],this._secondaryScenarios={}}_cleanup(){this._cleanupScenarioTimeout(),this._appStateSub&&(this._appStateSub.unsubscribe(),this._appStateSub=void 0)}_cleanupScenarioTimeout(){this._timeoutTimerId&&(l.default.clearTimeout(this._timeoutTimerId),this._timeoutTimerId=void 0)}invalidateWhenBackgrounded(){}hasStarted(){return void 0!==this._lastAutomaticTimestamp}getCurrentDuration(){return void 0===this._lastAutomaticTimestamp?0:this._totalDuration+(Date.now()-this._lastAutomaticTimestamp)}getLastAutomaticTimestamp(){return this._lastAutomaticTimestamp}getTotalDuration(){var e;if(this._isResolved)return null===(e=n.last(this._markedSteps))||void 0===e?void 0:e.totalDuration}getIsInitialConnectivityGood(){var e;return null===(e=this._markedSteps[0])||void 0===e?void 0:e.isConnectionGood}getScenarioName(){return this._scenarioName}isStepMarked(e){return n.some(this._markedSteps,(t=>t.name===e))}start(e,t){this._isResolved||this._markStep("started",e,0,!1,!1,!1,t)}resume(e){this._isResolved||(this._lastAutomaticTimestamp=e)}markStepCompleted(e,t,i,o=!1){this._isInvalidated||this._markStep(e,t,i,o,!1,!1)}markPerfTargetStepCompleted(e,t,i){this._isInvalidated||this._markStep(e,t,i,!1,!0,!1)}_markStep(e,t,i,o,r,a,s){const l=Date.now(),c=void 0===i?l-this._lastAutomaticTimestamp:i;this._totalDuration+=c,this._lastAutomaticTimestamp=void 0===s?l:s,this._markedSteps.push({name:e,stepDuration:c,totalDuration:this._totalDuration,timestamp:this._lastAutomaticTimestamp,isTraceOnly:o,isTarget:r,isFinal:a,isConnectionGood:null==t?void 0:t.confirmedGoodConnection}),o||(n.assign(this._properties,t),a||(this._properties["step_name_"+e.toLowerCase()]=c))}finish(e,t,i){this._isInvalidated||this._reportFinalEvent("finished",e,t,i)}fail(e,t){if(this._isInvalidated)return;const i=n.clone(t)||{};i.error_description=e||"",this._reportFinalEvent("failed",i)}invalidate(e){e&&this._reportFinalEvent(e),this._cleanup(),this._isInvalidated=!0}markInterrupted(e){this._isInterrupted=!0,this._timePassedTillInterruption=e}setDuplicateStepMarkingEnabled(e=!0){this._duplicateStepMarking=e}_reportFinalEvent(e,t,i,o){if(this._isResolved)return;const s=n.some(this._markedSteps,(e=>e.isTarget));if(this._markStep(e,t,i,!1,!s,!0),this._cleanup(),this._isResolved=!0,!o&&a.isTraceEnabled(r.LogTraceArea.ScenarioTracker)){const e=n.last(this._markedSteps),t=e?e.totalDuration:0,i="Id: "+this._scenarioId+"; Name: "+this._scenarioName+"\n"+n.map(this._properties,((e,t)=>`\tContext_${t}: ${e}\n`)).join("")+n.map(this._markedSteps,(e=>`\tPERF_${this._scenarioName}_${e.name} : ${e.stepDuration} ms | ${e.totalDuration} ms`+(e.isTarget?" (TARGET)":"")+"\n")).join("")+`\tPERF_${this._scenarioName}_Total : ${t} ms`;a.log(r.LogTraceArea.ScenarioTracker,i)}}renameScenario(e){this._scenarioName=s.ScenarioName[e]}spawnSecondaryScenario(e,t){this._checkSecondaryScenario(e);const i=new d(e,this._scenarioId,void 0,void 0);return t&&i.setScenarioTimeout((()=>!0),t),this._secondaryScenarios[s.ScenarioName[e]]=i,i}getSecondaryScenario(e){return this._checkSecondaryScenario(e),this._secondaryScenarios[s.ScenarioName[e]]}_checkSecondaryScenario(e){const t=this._secondaryScenarios[s.ScenarioName[e]];t&&t._isResolved&&delete this._secondaryScenarios[s.ScenarioName[e]]}isResolved(){return this._isResolved}isInvalidated(){return this._isInvalidated}isInterrupted(){return this._isInterrupted}getTimePassedTillInterruption(){return this._timePassedTillInterruption}hasUnresolvedSecondaryScenarios(){return!n.isEmpty(this._secondaryScenarios)}}t.default=d},306194:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationLoadingPerf=t.SendTextMessageUI=t.SearchPerformanceTelemetryEvent=t.PeopleRecommendationsFetched=t.ComposerEmoticonLoaded=t.CompositeSearch=t.CompositeSearchOrigin=t.SearchRequestResultsRendered=t.SearchRequestResultsNotReceived=t.SearchRequestResultsReceived=t.SearchRequestCallSent=t.SearchRequestBase=t.ScenarioSearchTypes=t.AdditionalLoading=t.LocalAddressBookFinishedProcessing=t.LocalAddressBookCalculatedAllHashes=t.LocalAddressBookGotLocalContacts=t.ContactsPanelV2FullyRendered=t.ContactsPanelAllContactsZeroTermResultsRendered=t.ContactsPanelLocalContactsZeroTermResultsRendered=t.ContactsPanelActiveNowZeroTermResultsRendered=t.ContactsPanelSkypeZeroTermResultsRendered=t.ContactsPanelPeopleZeroTermResultsRendered=t.ContactsPanelRendered=t.SearchPanelZeroTermResultsRendered=t.SearchPanelRendered=t.PerfPictureViewerFullLoaded=t.PerfPictureViewerThumbLoaded=t.PerfCameraPhoto=t.PerfRecentRendered=t.PerfStartupPhase=t.PerfEventBase=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(636076),a=i(240297),s=o.__importDefault(i(760989)),l=i(815146),c=o.__importDefault(i(139221)),d=i(425495),u=o.__importStar(i(340482)),p=o.__importDefault(i(434343));class g extends d.PriorityTelemetryEventBase{constructor(e,t){super(),this._durationInMs=e,this._isStackMode=t}shouldSend(){if(c.default.isRunningInBackgroundTokenRefreshMode())return!1;const e=a.SampledPerfEvents[this.getScenarioName()];return!n.isNumber(e)||s.default.sampleForPercentage(e)}getEventName(){return"perf"}getAttributes(){const e=super.getAttributes();return e.Scenario=this.getScenarioName(),e.Duration=this._durationInMs||"",e.DisplayMode=this._isStackMode?"Stack":"Composite",e.DalProviderName=p.default.getProviderName()||"",e}getEventPriority(){return r.AWTEventPriority.High}}t.PerfEventBase=g;class h extends g{constructor(e,t,i,o){super(t,!1),this._phase=e,this._durationInMsSincePreviousPhase=i,this._durationInMsSinceForegrounded=o}shouldSend(){return n.isUndefined(h._shouldSend)&&(h._shouldSend=super.shouldSend()),h._shouldSend}getScenarioName(){return"StartupPerfPhase"+this._phase}getAttributes(){const e=super.getAttributes();return e.DurationSinceForegrounded=n.isUndefined(this._durationInMsSinceForegrounded)?-1:this._durationInMsSinceForegrounded,e.DurationSincePreviousPhase=this._durationInMsSincePreviousPhase,e}}t.PerfStartupPhase=h,h._shouldSend=void 0;t.PerfRecentRendered=class extends g{constructor(e,t){super(e,!1),this._appLaunchedFromBackground=t}getScenarioName(){return"RecentRendered"}getAttributes(){const e=super.getAttributes();return e.AppLaunchedFromBackground=this._appLaunchedFromBackground,e}};t.PerfCameraPhoto=class extends g{getScenarioName(){return"CameraPhoto"}};t.PerfPictureViewerThumbLoaded=class extends g{getScenarioName(){return"PictureViewerThumbLoaded"}};t.PerfPictureViewerFullLoaded=class extends g{getScenarioName(){return"PictureViewerFullLoaded"}};t.SearchPanelRendered=class extends g{getScenarioName(){return"SearchPanelRendered"}};t.SearchPanelZeroTermResultsRendered=class extends g{getScenarioName(){return"SearchPanelZeroTermResultsRendered"}};t.ContactsPanelRendered=class extends g{getScenarioName(){return"ContactsPanelRendered"}};t.ContactsPanelPeopleZeroTermResultsRendered=class extends g{getScenarioName(){return"ContactsPanelPeopleZeroTermResultsRendered"}};t.ContactsPanelSkypeZeroTermResultsRendered=class extends g{getScenarioName(){return"ContactsPanelSkypeZeroTermResultsRendered"}};t.ContactsPanelActiveNowZeroTermResultsRendered=class extends g{getScenarioName(){return"ContactsPanelActiveNowZeroTermResultsRendered"}};t.ContactsPanelLocalContactsZeroTermResultsRendered=class extends g{getScenarioName(){return"ContactsPanelActiveNowZeroTermResultsRendered"}};t.ContactsPanelAllContactsZeroTermResultsRendered=class extends g{getScenarioName(){return"ContactsPanelAllContactsZeroTermResultsRendered"}};t.ContactsPanelV2FullyRendered=class extends g{constructor(e,t,i,o,n){super(e,t),this._initialTab=i,this._hasSyncedContacts=o,this._isActiveNowFilterSelected=n}getScenarioName(){return"ContactsPanelV2FullyRendered"}getAttributes(){const e=super.getAttributes();return e.InitialTab=this._initialTab,e.HasSyncedContacts=this._hasSyncedContacts,e.IsActiveNowFilterSelected=this._isActiveNowFilterSelected,e}};t.LocalAddressBookGotLocalContacts=class extends g{constructor(e,t,i,o){super(e,t),this._numLocalContacts=i,this._isInitialSync=o}getScenarioName(){return"LocalAddressBookGotLocalContacts"}getAttributes(){const e=super.getAttributes();return e.NumLocalContacts=this._numLocalContacts,e.IsInitialSync=this._isInitialSync,e}};t.LocalAddressBookCalculatedAllHashes=class extends g{getScenarioName(){return"LocalAddressBookCalculatedAllHashes"}};var m,S,_;function f(e){switch(e){case S.PublicDirectory:return"PublicDirectoryService";case S.Message:return"MessageSearchService";case S.IndexedDB:return"IndexedDbSearch";case S.Bots:return"BotsSearchService";case S.AllPeople:return"AllPeopleSearch";case S.FastContacts:return"FastContactsSearch";case S.MessageInConversation:return"MessageSearchService";default:s.default.switchStatementExhaustiveChecking(e)}}t.LocalAddressBookFinishedProcessing=class extends g{getScenarioName(){return"LocalAddressBookFinishedProcessing"}},function(e){e[e.None=0]="None",e[e.IndexedDB=1]="IndexedDB",e[e.ChatService=2]="ChatService"}(m||(t.AdditionalLoading=m={})),function(e){e[e.PublicDirectory=0]="PublicDirectory",e[e.Message=1]="Message",e[e.IndexedDB=2]="IndexedDB",e[e.Bots=3]="Bots",e[e.AllPeople=4]="AllPeople",e[e.FastContacts=5]="FastContacts",e[e.MessageInConversation=6]="MessageInConversation"}(S||(t.ScenarioSearchTypes=S={}));class y extends g{constructor(e,t,i){super(e.durationInMs,e.isStackMode),this._messageProps=i,this._perfEventBaseProps=e}getAttributes(){const e=super.getAttributes();return e.IsZeroTermSearch=this._perfEventBaseProps.isZeroTermSearch,n.isUndefined(this._messageProps)||(e.Endpoint=this._messageProps.endpoint,e.SearchLimit=this._messageProps.searchLimit),e}}t.SearchRequestBase=y;t.SearchRequestCallSent=class extends y{constructor(e,t,i){super(e,t,i),this._scenarioName=f(t)+"CallSent"}getScenarioName(){return this._scenarioName}};t.SearchRequestResultsReceived=class extends y{constructor(e,t,i){super(e,t,i),this._scenarioName=f(t)+"ResultsReceived"}getScenarioName(){return this._scenarioName}};t.SearchRequestResultsNotReceived=class extends y{constructor(e,t,i){super(e,t,i),this._scenarioName=f(t)+"ResultsNotReceived",this._searchResultsNotReceivedBaseProps=e}getScenarioName(){return this._scenarioName}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this._searchResultsNotReceivedBaseProps.errorCode,e.ErrorMessage=this._searchResultsNotReceivedBaseProps.errorMessage,e.WasNetworkAvailable=this._searchResultsNotReceivedBaseProps.wasNetworkAvailable,e}};t.SearchRequestResultsRendered=class extends y{constructor(e,t,i,o){super(e,t,i),this._additionalLoading=o,this._scenarioName=f(t)+"ResultsRendered"}getScenarioName(){return this._scenarioName}getAttributes(){const e=super.getAttributes();return n.isUndefined(this._additionalLoading)||(e.AdditionalLoading=m[this._additionalLoading]),e}},function(e){e[e.SearchResultsList=0]="SearchResultsList",e[e.Dialpad=1]="Dialpad",e[e.SearchInConversationPanel=2]="SearchInConversationPanel"}(_||(t.CompositeSearchOrigin=_={}));t.CompositeSearch=class extends g{constructor(e,t,i,o,n,r,a,s,l,c,d,u,p,g){super(e,t),this._origin=i,this._searchResultsListOrigin=o,this._zeroTerm=n,this._additionalLoading=r,this._requestStepDuration=a,this._publicDirectoryRequestDuration=s,this._messageRequestDuration=l,this._indexedDbRequestDuration=c,this._botsRequestDuration=d,this._allPeopleRequestDuration=u,this._fastContactsRequestDuration=p,this._messageInConversationRequestDuration=g}getScenarioName(){return"CompositeSearch"}getAttributes(){const e=super.getAttributes();return e.Origin=_[this._origin],n.isUndefined(this._searchResultsListOrigin)||(e.SearchResultsListOrigin=l.SearchResultsListOrigin[this._searchResultsListOrigin]),e.IsZeroTermSearch=this._zeroTerm,n.isUndefined(this._additionalLoading)||(e.AdditionalLoading=m[this._additionalLoading]),n.isUndefined(this._requestStepDuration)||(e.RequestStepDuration=this._requestStepDuration),n.isUndefined(this._publicDirectoryRequestDuration)||(e.PublicDirectoryRequestDuration=this._publicDirectoryRequestDuration),n.isUndefined(this._messageRequestDuration)||(e.MessageRequestDuration=this._messageRequestDuration),n.isUndefined(this._indexedDbRequestDuration)||(e.IndexedDbRequestDuration=this._indexedDbRequestDuration),n.isUndefined(this._botsRequestDuration)||(e.BotsRequestDuration=this._botsRequestDuration),n.isUndefined(this._allPeopleRequestDuration)||(e.AllPeopleRequestDuration=this._allPeopleRequestDuration),n.isUndefined(this._fastContactsRequestDuration)||(e.FastContactsRequestDuration=this._fastContactsRequestDuration),n.isUndefined(this._messageInConversationRequestDuration)||(e.MessageInConversationRequestDuration=this._messageInConversationRequestDuration),e}};t.ComposerEmoticonLoaded=class extends g{getScenarioName(){return"ComposerEmoticonLoaded"}};t.PeopleRecommendationsFetched=class extends g{constructor(e,t,i,o,n,r){super(e,!1),this._requestId=t,this._successful=i,this._count=o,this._statusCode=n,this._error=r}getScenarioName(){return"PeopleRecommendationsFetched"}getAttributes(){const e=super.getAttributes();return e.RequestId=this._requestId,e.Successful=this._successful,e.StatusCode=this._statusCode?this._statusCode:-1,e.Count=this._count?this._count:-1,e.Error=this._error||"",e}};t.SearchPerformanceTelemetryEvent=class extends g{constructor(e,t,i){super(e,t),this._queryLength=i}getScenarioName(){return"SearchPerformance"}getAttributes(){const e=super.getAttributes();return e.QueryLength=this._queryLength,e}};t.SendTextMessageUI=class extends g{constructor(e,t,i,o,n,r,a){super(e,t),this._confirmedGoodConnection=i,this._interrupted=o,this._timeTillInterruption=n,this._messageCorrelationId=r,this._cmid=a}getScenarioName(){return"SendTextMessageUI"}shouldSend(){if(!this._cmid)return!1;const e=a.TelemetryConfig.SendTextMessageUI;return u.shouldTrackMessage(this._cmid,e)}getAttributes(){const e=super.getAttributes();return e.ConfirmedGoodConnection=this._confirmedGoodConnection,e.MessageCorrelationId=this._messageCorrelationId,e.Interrupted=this._interrupted,e.TimeTillInterruption=this._timeTillInterruption,e}};t.ConversationLoadingPerf=class extends g{constructor(e,t,i,o){super(e,t),this._confirmedGoodConnection=i,this._interrupted=o}getScenarioName(){return"ConversationLoadingPerf"}getAttributes(){const e=super.getAttributes();return e.ConfirmedGoodConnection=this._confirmedGoodConnection,e.Interrupted=this._interrupted,e}}},206525:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PerfTelemetryScenario=void 0,t.pictureViewerWillOpen=function(){d.endScenario(),d.startScenario()},t.pictureViewerOpening=function(e){if(d.getIdentifier())return;d.setIdentifier(e)},t.pictureViewerThumbnailLoaded=function(e){if(!d.isTrackingIdentifier(e))return;r.track(new l.PerfPictureViewerThumbLoaded(d.getCurrentDuration(),a.default.isUsingStackNavigationContext()))},t.pictureViewerFullLoaded=function(e){if(!d.isTrackingIdentifier(e))return;r.track(new l.PerfPictureViewerFullLoaded(d.getCurrentDuration(),a.default.isUsingStackNavigationContext()))},t.contactsPanelWillOpen=function(){u.endScenario(),u.startScenario()},t.contactsPanelOpening=function(e){if(u.getIdentifier())return;u.setIdentifier(e)},t.contactsPanelIsRendered=function(e){if(!u.isTrackingIdentifier(e)||u.isResolved())return;u.markStepCompleted("PanelVisible"),r.track(new l.ContactsPanelRendered(u.getCurrentDuration(),a.default.isUsingStackNavigationContext()))},t.contactsPanelPeopleZeroTermResultsRendered=function(e){if(!u.isTrackingIdentifier(e))return;u.markStepCompleted("ZeroTermResultsRendered"),u.finish(),r.track(new l.ContactsPanelPeopleZeroTermResultsRendered(u.getCurrentDuration(),a.default.isUsingStackNavigationContext()))},t.contactsPanelSkypeZeroTermResultsRendered=function(e){if(!u.isTrackingIdentifier(e))return;r.track(new l.ContactsPanelSkypeZeroTermResultsRendered(u.getCurrentDuration(),a.default.isUsingStackNavigationContext()))},t.contactsPanelActiveNowZeroTermResultsRendered=function(e){if(!u.isTrackingIdentifier(e))return;r.track(new l.ContactsPanelActiveNowZeroTermResultsRendered(u.getCurrentDuration(),a.default.isUsingStackNavigationContext()))},t.contactsPanelV2FullyRendered=function(e,t,i,o){if(!u.isTrackingIdentifier(e))return;r.track(new l.ContactsPanelV2FullyRendered(u.getCurrentDuration(),a.default.isUsingStackNavigationContext(),t,i,o))};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(85385)),a=o.__importDefault(i(942724)),s=o.__importStar(i(352549)),l=o.__importStar(i(306194));class c extends s.default{constructor(){super(s.ScenarioName.PerfTelemetryScenario)}endScenario(){return this.hasStarted()&&this.finish(void 0,void 0,!0),this._lastRunSteps=[...this._markedSteps],this.reset()}startScenario(){return this.start()}setIdentifier(e){this._objectId=e}getIdentifier(){return this._objectId}isEventValid(){return this.hasStarted()&&void 0!==this._objectId}isTrackingIdentifier(e){return!!e&&this.isEventValid()&&this._objectId===e}getStepTimestamp(e){return n.isUndefined(this._lastRunSteps)?-1:this._lastRunSteps[e].timestamp}getNumberOfSteps(){return n.isUndefined(this._lastRunSteps)?-1:this._lastRunSteps.length}markCallSent(){this.markStepCompleted("callSent")}markResultsReceived(){this.markStepCompleted("resultsReceived")}markResultsNotReceived(){this.markStepCompleted("resultsNotReceived")}}t.PerfTelemetryScenario=c;const d=new c;const u=new c},735711:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CallPerformanceEvent=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297),r=i(935086);class a extends n.TelemetryEventBase{getEventName(){return"s4l_performance"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.CallPerformanceEvent=class extends a{constructor(e,t,i,o){super(),this._callId=e,this._cpuspeed=t,this._cpumodel=i,this._cores=o,this._processMemory=new r.Rate,this._freeMemory=new r.Rate,this._cpuUsage=new r.Rate,this._gpuMemoryWorkingSetSize=new r.Rate,this._gpuCpuUsage=new r.Rate,this._rendererMemoryWorkingSetSize=new r.Rate,this._rendererCpuUsage=new r.Rate}getActionName(){return"CallPerformance"}getAttributes(){const e={CallId:this._callId,CPUSpeed:this._cpuspeed,CPUModel:this._cpumodel,CPUCores:this._cores,CPUUsageAverage:this._cpuUsage.average(),CPUUsageMax:this._cpuUsage.max(),ProcessMemoryAverage:this._processMemory.average(),ProcessMemoryMax:this._processMemory.max(),FreeMemoryAverage:this._freeMemory.average(),FreeMemoryMax:this._freeMemory.max(),RendererCPUUsageMax:this._rendererCpuUsage.max(),RendererCPUUsageAverage:this._rendererCpuUsage.average(),RendererMemoryWSSMax:this._rendererMemoryWorkingSetSize.max(),RendererMemoryWSSAverage:this._rendererMemoryWorkingSetSize.average(),GPUUsageMax:this._gpuCpuUsage.max(),GPUUsageAverage:this._gpuCpuUsage.average(),GPUMemoryWSSMax:this._gpuMemoryWorkingSetSize.max(),GPUMemoryWSSAverage:this._gpuMemoryWorkingSetSize.average()};return o.assign(super.getAttributes(),e)}setMainUsage(e){this._processMemory.push(e.processMemory),this._freeMemory.push(e.freeMemory),this._cpuUsage.push(e.cpuUsage)}setGPUUsage(e,t){this._gpuMemoryWorkingSetSize.push(e),this._gpuCpuUsage.push(t)}setRendererUsage(e,t){this._rendererMemoryWorkingSetSize.push(e),this._rendererCpuUsage.push(t)}}},340053:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsRequestResult=t.PermissionsStatusChange=void 0;const o=i(197582).__importStar(i(496486)),n=i(380157),r=i(331079),a=i(240297);class s extends a.TelemetryEventBase{constructor(e,t,i){super(),this._permissionType=e,this._permissionStatus=t,this._permissionOrigin=i}getEventName(){return"settings_permission_status"}getAttributes(){const e=super.getAttributes();return e.Type=r.PermissionType[this._permissionType],e.SubType=r.PermissionSubType[this.getSubType()],e.Status=n.PermissionStatus[this._permissionStatus],e.Origin=this._stringFromPermissionOrigin(),e}_stringFromPermissionOrigin(){return o.isUndefined(this._permissionOrigin)?"unknown":n.PermissionOrigin[this._permissionOrigin]}}t.PermissionsStatusChange=class extends s{getSubType(){return r.PermissionSubType.None}};t.NotificationsRequestResult=class extends s{constructor(e,t,i){super(r.PermissionType.Notifications,e,i),this._permissionSubType=t}getSubType(){return this._permissionSubType}}},791915:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PesBackgroundColorTelemetryEvent=t.PesBackgroundColorPickerAction=void 0;const o=i(240297);var n;!function(e){e[e.BackgroundColorPickerSelected=0]="BackgroundColorPickerSelected"}(n||(t.PesBackgroundColorPickerAction=n={}));class r extends o.TelemetryEventBase{constructor(e){super(),this._params=e}getEventName(){return"messaging_pes_backgroundcolor"}getAttributes(){const e=super.getAttributes();return e.Action=n.BackgroundColorPickerSelected,void 0!==this._params.tabType&&(e.TabType=this._params.tabType),void 0!==this._params.triggeredBy&&(e.TriggeredBy=this._params.triggeredBy),e}}t.PesBackgroundColorTelemetryEvent=r},284043:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PicturePrefetchEvent=t.PicturePrefetchAction=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297);var r;!function(e){e[e.PrefetchQueueTrimmed=0]="PrefetchQueueTrimmed"}(r||(t.PicturePrefetchAction=r={}));class a extends n.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"all_picture_prefetch"}getAttributes(){return o.assign(super.getAttributes(),{Action:r[this._action]})}}t.PicturePrefetchEvent=a},217437:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneNeedVerification=t.SkypePhoneAccrualEvent=t.MsaPhoneAccrualEvent=t.SkypePhoneAccrualAction=t.MsaPhoneAccrualAction=t.PnvUIStartFromManageSearchPanel=t.PnvStoreTelemetryEvent=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297),r="sisu_phone_verification";class a extends n.TelemetryEventBase{constructor(e,t){super(),this._stage=e,this._error=t}getEventName(){return r}getAttributes(){return o.assign({},super.getAttributes(),{Action:"Store",Stage:this._stage,Error:this._error})}}t.PnvStoreTelemetryEvent=a;class s extends n.TelemetryEventBase{constructor(e){super(),this._correlationId=e}getEventName(){return r}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),this._correlationId&&(e.CorrelationId=this._correlationId),e}}var l,c;t.PnvUIStartFromManageSearchPanel=class extends s{getActionName(){return"UIStartFromManageSearchPanel"}},function(e){e[e.MsaPhoneAccrualStart=0]="MsaPhoneAccrualStart",e[e.MsaPhoneAccrualVerified=1]="MsaPhoneAccrualVerified",e[e.MsaPhoneAccrualRegistered=2]="MsaPhoneAccrualRegistered",e[e.MsaEmailAccrualVerified=3]="MsaEmailAccrualVerified",e[e.MsaEmailAccrualRegistered=4]="MsaEmailAccrualRegistered",e[e.MsaPhoneAccrualCancelled=5]="MsaPhoneAccrualCancelled",e[e.MsaPhoneAccrualError=6]="MsaPhoneAccrualError",e[e.MsaPhoneNumberClicked=7]="MsaPhoneNumberClicked",e[e.MsaPhoneNumberAdded=8]="MsaPhoneNumberAdded"}(l||(t.MsaPhoneAccrualAction=l={})),function(e){e[e.SkypePhoneAccrualStart=0]="SkypePhoneAccrualStart",e[e.SkypePhoneAccrualCountryNotAllowed=1]="SkypePhoneAccrualCountryNotAllowed",e[e.SkypePhoneAccrualPhoneVerified=2]="SkypePhoneAccrualPhoneVerified",e[e.SkypePhoneAccrualCodeVerified=3]="SkypePhoneAccrualCodeVerified"}(c||(t.SkypePhoneAccrualAction=c={}));t.MsaPhoneAccrualEvent=class extends s{constructor(e){super(),this._action=e}getActionName(){return l[this._action]}};t.SkypePhoneAccrualEvent=class extends s{constructor(e,t){super(t),this._action=e}getActionName(){return c[this._action]}};t.PhoneNeedVerification=class extends s{getActionName(){return"NeedVerification"}}},596277:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PnvScenarioStep=void 0;const o=i(197582),n=i(96575),r=o.__importDefault(i(535775));var a;!function(e){e[e.LinkShown=0]="LinkShown",e[e.PnvUIStart=1]="PnvUIStart",e[e.NumberNext=2]="NumberNext",e[e.NumberBack=3]="NumberBack",e[e.CodeNext=4]="CodeNext",e[e.CodeSkip=5]="CodeSkip",e[e.CodeBack=6]="CodeBack",e[e.CodeResend=7]="CodeResend",e[e.CodeCall=8]="CodeCall",e[e.NumberCall=9]="NumberCall"}(a||(t.PnvScenarioStep=a={}));class s{static get(){if(!this._pnvTelemetryHelper){const e=new r.default(n.ScenarioName.PnvUI);e.start(),e.setDuplicateStepMarkingEnabled(),this._pnvTelemetryHelper=new s(e)}return this._pnvTelemetryHelper}constructor(e){this._scenario=e}markStep(e,t){this._scenario.markStepCompleted(a[e],t)}}t.default=s},658171:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PollToggledVoteEvent=t.PollDetailsOpenedEvent=t.PollCreatedEvent=t.PollLaunchedEvent=t.LaunchOrigin=t.CreatePollOrigin=t.VoteOrigin=t.PollAction=void 0;const o=i(197582),n=o.__importStar(i(964647)),r=i(240297),a=o.__importStar(i(340482));var s,l,c,d;!function(e){e[e.Launched=0]="Launched",e[e.Created=1]="Created",e[e.DetailsOpened=2]="DetailsOpened",e[e.Voted=3]="Voted",e[e.Unvoted=4]="Unvoted"}(s||(t.PollAction=s={})),function(e){e[e.Card=0]="Card",e[e.DetailsView=1]="DetailsView"}(l||(t.VoteOrigin=l={})),function(e){e[e.SlashCommand=0]="SlashCommand",e[e.CreateView=1]="CreateView"}(c||(t.CreatePollOrigin=c={})),function(e){e[e.MediaBarItem=0]="MediaBarItem"}(d||(t.LaunchOrigin=d={}));class u extends r.TelemetryEventBase{constructor(){super()}getEventName(){return"caap_poll"}getAttributes(){const e=super.getAttributes();return e.Action=s[this.getActionName()],e}}t.PollLaunchedEvent=class extends u{constructor(e){super(),this._origin=e}getActionName(){return s.Launched}getAttributes(){const e=super.getAttributes();return e.Origin=d[this._origin],e}};t.PollCreatedEvent=class extends u{constructor(e,t,i){super(),this._origin=e,this._optionCount=t,this._participantsCount=i}getActionName(){return s.Created}getAttributes(){const e=super.getAttributes();return e.OptionsCount=this._optionCount,e.Origin=c[this._origin],e.ParticipantsCount=this._participantsCount,e}};t.PollDetailsOpenedEvent=class extends u{constructor(e){super(),this._message=e}getActionName(){return s.DetailsOpened}getAttributes(){const e=super.getAttributes();return this._message&&(e.MessageCorrelationId=n.getCorrelationIdFromMessageParts(this._message.creator,this._message.conversationId,a.getClientMessageId(this._message))),e}};t.PollToggledVoteEvent=class extends u{constructor(e,t,i){super(),this._action=e,this._origin=t,this._message=i}getActionName(){return this._action}getAttributes(){const e=super.getAttributes();return this._message&&(e.MessageCorrelationId=n.getCorrelationIdFromMessageParts(this._message.creator,this._message.conversationId,a.getClientMessageId(this._message))),e.Origin=l[this._origin],e}}},857962:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackInititated=t.PostingSuccess=t.PostingRecovered=t.PostingFailure=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(815146)),a=i(822701),s=i(331079),l=i(240297);class c extends l.TelemetryEventBase{constructor(e,t,i,o,n,r,a,s,l,c,d,u,p,g,h,m,S,_=0,f){super(),this._conversationIds=e,this._postSource=t,this._conversationOrigin=i,this._firstSendTime=o,this._statusCode=n,this._statusText=r,this._fileSize=a,this._fileType=s,this._triggeredBy=l,this._postId=c,this._clientMessageId=d,this._requestId=u,this._correlationId=p,this._tcid=g,this._messageType=h,this._mriType=m,this._failureSource=S,this._numberRetries=_,this._errorMetadata=f}getAttributes(){const e=super.getAttributes();return e.num_of_convs=this._conversationIds.length,e.post_source=r.PostSource[this._postSource],e.conversation_origin=r.NavigationConversationOrigin[this._conversationOrigin||r.NavigationConversationOrigin.Unknown],e.time_to_failure=this._eventCreationTime-this._firstSendTime,e.number_retries=this._numberRetries,e.status_code=this._statusCode,e.status_text=this._statusText||"",e.file_size=n.isNumber(this._fileSize)?this._fileSize:"",e.file_type=this._fileType?s.UploadFileType[this._fileType]:"",e.TriggeredBy=this._triggeredBy?a.PostingTrigger[this._triggeredBy]:a.PostingTrigger.None,e.PostId=this._postId?this._postId:"",e.ClientMessageId=this._clientMessageId?this._clientMessageId:"",e.RequestId=this._requestId?this._requestId:"",e.CorrelationId=this._correlationId?this._correlationId:"",e.Tcid=this._tcid?this._tcid:"",e.MessageType=this._messageType?this._messageType:"",e.MriType=this._mriType?this._mriType:"",this._failureSource&&(e.failure_source=r.PostingTransferSource[this._failureSource]+"Failure"),this._errorMetadata&&n.extend(e,this._errorMetadata),e}}t.PostingFailure=class extends c{constructor(e,t,i,o,n,r,a,s,l,c,d,u,p,g,h,m,S,_,f=0,y){super(t,i,o,n,r,a,s,l,c,d,u,p,g,h,m,S,_,f,y),this._permanentFailure=e}getEventName(){return"send_failure"}getAttributes(){const e=super.getAttributes();return e.is_permanent=this._permanentFailure,e}};t.PostingRecovered=class extends c{constructor(e,t,i,o,n,r,a,s,l,c,d,u,p,g,h,m){super(e,t,i,o,n,r,a,s,l,c,d,u,p,g,h,m)}getEventName(){return"send_recovered"}};t.PostingSuccess=class extends c{constructor(e,t,i,o,n,r,a,s,l,c,d,u,p,g,h,m){super(e,t,i,o,n,r,a,s,l,c,d,u,p,g,h,m)}getEventName(){return"messaging_sms_post_success"}};class d extends l.TelemetryEventBase{getEventName(){return"feedbackInitiated"}}t.FeedbackInititated=d},96425:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QueryPrefetchedEmoticonImage=t.QueryPrefetchedImage=void 0;const o=i(197582),n=(o.__importStar(i(496486)),i(419585)),r=o.__importStar(i(157013)),a=i(240297);class s extends a.TelemetryEventBase{constructor(e,t){super(),this._prefetchState=e,this._nativeCached=t}getEventName(){return"messaging_prefetched_image"}getAttributes(){const e=super.getAttributes();return e.Action="queried",e.PrefetchState=n.ImagePrefetchState[this._prefetchState],e.IsNativeCached=void 0!==this._nativeCached?this._nativeCached:"",e}}t.QueryPrefetchedImage=s;t.QueryPrefetchedEmoticonImage=class extends s{constructor(e,t,i){super(e,t),this._url=i;r.getBaseUrl()}getAttributes(){const e=super.getAttributes();return e.EmoticonUrl=this._url,e}}},898989:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PresenceChangeNotificationClicked=t.PresenceChangeNotificationProcessed=t.PresenceChangeNotificationToggleSetting=void 0;const o=i(240297);class n extends o.TelemetryEventBase{getEventName(){return"people_presence_change_notification"}getAttributes(){const e=super.getAttributes();return e.Setting=this.getActionName(),e}}t.PresenceChangeNotificationToggleSetting=class extends n{constructor(e){super(),this._didEnable=e}getActionName(){return"PresenceChangeNotificationToggled"}getAttributes(){const e=super.getAttributes();return e.DidEnable=this._didEnable,e}};t.PresenceChangeNotificationProcessed=class extends n{constructor(e){super(),this._presenceChangeNotificationResult=e}getActionName(){return"PresenceChangeNotificationProcessed"}getAttributes(){const e=super.getAttributes();return e.PresenceChangeNotificationResult=this._presenceChangeNotificationResult,e}};t.PresenceChangeNotificationClicked=class extends n{getActionName(){return"PresenceChangeNotificationClicked"}}},425495:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PriorityTelemetryEventBase=void 0;const o=i(197582),n=i(636076),r=i(240297),a=o.__importDefault(i(150343));class s extends r.TelemetryEventBase{constructor(){super()}getEventPriority(){return a.default.getS4LTelemetryFeaturesNoSubscription().priorityEventList.includes(this.getEventName())?n.AWTEventPriority.Immediate_sync:super.getEventPriority()}}t.PriorityTelemetryEventBase=s},342561:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SendFullTelemetryEvent=t.PhoneNumberDiscoverabilityPrivacyEvent=t.AppearInSearchEvent=t.ReceiveContactSuggestionsEvent=t.ManageSearchOpenedEvent=t.SendFullTelemetryOrigin=t.PhoneDiscoverabilityOrigin=t.ManageSearchOrigin=void 0;const o=i(240297);var n,r,a,s;!function(e){e[e.ManageSearchOpened=0]="ManageSearchOpened",e[e.AppearInSearchResultsInteraction=1]="AppearInSearchResultsInteraction",e[e.AppearInSearchResults=2]="AppearInSearchResults",e[e.ReceiveContactSuggestions=3]="ReceiveContactSuggestions",e[e.PhoneDiscoverability=4]="PhoneDiscoverability",e[e.SendFullTelemetry=5]="SendFullTelemetry"}(n||(n={})),function(e){e[e.ApplicationSettings=0]="ApplicationSettings",e[e.AboutPeopleYouMayKnowPanel=1]="AboutPeopleYouMayKnowPanel"}(r||(t.ManageSearchOrigin=r={})),function(e){e[e.ApplicationSettings=0]="ApplicationSettings",e[e.DeepLink=1]="DeepLink",e[e.UserProfile=2]="UserProfile"}(a||(t.PhoneDiscoverabilityOrigin=a={})),function(e){e[e.ApplicationSettings=0]="ApplicationSettings",e[e.DeepLink=1]="DeepLink",e[e.Onboarding=2]="Onboarding"}(s||(t.SendFullTelemetryOrigin=s={}));class l extends o.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"settings_privacy"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],e}}t.ManageSearchOpenedEvent=class extends l{constructor(e){super(n.ManageSearchOpened),this._origin=e}getAttributes(){const e=super.getAttributes();return e.Origin=r[this._origin],e}};t.ReceiveContactSuggestionsEvent=class extends l{constructor(e,t){super(n.ReceiveContactSuggestions),this._grantedPermissions=e,this._origin=t}getAttributes(){const e=super.getAttributes();return e.DidGrantPermission=this._grantedPermissions,e.Origin=r[this._origin],e}};t.AppearInSearchEvent=class extends l{constructor(e,t){super(n.AppearInSearchResults),this._grantedPermissions=e,this._origin=t}getAttributes(){const e=super.getAttributes();return e.DidGrantPermission=this._grantedPermissions,e.Origin=r[this._origin],e}};t.PhoneNumberDiscoverabilityPrivacyEvent=class extends l{constructor(e,t,i){super(n.PhoneDiscoverability),this._grantedPermissions=e,this._origin=t,this._error=i}getAttributes(){const e=super.getAttributes();return e.DidGrantPermission=this._grantedPermissions||"",e.Origin=a[this._origin],this._error&&(e.ErrorStatusCode=this._error.errorStatusCode,e.ErrorMessage=this._error.errorMessage),e}};t.SendFullTelemetryEvent=class extends l{constructor(e,t){super(n.SendFullTelemetry),this._grantedPermissions=e,this._origin=t}getAttributes(){const e=super.getAttributes();return e.DidGrantPermission=this._grantedPermissions,e.Origin=s[this._origin],e}}},3025:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MediaGalleryButtonClicked=t.MyProfileFetch=t.MeProfileActionEvent=t.MeProfileAction=t.AvatarActionMenu=t.CustomStatusUpdated=t.CustomStatusInputGotFocus=t.CustomStatusEditorEmoticonPickerPressed=t.CustomStatusEditorDonePressed=t.CustomStatusEditorBackPressed=t.CustomStatusEditorOpened=t.CustomStatusMessageCleared=t.ProfileFetchResponseError=t.ProfileFetchRequestEvent=t.AvatarLoadError=t.AvatarRemoved=t.AvatarChanged=t.SettingsTelemetry=t.AvatarPolicyChanged=t.AvatarMenuButtonClicked=t.MyAvatarRemoved=t.MyAvatarChanged=t.ContactNickNameEdited=t.MyMoodEdited=t.MyUserNameEdited=t.ManageMyAccountOnlineClicked=t.CloseMyAccountStopped=t.CloseMyAccountInfoLinkClicked=t.CloseMyAccountClicked=t.MyMicrosoftAccountLinkClicked=t.ManageMyProfileOnlineClicked=t.PhoneCallProfileButtonClicked=t.CallProfileButtonClicked=t.MessageProfileButtonClicked=t.EditOrCopyLinkClicked=t.ProfileOpened=t.WhatsNewButtonClicked=t.ShareProfileQRCodeFailure=t.ShareProfileQRCodeSuccess=t.ShareProfileQRCodeButtonClicked=t.MeControlOpened=t.EditOrCopyLinkClickedType=t.EditOrCopyLinkClickedSource=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(496486),a=i(278230),s=o.__importStar(i(815146)),l=i(240297),c=o.__importDefault(i(760989)),d="Unknown";var u,p,g;!function(e){e[e.Phone=0]="Phone",e[e.Email=1]="Email",e[e.Location=2]="Location",e[e.Birthday=3]="Birthday",e[e.SkypeId=4]="SkypeId"}(u||(t.EditOrCopyLinkClickedSource=u={})),function(e){e[e.Edit=0]="Edit",e[e.Copy=1]="Copy",e[e.MenuOptions=2]="MenuOptions",e[e.Verify=3]="Verify"}(p||(t.EditOrCopyLinkClickedType=p={}));class h extends l.TelemetryEventBase{getEventName(){return"profile"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class m extends h{constructor(e){super(),this._updateLocation=e}getAttributes(){const e=super.getAttributes();return e.UpdateLocation=s.AvatarUpdateLocation[this._updateLocation],e}}class S extends l.TelemetryEventBase{getEventName(){return"customStatus"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.MeControlOpened=class extends h{getActionName(){return"MeControlOpened"}};t.ShareProfileQRCodeButtonClicked=class extends h{getActionName(){return"ShareProfileQRCodeButtonClicked"}};t.ShareProfileQRCodeSuccess=class extends h{getActionName(){return"ShareProfileQRCodeSuccess"}};t.ShareProfileQRCodeFailure=class extends h{getActionName(){return"ShareProfileQRCodeFailure"}};t.WhatsNewButtonClicked=class extends h{constructor(e){super(),this._isSuccess=e}getActionName(){return"WhatsNewButtonClicked"}getAttributes(){const e=super.getAttributes();return e.IsSuccess=this._isSuccess,e}};t.ProfileOpened=class extends h{constructor(e,t,i=void 0){super(),this._type=e,this._origin=t,this._myBot=i}getActionName(){return"ProfileOpened"}getAttributes(){const e=super.getAttributes();return e.Type=s.ProfileType[this._type],e.Origin=s.ProfileOpenOrigin[this._origin],this._myBot&&(e.MyBot=this._myBot),e}};t.EditOrCopyLinkClicked=class extends h{constructor(e,t){super(),this._clickSource=e,this._clickType=t}getActionName(){return"EditOrCopyLinkClicked"}getAttributes(){const e=super.getAttributes();return e.ClickType=p[this._clickType],e.ClickSource=u[this._clickSource],e}};t.MessageProfileButtonClicked=class extends h{constructor(e){super(),this._profileType=e}getActionName(){return"MessageProfileButtonClicked"}getAttributes(){const e=super.getAttributes();return e.ProfileType=s.ProfileType[this._profileType],e}};t.CallProfileButtonClicked=class extends h{constructor(e){super(),this._profileType=e}getActionName(){return"CallProfileButtonClicked"}getAttributes(){const e=super.getAttributes();return e.ProfileType=s.ProfileType[this._profileType],e}};t.PhoneCallProfileButtonClicked=class extends h{getActionName(){return"PhoneCallProfileButtonClicked"}};t.ManageMyProfileOnlineClicked=class extends h{getActionName(){return"ManageMyProfileOnlineClicked"}};t.MyMicrosoftAccountLinkClicked=class extends h{getActionName(){return"MyMicrosoftAccountLinkClicked"}};t.CloseMyAccountClicked=class extends h{getActionName(){return"CloseMyAccountClicked"}};t.CloseMyAccountInfoLinkClicked=class extends h{getActionName(){return"CloseMyAccountInfoLinkClicked"}};t.CloseMyAccountStopped=class extends h{getActionName(){return"CloseMyAccountStopped"}};t.ManageMyAccountOnlineClicked=class extends h{getActionName(){return"ManageMyAccountOnlineClicked"}};t.MyUserNameEdited=class extends h{constructor(e,t,i,o,n){super(),this._isSuccess=e,this._errorStatusCode=t,this._duration=i,this._isMigrated=o,this._origin=n}getActionName(){return"MyUserNameEdited"}getAttributes(){const e=super.getAttributes();return e.IsSuccess=this._isSuccess,n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),n.isUndefined(this._duration)||(e.Duration=this._duration),n.isUndefined(this._isMigrated)||(e.IsMigratedToV2=this._isMigrated),n.isUndefined(this._origin)||(e.Origin=s.NameUpdateLocation[this._origin]),e}};t.MyMoodEdited=class extends h{constructor(e,t,i,o,n,r){super(),this._charCount=e,this._updateLocation=t,this._isSuccess=i,this._errorStatusCode=o,this._duration=n,this._isMigrated=r}getActionName(){return"MyMoodEdited"}getAttributes(){const e=super.getAttributes();return e.MoodCharCount=this._charCount,e.UpdateLocation=s.MoodMessageUpdateOrigin[this._updateLocation],e.IsSuccess=this._isSuccess,n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),n.isUndefined(this._duration)||(e.Duration=this._duration),n.isUndefined(this._isMigrated)||(e.IsMigratedToV2=this._isMigrated),e}};t.ContactNickNameEdited=class extends h{constructor(e,t,i,o){super(),this._updateOrigin=e,this._isSuccess=t,this._errorStatusCode=i,this._duration=o}getActionName(){return"ContactNickNameEdited"}getAttributes(){const e=super.getAttributes();return e.Origin=s.ContactNickNameUpdateOrigin[this._updateOrigin],e.IsSuccess=this._isSuccess,n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),this._duration&&(e.Duration=this._duration),e}};t.MyAvatarChanged=class extends m{constructor(e){super(e)}getActionName(){return"MyAvatarChanged"}};t.MyAvatarRemoved=class extends m{constructor(e){super(e)}getActionName(){return"MyAvatarRemoved"}};t.AvatarMenuButtonClicked=class extends h{constructor(e,t,i,o){super(),this._type=e,this._origin=t,this._hasProfilePic=i,this._avatarPolicy=o}getActionName(){return"AvatarMenuButtonClicked"}getAttributes(){const e=super.getAttributes();return e.ButtonType=s.AvatarMenuButtons[this._type],e.Origin=s.AvatarPickerOrigin[this._origin],e.HasProfilePic=this._hasProfilePic,e.AvatarPolicy=(0,a.flow)(r.camelCase,r.upperFirst)(this._avatarPolicy),e}};t.AvatarPolicyChanged=class extends h{constructor(e,t,i,o){super(),this._avatarPolicy=e,this._origin=t,this._isSuccess=i,this._errorStatusCode=o}getActionName(){return"AvatarPolicyChanged"}getAttributes(){const e=super.getAttributes();return e.AvatarPolicy=(0,a.flow)(r.camelCase,r.upperFirst)(this._avatarPolicy),e.Origin=s.AvatarPolicyChangeOrigin[this._origin],e.IsSuccess=this._isSuccess,n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),e}};t.SettingsTelemetry=class extends h{constructor(e){super(),this._origin=e}getActionName(){return"SettingsAccessed"}getAttributes(){const e=super.getAttributes();return e.Origin=s.SettingsOrigin[this._origin],e}};t.AvatarChanged=class extends h{constructor(e,t,i,o=s.AvatarChangeError.NoError,n,r){super(),this._origin=e,this._isSuccess=t,this._isUserAvatar=i,this._errorType=o,this._errorStatusCode=n,this._isMigrated=r}getActionName(){return"AvatarChanged"}getAttributes(){const e=super.getAttributes();return e.Origin=s.AvatarPickerOrigin[this._origin],e.IsSuccess=this._isSuccess,e.IsUserAvatar=this._isUserAvatar,e.ErrorType=s.AvatarChangeError[this._errorType],n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),n.isUndefined(this._isMigrated)||(e.IsMigratedToV2=this._isMigrated),e}};t.AvatarRemoved=class extends h{constructor(e,t,i,o,n){super(),this._origin=e,this._isSuccess=t,this._isUserAvatar=i,this._errorStatusCode=o,this._isMigrated=n}getActionName(){return"AvatarRemoved"}getAttributes(){const e=super.getAttributes();return e.Origin=s.AvatarPickerOrigin[this._origin],e.IsSuccess=this._isSuccess,e.IsUserAvatar=this._isUserAvatar,n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),n.isUndefined(this._isMigrated)||(e.IsMigratedToV2=this._isMigrated),e}};t.AvatarLoadError=class extends h{constructor(e,t,i,o){super(),this._isUser=e,this._isConnector=t,this._isAgent=i,this._isPstn=o}getActionName(){return"AvatarLoadError"}getAttributes(){const e=super.getAttributes();return e.IsUser=void 0!==this._isUser?this._isUser:d,e.IsConnector=void 0!==this._isConnector?this._isConnector:d,e.IsAgent=void 0!==this._isAgent?this._isAgent:d,e.IsPstn=void 0!==this._isPstn?this._isPstn:d,e}};t.ProfileFetchRequestEvent=class extends h{constructor(e,t,i,o,n,r){super(),this._isSuccess=e,this._numProfilesToFetch=t,this._numProfilesFetched=i,this._errorStatusCode=o,this._errorMessage=n,this._isGuestNameUpdate=r}getActionName(){return"ProfileFetchRequestEvent"}getAttributes(){const e=super.getAttributes();return e.IsSuccess=this._isSuccess,n.isUndefined(this._numProfilesToFetch)||(e.NumProfilesToFetch=this._numProfilesToFetch),n.isUndefined(this._numProfilesFetched)||(e.NumProfilesFetched=this._numProfilesFetched),n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),n.isUndefined(this._errorMessage)||(e.ErrorMessage=this._errorMessage),n.isUndefined(this._isGuestNameUpdate)||(e.IsGuestNameUpdate=this._isGuestNameUpdate),e}};t.ProfileFetchResponseError=class extends h{constructor(e,t,i){super(),this._errorStatusCode=e,this._count=t,this._isProfileColorFetch=i}getActionName(){return"ProfileFetchResponseError"}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this._errorStatusCode,e.ErrorCount=this._count,e.IsProfileColorFetch=this._isProfileColorFetch,e}};t.CustomStatusMessageCleared=class extends S{getActionName(){return"CustomStatusMessageCleared"}};t.CustomStatusEditorOpened=class extends S{getActionName(){return"CustomStatusEditorOpened"}};t.CustomStatusEditorBackPressed=class extends S{getActionName(){return"CustomStatusEditorBackPressed"}};t.CustomStatusEditorDonePressed=class extends S{getActionName(){return"CustomStatusEditorDonePressed"}};t.CustomStatusEditorEmoticonPickerPressed=class extends S{getActionName(){return"CustomStatusEditorEmoticonPickerPressed"}};t.CustomStatusInputGotFocus=class extends S{getActionName(){return"CustomStatusInputGotFocus"}};t.CustomStatusUpdated=class extends S{constructor(e,t,i,o){super(),this._isFromSuggestedStatus=e,this._chosenSuggestedStatus=t,this._totalEmoticonInStatus=i,this._prevToNewMoodMessageCharDiffCount=o}getActionName(){return"CustomStatusEdited"}getAttributes(){const e=super.getAttributes();return e.IsFromSuggestedStatus=this._isFromSuggestedStatus,e.ChosenSuggestedStatus=this._chosenSuggestedStatus,e.TotalEmoticonInStatus=this._totalEmoticonInStatus,e.PrevToNewMoodMessageCharDiffCount=this._prevToNewMoodMessageCharDiffCount,e}};t.AvatarActionMenu=class extends h{constructor(e,t,i){super(),this._origin=e,this._command=t,this._isVisible=i}getActionName(){return"AvatarActionMenu"}getAttributes(){const e=super.getAttributes();return e.Origin=s.AvatarPickerOrigin[this._origin],e.Command=this._command,e.IsVisible=this._isVisible,e}},function(e){e[e.OpenProfile=0]="OpenProfile",e[e.ShowActionCard=1]="ShowActionCard",e[e.Update=2]="Update",e[e.Copy=3]="Copy",e[e.Verify=4]="Verify",e[e.ShowOnSkype=5]="ShowOnSkype",e[e.DeleteFromSkype=6]="DeleteFromSkype",e[e.AddToSkype=7]="AddToSkype",e[e.AddToMsa=8]="AddToMsa",e[e.UpdateMsa=9]="UpdateMsa",e[e.Navigate=10]="Navigate",e[e.AddMsaAvatar=11]="AddMsaAvatar",e[e.RemoveMsaAvatar=12]="RemoveMsaAvatar",e[e.LaterMsaAvatar=13]="LaterMsaAvatar"}(g||(t.MeProfileAction=g={}));t.MeProfileActionEvent=class extends h{constructor(e,t,i,o,n){super(),this._command=e,this._type=t,this._isVisible=i,this._isSuccess=o,this._errorStatusCode=n}getActionName(){return"MeProfileAction"}getAttributes(){const e=super.getAttributes();return e.Command=g[this._command],e.Type=this._type,n.isUndefined(this._isVisible)||(e.IsVisible=this._isVisible),n.isUndefined(this._isSuccess)||(e.IsSuccess=this._isSuccess),n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),e}};t.MyProfileFetch=class extends h{constructor(e){super(),this._fetchSettings=e}shouldSend(){const e=l.SampledEvents[this.getEventName()+"_"+this.getActionName()];return"number"==typeof e?c.default.sampleForPercentage(e):super.shouldSend()}getActionName(){return"MyProfileFetch"}getAttributes(){const e=super.getAttributes();return e.IsSuccess=this._fetchSettings.isSuccess,e.IsV2=this._fetchSettings.isV2,e.IsMigrationSuggested=this._fetchSettings.isMigrationSuggested,e.IsMigratedToV2=this._fetchSettings.isMigratedToV2,e.Origin=s.MyProfileFetchOrigin[this._fetchSettings.origin],n.isUndefined(this._fetchSettings.errorStatusCode)||(e.ErrorCode=this._fetchSettings.errorStatusCode),e}};t.MediaGalleryButtonClicked=class extends h{getActionName(){return"MediaGalleryButtonClicked"}}},141621:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PurposefulEvent=void 0;const o=i(197582),n=i(636076),r=i(240297),a=o.__importDefault(i(363091));class s extends r.TelemetryEventBase{constructor(e){super(),this._userCorrelationId=e}shouldSend(){return super.shouldSend()}getEventName(){return"purposeful_event"}getAttributes(){const e=super.getAttributes();return e.CorrelationId=this._userCorrelationId,e.UserId=a.default.getSkypeId(),e}getEventPriority(){return n.AWTEventPriority.Immediate_sync}}t.PurposefulEvent=s},505382:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(240297),a=o.__importStar(i(340482)),s=o.__importDefault(i(760989));class l extends r.TelemetryEventBase{constructor(e){super(),this._params=e}shouldSend(){const e=r.SampledEvents[this.getEventName()+"_"+this._params.eventCode];return!n.isNumber(e)||s.default.sampleForPercentage(e)}getEventName(){return"push_notification"}getAttributes(){const e=super.getAttributes();e.EventType=this._params.eventType,e.EventCode=this._params.eventCode,e.MessageId=this._params.messageId,e.ClientMessageId=this._params.clientMessageId,e.IsMyMessage=this._params.isMyMessage,e.Result=this._params.result,e.MessageCorrelationId=this._params.messageCorrelationId,e.ErrorCode=this._params.errorCode||0,e.CorrelationVector=this._params.correlationVector||"",e.EventDate=this._params.eventDate||"",e.InsertedMessageToDB=this._params.insertedMessageToDB||!1,e.CreatedMessageFromNotification=this._params.createdMessageFromNotification||!1,e.UpdatedConversationFromNotification=this._params.updatedConversationFromNotification||!1,e.UpdatedConversationFromCS=this._params.updatedConversationFromCS||!1;const t=a.getTrackableConversationId(this._params.conversationId);return t&&(e.ConversationId=t),e}}t.default=l},21189:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QuickActionsEvent=void 0;const o=i(197582).__importStar(i(496486)),n=i(730215),r=i(240297);class a extends r.TelemetryEventBase{constructor(e,t){super(),this._shortcutId=e,this._pinnedShortcuts=t}getEventName(){return"quick_actions"}getAttributes(){const e=super.getAttributes();return this._shortcutId&&(e.ShortcutName=this._shortcutId),this._pinnedShortcuts&&o.each(n.QuickActionItemKeys,(t=>{o.includes(this._pinnedShortcuts,t)&&(e["QuickActionsPinned_"+t]=!0)})),e}}t.QuickActionsEvent=a},377989:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QsoAccountListFetched=t.QuickSignOnTelemetrySignedInEvent=t.QuickSignOnTelemetryInterrupted=t.QuickSignOnTelemetryAutoRefreshed=t.QuickSignOnTelemetryStartedEvent=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297);class r extends n.TelemetryEventBase{constructor(e=!1){super(),this._isFromPhoneAuth=e}getEventName(){return"sisu_qso"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.IsFromPhoneAuth=this._isFromPhoneAuth,e}getLoggedOutSendingPolicy(){return n.TelemetryEventLoggedOutPolicy.SendNow}}t.QuickSignOnTelemetryStartedEvent=class extends r{constructor(e=!1){super(e)}getActionName(){return"Started"}};t.QuickSignOnTelemetryAutoRefreshed=class extends r{getActionName(){return"AutoRefreshed"}};t.QuickSignOnTelemetryInterrupted=class extends r{getActionName(){return"Interrupted"}};t.QuickSignOnTelemetrySignedInEvent=class extends r{constructor(e=!1){super(e)}getActionName(){return"SignedIn"}};t.QsoAccountListFetched=class extends r{constructor(e,t){super(),this._accountListSize=e,this._accountDistribution=t,this._attributes={AccountListSize:this._accountListSize},Object.keys(this._accountDistribution).forEach((e=>{this._attributes[`AccountDistribution_${e}`]=this._accountDistribution[e]}))}getActionName(){return"AccountListFetched"}getAttributes(){return o.assign(super.getAttributes(),this._attributes)}}},602370:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RaisedHandListExpanded=t.RaiseHandTelemetryEvent=t.LowerHandOrigin=t.RaiseHandAction=void 0;const o=i(873324);var n,r;!function(e){e[e.RaiseHand=0]="RaiseHand",e[e.LowerMyHand=1]="LowerMyHand",e[e.LowerOthersHand=2]="LowerOthersHand"}(n||(t.RaiseHandAction=n={})),function(e){e[e.OverflowMenu=0]="OverflowMenu",e[e.ParticipantsPanel=1]="ParticipantsPanel",e[e.CallControls=2]="CallControls"}(r||(t.LowerHandOrigin=r={}));class a extends o.CallActionBase{constructor(e,t,i,o){super(),this._callId=e,this._action=t,this._participantsCount=i,this._origin=o}getActionName(){return n[this._action]}getAttributes(){const e=super.getAttributes();return e.CallId=this._callId,e.ParticipantsCount=this._participantsCount,void 0===this._origin||this._action!==n.LowerOthersHand&&this._action!==n.LowerMyHand||(e.LowerHandOrigin=r[this._origin]),e}}t.RaiseHandTelemetryEvent=a;class s extends o.CallActionBase{constructor(e,t,i){super(),this._callId=e,this._participantsCount=t,this._raisedHandsCount=i}getActionName(){return"RaisedHandListExpanded"}getAttributes(){const e=super.getAttributes();return e.CallId=this._callId,e.ParticipantsCount=this._participantsCount,e.RaisedHandsCount=this._raisedHandsCount,e}}t.RaisedHandListExpanded=s},912851:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionNotificationClicked=t.ReactionNotificationProcessed=void 0;const o=i(197582),n=o.__importStar(i(44717)),r=i(815146),a=i(240297),s=o.__importStar(i(340482));var l;!function(e){e[e.Processed=0]="Processed",e[e.Clicked=1]="Clicked"}(l||(l={}));class c extends a.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._conversationId=t}getEventName(){return"messaging_reaction_notification"}getAttributes(){const e=super.getAttributes();e.Action=l[this._action],e.IsGroupConversation=n.isGroupConversation(this._conversationId);const t=s.getTrackableConversationId(this._conversationId);return t&&(e.ConversationId=t),e}}t.ReactionNotificationProcessed=class extends c{constructor(e,t){super(l.Processed,e),this._messageProcessResult=t}getAttributes(){const e=super.getAttributes();return e.ProcessResult=r.MessageProcessResult[this._messageProcessResult],e}};t.ReactionNotificationClicked=class extends c{constructor(e){super(l.Clicked,e)}}},73018:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CustomReactionsManipulationAction=t.CustomReactionsManipulationTelemetry=t.ReactionsManipulationAction=t.ReactionsManipulationTelemetry=t.ReactionPickerTelemetry=t.ReactionOriginType=t.ReactionNavigationAction=t.ReactionPanelListItem=t.ReactionsSummaryClickTelemetry=t.ReactionsSummaryViewed=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(786531),a=o.__importDefault(i(363091)),s=i(240297),l=o.__importStar(i(340482)),c="messaging_reaction";var d,u,p,g,h;!function(e){e[e.ReactionsSummaryViewed=0]="ReactionsSummaryViewed",e[e.ReactionsSummaryClicked=1]="ReactionsSummaryClicked",e[e.ReactionsPanelListItemClicked=2]="ReactionsPanelListItemClicked",e[e.OpenedReactionPicker=3]="OpenedReactionPicker",e[e.ReactionAdded=4]="ReactionAdded",e[e.ReactionRemoved=5]="ReactionRemoved"}(d||(d={}));class m extends r.MessageTelemetryBase{constructor(e,t){super(e,e.conversationId),this._actionType=t,this._isOwnMessage=a.default.isMyMri(e.creator)}getAttributes(){const e=this._useOldAttributeNames()?{my_message:this._isOwnMessage}:{Action:d[this._actionType],IsOwnMessage:this._isOwnMessage};return n.assign({},super.getAttributes(),e)}}t.ReactionsSummaryViewed=class extends m{constructor(e){super(e,d.ReactionsSummaryViewed),this._skypeMessageLocal=e,this._reactionAttributesOldFormat=this.getReactionAttributesOldFormat()}getEventName(){return"reaction_action"}getEventTraceMode(){return s.TelemetryTraceMode.EventName}getReactionAttributesOldFormat(){const e={},t=this._skypeMessageLocal.getReactions();e.Unique_Reactions_Count=t.length;const i="reaction";let o=0;return n.each(t,((t,n)=>{o=n+1,e[i+o+"_key"]=t.key,e[i+o+"_count"]=t.users.length})),e}getAttributes(){const e=super.getAttributes();return n.assign(e,this._reactionAttributesOldFormat),e.Action="reactionsSummaryViewed",e}_useOldAttributeNames(){return!0}};t.ReactionsSummaryClickTelemetry=class extends m{constructor(e,t,i){super(t,d.ReactionsSummaryClicked),this._reactionKey=e,this._mriCount=i}getEventName(){return"reaction_summary_click"}getEventTraceMode(){return s.TelemetryTraceMode.EventName}getAttributes(){const e=super.getAttributes();return e.reaction_key=this._reactionKey,e.reaction_mri_count=this._mriCount,e}_useOldAttributeNames(){return!0}};class S extends s.TelemetryEventBase{constructor(e,t,i){super(),this._reactionKey=e,this._conversationId=t,this._mriCount=i,this._actionName=d[d.ReactionsPanelListItemClicked]}getEventName(){return c}getAttributes(){const e=super.getAttributes();e.Action=this._actionName,e.ReactionKey=this._reactionKey,e.ReactionMriCount=this._mriCount;const t=l.getTrackableConversationId(this._conversationId);return t&&(e.ConversationId=t),e}}t.ReactionPanelListItem=S,function(e){e[e.ArrowNavigation=0]="ArrowNavigation",e[e.Swipe=1]="Swipe",e[e.MoreReactionButtonPress=2]="MoreReactionButtonPress"}(u||(t.ReactionNavigationAction=u={})),function(e){e[e.ReactionsPopupMenu=0]="ReactionsPopupMenu",e[e.ReactionsActionSheet=1]="ReactionsActionSheet",e[e.DoubleTap=2]="DoubleTap",e[e.ReactionsSummary=3]="ReactionsSummary",e[e.MessageContextMenu=4]="MessageContextMenu"}(p||(t.ReactionOriginType=p={}));t.ReactionPickerTelemetry=class extends m{constructor(e,t,i){super(e,d.OpenedReactionPicker),this._origin=t,this._reactionsCount=i}getEventName(){return c}recordUserAction(e){this._navigation=u[e]}recordReactionAdded(e){this._reactionActionData=e,this._reactionActionData.reactionAdded?this._actionType=d.ReactionAdded:this._actionType=d.ReactionRemoved}getAttributes(){var e;const t={Navigation:this._navigation,Origin:p[this._origin],ReactionsCount:null!==(e=this._reactionsCount)&&void 0!==e?e:-1};return this._reactionActionData&&(t.ReactionLevel=this._reactionActionData.reactionLevel,t.ReactionKey=this._reactionActionData.reaction,t.IsCustomReaction=this._reactionActionData.isCustomReaction,t.IsTonedReaction=!n.isUndefined(this._reactionActionData.reactionTone),n.isUndefined(this._reactionActionData.success)||(t.Success=this._reactionActionData.success)),n.assign({},super.getAttributes(),t)}};class _ extends s.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._props=t}getEventName(){return c}getAttributes(){var e;return n.assign({},super.getAttributes(),{Action:g[this._action],ReactionsCount:null===(e=this._props)||void 0===e?void 0:e.numberOfReactions})}}t.ReactionsManipulationTelemetry=_,function(e){e[e.ReactionListBatchAdd=0]="ReactionListBatchAdd",e[e.ReactionListBatchRemove=1]="ReactionListBatchRemove",e[e.LastReactionRemovedCallReset=2]="LastReactionRemovedCallReset",e[e.ReactionListReset=3]="ReactionListReset",e[e.CallReactionListBatchAdd=4]="CallReactionListBatchAdd",e[e.CallReactionListBatchRemove=5]="CallReactionListBatchRemove",e[e.LastCallReactionRemovedCallReset=6]="LastCallReactionRemovedCallReset",e[e.CallReactionListReset=7]="CallReactionListReset"}(g||(t.ReactionsManipulationAction=g={}));class f extends s.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._props=t}getEventName(){return c}getAttributes(){var e,t,i,o,r,a,s,l,c;return n.assign({},super.getAttributes(),{Action:h[this._action],ReactionsCount:null===(e=this._props)||void 0===e?void 0:e.numberOfReactions,AddedReactionsCount:null===(t=this._props)||void 0===t?void 0:t.numberOfAddedReactions,NotSavedReactionsCount:null===(i=this._props)||void 0===i?void 0:i.numberOfNotSavedReactions,CustomReactionsType:null===(o=this._props)||void 0===o?void 0:o.customReactionsType,AnimatedReactionsCount:null===(r=this._props)||void 0===r?void 0:r.numberOfAnimatedReactions,ToggledReactionsFromSearchCount:null===(s=null===(a=this._props)||void 0===a?void 0:a.searchData)||void 0===s?void 0:s.toggledEmoticonCount,SearchAttempts:null===(c=null===(l=this._props)||void 0===l?void 0:l.searchData)||void 0===c?void 0:c.searchInitiatedCount})}}t.CustomReactionsManipulationTelemetry=f,function(e){e[e.CustomReactionsPanelOpened=0]="CustomReactionsPanelOpened",e[e.ReactionsSavedOnDoneButton=1]="ReactionsSavedOnDoneButton",e[e.ReactionsNotSavedOnCloseButton=2]="ReactionsNotSavedOnCloseButton",e[e.CustomReactionsButtonInNarrowViewShown=3]="CustomReactionsButtonInNarrowViewShown",e[e.CustomReactionsPanelInNarrowViewOpened=4]="CustomReactionsPanelInNarrowViewOpened"}(h||(t.CustomReactionsManipulationAction=h={}))},670873:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RecentConversationsFilterEvent=t.RecentConversationsFilterAction=void 0;const o=i(240297);var n;!function(e){e[e.SortByTime=0]="SortByTime",e[e.SortByUnread=1]="SortByUnread",e[e.SortByActive=2]="SortByActive",e[e.RowSizeDefault=3]="RowSizeDefault",e[e.RowSizeCompact=4]="RowSizeCompact",e[e.RowSizeMini=5]="RowSizeMini",e[e.MarkAllConversationsRead=6]="MarkAllConversationsRead",e[e.ShowCategories=7]="ShowCategories",e[e.HideCategories=8]="HideCategories",e[e.ShowAllConversations=9]="ShowAllConversations",e[e.ShowArchivedConversations=10]="ShowArchivedConversations"}(n||(t.RecentConversationsFilterAction=n={}));class r extends o.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"people_recent_conversations_filter"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],e}}t.RecentConversationsFilterEvent=r},490003:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteUserAppearanceTelemetryEvent=void 0;const o=i(240297);class n extends o.TelemetryEventBase{getEventName(){return"appcore_settings_remote"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}t.RemoteUserAppearanceTelemetryEvent=class extends n{constructor(){super(...arguments),this._didUpdateColorTheme=!1,this._didUpdateColorInfo=!1,this._didToggleSystemTheme=!1,this._didToggleFlipBubbleColors=!1,this._didUpdateRecentsRowSize=!1}setDidUpdateColorTheme(){this._didUpdateColorTheme=!0}setDidUpdateColorInfo(){this._didUpdateColorInfo=!0}setDidToggleSystemTheme(){this._didToggleSystemTheme=!0}setDidToggleFlipBubbleColors(){this._didToggleFlipBubbleColors=!0}setDidUpdateRecentsRowSize(){this._didUpdateRecentsRowSize=!0}getAction(){return"Appearance"}getAttributes(){const e=super.getAttributes();return e.DidUpdateColorTheme=this._didUpdateColorTheme,e.DidToggleSystemTheme=this._didToggleSystemTheme,e.DidUpdateColorInfo=this._didUpdateColorInfo,e.DidToggleFlipBubbleColor=this._didToggleFlipBubbleColors,e.DidUpdateRecentsRowSize=this._didUpdateRecentsRowSize,e}}},331707:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ReportProblemDialogSubmitedEvent=t.ReportProblemDialogOpenedEvent=void 0;const o=i(113002),n=i(240297);class r extends n.TelemetryEventBase{constructor(e){super(),this._isSimplifiedDialog=e}getEventName(){return"appcore_report_problem_dialog"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.IsSimplifiedDialog=this._isSimplifiedDialog,e}}t.ReportProblemDialogOpenedEvent=class extends r{constructor(e,t){super(e),this._origin=t}getActionName(){return"ReportProblemDialogOpened"}getAttributes(){const e=super.getAttributes();return e.Origin=this._origin?o.NavigationSettingsOrigin[this._origin]:"Unknown",e}};t.ReportProblemDialogSubmitedEvent=class extends r{constructor(e,t,i,o,n,r){super(e),this._hasDescription=t,this._hasScreenshot=i,this._hasLogs=o,this._category=n,this._origin=r}getActionName(){return"ReportProblemDialogSubmitted"}getAttributes(){const e=super.getAttributes();return e.Category=this._category||"None selected",e.HasDescription=this._hasDescription,e.HasScreenshot=this._hasScreenshot,e.HasLogs=this._hasLogs,e.Origin=this._origin?o.NavigationSettingsOrigin[this._origin]:"Unknown",e}}},815067:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582).__importDefault(i(550385));class n extends o.default{constructor(e,t,i,o,n){super(e,t,i,o,n)}failed(e,t){this._failed(e,t)}retry(e,t){this._retry(e,t)}succeeded(){this._succeeded()}}t.default=n},550385:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(240297),a=o.__importDefault(i(535775)),s=o.__importDefault(i(760989));class l extends a.default{constructor(e,t,i,o,n){super(e,void 0,o),this._subScenario=t,this._telemetrySamplingKey=i,n?(this._attempt=n._attempt+1,this._shouldSendScenarioTelemetry=n._shouldSendSampledTelemetry(),this._requestId=n._requestId):(this._attempt=0,this._requestId=this._scenarioId),this.extendProperties({attempt:this._attempt,requestId:this._requestId})}_shouldSendSampledTelemetry(){if(void 0!==this._shouldSendScenarioTelemetry)return this._shouldSendScenarioTelemetry;if(this._telemetrySamplingKey){const e=this._telemetrySamplingKey+this._subScenario,t=r.SampledEvents[e];return n.isNumber(t)?(this._shouldSendScenarioTelemetry=s.default.sampleForPercentage(t),this._shouldSendScenarioTelemetry):(this._shouldSendScenarioTelemetry=super._shouldSendSampledTelemetry(),this._shouldSendScenarioTelemetry)}return this._shouldSendScenarioTelemetry=super._shouldSendSampledTelemetry(),this._shouldSendScenarioTelemetry}test_shouldSendTelemetryPersists(){return this._shouldSendScenarioTelemetry}test_requestIdPersists(){return this._requestId}}t.default=class{constructor(e,t,i,o,n){this._service=e,this._scenarioName=t,this._properties=i,this._telemetrySamplingKey=o,this._subScenario=n,this._completed=!1,this._success=!1,this._scenario=new l(this._scenarioName,this._subScenario,this._telemetrySamplingKey,this._properties)}begin(){this._scenario.start()}_failed(e,t){this._completed=!0,this._success=!1,this._scenario.fail(e,t)}_retry(e,t){this._scenario.fail(e,t),this._scenario=new l(this._scenarioName,this._subScenario,this._telemetrySamplingKey,this._properties,this._scenario),this.begin()}_succeeded(e){this._completed=!0,this._success=!0,this._scenario.finish(e)}ensureResolved(){}ensureRejected(){}test_exposeRequestId(){return this._scenario.test_requestIdPersists()}test_exposeShouldSendTelemetry(){return this._scenario.test_shouldSendTelemetryPersists()}}},699754:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResponsivenessTelemetryScenario=t.ResponsivenessScenarioStep=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(96575),a=o.__importDefault(i(535775)),s=o.__importDefault(i(601274)),l=o.__importDefault(i(760989)),c=o.__importStar(i(85385)),d=i(92179),u=o.__importDefault(i(150343));var p;!function(e){e[e.ActionStarted=0]="ActionStarted",e[e.ActionClosed=1]="ActionClosed",e[e.OnJsPress=2]="OnJsPress",e[e.ActionDone=3]="ActionDone",e[e.TimedOut=4]="TimedOut",e[e.DelayComputationError=5]="DelayComputationError"}(p||(t.ResponsivenessScenarioStep=p={}));t.ResponsivenessTelemetryScenario=class{constructor(e,t,i=!1){this._scenarioCompleted=!1,this._scenarioTimedOut=!1,this._traceOnly=!1,this._responsivenessOpenTimeoutMs=u.default.getS4LCMCFeaturesNoSubscription().responsivenessTrackingTimeout,this._onResponsivenessOpenTimeout=()=>{if(this._scenarioCompleted)return;const e={cause:p[p.TimedOut]};this._scenario.finish(e),this._scenarioCompleted=!0,this._scenarioTimedOut=!0},this._scenarioName=e,this._properties=t,this._traceOnly=i}_startNewScenario(e){this._scenarioTimedOut=!1,this._scenarioCompleted=!1;const t=Object.assign(Object.assign({},this._properties),{cause:p[e]});this._scenario=new a.default(this._scenarioName,void 0,void 0,void 0,!0),this._scenario.start(t),this._resetTimeoutTimer()}cancelTimeoutTimer(){this._timeoutTimerId&&(s.default.clearTimeout(this._timeoutTimerId),this._timeoutTimerId=void 0)}traceOnly(e){this._traceOnly=e}_resetTimeoutTimer(){this.cancelTimeoutTimer(),this._timeoutTimerId=s.default.setTimeout(this._onResponsivenessOpenTimeout,this._responsivenessOpenTimeoutMs)}startResponsivenessScenario(){this._startNewScenario(p.ActionStarted)}markStep(e,t){var i;if(this._scenarioTimedOut&&this._startNewScenario(p.TimedOut),!this._scenarioCompleted)if(e===p.ActionClosed||e===p.DelayComputationError){const t={cause:p[e]};null===(i=this._scenario)||void 0===i||i.finish(t),this._scenarioCompleted=!0,this.cancelTimeoutTimer()}else{const i=p[e];this._scenario.isStepMarked(i)||this._scenario.markStepCompleted(i,void 0,t,this._traceOnly),this._resetTimeoutTimer()}}isCompleted(){return this._scenarioCompleted}shouldEnableSampledScenario(){if(void 0!==this._shouldEnableScenario)return this._shouldEnableScenario;if(n.isEmpty(d.SampledScenarios))return c.debug((()=>"Sampled scenarios not populated from ECS yet")),!1;const e=d.SampledScenarios[r.ScenarioName[this._scenarioName]];return c.debug((()=>"Scenario sample rate is "+e+"%")),n.isNumber(e)?(this._shouldEnableScenario=l.default.sampleForPercentage(e),c.debug((()=>"Scenario tracking calculated. Enabled: "+this._shouldEnableScenario)),this._shouldEnableScenario):(c.debug((()=>"Scenario sample rate not available. Disable scenario tracking.")),this._shouldEnableScenario=!1,this._shouldEnableScenario)}}},20419:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rewardsClaimTelemetryEvent=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297);class r extends n.TelemetryEventBase{constructor(e){super(),this._statusCode=e}getEventName(){return"rewards_upsell"}getActionName(){return"rewardsClaim"}getAttributes(){return o.assign({},super.getAttributes(),{StatusCode:this._statusCode})}}t.rewardsClaimTelemetryEvent=r},985947:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SayHiPopupTelemetryEvent=t.SayHiPopupAction=void 0;const o=i(240297);var n;!function(e){e[e.ShouldShow=0]="ShouldShow",e[e.Shown=1]="Shown",e[e.Clicked=2]="Clicked"}(n||(t.SayHiPopupAction=n={}));class r extends o.TelemetryEventBase{constructor(e,t,i,o){super(),this._action=e,this._isNewUser=t,this._skypeContactCount=i,this._shortCircuitContactCount=o}getEventName(){return"people_say_hi_popup"}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],e.IsNewUser=this._isNewUser,e.SkypeContactCount=this._skypeContactCount,e.ShortCircuitContactCount=this._shortCircuitContactCount,e}}t.SayHiPopupTelemetryEvent=r},96575:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ScenarioTrackerBase=t.ScenarioName=void 0,function(e){e[e.SendMessage=0]="SendMessage",e[e.SendRestoredMessage=1]="SendRestoredMessage",e[e.SendTextMessage=2]="SendTextMessage",e[e.SendPicture=3]="SendPicture",e[e.SendVideo=4]="SendVideo",e[e.SendAudioMessage=5]="SendAudioMessage",e[e.SendLocation=6]="SendLocation",e[e.SendSticker=7]="SendSticker",e[e.SendFile=8]="SendFile",e[e.SendGif=9]="SendGif",e[e.InitialRecentsSync=10]="InitialRecentsSync",e[e.ReactionsSummary=11]="ReactionsSummary",e[e.ShowReactionsSummary=12]="ShowReactionsSummary",e[e.ReactionsMenuAccessable=13]="ReactionsMenuAccessable",e[e.ShowReactionsMenu=14]="ShowReactionsMenu",e[e.ReactionsMenu=15]="ReactionsMenu",e[e.ShareToSkypeMedia=16]="ShareToSkypeMedia",e[e.ShareToSkypeText=17]="ShareToSkypeText",e[e.ForwardAdditionalText=18]="ForwardAdditionalText",e[e.OpenEmoticonPicker=19]="OpenEmoticonPicker",e[e.OpenDiversityPicker=20]="OpenDiversityPicker",e[e.OpenMeetNowPicker=21]="OpenMeetNowPicker",e[e.OpenImageUploader=22]="OpenImageUploader",e[e.AppStartup=23]="AppStartup",e[e.StreamFrom=24]="StreamFrom",e[e.IncomingCall=25]="IncomingCall",e[e.AnswerCall=26]="AnswerCall",e[e.Gallery=27]="Gallery",e[e.Search=28]="Search",e[e.PnvUI=29]="PnvUI",e[e.NewGroupChat=30]="NewGroupChat",e[e.PNH_Post=31]="PNH_Post",e[e.PNH_Delete=32]="PNH_Delete",e[e.PopCard=33]="PopCard",e[e.FirstRunCoachMark=34]="FirstRunCoachMark",e[e.SuggestionsConsent=35]="SuggestionsConsent",e[e.OpenChatStickerPicker=36]="OpenChatStickerPicker",e[e.EmergencyRestoreEndpoints=37]="EmergencyRestoreEndpoints",e[e.ChatServiceRequest=38]="ChatServiceRequest",e[e.TimeToConnected=39]="TimeToConnected",e[e.LoginAuth=40]="LoginAuth",e[e.EmoticonRendering=41]="EmoticonRendering",e[e.PesPickerOpen=42]="PesPickerOpen",e[e.EmoticonPesPickerOpen=43]="EmoticonPesPickerOpen",e[e.OpenGifPicker=44]="OpenGifPicker",e[e.MessagePanelPip=45]="MessagePanelPip",e[e.CreateMeetNow=46]="CreateMeetNow",e[e.JoinMeetNow=47]="JoinMeetNow",e[e.HtmlNotification=48]="HtmlNotification",e[e.FirstLogin=49]="FirstLogin",e[e.Startup=50]="Startup",e[e.RenderCallControls=51]="RenderCallControls",e[e.RenderLocalCallReaction=52]="RenderLocalCallReaction",e[e.ShowCameraViewfinder=53]="ShowCameraViewfinder",e[e.PreviewSnappedPhoto=54]="PreviewSnappedPhoto",e[e.OpenContactsPanel=55]="OpenContactsPanel",e[e.OpenContactsPanelV2=56]="OpenContactsPanelV2",e[e.OpenFindPanel=57]="OpenFindPanel",e[e.OpenIntegration=58]="OpenIntegration",e[e.ViewMediaIntent=59]="ViewMediaIntent",e[e.PlayVideoIntent=60]="PlayVideoIntent",e[e.Logout=61]="Logout",e[e.PerfTelemetryScenario=62]="PerfTelemetryScenario",e[e.SendTextMessageUI=63]="SendTextMessageUI",e[e.SendTextMessageTimeToAppearInChat=64]="SendTextMessageTimeToAppearInChat",e[e.SendPictureUI=65]="SendPictureUI",e[e.SayHi=66]="SayHi",e[e.ConversationOpenAnimation=67]="ConversationOpenAnimation",e[e.InviteAcceptance=68]="InviteAcceptance",e[e.ActionInvite=69]="ActionInvite",e[e.GuestLoginFlow=70]="GuestLoginFlow",e[e.GuestUpsellPanel=71]="GuestUpsellPanel",e[e.GuestSiSuComponent=72]="GuestSiSuComponent",e[e.AppStartupIntent=73]="AppStartupIntent",e[e.ApsFetchIntegrations=74]="ApsFetchIntegrations",e[e.ResponsivenessMeetNow=75]="ResponsivenessMeetNow",e[e.ResponsivenessMuteCall=76]="ResponsivenessMuteCall",e[e.ResponsivenessToggleVideoCall=77]="ResponsivenessToggleVideoCall",e[e.ResponsivenessEndCall=78]="ResponsivenessEndCall",e[e.ResponsivenessChatPanelInCall=79]="ResponsivenessChatPanelInCall",e[e.ResponsivenessCancelEditMessage=80]="ResponsivenessCancelEditMessage",e[e.ResponsivenessRecordAudio=81]="ResponsivenessRecordAudio",e[e.ResponsivenessSendEditMessage=82]="ResponsivenessSendEditMessage",e[e.ResponsivenessPressDialpadButton=83]="ResponsivenessPressDialpadButton",e[e.ResponsivenessSelectHubTab=84]="ResponsivenessSelectHubTab",e[e.ResponsivenessOpenProfile=85]="ResponsivenessOpenProfile",e[e.ResponsivenessGoBackFromConversation=86]="ResponsivenessGoBackFromConversation",e[e.ResponsivenessGoToConversation=87]="ResponsivenessGoToConversation",e[e.InvalidGrant=88]="InvalidGrant",e[e.TokenStoreInitialization=89]="TokenStoreInitialization",e[e.GetAllDisplayableUsers=90]="GetAllDisplayableUsers",e[e.PutDisplayableUsers=91]="PutDisplayableUsers",e[e.GetMessagesForConversationAfterTime=92]="GetMessagesForConversationAfterTime",e[e.GetMessagesForConversationAndTimeRange=93]="GetMessagesForConversationAndTimeRange",e[e.RemoveMessages=94]="RemoveMessages",e[e.PutMessages=95]="PutMessages",e[e.GetAllConversationMetas=96]="GetAllConversationMetas",e[e.PutConversationMetas=97]="PutConversationMetas",e[e.RemoveConversationMetas=98]="RemoveConversationMetas",e[e.GetUserProfileByMri=99]="GetUserProfileByMri",e[e.GetUserProfilesByMris=100]="GetUserProfilesByMris",e[e.PutUserProfiles=101]="PutUserProfiles",e[e.SendMediaAlbum=102]="SendMediaAlbum",e[e.PhoneAuth=103]="PhoneAuth",e[e.PhoneVerification=104]="PhoneVerification",e[e.TodayTabLoad=105]="TodayTabLoad",e[e.WaitingForCallInState=106]="WaitingForCallInState"}(i||(t.ScenarioName=i={}));t.ScenarioTrackerBase=class{}},224802:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScheduledCallsFetchedEvent=t.ScheduledCallCancelEvent=t.ScheduledCallRSVPEvent=t.ScheduleNextCallPresentedEvent=t.ScheduledCallEditedEvent=t.ScheduleCallCompletedOrCanceledEvent=t.ScheduledCallsFetchedStatus=void 0;const o=i(197582),n=i(511134),r=i(36381),a=i(240297),s=o.__importStar(i(340482));var l;!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(l||(t.ScheduledCallsFetchedStatus=l={}));class c extends a.TelemetryEventBase{getEventName(){return"calling_schedule_call"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class d extends c{constructor(e,t,i,o,n,r,a){super(),this._hasSubjectChanged=e,this._hasDateTimeChanged=t,this._hasReminderChanged=i,this._entryPoint=o,this._conversationType=n,this._conversationId=r,this._reminder=a}getAttributes(){const e=super.getAttributes();return e.EntryPoint=r.ScheduleCallEntryPoint[this._entryPoint],e.ConversationType=n.ConversationType[this._conversationType],e.HasSubjectChanged=this._hasSubjectChanged,e.HasDateTimeChanged=this._hasDateTimeChanged,e.HasReminderChanged=this._hasReminderChanged,e.Reminder=this._reminder?r.ScheduledCallReminder[this._reminder]:"",this._conversationId&&(e.ConversationId=this._conversationId),e}}t.ScheduleCallCompletedOrCanceledEvent=class extends d{constructor(e=!1,t,i,o,n,r,a,s){super(t,i,o,n,r,a,s),this._wasCanceled=e}getActionName(){return this._wasCanceled?"ScheduleCallCanceled":"ScheduleCallCompleted"}};t.ScheduledCallEditedEvent=class extends d{constructor(e,t,i,o,n,r,a,s,l){super(i,o,n,r,a,s,l),this._isOrganizer=e,this._hasStatusChanged=t}getActionName(){return"ScheduledCallEdited"}getAttributes(){const e=super.getAttributes();return e.IsOrganizer=this._isOrganizer,e.HasStatusChanged=this._hasStatusChanged,e}};t.ScheduleNextCallPresentedEvent=class extends c{constructor(e){super(),this._callDuration=e}getActionName(){return"ScheduleNextCallPresented"}getAttributes(){const e=super.getAttributes();return e.CallDuration=this._callDuration,e}};t.ScheduledCallRSVPEvent=class extends c{constructor(e,t,i,o){super(),this._entryPoint=e,this._responseValue=t,this._conversationId=i,this._scheduledCallId=o}getActionName(){return"ScheduledCallRSVP"}getAttributes(){const e=super.getAttributes();return e.EntryPoint=r.ScheduleCallRSVPEntryPoint[this._entryPoint],e.ResponseValue=r.ScheduledCallInvitationStatus[this._responseValue],e.ScheduledCallId=this._scheduledCallId,e.ConversationType=n.ConversationType[s.getConversationTypeForTelemetry(this._conversationId)],e}};t.ScheduledCallCancelEvent=class extends c{constructor(e,t){super(),this._entryPoint=e,this._conversationId=t}getActionName(){return"ScheduledCallCanceled"}getAttributes(){const e=super.getAttributes();return e.EntryPoint=r.ScheduleCallCancelEventEntryPoint[this._entryPoint],this._conversationId&&(e.ConversationType=n.ConversationType[s.getConversationTypeForTelemetry(this._conversationId)]),e}};t.ScheduledCallsFetchedEvent=class extends c{constructor(e,t){super(),this._status=e,this._error=t}getActionName(){return"ScheduledCallsFetched"}getAttributes(){const e=super.getAttributes();return e.Status=l[this._status],this._error&&(void 0!==this._error.statusCode&&(e.ErrorCode=this._error.statusCode),void 0!==this._error.statusText&&(e.ErrorMessage=this._error.statusText)),e}}},424220:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenSharingPanelStartedSharingEvent=t.ScreenSharingPanelCancelEvent=t.ScreenSharingStartOrigin=t.ScreenSharingPanelCancelOrigin=void 0;const o=i(148540);var n,r;!function(e){e[e.BackButton=0]="BackButton",e[e.CancelButton=1]="CancelButton",e[e.ClickOutside=2]="ClickOutside",e[e.Esc=3]="Esc"}(n||(t.ScreenSharingPanelCancelOrigin=n={})),function(e){e[e.StartButton=0]="StartButton",e[e.DoubleClickSource=1]="DoubleClickSource",e[e.EnterWithKeyboardNavigation=2]="EnterWithKeyboardNavigation"}(r||(t.ScreenSharingStartOrigin=r={}));const a=i(240297);class s extends a.TelemetryEventBase{constructor(e,t,i,o){super(),this._screensCount=e,this._windowsCount=t,this._origin=i,this._isSwitchingScreen=o}getEventName(){return"calling_screen_sharing_panel"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.IsSwitchingScreen=this._isSwitchingScreen,e.ScreensCount=this._screensCount,e.WindowsCount=this._windowsCount,e.Origin=this._origin,e}}t.ScreenSharingPanelCancelEvent=class extends s{constructor(e,t,i,o){super(t,i,n[e],o)}getActionName(){return"ScreenSharingPanelCancel"}getAttributes(){return super.getAttributes()}};t.ScreenSharingPanelStartedSharingEvent=class extends s{constructor(e,t,i,o,n){super(i,o,r[t],n),this._sourceType=e}getActionName(){return"ScreenSharingPanelStartedSharing"}getAttributes(){const e=super.getAttributes();return e.SourceType=o.SharingSourceType[this._sourceType],e}}},309515:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.searchWillOpen=function(){g.endScenario(),g.startScenario()},t.searchPanelOpening=function(e){if(g.getIdentifier())return;g.setIdentifier(e)},t.searchPanelIsRendered=function(e){if(!g.isTrackingIdentifier(e))return;a.track(new p.SearchPanelRendered(g.getCurrentDuration(),u.default.isUsingStackNavigationContext()))},t.searchPanelZeroTermResultsRendered=function(e){if(!g.isTrackingIdentifier(e))return;a.track(new p.SearchPanelZeroTermResultsRendered(g.getCurrentDuration(),u.default.isUsingStackNavigationContext()))},t.test_resetSearchScenarios=function(){m()},t.test_getSearchScenario=function(e){return h[e]},t.setIdentifier=function(e,t){const i=h[e];t!==i.getIdentifier()&&(i.endScenario(),i.startScenario());i.setIdentifier(t)},t.willSearch=function(e,t){const i=h[e];i.endScenario(),i.startScenario(),i.setIdentifier(t)},t.searchCallSent=function(e,t,i,o){const n=h[e];if(!n.isTrackingIdentifier(t))return;n.markCallSent();const r=f(n,i),s=y(e,o);a.track(new p.SearchRequestCallSent(r,e,s))},t.searchResultsReceived=function(e,t,i,o){const n=h[e];if(!n.isTrackingIdentifier(t))return;n.markResultsReceived();const r=f(n,i),s=y(e,o);a.track(new p.SearchRequestResultsReceived(r,e,s))},t.searchResultsNotReceived=function(e,t,i,o,n,s,l){const c=h[e];if(!c.isTrackingIdentifier(t))return;c.markResultsNotReceived(),n=r.pii.Omit(n);const d=Object.assign(Object.assign({},f(c,i)),{errorCode:o,errorMessage:n,wasNetworkAvailable:s}),u=y(e,l);a.track(new p.SearchRequestResultsNotReceived(d,e,u))},t.searchResultsRendered=function(e,t,i,o){const n=h[e];if(!n.isTrackingIdentifier(t))return;const r=f(n,i),s=y(e,o),l=_(e,t);a.track(new p.SearchRequestResultsRendered(r,e,s,l)),n.endScenario()},t.invalidateSearchScenario=function(e,t){const i=h[e];if(!i.isTrackingIdentifier(t))return;i.invalidate(),i.endScenario()},t.markMessageSearchScenarioResultMessageTimestamp=function(e,t,i){if(!h[c.ScenarioSearchTypes.MessageInConversation].isTrackingIdentifier(e))return;!function(){const e=10;S.length>=e&&(S=S.slice(-e))}();const o=n.findIndex(S,(e=>e.conversationId===i)),r={conversationId:i,messageTimestamp:t,sessionId:e,additionalLoading:c.AdditionalLoading.None};if(-1===o)S.push(r);else{const i=S[o];if(i.messageTimestamp===t&&i.sessionId===e)return;S[o]=r}},t.markMessageSearchAdditionalMessageLoading=function(e,t,i){const o=h[c.ScenarioSearchTypes.MessageInConversation],r=n.findIndex(S,(t=>t.conversationId===e));if(-1===r)return;const a=S[r],s=a.sessionId;if(!o.isTrackingIdentifier(s))return;if(a.messageTimestamp!==t)return;S[r]=Object.assign(Object.assign({},a),{additionalLoading:i})},t.compositeScenarioResultsRendered=function(e,t,i,o,r){const s=[{scenarioType:c.ScenarioSearchTypes.PublicDirectory,shouldBeResolved:r.publicDirectory},{scenarioType:c.ScenarioSearchTypes.Message,shouldBeResolved:r.message},{scenarioType:c.ScenarioSearchTypes.IndexedDB,shouldBeResolved:r.indexedDb},{scenarioType:c.ScenarioSearchTypes.Bots,shouldBeResolved:r.bots},{scenarioType:c.ScenarioSearchTypes.AllPeople,shouldBeResolved:r.allPeople},{scenarioType:c.ScenarioSearchTypes.FastContacts,shouldBeResolved:r.fastContacts},{scenarioType:c.ScenarioSearchTypes.MessageInConversation,shouldBeResolved:r.messageInConversation}],d=n.map(s,(e=>({scenario:h[e.scenarioType],shouldBeResolved:e.shouldBeResolved,name:c.ScenarioSearchTypes[e.scenarioType]})));for(var g=0;g<d.length;g++){var m=d[g];if(!m.shouldBeResolved)continue;if(m.scenario.getNumberOfSteps()<4)return void a.log(l.LogTraceArea.Search,"compositeScenarioResultsRendered, ignoring event, because a scenario does not have all the expected steps. sessionId: "+e)}const S=n.reduce(d,((e,t)=>t.shouldBeResolved?Math.min(e,t.scenario.getStepTimestamp(0)):e),Number.MAX_SAFE_INTEGER),f=n.reduce(d,((e,t)=>{const i=t.scenario.getNumberOfSteps();if(t.shouldBeResolved&&4===i){const i=t.scenario.getNumberOfSteps()-2;return Math.max(e,t.scenario.getStepTimestamp(i))}return e}),Number.MIN_SAFE_INTEGER),y=n.reduce(d,((e,t)=>{if(t.shouldBeResolved){const i=t.scenario.getNumberOfSteps()-1;return Math.max(e,t.scenario.getStepTimestamp(i))}return e}),Number.MIN_SAFE_INTEGER),C=n.map(d,(e=>{const t=e.scenario.getNumberOfSteps();if(e.shouldBeResolved&&4===t){const i=t-2;return e.scenario.getStepTimestamp(i)-e.scenario.getStepTimestamp(0)}})),v=f===Number.MIN_SAFE_INTEGER?void 0:f-S,b=y-S,T=_(c.ScenarioSearchTypes.MessageInConversation,e),P=new p.CompositeSearch(b,u.default.isUsingStackNavigationContext(),t,i,o,T,v,C[0],C[1],C[2],C[3],C[4],C[5],C[6]);a.track(P);let k="Composite ";o&&(k+="zero term ");const A=n.isUndefined(i)?p.CompositeSearchOrigin[t]:l.SearchResultsListOrigin[i];k+="search in "+A+" took "+b+"ms (time to process requests and render results).\nIt took "+v+"ms to handle all search requests.";for(let e=0;e<d.length;e++)n.isUndefined(C[e])||(k+="\n",k+=d[e].name+" search request took "+C[e]+"ms.");T&&(k+="\nAdditionalLoading: "+c.AdditionalLoading[T]);a.log(l.LogTraceArea.Search,k)};const o=i(197582),n=o.__importStar(i(496486)),r=i(174958),a=o.__importStar(i(85385)),s=o.__importDefault(i(150343)),l=i(815146),c=i(306194),d=i(206525),u=o.__importDefault(i(942724)),p=o.__importStar(i(306194)),g=new d.PerfTelemetryScenario;const h={};function m(){h[c.ScenarioSearchTypes.AllPeople]=new d.PerfTelemetryScenario,h[c.ScenarioSearchTypes.Bots]=new d.PerfTelemetryScenario,h[c.ScenarioSearchTypes.IndexedDB]=new d.PerfTelemetryScenario,h[c.ScenarioSearchTypes.FastContacts]=new d.PerfTelemetryScenario,h[c.ScenarioSearchTypes.Message]=new d.PerfTelemetryScenario,h[c.ScenarioSearchTypes.MessageInConversation]=new d.PerfTelemetryScenario,h[c.ScenarioSearchTypes.PublicDirectory]=new d.PerfTelemetryScenario}m();let S=[];function _(e,t){if(e!==c.ScenarioSearchTypes.MessageInConversation)return;const i=n.findIndex(S,(e=>e.sessionId===t));return-1!==i?S[i].additionalLoading:void 0}function f(e,t){return{durationInMs:e.getCurrentDuration(),isStackMode:u.default.isUsingStackNavigationContext(),isZeroTermSearch:t}}function y(e,t){if(e===c.ScenarioSearchTypes.Message||e===c.ScenarioSearchTypes.MessageInConversation)return{endpoint:s.default.getConfigSettingsNoSubscription().messageSearch.host,searchLimit:t}}},722641:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SearchTelemetryScenario=t.SearchScenarioComputation=void 0;const o=i(197582),n=i(815146),r=i(96575),a=i(376229),s=o.__importDefault(i(535775));var l;!function(e){e[e.GroupChats=0]="GroupChats",e[e.Bots=1]="Bots",e[e.Messages=2]="Messages",e[e.PublicDirectory=3]="PublicDirectory"}(l||(t.SearchScenarioComputation=l={}));t.SearchTelemetryScenario=class{constructor(e,t,i){this._origin=e,this._searchPanelInitiator=t,this._getResultType=i,this._isSuccessful=!1,this._scenario=new s.default(r.ScenarioName.Search),this._scenario.setDuplicateStepMarkingEnabled(),this._scenario.start(this._getBaseAttributes())}clickOnResult(e,t,i,o){const r=this._getBaseAttributes();r.ResultType=this._getResultType(e,i),r.SearchGroup=n.SearchResultsListGroup[t],r.Index=o,this._isSuccessful=!0,this._scenario.markStepCompleted("ClickOnResult",r)}clickOnResultContextMenu(e,t,i){if(!this._scenario.isResolved()){const o=this._getBaseAttributes();o.ResultType=this._getResultType(e),o.SearchGroup=n.SearchResultsListGroup[t],o.ContextMenuCommand=i,this._isSuccessful=!0,this._scenario.markStepCompleted("ClickOnResultContextMenu",o)}}clickOnMore(e){const t=this._getBaseAttributes();t.SearchGroup=n.SearchResultsListGroup[e],this._scenario.markStepCompleted("ClickOnMore",t)}computationFailed(e,t,i){const o=this._getBaseAttributes();o.FailedComputation=l[e],t&&(o.ErrorCode=t),i&&(o.ErrorMessage=i),this._scenario.markStepCompleted("ComputationFailed",o)}finish(){this._isSuccessful?this._scenario.finish(this._getBaseAttributes()):this._scenario.fail(void 0,this._getBaseAttributes())}setQueryLength(e){this._queryLength=e}setSearchFilter(e){this._searchFilter=e}_getBaseAttributes(){const e={};return e.Origin=n.SearchResultsListOrigin[this._origin],void 0!==this._queryLength&&(e.QueryLength=this._queryLength),this._searchFilter&&(e.SearchFilter=a.DesktopSearchFilterOptions[this._searchFilter]),this._searchPanelInitiator&&(e.SearchPanelInitiator=n.SearchPanelInitiator[this._searchPanelInitiator]),e}}},667748:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceWorkerErrorCaughtEvent=t.ServiceWorkerStateChangedEvent=void 0;const o=i(197582),n=i(240297),r=o.__importDefault(i(655192));class a extends n.TelemetryEventBase{getEventName(){return"fundamentals_service_worker"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}t.ServiceWorkerStateChangedEvent=class extends a{constructor(e){super(),this._state=e}getAction(){return"StateChanged"}getAttributes(){const e=super.getAttributes();return e.State=this._state,e}};t.ServiceWorkerErrorCaughtEvent=class extends a{constructor(e){super(),this._error=e}getAction(){return"ErrorCaught"}getAttributes(){const e=super.getAttributes();return e.Name=this._error.name,e.Error=r.default.errorAsString(this._error),e}}},967338:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrivacySettingsTelemetryEvent=t.GlobalShortcutsSettingTelemetryEvent=t.SplitViewTelemetryEvent=t.EcoModeSettingsEvent=t.NoiseSuppressionSettingsEvent=t.CallingSettingsEvent=t.NotificationSettingsChangeTelemetry=t.AVSettingsDialogEvent=t.WAMAutoSignInWelcomeDialogEvent=t.TelemetryConsentDialogEvent=t.PromptPermissionDialogEvent=t.PromptPermissionDialogVersion=t.AvatarPickerDialogEvent=t.UserProfileDialogEvent=t.ThemeEvent=t.ThemeDialogEvent=t.OnboardingDialogEvent=void 0;const o=i(197582).__importStar(i(496486)),n=i(962234),r=i(413686),a=i(815146),s=i(331079),l=i(240297),c=i(935086),d=i(206197);class u extends l.TelemetryEventBase{constructor(e,t,i){super(),this._origin=e,this._onboardingDisplayOrder=t,this._onboardingStepsCount=i,this._navExit=r.DialogNavExit.Unknown,this._isNewUser=!1,this._isUpgradedFromDelphi=!1}getExit(){return this._navExit}setExit(e){this._navExit=e}setIsNewUser(e){this._isNewUser=e}setIsUpgradedFromDelphi(e){this._isUpgradedFromDelphi=e}getAttributes(){return o.assign(super.getAttributes(),{Origin:r.DialogNavOrigin[this._origin],Duration:Date.now()-this._eventCreationTime,OnboardingDisplayOrder:void 0!==this._onboardingDisplayOrder?this._onboardingDisplayOrder:-1,OnboardingStepsCount:void 0!==this._onboardingStepsCount?this._onboardingStepsCount:-1,Exit:r.DialogNavExit[this._navExit],IsNewUser:this._isNewUser,IsUpgradedFromDelphi:this._isUpgradedFromDelphi})}}class p extends u{constructor(){super(...arguments),this._onboardingTrackingAttributes={}}setOnboardingAttributes(e){this._onboardingTrackingAttributes=e}getOnboardingAttributes(){return this._onboardingTrackingAttributes}}t.OnboardingDialogEvent=p;class g extends p{constructor(){super(...arguments),this._didToggleLightDarkTab=!1,this._didSelectNewTheme=!1}getEventName(){return"settings_themeDialog"}markDidToggleLightDarkTab(){this._didToggleLightDarkTab=!0}markDidSelectNewTheme(){this._didSelectNewTheme=!0}setFinalTheme(e){this._finalTheme=e}getAttributes(){return o.assign(super.getAttributes(),{DidToggleLightDarkTab:this._didToggleLightDarkTab,DidSelectNewTheme:this._didSelectNewTheme,FinalTheme:void 0!==this._finalTheme?d.Theme[this._finalTheme]:""})}}t.ThemeDialogEvent=g;t.ThemeEvent=class extends g{setUserColor(e){this._userColor=e}setMode(e){this._mode=e}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{UserColor:this._userColor,Mode:this._mode})}};t.UserProfileDialogEvent=class extends p{getEventName(){return"settings_userProfileDialog"}};var h;t.AvatarPickerDialogEvent=class extends p{constructor(){super(...arguments),this._didHaveInitialAvatar=!1,this._didHaveFinalAvatar=!1,this._didSetNewAvatar=!1,this._didRemoveAvatar=!1,this._didRequestCameraPermission=!1,this._didGrantCameraPermission=!1,this._didRequestCameraRollPermission=!1,this._didGrantCameraRollPermission=!1,this._didUseWAMAutoSignInFlow=!1}getEventName(){return"settings_avatarPickerDialog"}didHaveInitialAvatar(){return this._didHaveInitialAvatar}markDidHaveInitialAvatar(){this._didHaveInitialAvatar=!0}markDidHaveFinalAvatar(){this._didHaveFinalAvatar=!0}markDidSetNewAvatar(){this._didSetNewAvatar=!0}markDidRemoveAvatar(){this._didRemoveAvatar=!0}setAvatarSource(e){this._avatarSource=e}markDidUseWAMAutoSignInFlow(){this._didUseWAMAutoSignInFlow=!0}markPermissionRequested(e){switch(e){case s.PermissionType.CameraRoll:this._didRequestCameraRollPermission=!0;break;case s.PermissionType.Camera:this._didRequestCameraPermission=!0}}markPermissionGranted(e,t){switch(e){case s.PermissionType.CameraRoll:this._didGrantCameraRollPermission=t;break;case s.PermissionType.Camera:this._didGrantCameraPermission=t}}getAttributes(){return o.assign(super.getAttributes(),{DidHaveInitialAvatar:this._didHaveInitialAvatar,DidHaveFinalAvatar:this._didHaveFinalAvatar,DidSetNewAvatar:this._didSetNewAvatar,DidRemoveAvatar:this._didRemoveAvatar,AvatarSource:void 0!==this._avatarSource?a.AvatarDataSource[this._avatarSource]:a.AvatarDataSource[a.AvatarDataSource.Unknown],DidRequestCameraPermission:this._didRequestCameraPermission,DidGrantCameraPermission:this._didGrantCameraPermission,DidRequestCameraRollPermission:this._didRequestCameraRollPermission,DidGrantCameraRollPermission:this._didGrantCameraRollPermission,DidUseWAMAutoSignInFlow:this._didUseWAMAutoSignInFlow})}},function(e){e[e.V1=0]="V1",e[e.V3=1]="V3",e[e.V4_FirstBlank=2]="V4_FirstBlank",e[e.V4_FirstWithInfo=3]="V4_FirstWithInfo",e[e.V4_FirstWithPreprompt=4]="V4_FirstWithPreprompt"}(h||(t.PromptPermissionDialogVersion=h={}));t.PromptPermissionDialogEvent=class extends p{constructor(e,t,i,o){super(e,i,o),this._version=t,this._didAlreadyPromptNotificationsPermission=!1,this._didAlreadyPromptMicPermission=!1,this._didAlreadyPromptCameraPermission=!1,this._didRequestNotificationsPermission=!1,this._didRequestMicPermission=!1,this._didRequestCameraPermission=!1,this._didRequestReadPhoneStatePermission=!1,this._didGrantNotificationsPermission=!1,this._didGrantMicPermission=!1,this._didGrantCameraPermission=!1,this._didGrantReadPhoneStatePermission=!1,this._didNotificationPermissionRequestFailed=!1,this._didVisitPrivacyStatement=!1,this._didSeeLearnMoreButton=!1}getEventName(){return"settings_promptPermissionDialog"}markWhetherSystemPromptsHaveAlreadyBeenDisplayed(e,t,i){this._didAlreadyPromptNotificationsPermission=!e,this._didAlreadyPromptMicPermission=!t,this._didAlreadyPromptCameraPermission=!i}markPermissionGranted(e,t){switch(e){case s.PermissionType.Notifications:this._didGrantNotificationsPermission=t;break;case s.PermissionType.Microphone:this._didGrantMicPermission=t;break;case s.PermissionType.Camera:this._didGrantCameraPermission=t;break;case s.PermissionType.ReadPhoneState:this._didGrantReadPhoneStatePermission=t}}markPermissionRequested(e){switch(e){case s.PermissionType.Notifications:this._didRequestNotificationsPermission=!0;break;case s.PermissionType.Microphone:this._didRequestMicPermission=!0;break;case s.PermissionType.Camera:this._didRequestCameraPermission=!0;break;case s.PermissionType.ReadPhoneState:this._didRequestReadPhoneStatePermission=!0}}markNotificationPermissionRequestFailed(){this._didNotificationPermissionRequestFailed=!0}markDidVisitPrivacyStatement(){this._didVisitPrivacyStatement=!0}markDidSeeLearnMoreButton(){this._didSeeLearnMoreButton=!0}getAttributes(){return o.assign(super.getAttributes(),{DidAlreadyPropmptNotificationsPermission:this._didAlreadyPromptNotificationsPermission,DidAlreadyPropmptMicPermission:this._didAlreadyPromptMicPermission,DidAlreadyPropmptCameraPermission:this._didAlreadyPromptCameraPermission,DidRequestNotificationsPermission:this._didRequestNotificationsPermission,DidRequestMicPermission:this._didRequestMicPermission,DidRequestCameraPermission:this._didRequestCameraPermission,DidRequestReadPhoneStatePermission:this._didRequestReadPhoneStatePermission,DidGrantNotificationsPermission:this._didGrantNotificationsPermission,DidGrantMicPermission:this._didGrantMicPermission,DidGrantCameraPermission:this._didGrantCameraPermission,DidGrantReadPhoneStatePermission:this._didGrantReadPhoneStatePermission,DidNotificationPermissionRequestFailed:this._didNotificationPermissionRequestFailed,DialogVersion:h[this._version],DidVisitPrivacyStatement:this._didVisitPrivacyStatement,DidSeeLearnMoreButton:this._didSeeLearnMoreButton})}};t.TelemetryConsentDialogEvent=class extends p{constructor(e,t,i){super(e,t,i),this._didVisitPrivacyStatement=!1,this._didVisitLearnMoreLink=!1,this._didUseWAMAutoSignInFlow=!1}getEventName(){return"settings_optionalTelemetryConsentDialog"}markDidVisitPrivacyStatement(){this._didVisitPrivacyStatement=!0}markDidVisitLearnMoreLink(){this._didVisitLearnMoreLink=!0}markDidUseWAMAutoSignInFlow(){this._didUseWAMAutoSignInFlow=!0}getAttributes(){return o.extend({},super.getAttributes(),this.getOnboardingAttributes(),{DidVisitPrivacyStatement:this._didVisitPrivacyStatement,DidVisitLearnMoreLink:this._didVisitLearnMoreLink,DidUseWAMAutoSignInFlow:this._didUseWAMAutoSignInFlow})}};t.WAMAutoSignInWelcomeDialogEvent=class extends p{constructor(e,t,i,o=!1,n=!1){super(e,t,i),this._selectedWAMAccount=o,this._selectedAddOtherAccount=n}getEventName(){return"settings_optional_wamautosigninwelcomedialog"}markSelectedWAMAccount(){this._selectedWAMAccount=!0}markSelectedAddOtherAccount(){this._selectedAddOtherAccount=!0}getAttributes(){return o.extend({},super.getAttributes(),this.getOnboardingAttributes(),{SelectedWAMAccount:this._selectedWAMAccount,SelectedAddOtherAccount:this._selectedAddOtherAccount})}};t.AVSettingsDialogEvent=class extends p{constructor(e,t,i,o){super(t,i,o),this._settingsMode=e,this._didChangeCameraSetting=!1,this._didChangeMicSetting=!1,this._didChangeSpeakerSetting=!1,this._didChangeRingingDeviceSetting=!1,this._didAdjustMicrophone=!1,this._didChangeMicAutoAdjustment=!1,this._shouldAutoAdjustMic=!1,this._didPerformAudioTest=!1,this._didPerformTestCall=!1,this._didChangeSpeakerVolume=!1,this._didChangeEchoCancellation=!1,this._shouldCancelEcho=!1,this._didChangeMusicMode=!1,this._musicMode=!1}getEventName(){return"settings_avSettingsDialog"}markDidChangeCameraSetting(){this._didChangeCameraSetting=!0}markDidChangeMicSetting(){this._didChangeMicSetting=!0}markDidChangeSpeakerSetting(){this._didChangeSpeakerSetting=!0}markDidChangeRingingDeviceSetting(){this._didChangeRingingDeviceSetting=!0}markDidAdjustMicrophone(){this._didAdjustMicrophone=!0}markDidChangeMicrophoneAutoAdjustment(e){this._didChangeMicAutoAdjustment=!0,this._shouldAutoAdjustMic=e}markAudioTestPerformed(){this._didPerformAudioTest=!0}markTestCallPerformed(){this._didPerformTestCall=!0}markDidChangeSpeakerVolume(){this._didChangeSpeakerVolume=!0}markDidChangeEchoCancellation(e){this._didChangeEchoCancellation=!0,this._shouldCancelEcho=e}markDidChangeMusicMode(e){this._didChangeMusicMode=!0,this._musicMode=e}getAttributes(){return o.extend({},super.getAttributes(),this.getOnboardingAttributes(),{DialogType:n.SettingsMode[this._settingsMode],DidChangeCameraSetting:this._didChangeCameraSetting,DidChangeMicSetting:this._didChangeMicSetting,DidChangeSpeakerSetting:this._didChangeSpeakerSetting,DidChangeSpeakerVolume:this._didChangeSpeakerVolume,DidChangeRingingDeviceSetting:this._didChangeRingingDeviceSetting,DidAdjustMicrophone:this._didAdjustMicrophone,DidChangeMicAutoAdjustment:this._didChangeMicAutoAdjustment,ShouldAutoAdjustMic:this._shouldAutoAdjustMic,DidPerformAudioTest:this._didPerformAudioTest,DidPerformTestCall:this._didPerformTestCall,ShouldCancelEcho:this._shouldCancelEcho,DidChangeEchoCancellation:this._didChangeEchoCancellation,MusicMode:this._musicMode,DidChangeMusicMode:this._didChangeMusicMode})}};class m extends l.TelemetryEventBase{constructor(e){super(),this._notificationSettings=e}getEventName(){return"all_notification_settings_change"}getAttributes(){const e=super.getAttributes();return o.forOwn(this._notificationSettings,((t,i)=>{this._setAttributeIfDefined(e,o.upperFirst(i),t)})),e}_setAttributeIfDefined(e,t,i){o.isUndefined(i)||(e[t]=i)}}t.NotificationSettingsChangeTelemetry=m;class S extends l.TelemetryEventBase{constructor(){super()}getEventName(){return"all_settings"}getAttributes(){const e=super.getAttributes();return e.ComponentName=this.getComponentName(),e.Action=this.getActionName(),e}}t.CallingSettingsEvent=class extends S{constructor(e,t){super(),this._setting=e,this._enabled=t}getActionName(){return"Set"}getComponentName(){return c.ComponentName.Calling}getAttributes(){return o.assign(super.getAttributes(),{Setting:this._setting,IsEnabled:this._enabled})}};t.NoiseSuppressionSettingsEvent=class extends S{constructor(e,t,i,o){super(),this._isInCall=e,this._oldValue=t,this._newValue=i,this._origin=o}getActionName(){return"NoiseSuppressionChange"}getComponentName(){return c.ComponentName.Calling}getAttributes(){return o.assign(super.getAttributes(),{IsInCall:this._isInCall,OldValue:this._oldValue,NewValue:this._newValue,Origin:this._origin})}};t.EcoModeSettingsEvent=class extends S{constructor(e,t,i,o){super(),this._isInCall=e,this._oldValue=t,this._newValue=i,this._origin=o}getActionName(){return"EcoModeChange"}getComponentName(){return c.ComponentName.Calling}getAttributes(){return o.assign(super.getAttributes(),{IsInCall:this._isInCall,OldValue:this._oldValue,NewValue:this._newValue,Origin:this._origin})}};t.SplitViewTelemetryEvent=class extends S{constructor(e){super(),this._enabled=e}getActionName(){return"Set"}getComponentName(){return c.ComponentName.Views}getAttributes(){return o.assign(super.getAttributes(),{IsEnabled:this._enabled})}};t.GlobalShortcutsSettingTelemetryEvent=class extends S{constructor(e){super(),this._enabled=e}getActionName(){return"Set"}getComponentName(){return c.ComponentName.Hotkeys}getAttributes(){return o.assign(super.getAttributes(),{IsEnabled:this._enabled})}};t.PrivacySettingsTelemetryEvent=class extends S{constructor(e,t={}){super(),this._settingName=e,this._settingsValues=t}getActionName(){return"PrivacySettings"}getComponentName(){return c.ComponentName.Privacy}getAttributes(){const e=Object.assign(super.getAttributes(),this._settingsValues);return e.Setting=this._settingName,e}}},966515:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SharePanelTelemetry=void 0;const o=i(815146),n=i(240297);class r extends n.TelemetryEventBase{constructor(e,t,i,o){super(),this._entryPoint=e,this._numberOfShares=t,this._usedSearch=i,this._userAddedContext=o}getEventName(){return"messaging_share_panel"}getAttributes(){const e=super.getAttributes();return e.EntryPoint=o.SharePanelEntryOrigin[this._entryPoint],e.SharesCount=this._numberOfShares,e.HasUsedSearch=this._usedSearch,e.HasAddedContext=this._userAddedContext,e}}t.SharePanelTelemetry=r},887117:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ShareToSkypeEventActions=void 0;const o=i(240297);var n;!function(e){e.completed="shareToSkype_action",e.opened="shareToSkype_open",e.started="shareToSkype_started",e.posted="shareToSkype_posted",e.cancelledFileSizeLimit="shareToSkype_cancelled_sizelimit",e.cancelledFileCountLimit="shareToSkype_cancelled_countlimit"}(n||(t.ShareToSkypeEventActions=n={}));class r extends o.TelemetryEventBase{constructor(e){super(),this._params=e}getEventName(){return"messaging_share_to_skype"}getAttributes(){var e;const t=super.getAttributes();t.Action=this._params.action,t.ConversationsCount=this._params.conversationsCount||0,t.MessageAdded=this._params.messageAdded||!1,t.IsSharedToContact=this._params.isSharedToContact||!1,t.ErrorCode=this._params.errorCode||0,t.IsSendingVideo=!1,t.IsSendingImage=!1,t.TotalCount=0;const i=this._params.event;let o=i.type;if("media"===o&&void 0!==i.data){o=1===i.data.length?i.data[0].type:"multiple",t.TotalCount=i.data.length;for(const e of i.data)"video"===e.type&&(t.IsSendingVideo=!0),"image"===e.type&&(t.IsSendingImage=!0)}return t.Type=o,(null===(e=i.data)||void 0===e?void 0:e[0].source)&&(t.EntrySource=i.data[0].source),t}}t.default=r},115961:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(240297);class n extends o.TelemetryEventBase{constructor(e){super(),this._params=e}getEventName(){return"siri"}getAttributes(){const e=super.getAttributes();return e.Action=this._params.action,e}}t.default=n},355344:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AuthBackgroundRefreshUpdateTriggeredEvent=t.AuthBackgroundRefreshScheduledEvent=t.MsaConvergenceUnexpectedRetrySuccess=t.MsaConvergenceBackgroundInterruptAvoided=t.MsaConvergenceNotificationInterruptAvoided=t.MsaConvergenceCallInterruptAvoided=t.ConvergedMsaEventBase=t.MigratedT1Credentials=t.MigratedT1CredentialsStep=t.MigratedT1CredentialsType=t.AutoSignExtraSignInStarted=t.WamAutoSignInSkipped=t.WamAutoSignInFailed=t.WamAutoSignInCompleted=t.WamAccountListFetched=t.WamAutoSignInStarted=t.WAMTokenRetrievalFailure=t.WAMTokenRetrieved=t.WAMTokenRequested=t.WAMLoginCompleted=t.WAMLoginFailure=t.WAMCacheInvalidated=t.WAMSignInSource=t.LoginMethod=t.BackgroundTriggers=t.AppEntryStartEvent=t.RefreshTokenError=t.RefreshTokenErrorCode=t.SsoTokenSignedIn=t.SsoTokenInterrupted=t.SsoTokenAutoRefreshed=t.SsoTokenSignIn=t.MSAInterruptHandlerSignedIn=t.MSAInterruptHandlerSwitched=t.MSAInterruptHandlerStarted=t.MsaSignInFunnelEvent=t.MsaSignUpFunnelEvent=t.AppEntryFinishEvent=t.AppEntryEvent=t.CreateAccountFlowStarted=t.LoginFlowStarted=t.ForgotUsernameLinkOpened=t.NeedHelpLinkOpened=t.NeedHelpClicked=t.WelcomeScreenLoaded=t.CreateMeetNowAsGuestEventBase=t.MsaFlowNavigationSource=t.AutoSignInSkipReason=t.AppEntryStartMethod=t.AppEntryMethod=void 0,t.AccountSwitchAccountListShown=t.AccountSwitchLogin=t.AccountSwitchLogout=t.AccountSwitchCredentialVerified=t.AccountSwitchFinish=t.AccountSwitchStart=t.ScopedTokenFetchCompleted=t.ScopedTokenFetchStarted=t.ArkoseCaptchaFailed=t.ArkoseCaptchaCompleted=t.ArkoseCaptchaPuzzleShown=t.PhoneAuthProvisioningRequestSucceeded=t.PhoneAuthCodeVerificationRequestSucceeded=t.PhoneAuthPhoneVerificationRequestSucceeded=t.PhoneAuthProfileAvatarUpdated=t.PhoneAuthProfileDisplayNameUpdated=t.PhoneAuthCodeInputMsaLoginFallbackRequested=t.PhoneAuthUseExistingAccountPressed=t.PhoneAuthLinkingCompleted=t.PhoneAuthLinkingCancelled=t.PhoneAuthLinkingStarted=t.PhoneAuthClientErrorEvent=t.PhoneAuthClientRequestType=t.MsaUsernameValidationError=t.MsaUsernameValidationFailed=t.MsaUsernameValidationSuccessful=t.MsaUsernameValidationStart=t.OneAuthActionEvent=t.OneAuthTelemetryActionName=t.MSAInterruptNotificationClicked=t.MSIXBackgroundTaskEvent=t.BackgroundTaskAction=t.QrSignInNotAvailable=t.QrSignInQrCodeRenderFailed=t.QrSignInQrCodeRenderedSuccessfully=t.QRSignInTokenRequestFailed=t.QrSignInSuccessful=t.MsaProfileFetch=t.AuthBackgroundRefreshHasValidTokenEvent=void 0;const o=i(197582),n=o.__importStar(i(636076)),r=o.__importStar(i(496486)),a=i(956013),s=o.__importDefault(i(139221)),l=o.__importDefault(i(241254)),c=i(245127),d=i(240297),u=i(425495);var p,g,h,m,S,_,f,y,C,v,b,T,P,k;!function(e){e[e.Guest=0]="Guest",e[e.SignIn=1]="SignIn",e[e.SignUp=2]="SignUp",e[e.SsoSignIn=3]="SsoSignIn",e[e.QsoSignIn=4]="QsoSignIn",e[e.Interrupt=5]="Interrupt",e[e.WAM=6]="WAM",e[e.MigratedCredentials=7]="MigratedCredentials",e[e.SkypeWebLogin=8]="SkypeWebLogin",e[e.Unknown=9]="Unknown",e[e.QrSignIn=10]="QrSignIn",e[e.Manual=11]="Manual",e[e.PhoneAuthQsoSignIn=12]="PhoneAuthQsoSignIn"}(p||(t.AppEntryMethod=p={})),function(e){e[e.Manual=0]="Manual",e[e.SsoSignIn=1]="SsoSignIn",e[e.QsoSignIn=2]="QsoSignIn",e[e.Interrupt=3]="Interrupt",e[e.WAM=4]="WAM",e[e.MigratedCredentials=5]="MigratedCredentials",e[e.Unknown=6]="Unknown",e[e.Guest=7]="Guest",e[e.WAMAuto=8]="WAMAuto",e[e.SignIn=9]="SignIn",e[e.SignUp=10]="SignUp"}(g||(t.AppEntryStartMethod=g={})),function(e){e[e.UserExplicitLogout=0]="UserExplicitLogout",e[e.NoWAMAccount=1]="NoWAMAccount",e[e.ECSNotEffective=2]="ECSNotEffective",e[e.FrequentAutoSignIn=3]="FrequentAutoSignIn",e[e.Unknown=4]="Unknown"}(h||(t.AutoSignInSkipReason=h={})),function(e){e.Default="Default",e.RedesignedSignIn="RedesignedSignIn",e.RedesignedSignUp="RedesignedSignUp",e.PhoneAuthFallbackSignIn="PhoneAuthFallbackSignIn",e.PhoneAuthFallbackSignUp="PhoneAuthFallbackSignUp",e.PhoneAuthChildAccountSignUp="PhoneAuthChildAccountSignUp"}(m||(t.MsaFlowNavigationSource=m={}));class A extends d.TelemetryEventBase{constructor(e,t,i){super(),this._isFirstTimeSignIn=e,this._isAppAutoStartEnabled=t,this._isAppLaunchMinimizedEnabled=i}shouldSendUaid(){return!1}getAttributes(){const e=super.getAttributes();return this.shouldSendUaid()&&(e.UAID=l.default.sisuUaid),void 0!==this._isFirstTimeSignIn&&(e.IsFirstTimeSignIn=this._isFirstTimeSignIn),void 0!==this._isAppAutoStartEnabled&&(e.IsAppAutoStartEnabled=this._isAppAutoStartEnabled),void 0!==this._isAppLaunchMinimizedEnabled&&(e.IsAppLaunchMinimizedEnabled=this._isAppLaunchMinimizedEnabled),e}getLoggedOutSendingPolicy(){return d.TelemetryEventLoggedOutPolicy.SendNow}}class I extends A{getEventName(){return"sisu_welcome_screen"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.CreateMeetNowAsGuestEventBase=class extends A{constructor(e,t){super(),this._sisuPageName=e,this._isPresentedAsMainCTAButton=t}getEventName(){return"sisu_guest_meetnow"}getAttributes(){const e=super.getAttributes();return e.SisuPageName=this._sisuPageName,e.IsPresentedAsMainCTAButton=this._isPresentedAsMainCTAButton||"",e}};t.WelcomeScreenLoaded=class extends I{constructor(e,t,i,o=!1){super(e,t,i),this._isWamAutoSignInScenario=o}getActionName(){return"WelcomeScreenLoaded"}getAttributes(){const e=super.getAttributes();return e.IsWamAutoSignInScenario=this._isWamAutoSignInScenario,e}};t.NeedHelpClicked=class extends I{getActionName(){return"NeedHelpClicked"}};t.NeedHelpLinkOpened=class extends I{getActionName(){return"NeedHelpLinkOpened"}};t.ForgotUsernameLinkOpened=class extends I{getActionName(){return"ForgotUsernameLinkOpened"}};t.LoginFlowStarted=class extends I{constructor(e=!1,t=!1){super(),this._isFromOneAuth=e,this._isFromPhoneAuth=t}getActionName(){return"LoginFlowStarted"}shouldSendUaid(){return!0}getAttributes(){const e=super.getAttributes();return e.IsFromOneAuth=this._isFromOneAuth,e.IsFromPhoneAuth=this._isFromPhoneAuth,e}};t.CreateAccountFlowStarted=class extends I{getActionName(){return"CreateAccountFlowStarted"}shouldSendUaid(){return!0}};t.AppEntryEvent=class extends A{constructor(e,t,i,o,n,r=!1,a,s=!1){super(t),this._method=e,this._isNeedHelpClicked=i,this._timeToEntry=o,this._hasWAMAccount=n,this._isFromOneAuth=r,this._msaFlowNavigationSource=a,this._isFromPhoneAuth=s}getEventName(){return"sisu_app_entry"}getAttributes(){const e=r.assign(super.getAttributes(),{Method:p[this._method],WasNeedHelpClicked:this._isNeedHelpClicked||!1});return void 0!==this._hasWAMAccount&&(e.WasOfferedWithWAM=!!this._hasWAMAccount),this._timeToEntry&&(e.TimeToEntry=this._timeToEntry),e.IsFromOneAuth=this._isFromOneAuth,e.MsaNavigationSource=this._msaFlowNavigationSource?m[this._msaFlowNavigationSource]:m.Default,e.IsFromPhoneAuth=this._isFromPhoneAuth,e}};t.AppEntryFinishEvent=class extends A{constructor(e,t,i=!1,o=!1){super(t),this._method=e,this._isFromOneAuth=i,this._isFromPhoneAuth=o}getEventName(){return"sisu_app_entry_finish"}getAttributes(){const e=r.assign(super.getAttributes(),{Method:p[this._method]});return e.IsFromOneAuth=this._isFromOneAuth,e.IsFromPhoneAuth=this._isFromPhoneAuth,e}};t.MsaSignUpFunnelEvent=class extends A{constructor(e,t,i,o,n){super(o),this._funnelPageName=e,this._timeToArrive=t,this._errorCode=i,this._isNeedHelpClicked=n,this._timeToArrive>36e5&&(this._timeToArrive=-1)}getEventName(){return"sisu_msa_signup_funnel"}shouldSendUaid(){return!0}getAttributes(){return r.assign(super.getAttributes(),{FunnelPageName:this._funnelPageName,ErrorCode:this._errorCode?this._errorCode:"None",TimeToStepDuration:this._timeToArrive,WasNeedHelpClicked:this._isNeedHelpClicked||!1})}};t.MsaSignInFunnelEvent=class extends A{constructor(e,t,i,o,n,r=!1){super(o),this._funnelPageName=e,this._timeToArrive=t,this._errorCode=i,this._isNeedHelpClicked=n,this._isSwitchAccountScenario=r,this._timeToArrive>36e5&&(this._timeToArrive=-1)}getEventName(){return"sisu_msa_signin_funnel"}shouldSendUaid(){return!0}getAttributes(){return r.assign(super.getAttributes(),{FunnelPageName:this._funnelPageName,ErrorCode:this._errorCode?this._errorCode:"None",TimeToStepDuration:this._timeToArrive,WasNeedHelpClicked:this._isNeedHelpClicked||!1,IsSwitchAccountScenario:this._isSwitchAccountScenario})}};class w extends A{getEventName(){return"sisu_msa_interrupt_handler"}shouldSendUaid(){return!0}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.MSAInterruptHandlerStarted=class extends w{getActionName(){return"RefreshTokenStored"}};t.MSAInterruptHandlerSwitched=class extends w{getActionName(){return"UserSwitchedAccounts"}};t.MSAInterruptHandlerSignedIn=class extends w{getActionName(){return"UserSignedIn"}};class x extends A{getEventName(){return"sisu_sso_screen"}shouldSendUaid(){return!0}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class N extends x{constructor(e,t=!1){super(),this._tokenProviderPackageId=e,this._isFromOneAuth=t}getAttributes(){return r.assign(super.getAttributes(),{ProviderPackageId:this._tokenProviderPackageId||"",IsFromOneAuth:this._isFromOneAuth})}}t.SsoTokenSignIn=class extends N{getActionName(){return"SsoTokenSignIn"}};t.SsoTokenAutoRefreshed=class extends N{getActionName(){return"SsoTokenAutoRefreshed"}};t.SsoTokenInterrupted=class extends N{getActionName(){return"SsoTokenInterrupted"}};t.SsoTokenSignedIn=class extends N{getActionName(){return"SsoTokenSignedIn"}},function(e){e[e.OAuthError=0]="OAuthError",e[e.WebViewError=1]="WebViewError",e[e.NavigationDeadEnd=2]="NavigationDeadEnd",e[e.AutoRefreshError=3]="AutoRefreshError",e[e.InterruptError=4]="InterruptError",e[e.UserSwitched=5]="UserSwitched"}(S||(t.RefreshTokenErrorCode=S={}));t.RefreshTokenError=class extends A{constructor(e,t,i,o){super(),this._errorCode=e,this._tokenSource=t,this._errorName=i,this._errorMessage=o}getEventName(){return"sisu_refreshtoken_error"}shouldSendUaid(){return!0}getAttributes(){const e=super.getAttributes();return e.ErrorCode=S[this._errorCode],this._tokenSource&&(e.TokenSource=c.MsaTokenSource[this._tokenSource]),this._errorName&&(e.ErrorName=this._errorName),this._errorMessage&&(e.ErrorMessage=this._errorMessage),e}};t.AppEntryStartEvent=class extends A{constructor(e,t,i=!1,o,n=!1){super(t),this._method=e,this._isFromOneAuth=i,this._msaFlowNavigationSource=o,this._isFromPhoneAuth=n}getEventName(){return"sisu_app_entry_start"}getAttributes(){const e=super.getAttributes();e.Method=g[this._method],e.NoPaVersion=l.default.getNoPaVersion();const t=l.default.getCoBaSi();return r.isUndefined(t)||(e.CoBaSiVersion=t),e.IsFromOneAuth=this._isFromOneAuth,e.MsaNavigationSource=this._msaFlowNavigationSource?m[this._msaFlowNavigationSource]:m.Default,e.IsFromPhoneAuth=this._isFromPhoneAuth,e}},function(e){e[e.SessionConnected=0]="SessionConnected",e[e.DefaultMsaAttached=1]="DefaultMsaAttached",e[e.AppUpdate=2]="AppUpdate",e[e.MaintenanceWindowStart=3]="MaintenanceWindowStart"}(_||(t.BackgroundTriggers=_={}));class D extends A{constructor(e,t){super(e),this._backgroundTrigger=t}getEventName(){return"sisu_auto_sign_in"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),void 0!==this._backgroundTrigger&&(e.BackgroundTrigger=_[this._backgroundTrigger]),e}}!function(e){e[e.MSA=0]="MSA",e[e.WAM=1]="WAM",e[e.AAD=2]="AAD"}(f||(t.LoginMethod=f={})),function(e){e[e.AccountPicker=0]="AccountPicker",e[e.MeetNow=1]="MeetNow",e[e.AuthServiceInteractiveRetry=2]="AuthServiceInteractiveRetry",e[e.WamAutoSignIn=3]="WamAutoSignIn"}(y||(t.WAMSignInSource=y={}));t.WAMCacheInvalidated=class extends D{getActionName(){return"WAMCacheInvalidated"}};t.WAMLoginFailure=class extends D{constructor(e){super(e)}getActionName(){return"WAMLoginFailure"}};t.WAMLoginCompleted=class extends D{constructor(e){super(e)}getActionName(){return"WAMLoginCompleted"}};class M extends D{constructor(e,t=!1,i,o){super(e),this._isRefreshRequest=t,this._correlationId=i,this._signInSource=o}getAttributes(){const e=super.getAttributes();return e.IsRefreshRequest=this._isRefreshRequest,(void 0!==this._signInSource&&!this._isRefreshRequest||this._signInSource===y.AuthServiceInteractiveRetry)&&(e.SignInSource=y[this._signInSource]),this._correlationId&&(e.WamCorrelationId=this._correlationId),e}}t.WAMTokenRequested=class extends M{constructor(e,t=!1,i,o){super(e,t,i,o)}getActionName(){return"WAMTokenRequested"}};t.WAMTokenRetrieved=class extends M{constructor(e,t=!1,i,o){super(e,t,i,o)}getActionName(){return"WAMTokenRetrieved"}};t.WAMTokenRetrievalFailure=class extends M{constructor(e,t,i,o,n=!1,r,a){super(e,n,r,a),this._errorCode=t,this._errorMessage=i,this._hResult=o}getActionName(){return"WAMTokenRetrievalFailure"}getAttributes(){const e=super.getAttributes();return void 0!==this._errorCode&&(e.ErrorCode=this._errorCode),this._errorMessage&&(e.ErrorMessage=this._errorMessage),this._hResult&&(e.HResult=a.TokenRequestHRESULT[this._hResult]),e}};t.WamAutoSignInStarted=class extends D{constructor(e,t=!1){super(e),this._isSwitchAccountScenario=t}getActionName(){return"WamAutoSignInStarted"}getAttributes(){const e=super.getAttributes();return e.IsSwitchAccountScenario=this._isSwitchAccountScenario,e}};t.WamAccountListFetched=class extends D{constructor(e,t=!1){super(),this._accountListSize=e,this._isWamAutoSignInScenario=t,this._attributes={AccountListSize:this._accountListSize,IsWamAutoSignInScenario:this._isWamAutoSignInScenario}}getActionName(){return"WamAccountListFetched"}getAttributes(){return r.assign(super.getAttributes(),this._attributes)}};t.WamAutoSignInCompleted=class extends D{constructor(e,t=!1,i=!1){super(e),this._isSwitchAccountScenario=t,this._isSecondTry=i}getActionName(){return"WamAutoSignInCompleted"}getAttributes(){const e=super.getAttributes();return e.IsSwitchAccountScenario=this._isSwitchAccountScenario,e.IsSecondTry=this._isSecondTry,e}};t.WamAutoSignInFailed=class extends D{constructor(e,t=!1,i=!1,o=!1,n=!0){super(e),this._isSwitchAccountScenario=t,this._isSecondTry=i,this._isNoAccountFound=o,this._isUserExplicitAutoSignIn=n}getActionName(){return"WamAutoSignInFailed"}getAttributes(){const e=super.getAttributes();return e.IsSwitchAccountScenario=this._isSwitchAccountScenario,e.IsSecondTry=this._isSecondTry,e.IsNoAccountFound=this._isNoAccountFound,e.IsUserExplicitAutoSignIn=this._isUserExplicitAutoSignIn,e}};t.WamAutoSignInSkipped=class extends D{constructor(e,t=!1,i){super(e),this._isSwitchAccountScenario=t,this._autoSignInSkipReason=i}getActionName(){return"WamAutoSignInSkipByCondition"}getAttributes(){const e=super.getAttributes();return e.IsSwitchAccountScenario=this._isSwitchAccountScenario,void 0!==this._autoSignInSkipReason&&(e.AutoSignInSkipReason=h[this._autoSignInSkipReason]),e}};t.AutoSignExtraSignInStarted=class extends D{constructor(e,t){super(t),this._loginMethod=e}getActionName(){return"ExtraSignInStarted"}getAttributes(){const e=super.getAttributes();return e.LoginMethod=f[this._loginMethod],e}},function(e){e[e.MSA=0]="MSA",e[e.Skype=1]="Skype",e[e.UWP_MSA=2]="UWP_MSA",e[e.M3_MSA=3]="M3_MSA",e[e.IPAD_MSA=4]="IPAD_MSA"}(C||(t.MigratedT1CredentialsType=C={})),function(e){e[e.Fetched=0]="Fetched",e[e.Migrated=1]="Migrated",e[e.Failed=2]="Failed",e[e.ForcedFetched=3]="ForcedFetched",e[e.ForcedFailed=4]="ForcedFailed"}(v||(t.MigratedT1CredentialsStep=v={}));class L extends d.TelemetryEventBase{constructor(e,t,i,o,n,r){super(),this._type=e,this._step=t,this._wlidErrorCode=i,this._t1Username=o,this._errStatusCode=n,this._errShortName=r}getEventName(){return"sisu_migrated_t1_credentials"}getAttributes(){const e=r.assign({},super.getAttributes(),{Type:this._type,Step:this._step});return this._wlidErrorCode&&(e.WLIDErrorCode=this._wlidErrorCode),this._errStatusCode&&(e.WebErrorStatusCode=this._errStatusCode),this._errShortName&&(e.WebErrorShortName=this._errShortName),e}getPiiAttributes(){const e=super.getPiiAttributes();return e.UsernameHash={value:this._t1Username||"",piiKind:n.AWTPiiKind.Identity},e}getLoggedOutSendingPolicy(){return this._step===v[v.Migrated]?d.TelemetryEventLoggedOutPolicy.WaitForUserId:d.TelemetryEventLoggedOutPolicy.SendNow}}t.MigratedT1Credentials=L;class R extends d.TelemetryEventBase{getEventName(){return"sisu_converged_msa"}getAttributes(){return r.assign(super.getAttributes(),{Action:this.getActionName()})}}t.ConvergedMsaEventBase=R;t.MsaConvergenceCallInterruptAvoided=class extends R{getActionName(){return"CallInterruptAvoided"}};t.MsaConvergenceNotificationInterruptAvoided=class extends R{getActionName(){return"NotificationInterruptAvoided"}};t.MsaConvergenceBackgroundInterruptAvoided=class extends R{getActionName(){return"BackgroundInterruptAvoided"}};t.MsaConvergenceUnexpectedRetrySuccess=class extends R{getActionName(){return"UnexpectedRetrySuccess"}};class E extends u.PriorityTelemetryEventBase{constructor(e){super(),this._lastRefreshTime=e}getEventName(){return"sisu_auth_background_refresh"}getAttributes(){const e=r.assign(super.getAttributes(),{Action:this.getActionName()});return this._lastRefreshTime&&(e.LastRefreshTime=this._lastRefreshTime),e}}t.AuthBackgroundRefreshScheduledEvent=class extends E{getActionName(){return"RefreshScheduled"}};t.AuthBackgroundRefreshUpdateTriggeredEvent=class extends E{getActionName(){return"UpdateTriggered"}};t.AuthBackgroundRefreshHasValidTokenEvent=class extends E{getActionName(){return"HasValidToken"}};class B extends d.TelemetryEventBase{constructor(e){super(),this._msaProfileFetchParams=e}getEventName(){return"sisu_msa_profile_fetch"}getAttributes(){const e=super.getAttributes();return r.isUndefined(this._msaProfileFetchParams.errorStatus)||(e.ErrorStatus=this._msaProfileFetchParams.errorStatus),r.isUndefined(this._msaProfileFetchParams.ageGroup)||(e.AgeGroup=this._msaProfileFetchParams.ageGroup),e}}t.MsaProfileFetch=B;class O extends A{constructor(e,t){super(),this._qrSignInError=e,this._qrShowType=t}getEventName(){return"sisu_msa_qr_sign_in"}getAttributes(){const e=r.assign(super.getAttributes(),{Action:this.getActionName()});return this._qrShowType&&(e.QrShowType=this._qrShowType),this._qrSignInError&&(e.ErrorType=this._qrSignInError.errorType,this._qrSignInError.errorStatus&&(e.ErrorStatus=this._qrSignInError.errorStatus)),e}}t.QrSignInSuccessful=class extends O{getActionName(){return"QrSignInSuccessful"}};t.QRSignInTokenRequestFailed=class extends O{getActionName(){return"QrSignInTokenExchangeFailed"}};t.QrSignInQrCodeRenderedSuccessfully=class extends O{constructor(e){super(void 0,e)}getActionName(){return"QrSignInQrCodeRenderedSuccessfully"}};t.QrSignInQrCodeRenderFailed=class extends O{constructor(e){super(void 0,e)}getActionName(){return"QrSignInQrCodeRenderFailed"}};t.QrSignInNotAvailable=class extends O{getActionName(){return"QrSignInNotAvailable"}},function(e){e[e.Register=0]="Register",e[e.Unregister=1]="Unregister",e[e.UnregisterAll=2]="UnregisterAll"}(b||(t.BackgroundTaskAction=b={}));t.MSIXBackgroundTaskEvent=class extends A{constructor(e,t,i,o,n){super(),this._isSuccessful=e,this._backgroundTaskAction=t,this._backgroundTaskName=i,this._backgroundTaskTriggerType=o,this._timeTriggerIntervalInMinutes=n}getEventName(){return"sisu_msix_background_task"}getActionName(){return b[this._backgroundTaskAction]}getAttributes(){const e=super.getAttributes();return e.CorrelationId=s.default.getSessionId(),e.IsSuccessful=this._isSuccessful,void 0!==this._backgroundTaskName&&(e.BackgroundTaskName=this._backgroundTaskName),void 0!==this._backgroundTaskTriggerType&&(e.BackgroundTaskTriggerType=this._backgroundTaskTriggerType),void 0!==this._timeTriggerIntervalInMinutes&&(e.TimeTriggerInterval=this._timeTriggerIntervalInMinutes.toString()),e}};class F extends d.TelemetryEventBase{constructor(e){super(),this._isMsaInvalidGrantInterruptReminder=e}getEventName(){return"sisu_msa_interrupt_notification_clicked"}getAttributes(){const e=super.getAttributes();return e.IsMsaInvalidGrantInterruptReminder=this._isMsaInvalidGrantInterruptReminder,e}}t.MSAInterruptNotificationClicked=F,function(e){e.RefreshTokenMigration="RefreshTokenMigration",e.SignOut="SignOut",e.GetAvailableAccounts="GetAvailableAccounts",e.SignInOrSignUp="SignInOrSignUp",e.AcquireCredentialsSilently="AcquireCredentialsSilently",e.AcquireCredentialsSilentlyWithUIFallback="AcquireCredentialsSilentlyWithUIFallback",e.AcquireCredentialsInteractively="AcquireCredentialsInteractively"}(T||(t.OneAuthTelemetryActionName=T={}));t.OneAuthActionEvent=class extends A{constructor(e,t,i){super(),this._telemetryActionName=e,this._oneAuthError=t,this._commonTelemetryData=i}getEventName(){return"sisu_oneauth_action"}getActionName(){return this._telemetryActionName}getAttributes(){const e=super.getAttributes();return this._oneAuthError?(e.IsError=!0,e.ErrorType=this._oneAuthError.type,null!==this._oneAuthError.status&&(e.ErrorOneAuthStatus=this._oneAuthError.status),null!==this._oneAuthError.subStatus&&(e.ErrorOneAuthSubStatus=this._oneAuthError.subStatus),null!==this._oneAuthError.reason&&(e.ErrorReason=this._oneAuthError.reason)):e.IsError=!1,this._commonTelemetryData&&(this._commonTelemetryData.isRefreshTokenFromQrCodeSignIn&&(e.IsRefreshTokenFromQrCodeSignIn=this._commonTelemetryData.isRefreshTokenFromQrCodeSignIn),this._commonTelemetryData.scope&&(e.Scope=this._commonTelemetryData.scope),this._commonTelemetryData.isQsoLogout&&(e.IsQsoLogout=this._commonTelemetryData.isQsoLogout),this._commonTelemetryData.numberOfAccountsFetched&&(e.NumberOfAccountsFetched=this._commonTelemetryData.numberOfAccountsFetched),this._commonTelemetryData.isEmailAccrual&&(e.isEmailAccrual=this._commonTelemetryData.isEmailAccrual),this._commonTelemetryData.isPhoneAccrual&&(e.isPhoneAccrual=this._commonTelemetryData.isPhoneAccrual),this._commonTelemetryData.withTokenToRenew&&(e.WithTokenToRenew=this._commonTelemetryData.withTokenToRenew)),e.Action=this.getActionName(),e}};class V extends A{constructor(e,t,i,o,n){super(),this._usernameType=e,this._correlationId=t,this._isPhoneNumberFormattedCorrectly=i,this._errorCode=o,this._errorName=n}getEventName(){return"sisu_msa_username_validation"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.UsernameType=c.MsaUsernameType[this._usernameType],e.CorrelationId=this._correlationId,void 0!==this._isPhoneNumberFormattedCorrectly&&(e.IsFormattedCorrectly=this._isPhoneNumberFormattedCorrectly),void 0!==this._errorCode&&(e.ErrorCode=this._errorCode),void 0!==this._errorName&&(e.ErrorName=this._errorName),e}}t.MsaUsernameValidationStart=class extends V{getActionName(){return"MsaUsernameValidationStart"}};t.MsaUsernameValidationSuccessful=class extends V{getActionName(){return"MsaUsernameValidationSuccessful"}};t.MsaUsernameValidationFailed=class extends V{getActionName(){return"MsaUsernameValidationFailed"}};t.MsaUsernameValidationError=class extends V{getActionName(){return"MsaUsernameValidationError"}},function(e){e.PhoneVerification="PhoneVerification",e.CodeVerification="CodeVerification",e.Provision="Provision",e.Refresh="Refresh",e.GetActiveSessions="GetActiveSessions",e.SignOut="SignOut",e.SignOutFromAllDevices="SignOutFromAllDevices",e.Delete="Delete",e.ConvergenceStatus="ConvergenceStatus",e.MsaLinking="MsaLinking",e.MsaConvergence="MsaConvergence",e.LinkedMsaAlias="LinkedMsaAlias"}(P||(t.PhoneAuthClientRequestType=P={}));t.PhoneAuthClientErrorEvent=class extends A{constructor(e,t,i,o=!1,n){super(),this._requestType=e,this._error=t,this._correlationId=i,this._isPhoneVerificationFlow=o,this._phoneNumberHash=n}getEventName(){return"sisu_phone_auth_client_error"}getAttributes(){const e=super.getAttributes();return e.Action=P[this._requestType],e.CorrelationId=this._correlationId,e.IsPhoneVerificationFlow=this._isPhoneVerificationFlow,e.ErrorCode=this._error.code,this._error.description&&(e.ErrorDescription=this._error.description),this._phoneNumberHash&&(e.PhoneNumberHash=this._phoneNumberHash),e}},function(e){e.MsaLinkingStarted="MsaLinkingStarted",e.MsaLinkingCompleted="MsaLinkingCompleted",e.MsaLinkingCancelled="MsaLinkingCancelled",e.ProfileDisplayNameUpdated="ProfileDisplayNameUpdated",e.ProfileAvatarUpdated="ProfileAvatarUpdated",e.UseExistingAccountPressed="UseExistingAccountPressed",e.CodeInputFallbackToMsaLogin="CodeInputFallbackToMsaLogin",e.PhoneVerificationRequestSucceeded="PhoneVerificationRequestSucceeded",e.CodeVerificationRequestSucceeded="CodeVerificationRequestSucceeded",e.PhoneAccountProvisioningRequestSucceeded="PhoneAccountProvisioningRequestSucceeded"}(k||(k={}));class U extends A{constructor(e){super(),this._correlationId=e}getEventName(){return"sisu_phone_auth_action"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.CorrelationId=this._correlationId,e}}class j extends U{constructor(e,t,i){super(e),this._navigationSource=t,this._isReloginScenario=i}getAttributes(){const e=super.getAttributes();return e.NavigationSource=this._navigationSource,e.IsReloginScenario=this._isReloginScenario,e}}t.PhoneAuthLinkingStarted=class extends j{constructor(e,t,i=!1){super(e,t,i)}getActionName(){return k[k.MsaLinkingStarted]}};t.PhoneAuthLinkingCancelled=class extends j{constructor(e,t,i=!1){super(e,t,i)}getActionName(){return k[k.MsaLinkingCancelled]}};t.PhoneAuthLinkingCompleted=class extends j{constructor(e,t,i,o,n,r=!1){super(e,t,r),this._isSuccessful=i,this._duration=o,this._errorCode=n}getActionName(){return k[k.MsaLinkingCompleted]}getAttributes(){const e=super.getAttributes();return e.IsSuccessful=this._isSuccessful,e.Duration=this._duration,this._errorCode&&(e.ErrorCode=this._errorCode),e}};t.PhoneAuthUseExistingAccountPressed=class extends U{constructor(e){super(e)}getActionName(){return k[k.UseExistingAccountPressed]}};t.PhoneAuthCodeInputMsaLoginFallbackRequested=class extends U{constructor(e){super(e)}getActionName(){return k[k.CodeInputFallbackToMsaLogin]}};t.PhoneAuthProfileDisplayNameUpdated=class extends U{constructor(e){super(e)}getActionName(){return k[k.ProfileDisplayNameUpdated]}};t.PhoneAuthProfileAvatarUpdated=class extends U{constructor(e){super(e)}getActionName(){return k[k.ProfileAvatarUpdated]}};t.PhoneAuthPhoneVerificationRequestSucceeded=class extends U{constructor(e){super(e)}getActionName(){return k[k.PhoneVerificationRequestSucceeded]}};t.PhoneAuthCodeVerificationRequestSucceeded=class extends U{constructor(e){super(e)}getActionName(){return k[k.CodeVerificationRequestSucceeded]}};t.PhoneAuthProvisioningRequestSucceeded=class extends U{constructor(e){super(e)}getActionName(){return k[k.PhoneAccountProvisioningRequestSucceeded]}};class H extends A{constructor(e,t=!1){super(),this._correlationId=e,this._isPhoneVerificationFlow=t}getEventName(){return"sisu_arkose_captcha"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),this._correlationId&&(e.CorrelationId=this._correlationId),e.IsPhoneVerificationFlow=this._isPhoneVerificationFlow,e}}t.ArkoseCaptchaPuzzleShown=class extends H{constructor(e,t=!1){super(e,t)}getActionName(){return"ArkoseCaptchaPuzzleShown"}};t.ArkoseCaptchaCompleted=class extends H{constructor(e,t,i=!1){super(t,i),this._captchaWasShown=e}getActionName(){return"ArkoseCaptchaCompleted"}getAttributes(){const e=super.getAttributes();return e.CaptchaWasShown=this._captchaWasShown,e}};t.ArkoseCaptchaFailed=class extends H{constructor(e,t,i,o,n,r=!1){super(n,r),this._failureReason=e,this._failureDescription=t,this._attemptCount=i,this._wasApiHealthy=o}getActionName(){return"ArkoseCaptchaFailed"}getAttributes(){const e=super.getAttributes();return e.FailureReason=this._failureReason,this._failureDescription&&(e.FailureDescription=this._failureDescription),this._attemptCount&&(e.Attempt=this._attemptCount),this._wasApiHealthy&&(e.WasApiHealthy=this._wasApiHealthy),e}};class W extends A{constructor(e,t){super(),this._scope=e,this._source=t}getEventName(){return"sisu_scoped_token_fetch"}getAttributes(){const e=super.getAttributes();return e.Scope=c.MsaAccessTokenScope[this._scope],e.Source=this._source,e.Action=this.getActionName(),e}}t.ScopedTokenFetchStarted=class extends W{constructor(e,t){super(e,t)}getActionName(){return"ScopedTokenFetchStarted"}};t.ScopedTokenFetchCompleted=class extends W{constructor(e,t,i,o,n){super(e,t),this._isSuccessful=i,this._errorCode=o,this._errorReason=n}getActionName(){return"ScopedTokenFetchCompleted"}getAttributes(){const e=super.getAttributes();return e.IsSuccessful=this._isSuccessful,void 0!==this._errorCode&&(e.ErrorCode=this._errorCode),void 0!==this._errorReason&&(e.ErrorReason=this._errorReason),e}};class z extends d.TelemetryEventBase{constructor(e,t){super(),this._accountType=e,this._correlationId=t}getEventName(){return"sisu_account_switch"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.AccountType=this._accountType,this._correlationId&&(e.CorrelationId=this._correlationId),e}}t.AccountSwitchStart=class extends z{constructor(e,t,i,o,n){super(e,t),this._entryPoint=i,this._isAddAccountFlow=o,this._tokenSource=n}getActionName(){return"AccountSwitchStart"}getAttributes(){const e=super.getAttributes();return e.IsAddAccountFlow=this._isAddAccountFlow,this._entryPoint&&(e.EntryPoint=this._entryPoint),this._tokenSource&&(e.TokenSource=this._tokenSource),e}};t.AccountSwitchFinish=class extends z{constructor(e,t,i,o,n,r,a,s){super(t,i),this._isSuccessful=e,this._entryPoint=o,this._isAddAccountFlow=n,this._tokenSource=r,this._errorReason=a,this._errorCode=s}getActionName(){return"AccountSwitchFinished"}getAttributes(){const e=super.getAttributes();return e.IsSuccessful=this._isSuccessful,this._errorReason&&(e.ErrorReason=this._errorReason),this._errorCode&&(e.ErrorCode=this._errorCode),this._entryPoint&&(e.EntryPoint=this._entryPoint),void 0!==this._isAddAccountFlow&&(e.IsAddAccountFlow=this._isAddAccountFlow),this._tokenSource&&(e.TokenSource=this._tokenSource),e}};t.AccountSwitchCredentialVerified=class extends z{constructor(e,t,i,o,n){super(e,t),this._entryPoint=i,this._isAddAccountFlow=o,this._tokenSource=n}getAttributes(){const e=super.getAttributes();return this._entryPoint&&(e.EntryPoint=this._entryPoint),void 0!==this._isAddAccountFlow&&(e.IsAddAccountFlow=this._isAddAccountFlow),this._tokenSource&&(e.TokenSource=this._tokenSource),e}getActionName(){return"AccountSwitchCredentialVerified"}};t.AccountSwitchLogout=class extends z{constructor(e,t,i,o,n){super(e,t),this._entryPoint=i,this._isAddAccountFlow=o,this._tokenSource=n}getAttributes(){const e=super.getAttributes();return this._entryPoint&&(e.EntryPoint=this._entryPoint),void 0!==this._isAddAccountFlow&&(e.IsAddAccountFlow=this._isAddAccountFlow),this._tokenSource&&(e.TokenSource=this._tokenSource),e}getActionName(){return"AccountSwitchLogout"}};t.AccountSwitchLogin=class extends z{getActionName(){return"AccountSwitchLogin"}};class G extends d.TelemetryEventBase{constructor(e,t,i,o){super(),this._accountListSize=e,this._accountListAccountTypeCount=t,this._accountListLocation=i,this._accountSwitchEntryPoint=o}getActionName(){return"AccountListShown"}getEventName(){return"sisu_account_list_size"}getAttributes(){const e=super.getAttributes();return e.AccountListSize=this._accountListSize,e.AccountListLocation=this._accountListLocation,e.OneAuthAccountCount=this._accountListAccountTypeCount.oneAuthAccounts,e.LegacyAccountCount=this._accountListAccountTypeCount.legacyAccounts,e.QsoAccountCount=this._accountListAccountTypeCount.qsoAccounts,e.SsoAccountCount=this._accountListAccountTypeCount.ssoAccounts,this._accountSwitchEntryPoint&&(e.EntryPoint=this._accountSwitchEntryPoint),e}}t.AccountSwitchAccountListShown=G},919326:(e,t)=>{var i,o,n;Object.defineProperty(t,"__esModule",{value:!0}),t.SkypeNumberPurchaseFlowTelemetryButtons=t.SkypeNumberTelemetryActions=t.SkypeNumberTelemetryOrigin=void 0,function(e){e[e.ProfileGetClicked=0]="ProfileGetClicked",e[e.MeControlGetClicked=1]="MeControlGetClicked",e[e.ListGetClicked=2]="ListGetClicked",e[e.InfoClicked=3]="InfoClicked",e[e.InfoScreenContinueButtonClicked=4]="InfoScreenContinueButtonClicked",e[e.ProfileSectionViewed=5]="ProfileSectionViewed",e[e.ProfileSectionClicked=6]="ProfileSectionClicked",e[e.MeControlSectionViewed=7]="MeControlSectionViewed",e[e.MeControlSectionClicked=8]="MeControlSectionClicked",e[e.PurchaseButtonClicked=9]="PurchaseButtonClicked",e[e.RefreshedSkypeNumberTenTimes=10]="RefreshedSkypeNumberTenTimes",e[e.ReservationSuceeded=11]="ReservationSuceeded",e[e.ReservationSuceededWithDataCollection=12]="ReservationSuceededWithDataCollection",e[e.ReservationFailed=13]="ReservationFailed",e[e.ReservationFailedWithDataCollection=14]="ReservationFailedWithDataCollection",e[e.FetchedAfterBuy=15]="FetchedAfterBuy",e[e.WasProvisioned=16]="WasProvisioned",e[e.PurchaseEntryButtonShown=17]="PurchaseEntryButtonShown",e[e.LearnMoreButtonShown=18]="LearnMoreButtonShown",e[e.WebGetButtonShown=19]="WebGetButtonShown",e[e.CopyClicked=20]="CopyClicked",e[e.ShareClicked=21]="ShareClicked",e[e.DesktopShareClicked=22]="DesktopShareClicked",e[e.ShareError=23]="ShareError",e[e.ShareSuccess=24]="ShareSuccess",e[e.EmailClicked=25]="EmailClicked",e[e.SettingsClicked=26]="SettingsClicked",e[e.ActionClicked=27]="ActionClicked",e[e.DialogOpened=28]="DialogOpened",e[e.ActionDialogClicked=29]="ActionDialogClicked",e[e.CallerIdEnabled=30]="CallerIdEnabled",e[e.CallerIdChanged=31]="CallerIdChanged",e[e.CallerIdDisabled=32]="CallerIdDisabled",e[e.LandingPageCardClicked=33]="LandingPageCardClicked"}(i||(t.SkypeNumberTelemetryOrigin=i={})),function(e){e.ShowPurchaseFlow="ShowPurchaseFlow",e.ShowListNumbers="ShowListNumbers",e.NativeExperience="NativeExperience",e.InAppInfoScreen="InAppInfoScreen"}(o||(t.SkypeNumberTelemetryActions=o={})),function(e){e.Continue="Continue",e.RefreshNumber="RefreshNumber",e.Information="Information",e.ResidencyDeclarationContinue="ResidencyDeclarationContinue",e.ResidencyDeclarationCancel="ResidencyDeclarationCancel",e.DataCollectionInformationContinue="DataCollectionInformationContinue",e.DataCollectionInformationCancel="DataCollectionInformationCancel",e.DataCollectionFormContinue="DataCollectionFormContinue",e.DataCollectionFormCancel="DataCollectionFormCancel"}(n||(t.SkypeNumberPurchaseFlowTelemetryButtons=n={}))},258554:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextHighlightClickedEvent=t.FeedbackClickedEvent=t.SuggestionsClickedEvent=t.SuggestionsDisplayedEvent=void 0;const o=i(197582),n=o.__importStar(i(636076)),r=o.__importStar(i(496486)),a=o.__importStar(i(964647)),s=o.__importStar(i(44717)),l=i(240297),c=o.__importStar(i(340482));class d extends l.TelemetryEventBase{constructor(e,t,i,o){super(),this._source=e,this._sourceName=t,this._inContext=i,this._message=o}getEventName(){return"caap_suggestions"}getCommonSuggestionsEventAttributes(e){const t=Object.assign({},e);return this._message&&(t.LatestServerMessageId=this._message.getLatestServerMessageId()),this._source&&s.isAgent(this._source)&&(t.Source=this._source,this._sourceName&&(t.SourceName=this._sourceName)),t}getAttributes(){const e=this.getCommonSuggestionsEventAttributes(super.getAttributes());return e.Action=this.getActionName(),e.IsInContext=!!this._inContext,this._message&&(e.MessageCorrelationId=a.getCorrelationIdFromMessageParts(this._message.creator,this._message.conversationId,c.getClientMessageId(this._message))),e}getPiiAttributes(){return this.getCommonPiiAttributes(super.getPiiAttributes())}getCommonPiiAttributes(e){const t=Object.assign({},e);return this._source&&!s.isAgent(this._source)&&(t.Source={value:this._source,piiKind:n.AWTPiiKind.Identity},this._sourceName&&(t.SourceName={value:this._sourceName,piiKind:n.AWTPiiKind.Identity})),t}}t.SuggestionsDisplayedEvent=class extends d{constructor(e,t,i,o,n,r,a,s,l){super(e,t,i,o),this._providerIds=n,this._suggestionsTypes=r,this._suggestionsCategories=a,this._integrationsCorrelationIds=s,this._suggestionsIds=l}getActionName(){return"SuggestionsDisplayed"}getAttributes(){const e=super.getAttributes();return e.Providers=r.join(this._providerIds),e.SuggestionsTypes=r.join(this._suggestionsTypes),e.SuggestionsCategories=r.join(this._suggestionsCategories),e.IntegrationsCorrelationIds=r.join(this._integrationsCorrelationIds),e.SuggestionsIds=r.join(this._suggestionsIds),e}};t.SuggestionsClickedEvent=class extends d{constructor(e,t,i,o,n,r,a,s,l,c){super(e,t,i,o),this._providerId=n,this._suggestionType=r,this._suggestionCategory=a,this._integrationCorrelationId=s,this._suggestionPosition=l,this._imBackPosition=c}getActionName(){return"SuggestionsClicked"}getCommonSuggestionsClickedAttributes(e){const t=Object.assign({},e);return t.SuggestionPosition=this._suggestionPosition,this._providerId&&(t.Provider=this._providerId),this._suggestionType&&(t.SuggestionType=this._suggestionType),this._suggestionCategory&&(t.SuggestionCategory=this._suggestionCategory),this._integrationCorrelationId&&(t.IntegrationCorrelationId=this._integrationCorrelationId),r.isUndefined(this._imBackPosition)||(t.ImBackPosition=this._imBackPosition),t}getAttributes(){return this.getCommonSuggestionsClickedAttributes(super.getAttributes())}};t.FeedbackClickedEvent=class extends d{constructor(e,t,i,o,n,r,a){super(e,t,i,o),this._providerIds=n,this._suggestionsTypes=r,this._suggestionsCategories=a}getActionName(){return"FeedbackClicked"}getAttributes(){const e=super.getAttributes();return e.Providers=r.join(this._providerIds),e.SuggestionsTypes=r.join(this._suggestionsTypes),e.SuggestionsCategories=r.join(this._suggestionsCategories),e}};t.TextHighlightClickedEvent=class extends d{constructor(e,t,i,o){super(void 0,void 0,!1,e),this._providerId=t,this._suggestionType=i,this._suggestionCategory=o}getActionName(){return"TextHighlightClicked"}getCommonTextHighlightClickedAttributes(e){const t=Object.assign({},e);return this._providerId&&(t.Provider=this._providerId),this._suggestionType&&(t.SuggestionType=this._suggestionType),this._suggestionCategory&&(t.SuggestionCategory=this._suggestionCategory),t}getAttributes(){return this.getCommonTextHighlightClickedAttributes(super.getAttributes())}}},415933:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582).__importDefault(i(535775)),n="Fetched",r=[n,"BundleProcessed"];class a extends o.default{constructor(){super(...arguments),this._syncScenarioFetchCount=0}_markStep(e,...t){const i=r.some((t=>t===e));e===n&&this._syncScenarioFetchCount++,super._markStep(i?`${e} - ${this._syncScenarioFetchCount}`:e,...t)}}t.default=a},324779:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SystemTrayEvent=void 0;const o=i(240297);class n extends o.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"systray_icon"}getAttributes(){const e=super.getAttributes();return e.Action=this._action,e}}t.SystemTrayEvent=n},442699:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LogUploadEvent=t.DevAlert=t.DevDebug=t.UnsafeDomain=t.InviteUser=t.StartupComplete=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297);class r extends n.TelemetryEventBase{constructor(e){super(),this._startupTime=e}getEventName(){return"startupComplete"}getAttributes(){const e=super.getAttributes();return e.StartupTime=this._startupTime,e}}t.StartupComplete=r;class a extends n.TelemetryEventBase{constructor(e,t=!0,i=!1){super(),this._userCount=e,this._success=t,this._cancelled=i}getEventName(){return"inviteUser"}getAttributes(){const e=super.getAttributes();return e.Cancelled=this._cancelled,e.Status=this._success?"Success":"Failure",e.Count=this._userCount,e}}t.InviteUser=a;class s extends n.TelemetryEventBase{constructor(e,t){super(),this._domain=e,this._origin=t}getEventName(){return"unsafe_domain"}getAttributes(){return o.assign(super.getAttributes(),{Origin:this._origin,Domain:this._domain})}}t.UnsafeDomain=s;class l extends n.TelemetryEventBase{constructor(e,t){super(),this._trackingName=e,this._data=t}getEventName(){return"dev_debug"}getAttributes(){const e=super.getAttributes();return e.Name=this._trackingName,e.Data=this._data,e}shouldSend(){return!1}}t.DevDebug=l;class c extends n.TelemetryEventBase{constructor(e){super(),this._trackingName=e}getEventName(){return"dev_alert"}getAttributes(){const e=super.getAttributes();return e.Name=this._trackingName,e}}t.DevAlert=c;class d extends n.TelemetryEventBase{constructor(e,t){super(),this._tenant=e,this._data=t}getEventName(){return"rt_log"}getAriaTenantTokenOverride(){return this._tenant}getAttributes(){return o.assign(super.getAttributes(),this._data)}}t.LogUploadEvent=d},340482:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getClientMessageId=function(e){return e.getLatestRelevantClientMessageId()},t.getMessageRawTypeName=m,t.getMessageTypeName=S,t.shouldTrackMessage=function(e,t){if(!t||!t.percentage)return!1;return Number(e)/h<t.percentage/100},t.getCommonAttributesMessageSent=function(e,t,i,o,n,a){return e.Group_Conversation=r.isGroupConversation(t),e.IsEncryptedConversation=r.isEncryptedThread(t),e.Send_Timestamp=i,e.Message_Type=S(o,d.default.getSkypeMri(),t),e.Message_RawType=m(o,d.default.getSkypeMri(),t),e.Conversation_Members_Number=n,e.Entry_Point="Chat View",e.Character_Count=a,e.Bot_Conversation=r.isOneOnOneConversation(t)&&r.isAgent(t),e},t.getTrackableConversationId=function(e){if(!e)return;const t=(0,a.default)().getConversation(e);return null==t?void 0:t.getTrackableConversationId()},t.getConversationTypeForTelemetry=function(e){const t=(0,a.default)().getConversationNoSubscription(e);if(t&&(0,p.isContentChannel)(t))return s.ConversationType.NewsChannel;if((0,p.isTodayBot)(e))return s.ConversationType.NewsBot;if(r.isEncryptedThread(e))return s.ConversationType.Encrypted;if(r.isConversationWithPhoneNumber(e))return s.ConversationType.PSTN;if(r.isAgent(e))return s.ConversationType.Bot;if(r.isOneOnOneConversation(e))return s.ConversationType.OneOnOneSkype;if(r.isGroupConversation(e))return s.ConversationType.Group;return s.ConversationType.Other},t.getMessageTypeGroup=function(e){return n.getMessageTypeGroup(e)};const o=i(197582),n=o.__importStar(i(971988)),r=o.__importStar(i(44717)),a=o.__importDefault(i(615364)),s=i(511134),l=o.__importStar(i(463519)),c=i(606933),d=o.__importDefault(i(363091)),u=i(331079),p=i(742403),g="voicemail.wav",h=0x10000000000000000;function m(e,t,i){let o=e.messagetype;const r=n.getMessageTypeGroup(e);if(r===n.MessageTypeGroups.Audio){if(o="Audio",!n.isDeletedMessage(e)){const n=_(e,t,i);n.type===u.UploadFileType.AudioMessage&&(o="AudioMessage",n.decoded.getNameForUI().toLowerCase()===g&&(o="VoiceMail"))}}else if(r===n.MessageTypeGroups.Video){if(!n.isDeletedMessage(e)){_(e,t,i).type===u.UploadFileType.VideoMessage&&(o="VideoMessage")}}else o===n.MessageTypes.UriObject?o=n.MessageTypeGroups[n.getUriObjectMessageTypeGroup(e)]:o===n.MessageTypes.Mms&&(o=n.MessageTypeGroups[n.getMessageTypeGroup(e)]);return o}function S(e,t,i){let o="";const r=n.getMessageTypeGroup(e);switch(r){case n.MessageTypeGroups.Text:o="Text";break;case n.MessageTypeGroups.SMS:o="SMS";break;case n.MessageTypeGroups.Audio:if(o="Audio",!n.isDeletedMessage(e)){const n=_(e,t,i);n.type===u.UploadFileType.AudioMessage&&(o="AudioMessage",n.decoded.getNameForUI().toLowerCase()===g&&(o="VoiceMail"))}break;case n.MessageTypeGroups.Picture:o="Photo";break;case n.MessageTypeGroups.UriFile:o="File";break;case n.MessageTypeGroups.Video:if(o="Video",!n.isDeletedMessage(e)){_(e,t,i).type===u.UploadFileType.VideoMessage&&(o="VideoMessage")}break;case n.MessageTypeGroups.Sticker:o="Sticker";break;case n.MessageTypeGroups.ScheduledCallInvite:o="ScheduledCallInvite";break;case n.MessageTypeGroups.Calling:o=n.MessageTypeGroups[r];break;case n.MessageTypeGroups.SwiftCard:o="Swift Message";break;case n.MessageTypeGroups.Location:o="Location";break;case n.MessageTypeGroups.Poll:o="Poll";break;case n.MessageTypeGroups.Engagement:o="Engagement";break;case n.MessageTypeGroups.MediaAlbum:o="MediaAlbum";break;case n.MessageTypeGroups.Translation:o="Translation";break;default:console.warn("Unhandled message type for MessageSentEvent:"+e.messagetype+", making a guess"),o=n.MessageTypeGroups[r]}return o}function _(e,t,i){const o=l.decode(e,t,i).getFirstUriObjectChild(c.UriObjectFileNode);return o?{type:o.getFileType(),decoded:o}:{type:void 0}}},803123:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(636076),r=o.__importStar(i(496486)),a=o.__importDefault(i(974634)),s=i(240297),l=o.__importDefault(i(601274));t.default=new class{constructor(){this._data={},this._sortedData=[],this._running=!0,this._pendingQueue=[],this.statisticsUpdated=new a.default,this._running=!1}getSortedEventsStatistics(){return this._sortedData}_scheduleDelayedUpdateIfNeeded(){this._updateTimerId||0===this._pendingQueue.length||(this._updateTimerId=l.default.setTimeout((()=>{this._updateTimerId=void 0,this._handleEvents(this._pendingQueue),this._pendingQueue=[]}),2e3))}_handleEvents(e){const t=n.AWTSerializer.getPayloadBlob({token:[]},1);r.each(e,(e=>{const i=this._convertEventWithMetadataToInternal(e),o=this._normalizedEventName(i);let r=this._data[o];r||(r={numberOfBytes:0,numberOfEvents:0,sampling:""},this._data[o]=r);const a=n.AWTSerializer.getPayloadBlob({token:[i]},1);r.numberOfEvents++,r.numberOfBytes+=a.payloadBlob.length-t.payloadBlob.length,r.sampling=this._samplingValue(i)})),this._sortedData=[],r.each(this._data,((e,t)=>{this._sortedData.push([t,e])})),this._sortedData.sort(((e,t)=>t[1].numberOfBytes-e[1].numberOfBytes)),this.statisticsUpdated.fire()}_convertEventWithMetadataToInternal(e){return Object.assign(Object.assign({},e),{serializedEvent:[0]})}_samplingValue(e){let t=s.SampledEvents[e.name],i=100;if("scenario"===e.name)i=s.SampledEvents["scenario_"+this._value(e,"ScenarioName")];else if("perf"===e.name)i=s.SampledPerfEvents[this._value(e,"Scenario")];else if(0===e.name.indexOf("kpi_")){const i=s.TelemetryConfig[e.name];if(i){const e="enabled"in i&&i.enabled,o="percentage"in i?i.percentage:void 0;t=r.isNumber(o)?o:e?100:0}else t=0}r.isNumber(t)||(t=100),r.isNumber(i)||(i=100);return Math.floor(t*i/100)+"%"}_normalizedEventName(e){return"scenario"===e.name?"Scenario – "+this._value(e,"ScenarioName"):"perf"===e.name?"Perf – "+this._value(e,"Scenario"):e.name}_value(e,t){const i=e.properties[t],o=i.value||i;return r.isString(o)?o:o.toString()}handleEvents(e){this._running&&(this._pendingQueue.push(...e),this._scheduleDelayedUpdateIfNeeded())}}},145677:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582).__importStar(i(496486)),n=i(240297);class r extends n.TelemetryEventBase{constructor(e,t,i,o,n,r){super(n),this._scenarioName=e,this._scenarioId=t,this._actionAttributes=i,this._shouldSendScenarioTelemetry=o,this._overrideLoggedOutSendingPolicy=r}shouldSend(){return this._shouldSendScenarioTelemetry()}getEventName(){return"scenario"}getAttributes(){const e=super.getAttributes();return e.ScenarioName=this._scenarioName,e.ScenarioId=this._scenarioId,o.each(this._actionAttributes,((t,i)=>{e["ScenarioAction_"+i]=t})),e}getLoggedOutSendingPolicy(){var e;return null!==(e=this._overrideLoggedOutSendingPolicy)&&void 0!==e?e:super.getLoggedOutSendingPolicy()}}t.default=r},535775:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScenarioName=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(174958),a=o.__importStar(i(85385)),s=o.__importDefault(i(352549)),l=i(96575);Object.defineProperty(t,"ScenarioName",{enumerable:!0,get:function(){return l.ScenarioName}});const c=i(240297),d=o.__importDefault(i(145677)),u=o.__importDefault(i(760989)),p=[l.ScenarioName[l.ScenarioName.Search],l.ScenarioName[l.ScenarioName.CreateMeetNow],l.ScenarioName[l.ScenarioName.JoinMeetNow],l.ScenarioName[l.ScenarioName.PhoneAuth]];class g extends s.default{constructor(e,t,i={},o=void 0,n=!1,r){super(e,t,i,o),this._overrideLoggedOutSendingPolicy=r,this._shouldSendIntermediateStepsOnFinal=n}_shouldSendSampledTelemetry(){if(void 0!==this._shouldSendScenarioTelemetry)return this._shouldSendScenarioTelemetry;if(n.includes(p,this._scenarioName))return this._shouldSendScenarioTelemetry=!0,this._shouldSendScenarioTelemetry;if(n.isEmpty(c.SampledEvents))return!0;const e="scenario_"+this._scenarioName,t=c.SampledEvents[e];return n.isNumber(t)?(this._shouldSendScenarioTelemetry=u.default.sampleForPercentage(t),this._shouldSendScenarioTelemetry):(this._shouldSendScenarioTelemetry=!0,this._shouldSendScenarioTelemetry)}extendProperties(e){n.assign(this._properties,e)}_markStep(e,t,i,o,s,l,c){super._markStep(e,t,i,o,s,l,c);const u=["started","finished","failed"];if(this._shouldSendSampledTelemetry()&&!o){n.some(u,(t=>e===t))||(e=this._scenarioName+"_"+e);const t={step_duration:n.last(this._markedSteps).stepDuration,step_name:e};if(n.assign(t,this._properties),l){this._shouldSendIntermediateStepsOnFinal&&n.each(this._markedSteps,(e=>{t[e.name+"_step_duration"]=e.stepDuration,t[e.name+"_total_duration"]=e.totalDuration}));const e=n.find(this._markedSteps,(e=>e.isTarget));e&&(t.target_duration_ms=e.totalDuration),t.total_duration=this._totalDuration,t.is_final=!0}a.track(new d.default(this._scenarioName,r.pii.Omit(this._scenarioId)||"",t,(()=>this._shouldSendSampledTelemetry()),this._experimentConfigIds||"",this._overrideLoggedOutSendingPolicy))}}}t.default=g},19973:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(873324),r=i(815146),a=o.__importStar(i(85385)),s=o.__importDefault(i(760989));t.default=new class{createSession(e,t,i){if(this._session){const t=s.default.newCauseId();a.log(r.LogTraceArea.Calling,"Before creating new session,End old callRosterSession  and  for callId: "+e+" causeId: "+t),this.completeSession()}return this._session=new n.CallRosterSession(e,t,i),this._session}completeSession(){this._session&&(a.track(this._session),this._session=void 0)}cancelSession(){this._session&&(this._session.setIsCanceled(!0),this.completeSession())}getActiveSession(){return this._session}updateCallRosterTelemetry(e,t,i){const o=this.getActiveSession();o?o&&i(o):a.warn(r.LogTraceArea.Calling,"There is no Active callRosterSession for callId: "+e+" causeId: "+t)}}},351947:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TodayTabOpenNativeChannelStore=t.TodayOnLandingScreenTelemetry=t.TodayTabToggleSetting=t.TodayActionTelemetry=t.TodayArticleReaderTelemetry=t.TodayFeedRefreshActionTelemetry=t.TodayInterestPageAvailabilityChangeTelemetry=t.TodayMarketChangeTelemetry=t.TodayShareTelemetry=t.TodayWebViewTelemetry=t.TodayBridgeTelemetry=void 0;const o=i(290545),n=i(240297);class r extends n.TelemetryEventBase{getEventName(){return"s4l_today"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.TodayBridgeTelemetry=class extends r{constructor(e,t,i){super(),this._origin=e,this._channelScenario=t,this._errorType=i}getActionName(){return"TodayBridgeTelemetry"}getAttributes(){const e=super.getAttributes();return e.origin=this._origin,e.channelScenario=this._channelScenario?this._channelScenario:"NoScenarioDefined",void 0!==this._errorType&&(e.errorType=o.TodayTabErrorType[this._errorType]),e}};t.TodayWebViewTelemetry=class extends r{constructor(e,t,i={}){super(),this._origin=t,this._props=i,this._props.stage=o.TodayWebViewStageTelemetry[e]}getActionName(){return"TodayWebView"}getAttributes(){const e=super.getAttributes();return e.origin=this._origin,Object.assign(e,this._props)}};t.TodayShareTelemetry=class extends r{constructor(e,t){super(),this._shareAction=e,this._origin=t}getActionName(){return"TodayShareTelemetry"}getAttributes(){const e=super.getAttributes();return e.shareAction=o.TodayShareActionTelemetry[this._shareAction],e.origin=o.ArticleReaderOrigin[this._origin],e}};t.TodayMarketChangeTelemetry=class extends r{constructor(e){super(),this._currentMarket=e}getActionName(){return"TodayMarketChangeTelemetry"}getAttributes(){const e=super.getAttributes();return e.selectedMarket=this._currentMarket,e}};t.TodayInterestPageAvailabilityChangeTelemetry=class extends r{constructor(e){super(),this._isEnabled=e}getActionName(){return"TodayInterestPageAvailabilityChange"}getAttributes(){const e=super.getAttributes();return e.IsEnabled=this._isEnabled,e}};t.TodayFeedRefreshActionTelemetry=class extends r{getActionName(){return"TodayFeedRefreshAction"}};t.TodayArticleReaderTelemetry=class extends r{constructor(e,t){super(),this._action=e,this._origin=t}getActionName(){return"TodayArticleReaderTelemetry"}getAttributes(){const e=super.getAttributes();return e.action=o.TodayArticleReaderActionTelemetry[this._action],e.origin=o.TodayShareActionTelemetry[this._origin],e}};t.TodayActionTelemetry=class extends r{constructor(e,t){super(),this._menuAction=e,this._origin=t}getActionName(){return"TodayActionMenu"}getAttributes(){const e=super.getAttributes();return e.menuAction=o.TodayActionMenuTelemetry[this._menuAction],this._origin&&(e.origin=o.ArticleReaderOrigin[this._origin]),e}};t.TodayTabToggleSetting=class extends r{constructor(e){super(),this._didEnable=e}getActionName(){return"ToggleTodayTab"}getAttributes(){const e=super.getAttributes();return e.DidEnable=this._didEnable,e}};t.TodayOnLandingScreenTelemetry=class extends r{constructor(e){super(),this._actionType=e}getActionName(){return"GetTodayOnLandingScreen"}getAttributes(){const e=super.getAttributes();return e.actionType=o.TodayActionMenuTelemetry[this._actionType],e}};t.TodayTabOpenNativeChannelStore=class extends r{getActionName(){return"OpenNativeChannelStore"}}},587269:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToneRewriteInstructionsRequestError=t.ToneRewriteInstructionsRequest=t.ToneRewriteLoadingDrop=t.ToneRewriteTonesMismatch=t.ToneRewriteMessageCopy=t.ToneRewriteMessageUpdate=t.ToneRewriteToneChange=t.ToneRewriteSuggestionPress=void 0;const o=i(240297);class n extends o.TelemetryEventBase{getEventName(){return"intelligence_tonerewrite"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class r extends n{constructor(e){super(),this._tone=e}getAttributes(){const e=super.getAttributes();return e.Tone=this._tone,e}}t.ToneRewriteSuggestionPress=class extends r{getActionName(){return"SuggestionPress"}};t.ToneRewriteToneChange=class extends r{getActionName(){return"ToneChange"}};t.ToneRewriteMessageUpdate=class extends r{getActionName(){return"MessageUpdate"}};t.ToneRewriteMessageCopy=class extends r{getActionName(){return"MessageCopy"}};t.ToneRewriteTonesMismatch=class extends n{getActionName(){return"TonesMismatch"}};t.ToneRewriteLoadingDrop=class extends n{getActionName(){return"LoadingDrop"}};t.ToneRewriteInstructionsRequest=class extends n{constructor(e){super(),this._timeSpent=e}getActionName(){return"InstructionsRequest"}getAttributes(){const e=super.getAttributes();return e.TimeSpent=this._timeSpent,e}};t.ToneRewriteInstructionsRequestError=class extends n{constructor(e,t){super(),this._timeSpent=e,this._errorCode=t}getActionName(){return"InstructionsRequestError"}getAttributes(){const e=super.getAttributes();return e.TimeSpent=this._timeSpent,e.ErrorCode=this._errorCode,e}}},41623:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TrouterEvent=t.GenericPluginlessStackEvent=t.GenericCallingEvent=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(139221)),a=i(240297);class s extends a.TelemetryEventBase{constructor(e,t){super(),this._eventName=e,this._props=t}getAriaTenantTokenOverride(){return r.default.getAriaCallingTenantToken()}getEventName(){return this._eventName}getAttributes(){return n.assign(super.getAttributes(),this._props)}}t.GenericCallingEvent=s;class l extends a.TelemetryEventBase{constructor(e,t,i){super(),this._tenant=e,this._eventName=t;const o=l._splitTelemetryValues(i);this._piiProps=o.pii,this._nonPiiProps=o.nonPii}getAriaTenantTokenOverride(){return this._tenant}getEventName(){return this._eventName}getAttributes(){return this._nonPiiProps.uiVersion=r.default.getUIVersionWithPartnerID(),n.assign(super.getAttributes(),this._nonPiiProps)}getPiiAttributes(){return n.assign(super.getPiiAttributes(),this._piiProps)}static _splitTelemetryValues(e){const t={},i={};return n.each(e,((e,o)=>{n.isObject(e)&&n.isNumber(e.piiKind)?t[o]=e:i[o]=e})),{pii:t,nonPii:i}}}t.GenericPluginlessStackEvent=l;class c extends a.TelemetryEventBase{constructor(e){super(),this._event=e}getAriaTenantTokenOverride(){return r.default.getAriaPluginlessTrouterTenantToken()}getEventName(){return this._event.name}getAttributes(){return n.assign(super.getAttributes(),this._getProperties())}_getProperties(){const e={};return n.each(this._event.properties,((t,i)=>{const o=t.value;n.isUndefined(o)||(e[i]=o)})),e}}t.TrouterEvent=c},418926:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TwincamLobbyStoppedLoading=t.TwincamLobbyMounted=t.TwincamCallDisconnected=t.TwincamLobbyClosedBeforeConnectingFinished=t.TwincamCallConnected=t.TwincamStartButtonPressed=t.TwincamDeepLinkNavigate=t.TwincamShareIntent=void 0;const o=i(240297);class n extends o.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._callId=t}getEventName(){return"calling_twincam"}getAttributes(){const e=super.getAttributes();return e.Action=this._action,this._callId&&(e.CallId=this._callId),e}}t.TwincamShareIntent=class extends n{constructor(e,t){super("TwinCamShareIntent",e),this._origin=t}getAttributes(){const e=super.getAttributes();return e.origin=this._origin,e}};t.TwincamDeepLinkNavigate=class extends n{constructor(e){super("TwinCamDeepLinkNavigate",e)}};t.TwincamStartButtonPressed=class extends n{constructor(e,t){super("TwinCamStartButtonPressed",e),this._isOneOnOne=t}getAttributes(){const e=super.getAttributes();return e.isOneOnOne=this._isOneOnOne,e}};t.TwincamCallConnected=class extends n{constructor(e,t){super("TwinCamCallConnected",e),this._twincamParameters=t}getAttributes(){const e=super.getAttributes();return e.connectingTime=this._twincamParameters.connectingTime,e.isOneOnOne=this._twincamParameters.isOneOnOne,e}};t.TwincamLobbyClosedBeforeConnectingFinished=class extends n{constructor(e,t){super("TwinCamLobbyClosedBeforeConnectingFinished",e),this._twincamParameters=t}getAttributes(){const e=super.getAttributes();return e.connectingTime=this._twincamParameters.connectingTime,e.isOneOnOne=this._twincamParameters.isOneOnOne,e}};t.TwincamCallDisconnected=class extends n{constructor(e){super("TwinCamCallDisconnected",e)}};t.TwincamLobbyMounted=class extends n{constructor(e,t){super("TwinCamLobbyMounted",e),this._isOneOnOne=t}getAttributes(){const e=super.getAttributes();return e.isOneOnOne=this._isOneOnOne,e}};t.TwincamLobbyStoppedLoading=class extends n{constructor(e,t){super("TwinCamLobbyStoppedLoading",e),this._twincamParameters=t}getAttributes(){const e=super.getAttributes();return e.loadingTime=this._twincamParameters.loadingTime,e.closedBeforeLoadingFinished=this._twincamParameters.closedBeforeLoadingFinished,e.isOneOnOne=this._twincamParameters.isOneOnOne,e}}},553397:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UrlPreviewImageFailureTelemetry=t.UrlPreviewClickTelemetry=t.UrlPreviewFailed=t.UrlPreviewReceived=t.UrlPreviewActionType=void 0;const o=i(197582),n=o.__importStar(i(636076)),r=o.__importStar(i(964647)),a=o.__importStar(i(44717)),s=i(240297),l=o.__importStar(i(340482)),c=o.__importDefault(i(220534));var d;!function(e){e[e.ResponseReceived=0]="ResponseReceived",e[e.RequestFailure=1]="RequestFailure",e[e.UserClick=2]="UserClick",e[e.ImageFailure=3]="ImageFailure",e[e.LoadThumbnailFailure=4]="LoadThumbnailFailure",e[e.LoadFaviconFailure=5]="LoadFaviconFailure"}(d||(t.UrlPreviewActionType=d={}));class u extends s.TelemetryEventBase{constructor(e,t){super(),this._url=e,this._action=t}getEventName(){return"url_preview"}getEventTraceMode(){return s.TelemetryTraceMode.EventName}getAttributes(){const e=super.getAttributes();return e.Action=d[this._action],e}getPiiAttributes(){const e=super.getPiiAttributes();return e.UrlDomain={value:c.default.getDomainName(this._url),piiKind:n.AWTPiiKind.Uri},e}}t.UrlPreviewReceived=class extends u{constructor(e,t,i,o){super(e,d.ResponseReceived),this._preview=t,this._numberRetries=i,this._duration=o}getAttributes(){const e=super.getAttributes();return e.RetriesCount=this._numberRetries,e.StatusCode=this._preview.status_code,e.ContentType=this._preview.content_type||"",e.Category=this._preview.category,e.HasTitle=!!this._preview.title,e.HasDescription=!!this._preview.description,e.Favicon=!!this._preview.favicon,e.FaviconWidth=this._preview.favicon_meta?this._preview.favicon_meta.width:-1,e.FaviconHeight=this._preview.favicon_meta?this._preview.favicon_meta.height:-1,e.Thumbnail=!!this._preview.thumbnail,e.ThumbnailWidth=this._preview.thumbnail_meta?this._preview.thumbnail_meta.width:-1,e.ThumbnailHeight=this._preview.thumbnail_meta?this._preview.thumbnail_meta.height:-1,e.RestrictionsAge=this._preview.restrictions?this._preview.restrictions.age:-1,this._duration&&(e.Duration=this._duration),this._preview.restrictions&&this._preview.restrictions.country&&(e.RestrictionsCountry=this._preview.restrictions.country),e}};t.UrlPreviewFailed=class extends u{constructor(e,t,i){super(e,d.RequestFailure),this._numberRetries=t,this._reason=i}getAttributes(){const e=super.getAttributes();return e.RetriesCount=this._numberRetries,e.FailureReason=this._reason,e}};t.UrlPreviewClickTelemetry=class extends u{constructor(e,t){super(e,d.UserClick),this._message=t}getCorrelationAttributes(){const e=super.getAttributes(),t=l.getClientMessageId(this._message);return e.MessageCorrelationId=r.getCorrelationIdFromMessageParts(this._message.creator,this._message.conversationId,t),e.ClientMessageId=t||"",e}getAttributes(){const e=a.isOneOnOneConversation(this._message.conversationId),t=super.getAttributes();t.ClickedTimestamp=this._eventCreationTime,t.IsGroupConversation=!e,t.ServerMessageId=this._message.getOriginalServerId()||"",t.urlp_operation="url_click";const i=l.getTrackableConversationId(this._message.conversationId);return i&&(t.ConversationId=i),t}};t.UrlPreviewImageFailureTelemetry=class extends u{constructor(e,t,i){super(e,i),this._error=t}getAttributes(){const e=super.getAttributes();return e.ImageError=this._error,e}}},464271:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserActionsTelemetryEvent=t.Scenarios=t.Actions=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297);var r,a;!function(e){e[e.CallVideo=0]="CallVideo",e[e.CallAudio=1]="CallAudio",e[e.AddContact=2]="AddContact",e[e.InterruptScenario=3]="InterruptScenario",e[e.ViewProfile=4]="ViewProfile",e[e.OnKeyPressToStartMessage=5]="OnKeyPressToStartMessage",e[e.MessageAction=6]="MessageAction",e[e.AddContactFromDiscoverPanel=7]="AddContactFromDiscoverPanel",e[e.SendMessage=8]="SendMessage"}(r||(t.Actions=r={})),function(e){e[e.SearchToConversation=0]="SearchToConversation",e[e.RecommendationFromRecentsToConversation=1]="RecommendationFromRecentsToConversation",e[e.RecommendationFromContactsToConversation=2]="RecommendationFromContactsToConversation",e[e.Unknown=3]="Unknown"}(a||(t.Scenarios=a={}));class s extends n.TelemetryEventBase{constructor(e){super(),this._userAction=e}getEventName(){return"people_user_actions"}getAttributes(){const e=super.getAttributes();return o.isUndefined(this._userAction.name)||(e.Action=r[this._userAction.name]),o.isUndefined(this._userAction.duration)||(e.Duration=this._userAction.duration),o.isUndefined(this._userAction.scenario)||(e.Scenario=a[this._userAction.scenario]),o.isUndefined(this._userAction.firstSuccessfulSearch)||(e.IsFirstSuccessfulSearch=this._userAction.firstSuccessfulSearch),o.each(this._userAction.additionalAttributes,((t,i)=>{e[i]=t})),e}}t.UserActionsTelemetryEvent=s},247896:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnansweredCallCTA=t.ExperimentButtonClickAction=t.ExperimentBannerCloseAction=t.ExperimentOpenAction=t.NavigateToDestination=void 0;const o=i(197582),n=i(406719),r=o.__importDefault(i(139221)),a=i(240297);var s;!function(e){e[e.BalanceStatePanel=0]="BalanceStatePanel",e[e.DialerPanel=1]="DialerPanel",e[e.GroupCall=2]="GroupCall"}(s||(t.NavigateToDestination=s={}));class l extends a.TelemetryEventBase{constructor(e,t,i){super(),this._settings=e,this._userEntitlementsSummary=t,this._isFreeTrialAvailable=i}getEventName(){return"s4l_entitlement_experiments"}getAriaTenantTokenOverride(){return r.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.ExperimentName=this._settings.name,e.ExperimentLocation=n.ExperimentLocation[this._settings.location],this._settings.layoutOption&&(e.LayoutOption=this._settings.layoutOption),this._userEntitlementsSummary&&(e.UserEntitlementsSummary=this._userEntitlementsSummary),this._isFreeTrialAvailable&&(e.IsFreeTrialAvailable=this._isFreeTrialAvailable),e.Action=this.getActionName(),e}}t.ExperimentOpenAction=class extends l{getActionName(){return"ExperimentOpen"}};t.ExperimentBannerCloseAction=class extends l{getActionName(){return"BannerClose"}};t.ExperimentButtonClickAction=class extends l{constructor(e,t,i,o){super(t,i,o),this._navigateTo=e}getActionName(){return"ButtonClick"}getAttributes(){const e=super.getAttributes();return e.NavigateTo=s[this._navigateTo],e}};class c extends a.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"s4l_entitlement_ucux_cta"}getAriaTenantTokenOverride(){return r.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this._action,e}}t.UnansweredCallCTA=c},320403:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserPresenceIgnoredEvent=t.UserPresenceFailedToSaveToDbEvent=t.UserPresenceChangedEvent=t.UserPresenceChangeOrigin=void 0;const o=i(567567),n=i(240297);var r;!function(e){e[e.ElectronMenuBar=0]="ElectronMenuBar",e[e.InitialFetch=1]="InitialFetch",e[e.Avatar=2]="Avatar",e[e.MeControl=3]="MeControl",e[e.ProfileButton=4]="ProfileButton",e[e.PollingUpdate=5]="PollingUpdate",e[e.PushNotification=6]="PushNotification",e[e.TrouterUpdate=7]="TrouterUpdate",e[e.Unknown=8]="Unknown",e[e.Settings=9]="Settings"}(r||(t.UserPresenceChangeOrigin=r={}));class a extends n.TelemetryEventBase{constructor(e,t,i,o,n,r,a,s,l){super(),this._origin=e,this._oldPresence=t,this._newPresence=i,this._receivedPresence=o,this._success=n,this._storeOnly=r,this._errorCode=a,this._errorMessage=s,this._retries=l}getEventName(){return"people_presence"}getAttributes(){const e=super.getAttributes();return e.Origin=r[this._origin],e.FromPresence=(0,o.encodeStatus)(this._oldPresence)||"Unknown",e.ToPresence=(0,o.encodeStatus)(this._newPresence)||"Unknown",e.ReceivedPresence=(0,o.encodeStatus)(this._receivedPresence)||"Unknown",e.IsSuccess=this._success,e.IsStoreOnly=this._storeOnly,e.RetriesCount=this._retries||0,void 0!==this._errorCode&&(e.ErrorCode=this._errorCode),void 0!==this._errorMessage&&(e.ErrorMessage=this._errorMessage),e}}t.UserPresenceChangedEvent=a;class s extends n.TelemetryEventBase{constructor(e,t,i){super(),this._origin=e,this._oldPresence=t,this._newPresence=i}getEventName(){return"people_presence_error"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e.Origin=r[this._origin],e.FromPresence=(0,o.encodeStatus)(this._oldPresence)||"Unknown",e.ToPresence=(0,o.encodeStatus)(this._newPresence)||"Unknown",e}}t.UserPresenceFailedToSaveToDbEvent=class extends s{constructor(e,t,i){super(e,t,i)}getAction(){return"SaveToDB"}};class l extends n.TelemetryEventBase{constructor(e,t,i){super(),this._origin=e,this._currentStatus=t,this._statusToUpdate=i}getEventName(){return"people_presence_ignore"}getAttributes(){const e=super.getAttributes();return e.Origin=r[this._origin],e.CurrentStatus=(0,o.encodeStatus)(this._currentStatus)||"Unknown",e.ToPresence=(0,o.encodeStatus)(this._statusToUpdate)||"Unknown",e}}t.UserPresenceIgnoredEvent=l},734487:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserStatusTelemetry=void 0;const o=i(197582).__importStar(i(496486)),n=i(380157),r=i(240297);class a extends r.TelemetryEventBase{constructor(e,t,i,o,n,r,a,s){super(),this._isAvatarSet=e,this._AvatarPolicy=t,this._setupWizardCompletionTimestamp=i,this._isNewUser=o,this._notificationsPermission=n,this._cameraPermission=r,this._microphonePermission=a,this._contactsPermission=s}getEventName(){return"onboarding_user_status"}getAttributes(){const e=super.getAttributes();return e.AvatarPolicy=o.upperFirst(o.camelCase(this._AvatarPolicy)),e.AvatarState=this._isAvatarSet?"Set":"Unset",e.SetupWizardCompletionTimestamp=this._setupWizardCompletionTimestamp||"NotCompleted",e.UserIsNew=this._isNewUser,e.NotificationsPermission=n.PermissionStatus[this._notificationsPermission],e.CameraPermission=n.PermissionStatus[this._cameraPermission],e.MicrophonePermission=n.PermissionStatus[this._microphonePermission],e.ContactsPermission=n.PermissionStatus[this._contactsPermission],e}}t.UserStatusTelemetry=a},693722:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UploadEvent=t.RecordEvent=void 0;const o=i(197582).__importStar(i(496486)),n=i(240297);class r extends n.TelemetryEventBase{constructor(e,t){super(),this._videoDuration=e,this._videoSize=t,this._success=!1,this._error=""}getEventName(){return"camera_vim"}getAttributes(){return o.assign(super.getAttributes(),{Action:this.getActionName(),IsSuccess:this._success,VideoDuration:this._videoDuration,VideoSize:this._videoSize,TransactionId:this._transactionId||"",Error:this._error})}setStatus(e,t,i=""){this._success=e,this._transactionId=t,this._error=i}}t.RecordEvent=class extends r{getActionName(){return"Record"}};t.UploadEvent=class extends r{getActionName(){return"Upload"}}},743809:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PresenceForMrisTelemetryEvents=t.MyPresenceTelemetryEvents=t.PresenceFailureTelemetryEvents=void 0;const o=i(240297);class n extends o.TelemetryEventBase{constructor(e){super(),this._attributes=e}getEventName(){return"people_presence_failure"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{ServiceType:this._attributes.serviceType,Scenario:this._attributes.scenario,StatusCode:this._attributes.statusCode,StatusText:this._attributes.statusText,DidTimeOut:this._attributes.didTimeOut,Url:this._attributes.url,Method:this._attributes.method,CorrelationId:this._attributes.correlationId})}}t.PresenceFailureTelemetryEvents=n;class r extends o.TelemetryEventBase{constructor(e){super(),this._attributes=e}getEventName(){return"my_presence"}getAttributes(){var e,t;return Object.assign(Object.assign({},super.getAttributes()),{UpsStatus:this._attributes.upsPresence,CsStatus:this._attributes.csPresence,CsCorrelationId:this._attributes.csCorrelationId,UpsCorrelationId:this._attributes.upsCorrelationId,Scenario:this._attributes.scenario,ReasonCode:(null===(e=this._attributes.reason)||void 0===e?void 0:e.code)||"",ReasonDescription:(null===(t=this._attributes.reason)||void 0===t?void 0:t.description)||""})}}t.MyPresenceTelemetryEvents=r;class a extends o.TelemetryEventBase{constructor(e){super(),this._attributes=e}getEventName(){return"presence_for_mris"}getAttributes(){var e,t;return Object.assign(Object.assign({},super.getAttributes()),{SameCount:this._attributes.sameCount,TotalCount:this._attributes.totalCount,CsCorrelationId:this._attributes.csCorrelationId,UpsCorrelationId:this._attributes.upsCorrelationId,ReasonCode:(null===(e=this._attributes.reason)||void 0===e?void 0:e.code)||"",ReasonDescription:(null===(t=this._attributes.reason)||void 0===t?void 0:t.description)||""})}}t.PresenceForMrisTelemetryEvents=a},330380:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useLocalization=void 0;const o=i(736267);t.useLocalization=()=>{const{isRTL:e,language:t}=(0,o.useCommonContext)();return{isRTL:e,language:t}}},843890:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UICapabilities=t.CallingCapabilities=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(815063),a=o.__importDefault(i(150343)),s=i(815146),l=o.__importStar(i(85385)),c=i(720756),d=o.__importDefault(i(655192)),u=o.__importDefault(i(139221));var p,g;!function(e){e[e.JSONAnimation=0]="JSONAnimation",e[e.Camera=1]="Camera",e[e.SystemSettingsDeepLink=2]="SystemSettingsDeepLink",e[e.DragAndDrop=3]="DragAndDrop",e[e.DesktopFilePicker=4]="DesktopFilePicker",e[e.AVSettings=5]="AVSettings",e[e.NativeAnimations=6]="NativeAnimations",e[e.SpriteAnimations=7]="SpriteAnimations",e[e.NumberOfLines=8]="NumberOfLines",e[e.ContactsSync=9]="ContactsSync",e[e.InlineTextFormatting=10]="InlineTextFormatting",e[e.CursorTypes=11]="CursorTypes",e[e.RTL=12]="RTL",e[e.CopyTextToClipboard=13]="CopyTextToClipboard",e[e.SystemTheme=14]="SystemTheme",e[e.KeyboardAwareView=15]="KeyboardAwareView",e[e.QuickActions=16]="QuickActions",e[e.AddScheduledCallToCalendar=17]="AddScheduledCallToCalendar",e[e.SystemHotKeys=18]="SystemHotKeys",e[e.RemoteAppearancePreferences=19]="RemoteAppearancePreferences",e[e.EngagementProcessedMessageOnWebTimestamp=20]="EngagementProcessedMessageOnWebTimestamp",e[e.TelemetryConsentOptOut=21]="TelemetryConsentOptOut"}(p||(p={})),function(e){e[e.OneToOne=0]="OneToOne",e[e.Group=1]="Group",e[e.MeetNow=2]="MeetNow",e[e.Encrypted=3]="Encrypted",e[e.AutoAnswer=4]="AutoAnswer",e[e.CallMonitor=5]="CallMonitor",e[e.ScreenSharing=6]="ScreenSharing",e[e.ScreenSharingWithSounds=7]="ScreenSharingWithSounds",e[e.ScreenSharingControl=8]="ScreenSharingControl",e[e.MicrophoneLevelMeter=9]="MicrophoneLevelMeter",e[e.MicrophoneVolumeControl=10]="MicrophoneVolumeControl",e[e.SpeakerVolumeControl=11]="SpeakerVolumeControl",e[e.PersistVolumeLevels=12]="PersistVolumeLevels",e[e.AvSettingsCameraPreview=13]="AvSettingsCameraPreview",e[e.NonNativeEmergencyCalls=14]="NonNativeEmergencyCalls",e[e.CallSnapshot=15]="CallSnapshot",e[e.AttachVideoWithId=16]="AttachVideoWithId",e[e.DefaultOutputDevice=17]="DefaultOutputDevice",e[e.SecondaryRinging=18]="SecondaryRinging",e[e.UnmuteDevice=19]="UnmuteDevice",e[e.Agc=20]="Agc",e[e.CallTechnicalInformation=21]="CallTechnicalInformation",e[e.BackgroundBlur=22]="BackgroundBlur",e[e.BackgroundReplacement=23]="BackgroundReplacement",e[e.NdiPlatform=24]="NdiPlatform",e[e.ApplicationSharing=25]="ApplicationSharing",e[e.MobileScreenSharing=26]="MobileScreenSharing",e[e.CallMerge=27]="CallMerge",e[e.ScreenSharingToolbar=28]="ScreenSharingToolbar",e[e.floatableResizableVideoPreviewSupported=29]="floatableResizableVideoPreviewSupported",e[e.IsPluginlessCallingStack=30]="IsPluginlessCallingStack"}(g||(g={}));class h{constructor(){this._capabilityMap={}}_isSupported(e,t){const i=e;return n.isUndefined(this._capabilityMap[i])&&(this._capabilityMap[i]=t()),this._capabilityMap[i]}}t.CallingCapabilities=new class extends h{constructor(){super(...arguments),this._callingSupportedByBrowser=!0}setCallingSupportedByBrowser(e){this._callingSupportedByBrowser=e}limitedSupportBrowser(){return a.default.getS4LUiFeaturesNoSubscription().limitedSupportBrowserToastConfig.enabled&&(r.BrowserEnvironment.isEngineGecko()||r.BrowserEnvironment.isEngineChromium()&&!this._callingSupportedByBrowser||r.BrowserEnvironment.isEngineWebkit()&&!this._callingSupportedByBrowser)}anyCallingSupported(){const e=this.oneToOneCallingSupported(),t=this.groupCallingSupported();return l.log(s.LogTraceArea.Calling,`CallingCapabilities.anyCallingSupported, oneToOneCallingSupported: ${e}, groupCallingSupported: ${t}`),e||t}oneToOneCallingSupported(){return this._isBrowserCallingSupported()}groupCallingSupported(){return this._isBrowserCallingSupported()}meetNowCallingSupported(){return this._isBrowserCallingSupported()}encryptedCallingSupported(){return this._isSupported(g.Encrypted,(()=>!1))}autoAnswerSupported(){return this._isSupported(g.AutoAnswer,(()=>!1))}callMonitorSupported(){return this._isSupported(g.CallMonitor,(()=>!1))}screenSharingSupported(){return this._isSupported(g.ScreenSharing,(()=>r.BrowserEnvironment.supportsScreenSharing()))}screenSharingControlSupported(){return this._isSupported(g.ScreenSharingControl,(()=>this.screenSharingSupported()&&!1))}screenSharingWithSoundSupported(){return this._isSupported(g.ScreenSharingWithSounds,(()=>u.default.isElectronWindows()))}mobileScreenSharingSupported(){return this._isSupported(g.MobileScreenSharing,(()=>!1))}microphoneLevelMeterSupported(){return this._isSupported(g.MicrophoneLevelMeter,(()=>u.default.isAnyWindowsOrOsx()))}microphoneVolumeControlSupported(){return this._isSupported(g.MicrophoneVolumeControl,(()=>u.default.isAnyWindowsOrOsx()))}speakerVolumeControlSupported(){return this._isSupported(g.SpeakerVolumeControl,(()=>u.default.isAnyWindowsOrOsx()))}persistVolumeLevelsSupported(){return this._isSupported(g.PersistVolumeLevels,(()=>u.default.isAnyWindowsOrOsx()))}avSettingsCameraPreviewSupported(){return this._isSupported(g.AvSettingsCameraPreview,(()=>!0))}nonNativeEmergencyCallsSupported(){return this._isSupported(g.NonNativeEmergencyCalls,(()=>!1))}callSnapshotSupported(){return this._isSupported(g.CallSnapshot,(()=>!1))}attachVideoWithIdSupported(){return this._isSupported(g.AttachVideoWithId,(()=>!1))}defaultOutputDeviceSupported(){return this._isSupported(g.DefaultOutputDevice,(()=>!1))}secondaryRingingSupported(){return this._isSupported(g.SecondaryRinging,(()=>!0))}unmuteDeviceSupported(){return this._isSupported(g.UnmuteDevice,(()=>!1))}agcSupported(){return this._isSupported(g.Agc,(()=>!1))}callTechnicalInformationSupported(){return this._isSupported(g.CallTechnicalInformation,(()=>!1))}backgroundBlurSupported(){return this._isSupported(g.BackgroundBlur,(()=>!0))}ndiPlatformSupported(){return this._isSupported(g.NdiPlatform,(()=>!1))}applicationSharingSupported(){return this._isSupported(g.ApplicationSharing,(()=>!0))}callMergeSupported(){return this._isSupported(g.CallMerge,(()=>!1))}screenSharingToolbarSupported(){return this._isSupported(g.ScreenSharingToolbar,(()=>!1))}floatableResizableVideoPreviewSupported(){return this._isSupported(g.floatableResizableVideoPreviewSupported,(()=>!0))}isPluginlessCallingStack(){return this._isSupported(g.IsPluginlessCallingStack,(()=>!0))}_isBrowserCallingSupported(){return this._callingSupportedByBrowser&&(r.BrowserEnvironment.isEngineEdgeHTML()||r.BrowserEnvironment.isEngineGecko()||r.BrowserEnvironment.isEngineWebkit()||r.BrowserEnvironment.isEngineChromium())}},t.UICapabilities=new class extends h{cameraSupported(){return this._isSupported(p.Camera,(()=>!1))}systemSettingsDeepLinkSupported(){return this._isSupported(p.SystemSettingsDeepLink,(()=>!1))}dragAndDropSupported(){return this._isSupported(p.DragAndDrop,(()=>!0))}desktopFilePickerSupported(){return this._isSupported(p.DesktopFilePicker,(()=>!0))}avSettingsSupported(){return this._isSupported(p.AVSettings,(()=>t.CallingCapabilities.anyCallingSupported()))}nativeAnimationsSupported(){return this._isSupported(p.NativeAnimations,(()=>!1))}textNumberOfLinesSupported(){return this._isSupported(p.NumberOfLines,(()=>!1))}contactsSyncSupported(){return this._isSupported(p.ContactsSync,(()=>!1))}inlineTextFormattingSupported(){return this._isSupported(p.InlineTextFormatting,(()=>!0))}cursorTypesSupported(){return this._isSupported(p.CursorTypes,(()=>!0))}copyTextToClipboardSupported(){return this._isSupported(p.CopyTextToClipboard,(()=>r.BrowserEnvironment.supportsCopy()))}systemThemeSupported(){return this._isSupported(p.SystemTheme,(()=>!0))}keyboardAwareViewSupported(){return this._isSupported(p.KeyboardAwareView,(()=>!1))}quickActionsSupported(){return this._isSupported(p.QuickActions,(()=>!1))}addScheduledCallToCalendarSupported(){return this._isSupported(p.AddScheduledCallToCalendar,(()=>!1))}systemHotKeysSupported(){return this._isSupported(p.SystemHotKeys,(()=>!1))}engagementProcessedMessageOnWebTimestampSupported(){return this._isSupported(p.EngagementProcessedMessageOnWebTimestamp,(()=>!0))}androidReadPhoneStatePermissionRequired(){return!1}inAppBrowserNotificationsSupported(){return r.BrowserEnvironment.isMobile()&&a.default.getS4LNativePlatformsEcsConfigNoSubscription().enableInAppNotificationsForMobileBrowsers}telemetryConsentOptOutSupported(){return this._isSupported(p.TelemetryConsentOptOut,(()=>{const e=u.default.getAppVersion(),t=c.SkypeVersionParser.parse(e);return 0===(null==t?void 0:t.version.cobrand)}))}alertNotificationEnabled(){return d.default.compareVersions(u.default.getOSVersion(),"14.7.0")>=0}}},887847:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getParticipantMrisFromUrl=function(e,t=!0){return e?(0,n.map)((0,n.compact)(e.split(";")),(e=>{e=decodeURIComponent(e);const i=t&&a.default.isPossiblyPhoneNumber(e)?r.Namespaces.PSTN:r.Namespaces.SkypeId;return r.sanitizeMri(e,i)})):[]};const o=i(197582),n=i(496486),r=o.__importStar(i(44717)),a=o.__importDefault(i(808164))},473483:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delphiColorInfo=t.SerializedColorByNumber=void 0,t.getDefaultUnknownColorInfo=b,t.getDefaultColorInfo=function(e){return T(function(e){if(!e)return 0;let t=d;const i=e.length;for(let o=0;o<i;o++){t=33*t^e.charCodeAt(o)}return t>>>0}(e)%6+1)},t.getColorInfoForSerializedColor=T,t.backgroundColorStyleForColorInfo=function(e,t=!1){const i=P(e,t);let o=v[i];o||(o=r.Styles.createViewStyle({backgroundColor:i},!1),v[i]=o);return o},t.accentColor=P,t.localizedColorNameForColorInfo=function(e){switch(e.key){case"blue":return l.getString("Colors.Blue");case"fuschia":return l.getString("Colors.Fuschia");case"mint":return l.getString("Colors.Mint");case"orange":return l.getString("Colors.Orange");case"rose":return l.getString("Colors.Rose");case"yellow":return l.getString("Colors.Yellow");case"rainbow":return l.getString("Colors.Rainbow");case M:return l.getString("Colors.Custom")}return""},t.gradientColorsForSerializedColor=function(e){return A(T(e))},t.gradientColorsForColors=k,t.gradientColorsForColorInfo=A,t.reverseGradientColorsForColorInfo=I,t.gradientHoverColorsForColorInfo=function(e){return e.hoverColors},t.subtleGradientColorsForColorInfo=function(e){return A(e)},t.isMatchingColorInfo=function(e,t){return!!e&&C[e.key]===t},t.isCustomColor=function(e){return!!e&&!(e.key in C)&&e.key!==S},t.genFromHsvs=L,t.serializeColorInfo=function(e){const t=n.findKey(E(),((t,i)=>(0,s.default)(t,e)));if(t)return t;e.hsvs||(e.hsvs=n.map(e.colors,(e=>a.rgbToHsv(a.colorStringToRgb(e)))));return x+N+n.map(e.hsvs,(e=>e.hue+","+e.saturation+","+e.value)).join(N)+(e.reverseGradientOrder?N+D:"")},t.deserializeColorInfo=function(e){if(!e)return b();const t=E()[e];if(t)return t;const i=C[e];if(i){const e=E()[i];if(e)return e}const o=e.split(N);if(o[0]===x&&o.length>=2){let e,t=!1;n.last(o)===D?(e=o.slice(1,o.length-1),t=!0):e=o.slice(1,o.length);let i=!1;const r=[];if(n.each(e,(e=>{try{const t=e.split(","),i={hue:Number(t[0]),saturation:Number(t[1]),value:Number(t[2])};if(R(i))return r.push(i),!0}catch(e){}return i=!0,!1})),!i)return L(r,t)}if(o[0]===w&&o.length>=2){let e,t=!1;n.last(o)===D?(e=o.slice(1,o.length-1),t=!0):e=o.slice(1,o.length);if(e.length&&n.every(e,(e=>u.test(e))))return 1===e.length&&e.push(e[0]),{key:M,colors:k(e),reverseGradientOrder:t}}return b()},t.validateHsvColor=R;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778)),a=o.__importStar(i(198649)),s=o.__importDefault(i(114818)),l=o.__importStar(i(704704)),c=i(16549),d=5381,u=/^#[0-9A-F]{6}$/i,p=.7,g=1,h=.2,m=1,S="delphi";var _;!function(e){e[e.Blue=1]="Blue",e[e.Fuschia=2]="Fuschia",e[e.Mint=3]="Mint",e[e.Orange=4]="Orange",e[e.Rose=5]="Rose",e[e.Yellow=6]="Yellow",e[e.Rainbow=7]="Rainbow"}(_||(t.SerializedColorByNumber=_={}));const f={key:"rainbow",colors:[c.Color.pink,c.Color.orange,c.Color.blue]},y={[_.Blue]:{key:"blue",colors:[c.Color.blurpleDark,c.Color.blurpleLight],primaryAccent:c.Color.blurpleDark,secondaryAccent:c.Color.blurpleLight,hoverColors:[c.Color.blurpleDarkOverlay50,c.Color.blurpleDarkOverlay50]},[_.Fuschia]:{key:"fuschia",colors:[c.Color.purpleDark,c.Color.purpleLight],primaryAccent:c.Color.purpleDark,secondaryAccent:c.Color.purpleLight,hoverColors:[c.Color.purpleDarkOverlay50,c.Color.purpleDarkOverlay50]},[_.Mint]:{key:"mint",colors:[c.Color.blueDark,c.Color.blueLight],primaryAccent:c.Color.blueDark,secondaryAccent:c.Color.blueDark,hoverColors:[c.Color.blueDarkOverlay50,c.Color.blueDarkOverlay50]},[_.Orange]:{key:"orange",colors:[c.Color.pinkDark,c.Color.pinkLight],primaryAccent:c.Color.pinkDark,secondaryAccent:c.Color.pinkDark,hoverColors:[c.Color.pinkDarkOverlay50,c.Color.pinkDarkOverlay50]},[_.Rose]:{key:"rose",colors:[c.Color.pinkDark,c.Color.pinkLight],primaryAccent:c.Color.pinkDark,secondaryAccent:c.Color.pinkDark,hoverColors:[c.Color.pinkDarkOverlay50,c.Color.pinkDarkOverlay50]},[_.Yellow]:{key:"yellow",colors:[c.Color.orangeDark,c.Color.orangeLight],primaryAccent:c.Color.orangeDark,secondaryAccent:c.Color.orangeDark,hoverColors:[c.Color.orangeDarkOverlay50,c.Color.orangeDarkOverlay50]},[_.Rainbow]:f};t.delphiColorInfo={key:S,colors:[c.Color.blueDark,c.Color.blueLight],reverseGradientOrder:!0,primaryAccent:c.Color.blueDark,secondaryAccent:c.Color.blueDark,hoverColors:[c.Color.blueDarkOverlay50,c.Color.blueDarkOverlay50]};const C={blue:_.Blue,fuschia:_.Fuschia,mint:_.Mint,orange:_.Orange,rose:_.Rose,yellow:_.Yellow,rainbow:_.Rainbow},v={};function b(){return E()[_.Blue]}function T(e){return e>=1&&e<=7?E()[e]:b()}function P(e,t){if(t){if(e.secondaryAccent)return e.secondaryAccent}else if(e.primaryAccent)return e.primaryAccent;const i=e.colors;return t?i[i.length-1]:i[0]}function k(e){switch(e.length){case 0:return[c.Color.transparent,c.Color.transparent];case 1:return[e[0],e[0]];default:return e}}function A(e){const t=k(e.colors);return e.reverseGradientOrder?I(e):t}function I(e){return k([...e.colors].reverse())}const w="cust",x="hsv",N="_",D="reverse",M="cust";function L(e,t){return{key:M,hsvs:e,colors:k(n.map(e,(e=>a.rgbToColorString(a.hsvToRgb(e))))),reverseGradientOrder:t}}function R(e){return!!e&&(!!(void 0!==e.hue&&n.isNumber(e.hue)&&e.hue>=0&&e.hue<=1)&&(!!(void 0!==e.saturation&&n.isNumber(e.saturation)&&e.saturation>=p&&e.saturation<=g)&&!!(void 0!==e.value&&n.isNumber(e.value)&&e.value>=h&&e.value<=m)))}function E(){return y}},700855:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=o.__importDefault(i(168040)),s=i(662783),l=o.__importStar(i(397691)),c=i(815146),d=o.__importStar(i(85385)),u=o.__importDefault(i(655192)),p=o.__importDefault(i(601274));class g{static checkCookieValue(e,t,i,o=5){const n={exponentialTime:new s.ExponentialTime(100,5e3),numberRetriesSoFar:-1};return g._checkCookieValue(e,t,i,o,n)}static getCookieSupported(){return!1}static clearCookies(){return a.default.clearAllCookies()}static _checkCookieValue(e,t,i,o=5,s){return a.default.getCookiesForDomain(e).then((n=>{const a=t.trim();return r.find(n,((e,t)=>t.trim()===a))===i?l.Resolved():g._retryCheckCookieValue(e,t,i,o,s)}),(r=>(d.error(c.LogTraceArea.CookieUtils,"Failed to fetch cookies for domain: '",n.pii.Omit(e),"' , error: ",u.default.errorAsString(r)),g._retryCheckCookieValue(e,t,i,o,s))))}static _retryCheckCookieValue(e,t,i,o,r){return r.numberRetriesSoFar=r.numberRetriesSoFar+1,r.numberRetriesSoFar<=o?(d.log(c.LogTraceArea.CookieUtils,"Retrying getting cookie value. Domain:",n.pii.Omit(e),", retryInfo:",JSON.stringify(r)),p.default.sleep(r.exponentialTime.getTimeAndCalculateNext()).then((()=>this._checkCookieValue(e,t,i,o,r)))):l.Rejected()}}t.default=g},224434:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tryMigrateUWPCredentials=function(){return n.CredentialsMigration.tryMigrateCredentials()},t.tryMigrateCredentials=function(e,t){return n.CredentialsMigration.tryMigrateCredentials().then((t=>s.default.getAccessTokenFromRefreshToken(t.msaRefreshToken,!0).then((i=>{e(t,i)})).done((()=>{n.CredentialsMigration.onMigrationComplete(),a.log(r.LogTraceArea.SISU,"Credential migration successfully marked as completed")})))).catch((()=>{a.log(r.LogTraceArea.SISU,"Failed to migrate credentials, falling back to normal login flow"),t()}))};const o=i(197582),n=i(591339),r=i(815146),a=o.__importStar(i(85385)),s=o.__importDefault(i(288950))},495681:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileIconHelper=void 0;const o=i(197582),n=o.__importStar(i(516778)),r=o.__importDefault(i(606617)),a=i(26703),s=o.__importStar(i(704704)),l=i(16549),c=i(641400),d=i(331079),u=(0,a.lazyProperties)({iconBackgroundColorFile:()=>n.Styles.createViewStyle({backgroundColor:l.Color.gray300})});t.FileIconHelper=class{static getIconFromFileType(e,t){let i,o,n;switch(t||r.default.getFileType(r.default.extractFileExtension(e))){case d.UploadFileType.Excel:i=c.SkypeIcon.MSExcel,o=c.SkypeIcon.MSExcelIllustration,n=s.getString("Global.MsExcelLabel");break;case d.UploadFileType.OneNote:i=c.SkypeIcon.MSOneNote,o=c.SkypeIcon.MSOneNote,n=s.getString("Global.MsOneNoteLabel");break;case d.UploadFileType.Powerpoint:i=c.SkypeIcon.MSPowerPoint,o=c.SkypeIcon.MSPowerPointIllustration,n=s.getString("Global.MsPowerPointLabel");break;case d.UploadFileType.Word:i=c.SkypeIcon.MSWord,o=c.SkypeIcon.MSWordIllustration,n=s.getString("Global.MsWordLabel");break;case d.UploadFileType.Picture:case d.UploadFileType.ImageCreatorPicture:i=c.SkypeIcon.FilePicture,o=c.SkypeIcon.FilePictureIllustration,n=s.getString("Global.Photo");break;case d.UploadFileType.Video:case d.UploadFileType.VideoMessage:i=c.SkypeIcon.FileVideo,o=c.SkypeIcon.FileVideoIllustration,n=s.getString("Global.Video");break;case d.UploadFileType.Audio:i=c.SkypeIcon.FileAudio,o=c.SkypeIcon.FileAudioIllustration,n=s.getString("Global.AudioLabel");break;case d.UploadFileType.PDF:i=c.SkypeIcon.FilePDF,o=c.SkypeIcon.FilePDFIllustration,n=s.getString("Global.PDFLabel");break;case d.UploadFileType.AVI:i=c.SkypeIcon.FileAVI,o=c.SkypeIcon.FileAVIIllustration,n=s.getString("Global.AVILabel");break;case d.UploadFileType.Zip:i=c.SkypeIcon.FileZip,o=c.SkypeIcon.FileZipIllustration,n=s.getString("Global.ZipLabel");break;default:i=c.SkypeIcon.File,o=c.SkypeIcon.File,n=s.getString("Global.FileLabel")}return{icon:i,illustration:o,displayString:n,iconColor:l.Color.gray300,backgroundStyle:u.iconBackgroundColorFile}}static getFileIconGlyph(e){switch(r.default.extractFileExtension(e)){case"doc":case"docx":return c.SkypeIcon.MSWord;case"xls":case"xlsx":return c.SkypeIcon.MSExcel;case"ppt":case"pptx":return c.SkypeIcon.MSPowerPoint;case"one":return c.SkypeIcon.MSOneNote}return c.SkypeIcon.File}static getFileIconColor(e){const t=r.default.extractFileExtension(e);let i=l.Color.darkThemeBackground;switch(t){case"docx":case"doc":i=l.Color.docFile;break;case"xlsx":case"xls":i=l.Color.xlsFile;break;case"pptx":case"ppt":i=l.Color.pptFile;break;case"one":i=l.Color.oneNoteFile}return i}}},609099:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FilePickerUtils=t.FilePickerAcceptType=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(900407)),a=o.__importStar(i(362520)),s=o.__importDefault(i(150343)),l=i(815146),c=o.__importStar(i(311988)),d=o.__importStar(i(85385)),u=o.__importStar(i(704704)),p=i(901156);var g;!function(e){e[e.Image=1]="Image",e[e.Video=2]="Video",e[e.ImageOrVideo=3]="ImageOrVideo"}(g||(t.FilePickerAcceptType=g={}));t.FilePickerUtils=class{static showSingleFilePicker(e,t,i,o){r.default.show(this._fillMissingOptions(o),t,i,(t=>{d.warn(l.LogTraceArea.FilePicker,"Single file picker used to select more than one item."),t.forEach((t=>e(t)))}))}static showOpenDialog(e,t){r.default.showOpenDialog(e,t)}static getFileDownloadPath(){return r.default.getFileDownloadPath()}static getFileUri(e,t){return s.default.getS4LMessagingFeaturesNoSubscription().enableCustomFileDownloadLocation&&t?a.join(t,e):e}static showMultiFilesPicker(e,t,i,o,a,s){const l=this._getFileLimit(s),u=(p.FilePickerOrigin.FilePickerItem,l);r.default.show(this._fillMissingOptions(i,!0),o,a,(i=>{const r=i.length>u;r?c.show(o):i.forEach((t=>e(t))),d.track(new p.FilesSentViaPicker(t,u,r,n.map(i,(e=>e.extension))))}))}static isDocumentPickerSupported(){return r.default.isDocumentPickerSupported()}static cleanUp(e){r.default.cleanUp(e)}static showDocumentPicker(e,t,i){r.default.isDocumentPickerSupported()&&r.default.showDocumentPicker((o=>this._callbackWrapper(o,p.FilePickerOrigin.FilePickerItem,e,t,i)))}static _callbackWrapper(e,t,i,o,r){const a=this._getFileLimit(r),s=e.length>a;s?c.show(o):e.forEach((e=>i(e))),d.track(new p.FilesSentViaPicker(t,a,s,n.map(e,(e=>e.extension))))}static _fillMissingOptions(e,t){return{title:u.getString("FilePicker.SelectImageTitle"),cancelButtonTitle:u.getString("Global.CancelLabel"),chooseFromLibraryButtonTitle:u.getString("FilePicker.LibraryOptionTitle"),takePhotoButtonTitle:u.getString("FilePicker.CameraOptionTitle"),maxWidth:e&&e.maxSize||4096,maxHeight:e&&e.maxSize||4096,quality:e&&e.quality||.7,allowsEditing:e&&e.allowEditing||!1,acceptImage:(null==e?void 0:e.acceptType)===g.Image||(null==e?void 0:e.acceptType)===g.ImageOrVideo,acceptVideo:(null==e?void 0:e.acceptType)===g.Video||(null==e?void 0:e.acceptType)===g.ImageOrVideo,allowMultipleSelection:t||!1,allowsFileChoosing:e&&e.allowsFileChoosing||!1}}static _getFileLimit(e){const t=s.default.getS4LMessagingFeaturesNoSubscription().limitForFilePicker;return e?t-e||0:t}}},61784:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileSizeInformation=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(150343)),a=o.__importStar(i(987364)),s=i(815146),l=o.__importDefault(i(128522)),c=o.__importStar(i(252665)),d=o.__importStar(i(85385)),u=o.__importStar(i(704704)),p=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];t.FileSizeInformation=class{};class g{static formatFileSize(e,t=2){let i=e;i<0&&(i=0,d.warn(s.LogTraceArea.FileSizeHelpers,"Invalid byte size passed: "+e));let o=t>0?t:0;if(o<0&&(o=0,d.warn(s.LogTraceArea.FileSizeHelpers,"Invalid decimal places passed: "+t)),0===i)return{value:0,unit:p[0],formattedString:u.getString("FileSizeHelpers.0Bytes")};if(1===i)return{value:1,unit:p[0],formattedString:u.getString("FileSizeHelpers.1Byte")};const r=Math.floor(Math.log(i)/Math.log(1024)),a=p[r];if(n.isUndefined(a))return d.warn(s.LogTraceArea.FileSizeHelpers,"Invalid byte size passed (too big): "+e),{value:void 0,unit:void 0,formattedString:"too big"};const l=parseFloat((i/Math.pow(1024,r)).toFixed(o));return{value:l,unit:a,formattedString:u.getString("FileSizeHelpers.SizeDescription",{size:c.toStringWithFormattedDecimalSeparator(l),unit:u.getStringUnsafe("FileSizeHelpers."+a)})}}static getMaximumLimitsForType(e){const t=a.getUploadContentId(e),i=r.default.getAsyncMediaFeatures().storage_limits;if(t in i)return i[t];d.log(s.LogTraceArea.FileSizeHelpers,"Unknown limits for UploadFileType: "+e+", StorageLimits: "+JSON.stringify(i)+", uploadType: "+e+", uploadContentId: "+t)}static getMaximumFileSizeForType(e){const t=g.getMaximumLimitsForType(e);return t&&t.size||1/0}static getAmsUploadFileSize(e){let t=e.amsUploadFullData.file.size;return!n.isNumber(t)&&e.amsFullDataCacheInfo&&(t=l.default.getSize(e.amsFullDataCacheInfo.name)),t}}t.default=g},606617:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582).__importStar(i(496486)),n=i(331079),r=["png","jpg","jpeg","gif","heif","heic"],a=["mp4","webm","mov"],s=["mp3","wav","m4a"],l=["txt","pdf","svg","bmp","tif","tiff"],c=["doc","docx"],d=["xls","xlsx"],u=["ppt","pptx"],p=["one"],g=["pdf"],h=["avi"],m=["zip","zipx","rar","7z","gz"],S=o.union(c,d,u,p,["wopitest"]);class _{static extractFileNameWithExtension(e){return e.replace(/^.*[\\\/]/,"")}static extractFileExtension(e,t=!0){if(!e)return"";const i=e.lastIndexOf(".");let o="";return i>=0&&(o=e.substring(i+1)),t&&(o=o.toLowerCase()),o}static extractFileName(e){const t=e.lastIndexOf(".");return t>0?e.substring(0,t):e}static extractFileNameForKnownFileTypes(e){const t=_.extractFileExtension(e);return this.isKnownExtension(t)?this.extractFileName(e):e}static isInExtensionsList(e,t){return o.includes(e,t.toLowerCase())}static isImageExtension(e){return this.isInExtensionsList(r,e)}static isGifImageExtension(e){return"gif"===e}static isAudioExtension(e){return this.isInExtensionsList(s,e)}static isVideoExtension(e){return this.isInExtensionsList(a,e)}static isExcelExtension(e){return this.isInExtensionsList(d,e)}static isOneNoteExtension(e){return this.isInExtensionsList(p,e)}static isPowerPointExtension(e){return this.isInExtensionsList(u,e)}static isWordExtension(e){return this.isInExtensionsList(c,e)}static isOfficeExtension(e){return this.isInExtensionsList(S,e)}static isPDFExtension(e){return this.isInExtensionsList(g,e)}static isAVIExtension(e){return this.isInExtensionsList(h,e)}static isZipExtension(e){return this.isInExtensionsList(m,e)}static isOtherKnowExtension(e){return this.isInExtensionsList(l,e)}static isKnownExtension(e){return this.isImageExtension(e)||this.isAudioExtension(e)||this.isVideoExtension(e)||this.isOfficeExtension(e)||this.isPDFExtension(e)||this.isAVIExtension(e)||this.isOtherKnowExtension(e)}static isImageMimeType(e){return!!e&&o.includes(_.imageContentTypes,e.toLowerCase())}static isSupportedImageFormat(e){return e===_.imageContentTypes.jpeg}static getFileType(e){return this.isImageExtension(e)?n.UploadFileType.Picture:this.isVideoExtension(e)?n.UploadFileType.Video:this.isAudioExtension(e)?n.UploadFileType.Audio:this.isExcelExtension(e)?n.UploadFileType.Excel:this.isOneNoteExtension(e)?n.UploadFileType.OneNote:this.isPowerPointExtension(e)?n.UploadFileType.Powerpoint:this.isWordExtension(e)?n.UploadFileType.Word:this.isPDFExtension(e)?n.UploadFileType.PDF:this.isAVIExtension(e)?n.UploadFileType.AVI:this.isZipExtension(e)?n.UploadFileType.Zip:n.UploadFileType.File}static getFileContentTypeFromExtension(e){let t="application/unknown";switch(e){case"jpg":case"jpeg":t=_.imageContentTypes.jpeg;break;case"gif":t=_.imageContentTypes.gif;break;case"tif":case"tiff":t=_.imageContentTypes.tiff;break;case"png":t=_.imageContentTypes.png;break;case"mp4":t=_.videoContentTypes.mp4;break;case"mov":t=_.videoContentTypes.mov;break;case"webm":t=_.videoContentTypes.webm;break;case"mp3":t=_.audioContentTypes.mpeg;break;case"m4a":t=_.audioContentTypes.mp4;break;case"wav":t=_.audioContentTypes.wav}return t}static getAudioFileContentTypeFromExtension(e){let t="application/unknown";switch(e){case"mp3":t=_.audioContentTypes.mpeg;break;case"mp4":case"m4a":t=_.audioContentTypes.mp4;break;case"wav":t=_.audioContentTypes.wav}return t}static getFileContentType(e){const t=this.extractFileExtension(e);return this.getFileContentTypeFromExtension(t)}static isThumbnailSupportedFileType(e){switch(e){case n.UploadFileType.Picture:case n.UploadFileType.ImageCreatorPicture:case n.UploadFileType.Video:case n.UploadFileType.VideoMessage:return!0;default:return!1}}}_.imageContentTypes={png:"image/png",jpeg:"image/jpeg",gif:"image/gif",svg:"image/svg",bmp:"image/bmp",tiff:"image/tiff",heif:"image/heif",heic:"image/heic"},_.videoContentTypes={mp4:"video/mp4",mov:"video/quicktime",webm:"video/webm"},_.audioContentTypes={mp4:"audio/mp4",mpeg:"audio/mpeg",wav:"audio/wav"},_.htmlContentTypes={textHtml:"text/html"},t.default=_},49463:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileUploadCacheUtils=t.internal_cacheConfig=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(587845));t.internal_cacheConfig={DefaultCacheName:"RNManualFileCache"};const a="urn:cache:";t.FileUploadCacheUtils=class{static getBaseUri(e){return r.default.getLocalUriBase(e)}static getLocalCacheUri(e){return a+e}static getAbsoluteFromLocalCacheUri(e,i=t.internal_cacheConfig.DefaultCacheName){const o=this.getBaseUri(i);return o&&n.startsWith(e,a)?e.replace(a,o):e}static getAbsoluteUriForName(e){return this.getAbsoluteFromLocalCacheUri(this.getLocalCacheUri(e))}}},546164:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseFileUri=function(e){if(!e.startsWith("file:"))return;let t,i;"/"!==e[5]||"/"!==e[6]?i=5:(i=e.indexOf("/",7),i<0&&(i=e.length),t=e.substring(7,i));return{host:t,path:decodeURIComponent(e.substring(i))}}},47013:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowLargeFileDownloadPrompt=t.shouldShowFileDownloadPrompt=t.isFileEligibleForAutoDownload=t.addMediaToSkypeAlbum=t.deleteImageFile=t.openFolderLocation=t.openFileLocation=t.openFile=t.fileExists=t.getFileInformation=void 0;const o=i(197582),n=o.__importDefault(i(82201)),r=o.__importStar(i(397691));t.getFileInformation=e=>n.default.getFileInformation(e),t.fileExists=e=>n.default.fileExists(e),t.openFile=e=>r.Rejected(new Error("Failed to open file")),t.openFileLocation=e=>r.Resolved(!1),t.openFolderLocation=e=>r.Resolved(!1),t.deleteImageFile=e=>r.Resolved();t.addMediaToSkypeAlbum=e=>n.default.addMediaToSkypeAlbum(e);t.isFileEligibleForAutoDownload=(e,t)=>!1;t.shouldShowFileDownloadPrompt=(e,t,i)=>!(e||t||i.dontShowAcceptFileDialog);t.shouldShowLargeFileDownloadPrompt=(e,t)=>!(e||t.dontShowAcceptLargeFileDialog)},207864:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(331654)),a=o.__importStar(i(397691)),s=i(815146),l=o.__importStar(i(85385)),c=o.__importDefault(i(655192)),d=o.__importDefault(i(139221));class u{static prepareFeedback(){return u._hasHaptics()?r.default.prepareFeedbackGenerator().then(n.noop,(e=>{l.warn(s.LogTraceArea.GenericUnsafe,"DeviceUtilities prepareFeedbackGenerator failed: "+c.default.errorAsString(e))})):a.Resolved()}static unprepareFeedback(){return u._hasHaptics()?r.default.unprepareFeedbackGenerator().then(n.noop,(e=>{l.warn(s.LogTraceArea.GenericUnsafe,"DeviceUtilities unprepareFeedbackGenerator failed: "+c.default.errorAsString(e))})):a.Resolved()}static triggerFeedback(){return u._hasHaptics()?r.default.triggerFeedback().then(n.noop,(e=>{l.warn(s.LogTraceArea.GenericUnsafe,"DeviceUtilities triggerFeedback failed: "+c.default.errorAsString(e))})):a.Resolved()}static _hasHaptics(){const e=d.default.getPlatformType();return e===s.PlatformType.iOS||e===s.PlatformType.Android}}t.default=u},151398:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JSONAnimationUtils=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(198649));class a{getAssetSourceWithColor(e,t){let i,o,n=e.source;if("string"==typeof n)if(o="strong",t){const e=r.colorStringToBodyMovinRgbArray(t);i={key:t,parameters:{color:t,rgbColor:JSON.stringify(e)}}}else i=e.defaultTemplateContext;else n=this._getSourceWithColor(n,t);return{source:n,templateContext:i,cacheStrategy:o}}getAssetSourceWithGradientColors(e,t,i){let o,n,r=e.source;return"string"==typeof r?(n="strong",o=e.defaultTemplateContext):r=this._getSourceWithGradientColors(r,t,i),{source:r,templateContext:o,cacheStrategy:n}}_getSourceWithColor(e,t){if(t){const i=n.cloneDeep(e),o=r.colorStringToBodyMovinRgbArray(t);return n.each(i.layers,(e=>{n.each(e.shapes,(e=>{e.c&&(e.c.k=o),e.it&&n.each(e.it,(e=>{e.c&&(e.c.k=o)}))})),e.sc&&(e.sc=t)})),i}return e}_getSourceWithGradientColors(e,t,i){const o=n.cloneDeep(e),a=r.colorStringToBodyMovinRgbArray(t),s=r.colorStringToBodyMovinRgbArray(i),l=[0];return l.push.apply(l,n.take(a,3)),l.push(1),l.push.apply(l,n.take(s,3)),n.each(o.layers,(e=>{n.each(e.shapes,(e=>{e.it&&n.each(e.it,(e=>{if(e.g&&e.g.k&&e.g.k.k){const t=e.g.k.k;for(let e=0;e<t.length;e+=4){const i=t[e];t[e+1]=this._mapVal(i,a[0],s[0]),t[e+2]=this._mapVal(i,a[1],s[1]),t[e+3]=this._mapVal(i,a[2],s[2])}e.g.k.k=t}}))}))})),o}_mapVal(e,t,i){return t+(i-t)*e}}t.JSONAnimationUtils=a,t.default=new a},562775:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LeftPaneNavigationDirection=t.ViewModeHistory=void 0;const o=i(812822);var n;t.ViewModeHistory=class{constructor(e){this._data=[],this._hubViewModes=[o.LeftNavViewMode.Today,o.LeftNavViewMode.Calls,o.LeftNavViewMode.Contacts,o.LeftNavViewMode.Recents],this.push(e)}push(e){this._hubViewModes.includes(e)&&(this._data=[]),this._data.push(e)}pop(){return this._data.pop()}peek(){if(0===this._data.length)return o.LeftNavViewMode.Recents;return this._data[this._data.length-1]}getRootItem(){return this._data[0]}},function(e){e[e.Push=0]="Push",e[e.Pop=1]="Pop"}(n||(t.LeftPaneNavigationDirection=n={}))},372690:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.openAccessibilityConformance=function(){a(r.default.getConfigSettingsNoSubscription().frenchAccessibilityConformanceUrl.host)},t.openItalianAccessibilityConformance=function(){a(r.default.getConfigSettingsNoSubscription().italianAccessibilityConformanceUrl.host)},t.openPrivacy=function(){a(r.default.getConfigSettingsNoSubscription().privacyUrl.host)},t.openTerms=function(){a(r.default.getConfigSettingsNoSubscription().termsUrl.host)},t.openDateOfBirth=function(){a(r.default.getConfigSettingsNoSubscription().skypeGoLinks.dateOfBirth)},t.openConsumerHealthPrivacy=function(){a(r.default.getConfigSettingsNoSubscription().consumerHealthPrivacy)};const o=i(197582),n=o.__importStar(i(516778)),r=o.__importDefault(i(150343));function a(e){n.Linking.openUrl(e)}},510335:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=i(815146),s=o.__importStar(i(85385)),l=o.__importDefault(i(363091)),c=o.__importDefault(i(655192));const d=new class{constructor(){this._logoutInfos=[]}registerForLogout(e,t){n.find(this._logoutInfos,(t=>t.logoutable===e))||this._logoutInfos.push({logoutable:e,name:t})}logoutAll(e,t,i){if(!l.default.hasSkypeId())return r.Resolved();if(l.default.hasLogoutStarted())return r.Rejected("Cannot call logout twice");l.default.logoutUser(),s.log(a.LogTraceArea.GenericUnsafe,"LogoutContainer: logoutAll causeId: "+e);const o=this._logoutInfos.length;return r.all(n.map(this._logoutInfos,((n,r)=>(s.log(a.LogTraceArea.GenericUnsafe,"LogoutContainer: Logging out "+n.name+" causeId: "+e+" ["+(r+1)+"/"+o+"]"),n.logoutable.logout(e,t,i).catch((e=>{s.log(a.LogTraceArea.GenericUnsafe,"LogoutContainer: "+n.name+" errored: "+c.default.errorAsString(e))})).finally((()=>{s.log(a.LogTraceArea.GenericUnsafe,"LogoutContainer: "+n.name+" logout complete ["+(r+1)+"/"+o+"]")})))))).then(n.noop)}test_getRegisteredLogoutable(e){return n.find(this._logoutInfos,(t=>t.logoutable===e))}};t.default=d},670363:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(859745);t.default=o.NativeUtils},353831:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dismissAll=function(e){l.log(s.LogTraceArea.Navigation,"NavDismissalHelper.dismissAll"),function(){if(n.some(p,(e=>r.Modal.isDisplayed(e))))return!1;return!0}()&&(e&&e!==a.MainRootViewId?r.Modal.dismissAll(e):r.Modal.dismissAll());e&&e!==a.MainRootViewId?r.Popup.dismissAll(e):r.Popup.dismissAll();n.each(u,(e=>{e&&e.dismiss?e.dismiss():l.warn(s.LogTraceArea.Navigation,"NavDismissalHelper.dismissAll called without dismiss handle")}))},t.register=function(e){c++;const t=d+c;return l.log(s.LogTraceArea.Navigation,"NavDismissalHelper.register handle: "+t),u[t]=e,t},t.unregister=function(e){l.log(s.LogTraceArea.Navigation,"NavDismissalHelper.unregister handle: "+e),delete u[e]},t.registerModalDialogDismissalException=function(e){l.log(s.LogTraceArea.Navigation,"NavDismissalHelper.registerModalDialogDismissalException: "+e),n.includes(p,e)||p.push(e)},t.unregisterModalDialogDismissalException=function(e){l.log(s.LogTraceArea.Navigation,"NavDismissalHelper.unregisterModalDialogDismissalException: "+e),n.remove(p,e)};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778)),a=i(154235),s=i(815146),l=o.__importStar(i(85385));let c=0;const d="navDismissalHandler",u={},p=[]},812822:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MySettingsNavigationId=t.MeControlNavigationContext=t.MeControlNavigationId=t.AlertsHubNavigationContext=t.AlertsHubNavigationId=t.MobileHubNavigationContext=t.MobileHubNavigationId=t.ConversationsListNavigationContext=t.ConversationsListNavigationId=t.ForcedUpgradeContext=t.ForcedUpgradeNavigatorId=t.JoiningGuestScreenContext=t.JoiningGuestNavigatorId=t.WelcomeScreenContext=t.WelcomeScreenNavigatorId=t.TwincamModalContext=t.TwincamModalNavigationId=t.TogetherModeModalContext=t.TogetherModeNavigationId=t.ScreenShareModalContext=t.ConversationMediaViewerPanelContext=t.GifPreviewContext=t.GifPreviewNavigationId=t.MediaViewerPanelContext=t.MediaViewerNavigationId=t.DocumentViewerContext=t.DocumentViewerNavigationId=t.NearByPlacesContext=t.NearByPlacesNavigationId=t.LocationViewerContext=t.LocationPickerContext=t.PromptPermissionContext=t.PromptPermissionsNavigatorId=t.ConversationMediaViewerPanelNavigationId=t.LocationViewerNavigationId=t.LocationPickerNavigationId=t.CompositeNavigationContext=t.SimpleSplitNavigationContext=t.SplitNavigationContext=t.StackNavigationContext=t.RequiredScenarioContext=t.ScenarioContext=t.NavigationContext=t.StackAnimationType=t.SettingsGroup=t.HubTab=t.GalleryViewMode=t.RightSidebarViewMode=t.MainStageNavViewMode=t.LeftNavViewMode=void 0,t.VoicePickerNavigationId=t.SpokenLanguagePickerPanelNavigationContext=t.SpokenLanguagePickerNavigationId=t.LanguagePickerPanelOldNavigationContext=t.LanguagePickerOldNavigationId=t.LanguagePickerPanelNavigationContext=t.LanguagePickerNavigationId=t.NewSettingsPanelNavigationContext=t.NewSettingsPanelNavigationId=t.SettingsGroupNavigationContext=t.SettingsGroupNavigationId=t.NavigationSettingsGroupOrigin=t.BackgroundEffectsSettingsNavigationContext=t.AVSettingsContext=t.AVSettingsNavigationId=t.ChooseAvatarContext=t.AvatarNavigationId=t.PhoneAuthProfileSetupNavigationContext=t.PhoneAuthProfileSetupNavigationId=t.WelcomePageContext=t.WelcomePageNavigationId=t.PnvDebugToolContext=t.PnvDebugToolNavigationId=t.PnvEnterCodeContext=t.PnvEnterCodeNavigationId=t.PnvEnterNumberContext=t.PnvEnterNumberNavigationId=t.UserProfileContext=t.UserProfileNavigationId=t.ThemeContext=t.TelemetryConsentContext=t.TelemetryConsentNavigationId=t.PeopleYouMayKnowNoticeContext=t.PeopleYouMayKnowNoticeNavigationId=t.SyncAddressBookContext=t.SyncAddressBookNavigationId=t.OnboardingDialogWizardContext=t.ThemeNavigationId=t.ColorPickerNavigationId=t.PesSearchNavigationContext=t.PesSearchNavigationId=t.InviteLinkQRPanelNavigationContext=t.InviteLinkQRPanelNavigationId=t.MediaGalleryNavigationContext=t.MediaGalleryNavigationId=t.AvatarPickerPanelNavigationContext=t.AvatarPickerPanelNavigationId=t.QRCodeSignInNavigationContext=t.QRCodeSignInNavigationId=t.MySettingsNavigationContext=void 0,t.BotsListNavigationId=t.ConversationParticipantsNavigationContext=t.SuperComposerNavigationId=t.ConversationParticipantsNavigationId=t.ElectronForceUpgradeScreen=t.LoadingPanelNavigationContext=t.LoadingPanelNavigationId=t.ReportConcernNavigationContext=t.ReportConcernNavigationId=t.CreateConversationNavigationContext=t.CreateConversationNavigationId=t.AddToCallNavigationContext=t.AddToCallNavigationId=t.CallRosterNavigationContext=t.CallRosterNavigationId=t.ConversationInCallNavigationContext=t.ConversationInCallNavigationId=t.ChatConfigNavigationContext=t.ChatConfigNavigationId=t.DetailsNavigationContext=t.DetailsNavigationId=t.BingBackgroundNavigationContext=t.BingBackgroundNavigationId=t.RinglessCallInterstitialNavigationContext=t.SkypeNumberPostPurchasePromptNavigationContext=t.SkypeNumberPostPurchasePromptNavigationId=t.CantSendSmsWarningNavigationContext=t.CantSendSmsWarningNavigationId=t.CallFailurePostPurchasePromptContext=t.CallFailurePostPurchasePromptNavigationId=t.CallFailurePromptContext=t.CallFailurePromptId=t.CallerIdPromptContext=t.CallerIdPromptNavigationId=t.CallPreviewNavigationId=t.CallPreviewNavigationContext=t.CQFNavigationContext=t.AndroidCallMonitorPermissionNavigationContext=t.UnansweredCallNavigationContext=t.CallNavigationContext=t.CallNavigationReason=t.CallNavigationId=t.ConversationNavigationContext=t.ConversationNavigationId=t.WhiteboardNavigationContext=t.WhiteboardNavigationId=t.SkypeClipsRecorderNavigationContext=t.SkypeClipsRecordScenario=t.SkypeClipsRecorderNavigationId=t.VoicePickerPanelNavigationContext=void 0,t.GetProductWebFlowNavigationId=t.DesktopMsaPhoneAccrualNavigationContext=t.DesktopMsaPhoneAccrualNavigationId=t.DesktopCloseAccountNavigationContext=t.DesktopCloseAccountNavigationId=t.CustomReactionsPanelNavigationContext=t.CustomReactionsPanelId=t.RawPreferencesNavigationContext=t.RawPreferencesId=t.SlimcoreFlagListNavigationContext=t.SlimcoreFlagListId=t.FeatureFlagListNavigationContext=t.FeatureFlagListId=t.ManageSearchInfoPanelNavigationContext=t.ManageSearchInfoPanelId=t.ConnectedUsersListNavigationContext=t.ConnectedUsersListNavigationId=t.BlockedUsersListNavigationContext=t.BlockedUsersListId=t.ProfilePicturePanelNavigationContext=t.ProfilePicturePanelId=t.SendDiagnosticLogsNavigationContext=t.SendDiagnosticLogsId=t.DiagnosticToolsNavigationContext=t.DiagnosticToolsId=t.TelemetryPerformanceMonitorNavigationContext=t.TelemetryPerfId=t.SubscriptionIntroNavigationContext=t.SubscriptionIntroNavigationId=t.PurchaseContinuationNavigationContext=t.PurchaseContinuationId=t.GetBalanceStateNavigationContext=t.GetBalanceStateId=t.ThirdPartyNoticesNavigationContext=t.ThirdPartyNoticesNavigationId=t.AboutNavigationContext=t.AboutNavigationId=t.SendCreditSearchPeopleContext=t.SendCreditSearchPeopleId=t.SearchNavigationContext=t.SearchNavigationId=t.ArchivedConversationsPanelNavigationContext=t.ArchivedConversationsId=t.AugmentedPermissionsViewNavigationContext=t.AugmentedPermissionsViewNavigationState=t.DesktopCaptureComboViewNavigationContext=t.CaptureNavigationContext=t.BotDiscoveryNavigationContext=t.BotDiscoveryNavigationId=t.BotsListNavigationContext=void 0,t.CallingSettingsPanelNavigationContext=t.CallingSettingsPanelNavigationId=t.FindPanelNavigationContext=t.FindPanelNavigationId=t.GalleryNavigationContext=t.GalleryNavigationId=t.CaptureComboNavigationContext=t.CaptureComboNavigationId=t.MediaPickerNavigationContext=t.MediaPickerNavigationId=t.ShareContactsToConversationContext=t.ShareContactsToConversationNavigationId=t.CaptivePortalQuestionnaireContext=t.CaptivePortalQuestionnaireNavigationId=t.EngagementSharePanelContext=t.EngagementSharePanelNavigationId=t.ShareWithPanelNavigationContext=t.ShareWithPanelNavigationId=t.InAppBrowserNavigationContext=t.InAppBrowserWithSearchConversationNavContext=t.InAppBrowserWithSearchConversationNavId=t.InAppBrowserNavigationId=t.CaptureMultiPreviewNavigationContext=t.CaptureMultiPreviewNavigationId=t.CapturePreviewNavigationContext=t.CapturePreviewNavigationId=t.MediaEditorNavigationId=t.AlertsNavigationContext=t.AlertsNavigationId=t.SkypeNumberFormsNavigationContext=t.SkypeNumberFormsNavigationId=t.SkypeNumberPanelPurchaseFlowNavigationContext=t.SkypeNumberPanelPurchaseFlowNavigationId=t.SkypeNumberInfoScreenNavigationContext=t.SkypeNumberInfoScreenNavigationId=t.SkypeNumberListNavigationContext=t.SkypeNumberListNavigationId=t.SkypeNumberWebFlowNavigationContext=t.SkypeNumberWebFlowNavigationId=t.CallingSettingsHeaderAuthWebFlowNavigationContext=t.CallingSettingsHeaderAuthWebFlowNavigationId=t.RedirectToLogoutNavigationContext=t.RedirectToLogoutNavigationId=t.SsoWebFlowNavigationContext=t.SsoWebFlowNavigationId=t.PurchaseConfirmationDialogWrapperNavigationContext=t.PurchaseConfirmationDialogWrapperNavigationId=t.Payments3dsNavigationContext=t.Payments3dsNavigationId=t.GetProductWebFlowNavigationContext=void 0,t.ActiveNowPanelId=t.AboutPeopleYouMayKnowNavigationContext=t.AboutPeopleYouMayKnowId=t.LinkMsaToPhoneNumberAccountNavigationContext=t.LinkMsaToPhoneNumberAccountNavigationId=t.NewPhoneVerificationFlowNavigationContext=t.NewPhoneVerificationFlowNavigationId=t.AddPhoneNumberPanelNavigationContext=t.AddPhoneNumberPanelNavigationId=t.AddContactPanelNavigationContext=t.AddContactPanelId=t.ContactsPanelV2NavigationContext=t.ContactsPanelId=t.SkypeNumberFormOptionSelectorNavigationContext=t.SkypeNumberFormOptionSelectorPanelId=t.SkypeNumberPrefixSelectorNavigationContext=t.SkypeNumberPrefixSelectorPanelId=t.SkypeNumberCountryAreaSelectorNavigationContext=t.SkypeNumberCountryAreaSelectorPanelId=t.E911AcknowledgementPanelNavigationContext=t.E911AcknowledgementPanelId=t.PSTNCountrySelectorNavigationContext=t.PSTNCountrySelectorPanelId=t.PSTNDialerNavigationContext=t.PSTNDialerPanelId=t.QuickCallNavigationContext=t.QuickCallSearchPanelId=t.QuickCallPanelId=t.CallingDebugPanelNavigationContext=t.CallingDebugPanelNavigationId=t.CallingSettingsEntryNavigationContext=t.CallingSettingsEntryNavigationId=t.PreSignOutPanelNavigationContext=t.PreSignOutPanelNavigationId=t.TranslationSettingsPanelNavigationContext=t.TranslationSettingsPanelNavigationId=t.SubtitlesCallingSettingsPanelNavigationContext=t.SubtitlesCallingSettingsPanelNavigationId=t.AdvancedCallingSettingsPanelNavigationContext=t.AdvancedCallingSettingsPanelNavigationId=t.KycFinishVerificationPanelNavigationContext=t.KycFinishVerificationPanelNavigationId=t.KycPhoneVerifyFormPanelNavigationContext=t.KycPhoneVerifyFormPanelNavigationId=t.TelephonyWarningNavigationContext=t.TelephonyWarningNavigationId=t.CallerIdNumberCallingSettingsPanelNavigationContext=t.CallerIdNumberCallingSettingsPanelNavigationId=t.CallerIdCallingSettingsPanelNavigationContext=t.CallerIdCallingSettingsPanelNavigationId=void 0,t.SXPlaygroundScreenNavigationContext=t.SXPlaygroundScreenNavigationId=t.SXPlaygroundNavigationContext=t.SXPlaygroundNavigationId=t.TasterPostCallPanelContext=t.TasterPostCallPanelId=t.SmsFailurePromptContext=t.SmsFailurePromptId=t.RootCompositeSplitViewContext=t.TruVoiceConsentNavigationContext=t.TruVoiceConsentNavigationId=t.TranslationConsentNavigationContext=t.TranslationConsentNavigationId=t.SpeechConsentNavigationContext=t.SpeechConsentNavigationId=t.SettingsMenuContext=t.SplitMasterNavigationContext=t.LeftNavigationViewContext=t.SubtitlesNavigationContext=t.SubtitlesNavigationId=t.LeftNavigationViewId=t.RightSidebarStackContext=t.DesktopContentPanelNavigationContext=t.MobileContentPanelNavigationContext=t.MobileContentPanelId=t.ManageUsersSettingsPanelNavigationContext=t.ManageUsersSettingsPanelNavigationId=t.DesktopSettingsGroupNavigationContext=t.DesktopSettingsGroupNavigationId=t.TodayTabInterestsPanelNavigationContext=t.TodayTabInterestsPanelNavigationId=t.TodayTabNavigationContext=t.TodayTabNavigationId=t.SendCreditPanelNavigationContext=t.SendCreditPanelNavigationId=t.GuestUpsellNavigationState=t.GuestUpsellNavigationContext=t.GuestUpsellNavigationId=t.ConversationShareNavigationContext=t.ConversationShareNavigationState=t.ConversationSharingScreenId=t.InviteShareNavigationContext=t.InviteShareNavigationId=t.ProfileNavigationContext=t.ProfileNavigationState=t.ProfileNavigationId=t.ActiveNowPanelNavigationContext=void 0;const o=i(197582).__importStar(i(496486)),n=i(815146),r=i(562775);let a=0;var s,l,c,d,u,p,g;!function(e){e[e.None=0]="None",e[e.Recents=1]="Recents",e[e.Search=2]="Search",e[e.ConversationInCall=3]="ConversationInCall",e[e.Calls=4]="Calls",e[e.Contacts=5]="Contacts",e[e.Notifications=6]="Notifications",e[e.CallSearch=7]="CallSearch",e[e.Today=8]="Today",e[e.ContentChannelsStore=9]="ContentChannelsStore",e[e.ContentChannelsSearch=10]="ContentChannelsSearch",e[e.ContentChannelsManage=11]="ContentChannelsManage",e[e.SXPlayground=12]="SXPlayground"}(s||(t.LeftNavViewMode=s={})),function(e){e[e.None=0]="None",e[e.WelcomeScreen=1]="WelcomeScreen",e[e.DesktopContentPanel=2]="DesktopContentPanel",e[e.Call=3]="Call",e[e.MeetNow=4]="MeetNow",e[e.ForcedUpgradeScreen=5]="ForcedUpgradeScreen",e[e.Sisu=6]="Sisu",e[e.Today=7]="Today"}(l||(t.MainStageNavViewMode=l={})),function(e){e[e.None=0]="None",e[e.Gallery=1]="Gallery",e[e.Find=2]="Find",e[e.InAppBrowser=3]="InAppBrowser",e[e.Other=4]="Other"}(c||(t.RightSidebarViewMode=c={})),function(e){e[e.None=0]="None",e[e.All=1]="All",e[e.Media=2]="Media",e[e.Files=3]="Files",e[e.Links=4]="Links"}(d||(t.GalleryViewMode=d={})),function(e){e.Recents="recents_tab",e.MeetNowChats="meetnowchats_tab",e.MeetNowCalls="meetnowcalls_tab",e.Calls="calls_tab",e.Phone="phone_tab",e.People="people_tab",e.Notifications="notification_tab",e.Today="today_tab"}(u||(t.HubTab=u={})),function(e){e[e.Notifications=0]="Notifications",e[e.Chat=1]="Chat",e[e.Contacts=2]="Contacts",e[e.Privacy=3]="Privacy",e[e.General=4]="General",e[e.MyAccountAndProfile=5]="MyAccountAndProfile",e[e.AccountAndProfile=6]="AccountAndProfile",e[e.Debug=7]="Debug",e[e.AppSettings=8]="AppSettings",e[e.AudioVideoSettings=9]="AudioVideoSettings",e[e.AudioSettings=10]="AudioSettings",e[e.BalanceState=11]="BalanceState",e[e.SkypeNumber=12]="SkypeNumber",e[e.ThemeSettings=13]="ThemeSettings",e[e.HelpAndFeedback=14]="HelpAndFeedback",e[e.About=15]="About",e[e.SyncAddressBook=16]="SyncAddressBook",e[e.HotKeys=17]="HotKeys",e[e.ManagePayments=18]="ManagePayments",e[e.BackgroundEffectsSettings=19]="BackgroundEffectsSettings",e[e.ReportProblem=20]="ReportProblem",e[e.SignOut=21]="SignOut"}(p||(t.SettingsGroup=p={})),function(e){e.DEFAULT="default",e.FADE="fade",e.FADE_FROM_BOTTOM="fade_from_bottom",e.FLIP="flip",e.NONE="none",e.SIMPLE_PUSH="simple_push",e.SLIDE_FROM_BOTTOM="slide_from_bottom",e.SLIDE_FROM_RIGHT="slide_from_right",e.SLIDE_FROM_LEFT="slide_from_left"}(g||(t.StackAnimationType=g={}));class h{constructor(e){this.stateId="unknown",this._init(e)}_init(e){this.id=a++,this.state=o.cloneDeep(e)}clone(e){const t=Object.create(this);return t._init(this.state),e&&(t.id=this.id),t}}t.NavigationContext=h;class m extends h{constructor(e,t){super(e),this.navigator=t}}t.ScenarioContext=m;class S extends h{constructor(e,t){super(e),this.navigator=t}}t.RequiredScenarioContext=S;class _ extends h{constructor(e){super(e)}_init(e){super._init(e),this.setupDefaults()}setupDefaults(){this._navStack=[]}clone(e){const t=Object.create(this);return t._init(this.state),e&&(t.id=this.id),t._navStack=o.clone(this._navStack),t}clearNavStack(){this._navStack=[]}setNavStack(e){this._navStack=e}getNavStack(){return this._navStack}navigateBack(){this._navStack.length>0&&this.setNavStack(this._navStack.slice(0,this._navStack.length-1))}}t.StackNavigationContext=_;class f extends _{clone(e){const t=Object.create(this);return t._init(this.state),e&&(t.id=this.id),t._navStack=o.clone(this._navStack),t._masterContext=this._masterContext&&this._masterContext.clone?this._masterContext.clone(e):o.clone(this._masterContext),t._isCollapsed=this._isCollapsed,t}isValid(){return!!this.getMasterContext()||this.getNavStack().length>0}collapse(e){this._isCollapsed=e}isCollapsed(){return this._isCollapsed}setMasterContext(e){this._masterContext=e}clearMasterContext(){this._masterContext=void 0}getMasterContext(e=!1){return!this._isCollapsed||e?this._masterContext:void 0}getNavStack(e=!1){return this._isCollapsed&&this._masterContext&&!e?[this._masterContext,...this._navStack]:this._navStack}getBackStack(e=!1){return this.getNavStack(e)}}t.SplitNavigationContext=f;class y extends f{}t.SimpleSplitNavigationContext=y;class C extends h{constructor(e){super(e)}_init(e){super._init(e),this.children={}}clone(e){const t=super.clone(e);return o.each(this.children,((i,o)=>{t.children[o]=i.clone(e)})),t}_assignChildrenContext(e,t){const i=this.children[e];return i?o.assign(i,t):this.children[e]=t}}t.CompositeNavigationContext=C,t.LocationPickerNavigationId="LocationPicker",t.LocationViewerNavigationId="LocationViewer",t.ConversationMediaViewerPanelNavigationId="ConversationMediaViewerPanel",t.PromptPermissionsNavigatorId="PromptPermissions";t.PromptPermissionContext=class extends m{constructor(){super(...arguments),this.stateId=t.PromptPermissionsNavigatorId}};t.LocationPickerContext=class extends h{constructor(){super(...arguments),this.stateId=t.LocationPickerNavigationId}};t.LocationViewerContext=class extends h{constructor(){super(...arguments),this.stateId=t.LocationViewerNavigationId}},t.NearByPlacesNavigationId="NearByPlaces";t.NearByPlacesContext=class extends h{constructor(){super(...arguments),this.stateId=t.NearByPlacesNavigationId}},t.DocumentViewerNavigationId="DocumentViewer";t.DocumentViewerContext=class extends h{constructor(){super(...arguments),this.stateId=t.DocumentViewerNavigationId}},t.MediaViewerNavigationId="MediaViewer";t.MediaViewerPanelContext=class extends h{constructor(){super(...arguments),this.stateId=t.MediaViewerNavigationId}},t.GifPreviewNavigationId="GifPreview";t.GifPreviewContext=class extends h{constructor(){super(...arguments),this.stateId=t.GifPreviewNavigationId}};t.ConversationMediaViewerPanelContext=class extends h{constructor(){super(...arguments),this.stateId=t.ConversationMediaViewerPanelNavigationId}};t.ScreenShareModalContext=class extends h{},t.TogetherModeNavigationId="TogetherMode";t.TogetherModeModalContext=class extends h{constructor(){super(...arguments),this.stateId=t.TogetherModeNavigationId}},t.TwincamModalNavigationId="Twincam";t.TwincamModalContext=class extends h{constructor(){super(...arguments),this.stateId=t.TwincamModalNavigationId}},t.WelcomeScreenNavigatorId="WelcomeScreen";class v extends h{constructor(){super(...arguments),this.stateId=t.WelcomeScreenNavigatorId}}t.WelcomeScreenContext=v,t.JoiningGuestNavigatorId="JoiningGuestScreen";t.JoiningGuestScreenContext=class extends h{constructor(){super(...arguments),this.stateId=t.JoiningGuestNavigatorId}},t.ForcedUpgradeNavigatorId="ForcedUpgrade";t.ForcedUpgradeContext=class extends h{},t.ConversationsListNavigationId="ConversationsList";class b extends h{constructor(){super(...arguments),this.stateId=t.ConversationsListNavigationId}}t.ConversationsListNavigationContext=b,t.MobileHubNavigationId="MobileHub";t.MobileHubNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.MobileHubNavigationId}},t.AlertsHubNavigationId="AlertsHub";class T extends h{constructor(){super(...arguments),this.stateId=t.AlertsHubNavigationId}}t.AlertsHubNavigationContext=T,t.MeControlNavigationId="MeControlId";t.MeControlNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.MeControlNavigationId}},t.MySettingsNavigationId="MySettingsId";t.MySettingsNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.MySettingsNavigationId}},t.QRCodeSignInNavigationId="SisuQRCodeModalId";t.QRCodeSignInNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.QRCodeSignInNavigationId}},t.AvatarPickerPanelNavigationId="AvatarPickerPanelNavigationId";t.AvatarPickerPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.AvatarPickerPanelNavigationId}},t.MediaGalleryNavigationId="MediaGalleryModalId";t.MediaGalleryNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.MediaGalleryNavigationId}},t.InviteLinkQRPanelNavigationId="InviteLinkQRPanelId";t.InviteLinkQRPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.InviteLinkQRPanelNavigationId}},t.PesSearchNavigationId="PesSearchId";t.PesSearchNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.PesSearchNavigationId}},t.ColorPickerNavigationId="ColorPicker",t.ThemeNavigationId="Theme";t.OnboardingDialogWizardContext=class extends h{},t.SyncAddressBookNavigationId="SyncAddressBook";t.SyncAddressBookContext=class extends m{constructor(){super(...arguments),this.stateId=t.SyncAddressBookNavigationId}},t.PeopleYouMayKnowNoticeNavigationId="PeopleYouMayKnowNotice";t.PeopleYouMayKnowNoticeContext=class extends m{constructor(){super(...arguments),this.stateId=t.PeopleYouMayKnowNoticeNavigationId}},t.TelemetryConsentNavigationId="TelemetryConsent";t.TelemetryConsentContext=class extends m{constructor(){super(...arguments),this.stateId=t.TelemetryConsentNavigationId}};t.ThemeContext=class extends m{constructor(){super(...arguments),this.stateId=t.ThemeNavigationId}},t.UserProfileNavigationId="UserProfile";t.UserProfileContext=class extends m{constructor(){super(...arguments),this.stateId=t.UserProfileNavigationId}},t.PnvEnterNumberNavigationId="PnvEnterNumber";t.PnvEnterNumberContext=class extends m{constructor(){super(...arguments),this.stateId=t.PnvEnterNumberNavigationId}},t.PnvEnterCodeNavigationId="PnvEnterCode";t.PnvEnterCodeContext=class extends m{constructor(){super(...arguments),this.stateId=t.PnvEnterCodeNavigationId}},t.PnvDebugToolNavigationId="PnvDebugTool";t.PnvDebugToolContext=class extends m{constructor(){super(...arguments),this.stateId=t.PnvDebugToolNavigationId}},t.WelcomePageNavigationId="WelcomePage";t.WelcomePageContext=class extends m{constructor(){super(...arguments),this.stateId=t.WelcomePageNavigationId}},t.PhoneAuthProfileSetupNavigationId="PhoneAuthProfileSetup";t.PhoneAuthProfileSetupNavigationContext=class extends m{constructor(){super(...arguments),this.stateId=t.PhoneAuthProfileSetupNavigationId}},t.AvatarNavigationId="AvatarPicker";t.ChooseAvatarContext=class extends m{constructor(){super(...arguments),this.stateId=t.AvatarNavigationId}},t.AVSettingsNavigationId="AVSettings";t.AVSettingsContext=class extends m{constructor(){super(...arguments),this.stateId=t.AVSettingsNavigationId}};var P,k,A;t.BackgroundEffectsSettingsNavigationContext=class extends h{},function(e){e[e.NavigationFromSettings=0]="NavigationFromSettings"}(P||(t.NavigationSettingsGroupOrigin=P={})),t.SettingsGroupNavigationId="settingsgroup";t.SettingsGroupNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SettingsGroupNavigationId}},t.NewSettingsPanelNavigationId="NewSettingsPanelNavigationId";t.NewSettingsPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.NewSettingsPanelNavigationId}},t.LanguagePickerNavigationId="LanguagePicker";t.LanguagePickerPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.LanguagePickerNavigationId}},t.LanguagePickerOldNavigationId="LanguagePickerOld";t.LanguagePickerPanelOldNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.LanguagePickerOldNavigationId}},t.SpokenLanguagePickerNavigationId="SpokenLanguagePicker";t.SpokenLanguagePickerPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SpokenLanguagePickerNavigationId}},t.VoicePickerNavigationId="VoicePicker";t.VoicePickerPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.VoicePickerNavigationId}},t.SkypeClipsRecorderNavigationId="ClipRecording",function(e){e.chat="chat",e.edit="edit",e.leftNavigationBanner="leftNavigationBanner",e.compose="compose",e.composeFromGallery="composeFromGallery",e.startNavigationBanner="startNavigationBanner"}(k||(t.SkypeClipsRecordScenario=k={}));t.SkypeClipsRecorderNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SkypeClipsRecorderNavigationId}},t.WhiteboardNavigationId="Whiteboard";t.WhiteboardNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.WhiteboardNavigationId}},t.ConversationNavigationId="Conversation";class I extends h{}t.ConversationNavigationContext=I,t.CallNavigationId="Call",function(e){e[e.StartingCall=0]="StartingCall",e[e.JoinOngoing=1]="JoinOngoing",e[e.AnsweredRing=2]="AnsweredRing",e[e.PresentIncomingRing=3]="PresentIncomingRing",e[e.Rejoining=4]="Rejoining",e[e.AutoAnsweredRing=5]="AutoAnsweredRing"}(A||(t.CallNavigationReason=A={}));t.CallNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CallNavigationId}};t.UnansweredCallNavigationContext=class extends h{};t.AndroidCallMonitorPermissionNavigationContext=class extends h{};t.CQFNavigationContext=class extends h{};t.CallPreviewNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CallPreviewNavigationId}},t.CallPreviewNavigationId="CallPreview",t.CallerIdPromptNavigationId="CallerIdPrompt";t.CallerIdPromptContext=class extends h{constructor(){super(...arguments),this.stateId=t.CallerIdPromptNavigationId}},t.CallFailurePromptId="CallFailurePrompt";t.CallFailurePromptContext=class extends h{constructor(){super(...arguments),this.stateId=t.CallFailurePromptId}},t.CallFailurePostPurchasePromptNavigationId="CallFailurePostPurchasePrompt";t.CallFailurePostPurchasePromptContext=class extends h{constructor(){super(...arguments),this.stateId=t.CallFailurePostPurchasePromptNavigationId}},t.CantSendSmsWarningNavigationId="CantSendSmsWarning";t.CantSendSmsWarningNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CantSendSmsWarningNavigationId}},t.SkypeNumberPostPurchasePromptNavigationId="SkypeNumberPostPurchasePrompt";t.SkypeNumberPostPurchasePromptNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SkypeNumberPostPurchasePromptNavigationId}};t.RinglessCallInterstitialNavigationContext=class extends h{},t.BingBackgroundNavigationId="BingBackgrounds";t.BingBackgroundNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.BingBackgroundNavigationId}},t.DetailsNavigationId="Details";t.DetailsNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.DetailsNavigationId}},t.ChatConfigNavigationId="ChatConfig";t.ChatConfigNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.ChatConfigNavigationId}},t.ConversationInCallNavigationId="ConversationInCall";class w extends h{}t.ConversationInCallNavigationContext=w,t.CallRosterNavigationId="CallRoster";t.CallRosterNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CallRosterNavigationId}},t.AddToCallNavigationId="AddToCall";t.AddToCallNavigationContext=class extends h{},t.CreateConversationNavigationId="CreateConversation";t.CreateConversationNavigationContext=class extends S{constructor(){super(...arguments),this.stateId=t.CreateConversationNavigationId}},t.ReportConcernNavigationId="ReportConcern";t.ReportConcernNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.ReportConcernNavigationId}},t.LoadingPanelNavigationId="LoadingPanel";t.LoadingPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.LoadingPanelNavigationId}};t.ElectronForceUpgradeScreen=class extends h{},t.ConversationParticipantsNavigationId="ConvParticipants",t.SuperComposerNavigationId="SuperComposer";t.ConversationParticipantsNavigationContext=class extends S{constructor(){super(...arguments),this.stateId=t.ConversationParticipantsNavigationId}},t.BotsListNavigationId="BotsList";t.BotsListNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.BotsListNavigationId}},t.BotDiscoveryNavigationId="BotDiscovery";t.BotDiscoveryNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.BotDiscoveryNavigationId}};t.CaptureNavigationContext=class extends h{};t.DesktopCaptureComboViewNavigationContext=class extends h{};t.AugmentedPermissionsViewNavigationState=class{};t.AugmentedPermissionsViewNavigationContext=class extends h{},t.ArchivedConversationsId="ArchivedConversations";class x extends h{constructor(){super(...arguments),this.stateId=t.ArchivedConversationsId}}t.ArchivedConversationsPanelNavigationContext=x,t.SearchNavigationId="Search";class N extends h{constructor(){super(...arguments),this.stateId=t.SearchNavigationId}}t.SearchNavigationContext=N,t.SendCreditSearchPeopleId="SendCreditSearchPeople";t.SendCreditSearchPeopleContext=class extends h{constructor(){super(...arguments),this.stateId=t.SendCreditSearchPeopleId}},t.AboutNavigationId="About";t.AboutNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.AboutNavigationId}},t.ThirdPartyNoticesNavigationId="ThirdPartyNotices";t.ThirdPartyNoticesNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.ThirdPartyNoticesNavigationId}},t.GetBalanceStateId="GetBalanceState";t.GetBalanceStateNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.GetBalanceStateId}},t.PurchaseContinuationId="PurchaseContinuation";t.PurchaseContinuationNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.PurchaseContinuationId}},t.SubscriptionIntroNavigationId="SubscriptionIntro";t.SubscriptionIntroNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SubscriptionIntroNavigationId}},t.TelemetryPerfId="TelemetryPerf";t.TelemetryPerformanceMonitorNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.TelemetryPerfId}},t.DiagnosticToolsId="DiagnosticTools";t.DiagnosticToolsNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.DiagnosticToolsId}},t.SendDiagnosticLogsId="SendDiagnosticLogs";t.SendDiagnosticLogsNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SendDiagnosticLogsId}},t.ProfilePicturePanelId="ProfilePicturePanelId";t.ProfilePicturePanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.ProfilePicturePanelId}},t.BlockedUsersListId="BlockedUsersList";t.BlockedUsersListNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.BlockedUsersListId}},t.ConnectedUsersListNavigationId="ConnectedUsersList";t.ConnectedUsersListNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.ConnectedUsersListNavigationId}},t.ManageSearchInfoPanelId="ManageSearchInfo";t.ManageSearchInfoPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.ManageSearchInfoPanelId}},t.FeatureFlagListId="FeatureFlagList";t.FeatureFlagListNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.FeatureFlagListId}},t.SlimcoreFlagListId="SlimcoreFlagList";t.SlimcoreFlagListNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SlimcoreFlagListId}},t.RawPreferencesId="RawPreferences";t.RawPreferencesNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.RawPreferencesId}},t.CustomReactionsPanelId="CustomReactionsPanel";t.CustomReactionsPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CustomReactionsPanelId}},t.DesktopCloseAccountNavigationId="DesktopCloseAccount";t.DesktopCloseAccountNavigationContext=class extends h{},t.DesktopMsaPhoneAccrualNavigationId="DesktopMsaPhoneAccrual";t.DesktopMsaPhoneAccrualNavigationContext=class extends h{},t.GetProductWebFlowNavigationId="GetProductWebFlow";t.GetProductWebFlowNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.GetProductWebFlowNavigationId}},t.Payments3dsNavigationId="Payments3ds";t.Payments3dsNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.Payments3dsNavigationId}},t.PurchaseConfirmationDialogWrapperNavigationId="PurchaseConfirmationDialogWrapper";t.PurchaseConfirmationDialogWrapperNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.PurchaseConfirmationDialogWrapperNavigationId}},t.SsoWebFlowNavigationId="SsoWebFlow";t.SsoWebFlowNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SsoWebFlowNavigationId}},t.RedirectToLogoutNavigationId="SisuRedirectToLogout";t.RedirectToLogoutNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.RedirectToLogoutNavigationId}},t.CallingSettingsHeaderAuthWebFlowNavigationId="CallingSettingsHeaderAuthWebFlow";t.CallingSettingsHeaderAuthWebFlowNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CallingSettingsHeaderAuthWebFlowNavigationId}},t.SkypeNumberWebFlowNavigationId="SkypeNumberWebFlow";t.SkypeNumberWebFlowNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SkypeNumberWebFlowNavigationId}},t.SkypeNumberListNavigationId="SkypeNumberList";t.SkypeNumberListNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SkypeNumberListNavigationId}},t.SkypeNumberInfoScreenNavigationId="SkypeNumberInfoScreen";t.SkypeNumberInfoScreenNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SkypeNumberInfoScreenNavigationId}},t.SkypeNumberPanelPurchaseFlowNavigationId="SkypeNumberPanelPurchaseFlow";t.SkypeNumberPanelPurchaseFlowNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SkypeNumberPanelPurchaseFlowNavigationId}},t.SkypeNumberFormsNavigationId="SkypeNumberForms";t.SkypeNumberFormsNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SkypeNumberFormsNavigationId}},t.AlertsNavigationId="Alerts";t.AlertsNavigationContext=class extends h{},t.MediaEditorNavigationId="MediaEditor",t.CapturePreviewNavigationId="CapturePreview";t.CapturePreviewNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CapturePreviewNavigationId}},t.CaptureMultiPreviewNavigationId="CaptureMultiPreview";t.CaptureMultiPreviewNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CaptureMultiPreviewNavigationId}},t.InAppBrowserNavigationId="InAppBrowser",t.InAppBrowserWithSearchConversationNavId="InAppBrowserWithSearchConversationNavId";t.InAppBrowserWithSearchConversationNavContext=class extends h{constructor(){super(...arguments),this.stateId=t.InAppBrowserWithSearchConversationNavId}};t.InAppBrowserNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.InAppBrowserNavigationId}},t.ShareWithPanelNavigationId="ShareWith";t.ShareWithPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.ShareWithPanelNavigationId}},t.EngagementSharePanelNavigationId="EngagementSharePanel";t.EngagementSharePanelContext=class extends h{constructor(){super(...arguments),this.stateId=t.EngagementSharePanelNavigationId}},t.CaptivePortalQuestionnaireNavigationId="CaptivePortalQuestionnaire";t.CaptivePortalQuestionnaireContext=class extends h{constructor(){super(...arguments),this.stateId=t.CaptivePortalQuestionnaireNavigationId}},t.ShareContactsToConversationNavigationId="ShareContactsToConversation";t.ShareContactsToConversationContext=class extends h{constructor(){super(...arguments),this.stateId=t.ShareContactsToConversationNavigationId}},t.MediaPickerNavigationId="MediaPicker";t.MediaPickerNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.MediaPickerNavigationId}},t.CaptureComboNavigationId="CaptureCombo";t.CaptureComboNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CaptureComboNavigationId}},t.GalleryNavigationId="Gallery";t.GalleryNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.GalleryNavigationId}},t.FindPanelNavigationId="Find";t.FindPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.FindPanelNavigationId}},t.CallingSettingsPanelNavigationId="CallingSettings";t.CallingSettingsPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CallingSettingsPanelNavigationId}},t.CallerIdCallingSettingsPanelNavigationId="CallerIdCallingSettings";t.CallerIdCallingSettingsPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CallerIdCallingSettingsPanelNavigationId}},t.CallerIdNumberCallingSettingsPanelNavigationId="CallerIdNumberCallingSettings";t.CallerIdNumberCallingSettingsPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CallerIdNumberCallingSettingsPanelNavigationId}},t.TelephonyWarningNavigationId="TelephonyWarning";t.TelephonyWarningNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.TelephonyWarningNavigationId}},t.KycPhoneVerifyFormPanelNavigationId="KycPhoneVerifyFormPanel";t.KycPhoneVerifyFormPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.KycPhoneVerifyFormPanelNavigationId}},t.KycFinishVerificationPanelNavigationId="KycFinishVerificationPanel";t.KycFinishVerificationPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.KycFinishVerificationPanelNavigationId}},t.AdvancedCallingSettingsPanelNavigationId="AdvancedCallingSettings";t.AdvancedCallingSettingsPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.AdvancedCallingSettingsPanelNavigationId}},t.SubtitlesCallingSettingsPanelNavigationId="SubtitlesCallingSettings";t.SubtitlesCallingSettingsPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SubtitlesCallingSettingsPanelNavigationId}},t.TranslationSettingsPanelNavigationId="TranslationSettings";t.TranslationSettingsPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.TranslationSettingsPanelNavigationId}},t.PreSignOutPanelNavigationId="PreSignOutPanel";t.PreSignOutPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.PreSignOutPanelNavigationId}},t.CallingSettingsEntryNavigationId="CallingSettingsEntry";t.CallingSettingsEntryNavigationContext=class extends h{},t.CallingDebugPanelNavigationId="CallingDebugPanel";t.CallingDebugPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.CallingDebugPanelNavigationId}},t.QuickCallPanelId="QuickCallPanel",t.QuickCallSearchPanelId="QuickCallSearchPanel";class D extends h{constructor(){super(...arguments),this.stateId=t.QuickCallPanelId}}t.QuickCallNavigationContext=D,t.PSTNDialerPanelId="PSTNDialerPanel";t.PSTNDialerNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.PSTNDialerPanelId}},t.PSTNCountrySelectorPanelId="PSTNCountrySelectorPanel";t.PSTNCountrySelectorNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.PSTNCountrySelectorPanelId}},t.E911AcknowledgementPanelId="E911AcknowledgementPanel";t.E911AcknowledgementPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.E911AcknowledgementPanelId}},t.SkypeNumberCountryAreaSelectorPanelId="SkypeNumberCountryAreaSelectorPanel";t.SkypeNumberCountryAreaSelectorNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SkypeNumberCountryAreaSelectorPanelId}},t.SkypeNumberPrefixSelectorPanelId="SkypeNumberPrefixSelectorPanel";t.SkypeNumberPrefixSelectorNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SkypeNumberPrefixSelectorPanelId}},t.SkypeNumberFormOptionSelectorPanelId="SkypeNumberFormOptionSelectorPanel";t.SkypeNumberFormOptionSelectorNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SkypeNumberFormOptionSelectorPanelId}},t.ContactsPanelId="Contacts";class M extends h{constructor(){super(...arguments),this.stateId=t.ContactsPanelId}}t.ContactsPanelV2NavigationContext=M,t.AddContactPanelId="AddContactPanel";t.AddContactPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.AddContactPanelId}},t.AddPhoneNumberPanelNavigationId="AddPhoneNumberPanel";t.AddPhoneNumberPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.AddPhoneNumberPanelNavigationId}},t.NewPhoneVerificationFlowNavigationId="NewPhoneVerificationFlow";t.NewPhoneVerificationFlowNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.NewPhoneVerificationFlowNavigationId}},t.LinkMsaToPhoneNumberAccountNavigationId="LinkMsaToPhoneNumberAccount";t.LinkMsaToPhoneNumberAccountNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.LinkMsaToPhoneNumberAccountNavigationId}},t.AboutPeopleYouMayKnowId="AboutPeopleYouMayKnow";t.AboutPeopleYouMayKnowNavigationContext=class extends h{},t.ActiveNowPanelId="ActiveNowPanel";t.ActiveNowPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.ActiveNowPanelId}},t.ProfileNavigationId="Profile";t.ProfileNavigationState=class{};t.ProfileNavigationContext=class extends h{},t.InviteShareNavigationId="InviteShare";t.InviteShareNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.InviteShareNavigationId}},t.ConversationSharingScreenId="ConversationSharingScreenId";t.ConversationShareNavigationState=class{};t.ConversationShareNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.ConversationSharingScreenId}},t.GuestUpsellNavigationId="GuestUpsell";t.GuestUpsellNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.GuestUpsellNavigationId}};t.GuestUpsellNavigationState=class{},t.SendCreditPanelNavigationId="SendCreditPanel";t.SendCreditPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SendCreditPanelNavigationId}},t.TodayTabNavigationId="TodayTab";class L extends h{constructor(){super(...arguments),this.stateId=t.TodayTabNavigationId}}t.TodayTabNavigationContext=L,t.TodayTabInterestsPanelNavigationId="TodayTabInterestsPanel";t.TodayTabInterestsPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.TodayTabInterestsPanelNavigationId}},t.DesktopSettingsGroupNavigationId="DesktopSettingsGroup";t.DesktopSettingsGroupNavigationContext=class extends h{},t.ManageUsersSettingsPanelNavigationId="ManageUsersSettings";t.ManageUsersSettingsPanelNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.ManageUsersSettingsPanelNavigationId}},t.MobileContentPanelId=t.ConversationNavigationId;t.MobileContentPanelNavigationContext=class extends C{constructor(){super(...arguments),this.stateId=t.MobileContentPanelId}setConversationContext(e){this.children[t.ConversationNavigationId]=new I(e)}getConversationContext(){return this.children[t.ConversationNavigationId]}};t.DesktopContentPanelNavigationContext=class extends C{constructor(){super(...arguments),this.stateId=t.ConversationNavigationId}setConversationContext(e){this.children[t.ConversationNavigationId]=new I(e)}getConversationContext(){return this.children[t.ConversationNavigationId]}};t.RightSidebarStackContext=class extends _{},t.LeftNavigationViewId="LeftNavView",t.SubtitlesNavigationId="Subtitles";t.SubtitlesNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SubtitlesNavigationId}};class R extends C{setViewMode(e,t=r.LeftPaneNavigationDirection.Push){switch(t){case r.LeftPaneNavigationDirection.Pop:this.state.viewModeHistory.pop();break;case r.LeftPaneNavigationDirection.Push:this.state.viewModeHistory.push(e)}}getConversationsListContext(){return this.children[t.ConversationsListNavigationId]||(this.children[t.ConversationsListNavigationId]=new b({currentTab:u.Recents})),this.children[t.ConversationsListNavigationId]}getSearchContext(){return this.children[t.SearchNavigationId]||(this.children[t.SearchNavigationId]=new N({searchOrigin:n.SearchPanelInitiator.Unknown})),this.children[t.SearchNavigationId]}getCallSearchContext(){return this.children[t.QuickCallSearchPanelId]||(this.children[t.QuickCallSearchPanelId]=new D({searchOnly:!0})),this.children[t.QuickCallSearchPanelId]}getConversationInCallContext(){return this.children[t.ConversationInCallNavigationId]}setConversationInCallContext(e){this.children[t.ConversationInCallNavigationId]=new w(e)}getCallsContext(){return this.children[t.QuickCallPanelId]||(this.children[t.QuickCallPanelId]=new D({})),this.children[t.QuickCallPanelId]}getContactsV2Context(){return this.children[t.ContactsPanelId]||(this.children[t.ContactsPanelId]=new M({})),this.children[t.ContactsPanelId]}getNotificationsContext(){return this.children[t.AlertsHubNavigationId]||(this.children[t.AlertsHubNavigationId]=new T({})),this.children[t.AlertsHubNavigationId]}getTodayContext(){return this.children[t.TodayTabNavigationId]||(this.children[t.TodayTabNavigationId]=new L({interestPageEnabled:!1})),this.children[t.TodayTabNavigationId]}getArchivedConversationsContext(){return this.children[t.ArchivedConversationsId]||(this.children[t.ArchivedConversationsId]=new x({})),this.children[t.ArchivedConversationsId]}setContext(e,t){return this.children[t]||(this.children[t]=e),this.children[t]}}t.LeftNavigationViewContext=R;class E extends h{}t.SplitMasterNavigationContext=E;t.SettingsMenuContext=class extends E{},t.SpeechConsentNavigationId="SpeechConsent";t.SpeechConsentNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SpeechConsentNavigationId}},t.TranslationConsentNavigationId="TranslationConsent";t.TranslationConsentNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.TranslationConsentNavigationId}},t.TruVoiceConsentNavigationId="TruVoiceConsent";t.TruVoiceConsentNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.TruVoiceConsentNavigationId}};t.RootCompositeSplitViewContext=class extends y{setupDefaults(){super.setupDefaults(),this._navStack=[new v({})],this._masterContext=new R({viewModeHistory:new r.ViewModeHistory(s.Recents)})}collapse(e){super.collapse(e),e||0!==this._navStack.length||(this._navStack=[new v({})])}clone(e){const t=Object.create(this);return t._init(this.state),e&&(t.id=this.id),t._navStack=o.clone(this._navStack),t._masterContext=this._masterContext&&this._masterContext.clone?this._masterContext.clone(e):o.clone(this._masterContext),t._isCollapsed=this._isCollapsed,t}getMasterContext(){return super.getMasterContext()}getNavStack(){if(this._isCollapsed){const e=this._masterContext instanceof R?this._masterContext:void 0,t=!!e&&e.state.viewModeHistory.peek()!==s.None?o.filter(this._navStack,(e=>!this._shouldFilterNavContext(e))):this._navStack;return e?[e,...t]:t}return this._navStack}getBackStack(){let e=super.getBackStack();return e=o.filter(e,(e=>!(e instanceof R&&e.state.viewModeHistory.peek()===s.None))),e}getLeftNavigationContext(){if(this._masterContext instanceof R)return this._masterContext}shouldDisplayMainAreaFullScreen(){return this._displayMainAreaFullScreen}setMainAreaFullScreen(e){this._displayMainAreaFullScreen=e}_shouldFilterNavContext(e){return e instanceof v}},t.SmsFailurePromptId="SmsFailurePrompt";t.SmsFailurePromptContext=class extends h{constructor(){super(...arguments),this.stateId=t.SmsFailurePromptId}},t.TasterPostCallPanelId="TasterPostCallPanel";t.TasterPostCallPanelContext=class extends h{constructor(){super(...arguments),this.stateId=t.TasterPostCallPanelId}},t.SXPlaygroundNavigationId="SXPlayground";t.SXPlaygroundNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SXPlaygroundNavigationId}},t.SXPlaygroundScreenNavigationId="SXPlaygroundScreenNavigationId";t.SXPlaygroundScreenNavigationContext=class extends h{constructor(){super(...arguments),this.stateId=t.SXPlaygroundScreenNavigationId}}},511592:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalGestureResponseDistance=t.ConversationHorizontalGestureResponseDistance=t.HorizontalGestureResponseDistance=t.RouteType=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(859745)),a=o.__importStar(i(516778)),s=o.__importDefault(i(974634)),l=o.__importStar(i(397691)),c=i(815146),d=i(26703),u=i(16549),p=o.__importDefault(i(139221)),g=366;var h;!function(e){e[e.Hub=0]="Hub",e[e.Content=1]="Content",e[e.Search=2]="Search",e[e.ContactsPanel=3]="ContactsPanel",e[e.Other=4]="Other"}(h||(t.RouteType=h={}));const m=(0,d.lazyProperties)({transparentCard:()=>a.Styles.createViewStyle({backgroundColor:u.Color.transparent})});t.HorizontalGestureResponseDistance=44,t.ConversationHorizontalGestureResponseDistance=120,t.VerticalGestureResponseDistance=150;const S=new class{constructor(){this._transitionInfoId=0,this._transitionInfoEvent=new s.default}transitionInfoEvent(){return this._transitionInfoEvent}isNavigationAnimationFinished(){if(!this._transitionInfo||this._transitionInfo&&!this._transitionInfo.inProgress)return l.Resolved();const e=l.Defer(),t=this.transitionInfoEvent().subscribe((i=>{i.inProgress||(t.unsubscribe(),e.resolve(void 0))}));return e.promise()}transitionHint(){return this._transitionHint}transitionHintForPopCard(){if(this._transitionHint&&this._transitionHint.forPopCard)return this._transitionHint}setTransitionHint(e){this._transitionHint=e}onNavigationStarted(e,t,i){this._transitionInfo={key:this._transitionInfoId++,inProgress:!0,toRoute:t,fromRoute:i,progress:e},this._transitionInfoEvent.fire(this._transitionInfo)}onNavigationCompleted(){this._transitionInfo&&(this._transitionInfo.inProgress=!1,this._transitionInfoEvent.fire(this._transitionInfo))}floatFromRight(e){if(p.default.getPlatformType()===c.PlatformType.iOS){const t={direction:a.NavigationTypes.NavigatorSceneConfigType.FloatFromRight,gestureResponseDistance:e,customSceneConfig:{transitionSpec:{duration:g,easing:r.Easing.SkypeExpoOut5},transitionStyle:(e,t)=>({inputRange:[e-1,e,e+.99,e+1],opacityOutput:[1,1,.3,0],scaleOutput:[1,1,1,1],translateXOutput:[t.width,0,-t.width/4,-t.width/4],translateYOutput:[0,0,0,0]})}};return n.isUndefined(e)||(t.gestureResponseDistance=e),t}const t={direction:a.NavigationTypes.NavigatorSceneConfigType.FloatFromRight};return n.isUndefined(e)||(t.gestureResponseDistance=e),t}floatFromBottom(e){const t={direction:a.NavigationTypes.NavigatorSceneConfigType.FloatFromBottom,customSceneConfig:{transitionSpec:{duration:g,easing:r.Easing.SkypeExpoOut5},transitionStyle:(e,t)=>({inputRange:[e-1,e,e+.99,e+1],opacityOutput:[1,1,.3,0],scaleOutput:[1,1,.95,.95],translateXOutput:[0,0,0,0],translateYOutput:[t.height,0,-10,-10]})}};return n.isUndefined(e)||(t.gestureResponseDistance=e),t}floatFromBottomNoScale(e=!1){return{direction:a.NavigationTypes.NavigatorSceneConfigType.FloatFromBottom,gestureResponseDistance:100,customSceneConfig:{hideShadow:e,cardStyle:e?m.transparentCard:void 0,transitionSpec:{duration:g,easing:r.Easing.SkypeExpoOut5},transitionStyle:(e,t)=>({inputRange:[e-1,e,e+1],opacityOutput:[1,1,1],scaleOutput:[1,1,1],translateXOutput:[0,0,0],translateYOutput:[t.height,0,0]})}}}topQuickFade(){return{gestureResponseDistance:0,direction:a.NavigationTypes.NavigatorSceneConfigType.FloatFromBottom,customSceneConfig:{hideShadow:!0,transitionSpec:{duration:g,easing:r.Easing.SkypeExpoOut5},transitionStyle:(e,t)=>({inputRange:[e-1,e,e+.99,e+1],opacityOutput:[0,1,1,0],scaleOutput:[1,1,1,1],translateXOutput:[0,0,0,0],translateYOutput:[-15,0,0,0]})}}}popCardsQuickFade(){return{gestureResponseDistance:0,direction:a.NavigationTypes.NavigatorSceneConfigType.FloatFromBottom,customSceneConfig:{hideShadow:!0,transitionSpec:{duration:g,easing:r.Easing.SkypeExpoOut5},transitionStyle:(e,t)=>({inputRange:[e-1,e-.5,e,e+.99,e+1],opacityOutput:[0,0,1,1,0],scaleOutput:[1,1,1,1,1],translateXOutput:[0,0,0,0,0],translateYOutput:[0,0,0,0,0]})}}}noTransition(e=!0){return{gestureResponseDistance:0,direction:a.NavigationTypes.NavigatorSceneConfigType.FloatFromBottom,customSceneConfig:{hideShadow:!e,cardStyle:e?void 0:m.transparentCard,transitionSpec:{duration:e?1:0,easing:r.Easing.Linear},transitionStyle:(t,i)=>({inputRange:[t-1,t,t+.99,t+1],opacityOutput:[1,1,1,e?0:1],scaleOutput:[1,1,1,1],translateXOutput:[0,0,0,0],translateYOutput:[0,0,0,0]})}}}fade(){return{direction:a.NavigationTypes.NavigatorSceneConfigType.FadeWithSlide}}sceneConfigForSearchTransition(){return{direction:a.NavigationTypes.NavigatorSceneConfigType.FloatFromBottom,gestureResponseDistance:0,customSceneConfig:{hideShadow:!0,cardStyle:m.transparentCard,transitionSpec:{duration:r.Common.Duration.Default,easing:r.Easing.SkypeExpoOut5},transitionStyle:(e,t)=>({inputRange:[e-1,e-.05,e+.05,e+1],opacityOutput:[0,1,1,0],scaleOutput:[1,1,1,1],translateXOutput:[0,0,0,0],translateYOutput:[0,0,0,0]})}}}isHubContentTransition(){return!!(this._transitionInfo&&this._transitionInfo.fromRoute&&this._transitionInfo.toRoute)&&(!!this._areUniqueRouteTypes(this._transitionInfo.fromRoute,this._transitionInfo.toRoute)&&(this._isHubOrContentRoute(this._transitionInfo.fromRoute)&&this._isHubOrContentRoute(this._transitionInfo.toRoute)))}isHubSearchTransition(){return!!(this._transitionInfo&&this._transitionInfo.fromRoute&&this._transitionInfo.toRoute)&&(!!this._areUniqueRouteTypes(this._transitionInfo.fromRoute,this._transitionInfo.toRoute)&&(this._isHubOrSearchRoute(this._transitionInfo.fromRoute)&&this._isHubOrSearchRoute(this._transitionInfo.toRoute)))}isContactsPanelSearchTransition(){return!!(this._transitionInfo&&this._transitionInfo.fromRoute&&this._transitionInfo.toRoute)&&(!!this._areUniqueRouteTypes(this._transitionInfo.fromRoute,this._transitionInfo.toRoute)&&(this._isContactsPanelOrSearchRoute(this._transitionInfo.fromRoute)&&this._isContactsPanelOrSearchRoute(this._transitionInfo.toRoute)))}isSearchTransition(){return!!(this._transitionInfo&&this._transitionInfo.fromRoute&&this._transitionInfo.toRoute)&&(!!this._areUniqueRouteTypes(this._transitionInfo.fromRoute,this._transitionInfo.toRoute)&&(this._isRouteType(this._transitionInfo.toRoute,[h.Search])||this._isRouteType(this._transitionInfo.fromRoute,[h.Search])))}_areUniqueRouteTypes(e,t){return(e?e.type:h.Other)!==(t?t.type:h.Other)}_isHubOrSearchRoute(e){return this._isRouteType(e,[h.Hub,h.Search])}_isHubOrContentRoute(e){return this._isRouteType(e,[h.Hub,h.Content])}_isContactsPanelOrSearchRoute(e){return this._isRouteType(e,[h.ContactsPanel,h.Search])}_isRouteType(e,t){return n.includes(t,e.type)}test_reset(){this._transitionInfo=void 0}};t.default=S},528196:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalNotificationIds=void 0,t.descriptionForWarmCallDisposition=function(e){switch(e){case r.WarmCallNotificationDisposition.Wasted:return"Wasted";case r.WarmCallNotificationDisposition.AlreadyRunning:return"AlreadyRunning";case r.WarmCallNotificationDisposition.FollowedByNonWarmPush:return"FollowedByNonWarmPush";case r.WarmCallNotificationDisposition.FollowedByForegrounding:return"FollowedByForegrounding";case r.WarmCallNotificationDisposition.FollowedByCall:return"FollowedByCall";default:return"Unknown"}},t.prepareDataForNotification=function(e){return n.omitBy(e,(e=>!e))},t.printNotificationTrace=function(e,t){a.log(r.LogTraceArea.Notifications,"Notification id: "+s.mriOrId(e.id)+" origin: "+t+" enableVibration: "+e.enableVibration+" enableLight: "+e.enableLight+" silent:"+e.silent+" sound:"+e.sound+" grouped: "+(e.groupedNotifications?e.groupedNotifications.length:"No"))};const o=i(197582),n=o.__importStar(i(496486)),r=i(815146),a=o.__importStar(i(85385)),s=o.__importStar(i(437782));var l;!function(e){e.ACTION_DEFAULT="_default_",e.CHAT_CATEGORY_IDENTIFIER="ChatCategoryIdentifier",e.CHAT_ACTION_THUMBSUP_IDENTIFIER="ChatActionThumbsUpIdentifier",e.CHAT_ACTION_REPLY_IDENTIFIER="ChatActionReplyIdentifier",e.CHAT_ACTION_MARK_AS_READ_IDENTIFIER="ChatActionMarkAsReadIdentifier",e.CHAT_ACTION_THUMBSUP_ICON="notification_action_like",e.CHAT_ACTION_REPLY_ICON="notification_action_reply",e.E2EE_CATEGORY_IDENTIFIER="E2eeCategoryIdentifier",e.CHAT_ERROR_CATEGORY_IDENTIFIER="ChatErrorCategoryIdentifier",e.CALL_CATEGORY_IDENTIFIER="CallCategoryIdentifier",e.CALL_ACTION_ACCEPT_IDENTIFIER="CallActionAcceptIdentifier",e.CALL_ACTION_REJECT_IDENTIFIER="CallActionRejectIdentifier",e.CALL_ACTION_DEFAULT="_default_",e.CALL_ACTION_ACCEPT_ICON="notification_action_call",e.CALL_ACTION_REJECT_ICON="call_btn_end",e.CONTENT_CHANNEL_CONTENT_IDENTIFIER="ContentChannelContentIdentifier",e.MISSED_CALL_CATEGORY_IDENTIFIER="MissedCallCategoryIdentifier",e.MISSED_CALL_BACK_IDENTIFIER="MissedCallBackIdentifier",e.MISSED_CALL_DEFAULT="_default_",e.MISSED_P2P_CALL_CATEGORY_IDENTIFIER="MissedP2PCallCategoryIdentifier",e.GO_LIVE_CATEGORY_IDENTIFIER="GoLiveCategoryIdentifier",e.GO_LIVE_ACTION_JOIN_IDENTIFIER="GoLiveJoinIdentifier",e.GO_LIVE_ACTION_DEFAULT="_default_",e.CALLBACK_REMINDER_CATEGORY_IDENTIFIER="CallbackReminderCategoryIdentifier",e.CALLBACK_REMINDER_ACTION_CALL_IDENTIFIER="CallbackReminderCallIdentifier",e.CALLBACK_REMINDER_ACTION_DEFAULT="_default_",e.DELETE_IDENTIFIER="DeleteNotificationIdentifier",e.NOTIFICATION_FROM_BUBBLE="notificationFromBubble",e.CLEAR_NOTIFICATION_BUBBLE_CONTEXT="clearNotificationBubbleContext",e.INBOUND_VIDEO_CALL_IDENTIFIER="InboundVideoCallIndentifier",e.LOGOUT_REMINDER_IDENTIFIER="LogoutReminderIdentifier",e.MSA_INTERRUPT_REMINDER_IDENTIFIER="MsaInterruptReminderIdentifier",e.SIGNOUT_REMINDER_IDENTIFIER="SignOutReminderIdentifier",e.SIGNIN_REMINDER_IDENTIFIER="SignInReminderIdentifier",e.SCHEDULED_CALL_INVITE="ScheduledCallInvite",e.SCHEDULED_CALL_INVITE_EDIT="ScheduledCallInviteEdit",e.SCHEDULED_CALL_INVITE_ACCEPT="ScheduledCallInviteAccept",e.SCHEDULED_CALL_INVITE_DECLINE="ScheduledCallInviteDecline",e.SCHEDULED_CALL_INVITE_RESPONSE="ScheduledCallInviteResponse",e.SCHEDULED_CALL_PREREMINDER="ScheduledCallPreReminder",e.SCHEDULED_CALL_REMINDER="ScheduledCallReminder",e.POLL_PREREMINDER="PollPreReminder",e.POLL_REMINDER="PollReminder",e.AUTH_BACKGROUND_REFRESH_CATEGORY_IDENTIFIER="AuthBackgroundRefreshIdentifier",e.PRESENCE_CHANGE_IDENTIFIER="PresenceChangeIdentifier",e.OLD_FRIEND_BACK_NOTIFICATION_IDENTIFIER="OldFriendBackNotificationIdentifier"}(l||(t.LocalNotificationIds=l={}))},246230:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(815063),r=o.__importDefault(i(380157)),a=o.__importStar(i(516778)),s=o.__importStar(i(317588)),l=o.__importDefault(i(206483)),c=i(843890),d=i(154235),u=o.__importStar(i(704704)),p=o.__importDefault(i(139221)),g=i(331079),h=o.__importDefault(i(760989)),m=i(677982);t.default=new class{getDeniedPrompt(e){const t=this.getDeniedPromptKey(e);return t?u.getString(t):void 0}getDeniedPromptKey(e){switch(e){case g.PermissionType.Camera:return p.default.isElectronOsx()?"CapturePermissions.PermissionCameraDeniedPromptMac":n.BrowserEnvironment.isChrome()?"CapturePermissions.PermissionCameraDeniedPromptChrome":n.BrowserEnvironment.isEngineEdgeHTML()?"CapturePermissions.PermissionCameraDeniedPromptEdge":n.BrowserEnvironment.isEngineWebkit()?"CapturePermissions.PermissionCameraDeniedPromptSafari":n.BrowserEnvironment.isEngineChromium()||n.BrowserEnvironment.isEngineGecko()?"CapturePermissions.PermissionCameraDeniedPromptChromium":void 0;case g.PermissionType.CameraRoll:case g.PermissionType.WriteCameraRoll:0;break;case g.PermissionType.Microphone:return p.default.isElectronOsx()?"CapturePermissions.PermissionMicrophoneDeniedPromptMac":p.default.isEdgeShoreline()?"CapturePermissions.PermissionMicrophoneDeniedPromptEdgeShoreline":n.BrowserEnvironment.isChrome()?"CapturePermissions.PermissionMicrophoneDeniedPromptChrome":n.BrowserEnvironment.isEngineEdgeHTML()?"CapturePermissions.PermissionMicrophoneDeniedPromptEdge":n.BrowserEnvironment.isEngineWebkit()?"CapturePermissions.PermissionMicrophoneDeniedPromptSafari":n.BrowserEnvironment.isEngineChromium()||n.BrowserEnvironment.isEngineGecko()?"CapturePermissions.PermissionMicrophoneDeniedPromptChromium":void 0;case g.PermissionType.MicrophoneAndCamera:if(p.default.isElectronOsx())return"CapturePermissions.PermissionMicrophoneAndCameraDeniedPromptMac";break;case g.PermissionType.Contacts:case g.PermissionType.Notifications:case g.PermissionType.Location:case g.PermissionType.LocationAlways:case g.PermissionType.Calendar:0;break;case g.PermissionType.ScreenRecording:if(p.default.isElectronOsx())return"CapturePermissions.PermissionScreenRecordingDeniedPrompt";break;case g.PermissionType.DrawOver:break;case g.PermissionType.ReadPhoneState:0;break;case g.PermissionType.BackgroundExecution:break;default:h.default.switchStatementExhaustiveChecking(e)}}_getDeniedPromptWithSettings(e){switch(e){case g.PermissionType.Location:case g.PermissionType.LocationAlways:0}return this.getDeniedPrompt(e)}getPrePrompt(e){switch(e){case g.PermissionType.Camera:return u.getString("CapturePermissions.PermissionCameraPrePrompt");case g.PermissionType.CameraRoll:case g.PermissionType.WriteCameraRoll:return u.getString("CapturePermissions.PermissionCameraRollPrePrompt");case g.PermissionType.Microphone:return u.getString("CapturePermissions.PermissionMicrophonePrePrompt");case g.PermissionType.ReadPhoneState:return u.getString("CapturePermissions.PermissionPhonePrePrompt");case g.PermissionType.Contacts:return u.getString("CapturePermissions.PermissionContactsPrePrompt");case g.PermissionType.Location:case g.PermissionType.LocationAlways:return u.getString("CapturePermissions.PermissionLocationPrePrompt");case g.PermissionType.Calendar:return u.getString("CapturePermissions.PermissionCalendarPrePrompt");case g.PermissionType.ScreenRecording:return u.getString("CapturePermissions.PermissionScreenRecordingPrePrompt")}}getPromptTitle(e){switch(e){case g.PermissionType.Camera:return u.getString("CapturePermissions.PermissionCamera");case g.PermissionType.CameraRoll:case g.PermissionType.WriteCameraRoll:return u.getString("CapturePermissions.PermissionCameraRoll");case g.PermissionType.Microphone:return u.getString("CapturePermissions.PermissionMicrophone");case g.PermissionType.MicrophoneAndCamera:return u.getString("CapturePermissions.PermissionMicrophoneAndCamera");case g.PermissionType.Contacts:return u.getString("CapturePermissions.PermissionContacts");case g.PermissionType.Notifications:return u.getString("CapturePermissions.PermissionNotifications");case g.PermissionType.Location:case g.PermissionType.LocationAlways:return u.getString("CapturePermissions.PermissionLocation");case g.PermissionType.Calendar:return u.getString("CapturePermissions.PermissionCalendar");case g.PermissionType.ScreenRecording:return u.getString("CapturePermissions.PermissionScreenRecording");case g.PermissionType.ReadPhoneState:return u.getString("CapturePermissions.PermissionPhone");case g.PermissionType.DrawOver:case g.PermissionType.BackgroundExecution:return"";default:return h.default.switchStatementExhaustiveChecking(e)}}descriptorForPermissionType(e){switch(e){case g.PermissionType.Camera:return"Camera";case g.PermissionType.CameraRoll:return"CameraRoll";case g.PermissionType.WriteCameraRoll:return"WriteCameraRoll";case g.PermissionType.Microphone:return"Mic";case g.PermissionType.MicrophoneAndCamera:return"MicAndCamera";case g.PermissionType.Contacts:return"Contacts";case g.PermissionType.Notifications:return"Notifications";case g.PermissionType.Location:case g.PermissionType.LocationAlways:return"Location";case g.PermissionType.BackgroundExecution:return"BackgroundExecution";case g.PermissionType.Calendar:return"Calendar";case g.PermissionType.ScreenRecording:return"ScreenRecording";case g.PermissionType.ReadPhoneState:return"ReadPhoneState";case g.PermissionType.DrawOver:break;default:h.default.switchStatementExhaustiveChecking(e)}}showDeniedPromptWithSettingsOption(e,t,i,o){e===g.PermissionType.Camera?this._showDeniedWebEscalationPromptWithImage(t,g.PermissionType.Camera,o):e===g.PermissionType.Microphone&&n.BrowserEnvironment.isSafari()?this._showDeniedWebEscalationPromptWithImage(t,g.PermissionType.Microphone):this._showDeniedPrompt(e,!0,t,i)}getDeniedImageSourceBrowser(e){if(this._isSupportedBrowserForCalling())return n.BrowserEnvironment.isChrome()?p.default.isEdgeShoreline()?e?s.Collection.WEB_EDGE_SHORELINE_PERMISSIONS_DARK:s.Collection.WEB_EDGE_SHORELINE_PERMISSIONS_LIGHT:s.Collection.WEB_CHROME_PERMISSIONS:n.BrowserEnvironment.isSafari()?s.Collection.WEB_SAFARI_PERMISSIONS_DENIED:s.Collection.WEB_EDGE_PERMISSIONS}getPermissionDeniedText(e){if(!this._isSupportedBrowserForCalling())return;let t;switch(e){case g.PermissionType.Camera:t="AugmentedPermissions.CameraDeficiencyMainDisplayTextEdge",n.BrowserEnvironment.isEngineChromium()?(t="AugmentedPermissions.CameraDeficiencyMainDisplayTextChrome",p.default.isEdgeShoreline()&&(t="AugmentedPermissions.CameraDeficiencyMainDisplayTextEdgeShoreline")):n.BrowserEnvironment.isEngineWebkit()?t="AugmentedPermissions.CameraDeficiencyMainDisplayTextSafari":n.BrowserEnvironment.isEngineGecko()&&(t="AugmentedPermissions.CameraDeficiencyMainDisplayTextFirefox");break;case g.PermissionType.Microphone:t="AugmentedPermissions.MicrophoneDeficiencyMainDisplayTextEdge",n.BrowserEnvironment.isEngineChromium()?(t="AugmentedPermissions.MicrophoneDeficiencyMainDisplayTextChrome",p.default.isEdgeShoreline()&&(t="AugmentedPermissions.MicrophoneDeficiencyMainDisplayTextEdgeShoreline")):n.BrowserEnvironment.isEngineWebkit()?t="AugmentedPermissions.MicrophoneDeficiencyMainDisplayTextSafari":n.BrowserEnvironment.isEngineGecko()&&(t="AugmentedPermissions.MicrophoneDeficiencyMainDisplayTextFirefox");break;case g.PermissionType.MicrophoneAndCamera:t="AugmentedPermissions.MicrophoneAndCameraDeficiencyMainDisplayTextEdge",n.BrowserEnvironment.isEngineChromium()?(t="AugmentedPermissions.MicrophoneAndCameraDeficiencyMainDisplayTextChrome",p.default.isEdgeShoreline()&&(t="AugmentedPermissions.MicrophoneAndCameraDeficiencyMainDisplayTextEdgeShoreline")):n.BrowserEnvironment.isEngineWebkit()?t="AugmentedPermissions.MicrophoneAndCameraDeficiencyMainDisplayTextSafari":n.BrowserEnvironment.isEngineGecko()&&(t="AugmentedPermissions.MicrophoneAndCameraDeficiencyMainDisplayTextFirefox");break;case g.PermissionType.Notifications:if(p.default.isEdgeShoreline()){const{webNotificationPromptCooldown:e}=m.AppConfigStore.getConfigSettingsNoSubscription();return t=e.enabledOnEdge?"AugmentedPermissions.NotificationDeficiencyMainDisplayTextEdgeShorelineForCooldown":"AugmentedPermissions.NotificationDeficiencyMainDisplayTextEdgeShoreline",u.getString(t,{href:e.openEdgeSettingUrl})}}return t?u.getString(t):void 0}_isSupportedBrowserForCalling(){return c.CallingCapabilities.anyCallingSupported()}_getImageResizeMode(){return n.BrowserEnvironment.isSafari()?d.ImageResizeModeEnum.contain:d.ImageResizeModeEnum.cover}_getTitleForEscalation(e){return e===g.PermissionType.Camera?u.getString("AugmentedPermissions.VideoEscalationPromptTitle"):e===g.PermissionType.Microphone?u.getString("AugmentedPermissions.MicEscalationPromptTitle"):""}_showDeniedWebEscalationPromptWithImage(e,t,i){const o=[{text:u.getString("Global.CancelLabel")}],n=this.getDeniedImageSourceBrowser(i),r=this.getPermissionDeniedText(t);if(!n||!r)return;const a={centerImageInAlert:!0,width:420,height:200,source:n};l.default.showCustomAlertWithOptions({rootViewId:e,buttons:o,imageSource:a,accessibilityTitle:r,dialogTitle:this._getTitleForEscalation(t),dialogText:r,imageResizeMode:this._getImageResizeMode()})}_showDeniedPrompt(e,t,i,o){const n=this.getPromptTitle(e),r=t?this._getDeniedPromptWithSettings(e):this.getDeniedPrompt(e),s=[{text:u.getString("Global.CancelLabel")}];(t&&c.UICapabilities.systemSettingsDeepLinkSupported()||t&&o)&&s.push({text:u.getString("CapturePermissions.AlertSettingsButtonTitle"),onPress:o||(()=>{a.Linking.openUrl("app-settings:")})}),l.default.showWithOptions({title:n,dialogAccessibilityTitle:r||n,message:r,buttons:s,rootViewId:i,useFocussedWindowFallback:!0})}showLimitedCameraRollPrompt(e,t){const i=u.getString("CapturePermissions.PermissionCameraRollLimitedTitle"),o=u.getString("CapturePermissions.PermissionCameraRollLimitedText"),n=[{text:u.getString("CapturePermissions.PermissionCameraRollLimitedChangeButton"),onPress:t||(()=>{r.default.cameraRollLimitedCheck()})}];n.push({text:u.getString("CapturePermissions.PermissionCameraRollLimitedKeepButton")}),l.default.showWithOptions({title:i,dialogAccessibilityTitle:o||i,message:o,buttons:n,rootViewId:e,useFocussedWindowFallback:!0})}}},427845:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WidthBreakPoints=void 0;const o=i(331079);t.WidthBreakPoints={minDesktop:450,tiny:760,small:896,medium:1280};t.default=class{static responsiveWidthForSize(e){return e<=t.WidthBreakPoints.minDesktop?o.ResponsiveWidth.MinDesktop:e<=t.WidthBreakPoints.tiny?o.ResponsiveWidth.Tiny:e<=t.WidthBreakPoints.small?o.ResponsiveWidth.Small:e<=t.WidthBreakPoints.medium?o.ResponsiveWidth.Medium:o.ResponsiveWidth.Large}}},842252:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationDuration=void 0;const o=i(197582).__importStar(i(859745));t.AnimationDuration=o.Common.Duration;const n=o.timing;t.default=n},759664:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SXAnimations=void 0;const o=i(197582).__importDefault(i(226619)),n={key:"default",parameters:{color:"#000000",rgbColor:"[0, 0, 0, 0]"}};class r{get SPLASH_LOADER(){return{key:"SPLASH_LOADER",source:o.default.SPLASH_LOADER,intrinsicSize:{width:375,height:375}}}get SPLASH_LOADER_NEXT(){return{key:"SPLASH_LOADER_NEXT",source:o.default.SPLASH_LOADER_NEXT,intrinsicSize:{width:160,height:160}}}get CAPTURE_PHOTO(){return{key:"CAPTURE_PHOTO",source:o.default.CAPTURE_PHOTO,intrinsicSize:{width:117,height:117}}}get CAPTURE_RECORD_PROGRESS_60_SECONDS(){return{key:"CAPTURE_RECORD_PROGRESS_60_SECONDS",source:o.default.CAPTURE_RECORD_PROGRESS_60_SECONDS,intrinsicSize:{width:80,height:80}}}get CIRCLE_SPINNER(){return{key:"CIRCLE_SPINNER",source:o.default.CIRCLE_SPINNER,defaultTemplateContext:n,intrinsicSize:{width:200,height:200}}}get CIRCLE_SPINNER_80(){return{key:"CIRCLE_SPINNER_80",source:o.default.CIRCLE_SPINNER_80,defaultTemplateContext:n,intrinsicSize:{width:80,height:80}}}get CIRCLE_SPINNER_40(){return{key:"CIRCLE_SPINNER_40",source:o.default.CIRCLE_SPINNER_40,defaultTemplateContext:n,intrinsicSize:{width:40,height:40}}}get CIRCLE_STEP0(){return{key:"CIRCLE_STEP0",source:o.default.CIRCLE_STEP0,defaultTemplateContext:n,intrinsicSize:{width:200,height:200}}}get CIRCLE_STEP1(){return{key:"CIRCLE_STEP1",source:o.default.CIRCLE_STEP1,defaultTemplateContext:n,intrinsicSize:{width:200,height:200}}}get CIRCLE_STEP2(){return{key:"CIRCLE_STEP2",source:o.default.CIRCLE_STEP2,defaultTemplateContext:n,intrinsicSize:{width:200,height:200}}}get CIRCLE_STEP3(){return{key:"CIRCLE_STEP3",source:o.default.CIRCLE_STEP3,defaultTemplateContext:n,intrinsicSize:{width:200,height:200}}}get CIRCLE_STEP4(){return{key:"CIRCLE_STEP4",source:o.default.CIRCLE_STEP4,defaultTemplateContext:n,intrinsicSize:{width:200,height:200}}}get PAGINATION(){return{key:"PAGINATION",source:o.default.PAGINATION,intrinsicSize:{width:20,height:20}}}get ONBOARDING_SYNC_ADDRESSBOOK(){return{key:"ONBOARDING_SYNC_ADDRESSBOOK",source:o.default.ONBOARDING_SYNC_ADDRESSBOOK,intrinsicSize:{width:375,height:300}}}get CELEBRATION_ICBC(){return{key:"CELEBRATION_ICBC",source:o.default.CELEBRATION_ICBC,intrinsicSize:{width:2500,height:2e3}}}get CELEBRATION_ICBC_PORTRAIT(){return{key:"CELEBRATION_ICBC_PORTRAIT",source:o.default.CELEBRATION_ICBC_PORTRAIT,intrinsicSize:{width:750,height:1334}}}get BEER(){return{key:"BEER",source:o.default.BEER,intrinsicSize:{width:2500,height:2e3}}}get CLAP(){return{key:"CLAP",source:o.default.CLAP,intrinsicSize:{width:2500,height:2e3}}}get DROPTHEMIC(){return{key:"DROPTHEMIC",source:o.default.DROPTHEMIC,intrinsicSize:{width:2500,height:2e3}}}get FACEPALM(){return{key:"FACEPALM",source:o.default.FACEPALM,intrinsicSize:{width:2500,height:2e3}}}get FIRE(){return{key:"FIRE",source:o.default.FIRE,intrinsicSize:{width:2500,height:2e3}}}get HEART(){return{key:"HEART",source:o.default.HEART,intrinsicSize:{width:2500,height:2e3}}}get HIGHFIVE(){return{key:"HIGHFIVE",source:o.default.HIGHFIVE,intrinsicSize:{width:2500,height:2e3}}}get LAUGH(){return{key:"LAUGH",source:o.default.LAUGH,intrinsicSize:{width:2500,height:2e3}}}get MISTLETOE(){return{key:"MISTLETOE",source:o.default.MISTLETOE,intrinsicSize:{width:2500,height:2e3}}}get PENGUIN(){return{key:"PENGUIN",source:o.default.PENGUIN,intrinsicSize:{width:2500,height:2e3}}}get RUDOLFSURPRISE(){return{key:"RUDOLFSURPRISE",source:o.default.RUDOLFSURPRISE,intrinsicSize:{width:2500,height:2e3}}}get SAD(){return{key:"SAD",source:o.default.SAD,intrinsicSize:{width:2500,height:2e3}}}get SARCASTIC(){return{key:"SARCASTIC",source:o.default.SARCASTIC,intrinsicSize:{width:2500,height:2e3}}}get SNOWFLAKE(){return{key:"SNOWFLAKE",source:o.default.SNOWFLAKE,intrinsicSize:{width:2500,height:2e3}}}get SURPRISED(){return{key:"SURPRISED",source:o.default.SURPRISED,intrinsicSize:{width:2500,height:2e3}}}get XMASCWL(){return{key:"XMASCWL",source:o.default.XMASCWL,intrinsicSize:{width:2500,height:2e3}}}get XMASYES(){return{key:"XMASYES",source:o.default.XMASYES,intrinsicSize:{width:2500,height:2e3}}}get YES(){return{key:"YES",source:o.default.YES,intrinsicSize:{width:2500,height:2e3}}}}t.SXAnimations=r,t.default=new r},67850:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getButtonsAgnosticGradientFillColor=function(e){return o.ButtonAgnosticGradientFillColorsMappings[e]},t.isAgnosticGradientColor=function(e){return void 0!==e&&void 0!==o.AgnosticGradientFillButtonColors[e]};const o=i(16549)},20758:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(516778)),r=o.__importStar(i(644708)),a=i(154235),s=i(26703),l=i(16549),c=o.__importDefault(i(206315)),d=i(206197),u=o.__importDefault(i(266872)),p=o.__importDefault(i(760989));class g{static _textStyle(e,t){return g._createTextStyle(e,t)}static _createTextStyle(e,t){const i=[e.toString(),"|",t.toString()].join("");let o=g.textStylesCache[i];if(!o){const r=c.default.themeStylesForTheme(t);let a,s;switch(e){case d.TextStyleCategories.Subtitle:a=g.fontStyle.subtitle,s=r.secondaryTextColorStyle;break;case d.TextStyleCategories.Caption:a=g.fontStyle.caption,s=r.secondaryTextColorStyle;break;case d.TextStyleCategories.SelectedCaption:a=g.fontStyle.captionSelected,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.CaptionSmall:a=g.fontStyle.captionSmall,s=r.secondaryTextColorStyle;break;case d.TextStyleCategories.SelectedCaptionSmall:a=g.fontStyle.captionSmallBold,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.RowTitle:a=g.fontStyle.rowTitle,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.Body:a=g.fontStyle.body,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.BodyBold:a=g.fontStyle.bodyBold,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.BodyBig:a=g.fontStyle.bodyBigDeprecated,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.BodyBigBold:a=g.fontStyle.bodyBigBoldDeprecated,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.BodySmall:a=g.fontStyle.bodySmallDeprecated,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.BodySmallBold:a=g.fontStyle.bodySmallBoldDeprecated,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.MessagingHeader:a=g.fontStyle.messagingHeader,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.MessagingHeaderSmall:a=g.fontStyle.messagingHeaderSmall,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.CardTitle:a=g.fontStyle.cardTitle,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.CardTitleSmall:a=g.fontStyle.cardTitleSmall,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.PanelHeader:a=g.fontStyle.panelHeader,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.PanelHeaderLandscape:a=g.fontStyle.panelHeaderLandscape,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.CallHeaderSubtitleV2:a=g.fontStyle.callHeaderSubtitleV2,s=r.secondaryTextColorStyle;break;case d.TextStyleCategories.ModernizeChatSmallHeaderTitle:a=g.fontStyle.messagingStreamChatHeader,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.ModernizeChatSmallHeaderTitleMobile:a=g.fontStyle.messagingStreamChatHeaderMobile,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.NativeHeaderMobile:a=g.fontStyle.nativeHeader,s=r.primaryTextColorStyle;break;case d.TextStyleCategories.NativeHeaderMobileSamll:a=g.fontStyle.nativeHeaderSmall,s=r.primaryTextColorStyle;break;default:p.default.switchStatementExhaustiveChecking(e)}o=n.Styles.combine(a||[],s||[]),g.textStylesCache[i]=o}return o}static rowTitleFontStyle(e){const t=null!=e?e:u.default.colorThemeNoSubscription();return g._textStyle(d.TextStyleCategories.RowTitle,t)}static subtitleFontStyle(e){const t=null!=e?e:u.default.colorThemeNoSubscription();return g._textStyle(d.TextStyleCategories.Subtitle,t)}static callHeaderSubtitleFontStyle(e,t){const i=null!=e?e:u.default.colorThemeNoSubscription(),o=t?d.TextStyleCategories.CallHeaderSubtitleV2:d.TextStyleCategories.Subtitle;return g._textStyle(o,i)}static captionFontStyle(e){const t=null!=e?e:u.default.colorThemeNoSubscription();return g._textStyle(d.TextStyleCategories.Caption,t)}static selectedCaptionFontStyle(e){const t=null!=e?e:u.default.colorThemeNoSubscription();return g._textStyle(d.TextStyleCategories.SelectedCaption,t)}static captionSmallFontStyle(e){const t=null!=e?e:u.default.colorThemeNoSubscription();return g._textStyle(d.TextStyleCategories.CaptionSmall,t)}static selectedCaptionSmallFontStyle(e){const t=null!=e?e:u.default.colorThemeNoSubscription();return g._textStyle(d.TextStyleCategories.SelectedCaptionSmall,t)}static bodyFontStyle(e,t){const i=null!=e?e:u.default.colorThemeNoSubscription();let o;switch(t){case a.BodyTextSize.BigDeprecated:o=d.TextStyleCategories.BodyBig;break;case a.BodyTextSize.SmallDeprecated:o=d.TextStyleCategories.BodySmall;break;default:o=d.TextStyleCategories.Body}return g._textStyle(o,i)}static bodyBoldFontStyle(e,t){const i=null!=e?e:u.default.colorThemeNoSubscription();let o;switch(t){case a.BodyTextSize.BigDeprecated:o=d.TextStyleCategories.BodyBigBold;break;case a.BodyTextSize.SmallDeprecated:o=d.TextStyleCategories.BodySmallBold;break;default:o=d.TextStyleCategories.BodyBold}return g._textStyle(o,i)}static cardTitleFontStyle(e,t){const i=null!=e?e:u.default.colorThemeNoSubscription();return g._textStyle(t?d.TextStyleCategories.CardTitleSmall:d.TextStyleCategories.CardTitle,i)}static messagingHeaderFontStyle(e,t,i,o){const n=null!=i?i:u.default.colorThemeNoSubscription();return e?g.rowTitleFontStyle(n):g._textStyle(t||o?d.TextStyleCategories.MessagingHeaderSmall:d.TextStyleCategories.MessagingHeader,n)}static panelHeaderFontStyle(e=!1,t){const i=null!=t?t:u.default.colorThemeNoSubscription();return g._textStyle(e?d.TextStyleCategories.PanelHeaderLandscape:d.TextStyleCategories.PanelHeader,i)}static modernizeSmallPanelHeaderFontStyle(e){const t=null!=e?e:u.default.colorThemeNoSubscription();return g._textStyle(d.TextStyleCategories.ModernizeChatSmallHeaderTitle,t)}static modernizeSmallHeaderMobileFontStyle(e,t,i){const o=null!=e?e:u.default.colorThemeNoSubscription();return t?g._textStyle(d.TextStyleCategories.NativeHeaderMobileSamll,o):i?g._textStyle(d.TextStyleCategories.NativeHeaderMobile,o):g._textStyle(d.TextStyleCategories.ModernizeChatSmallHeaderTitleMobile,o)}}g.textStylesCache={},g.fontSize={size10:10,size12:12,size13Deprecated:13,size14:14,size15:15,size16:16,size17:17,size18:18,size20:20,size26:26,size32:32},g.controlFontSize={h0:50,h1:42,h2:40,h3:36,h4:26,h5:22,smallBadge:10,tinyBadge:8,caption:12,captionSmall:10,captionTiny:9,subtitle:12,body:15,bodyBigDeprecated:16,bodySmallDeprecated:14,button:15,smallButton:12,largeButton:18,rowTitle:15,modernizeRowTitle:17,actionButtonLabel:11,tabHeader:15,tabHeaderSmall:13,messagingHeaderSmall:20,panelHeader:18,panelHeaderTiny:15,panelHeaderLarge:24,headerSizeSmall:24,cardTitle:18,cardTitleSmall:15,searchInput:14,searchInputMobile:15,searchFiltersTab:14,dialpadNumber:32,dialpadNumberLarge:36,adaptiveCardTiny:10,adaptiveCardSmall:11,adaptiveCardDefault:12,adaptiveCardMedium:14,adaptiveCardLarge:16,adaptiveCardMediumLarge:20,adaptiveCardExtraLarge:24,filterText:13,captureMarkupText:22,dialpadInput:22,callHeaderTitleV2:12,callHeaderSubtitleV2:12,messageComposerMobile:16,messageComposerDesktop:14,messageStreamItemMobile:17,messageStreamItemDesktop:14,messageStreamQuoteAttributeMobile:14,messageStreamQuoteAttributeDesktop:12,webFooter:11,screenShareZoomControlActiveItem:14,screenShareZoomControlNonActiveItem:10,illustrationScreenHeaderRN:30,illustrationScreenHeader:24,illustrationScreenBody:14,articleDigestTitle:13,articleDigestSubtitle:11},g.tabUnderlineHeight=2,g.messageTextLineHeight=22,g.maxContentSizeMultiplier=1.353,g.fontFamily={monospace:r.Collection.MONOSPACE,uidDisplaySemibold:r.Collection.DISPLAY_SEMIBOLD,uidDisplayRegular:r.Collection.DISPLAY_REGULAR,uidDisplayBold:r.Collection.DISPLAY_BOLD},g._fontFamily={uidDisplayLight:r.Collection.DISPLAY_LIGHT,uidDisplaySemibold:r.Collection.DISPLAY_SEMIBOLD},g.font={uiDisplayRegular:{fontFamily:g.fontFamily.uidDisplayRegular,fontWeight:a.FontWeight.regular},uiDisplaySemibold:{fontFamily:g._fontFamily.uidDisplaySemibold,fontWeight:a.FontWeight.regular},uiDisplayBold:{fontFamily:g.fontFamily.uidDisplayBold,fontWeight:a.FontWeight.regular},skypeTitle:{fontFamily:g.fontFamily.uidDisplayBold,fontWeight:a.FontWeight.bold}},g._fontNext={uiDisplayLight:{fontFamily:g._fontFamily.uidDisplayLight}},g.fontStyle=(0,s.lazyProperties)({h0:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.h0,color:l.Color.gray400}),h1:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.h1,color:l.Color.gray400}),h2:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.h2,color:l.Color.gray400}),h3:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.h3,color:l.Color.gray400}),h4:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.h4,color:l.Color.gray400}),h5:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.h5}),body:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.body}),bodyBold:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.body}),bodyBigDeprecated:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.bodyBigDeprecated}),bodyBigBoldDeprecated:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.bodyBigDeprecated}),bodySmallDeprecated:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.bodySmallDeprecated}),bodySmallBoldDeprecated:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.bodySmallDeprecated}),caption:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.caption,color:l.Color.gray300}),captionSelected:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.caption}),captionSmall:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.captionSmall,color:l.Color.gray300}),captionSmallBold:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.captionSmall}),primaryButtonLarge:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.largeButton,textAlign:"center"}),secondaryButton:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.largeButton}),tertiaryButton:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.smallButton}),rowTitle:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.rowTitle,color:l.Color.gray400}),modernizeRowTitle:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.modernizeRowTitle,lineHeight:22}),subtitle:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.subtitle,color:l.Color.gray300}),callHeaderTitleV2:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.callHeaderTitleV2}),callHeaderSubtitleV2:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.callHeaderTitleV2,color:l.Color.gray100}),messagingHeader:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.panelHeaderLarge}),messagingHeaderSmall:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.messagingHeaderSmall}),messagingStreamChatSubHeader:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.fontSize.size14,lineHeight:18}),messagingStreamChatSubHeaderMobile:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.fontSize.size15,lineHeight:20}),panelHeader:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.panelHeader}),panelHeaderLandscape:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.panelHeaderTiny}),cardTitle:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.cardTitle,color:l.Color.gray400}),cardTitleSmall:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.cardTitleSmall,color:l.Color.gray400}),cardAction:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.button}),semibold14:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size14}),semibold15:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size15}),semibold16:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size16}),messagingStreamChatHeader:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size16,lineHeight:20}),messagingStreamChatHeaderMobile:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size17,lineHeight:22}),nativeHeader:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size17,lineHeight:17}),nativeHeaderSmall:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size14,lineHeight:14})}),g.fontStyleNext=(0,s.lazyProperties)({h0Light:()=>n.Styles.createTextStyle({font:g._fontNext.uiDisplayLight,fontSize:g.controlFontSize.h0,color:l.Color.gray400}),h1Light:()=>n.Styles.createTextStyle({font:g._fontNext.uiDisplayLight,fontSize:g.controlFontSize.h1,color:l.Color.gray400}),h2Light:()=>n.Styles.createTextStyle({font:g._fontNext.uiDisplayLight,fontSize:g.controlFontSize.h2,color:l.Color.gray400}),h3Light:()=>n.Styles.createTextStyle({font:g._fontNext.uiDisplayLight,fontSize:g.controlFontSize.h3,color:l.Color.gray400}),h4Light:()=>n.Styles.createTextStyle({font:g._fontNext.uiDisplayLight,fontSize:g.controlFontSize.h4,color:l.Color.gray400}),h5Light:()=>n.Styles.createTextStyle({font:g._fontNext.uiDisplayLight,fontSize:g.controlFontSize.h5})}),t.default=g},179582:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shareIcon=function(){switch(r.default.getPlatformType()){case n.PlatformType.iOS:case n.PlatformType.OSX:return a.SkypeIcon.ShareiOS;case n.PlatformType.Android:return a.SkypeIcon.ShareAndroid;default:return a.SkypeIcon.Share}},t.moreIcon=function(){return r.default.getPlatformType()===n.PlatformType.Android?a.SkypeIcon.MoreVertical:a.SkypeIcon.More},t.closeIcon=function(){return r.default.getPlatformType()===n.PlatformType.Android?s():a.SkypeIcon.ClosePanel},t.backIcon=s,t.forwardIcon=function(){return r.default.isRTL()?a.SkypeIcon.Left:a.SkypeIcon.Right},t.navForwardIcon=function(e=!1){if(e)return r.default.isRTL()?a.SkypeIcon.LeftChevron:a.SkypeIcon.RightChevron;return r.default.isRTL()?a.SkypeIcon.NavigationBack:a.SkypeIcon.NavigationForward},t.navBackIcon=function(e=!1){if(e)return r.default.isRTL()?a.SkypeIcon.RightChevron:a.SkypeIcon.LeftChevron;return r.default.isRTL()?a.SkypeIcon.NavigationForward:a.SkypeIcon.NavigationBack},t.nextChevron=function(){return r.default.isRTL()?a.SkypeIcon.LeftChevron:a.SkypeIcon.RightChevron},t.prevChevron=function(){return r.default.isRTL()?a.SkypeIcon.RightChevron:a.SkypeIcon.LeftChevron},t.getReplySymbol=function(){return a.SkypeIcon.Reply},t.okIcon=function(){return a.SkypeIcon.Ok};const o=i(197582),n=i(815146),r=o.__importDefault(i(139221)),a=i(641400);function s(){return r.default.isRTL()?a.SkypeIcon.Right:a.SkypeIcon.Left}},206315:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSkypeTheme=void 0;const o=i(197582),n=i(667294),r=o.__importStar(i(516778)),a=i(26703),s=i(606720),l=i(16549),c=i(206197),d=i(736267);class u{static _buildTheme(e){const t={primaryTextColorStyle:()=>r.Styles.createTextStyle({color:e.primaryTextColor},!1),headerTextColorStyle:()=>r.Styles.createTextStyle({color:e.headerTextColor},!1),secondaryTextColorStyle:()=>r.Styles.createTextStyle({color:e.secondaryTextColor},!1),tertiaryTextColorStyle:()=>r.Styles.createTextStyle({color:e.tertiaryTextColor},!1),textHoverColorStyle:()=>r.Styles.createTextStyle({color:e.textHoverColor},!1),buttonTextColorStyle:()=>r.Styles.createTextStyle({color:e.buttonTextColor},!1),primaryViewColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.primaryTextColor},!1),secondaryViewColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.secondaryTextColor},!1),dividerColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.dividerColor},!1),dividerForButtonsColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.primaryTextColor},!1),dividerBorderColorStyle:()=>r.Styles.createViewStyle({borderColor:e.dividerColor},!1),headerShadowColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.headerShadowColor},!1),headerShadowBorderColorStyle:()=>r.Styles.createViewStyle({borderColor:e.headerShadowColor},!1),bubbleColorSelfStyle:()=>r.Styles.createViewStyle({backgroundColor:e.bubbleColorSelf},!1),bubbleColorSelfStyleModernize:()=>r.Styles.createViewStyle({backgroundColor:e.bubbleColorSelfModernize},!1),bubbleTextColorSelfStyle:()=>r.Styles.createTextStyle({color:e.bubbleTextColorSelf},!1),primaryIconColorStyle:()=>r.Styles.createTextStyle({color:e.primaryIconColor},!1),headerIconColorStyle:()=>r.Styles.createTextStyle({color:e.headerIconColor},!1),iconHoverColorStyle:()=>r.Styles.createTextStyle({color:e.iconHoverColor},!1),destructiveTextColorStyle:()=>r.Styles.createTextStyle({color:e.destructiveTextColor},!1),destructiveTextHoverColorStyle:()=>r.Styles.createTextStyle({color:e.destructiveTextHoverColor},!1),disclosureArrowColorStyle:()=>r.Styles.createTextStyle({color:e.disclosureArrowColor},!1),rowHighlightViewStyle:()=>r.Styles.createViewStyle({backgroundColor:e.rowHighlightColor},!1),rowHoverViewStyle:()=>r.Styles.createViewStyle({backgroundColor:e.rowHoverColor},!1),secondaryRowHighlightViewStyle:()=>r.Styles.createViewStyle({backgroundColor:e.secondaryRowHighlightColor},!1),secondaryRowHoverViewStyle:()=>r.Styles.createViewStyle({backgroundColor:e.secondaryRowHoverColor},!1),secondaryDividerBorderStyle:()=>r.Styles.createViewStyle({borderColor:e.secondaryDividerColor},!1),searchBoxColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.searchBoxColor},!1),searchPlaceholderTextColorStyle:()=>r.Styles.createTextStyle({color:e.searchPlaceholderTextColor},!1),searchHeaderColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.searchHeaderColor},!1),searchBorderModernizeColorStyle:()=>r.Styles.createViewStyle({borderColor:e.dividerColor,borderWidth:1},!1),searchModernizeColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.searchModernizeColor},!1),pesPickerCategoryColorStyle:()=>r.Styles.createTextStyle({color:e.pesPickerCategoryColor},!1),primaryBackgroundColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.primaryBackgroundColor},!1),primaryBackgroundColorTextStyle:()=>r.Styles.createTextStyle({color:e.primaryBackgroundColor},!1),primaryBorderColorStyle:()=>r.Styles.createViewStyle({borderColor:e.primaryBackgroundColor},!1),secondaryBackgroundColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.secondaryBackgroundColor},!1),disabledTextColorStyle:()=>r.Styles.createTextStyle({color:e.disabledTextColor},!1),messageStreamBackgroundColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.messageStreamBackgroundColor},!1),tabIndicatorColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.tabIndicatorColor},!1),popoverBackgroundColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.popoverBackgroundColor},!1),pillBorderColorStyle:()=>r.Styles.createViewStyle({borderColor:e.pillBorderColor},!1),toggleBorderColorStyle:()=>r.Styles.createViewStyle({borderColor:e.toggleBorderColor},!1),buttonBackgroundColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.buttonBackgroundColor},!1),buttonBackgroundHoverColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.buttonBackgroundHoverColor},!1),viewBorderStyle:()=>r.Styles.createViewStyle({borderColor:e.dividerColor,borderWidth:1},!1),cardColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.cardColor},!1),updateCard:()=>r.Styles.createViewStyle({backgroundColor:e.updateCardBackgroundColor},!1),updateCardHover:()=>r.Styles.createViewStyle({backgroundColor:e.updateCardBackgroundHoverColor},!1),mandatoryUpdateCard:()=>r.Styles.createViewStyle({backgroundColor:e.mandatoryUpdateCardBackgroundColor},!1),mandatoryUpdateCardHover:()=>r.Styles.createViewStyle({backgroundColor:e.mandatoryUpdateCardBackgroundHoverColor},!1),sliderHandleColorStyle:()=>r.Styles.createViewStyle({backgroundColor:e.sliderHandleColor},!1),engagementBannerBackgroundStyle:()=>r.Styles.createViewStyle({backgroundColor:e.engagementBannersContentBackround,borderColor:e.engagementBannersContentBorderColor},!1),engagementBannerTextStyle:()=>r.Styles.createTextStyle({color:e.engagementBannerTextColor},!1)};return e.bubbleColorOther&&(t.bubbleColorOtherStyle=()=>r.Styles.createViewStyle({backgroundColor:e.bubbleColorOther},!1)),e.bubbleTextColorOther&&(t.bubbleTextColorOtherStyle=()=>r.Styles.createTextStyle({color:e.bubbleTextColorOther},!1)),e.bubbleColorBot&&(t.bubbleColorBotStyle=()=>r.Styles.createViewStyle({backgroundColor:e.bubbleColorBot},!1)),e.bubbleTextColorBot&&(t.bubbleTextColorBotStyle=()=>r.Styles.createTextStyle({color:e.bubbleTextColorBot},!1)),e.primaryBadgeColor&&(t.primaryBadgeColorStyle=()=>r.Styles.createViewStyle({backgroundColor:e.primaryBadgeColor},!1)),e.secondaryBadgeColor&&(t.secondaryBadgeColorStyle=()=>r.Styles.createViewStyle({backgroundColor:e.secondaryBadgeColor},!1)),e.primaryBadgeTextColor&&(t.primaryBadgeTextColorStyle=()=>r.Styles.createTextStyle({color:e.primaryBadgeTextColor},!1)),e.notificationColor&&(t.notificationColorStyle=()=>r.Styles.createViewStyle({backgroundColor:e.notificationColor},!1)),e.linkTextColor&&(t.linkTextColorStyle=()=>r.Styles.createTextStyle({color:e.linkTextColor},!1)),e.messageComposerBackgroundColor&&(t.messageComposerBackgroundStyle=()=>r.Styles.createViewStyle({backgroundColor:e.messageComposerBackgroundColor},!1)),e.bubbleReactionColorOther&&(t.bubbleReactionColorOtherStyle=()=>r.Styles.createTextStyle({color:e.bubbleReactionColorOther},!1)),(0,a.lazyProperties)(t)}static buildHighContrastThemeColors(e){return{useCompactLayout:!0,useInitialsForConversationIcon:!0,defaultStatusBarBackgroundColor:e.windowColor,defaultStatusBarTheme:s.BarStyleTheme.Default,primaryBackgroundColor:e.windowColor,secondaryBackgroundColor:e.windowColor,uwpMenuBarColor:e.windowColor,webFooterColor:e.windowColor,primaryTextColor:e.textColor,headerTextColor:e.textColor,secondaryTextColor:e.textColor,tertiaryTextColor:e.textColor,textHoverColor:e.highlightTextColor,buttonTextColor:e.buttonTextColor,dividerColor:e.textColor,headerShadowColor:e.textColor,bubbleColorSelf:e.windowColor,bubbleColorSelfModernize:e.windowColor,bubbleTextColorSelf:e.textColor,bubbleColorBot:e.windowColor,bubbleTextColorBot:e.textColor,messageComposerBackgroundColor:e.windowColor,primaryIconColor:e.buttonTextColor,headerIconColor:e.buttonTextColor,iconDisabledColor:e.grayTextColor,iconHoverColor:e.highlightTextColor,destructiveTextColor:e.textColor,destructiveTextHoverColor:e.highlightTextColor,disclosureArrowColor:e.textColor,rowHighlightColor:e.highlightColor,rowHoverColor:e.highlightColor,secondaryRowHighlightColor:e.highlightColor,secondaryRowHoverColor:e.highlightColor,secondaryDividerColor:e.textColor,searchBoxColor:e.windowColor,searchPlaceholderTextColor:e.textColor,searchHeaderColor:e.windowColor,searchModernizeColor:e.textColor,disabledTextColor:e.grayTextColor,messageStreamBackgroundColor:e.windowColor,tabIndicatorColor:e.textColor,popoverBackgroundColor:e.windowColor,pillBorderColor:e.buttonFaceColor,pesPickerCategoryColor:e.textColor,toggleBorderColor:e.buttonFaceColor,buttonBackgroundColor:e.buttonFaceColor,buttonBackgroundHoverColor:e.highlightColor,cardColor:e.windowColor,secondaryBadgeColor:e.windowColor,updateCardBackgroundColor:e.windowColor,updateCardBackgroundHoverColor:e.highlightColor,mandatoryUpdateCardBackgroundColor:e.windowColor,mandatoryUpdateCardBackgroundHoverColor:e.highlightColor,sliderHandleColor:e.buttonFaceColor,adaptiveCardBackgroundColor:e.windowColor,adaptiveCardBorderColor:e.textColor,adaptiveCardButtonBackgroundColor:e.buttonFaceColor,adaptiveCardButtonBackgroundHoverColor:e.highlightColor,adaptiveCardButtonBackgroundExpandedColor:e.windowColor,adaptiveCardDefaultTextColor:e.textColor,adaptiveCardDarkTextColor:e.textColor,adaptiveCardLightTextColor:e.textColor,adaptiveCardInputUnselectedBorderColor:e.textColor,upgraderButtonBackgroundColor:e.buttonFaceColor,coloredBackgroundTextColor:e.textColor,subtleIconOnThemedBackground:e.grayTextColor}}static themeColorsForTheme(e){switch(e){case c.Theme.Accessible:return u._themeColors.accessible;case c.Theme.Mono:return u._themeColors.mono;case c.Theme.AccessibleDark:return u._themeColors.accessibleDarkV2;case c.Theme.ColorfulDark:return u._themeColors.colorfulDark;case c.Theme.MonoDark:return u._themeColors.monoDark;case c.Theme.ClassicDeprecated:case c.Theme.Delphi:return u._themeColors.delphi;case c.Theme.ClassicDarkDeprecated:case c.Theme.DelphiDark:return u._themeColors.delphiDark;case c.Theme.Colorful:default:return u._themeColors.default}}static themeStylesForTheme(e){switch(e){case c.Theme.Accessible:return u._themeStyles.accessible;case c.Theme.Mono:return u._themeStyles.mono;case c.Theme.AccessibleDark:return u._themeStyles.accessibleDark;case c.Theme.ColorfulDark:return u._themeStyles.colorfulDark;case c.Theme.MonoDark:return u._themeStyles.monoDark;case c.Theme.ClassicDeprecated:case c.Theme.Delphi:return u._themeStyles.delphi;case c.Theme.ClassicDarkDeprecated:case c.Theme.DelphiDark:return u._themeStyles.delphiDark;case c.Theme.Colorful:default:return u._themeStyles.default}}static _buildThemeStyles(){return(0,a.lazyProperties)({default:()=>u._buildTheme(u._themeColors.default),mono:()=>u._buildTheme(u._themeColors.mono),accessible:()=>u._buildTheme(u._themeColors.accessible),accessibleDark:()=>u._buildTheme(u._themeColors.accessibleDarkV2),colorfulDark:()=>u._buildTheme(u._themeColors.colorfulDark),monoDark:()=>u._buildTheme(u._themeColors.monoDark),delphi:()=>u._buildTheme(u._themeColors.delphi),delphiDark:()=>u._buildTheme(u._themeColors.delphiDark)})}}u._lightThemeCommon={updateCardBackgroundColor:l.Color.desktopUpgradeNotificationGreen,updateCardBackgroundHoverColor:l.Color.desktopUpgradeNotificationGreenHover,mandatoryUpdateCardBackgroundColor:l.Color.desktopMandatoryUpgradeNotificationRed,mandatoryUpdateCardBackgroundHoverColor:l.Color.desktopMandatoryUpgradeNotificationRedHover,adaptiveCardBackgroundColor:l.Color.white,adaptiveCardBorderColor:l.Color.gray100,adaptiveCardButtonBackgroundColor:l.Color.gray50,adaptiveCardButtonBackgroundHoverColor:l.Color.gray100,adaptiveCardButtonBackgroundExpandedColor:l.Color.gray200,adaptiveCardDefaultTextColor:l.Color.gray400,adaptiveCardDarkTextColor:l.Color.black,adaptiveCardLightTextColor:l.Color.gray300,adaptiveCardInputUnselectedBorderColor:l.Color.gray300,coloredBackgroundTextColor:l.Color.white,subtleIconOnThemedBackground:l.Color.gray400Overlay50},u._themeColorsDefault=Object.assign({useCompactLayout:!0,useInitialsForConversationIcon:!0,defaultStatusBarBackgroundColor:l.Color.white,defaultStatusBarTheme:s.BarStyleTheme.Dark,primaryBackgroundColor:l.Color.white,secondaryBackgroundColor:l.Color.gray50,uwpMenuBarColor:l.Color.gray100,webFooterColor:l.Color.gray400,primaryTextColor:l.Color.gray400,headerTextColor:l.Color.gray400,secondaryTextColor:l.Color.gray300,tertiaryTextColor:l.Color.gray200,textHoverColor:l.Color.gray300,buttonTextColor:l.Color.gray400,dividerColor:l.Color.gray200,headerShadowColor:l.Color.shadow,bubbleColorSelf:l.Color.gray50,bubbleColorSelfModernize:l.Color.gray50,bubbleTextColorSelf:l.Color.gray400,bubbleColorBot:l.Color.gray50,bubbleTextColorBot:l.Color.gray400,messageComposerBackgroundColor:l.Color.gray50,primaryIconColor:l.Color.gray400,pesPickerCategoryColor:l.Color.gray300,headerIconColor:l.Color.gray400,iconDisabledColor:l.Color.gray300,iconHoverColor:l.Color.gray400Overlay70,destructiveTextColor:l.Color.red,destructiveTextHoverColor:l.Color.pink,disclosureArrowColor:l.Color.gray200,rowHighlightColor:l.Color.gray50,rowHoverColor:l.Color.gray50Overlay50,secondaryRowHighlightColor:l.Color.white,secondaryRowHoverColor:l.Color.leftNavRowHoverColor,secondaryDividerColor:l.Color.black,searchBoxColor:l.Color.gray50,searchPlaceholderTextColor:l.Color.gray300,searchHeaderColor:l.Color.gray50,searchModernizeColor:l.Color.gray50,disabledTextColor:l.Color.gray300,messageStreamBackgroundColor:l.Color.white,tabIndicatorColor:l.Color.black,popoverBackgroundColor:l.Color.white,pillBorderColor:l.Color.gray100,toggleBorderColor:l.Color.gray200,buttonBackgroundColor:l.Color.gray50,buttonBackgroundHoverColor:l.Color.gray100,cardColor:l.Color.gray50,secondaryBadgeColor:l.Color.gray300,sliderHandleColor:l.Color.gray200,upgraderButtonBackgroundColor:l.Color.blueLight,engagementBannersContentBackround:l.Color.gray50Overlay50,engagementBannersContentBorderColor:l.Color.transparent,engagementBannerTextColor:l.Color.gray500},u._lightThemeCommon),u._darkThemeColorsDefault={useCompactLayout:!0,useInitialsForConversationIcon:!0,defaultStatusBarBackgroundColor:l.Color.darkThemeBackground,defaultStatusBarTheme:s.BarStyleTheme.Light,primaryBackgroundColor:l.Color.darkThemeBackground,secondaryBackgroundColor:l.Color.darkThemeSecondaryBackground,uwpMenuBarColor:l.Color.black,webFooterColor:l.Color.gray400,headerTextColor:l.Color.white,primaryTextColor:l.Color.gray100,secondaryTextColor:l.Color.darkThemeSecondaryTextColor,tertiaryTextColor:l.Color.gray300,textHoverColor:l.Color.gray200,buttonTextColor:l.Color.gray100,dividerColor:l.Color.gray400,headerShadowColor:l.Color.gray400,bubbleColorSelf:l.Color.gray400,bubbleColorSelfModernize:l.Color.gray400,bubbleTextColorSelf:l.Color.white,bubbleColorBot:l.Color.gray400,bubbleTextColorBot:l.Color.white,messageComposerBackgroundColor:l.Color.gray400,primaryIconColor:l.Color.darkThemeSecondaryTextColor,pesPickerCategoryColor:l.Color.darkThemeSecondaryTextColor,headerIconColor:l.Color.white,iconDisabledColor:l.Color.gray300,iconHoverColor:l.Color.gray200Overlay60,destructiveTextColor:l.Color.red,destructiveTextHoverColor:l.Color.pink,disclosureArrowColor:l.Color.gray300,rowHighlightColor:l.Color.gray400,rowHoverColor:l.Color.gray400Overlay50,secondaryRowHighlightColor:l.Color.gray400,secondaryRowHoverColor:l.Color.gray400Overlay50,secondaryDividerColor:l.Color.white,searchBoxColor:l.Color.gray400,searchPlaceholderTextColor:l.Color.darkThemeSecondaryTextColor,searchHeaderColor:l.Color.gray400,searchModernizeColor:l.Color.gray400,disabledTextColor:l.Color.gray300,messageStreamBackgroundColor:l.Color.darkThemeBackground,tabIndicatorColor:l.Color.gray100,popoverBackgroundColor:l.Color.black,pillBorderColor:l.Color.gray300,toggleBorderColor:l.Color.gray300,buttonBackgroundColor:l.Color.gray400,buttonBackgroundHoverColor:l.Color.black,popupBorderColor:l.Color.gray400,primaryBadgeTextColor:l.Color.white,cardColor:l.Color.gray400,secondaryBadgeColor:l.Color.gray300,sliderHandleColor:l.Color.gray300,updateCardBackgroundColor:l.Color.gray400Overlay70,updateCardBackgroundHoverColor:l.Color.gray400Overlay80,mandatoryUpdateCardBackgroundColor:l.Color.gray400Overlay70,mandatoryUpdateCardBackgroundHoverColor:l.Color.gray400Overlay70,adaptiveCardBackgroundColor:l.Color.gray400,adaptiveCardBorderColor:l.Color.adaptiveCardDarkThemeBorder,adaptiveCardButtonBackgroundColor:l.Color.gray400,adaptiveCardButtonBackgroundHoverColor:l.Color.gray400Overlay80,adaptiveCardButtonBackgroundExpandedColor:l.Color.gray400Overlay50,adaptiveCardDefaultTextColor:l.Color.gray200,adaptiveCardDarkTextColor:l.Color.gray300,adaptiveCardLightTextColor:l.Color.white,adaptiveCardInputUnselectedBorderColor:l.Color.gray300,upgraderButtonBackgroundColor:l.Color.blueDark,engagementBannersContentBackround:l.Color.darkMessageComposerContentBackground,engagementBannersContentBorderColor:l.Color.transparent,engagementBannerTextColor:l.Color.classicDarkBubbleTextOther,coloredBackgroundTextColor:l.Color.white,subtleIconOnThemedBackground:l.Color.gray200},u._themeColors={default:u._themeColorsDefault,mono:u._themeColorsDefault,delphi:Object.assign(Object.assign({},u._themeColorsDefault),{bubbleColorOther:l.Color.delphiBubbleColorOther,bubbleTextColorOther:l.Color.delphiBubbleText,bubbleReactionColorOther:l.Color.gray300Overlay80,bubbleColorSelf:l.Color.delphiBubbleColorSelf,bubbleColorSelfModernize:l.Color.delphiBubbleColorSelfModernize,bubbleTextColorSelf:l.Color.delphiBubbleText,bubbleColorBot:l.Color.delphiBubbleColorBot,bubbleTextColorBot:l.Color.delphiBubbleText,secondaryBackgroundColor:l.Color.delphiSecondaryBackgroundColor,secondaryRowHighlightColor:l.Color.delphiSecondaryRowHighlightColor,secondaryRowHoverColor:l.Color.delphiSecondaryRowHoverColor,messageComposerBackgroundColor:l.Color.delphiMessageComposerBackgroundColor,primaryTextColor:l.Color.delphiPrimaryTextColor}),accessible:Object.assign(Object.assign({useCompactLayout:!0,useInitialsForConversationIcon:!0,defaultStatusBarBackgroundColor:l.Color.white,defaultStatusBarTheme:s.BarStyleTheme.Dark,primaryBackgroundColor:l.Color.white,secondaryBackgroundColor:l.Color.white,uwpMenuBarColor:l.Color.white,webFooterColor:l.Color.gray400,primaryTextColor:l.Color.gray400,headerTextColor:l.Color.gray400,secondaryTextColor:l.Color.gray400,tertiaryTextColor:l.Color.gray400,textHoverColor:l.Color.gray300,buttonTextColor:l.Color.gray400,dividerColor:l.Color.gray400,headerShadowColor:l.Color.shadow,bubbleColorBot:l.Color.gray50,bubbleTextColorBot:l.Color.gray400,bubbleColorSelf:l.Color.gray50,bubbleColorSelfModernize:l.Color.gray50,bubbleTextColorSelf:l.Color.gray400,bubbleColorOther:l.Color.gray400,messageComposerBackgroundColor:l.Color.gray50,primaryIconColor:l.Color.gray400,headerIconColor:l.Color.gray400,iconDisabledColor:l.Color.gray300,iconHoverColor:l.Color.gray400Overlay70,primaryBadgeColor:l.Color.gray400,pesPickerCategoryColor:l.Color.black,secondaryBadgeColor:l.Color.gray400,primaryBadgeTextColor:l.Color.white,destructiveTextColor:l.Color.gray400,destructiveTextHoverColor:l.Color.gray300,disclosureArrowColor:l.Color.gray400,secondaryDividerColor:l.Color.black,searchBoxColor:l.Color.gray50,searchPlaceholderTextColor:l.Color.gray400,searchHeaderColor:l.Color.gray100,searchModernizeColor:l.Color.white,disabledTextColor:l.Color.gray300,messageStreamBackgroundColor:l.Color.white,tabIndicatorColor:l.Color.black,popoverBackgroundColor:l.Color.white,notificationColor:l.Color.black,pillBorderColor:l.Color.gray100,toggleBorderColor:l.Color.gray200,buttonBackgroundColor:l.Color.gray50,buttonBackgroundHoverColor:l.Color.gray100,cardColor:l.Color.gray50,secondaryRowHighlightColor:l.Color.gray100,secondaryRowHoverColor:l.Color.gray50,rowHighlightColor:l.Color.gray100,rowHoverColor:l.Color.gray50,sliderHandleColor:l.Color.white,upgraderButtonBackgroundColor:l.Color.blueLight,engagementBannersContentBackround:l.Color.white,engagementBannersContentBorderColor:l.Color.black,engagementBannerTextColor:l.Color.gray400},u._lightThemeCommon),{subtleIconOnThemedBackground:l.Color.gray400Overlay80}),accessibleDark:Object.assign(Object.assign({},u._darkThemeColorsDefault),{bubbleColorOther:l.Color.gray50,bubbleTextColorOther:l.Color.gray400,searchModernizeColor:l.Color.black,coloredBackgroundTextColor:l.Color.black,subtleIconOnThemedBackground:l.Color.white}),accessibleDarkV2:Object.assign(Object.assign({},u._darkThemeColorsDefault),{primaryBackgroundColor:l.Color.black,secondaryBackgroundColor:l.Color.black,uwpMenuBarColor:l.Color.black,webFooterColor:l.Color.gray400,primaryTextColor:l.Color.white,headerTextColor:l.Color.white,secondaryTextColor:l.Color.gray50,tertiaryTextColor:l.Color.gray50,bubbleColorOther:l.Color.gray50,bubbleTextColorOther:l.Color.gray400,primaryBadgeColor:l.Color.white,secondaryBadgeColor:l.Color.white,primaryBadgeTextColor:l.Color.gray400,pesPickerCategoryColor:l.Color.gray50,disclosureArrowColor:l.Color.gray50,messageStreamBackgroundColor:l.Color.black,primaryIconColor:l.Color.white,headerIconColor:l.Color.white,iconDisabledColor:l.Color.gray100,iconHoverColor:l.Color.gray100,dividerColor:l.Color.gray100,headerShadowColor:l.Color.gray100,messageComposerBackgroundColor:l.Color.gray400,sliderHandleColor:l.Color.black,searchModernizeColor:l.Color.black,destructiveTextColor:l.Color.white,destructiveTextHoverColor:l.Color.gray100,engagementBannersContentBackround:l.Color.black,engagementBannersContentBorderColor:l.Color.white,engagementBannerTextColor:l.Color.gray100,coloredBackgroundTextColor:l.Color.black,subtleIconOnThemedBackground:l.Color.white}),delphiDark:Object.assign(Object.assign({},u._darkThemeColorsDefault),{bubbleColorOther:l.Color.delphiDarkBubbleColorOther,bubbleTextColorOther:l.Color.delphiDarkBubbleText,bubbleColorSelf:l.Color.delphiDarkBubbleColorSelf,bubbleColorSelfModernize:l.Color.delphiDarkBubbleColorSelf,bubbleTextColorSelf:l.Color.delphiDarkBubbleText,bubbleColorBot:l.Color.delphiDarkBubbleColorBot,bubbleTextColorBot:l.Color.delphiDarkBubbleText,messageStreamBackgroundColor:l.Color.black,primaryTextColor:l.Color.delphiDarkPrimaryTextColor,secondaryTextColor:l.Color.delphiDarkSecondaryTextColor,primaryBackgroundColor:l.Color.classicDarkPrimaryBackground,secondaryBackgroundColor:l.Color.classicDarkSecondaryBackground,secondaryRowHighlightColor:l.Color.classicDarkBubbleSelf,secondaryRowHoverColor:l.Color.classicDarkBubbleOther,buttonBackgroundColor:l.Color.classicDarkBubbleSelf,primaryIconColor:l.Color.classicDarkBubbleTextSelf,headerIconColor:l.Color.classicDarkBubbleTextSelf}),delphiDarkMobile:Object.assign(Object.assign({},u._darkThemeColorsDefault),{bubbleColorOther:l.Color.classicDarkBubbleOther,bubbleTextColorOther:l.Color.classicDarkBubbleTextOther,bubbleColorSelf:l.Color.classicDarkBubbleSelf,bubbleColorSelfModernize:l.Color.classicDarkBubbleSelf,bubbleTextColorSelf:l.Color.classicDarkBubbleTextSelf,bubbleColorBot:l.Color.classicDarkBubbleOther,bubbleTextColorBot:l.Color.classicDarkBubbleTextOther}),colorfulDark:u._darkThemeColorsDefault,monoDark:u._darkThemeColorsDefault},u._themeStyles=u._buildThemeStyles(),t.default=u;t.useSkypeTheme=()=>{const{themeColors:e,mode:t,gradients:i,fonts:o,themeStyles:r}=(0,d.useCommonContext)();return(0,n.useMemo)((()=>({fonts:o,themeColors:e,gradients:i,themeStyles:r,mode:t})),[e,i,t,r])}},377556:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(516778)),r=i(815146),a=o.__importStar(i(85385));class s{static paddingTopStyle(e){let t=this._cachedPaddingTopStyles[e];return t||(a.log(r.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating paddingTopStyle "+e),t=n.Styles.createViewStyle({paddingTop:e},!1),this._cachedPaddingTopStyles[e]=t),t}static marginTopStyle(e){let t=this._cachedMarginTopStyles[e];return t||(a.log(r.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating marginTopStyle "+e),t=n.Styles.createViewStyle({marginTop:e},!1),this._cachedMarginTopStyles[e]=t),t}static paddingBottomStyle(e){let t=this._cachedPaddingBottomStyles[e];return t||(a.log(r.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating paddingBottomStyle "+e),t=n.Styles.createViewStyle({paddingBottom:e},!1),this._cachedPaddingBottomStyles[e]=t),t}static marginBottomStyle(e){let t=this._cachedMarginBottomStyles[e];return t||(a.log(r.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating marginBottomStyle "+e),t=n.Styles.createViewStyle({marginBottom:e},!1),this._cachedMarginBottomStyles[e]=t),t}static heightStyle(e){let t=this._cachedHeightStyles[e];return t||(a.log(r.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating heightStyle "+e),t=n.Styles.createViewStyle({height:e},!1),this._cachedHeightStyles[e]=t),t}static horizontalPaddingStyle(e){const t=e.left+"_"+e.right;let i=this._cachedHorizontalPaddingStyles[t];return i||(a.log(r.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating horizontalPaddingStyle left: "+e.left+", right: "+e.right),i=n.Styles.createViewStyle({paddingLeft:e.left,paddingRight:e.right},!1),this._cachedHorizontalPaddingStyles[t]=i),i}static horizontalMarginStyle(e){const t=e.left+"_"+e.right;let i=this._cachedHorizontalMarginStyles[t];return i||(a.log(r.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating horizontalMarginStyle left: "+e.left+", right: "+e.right),i=n.Styles.createViewStyle({marginLeft:e.left,marginRight:e.right},!1),this._cachedHorizontalMarginStyles[t]=i),i}static hasHorizontalSafeAreas(e){return 0!==e.left||0!==e.right}}s._cachedPaddingTopStyles={},s._cachedMarginTopStyles={},s._cachedPaddingBottomStyles={},s._cachedMarginBottomStyles={},s._cachedHeightStyles={},s._cachedHorizontalPaddingStyles={},s._cachedHorizontalMarginStyles={},t.default=s},430880:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582).__importStar(i(496486));t.default=class{constructor(e){this._onFinishHandlers=[],this.finish=(e,t)=>{this.extendContext(t),o.each(this._onFinishHandlers,(t=>{t&&t(e,this._context)}))},this._context=e||{}}get context(){return this._context}start(e){this._rootViewId=e}extendContext(e){this._context=o.extend(this._context,e)}onFinish(e){e&&this._onFinishHandlers.push(e)}}},791384:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778));class a{static shouldAnnounceForAccessibility(){return!0}static isMobileScreenReaderEnabled(){return!1}static maybeAnnounceForAccessibility(e,t=void 0){const i=()=>{e&&a.shouldAnnounceForAccessibility()&&r.Accessibility.announceForAccessibility(e)};t?n.delay(i,t):0===t?n.defer(i):i()}}t.default=a},777458:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearSkypeTokenFromKeychain=function(){0;return a.Resolved().catch((e=>{l.error(s.LogTraceArea.TokenStore,"Unable to delete Skype Token from KeyChain "+d.default.errorAsString(e))})).then((()=>!0))},t.clearMSARefreshTokenFromKeychain=function(e){0;return a.Resolved().catch((e=>{l.error(s.LogTraceArea.TokenStore,"Unable to delete MSAToken from KeyChain "+d.default.errorAsString(e))})).then((()=>!0))},t.clearPhoneAuthRefreshTokenFromKeychain=function(e){if(!c.default.isPhoneAuthUser())return a.Resolved(!0);return l.log(s.LogTraceArea.TokenStore,`clearPhoneAuthRefreshTokenFromKeychain - clearing PhoneAuthRefreshToken from Keychain (tokenKey: ${e})`),u(e,void 0).catch((t=>{l.error(s.LogTraceArea.TokenStore,`Unable to delete phone auth refresh token from KeyChain (tokenKey: ${e}). Err - `+d.default.errorAsString(t))})).then((()=>!0))},t.getPasswordFromKeychain=function(e){return r.default.getPassword(e,c.default.getSkypeId())},t.setPasswordIntoKeychain=u,t.getGenericPasswordFromKeychain=function(e){return r.default.getGenericPassword(e)},t.setGenericPasswordIntoKeychain=function(e,t,i){return t?r.default.setGenericPassword(e,t,i):(l.warn(s.LogTraceArea.TokenStore,"_setGenericPasswordIntoKeychain called with empty password, resetting entry"),r.default.resetGenericPassword(i).then(n.noop))},t.getUserSpecificServiceName=function(e){return c.default.getSkypeId()+e};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(872397)),a=o.__importStar(i(397691)),s=i(815146),l=o.__importStar(i(85385)),c=o.__importDefault(i(363091)),d=o.__importDefault(i(655192));i(87881);function u(e,t){return t?r.default.setPassword(e,c.default.getSkypeId(),t):r.default.deletePassword(e,c.default.getSkypeId()).then(n.noop)}},720756:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SkypeVersionParser=void 0;i(197582).__importStar(i(496486));const o=/([0-9]+)?\/?([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)\/*([a-zA-Z0-9]*)\/*/;t.SkypeVersionParser=class{static parse(e){if(!e)return;const t=e.match(o);if(!t)return;return{platformId:parseInt(t[1],10),version:{major:parseInt(t[2],10),minor:parseInt(t[3],10),cobrand:parseInt(t[4],10),build:parseInt(t[5],10)},tag:t.length>6?t[6]:void 0}}static serialize(e){return(e.platformId?e.platformId+"/":"")+e.version.major+"."+e.version.minor+"."+e.version.cobrand+"."+e.version.build+(e.tag?"/"+e.tag:"")}}},972830:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isDarkTheme=d,t.isAccessibleTheme=u,t.isMonoTheme=function(e){return!!e&&(e===s.Theme.Mono||e===s.Theme.MonoDark)},t.isDelphiTheme=function(e){return!!e&&(e===s.Theme.Delphi||e===s.Theme.DelphiDark)},t.isClassicTheme=function(e){return!!e&&(e===s.Theme.ClassicDeprecated||e===s.Theme.ClassicDarkDeprecated||e===s.Theme.Delphi||e===s.Theme.DelphiDark)},t.isColorfulTheme=function(e){return!!e&&(e===s.Theme.Colorful||e===s.Theme.ColorfulDark)},t.matchingAccessibleTheme=function(e){switch(e){case s.Theme.Colorful:case s.Theme.Mono:case s.Theme.ClassicDeprecated:case s.Theme.Delphi:return s.Theme.Accessible;case s.Theme.ColorfulDark:case s.Theme.MonoDark:case s.Theme.ClassicDarkDeprecated:case s.Theme.DelphiDark:return s.Theme.AccessibleDark;default:return s.Theme.Accessible}},t.matchingLightOrDarkTheme=p,t.matchingLightTheme=function(e){switch(e){case s.Theme.ColorfulDark:return s.Theme.Colorful;case s.Theme.MonoDark:return s.Theme.Mono;case s.Theme.AccessibleDark:return s.Theme.Accessible;case s.Theme.ClassicDarkDeprecated:return s.Theme.ClassicDeprecated;case s.Theme.DelphiDark:return s.Theme.Delphi;default:return e}},t.themeMatchesOSTheme=g,t.convertThemeToDelphiTheme=function(e){if(!u(e))return e;return d(e)?s.Theme.DelphiDark:s.Theme.Delphi},t.convertOSThemeToTheme=function(e,t){if(void 0!==t)return g(e,t)?e:p(e);return},t.getAccessibilityLabel=function(e){let t;switch(e){case s.Theme.Accessible:case s.Theme.AccessibleDark:t="ColorThemeDialog.HighContrastThemeTitle";break;case s.Theme.Mono:case s.Theme.MonoDark:t="ColorThemeDialog.ClassicThemeTitle";break;case s.Theme.ClassicDeprecated:case s.Theme.ClassicDarkDeprecated:case s.Theme.Delphi:case s.Theme.DelphiDark:t="ColorThemeDialog.BlueThemeTitle";break;case s.Theme.Colorful:case s.Theme.ColorfulDark:t="ColorThemeDialog.ColorThemeTitle";break;default:t=l.default.switchStatementExhaustiveChecking(e)}return a.getString(t)+" "+a.getString("AccessibilityLabel.SelectedControlLabel")},t.systemThemeEnabled=function(){return r.UICapabilities.systemThemeSupported()},t.themeStyles=function(e,t){return t?c.default.themeStylesForTheme(t):e.themeStyles},t.themeColors=function(e,t){return t?c.default.themeColorsForTheme(t):e.themeColors},t.currentTheme=h,t.isUsingAccessibleTheme=function(e,t){return u(h(e,t))},t.isUsingDarkTheme=function(e,t){return d(h(e,t))},t.isDarkThemeBrowser=function(){return window.matchMedia("(prefers-color-scheme: dark)").matches};const o=i(197582),n=i(331654),r=i(843890),a=o.__importStar(i(704704)),s=i(206197),l=o.__importDefault(i(760989)),c=o.__importDefault(i(206315));function d(e){return!!e&&(e===s.Theme.AccessibleDark||e===s.Theme.ColorfulDark||e===s.Theme.MonoDark||e===s.Theme.ClassicDarkDeprecated||e===s.Theme.DelphiDark)}function u(e){return!!e&&(e===s.Theme.Accessible||e===s.Theme.AccessibleDark)}function p(e){switch(e){case s.Theme.Colorful:return s.Theme.ColorfulDark;case s.Theme.Mono:return s.Theme.MonoDark;case s.Theme.Accessible:return s.Theme.AccessibleDark;case s.Theme.ClassicDeprecated:return s.Theme.ClassicDarkDeprecated;case s.Theme.Delphi:return s.Theme.DelphiDark;case s.Theme.ColorfulDark:return s.Theme.Colorful;case s.Theme.MonoDark:return s.Theme.Mono;case s.Theme.AccessibleDark:return s.Theme.Accessible;case s.Theme.ClassicDarkDeprecated:return s.Theme.ClassicDeprecated;case s.Theme.DelphiDark:return s.Theme.Delphi;default:return l.default.switchStatementExhaustiveChecking(e)}}function g(e,t){return void 0!==t&&(t===n.OSTheme.Dark&&d(e)||t===n.OSTheme.Light&&!d(e))}function h(e,t){return null!=t?t:e.theme}},305360:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shouldDisplayUpgradeAlert=function(){if(!r.default.getS4LFeatures().enableUpgradeAlert)return n.Resolved(!1);if(r.default.getS4LFeatures().upgradeAlertConfig.forceUpgrade)return n.Resolved(!0);return c.LocalStorage.getItem(c.StorageKeys.UpgradeAlertLastDisplayDateKey).then((e=>!e||Date.now()>+e+1e3*r.default.getS4LFeatures().upgradeAlertConfig.upgradeAlertDisplayIntervalSeconds)).catch((e=>(s.warn(a.LogTraceArea.GenericUnsafe,"UpgradeAlertHelper:shouldDisplayUpgradeAlert failed: "+l.default.errorAsString(e)),n.Rejected(e))))},t.setLastDisplayDate=function(){return c.LocalStorage.setItem(c.StorageKeys.UpgradeAlertLastDisplayDateKey,String(""+Date.now()))},t.isForceUpdateEnabled=function(){const e=r.default.getS4LFeatures().upgrade;return!(!e||!e.noticeUrl)};const o=i(197582),n=o.__importStar(i(397691)),r=o.__importDefault(i(150343)),a=i(815146),s=o.__importStar(i(85385)),l=o.__importDefault(i(655192)),c=i(444314)},252427:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(150343)),a=r.default.getConfigSettingsNoSubscription().urlPreview.host+"url/content?url=";t.default=new class{proxyImageUrl(e){if(e)return n.startsWith(e,a)||r.default.isTrustedDomain(e,!1)?e:a+encodeURIComponent(e)}}},220534:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=o.__importDefault(i(573248)),s=o.__importStar(i(803689)),l=i(815146),c=o.__importStar(i(85385)),d=o.__importDefault(i(114818)),u=o.__importStar(i(704704)),p=o.__importDefault(i(808164)),g=o.__importDefault(i(655192)),h=o.__importDefault(i(139221)),m=i(845270),S=o.__importDefault(i(760989));var _;!function(e){e[e.All=0]="All",e[e.Protocol=1]="Protocol",e[e.MailtoLiteral=2]="MailtoLiteral",e[e.MsProtocol=3]="MsProtocol",e[e.SkypeWinProtocol=4]="SkypeWinProtocol",e[e.SkypeLiteral=5]="SkypeLiteral",e[e.Winshell=6]="Winshell",e[e.SkypeParticipants=7]="SkypeParticipants",e[e.TelLiteral=8]="TelLiteral",e[e.TelParticipants=9]="TelParticipants",e[e.EmailName=10]="EmailName",e[e.Host=11]="Host",e[e.Port=12]="Port",e[e.PathBeforeLastSlash=13]="PathBeforeLastSlash",e[e.PathAfterLastSlash=14]="PathAfterLastSlash",e[e.PathAfterLastDot=15]="PathAfterLastDot",e[e.QueryParameters=16]="QueryParameters",e[e.Fragment=17]="Fragment"}(_||(_={}));const f=/^\(?(?:(http|https|ftp):\/\/|(mailto):|(ms-voip-call|ms-voip-video|ms-ipmessaging):|(skypewin):|(skype):|(skype-meetnow):((?:[^\W\s]|\.|-|\:|\;)+)?|(tel):((?:[^\W\s]|[\.\-_~!$&'()\*\+,;=])+))?(?:(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+|localhost(?=\/)|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\r\n\?]*[\/]{1})*?(?:\/?([^\r\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?))?(?:\?{1}([^\s\n\#\[\]]*))?(?:[\#]([^\s\n]*))?\)?$/i,y=/^(?:https?|ftp):\/\/|(?:mailto|skype|skype-meetnow|skypewin|tel|callto|ms-voip-call|ms-voip-video|ms-ipmessaging):/i,C=/\b(?:[^\W\s]|\.|-|[:]{1})+@{1}(?:[^\W\s]|\.|-)+/i,v=/^chat|channel|call|golive|buycredit|action|home/i,b=/^[a-z-]+:/i,T=/^https:\/\/join.skype.com\/(?:[^\W_]){12}$/,P=/^https:\/\/join.skype.com\/invite\/(?:[^\W_]){12}$/,k={"ms-voip-call":m.UrlType.VoipAudio,"ms-voip-video":m.UrlType.VoipVideo,"ms-ipmessaging":m.UrlType.Messaging};class A{static isUrlValid(e){if(!e)return!1;const t=this.getURIComponents(e);return this._isComponentsValid(t)}static removeHost(e){const t=this.getURIComponents(e);if(!t||!this._isComponentsValid(t))return e;let i="";return t.pathname&&(i+=t.pathname),t.queryParameterString&&(i+="?"+t.queryParameterString),t.fragment&&(i+="#"+t.fragment),i}static _isComponentsValid(e){if(!e)return!1;const{port:t,protocol:i,emailName:o,host:n}=e,a=t?parseInt(t,10):void 0,s=i&&r.includes(["http","https","ftp","onenote"],i),l=e.type===m.UrlType.Email&&o,c=n&&-1===n.indexOf("..")&&"."!==r.head(n)&&"."!==r.last(n),d=void 0!==a&&a>=0&&a<=65535,u=!r.isFinite(a)||d;return!(!s&&!l||!u||!c&&e.type!==m.UrlType.OneNote)||(e.type===m.UrlType.SkypeWin||(!!this._isSkypeUrlComponentsValid(e)||(!!this._isPhoneUrlComponentsValid(e)||(!!this._isCommsUrlComponentsValid(e)||!!this.isContactUrlComponentsValid(e)))))}static isContactUrlComponentsValid(e){return!!e&&"content"===e.protocol&&("com.android.contacts"===e.host||!!e.pathname&&e.pathname.indexOf("com.android.contacts")>-1)}static _isSkypeUrlComponentsValid(e){return!(!e||e.type!==m.UrlType.Skype&&e.type!==m.UrlType.Winshell||e.queryParameterString&&!v.test(e.queryParameterString))}static _isPhoneUrlComponentsValid(e){return r.includes([m.UrlType.Tel,m.UrlType.CallTo],null==e?void 0:e.type)&&p.default.isPossiblyPhoneNumber(e.telNumber)}static _isCommsUrlComponentsValid(e){return!(!e||!r.includes([m.UrlType.Messaging,m.UrlType.VoipAudio,m.UrlType.VoipVideo],e.type))}static getDomainName(e){const t=this.getURIComponents(e);return t&&t.host?this.buildUrl(t.protocol,t.host):(c.log(l.LogTraceArea.UrlUtils,"getDomainName: Found no components for url: "+e),"")}static getHost(e){const t=this.getURIComponents(e);if(t)return t.host;c.log(l.LogTraceArea.UrlUtils,"getHost: Found no components for url: "+e)}static getIDNSafeUrl(e){let t=this.getURIComponents(e);if(!t||!this._isComponentsValid(t)||!t.host){c.log(l.LogTraceArea.UrlUtils,"getIDNSafeUrl: Parsing failed converting to ASCII.");const i=s.toASCII(e.toLowerCase());if(t=this.getURIComponents(i),!t||!this._isComponentsValid(t)||!t.host)return e}if(t.type===m.UrlType.Email)return s.toASCII(e.toLowerCase());if(t.type===m.UrlType.Web)try{let i=t.host;t.port&&(i=t.host.replace(`:${t.port}`,""));const o=s.toUnicode(i),n=s.toASCII(i.toLowerCase()),r=new RegExp(o,"i");return e.replace(r,n)}catch(e){c.log(l.LogTraceArea.UrlUtils,"getIDNSafeUrl: "+g.default.errorAsString(e))}return e}static getProtocol(e){const t=this.getURIComponents(e);if(t)return t.protocol;c.log(l.LogTraceArea.UrlUtils,"getProtocol: Found no components for url: "+e)}static normalizeUrlProtocol(e){const t=this.getProtocol(e);if(t){const i=new RegExp(t,"i");return e.replace(i,t)}}static createSanitizedHref(e){let t=this.getIDNSafeUrl(e);const i=this.getURIComponents(t);if(!i||!this._isComponentsValid(i))return void c.log(l.LogTraceArea.UrlUtils,"createSanitizedHref: No valid components: "+JSON.stringify(i)+", URL: "+e);let o;if(!i.queryParameterString&&!i.fragment){const e=t;t=r.trimEnd(t,".-:;?"),o=e.substring(t.length)}const n=t;return i.type===m.UrlType.Email?t=/^mailto:/i.test(t)?t:"mailto:"+t:i.host&&(t=/^w{3}\./i.test(t)?"https://"+t:t),{href:t,text:n,trailingCharacters:o,urlType:i.type}}static sanitizeUrl(e){const t=this.createSanitizedHref(e);return t?t.href:void 0}static amendUri(e){return y.test(e)||(C.test(e)?e=/^mailto:/i.test(e)?e:"mailto:"+e:/^w{3}\./i.test(e)&&(e="https://"+e)),e}static getURIComponents(e){if(!e)return;e=this.amendUri(e);const t=this._syncGetUriComponents(e);if(t){if(t.pathname&&"/"===r.head(t.pathname)&&(t.pathname=t.pathname.substring(1)),t.pathname&&"/"!==r.last(t.pathname)&&(t.pathname=t.pathname+"/"),t.pathname||t.queryParameterString||t.fragment||(t.host=r.trimEnd(t.host,".-"),t.skypeParticipants=r.trimEnd(t.skypeParticipants,".-:;")),t.queryParameterString){const e=S.default.unescapeXml(t.queryParameterString).split("&"),i=this.parseParameterPairs(e);if(i.foundInvalidParameter)return;t.queryParameterKeyValues=i.parameterKeyValues}else t.queryParameterKeyValues={};if(r.includes([m.UrlType.Messaging,m.UrlType.VoipAudio,m.UrlType.VoipVideo],t.type)){const e=t.queryParameterKeyValues.ContactRemoteIds;e&&(t.skypeParticipants=r.replace(e,",",";"))}return t}c.log(l.LogTraceArea.UrlUtils,"getURIComponents: Parsing failed for uri: "+e)}static parseParameterPairs(e){const t={};let i=!1;return r.each(e,(e=>{const o=e.indexOf("="),n=-1===o?e.length:o,a=r.attempt((()=>decodeURIComponent(e.substring(0,n)))),s=r.attempt((()=>decodeURIComponent(e.substring(n+1))));r.isError(a)||r.isError(s)?i=!0:t[a]=s})),{parameterKeyValues:t,foundInvalidParameter:i}}static getUrlParamsInFragment(e){const t=e.indexOf("#");if(-1===t)return;const i=e.substring(t+1).split("&"),{parameterKeyValues:o}=this.parseParameterPairs(i);return o||{}}static getUrlParameterValue(e,t,i=!1){if(this.isUrlValid(e)){const o=this._getUrlParameterRegularExpress(t),n=e.match(o);if(n&&n.length>=3)return i?decodeURIComponent(n[2]):n[2]}}static addUrlParameter(e,t,i,o,n){if(o||this.isUrlValid(e)){const o=e.indexOf("#"),a=-1===o?"":e.substring(o),s=(e=-1===o?e:e.substring(0,o)).indexOf("?");let l=e,c="";-1!==s&&(l=e.slice(0,s),c=e.slice(s,e.length));const d=this._getUrlParameterRegularExpress(t);if(i)if(!n&&c.match(d))c=c.replace(d,"$1"+t+"="+i);else{c=c+(-1!==e.indexOf("?")?"&":"?")+t+"="+i}else if(""!==c){const e=new RegExp("([?&])"+t+"=[^&#/]*","i");c=c.replace(e,""),"?"!==r.head(c)&&(c=c.replace(/&/,"?"))}return l+c+a}return e}static _getUrlParameterRegularExpress(e){return new RegExp("([?&])"+e+"=([^\\s\\n&#/]*)","i")}static addUrlParameters(e,t,i){let o=e;return r.forOwn(t,((e,t)=>{o=A.addUrlParameter(o,t,e,i)})),o}static isHttp(e){const t=A.getURIComponents(e);return!!t&&(!!e&&/^https?/i.test(t.protocol))}static isPdfUrl(e){const t=this.getURIComponents(e);return!!(t&&this._isComponentsValid(t)&&this.isHttp(e))&&(!!t.pathname&&r.endsWith(r.trimEnd(t.pathname,"/"),".pdf"))}static isGifUrl(e){const t=this.getURIComponents(e);return!!(t&&this._isComponentsValid(t)&&this.isHttp(e))&&(!!t.pathname&&r.endsWith(r.trimEnd(t.pathname,"/"),".gif"))}static isFile(e){return r.startsWith(e,"file:")||r.startsWith(e,"urn:future-access-list:")}static isFileOrBlob(e){return A.isFile(e)||r.startsWith(e,"blob:")||r.startsWith(e,"ph:")}static getFileUrl(e){let t;const i=e.file;if(i&&i.uri)t=i.uri;else{const i=e.file;t=URL.createObjectURL(i)}return t}static appendLanguageUrlParameter(e){return A.addUrlParameter(e,"lang",encodeURIComponent(u.getLocale()))}static areUrlsSame(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=A.getURIComponents(e);if(!i)return!1;const o=A.getURIComponents(t);return!!o&&(i.protocol===o.protocol&&i.host===o.host&&i.port===o.port&&i.pathname===o.pathname&&(0,d.default)(i.queryParameterKeyValues,o.queryParameterKeyValues))}static urlContains(e,t,i){const o=i||{compareQueryParamValues:!1};if(e===t)return!0;if(!e||!t)return!1;const n=A.getURIComponents(e);if(!n)return!1;const a=A.getURIComponents(t);if(!a)return!1;if(n.protocol!==a.protocol||n.host!==a.host||n.port!==a.port)return!1;if(this._getUrlType(n.protocol)!==this._getUrlType(a.protocol)||this._getUrlType(n.protocol)!==m.UrlType.Web)return!1;if(!r.isEmpty(a.pathname)&&a.pathname!==n.pathname)return!1;const s=r.keys(a.queryParameterKeyValues);return!(!r.isEmpty(a.queryParameterKeyValues)&&r.intersection(r.keys(n.queryParameterKeyValues),s).length!==s.length)&&!(o.compareQueryParamValues&&!r.isEmpty(a.queryParameterKeyValues)&&r.some(s,(e=>a.queryParameterKeyValues[e]!==n.queryParameterKeyValues[e])))}static areHostsSame(e,t){return!!e&&!!t&&e.host===t.host}static isSkypeUrl(e){if(!this.isUrlValid(e))return!1;const t=this.getHost(e);return r.endsWith(t,".skype.com")||r.endsWith(t,".skype.net")}static isSkypeDeepLinkUrl(e){const t=this.getURIComponents(e);let i=!1;if(t){const e=t.pathname?r.compact(t.pathname.split("/")):[];i=(t.host&&t.host.toLowerCase())===h.default.getFrontendHost()&&1===e.length}return i}static isJoinLinkUrl(e){return T.test(e)}static isBuddyLinkUrl(e){return P.test(e)}static _syncGetUriComponents(e){let t,i;if(e=(e=e.replace(/^skype:\/\//,"skype:")).replace(/^skype-meetnow:\/\//,"skype-meetnow:"),"undefined"!=typeof document&&"function"==typeof document.createElement){if(!b.test(e))return void c.log(l.LogTraceArea.UrlUtils,"_syncGetUriComponents: non-standard URI: "+n.pii.Omit(e));const o=document.createElement("a");o.setAttribute("href",e);let a=r.attempt((()=>o.protocol));if(r.isError(a))return void c.log(l.LogTraceArea.UrlUtils,"_syncGetUriComponents: Error accessing protocol "+a+", uri:"+e);if(!a)return void c.log(l.LogTraceArea.UrlUtils,"_syncGetUriComponents: URI does not have protocol: "+e);a=r.toLower(r.trimEnd(o.protocol,":"));const s=this._getUrlType(a);i=o.pathname,t={type:s,protocol:a,host:o.host,port:o.port,queryParameterString:r.trimStart(o.search,"?"),fragment:r.trimStart(o.hash,"#")}}else{0;const o=a.default.syncGetUriComponents(e);if(!o)return;const n=r.toLower(o.protocol),s=this._getUrlType(n);i=o.path,t={type:s,protocol:n,host:o.host,port:o.port,queryParameterString:o.query,fragment:o.fragment}}if(i)if(t.type===m.UrlType.Email){const e=i.indexOf("@");t.emailName=i.substring(0,e),t.host=i.substring(e+1)}else if(t.type===m.UrlType.Skype)t.skypeParticipants=i;else if(t.type===m.UrlType.Tel||t.type===m.UrlType.CallTo){const e=i.split("&")[0],o=g.default.safeDecodeURIComponent(e);t.telNumber=o?p.default.getNormalizedPhoneNumber(o,!0):void 0}else t.pathname=i;return t}static _regexGetUriComponents(e){const t=f.exec(e);if(!t)return;let i=m.UrlType.Web;const o=t[_.Host],n=t[_.EmailName],a=!!t[_.MailtoLiteral]||!!n,s=!!t[_.SkypeLiteral],l=!!t[_.TelLiteral],c=!!t[_.MsProtocol],d=!!t[_.SkypeWinProtocol],u=!!t[_.Winshell];let g,h;a?i=m.UrlType.Email:s?(i=m.UrlType.Skype,g=t[_.SkypeParticipants]):l?(i=m.UrlType.Tel,h=p.default.getNormalizedPhoneNumber(t[_.TelParticipants],!0)):c?i=k[t[_.MsProtocol]]:d?i=m.UrlType.SkypeWin:u&&(i=m.UrlType.Winshell);const S=t[_.QueryParameters],y=t[_.Fragment],C=t[_.Protocol]?t[_.Protocol].toLowerCase():!a&&o&&/^w{3}\./i.test(o)?"http":"",v=r.compact([t[_.PathBeforeLastSlash],t[_.PathAfterLastSlash],t[_.PathAfterLastDot]]).join("");return{protocol:C,type:i,skypeParticipants:g,telNumber:h,emailName:n,host:o,port:t[_.Port],pathname:v,queryParameterString:S,fragment:y}}static _getUrlType(e){return e?"mailto"===(e=e.toLowerCase())?m.UrlType.Email:"skype"===e?m.UrlType.Skype:"skype-meetnow"===e?m.UrlType.Winshell:"tel"===e?m.UrlType.Tel:"callto"===e?m.UrlType.CallTo:"ms-voip-call"===e?m.UrlType.VoipAudio:"ms-voip-video"===e?m.UrlType.VoipVideo:"ms-ipmessaging"===e?m.UrlType.Messaging:"skypewin"===e?m.UrlType.SkypeWin:r.includes(["http","https"],e)?m.UrlType.Web:"onenote"===e?m.UrlType.OneNote:m.UrlType.Unknown:m.UrlType.Unknown}static buildUrl(e,t){return e+"://"+t}static test_syncGetUriComponents(e){return this._syncGetUriComponents(e)}static test_regexGetUriComponents(e){return this._regexGetUriComponents(e)}}t.default=A},715405:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateCorrelationVector=function(){return btoa(String.fromCharCode.apply(void 0,Array.from(Array(16),(e=>255*Math.random())))).substring(0,22)+".0"}},677869:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SKYPE_THEME_PRIMARY_COLORS=t.SKYPE_THEME_COLORS=t.USER_COLOR_GRADIENTS=void 0;const o=i(938827),n={textPrimary:o.SkypeColor.gray900,textSecondary:o.SkypeColor.gray500,textHint:o.SkypeColor.gray400,textDisabled:o.SkypeColor.gray300,textOnColor:o.SkypeColor.white,textChat:o.SkypeColor.gray900,textSuccess:o.SkypeColor.successLight,textWarning:o.SkypeColor.warningLight,textDanger:o.SkypeColor.dangerLight,textAccentFixed:o.SkypeColor.blueLightTint10,textLightFixed:o.SkypeColor.gray100,textDarkFixed:o.SkypeColor.gray900,iconPrimary:o.SkypeColor.gray900,iconSecondary:o.SkypeColor.gray500,iconHint:o.SkypeColor.gray400,iconDisabled:o.SkypeColor.gray300,iconOnColor:o.SkypeColor.white,iconInteractive:o.SkypeColor.blueLightPrimary,iconSuccess:o.SkypeColor.successLight,iconWarning:o.SkypeColor.warningLight,iconDanger:o.SkypeColor.dangerLight,iconAccentFixed:o.SkypeColor.blueLightTint10,iconLightFixed:o.SkypeColor.gray100,iconDarkFixed:o.SkypeColor.gray900,surfaceAccentFixed:o.SkypeColor.blueLightPrimary,surfacePrimary:o.SkypeColor.white,surfaceDanger:o.SkypeColor.SecondaryDanger500,surfaceSecondary:o.SkypeColor.gray50,surfaceSecondaryActive:o.SkypeColor.gray100,surfaceSuccess:o.SkypeColor.SecondarySuccess500,surfaceTertiary:o.SkypeColor.gray200,surfaceQuaternary:o.SkypeColor.gray25,surfaceRaisedFill:o.SkypeColor.gray400,surfaceOnAccent:o.SkypeColor.white,surfaceDisabled:o.SkypeColor.gray50,surfaceAltFill:o.SkypeColor.white,surfaceOverlayFixed:o.SkypeColor.gray92560p,surfacePlaceholderFixed:o.SkypeColor.white60p,surfaceInverse:o.SkypeColor.gray950,surfaceLightFixed:o.SkypeColor.white,surfaceDarkFixed:o.SkypeColor.gray925,strokeDarkFixed:o.SkypeColor.black,surfaceWarning:o.SkypeColor.SecondaryWarning500,dividerPrimary:o.SkypeColor.gray100,strokeDisabled:o.SkypeColor.gray100,strokeAvatar:o.SkypeColor.black6p,strokePrimary:o.SkypeColor.gray500,strokeSecondary:o.SkypeColor.gray200,strokeHighContrast:o.SkypeColor.black0p,strokeOnAccentFixed:o.SkypeColor.gray100,strokeDanger:o.SkypeColor.dangerLight,secondarySuccessForeground:o.SkypeColor.successLight,secondaryDangerForeground:o.SkypeColor.dangerLight,secondaryDangerBackground:o.SkypeColor.dangerBackgroundLight,presenceInvisible:o.SkypeColor.presenceInvisibleLight,category1:o.SkypeColor.blueLightPrimary,category2:o.SkypeColor.greenLightPrimary,category3:o.SkypeColor.indigoLightPrimary,category4:o.SkypeColor.tealLightPrimary,category5:o.SkypeColor.orangeLightPrimary,category6:o.SkypeColor.purpleLightPrimary,category7:o.SkypeColor.pinkLightPrimary,category8:o.SkypeColor.yellowLightPrimary},r={textPrimary:o.SkypeColor.gray100,textSecondary:o.SkypeColor.gray300,textHint:o.SkypeColor.gray400,textDisabled:o.SkypeColor.gray500,textOnColor:o.SkypeColor.black,textChat:o.SkypeColor.white,textSuccess:o.SkypeColor.successDark,textWarning:o.SkypeColor.warningDark,textDanger:o.SkypeColor.dangerDark,textAccentFixed:o.SkypeColor.blueLightTint10,textLightFixed:o.SkypeColor.gray100,textDarkFixed:o.SkypeColor.gray900,iconPrimary:o.SkypeColor.gray100,iconSecondary:o.SkypeColor.gray300,iconHint:o.SkypeColor.gray400,iconDisabled:o.SkypeColor.gray500,iconOnColor:o.SkypeColor.black,iconInteractive:o.SkypeColor.blueDarkPrimary,iconSuccess:o.SkypeColor.successDark,iconWarning:o.SkypeColor.warningDark,iconDanger:o.SkypeColor.dangerDark,iconAccentFixed:o.SkypeColor.blueLightTint10,iconLightFixed:o.SkypeColor.gray100,iconDarkFixed:o.SkypeColor.gray900,surfaceAccentFixed:o.SkypeColor.blueLightPrimary,surfacePrimary:o.SkypeColor.gray950,surfaceDanger:o.SkypeColor.SecondaryDanger40,surfaceSecondary:o.SkypeColor.gray800,surfaceSecondaryActive:o.SkypeColor.gray900,surfaceSuccess:o.SkypeColor.SecondarySuccess40,surfaceTertiary:o.SkypeColor.gray600,surfaceQuaternary:o.SkypeColor.gray900,surfaceRaisedFill:o.SkypeColor.gray600,surfaceOnAccent:o.SkypeColor.gray950,surfaceDisabled:o.SkypeColor.gray700,surfaceAltFill:o.SkypeColor.gray800,surfaceOverlayFixed:o.SkypeColor.gray92560p,surfacePlaceholderFixed:o.SkypeColor.white60p,surfaceInverse:o.SkypeColor.gray25,surfaceLightFixed:o.SkypeColor.white,surfaceDarkFixed:o.SkypeColor.gray925,surfaceWarning:o.SkypeColor.SecondaryWarning40,dividerPrimary:o.SkypeColor.gray800,strokeDisabled:o.SkypeColor.gray600,strokeAvatar:o.SkypeColor.white20p,strokePrimary:o.SkypeColor.gray400,strokeSecondary:o.SkypeColor.gray400,strokeHighContrast:o.SkypeColor.white0p,strokeOnAccentFixed:o.SkypeColor.gray100,strokeDanger:o.SkypeColor.dangerDark,strokeDarkFixed:o.SkypeColor.black,secondarySuccessForeground:o.SkypeColor.successDark,secondaryDangerForeground:o.SkypeColor.dangerDark,secondaryDangerBackground:o.SkypeColor.dangerBackgroundDark,presenceInvisible:o.SkypeColor.presenceInvisibleDark,category1:o.SkypeColor.blueDarkPrimary,category2:o.SkypeColor.greenDarkPrimary,category3:o.SkypeColor.indigoDarkPrimary,category4:o.SkypeColor.tealDarkPrimary,category5:o.SkypeColor.orangeDarkPrimary,category6:o.SkypeColor.purpleDarkPrimary,category7:o.SkypeColor.pinkDarkPrimary,category8:o.SkypeColor.yellowDarkPrimary},a={textOnAccent:o.SkypeColor.blueLightPrimary,textInteractive:o.SkypeColor.blueLightPrimary,textSecondaryInteractive:o.SkypeColor.blue150,textAvatar:o.SkypeColor.blueLightShade10,iconOnAccent:o.SkypeColor.blueLightPrimary,iconInteractive:o.SkypeColor.blueLightPrimary,iconSecondaryInteractive:o.SkypeColor.blue150,surfacePrimaryAccent:o.SkypeColor.blueLightTint50,surfaceAccent:o.SkypeColor.blueLightTint50,surfaceSecondaryAccent:o.SkypeColor.blue750,surfaceTertiaryAccent:o.SkypeColor.blueLightTint30,surfaceInteractive:o.SkypeColor.blueLightPrimary,surfaceInteractiveFill:o.SkypeColor.blueLightPrimary50p,strokeAccent:o.SkypeColor.blueLightPrimary50p,bubble:o.SkypeColor.blue800},s={textOnAccent:o.SkypeColor.blueDarkPrimary,textInteractive:o.SkypeColor.blueDarkPrimary,textSecondaryInteractive:o.SkypeColor.blue600,textAvatar:o.SkypeColor.blueDarkShade10,iconOnAccent:o.SkypeColor.blueDarkPrimary,iconInteractive:o.SkypeColor.blueDarkPrimary,iconSecondaryInteractive:o.SkypeColor.blue600,surfacePrimaryAccent:o.SkypeColor.blueDarkTint40,surfaceAccent:o.SkypeColor.blueDarkTint40,surfaceSecondaryAccent:o.SkypeColor.blue150,surfaceTertiaryAccent:o.SkypeColor.blueDarkTint30,surfaceInteractive:o.SkypeColor.blueDarkPrimary,surfaceInteractiveFill:o.SkypeColor.blueDarkPrimary50p,strokeAccent:o.SkypeColor.blueDarkPrimary50p,bubble:o.SkypeColor.blue100},l={textOnAccent:o.SkypeColor.orangeLightPrimary,textInteractive:o.SkypeColor.orangeLightPrimary,textSecondaryInteractive:o.SkypeColor.orange150,textAvatar:o.SkypeColor.orangeLightShade10,iconOnAccent:o.SkypeColor.orangeLightPrimary,iconInteractive:o.SkypeColor.orangeLightPrimary,iconSecondaryInteractive:o.SkypeColor.orange150,surfacePrimaryAccent:o.SkypeColor.orangeLightTint50,surfaceAccent:o.SkypeColor.orangeLightTint50,surfaceSecondaryAccent:o.SkypeColor.orange750,surfaceTertiaryAccent:o.SkypeColor.orangeLightTint30,surfaceInteractive:o.SkypeColor.orangeLightPrimary,surfaceInteractiveFill:o.SkypeColor.orangeLightPrimary50p,strokeAccent:o.SkypeColor.orangeLightPrimary50p,bubble:o.SkypeColor.orange800},c={textOnAccent:o.SkypeColor.orangeDarkPrimary,textInteractive:o.SkypeColor.orangeDarkPrimary,textSecondaryInteractive:o.SkypeColor.orange700,textAvatar:o.SkypeColor.orangeDarkShade10,iconOnAccent:o.SkypeColor.orangeDarkPrimary,iconInteractive:o.SkypeColor.orangeDarkPrimary,iconSecondaryInteractive:o.SkypeColor.orange700,surfacePrimaryAccent:o.SkypeColor.orangeDarkTint40,surfaceAccent:o.SkypeColor.orangeDarkTint40,surfaceSecondaryAccent:o.SkypeColor.orange150,surfaceTertiaryAccent:o.SkypeColor.orangeDarkTint30,surfaceInteractive:o.SkypeColor.orangeDarkPrimary,surfaceInteractiveFill:o.SkypeColor.orangeDarkPrimary50p,strokeAccent:o.SkypeColor.orangeDarkPrimary50p,bubble:o.SkypeColor.orange100},d={textOnAccent:o.SkypeColor.yellowLightPrimary,textInteractive:o.SkypeColor.yellowLightPrimary,textSecondaryInteractive:o.SkypeColor.yellow150,textAvatar:o.SkypeColor.yellowLightShade10,iconOnAccent:o.SkypeColor.yellowLightPrimary,iconInteractive:o.SkypeColor.yellowLightPrimary,iconSecondaryInteractive:o.SkypeColor.yellow150,surfacePrimaryAccent:o.SkypeColor.yellowLightTint50,surfaceAccent:o.SkypeColor.yellowLightTint50,surfaceSecondaryAccent:o.SkypeColor.yellow750,surfaceTertiaryAccent:o.SkypeColor.yellowLightTint30,surfaceInteractive:o.SkypeColor.yellowLightPrimary,surfaceInteractiveFill:o.SkypeColor.yellowLightPrimary50p,strokeAccent:o.SkypeColor.yellowLightPrimary50p,bubble:o.SkypeColor.yellow800},u={textOnAccent:o.SkypeColor.yellowDarkPrimary,textInteractive:o.SkypeColor.yellowDarkPrimary,textSecondaryInteractive:o.SkypeColor.yellow700,textAvatar:o.SkypeColor.yellowDarkShade10,iconOnAccent:o.SkypeColor.yellowDarkPrimary,iconInteractive:o.SkypeColor.yellowDarkPrimary,iconSecondaryInteractive:o.SkypeColor.yellow700,surfacePrimaryAccent:o.SkypeColor.yellowDarkTint40,surfaceAccent:o.SkypeColor.yellowDarkTint40,surfaceSecondaryAccent:o.SkypeColor.yellow150,surfaceTertiaryAccent:o.SkypeColor.yellowDarkTint30,surfaceInteractive:o.SkypeColor.yellowDarkPrimary,surfaceInteractiveFill:o.SkypeColor.yellowDarkPrimary50p,strokeAccent:o.SkypeColor.yellowDarkPrimary50p,bubble:o.SkypeColor.yellow100},p={textOnAccent:o.SkypeColor.greenLightPrimary,textInteractive:o.SkypeColor.greenLightPrimary,textSecondaryInteractive:o.SkypeColor.green150,textAvatar:o.SkypeColor.greenLightShade10,iconOnAccent:o.SkypeColor.greenLightPrimary,iconInteractive:o.SkypeColor.greenLightPrimary,iconSecondaryInteractive:o.SkypeColor.green150,surfacePrimaryAccent:o.SkypeColor.greenLightTint50,surfaceAccent:o.SkypeColor.greenLightTint50,surfaceSecondaryAccent:o.SkypeColor.green750,surfaceTertiaryAccent:o.SkypeColor.greenLightTint30,surfaceInteractive:o.SkypeColor.greenLightPrimary,surfaceInteractiveFill:o.SkypeColor.greenLightPrimary50p,strokeAccent:o.SkypeColor.greenLightPrimary50p,bubble:o.SkypeColor.green800},g={textOnAccent:o.SkypeColor.greenDarkPrimary,textInteractive:o.SkypeColor.greenDarkPrimary,textSecondaryInteractive:o.SkypeColor.green700,textAvatar:o.SkypeColor.greenDarkShade10,iconOnAccent:o.SkypeColor.greenDarkPrimary,iconInteractive:o.SkypeColor.greenDarkPrimary,iconSecondaryInteractive:o.SkypeColor.green700,surfacePrimaryAccent:o.SkypeColor.greenDarkTint40,surfaceAccent:o.SkypeColor.greenDarkTint40,surfaceSecondaryAccent:o.SkypeColor.green150,surfaceTertiaryAccent:o.SkypeColor.greenDarkTint30,surfaceInteractive:o.SkypeColor.greenDarkPrimary,surfaceInteractiveFill:o.SkypeColor.greenDarkPrimary50p,strokeAccent:o.SkypeColor.greenDarkPrimary50p,bubble:o.SkypeColor.green100},h={textOnAccent:o.SkypeColor.tealLightPrimary,textInteractive:o.SkypeColor.tealLightPrimary,textSecondaryInteractive:o.SkypeColor.teal150,textAvatar:o.SkypeColor.tealLightShade10,iconOnAccent:o.SkypeColor.tealLightPrimary,iconInteractive:o.SkypeColor.tealLightPrimary,iconSecondaryInteractive:o.SkypeColor.teal150,surfacePrimaryAccent:o.SkypeColor.tealLightTint50,surfaceAccent:o.SkypeColor.tealLightTint50,surfaceSecondaryAccent:o.SkypeColor.teal750,surfaceTertiaryAccent:o.SkypeColor.tealLightTint30,surfaceInteractive:o.SkypeColor.tealLightPrimary,surfaceInteractiveFill:o.SkypeColor.tealLightPrimary50p,strokeAccent:o.SkypeColor.tealLightPrimary50p,bubble:o.SkypeColor.teal800},m={textOnAccent:o.SkypeColor.tealDarkPrimary,textInteractive:o.SkypeColor.tealDarkPrimary,textSecondaryInteractive:o.SkypeColor.teal700,textAvatar:o.SkypeColor.tealDarkShade10,iconOnAccent:o.SkypeColor.tealDarkPrimary,iconInteractive:o.SkypeColor.tealDarkPrimary,iconSecondaryInteractive:o.SkypeColor.teal700,surfacePrimaryAccent:o.SkypeColor.tealDarkTint40,surfaceAccent:o.SkypeColor.tealDarkTint40,surfaceSecondaryAccent:o.SkypeColor.teal150,surfaceTertiaryAccent:o.SkypeColor.tealDarkTint30,surfaceInteractive:o.SkypeColor.tealDarkPrimary,surfaceInteractiveFill:o.SkypeColor.tealDarkPrimary50p,strokeAccent:o.SkypeColor.tealDarkPrimary50p,bubble:o.SkypeColor.teal100},S={textOnAccent:o.SkypeColor.indigoLightPrimary,textInteractive:o.SkypeColor.indigoLightPrimary,textSecondaryInteractive:o.SkypeColor.indigo250,textAvatar:o.SkypeColor.indigoLightShade10,iconOnAccent:o.SkypeColor.indigoLightPrimary,iconInteractive:o.SkypeColor.indigoLightPrimary,iconSecondaryInteractive:o.SkypeColor.indigo250,surfacePrimaryAccent:o.SkypeColor.indigoLightTint50,surfaceAccent:o.SkypeColor.indigoLightTint50,surfaceSecondaryAccent:o.SkypeColor.indigo750,surfaceTertiaryAccent:o.SkypeColor.indigoLightTint30,surfaceInteractive:o.SkypeColor.indigoLightPrimary,surfaceInteractiveFill:o.SkypeColor.indigoLightPrimary50p,strokeAccent:o.SkypeColor.indigoLightPrimary50p,bubble:o.SkypeColor.indigo800},_={textOnAccent:o.SkypeColor.indigoDarkPrimary,textInteractive:o.SkypeColor.indigoDarkPrimary,textSecondaryInteractive:o.SkypeColor.indigo700,textAvatar:o.SkypeColor.indigoDarkShade10,iconOnAccent:o.SkypeColor.indigoDarkPrimary,iconInteractive:o.SkypeColor.indigoDarkPrimary,iconSecondaryInteractive:o.SkypeColor.indigo700,surfacePrimaryAccent:o.SkypeColor.indigoDarkTint40,surfaceAccent:o.SkypeColor.indigoDarkTint40,surfaceSecondaryAccent:o.SkypeColor.indigo150,surfaceTertiaryAccent:o.SkypeColor.indigoDarkTint30,surfaceInteractive:o.SkypeColor.indigoDarkPrimary,surfaceInteractiveFill:o.SkypeColor.indigoDarkPrimary50p,strokeAccent:o.SkypeColor.indigoDarkPrimary50p,bubble:o.SkypeColor.indigo100},f={textOnAccent:o.SkypeColor.purpleLightPrimary,textInteractive:o.SkypeColor.purpleLightPrimary,textSecondaryInteractive:o.SkypeColor.purple250,textAvatar:o.SkypeColor.purpleLightShade10,iconOnAccent:o.SkypeColor.purpleLightPrimary,iconInteractive:o.SkypeColor.purpleLightPrimary,iconSecondaryInteractive:o.SkypeColor.purple250,surfacePrimaryAccent:o.SkypeColor.purpleLightTint50,surfaceAccent:o.SkypeColor.purpleLightTint50,surfaceSecondaryAccent:o.SkypeColor.purple750,surfaceTertiaryAccent:o.SkypeColor.purpleLightTint30,surfaceInteractive:o.SkypeColor.purpleLightPrimary,surfaceInteractiveFill:o.SkypeColor.purpleLightPrimary50p,strokeAccent:o.SkypeColor.purpleLightPrimary50p,bubble:o.SkypeColor.purple800},y={textOnAccent:o.SkypeColor.purpleDarkPrimary,textInteractive:o.SkypeColor.purpleDarkPrimary,textSecondaryInteractive:o.SkypeColor.purple700,textAvatar:o.SkypeColor.purpleDarkShade10,iconOnAccent:o.SkypeColor.purpleDarkPrimary,iconInteractive:o.SkypeColor.purpleDarkPrimary,iconSecondaryInteractive:o.SkypeColor.purple700,surfacePrimaryAccent:o.SkypeColor.purpleDarkTint40,surfaceAccent:o.SkypeColor.purpleDarkTint40,surfaceSecondaryAccent:o.SkypeColor.purple150,surfaceTertiaryAccent:o.SkypeColor.purpleDarkTint30,surfaceInteractive:o.SkypeColor.purpleDarkPrimary,surfaceInteractiveFill:o.SkypeColor.purpleDarkPrimary50p,strokeAccent:o.SkypeColor.purpleDarkPrimary50p,bubble:o.SkypeColor.purple100},C={textOnAccent:o.SkypeColor.pinkLightPrimary,textInteractive:o.SkypeColor.pinkLightPrimary,textSecondaryInteractive:o.SkypeColor.pink150,textAvatar:o.SkypeColor.pinkLightShade10,iconOnAccent:o.SkypeColor.pinkLightPrimary,iconInteractive:o.SkypeColor.pinkLightPrimary,iconSecondaryInteractive:o.SkypeColor.pink150,surfacePrimaryAccent:o.SkypeColor.pinkLightTint50,surfaceAccent:o.SkypeColor.pinkLightTint50,surfaceSecondaryAccent:o.SkypeColor.pink750,surfaceTertiaryAccent:o.SkypeColor.pinkLightTint30,surfaceInteractive:o.SkypeColor.pinkLightPrimary,surfaceInteractiveFill:o.SkypeColor.pinkLightPrimary50p,strokeAccent:o.SkypeColor.pinkLightPrimary50p,bubble:o.SkypeColor.pink800},v={textOnAccent:o.SkypeColor.pinkDarkPrimary,textInteractive:o.SkypeColor.pinkDarkPrimary,textSecondaryInteractive:o.SkypeColor.pink700,textAvatar:o.SkypeColor.pinkDarkShade10,iconOnAccent:o.SkypeColor.pinkDarkPrimary,iconInteractive:o.SkypeColor.pinkDarkPrimary,iconSecondaryInteractive:o.SkypeColor.pink700,surfacePrimaryAccent:o.SkypeColor.pinkDarkTint40,surfaceAccent:o.SkypeColor.pinkDarkTint40,surfaceSecondaryAccent:o.SkypeColor.pink150,surfaceTertiaryAccent:o.SkypeColor.pinkDarkTint30,surfaceInteractive:o.SkypeColor.pinkDarkPrimary,surfaceInteractiveFill:o.SkypeColor.pinkDarkPrimary50p,strokeAccent:o.SkypeColor.pinkDarkPrimary50p,bubble:o.SkypeColor.pink100},b={textOnAccent:o.SkypeColor.gray900,textPrimary:o.SkypeColor.gray900,textInteractive:o.SkypeColor.blueLightPrimary,textSecondaryInteractive:o.SkypeColor.blue250,textAvatar:o.SkypeColor.blueLightShade10,iconOnAccent:o.SkypeColor.gray900,iconInteractive:o.SkypeColor.blueLightPrimary,iconSecondaryInteractive:o.SkypeColor.blue250,surfacePrimaryAccent:o.SkypeColor.blueLightTint50,surfaceAccent:o.SkypeColor.white,surfaceOnAccent:o.SkypeColor.gray50,surfaceSecondaryAccent:o.SkypeColor.blue750,surfaceTertiaryAccent:o.SkypeColor.blueLightTint30,surfaceInteractive:o.SkypeColor.blueLightPrimary,surfaceInteractiveFill:o.SkypeColor.blueLightPrimary50p,strokeAccent:o.SkypeColor.blueLightPrimary50p,bubble:o.SkypeColor.classicBubbleLight},T={textOnAccent:o.SkypeColor.gray100,textPrimary:o.SkypeColor.gray100,textInteractive:o.SkypeColor.blueDarkPrimary,textSecondaryInteractive:o.SkypeColor.blue600,textAvatar:o.SkypeColor.blueDarkShade10,iconOnAccent:o.SkypeColor.gray100,iconInteractive:o.SkypeColor.blueDarkPrimary,iconSecondaryInteractive:o.SkypeColor.blue600,surfacePrimaryAccent:o.SkypeColor.blueDarkTint40,surfaceAccent:o.SkypeColor.gray900,surfaceOnAccent:o.SkypeColor.gray800,surfaceSecondaryAccent:o.SkypeColor.blue150,surfaceTertiaryAccent:o.SkypeColor.blueDarkTint30,surfaceInteractive:o.SkypeColor.blueDarkPrimary,surfaceInteractiveFill:o.SkypeColor.blueDarkPrimary50p,strokeAccent:o.SkypeColor.blueDarkPrimary50p,bubble:o.SkypeColor.classicBubbleDark},P={textOnAccent:o.SkypeColor.black,textPrimary:o.SkypeColor.black,textSecondary:o.SkypeColor.black,textSecondaryInteractive:o.SkypeColor.hyperlinkLight,textHint:o.SkypeColor.black,textDisabled:o.SkypeColor.disabledLight,textOnColor:o.SkypeColor.white,textInteractive:o.SkypeColor.hyperlinkLight,textChat:o.SkypeColor.black,textAvatar:o.SkypeColor.black,textSuccess:o.SkypeColor.highlightLight,textWarning:o.SkypeColor.highlightLight,textDanger:o.SkypeColor.highlightLight,textAccentFixed:o.SkypeColor.hyperlinkDark,textLightFixed:o.SkypeColor.white,textDarkFixed:o.SkypeColor.black,iconOnAccent:o.SkypeColor.black,iconPrimary:o.SkypeColor.black,iconSecondary:o.SkypeColor.black,iconSecondaryInteractive:o.SkypeColor.hyperlinkLight,iconHint:o.SkypeColor.black,iconDisabled:o.SkypeColor.disabledLight,iconOnColor:o.SkypeColor.white,iconInteractive:o.SkypeColor.highlightLight,iconSuccess:o.SkypeColor.highlightLight,iconWarning:o.SkypeColor.highlightLight,iconDanger:o.SkypeColor.highlightLight,iconAccentFixed:o.SkypeColor.hyperlinkDark,iconLightFixed:o.SkypeColor.white,iconDarkFixed:o.SkypeColor.black,surfaceAccent:o.SkypeColor.white,surfaceAccentFixed:o.SkypeColor.black,surfaceDanger:o.SkypeColor.NeutralWhite,surfaceWarning:o.SkypeColor.NeutralWhite,surfaceSuccess:o.SkypeColor.NeutralWhite,surfacePrimary:o.SkypeColor.white,surfacePrimaryAccent:o.SkypeColor.highlightLight,surfaceSecondary:o.SkypeColor.white,surfaceSecondaryActive:o.SkypeColor.highlightLight,surfaceSecondaryAccent:o.SkypeColor.white,surfaceTertiary:o.SkypeColor.black,surfaceTertiaryAccent:o.SkypeColor.white,surfaceQuaternary:o.SkypeColor.white,surfaceRaisedFill:o.SkypeColor.white,surfaceOnAccent:o.SkypeColor.white,surfaceInteractive:o.SkypeColor.hyperlinkLight,surfaceInteractiveFill:o.SkypeColor.white,surfaceDisabled:o.SkypeColor.disabledLight,surfaceAltFill:o.SkypeColor.white,surfaceOverlayFixed:o.SkypeColor.black,surfacePlaceholderFixed:o.SkypeColor.white,surfaceInverse:o.SkypeColor.black,surfaceLightFixed:o.SkypeColor.white,surfaceDarkFixed:o.SkypeColor.black,dividerPrimary:o.SkypeColor.black,strokeDisabled:o.SkypeColor.disabledLight,strokeAvatar:o.SkypeColor.black,strokeAccent:o.SkypeColor.hyperlinkLight,strokePrimary:o.SkypeColor.highlightLight,strokeSecondary:o.SkypeColor.hyperlinkLight,strokeHighContrast:o.SkypeColor.black,strokeHighContrastFixed:o.SkypeColor.white,strokeOnAccentFixed:o.SkypeColor.white,strokeDanger:o.SkypeColor.highlightLight,strokeDarkFixed:o.SkypeColor.black,category1:o.SkypeColor.hyperlinkLight,category2:o.SkypeColor.hyperlinkLight,category3:o.SkypeColor.hyperlinkLight,category4:o.SkypeColor.hyperlinkLight,category5:o.SkypeColor.hyperlinkLight,category6:o.SkypeColor.hyperlinkLight,category7:o.SkypeColor.hyperlinkLight,category8:o.SkypeColor.hyperlinkLight},k={textOnAccent:o.SkypeColor.white,textPrimary:o.SkypeColor.white,textSecondary:o.SkypeColor.white,textSecondaryInteractive:o.SkypeColor.hyperlinkDark,textHint:o.SkypeColor.white,textDisabled:o.SkypeColor.disabledDark,textOnColor:o.SkypeColor.black,textInteractive:o.SkypeColor.hyperlinkDark,textChat:o.SkypeColor.white,textAvatar:o.SkypeColor.white,textSuccess:o.SkypeColor.highlightDark,textWarning:o.SkypeColor.highlightDark,textDanger:o.SkypeColor.highlightDark,textAccentFixed:o.SkypeColor.hyperlinkDark,textLightFixed:o.SkypeColor.white,textDarkFixed:o.SkypeColor.black,iconOnAccent:o.SkypeColor.white,iconPrimary:o.SkypeColor.white,iconSecondary:o.SkypeColor.white,iconSecondaryInteractive:o.SkypeColor.hyperlinkDark,iconHint:o.SkypeColor.white,iconDisabled:o.SkypeColor.disabledDark,iconOnColor:o.SkypeColor.black,iconInteractive:o.SkypeColor.highlightDark,iconSuccess:o.SkypeColor.highlightDark,iconWarning:o.SkypeColor.highlightDark,iconDanger:o.SkypeColor.highlightDark,iconAccentFixed:o.SkypeColor.hyperlinkDark,iconLightFixed:o.SkypeColor.white,iconDarkFixed:o.SkypeColor.black,surfaceAccent:o.SkypeColor.black,surfaceAccentFixed:o.SkypeColor.black,surfaceDanger:o.SkypeColor.NeutralBlack,surfaceWarning:o.SkypeColor.NeutralBlack,surfaceSuccess:o.SkypeColor.NeutralBlack,surfacePrimary:o.SkypeColor.black,surfacePrimaryAccent:o.SkypeColor.highlightDark,surfaceSecondary:o.SkypeColor.black,surfaceSecondaryActive:o.SkypeColor.highlightDark,surfaceSecondaryAccent:o.SkypeColor.black,surfaceTertiary:o.SkypeColor.white,surfaceTertiaryAccent:o.SkypeColor.black,surfaceQuaternary:o.SkypeColor.black,surfaceRaisedFill:o.SkypeColor.black,surfaceOnAccent:o.SkypeColor.black,surfaceInteractive:o.SkypeColor.hyperlinkDark,surfaceInteractiveFill:o.SkypeColor.black,surfaceDisabled:o.SkypeColor.disabledDark,surfaceAltFill:o.SkypeColor.black,surfaceOverlayFixed:o.SkypeColor.black,surfacePlaceholderFixed:o.SkypeColor.white,surfaceInverse:o.SkypeColor.white,surfaceLightFixed:o.SkypeColor.white,surfaceDarkFixed:o.SkypeColor.black,dividerPrimary:o.SkypeColor.white,strokeDisabled:o.SkypeColor.disabledDark,strokeAvatar:o.SkypeColor.white,strokeAccent:o.SkypeColor.hyperlinkDark,strokePrimary:o.SkypeColor.highlightDark,strokeSecondary:o.SkypeColor.hyperlinkDark,strokeHighContrast:o.SkypeColor.white,strokeHighContrastFixed:o.SkypeColor.white,strokeOnAccentFixed:o.SkypeColor.white,strokeDanger:o.SkypeColor.highlightDark,strokeDarkFixed:o.SkypeColor.black,category1:o.SkypeColor.hyperlinkDark,category2:o.SkypeColor.hyperlinkDark,category3:o.SkypeColor.hyperlinkDark,category4:o.SkypeColor.hyperlinkDark,category5:o.SkypeColor.hyperlinkDark,category6:o.SkypeColor.hyperlinkDark,category7:o.SkypeColor.hyperlinkDark,category8:o.SkypeColor.hyperlinkDark},A={presenceOnline:[o.SkypeColor.presenceOnlineLightStop0,o.SkypeColor.presenceOnlineLightStop1],presenceAway:[o.SkypeColor.presenceAwayLightStop0,o.SkypeColor.presenceAwayLightStop1],presenceDnd:[o.SkypeColor.presenceDndLightStop0,o.SkypeColor.presenceDndLightStop1]},I={presenceOnline:[o.SkypeColor.presenceOnlineDarkStop0,o.SkypeColor.presenceOnlineDarkStop1],presenceAway:[o.SkypeColor.presenceAwayDarkStop0,o.SkypeColor.presenceAwayDarkStop1],presenceDnd:[o.SkypeColor.presenceDndDarkStop0,o.SkypeColor.presenceDndDarkStop1]};t.USER_COLOR_GRADIENTS={blue:{light:Object.assign(Object.assign({},A),{primary:[o.SkypeColor.blueGradientLightPrimaryStop0,o.SkypeColor.blueGradientLightPrimaryStop1],secondary:[o.SkypeColor.blueGradientLightSecondaryStop0,o.SkypeColor.blueGradientLightSecondaryStop1],tertiary:[o.SkypeColor.blueGradientLightTertiaryStop0,o.SkypeColor.blueGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[o.SkypeColor.blueGradientDarkPrimaryStop0,o.SkypeColor.blueGradientDarkPrimaryStop1],secondary:[o.SkypeColor.blueGradientDarkSecondaryStop0,o.SkypeColor.blueGradientDarkSecondaryStop1],tertiary:[o.SkypeColor.blueGradientDarkTertiaryStop0,o.SkypeColor.blueGradientDarkTertiaryStop1]})},orange:{light:Object.assign(Object.assign({},A),{primary:[o.SkypeColor.orangeGradientLightPrimaryStop0,o.SkypeColor.orangeGradientLightPrimaryStop1],secondary:[o.SkypeColor.orangeGradientLightSecondaryStop0,o.SkypeColor.orangeGradientLightSecondaryStop1],tertiary:[o.SkypeColor.orangeGradientLightTertiaryStop0,o.SkypeColor.orangeGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[o.SkypeColor.orangeGradientDarkPrimaryStop0,o.SkypeColor.orangeGradientDarkPrimaryStop1],secondary:[o.SkypeColor.orangeGradientDarkSecondaryStop0,o.SkypeColor.orangeGradientDarkSecondaryStop1],tertiary:[o.SkypeColor.orangeGradientDarkTertiaryStop0,o.SkypeColor.orangeGradientDarkTertiaryStop1]})},yellow:{light:Object.assign(Object.assign({},A),{primary:[o.SkypeColor.yellowGradientLightPrimaryStop0,o.SkypeColor.yellowGradientLightPrimaryStop1],secondary:[o.SkypeColor.yellowGradientLightSecondaryStop0,o.SkypeColor.yellowGradientLightSecondaryStop1],tertiary:[o.SkypeColor.yellowGradientLightTertiaryStop0,o.SkypeColor.yellowGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[o.SkypeColor.yellowGradientDarkPrimaryStop0,o.SkypeColor.yellowGradientDarkPrimaryStop1],secondary:[o.SkypeColor.yellowGradientDarkSecondaryStop0,o.SkypeColor.yellowGradientDarkSecondaryStop1],tertiary:[o.SkypeColor.yellowGradientDarkTertiaryStop0,o.SkypeColor.yellowGradientDarkTertiaryStop1]})},green:{light:Object.assign(Object.assign({},A),{primary:[o.SkypeColor.greenGradientLightPrimaryStop0,o.SkypeColor.greenGradientLightPrimaryStop1],secondary:[o.SkypeColor.greenGradientLightSecondaryStop0,o.SkypeColor.greenGradientLightSecondaryStop1],tertiary:[o.SkypeColor.greenGradientLightTertiaryStop0,o.SkypeColor.greenGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[o.SkypeColor.greenGradientDarkPrimaryStop0,o.SkypeColor.greenGradientDarkPrimaryStop1],secondary:[o.SkypeColor.greenGradientDarkSecondaryStop0,o.SkypeColor.greenGradientDarkSecondaryStop1],tertiary:[o.SkypeColor.greenGradientDarkTertiaryStop0,o.SkypeColor.greenGradientDarkTertiaryStop1]})},teal:{light:Object.assign(Object.assign({},A),{primary:[o.SkypeColor.tealGradientLightPrimaryStop0,o.SkypeColor.tealGradientLightPrimaryStop1],secondary:[o.SkypeColor.tealGradientLightSecondaryStop0,o.SkypeColor.tealGradientLightSecondaryStop1],tertiary:[o.SkypeColor.tealGradientLightTertiaryStop0,o.SkypeColor.tealGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[o.SkypeColor.tealGradientDarkPrimaryStop0,o.SkypeColor.tealGradientDarkPrimaryStop1],secondary:[o.SkypeColor.tealGradientDarkSecondaryStop0,o.SkypeColor.tealGradientDarkSecondaryStop1],tertiary:[o.SkypeColor.tealGradientDarkTertiaryStop0,o.SkypeColor.tealGradientDarkTertiaryStop1]})},indigo:{light:Object.assign(Object.assign({},A),{primary:[o.SkypeColor.indigoGradientLightPrimaryStop0,o.SkypeColor.indigoGradientLightPrimaryStop1],secondary:[o.SkypeColor.indigoGradientLightSecondaryStop0,o.SkypeColor.indigoGradientLightSecondaryStop1],tertiary:[o.SkypeColor.indigoGradientLightTertiaryStop0,o.SkypeColor.indigoGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[o.SkypeColor.indigoGradientDarkPrimaryStop0,o.SkypeColor.indigoGradientDarkPrimaryStop1],secondary:[o.SkypeColor.indigoGradientDarkSecondaryStop0,o.SkypeColor.indigoGradientDarkSecondaryStop1],tertiary:[o.SkypeColor.indigoGradientDarkTertiaryStop0,o.SkypeColor.indigoGradientDarkTertiaryStop1]})},purple:{light:Object.assign(Object.assign({},A),{primary:[o.SkypeColor.purpleGradientLightPrimaryStop0,o.SkypeColor.purpleGradientLightPrimaryStop1],secondary:[o.SkypeColor.purpleGradientLightSecondaryStop0,o.SkypeColor.purpleGradientLightSecondaryStop1],tertiary:[o.SkypeColor.purpleGradientLightTertiaryStop0,o.SkypeColor.purpleGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[o.SkypeColor.purpleGradientDarkPrimaryStop0,o.SkypeColor.purpleGradientDarkPrimaryStop1],secondary:[o.SkypeColor.purpleGradientDarkSecondaryStop0,o.SkypeColor.purpleGradientDarkSecondaryStop1],tertiary:[o.SkypeColor.purpleGradientDarkTertiaryStop0,o.SkypeColor.purpleGradientDarkTertiaryStop1]})},pink:{light:Object.assign(Object.assign({},A),{primary:[o.SkypeColor.pinkGradientLightPrimaryStop0,o.SkypeColor.pinkGradientLightPrimaryStop1],secondary:[o.SkypeColor.pinkGradientLightSecondaryStop0,o.SkypeColor.pinkGradientLightSecondaryStop1],tertiary:[o.SkypeColor.pinkGradientLightTertiaryStop0,o.SkypeColor.pinkGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[o.SkypeColor.pinkGradientDarkPrimaryStop0,o.SkypeColor.pinkGradientDarkPrimaryStop1],secondary:[o.SkypeColor.pinkGradientDarkSecondaryStop0,o.SkypeColor.pinkGradientDarkSecondaryStop1],tertiary:[o.SkypeColor.pinkGradientDarkTertiaryStop0,o.SkypeColor.pinkGradientDarkTertiaryStop1]})},classic:{light:Object.assign(Object.assign({},A),{primary:[o.SkypeColor.blueGradientLightPrimaryStop0,o.SkypeColor.blueGradientLightPrimaryStop1],secondary:[o.SkypeColor.blueGradientLightSecondaryStop0,o.SkypeColor.blueGradientLightSecondaryStop1],tertiary:[]}),dark:Object.assign(Object.assign({},I),{primary:[o.SkypeColor.blueGradientDarkPrimaryStop0,o.SkypeColor.blueGradientDarkPrimaryStop1],secondary:[o.SkypeColor.blueGradientDarkSecondaryStop0,o.SkypeColor.blueGradientDarkSecondaryStop1],tertiary:[]})},highContrast:{light:{primary:[],secondary:[],tertiary:[],presenceOnline:[],presenceAway:[],presenceDnd:[]},dark:{primary:[],secondary:[],tertiary:[],presenceOnline:[],presenceAway:[],presenceDnd:[]}}},t.SKYPE_THEME_COLORS={blue:{light:Object.assign(Object.assign({},n),a),dark:Object.assign(Object.assign({},r),s)},orange:{light:Object.assign(Object.assign({},n),l),dark:Object.assign(Object.assign({},r),c)},yellow:{light:Object.assign(Object.assign({},n),d),dark:Object.assign(Object.assign({},r),u)},green:{light:Object.assign(Object.assign({},n),p),dark:Object.assign(Object.assign({},r),g)},teal:{light:Object.assign(Object.assign({},n),h),dark:Object.assign(Object.assign({},r),m)},indigo:{light:Object.assign(Object.assign({},n),S),dark:Object.assign(Object.assign({},r),_)},purple:{light:Object.assign(Object.assign({},n),f),dark:Object.assign(Object.assign({},r),y)},pink:{light:Object.assign(Object.assign({},n),C),dark:Object.assign(Object.assign({},r),v)},classic:{light:Object.assign(Object.assign(Object.assign({},n),a),b),dark:Object.assign(Object.assign(Object.assign({},r),s),T)},highContrast:{light:Object.assign({},P),dark:Object.assign({},k)}},t.SKYPE_THEME_PRIMARY_COLORS={blue:{light:o.SkypeColor.blueLightPrimary,dark:o.SkypeColor.blueDarkPrimary},orange:{light:o.SkypeColor.orangeLightPrimary,dark:o.SkypeColor.orangeDarkPrimary},yellow:{light:o.SkypeColor.yellowLightPrimary,dark:o.SkypeColor.yellowDarkPrimary},green:{light:o.SkypeColor.greenLightPrimary,dark:o.SkypeColor.greenDarkPrimary},teal:{light:o.SkypeColor.tealLightPrimary,dark:o.SkypeColor.tealDarkPrimary},indigo:{light:o.SkypeColor.indigoLightPrimary,dark:o.SkypeColor.indigoDarkPrimary},purple:{light:o.SkypeColor.purpleLightPrimary,dark:o.SkypeColor.purpleDarkPrimary},pink:{light:o.SkypeColor.pinkLightPrimary,dark:o.SkypeColor.pinkDarkPrimary},classic:{light:o.SkypeColor.blueLightPrimary,dark:o.SkypeColor.blueDarkPrimary},highContrast:{light:o.SkypeColor.black,dark:o.SkypeColor.white}}},9335:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skypeThemeConnector=function(e,t){const i=function(e){return[n.Theme.Accessible,n.Theme.Delphi,n.Theme.Mono].includes(e)?"light":"dark"}(e),o={isDark:"dark"===i,isAccessible:[n.Theme.Accessible,n.Theme.AccessibleDark].includes(e)},l=o.isAccessible?"highContrast":t,c=function(e,t){return Object.assign(Object.assign({},r.default.themeColorsForTheme(e)),t)}(e,(a.SKYPE_THEME_COLORS[l]||a.SKYPE_THEME_COLORS.blue)[i]),d=(a.USER_COLOR_GRADIENTS[l]||a.USER_COLOR_GRADIENTS.blue)[i];return{colors:c,gradients:d,themeMode:o,fonts:s.fontFamily}},t.getSkypeGradients=function(e,t){const i=null!=e?e:"blue",o=null!=t?t:"light";return(a.USER_COLOR_GRADIENTS[i]||a.USER_COLOR_GRADIENTS.blue)[o]},t.getSkypeColors=function(e,t){const i=null!=e?e:"blue",o=null!=t?t:"light";return(a.SKYPE_THEME_COLORS[i]||a.SKYPE_THEME_COLORS.blue)[o]},t.getSkypePrimaryColors=function(e,t){const i=null!=e?e:"blue",o=null!=t?t:"light";return(a.SKYPE_THEME_PRIMARY_COLORS[i]||a.SKYPE_THEME_PRIMARY_COLORS.blue)[o]};const o=i(197582),n=i(206197),r=o.__importDefault(i(206315)),a=i(677869),s=i(353210)},353210:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fontFamily=void 0,t.fontFamily={ultralight:'"SF Light", "Segoe System UI Light", Segoe UI Light", sans-serif',light:'"SF Semilight", "Segoe System UI Semilight", "Segoe UI Semilight", sans-serif',regular:'"SF Regular", "Segoe System UI Regular", "Segoe UI Regular", sans-serif',semibold:'"SF Semibold", "Segoe System UI Semibold", "Segoe UI Semibold", sans-serif',bold:'"SF Bold", "Segoe System UI Bold", "Segoe UI Bold", sans-serif'}},925890:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582);o.__exportStar(i(9335),t),o.__exportStar(i(705971),t)},705971:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.serializeUserColor=function(e){return e.key},t.deserializeUserColor=function(e,t,i){if(void 0===e||""===e)return a("blue",(0,n.getSkypeGradients)("blue",t).secondary,(0,n.getSkypePrimaryColors)("blue",t));if(!isNaN(Number(e)))return function(e,t,i){if("delphi"===i||"darkDelphi"===i)return a("blue",(0,n.getSkypeGradients)("blue",t).secondary,(0,n.getSkypePrimaryColors)("blue",t));if("accessible"===i||"dark"===i)return a("highContrast",(0,n.getSkypeGradients)("highContrast",t).secondary,(0,n.getSkypePrimaryColors)("highContrast",t));const o=r[e]||"blue";return a(o,(0,n.getSkypeGradients)(o,t).secondary,(0,n.getSkypePrimaryColors)(o,t))}(Number(e),t,i);return a(e,(0,n.getSkypeGradients)(e,t).secondary,(0,n.getSkypePrimaryColors)(e,t))},t.constructLegacyColorInfo=a;const o=i(473483),n=i(9335),r={[o.SerializedColorByNumber.Blue]:"indigo",[o.SerializedColorByNumber.Fuschia]:"purple",[o.SerializedColorByNumber.Mint]:"blue",[o.SerializedColorByNumber.Rose]:"pink",[o.SerializedColorByNumber.Yellow]:"orange"};function a(e,t,i){return{key:e,colors:t,primaryAccent:i}}},964414:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useRXStyles=t.useSkypeStyles=void 0;const o=i(667294),n=i(344175),r=i(206315);t.useSkypeStyles=(e,t)=>{const i=(0,r.useSkypeTheme)();return(0,n.useStyles)((()=>e(i)),[...t,i])};t.useRXStyles=(e,t)=>{const i=(0,r.useSkypeTheme)();return(0,o.useMemo)((()=>e(i)),[...t,i])}},661644:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSkypeThemesStyles=void 0;const o=i(344175),n=i(206315);t.useSkypeThemesStyles=(e,t)=>{const i=(0,n.useSkypeTheme)();return(0,o.useStyles)((()=>e(i)),[...t,i])}},150343:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(974395),r=o.__importStar(i(496486)),a=o.__importDefault(i(449593)),s=i(815063),l=i(730215),c=i(217041),d=o.__importStar(i(397691)),u=o.__importDefault(i(558765)),p=o.__importDefault(i(494190)),g=i(739901),h=i(22478),m=i(245127),S=i(473711),_=o.__importDefault(i(942559)),f=o.__importStar(i(999481)),y=o.__importDefault(i(906255)),C=o.__importDefault(i(623256)),v=o.__importDefault(i(220534)),b=o.__importDefault(i(389659)),T=o.__importStar(i(704704)),P=o.__importStar(i(20107)),k=i(815146),A=i(947786),I=i(764707),w=i(474489),x=i(213178),N=!0;let D=class extends c.StoreBase{isMurphyUser(){return this.getS4LFeatures().Murphy}useCachedEcsConfig(e){this.isUserEcsConfig()&&e&&e.configType===n.Models.EcsConfigType.Default||(this._cachedEcsConfig=e,this._updateMergedConfig())}internal_setOverrides(e){this._internalOverrides=e,void 0!==this._cachedEcsConfig&&this._updateMergedConfig()}_updateMergedConfig(){const e=this._cachedEcsConfig&&this._cachedEcsConfig.config,t=this._getEcsFallbacks();let i=e?f.mergeConfigs(t,e):t;void 0!==this._internalOverrides&&(i=f.mergeConfigs(i,this._internalOverrides)),this._mergedEcsConfig=i,this._mergedConfigSettings=void 0,this.trigger(),a.default.onAppConfigChanged(new Map(Object.entries(i)))}getMergedEcsConfig(){return this._getMergedEcsConfig()}_getMergedEcsConfig(){return this._mergedEcsConfig||(this._mergedEcsConfig=this._getEcsFallbacks()),this._mergedEcsConfig}_getMergedConfigSettings(){if(!this._mergedConfigSettings){const e=this._getConfigDefaults();this._mergedConfigSettings=f.mergeConfigs(e,this._getS4LConfigFeatures())}return this._mergedConfigSettings}_getEcsFallbacks(){return{Ads:this._getAdsDefaults(),AsyncMediaClient:this._getAsyncMediaDefaults(),ConfigIDs:this._getConfigIdDefaults(),ConsumerEntitlement:this._getS4LEntitlementDefaults(),DebugabilitySquad:this._getDebugabilitySquadDefaults(),Headers:this._getHeadersDefault(),Join:this._getJoinDefaults(),MDN_TRAP:{},OEM_Operator_Squad:this._getOEMConfigDefaults(),PeopleSearch:this._getPeopleSearchDefault(),S4L_Caap:this._getS4LCaapDefaults(),S4L_Clips:y.default,S4L_CMC:p.default,S4L_Commerce:this._getS4LCommerceDefaults(),S4L_Config:this._getS4LConfigDefaults(),S4L_Contacts:this._getS4LContactsDefaults(),S4L_Engagement:this._getEngagementDefaults(),S4L_Feedback:this._getS4LFeedbackDefaults(),S4L_Integrations:this._getS4LIntegrationsDefaults(),S4L_MeetNow:this._getS4LMeetNowDefaults(),S4L_Messaging:_.default,S4L_NativePlatforms:this._getNativePlatformsDefaults(),S4L_Onboarding:this._getOnboardingDefaults(),S4L_Search:this._getS4LSearchDefaults(),S4L_SISU:this._getS4LSisuDefaults(),S4L_People:this._getS4LPeopleDefaults(),S4L_Stratus:this._getS4LStratusDefaults(),S4L_Telemetry:this._getS4LTelemetryDefaults(),S4L_UI:this._getS4LUiDefaults(),S4L_Whiteboard:C.default,S4L:this._getS4LDefaults(),SkypeAudioLibrary:this._getSkypeAudioLibraryDefaults(),SkypeEngagement:this._getSkypeEngagementDefaults(),SkypePersonalization:this._getPesDefaults(),SkypeRealTimeMedia:this._getSkypeRealTimeMediaDefaults(),SkypeRootTools:this._getSkypeRootToolsDefaults(),SkypeTelemetry:this.getTelemetryDefaults(),TrouterJScriptClient:this._getTrouterJScriptClientDefaults()}}_getConfigIdDefaults(){return{Ads:"",AsyncMediaClient:"",ConsumerEntitlement:"",DebugabilitySquad:"",Headers:"",Join:"",MDN_TRAP:"",OEM_Operator_Squad:"",PeopleSearch:"",S4L_Caap:"",S4L_Clips:"",S4L_CMC:"",S4L_Commerce:"",S4L_Config:"",S4L_Contacts:"",S4L_Engagement:"",S4L_Feedback:"",S4L_Integrations:"",S4L_MeetNow:"",S4L_Messaging:"",S4L_NativePlatforms:"",S4L_Onboarding:"",S4L_Search:"",S4L_SISU:"",S4L_Stratus:"",S4L_Telemetry:"",S4L_UI:"",S4L_Whiteboard:"",S4L:"",SkypeAudioLibrary:"",SkypeEngagement:"",SkypePersonalization:"",SkypeRealTimeMedia:"",SkypeRootTools:"",SkypeTelemetry:"",TrouterJScriptClient:""}}getSkypeAudioLibraryFeatures(){return this._getMergedEcsConfig().SkypeAudioLibrary}getS4LFeatures(){return this._getMergedEcsConfig().S4L}getS4LFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L}_getS4LConfigFeatures(){return this._getMergedEcsConfig().S4L_Config}getS4LCaapFeatures(){return this._getMergedEcsConfig().S4L_Caap}getS4LCaapFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Caap}getS4LIntegrationsFeatures(){return this._getMergedEcsConfig().S4L_Integrations}getS4LIntegrationsFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Integrations}getS4LMessagingFeatures(){return this._getMergedEcsConfig().S4L_Messaging}getS4LMessagingFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Messaging}getS4LMessagingConfigIds(){return r.split(this._getMergedEcsConfig().ConfigIDs.S4L_Messaging,",")}getS4LUiConfigIds(){return r.split(this._getMergedEcsConfig().ConfigIDs.S4L_UI,",")}getS4LMessagingExperimentalConfigString(){return r.filter(this.getS4LMessagingConfigIds(),(e=>r.startsWith(e,"P-E"))).toString()}getS4LUiExperimentalConfigString(){return r.filter(this.getS4LUiConfigIds(),(e=>r.startsWith(e,"P-E"))).toString()}getNRTMapping(){return this._getMergedEcsConfig().EventToConfigIdsMapping}dangerouslyGetS4LMessagingFeatures(){return this._getMergedEcsConfig().S4L_Messaging}getS4LContactsFeatures(){return this._getMergedEcsConfig().S4L_Contacts}getS4LContactsFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Contacts}getS4LSearchFeatures(){return this._getMergedEcsConfig().S4L_Search}getS4LSearchFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Search}getS4LCommerceFeatures(){return this._getMergedEcsConfig().S4L_Commerce}dangerouslyGetS4LCommerceFeatures(){return this._getMergedEcsConfig().S4L_Commerce}getS4LEntitlementFeatures(){return this._getMergedEcsConfig().ConsumerEntitlement}getS4LEntitlementFeaturesNoSubscription(){return this._getMergedEcsConfig().ConsumerEntitlement}getS4LCommerceFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Commerce}getHeaders(){return this._getMergedEcsConfig().Headers}getHeadersNoSubscription(){return this._getMergedEcsConfig().Headers}getPeopleSearchSettings(){return this._getMergedEcsConfig().PeopleSearch}getS4LNativePlatformsEcsConfig(){return this._getMergedEcsConfig().S4L_NativePlatforms}getS4LNativePlatformsEcsConfigNoSubscription(){return this._getMergedEcsConfig().S4L_NativePlatforms}getS4LCMCFeatures(){return this._getMergedEcsConfig().S4L_CMC}getS4LCMCFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_CMC}getTelemetryFeatures(){return this._getMergedEcsConfig().SkypeTelemetry}getS4LTelemetryFeatures(){return this._getMergedEcsConfig().S4L_Telemetry}getS4LTelemetryFeaturesNoSubscription(){return this.getS4LTelemetryFeatures()}getS4LMeetNowFeatures(){return this._getMergedEcsConfig().S4L_MeetNow}getS4LMeetNowFeaturesNoSubscription(){return this.getS4LMeetNowFeatures()}getPesConfig(){return this._getMergedEcsConfig().SkypePersonalization}getAsyncMediaFeatures(){return this._getMergedEcsConfig().AsyncMediaClient}getAsyncMediaFeaturesNoSubscription(){return this._getMergedEcsConfig().AsyncMediaClient}getSkypeRootToolsConfig(){return this._getMergedEcsConfig().SkypeRootTools}getTrouterJScriptClientConfig(){return this._getMergedEcsConfig().TrouterJScriptClient}getMDNTRAPClientConfig(){return this._getMergedEcsConfig().MDN_TRAP}getJoinFeaturesNoSubscription(){return this._getMergedEcsConfig().Join}getJoinFeatures(){return this._getMergedEcsConfig().Join}getAdsFeatures(){return this._getMergedEcsConfig().Ads}getAdsFeaturesNoSubscription(){return this._getMergedEcsConfig().Ads}getOnboardingFeatures(){return this._getMergedEcsConfig().S4L_Onboarding}getEngagementFeatures(){return this._getMergedEcsConfig().S4L_Engagement}getEngagementFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Engagement}getSkypeEngagementFeatures(){return this._getMergedEcsConfig().SkypeEngagement}getSkypeEngagementFeaturesNoSubscription(){return this._getMergedEcsConfig().SkypeEngagement}dangerouslyGetOnboardingFeatures(){return this._getMergedEcsConfig().S4L_Onboarding}getDebugabilitySquad(){return this._getMergedEcsConfig().DebugabilitySquad}getSkypeRealTimeMedia(){return this._getMergedEcsConfig().SkypeRealTimeMedia}getS4LSisuFeatures(){return this._getMergedEcsConfig().S4L_SISU}dangerouslyGetS4LSisuFeatures(){return this._getMergedEcsConfig().S4L_SISU}getS4LPeopleFeatures(){return this._getMergedEcsConfig().S4L_People}dangerouslyGetS4LPeopleFeatures(){return this._getMergedEcsConfig().S4L_People}getS4LUiFeatures(){return this._getMergedEcsConfig().S4L_UI}getS4LUiFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_UI}getS4LStratusFeatures(){return this._getMergedEcsConfig().S4L_Stratus}getOEMConfig(){return this._getMergedEcsConfig().OEM_Operator_Squad}getFeedbackFeatures(){return this._getMergedEcsConfig().S4L_Feedback}getS4LClipsFeatures(){return this._getMergedEcsConfig().S4L_Clips}getS4LClipsFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Clips}getS4LWhiteboardFeatures(){return this._getMergedEcsConfig().S4L_Whiteboard}getS4LWhiteboardFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Whiteboard}getULLogUploadConfig(e,t){const i=this._getMergedEcsConfig()[e];return i?i[t]:void 0}getConfigSettings(){return this._getMergedConfigSettings()}getConfigSettingsNoSubscription(){return this._getMergedConfigSettings()}getCachedEcsConfig(){return this._cachedEcsConfig}isUserEcsConfig(){return!!this._cachedEcsConfig&&this._cachedEcsConfig.configType===n.Models.EcsConfigType.User}getCachedEcsConfigEtag(){return this._cachedEcsConfig?this._cachedEcsConfig.eTag:""}getCachedEcsConfigExpiration(){return this._cachedEcsConfig?this._cachedEcsConfig.expiration:0}getTrustedDomainInfo(){const e=this.getAsyncMediaFeatures().trusted_domains.toLowerCase().split(";");return{authTrustedDomains:this.getAsyncMediaFeatures().auth_trusted_domains.toLowerCase().split(";"),trustedDomains:e.length>0?e.concat(this.getS4LMessagingFeatures().safeDisplayDomains):this.getS4LMessagingFeatures().safeDisplayDomains,thirdPartyDownloaderUrlSchemas:this.getAsyncMediaFeatures().third_party_downloader_url_schemas.toLowerCase().split(";")}}isTrustedDomain(e,t){const i=this.getTrustedDomainInfo(),o=v.default.getURIComponents(e);if(!o||!o.protocol||!o.host)return!1;if(!r.includes(i.thirdPartyDownloaderUrlSchemas,o.protocol))return!1;const n=o.host.toLowerCase();return r.some(t?i.authTrustedDomains:i.trustedDomains,(e=>{if("*"===e[0]&&"."===e[1]){const t=e.substring(1);return r.endsWith(n,t)&&n.length>t.length}return n===e}))}getBingUrls(){return{privacyStatementUrl:`https://privacy.microsoft.com/${T.getLocale()}/privacystatement`,termsOfServiceUrl:`https://www.microsoft.com/${T.getLocale()}/servicesagreement`}}getBingMapsConfig(){return{urlBase:this.getS4LMessagingFeatures().bingMapsImageryRestApiBaseUrl,apiKey:this.getS4LMessagingFeatures().bingMapsRestApiKey,termsOfUseUrl:"https://www.microsoft.com/en-us/maps/product"}}isDesktopVIMEnabled(){return!0}isWebNotificationPromptCooldownEnabled(){const{webNotificationPromptCooldown:e}=this.getConfigSettings();return s.BrowserEnvironment.isEngineChromiumEdge()?e.enabledOnEdge:e.enabled}isWebNotificationPromptCooldownEnabledNoSubscription(){const{webNotificationPromptCooldown:e}=this.getConfigSettingsNoSubscription();return s.BrowserEnvironment.isEngineChromiumEdge()?e.enabledOnEdge:e.enabled}isNativeIncomingCallNotificationsEnabled(){return!1}isCallMonitorEnabled(){return!0}isCallMonitorEnabledNoSubscription(){return!0}performWhenServerDefaultConfigAvailable(){if(this._cachedEcsConfig)return d.Resolved();const e=d.Defer(),t=this.subscribe((()=>{this._cachedEcsConfig&&(this.unsubscribe(t),e.resolve(void 0))}));return e.promise()}_getS4LDefaults(){return{chatFeatures:{recommendedRing:0},pushConfig:{ttlSeconds:15552e3,refreshIntervalSeconds:604800,refreshOnLaunch:!1},MSFT:!0,Murphy:!1,tracing:2147483647,tracing2:2147483647,tracing3:2147483647,tracing4:2147483647,tracing5:2147483647,tracing6:2147483647,tracing7:2147483647,tracing8:2147483647,tracing9:2147483647,unsafeTraceAreas:[],saveUlLog:!1,pii:{findPotentialPii:!1},enableUpgradeAlert:!1,upgradeAlertConfig:{upgradeAlertDisplayIntervalSeconds:86400,forceUpgrade:!1},idleService:{afterUiShownDelay:2500,busyTaskDelay:500},beforeStartupDecorator:{enabled:!1,enforceNoEnsureStarted:!1},exceptions:{reloadOnException:!0},scheduler:{enableSmsPriceThrottling:!1,enablePeopleServiceClientThrottling:!1,enableTelemetryServiceThrottling:!1,enableEcsServiceThrottling:!1,telemetryServiceResumeTimeout:6e4},userCache:{enabled:!1,canClearCacheOnLogout:!1},enableECSScoping:!1}}_getS4LCaapDefaults(){return{autoAddBotsEnabled:!1,botIdsToAdd:[],botIdsToHide:[],botDiscoveryEnabled:!1,botRefreshEnabled:!1,botStoreAsList:!1,suggestions:{enabled:!1,feedbackEnabled:!1,orderingEnabled:!1,iconEnabled:!1,ordering:[],suggestionIdTelemetryEnabled:!1,enableSuggestionsV2:!1},adaptiveCards:{enableSharing:!1,imagePrefetchEnabled:!1,placeholderLoadingTimeout:1e3},textSuggestions:{enabled:!1,allowedSuggestions:[],maxSuggestions:0},clientSideSuggestions:{enabled:!1,suggestions:[]},highAccuracyLocationTimeout:5e3,skipContactCheck:!1,myBotIdToAdd:""}}_getS4LConfigDefaults(){return{}}_getS4LContactsDefaults(){return{enableInviteFree:!0,enableGroupInviteFree:!0,sendLegacyInvite:!1,sendLegacyInviteSfB:!0,consumeLegacyInvites:!0,maxContactInviteMessageCount:10,shortCircuitHashBatchSize:200,shortCircuitSyncMatchLimit:0,avatarChangeNotifications:this._getAvatarChangeNotificationsDefaults(),enableSearchFeedback:!1,enableIOSAutoBuddy:!1,overrideWithAddressBookName:!1,enableDeviceIdForShortcircuit:!1,enableAvatarLoadErrorTracking:!1,contactsFullSyncRefreshInHours:void 0,enableProfileV2MigrationSuggestion:!1,enableProfileV2AutoMigration:!1,enableShortCircuitContactsRoaming:!1,enableAlwaysShowActiveNowFilter:!1,enableHideSkypeName:!1,enableShowVerification:!1,enableUnverifiedBanner:!1,enableAccuratePhoneNumberCountryCode:!1}}_getAvatarChangeNotificationsDefaults(){return{enabled:!1,showMaxNumberOfAlerts:5,actionButtonType:0}}_getS4LSearchDefaults(){return{searchHeaderDebounceWait:350,enableSearchOptimization:!1,enableScopebarofMobile:!1,bingSearch:{enableHistory:!1,enableSuggest:!1,enableTrending:!1,bingHost:{globalHost:"https://www.bing.com/search",cnHost:"https://cn.bing.com/search"},sugHost:"https://www.bingapis.com/api/v7/suggestions?q=%s&appid=6D0A9B8C5100E9ECC7E11A104ADD76C10219804B",trendHost:{imgUrl:"https://www.bing.com/api/v7/news/trendingtopics?appid=897AEC4370C4412D0EE885C5BE63E47B4AAF14CF",imgLocale:["de-de","en-ca","en-gb","en-us","fr-ca","fr-fr","zh-cn"],textUrl:"https://c.bingapis.com/api/custom/opal/suggestions/web?version=5&q=&sf=opalv7",textLocale:["es-es","ja-jp","es-mx","es-xl","en-in","pt-br","en-au"]},bingSearchHosts:["bing.com","cn.bing.com"]},enableSearchHeader:!1}}_getS4LCommerceDefaults(){return{accountLinkEnabled:!0,callerIdCTA:x.CallerIdCTAConfigDefaults,callingSettingsPanel:{callForwarding:{enabled:!1,link:"https://secure.skype.com/portal/main-page?page=callForwarding",goTarget:"myaccount.call-forwarding",useExternalWebBrowser:!1},callerId:x.CallerIdConfigDefaults},callIntent:{allowNonE164NumberCalls:!1},creditUpsell:{enablePaidUsersCallForwardingUpsell:!1,enableAllUsersCallForwardingUpsell:!1},sendCredit:{enabled:!1,defaultDenominationEnabled:!0,defaultDenominationId:"option-2",defaultCardEnabled:!0,defaultCardId:"misc:skype-credit",contactsRefreshIntervalMs:864e5,optionsRefreshThrottlingMs:36e5,statusCheckDelayMs:1e3,statusCheckIntervalMs:3500,statusCheckAttempts:20,topupEnabled:!0,topupButtonType:g.SendCreditTopupButtonType.Orange,learnMoreLink:"http://go.skype.com/gift.promo.home",skypeToPhoneEnabled:!1,sendCreditDeeplinkEnabled:!1},skypeNumber:{showInProfile:!1,forceLearnMoreButton:!1,link:"https://secure.skype.com/my/skype-number",goLink:"client.s4l.skype-number",shouldRedirectNativeToWeb:!1,goLinkNativeToWeb:"store.buy.skypein",nativeToWebCountryCode:"",manageGoLink:"client.s4l.skype-number-manage",backNavigation:!1,useExternalWebBrowser:!1,smsPackCampaign:{countries:[],endDate:void 0},nativeBuyExperience:{enabled:!1,showInfoButton:!0,openInfoWebViewByDefault:!1,inAppInfoScreen:!1,openInfoScreenByDefault:!1,skypeNumberBlueSecondaryTheme:!1,withDataCollection:["fr","br","ch","de","jp"],withResidencyDeclaration:["pl","ie","za"],withTosEnabled:["br","ch","fr","hk","mx","nl","se"],withProviderLogo:["ro"],refreshIntervalSeconds:604800,termsOfServiceUrls:{skypeHelp:"https://go.skype.com/help",br:"https://go.skype.com/legal.terms.gtbrazil",ch:"https://go.skype.com/tos.switzerland",fr:"https://go.skype.com/legal.terms.voxbone",hk:"https://go.skype.com/tos.hongkong",mx:"https://go.skype.com/tos.mexico",nl:"https://go.skype.com/tos.netherlands",se:"https://go.skype.com/legal.terms.sweden.dna"},defaultCountryByRegion:!1},newSkypeNumberPanel:{enableInfoText:!1,enableWarningText:!0,enableCallerIdToggle:!0,prettifyBuyButton:!0,showShareButton:!0,desktopShare:{defaultMail:!0,outlook:!0,gmail:!0},showInfoButton:!0,verifyButton:{enabled:!0,openInExternalBrowser:!1}}},currencyConversion:{cacheInSeconds:60},purchaseOptions:{enabled:!0,refreshIntervalSeconds:60},billingInformations:{refreshIntervalSeconds:60},orderStatus:{statusMap:{DELIVERED:"success",CREATED:"pending",SENT_TO_PSP:"pending",PAYMENT_PENDING:"pending",PAYMENT_CONFIRMED:"pending",PSP_ERROR:"failure",REFUSED:"failure",PAYMENT_REFUSED:"failure",SENT_FOR_REVERSE:"failure",REVERSED:"failure",SENT_FOR_CANCEL:"failure",CANCELLED:"failure",SENT_FOR_PARTIAL_REFUND:"failure",PARTIALLY_REFUNDED:"failure",SENT_FOR_REFUND:"failure",REFUNDED:"failure",CHARGED_BACK:"failure",CHARGE_BACK_INITIATED:"failure"}},offerStore:{prefetch:!0},nativeProducts:{refreshIntervalSeconds:60,offerHref:"/offers/credit/skus/credit-10",offerHrefMap:{"com.skype.skype.subscription.us_mixed_unlimited_ios.1_month":"/offers/calling/skus/us-mixed-unlimited-ios/subscriptions/1-month","com.skype.skype.subscription.world_mixed_unlimited_ios.1_month":"/offers/calling/skus/world-mixed-unlimited-ios/subscriptions/1-month","com.skype.skype.subscription.northamerica8_mixed_unlimited_ios.1_month":"/offers/calling/skus/northamerica8-mixed-unlimited-ios/subscriptions/1-month","com.skype.skype.subscription.true_world_mixed_unlimited_ios.1_month":"/offers/calling/skus/new-world-mixed-unlimited-ios/subscriptions/1-month","com.skype.raider.subscription.us_mixed_unlimited_gplay.1_month":"/offers/calling/skus/us-mixed-unlimited-gplay/subscriptions/1-month","com.skype.raider.subscription.world_mixed_unlimited_gplay.1_month":"/offers/calling/skus/world-mixed-unlimited-gplay/subscriptions/1-month","com.skype.raider.subscription.northamerica8_mixed_unlimited_gplay.1_month":"/offers/calling/skus/northamerica8-mixed-unlimited-gplay/subscriptions/1-month","com.skype.raider.subscription.true_world_mixed_unlimited_gplay.1_month":"/offers/calling/skus/new-world-mixed-unlimited-gplay/subscriptions/1-month"},destinations:{enabled:!0},personalizedOffers:{enabled:!1,balanceStatePanelEnabled:!1,callFailureScreenEnabled:!0,callFailureScreenPrefilledFallback:!0,usePreFilledAfterTimeout:!0,timeoutTime:5e3},webToNativeOfferMap:{iphone:{},gPlay:{}},manageSubscription:{apple:{enabled:!0,subscriptionPlanRegExp:"-ios$",url:"itms-apps://apps.apple.com/account/subscriptions"},gPlay:{enabled:!0,openInExternalBrowser:!0,subscriptionPlanRegExp:"-gplay$",url:"https://play.google.com/store/account/subscriptions"}},ios:{credit:{china:["com.skype.tomskype.pricetier.5"],iphone:["com.skype.skype.pricetier.5","com.skype.skype.pricetier.10","com.skype.skype.pricetier.25"]},subscription:{china:[],iphone:["com.skype.skype.subscription.au_mixed_300_ios.1_month","com.skype.skype.subscription.bd_mixed_400_ios.1_month","com.skype.skype.subscription.in_mixed_800_ios.1_month","com.skype.skype.subscription.us_mixed_unlimited_ios.1_month","com.skype.skype.subscription.true_world_mixed_unlimited_ios.1_month"]},skypeNumber:{china:{},iphone:{US:"com.skype.skype.skype_number.us_ios.1_month",GB:"com.skype.skype.skype_number.gb_ios.1_month",AU:"com.skype.skype.skype_number.au_ios.1_month",CL:"com.skype.skype.skype_number.cl_ios.1_month",CO:"com.skype.skype.skype_number.co_ios.1_month",CZ:"com.skype.skype.skype_number.cz_ios.1_month",DK:"com.skype.skype.skype_number.dk_ios.1_month",EE:"com.skype.skype.skype_number.ee_ios.1_month",FI:"com.skype.skype.skype_number.fi_ios.1_month",HK:"com.skype.skype.skype_number.hk_ios.1_month",HU:"com.skype.skype.skype_number.hu_ios.1_month",NZ:"com.skype.skype.skype_number.nz_ios.1_month",PR:"com.skype.skype.skype_number.pr_ios.1_month"}},billingPeriods:{iphone:{"com.skype.skype.subscription.us_mixed_unlimited_ios.1_month":["com.skype.skype.subscription.us_mixed_unlimited_ios.12_months"],"com.skype.skype.subscription.in_mixed_800_ios.1_month":["com.skype.skype.subscription.in_mixed_800_ios.12_months"],"com.skype.skype.subscription.gb_mixed_400_ios.1_month":["com.skype.skype.subscription.gb_mixed_400_ios.12_months"],"com.skype.skype.subscription.au_mixed_300_ios.1_month":["com.skype.skype.subscription.au_mixed_300_ios.12_months"],"com.skype.skype.subscription.ca_mixed_unlimited_ios.1_month":["com.skype.skype.subscription.ca_mixed_unlimited_ios.12_months"],"com.skype.skype.skype_number.us_ios.1_month":["com.skype.skype.skype_number.us_ios.12_months"],"com.skype.skype.skype_number.gb_ios.1_month":["com.skype.skype.skype_number.gb_ios.12_months"],"com.skype.skype.skype_number.au_ios.1_month":["com.skype.skype.skype_number.au_ios.12_months"]}}},android:{credit:{gPlay:["com.skype.raider.pricetier.5","com.skype.raider.pricetier.10","com.skype.raider.pricetier.25"]},subscription:{gPlay:["com.skype.raider.subscription.au_mixed_300_gplay.1_month","com.skype.raider.subscription.bd_mixed_400_gplay.1_month","com.skype.raider.subscription.in_mixed_800_gplay.1_month","com.skype.raider.subscription.us_mixed_unlimited_gplay.1_month","com.skype.raider.subscription.true_world_mixed_unlimited_gplay.1_month"]},skypeNumber:{gPlay:{US:"com.skype.raider.skype_number.us_gplay.1_month",GB:"com.skype.raider.skype_number.gb_gplay.1_month",AU:"com.skype.raider.skype_number.au_gplay.1_month",CL:"com.skype.raider.skype_number.cl_gplay.1_month",CO:"com.skype.raider.skype_number.co_gplay.1_month",CZ:"com.skype.raider.skype_number.cz_gplay.1_month",DK:"com.skype.raider.skype_number.dk_gplay.1_month",EE:"com.skype.raider.skype_number.ee_gplay.1_month",FI:"com.skype.raider.skype_number.fi_gplay.1_month",HK:"com.skype.raider.skype_number.hk_gplay.1_month",HU:"com.skype.raider.skype_number.hu_gplay.1_month",NZ:"com.skype.raider.skype_number.nz_gplay.1_month",PR:"com.skype.raider.skype_number.pr_gplay.1_month"}},billingPeriods:{gPlay:{"com.skype.raider.subscription.us_mixed_unlimited_gplay.1_month":["com.skype.sub.us_mx_unl_gplay.12m"],"com.skype.raider.subscription.in_mixed_800_gplay.1_month":["com.skype.sub.in_mixed_800_gplay.12m"],"com.skype.raider.subscription.gb_mixed_400_gplay.1_month":["com.skype.sub.gb_mixed_400_gplay.12m"],"com.skype.raider.subscription.au_mixed_300_gplay.1_month":["com.skype.sub.au_mixed_300_gplay.12m"],"com.skype.raider.subscription.ca_mixed_unlimited_gplay.1_month":["com.skype.sub.ca_mx_unl_gplay.12m"],"com.skype.raider.skype_number.us_gplay.1_month":["com.skype.skype_number.us_gplay.12m"],"com.skype.raider.skype_number.gb_gplay.1_month":["com.skype.skype_number.gb_gplay.12m"],"com.skype.raider.skype_number.au_gplay.1_month":["com.skype.skype_number.au_gplay.12m"]}}},subscriptionSearch:{iphone:[],gPlay:[]},disclaimers:{indiaCallLimitations:{enabled:!0,learnMoreLink:"https://go.skype.com/indiafaq",subscriptions:["com.skype.skype.subscription.in_mixed_100_ios.1_month","com.skype.skype.subscription.in_mixed_800_ios.1_month","com.skype.skype.subscription.in_mixed_2500_ios.1_month","com.skype.raider.subscription.in_mixed_100_gplay.1_month","com.skype.raider.subscription.in_mixed_800_gplay.1_month","com.skype.raider.subscription.in_mixed_2500_gplay.1_month"]},chinaCallerIdLimitations:{enabled:!1,learnMoreLink:void 0,subscriptions:["com.skype.skype.subscription.cn_mixed_100_ios.1_month","com.skype.skype.subscription.cn_mixed_400_ios.1_month","com.skype.skype.subscription.cn_mixed_1000_ios.1_month","com.skype.raider.subscription.cn_mixed_100_gplay.1_month","com.skype.raider.subscription.cn_mixed_400_gplay.1_month","com.skype.raider.subscription.cn_mixed_1000_gplay.1_month"]},dualPricing:{country:"HR",startDate:"2022-09-05",switchDate:"2023-01-01",endDate:"2024-01-01",oldCurrency:"HRK",oldCurrencyRate:"7.53450",newCurrency:"EUR",newCurrencyRate:"1.00000"}}},webProducts:{refreshIntervalSeconds:60,goLinkCreditCheckout:"client.s4l.credit-checkout.web",goLinkCallingCheckout:"client.s4l.calling-checkout.web",goLinkCreditSelection:"client.s4l.credit-selection.web",goLinkCallingSelection:"client.s4l.calling-selection.web",goLinkCallingRates:"client.s4l.calling-rates.web",shouldRedirectNativeToWeb:!1,goLinkNativeToWeb:"store.buy.subscription",nativeToWebCountryCode:"",credits:[{goLink:"client.s4l.credit-checkout.web",apiPurchaseItem:"/offers/credit/skus/credit-5"}],subscriptions:[{goLink:"client.s4l.calling-rates.web",apiPurchaseItem:""}],destinations:{enabled:!0},disclaimers:{indiaCallLimitations:{enabled:!0,learnMoreLink:"https://go.skype.com/indiafaq",subscriptions:["in-mixed-100","in-mixed-800","in-mixed-2500"]},chinaCallerIdLimitations:{enabled:!1,learnMoreLink:void 0,subscriptions:["cn-mixed-100","cn-mixed-400","cn-mixed-1000"]}},billingPeriods:{enabled:!0,useAssetsApi:!1,periods:{threeMonths:!1,twelveMonths:!0}}},webConfig:{pathsRequiringHeaders:["buy/offer/","portal/overview/","portal/profile/"],checkoutPaths:["buy/offer/","my/checkout/"],checkoutOfferParams:["item","F%5BexternalId%5D"]},atu:{offerHref:"/offers/credit/skus/credit-10",limits:{EUR:"€2,00",USD:"$2.00",GBP:"£2.00",JPY:"¥300",PLN:"8,00 zł",SEK:"20 kr",DKK:"kr.16,00",HKD:"HK$ 20.00",NOK:"kr 16,00",CAD:"C$3.00",AUD:"AU$4.00",CHF:"SFr. 4.00",CNY:"¥12.00",BRL:"R$ 6,00",TWD:"NT$80",KRW:"₩3,000",INR:"₹ 120.00"}},callFailure:{callFailurePrompt:{enabled:!1,addParticipantEnabled:!1,copiesOption:"positive",cardsToShow:{credit:1,calling:1}},smsFailurePrompt:{enabled:!1,cardsToShow:{credit:1,calling:1}},postPurchasePrompt:{enabled:!1,timeLimitMinutes:10},tasterPostCall:{enabled:!1,cardsToShow:{credit:1,calling:1}}},pstnProfileOption:{enabled:!1},newBuyCreditExperience:{creditPickerOnTasterPostCall:!1,preselectedCreditId:"credit-10",gPlayPreselectedCreditId:"com.skype.raider.pricetier.10",useClientFormattingForCurrencies:[],wrapForContentLengthGreaterThan:10,sizes:{large:{contentLengthThreshold:4,smallDeviceFontSize:20,selectedItemSmallDeviceFontSize:20,mobileFontSize:20,selectedItemMobileFontSize:20,desktopFontSize:20,selectedItemDesktopFontSize:20},medium:{contentLengthThreshold:8,smallDeviceFontSize:14,selectedItemSmallDeviceFontSize:14,mobileFontSize:16,selectedItemMobileFontSize:16,desktopFontSize:19,selectedItemDesktopFontSize:19},small:{contentLengthThreshold:100,smallDeviceFontSize:13,selectedItemSmallDeviceFontSize:13,mobileFontSize:16,selectedItemMobileFontSize:16,desktopFontSize:19,selectedItemDesktopFontSize:19}}},createOrderFailure:{recoveryFlowEnabled:!1,forceRedirectToWebEnabled:!1,displayUserMessage:!0},payments3ds:{enabled:!1,popupDelay:.5,allowRetryOnPurchaseLimitReached:!0,allowRedirectPage:!0,redirectGolink:"3ds.checkout",redirectParamName:"pspRedirect"},smsPromo:{unpaidUserEnabled:!1},googlePay:{enabled:!1,enabledForSubscriptions:!1,tokenSpecGateway:"adyen",tokenSpecMerchantId:"SkypeAdyenOneOff",merchantName:"Skype Communications S.a.r.l.",merchantId:"BCR2DN6TSO56BQLA",forbiddenForOfferIds:[],instrumentName:"Google Pay",instrumentDisplay:"Google Pay",instrumentLogoPath:"payment/methods/logo/large/GOOGLE-PAY",totalPriceStatus:"NOT_CURRENTLY_KNOWN",storeInstrument:"0",storeInstrumentForSubscriptions:"1",tempDisableAfterError:!0},enableAgeAppropriateDesign:!1,usePurchaseConfirmationDialogView:!1,useStratusEndpointsV2:!1,improveStratusFailureHandling:!1,improveStratusFailureHandlingMaxRetries:5,showLowestPrice:!1,invertBillingPeriodsAndPreselectAnnualSubscription:!1,gPlayUpgradeLink:"https://support.google.com/googleplay/answer/9037938",pullNewsConfig:{endpointUrl:"",query:"",nextPageEndpoint:""},todayTab:{enabled:!1,url:"https://www.msn.com/staticsb/statics/latest/0/channel/index.html",desktopUrls:{feed:"https://www.msn.com/staticsb/statics/latest/0/channel/index.html?ocid=desktopFeed",interests:"https://www.msn.com/staticsb/statics/latest/0/channel/index.html?ocid=desktopInterests"},authTokenFetchTimeoutMs:1e4,authTokenFetchMaxRetries:3,redirectThresholdMS:1500,authTokenExpirationThresholdMs:12e4,debuggingInMasterEnabled:!1,enableDailyBadging:!1,enableCookiePersistenceInLocalStorage:!1,enableInAppBrowser:!1,articleReaderSize:P.RightSidebarSize.Large,enableATT:!1,msnDomain:"msn.com",badgingIntervalInDays:7,maxNumberOfBadgeDismissals:2,showTodayTabOnLandingScreen:!1},articleReader:{trustedHosts:["msn.com","www.msn.com"]},eagleAttribution:{url:"https://eagle.sapphire.microsoftapp.net/day0/api/v1/get"},cantSendSmsToTheUSWarning:{enabled:!1,learnMoreLink:"https://go.skype.com/help.faq.sms"},enableTrouterEvent601:!1,balanceStatePanelInfoScreen:{enabled:!1},needsToVerify:{enableKycVerificationStore:!1,enableKycVerificationPartnerRedirect:!1,phoneVerificationRedirectToForm:!0,enableKycVerificationDeepLink:!1,kycVerificationPartnerRedirectGoLink:"kycpartnerredirect",kycVerificationCredentialTypeToCountryAndIssuer:{VerifiedIndividualJapanese:{country:"JP",issuer:"https://discoverylabs.io/"}},kycVerificationErrorIfProvidedSkypeinIdNotOnList:!0,phoneVerificationRedirectToFormIfNeeded:!0,phoneVerificationCountriesControl:["US","GB","AU","EE"],kycVerificationCountriesControl:["JP"],privacyLink:"https://go.skype.com/privacy",showWarningInPaymentConfirmationIfNeeded:!1,phoneVerificationFormLimitsEnabled:!1},cantSendSmsToCNWarning:{enabled:!1,learnMoreLink:"https://go.skype.com/help.faq.sms"},cantSendSmsToInvalidNumber:{enabled:!1},profileSkypePhoneRefinement:{enableReordering:!1,enableWordingUpdates:!1},enableSMSInfolineSwitcher:!1,enableSendSmsOnSearchResultAndPSTN:!1,smsNewEntry:{enableOnDialpad:!1,enableOnLandingPage:!1},skypeNumberPurchaseWarnings:{activeWarnings:[]},showInvalidNoteBeforeStartCall:!1,enableCreditAndSubscriptionsNewStores:!1}}_getHeadersDefault(){return{CountryCode:"",ETag:"",Expires:Date.now().toString(),StatusCode:""}}_getPeopleSearchDefault(){return{v2Endpoint:"https://skypegraph.skype.com/v2.0/search",serviceSettings:{experiment:"Default",geoProximity:"disabled"}}}_getS4LEntitlementDefaults(){return{SCE:{UserServices:{Client:{Features:{BackendEnabled:!0,UIEnabled:!0,AdvancedPullingEnabled:!0,RateIntegrationEnabled:!0,ReactivationEnabled:!1,DarkerDialerBarEnabled:!1,OldEntitlementsClientEnabled:!1,NewUcuxCallActionEnabled:!1,ImprovedPollingTelemetryEnabled:!0,gPlayFallbackToSkypeOffers:!0,gPlayReconnectOnServiceDisconnected:!1,gPlayMaxReconnectionsOnServiceDisconnected:5,gPlayShareObfuscatedIdWithGoogle:!1,gPlayShareObfuscatedIdSalt:"2542VWC7wkgt4ruhzwtOLQU3zdbpAoAJ"},Service:{Host:"consumer.entitlement.​skype.com",RetryLimit:5,RetriableCodes:["40402","50310","500"],RetryInterval:[{Codes:["40402"],Pattern:[5e3,1e4,2e4,3e4,6e4]},{Codes:["50310","IOException"],Pattern:[1e3,2e3,4e3,8e3,16e3]}],PollingStrategies:{Long:36e5,Medium:3e5,Fast:3e3,Immediate:0}},Experiments:{SkypeToPhoneCard:"default",SkypeToPhoneInProfile:!0,SkypeToPhoneBanner:"default"}},ServiceGroups:{Credit:["pstn"],Calling:["plan","package","minute_plan"],OnlineNumbers:["skypein","skypein2"],PersonalExpressions:["moiji"]}},Dialpad:{EmergencyCall:{allowedCountries:["gb","fi","au","dk","us"],allowedNumbers:["000","01","02","03","04","08","11","15","16","17","18","051","61","62","91","93","94","100","101","102","103","104","105","107","108","110","111","0112","112","113","114","115","117","118","119","122","123","128","133","140","141","142","143","144","145","147","150","151","155","158","160","163","166","175","177","179","190","191","192","196","197","199","532","911","961","984","985","986","987","991","992","993","994","995","996","997","998","999","1145","1400","1412","1414","1415","1510","1515","1525","1530","1591","1717","1800","1802","1804","1987","9155","116000","116006","116111","116117","116123"]},E911:{enabledCountries:["us"],locationEnabled:!0,locationNumbers:["911"],locationUpdateEventEnabled:!0,locationUpdateThrottlingMs:6e5,locationFAQLink:"https://go.skype.com/e911"},CountryCodeToCountryDefault:{1:"us",7:"ru",44:"gb",47:"no",61:"au",64:"nz",262:"re",358:"fi",500:"fk",590:"gp",599:"cw"},ContactsSearch:{ExecutionDelay:280,T9SearchEnabled:!1},Calling:{TestPrefixes:[999],NonGeographicPrefixes:[800,883,870,871,872,873,874,888]},Features:{ContactsIconEnabled:!1,SaveContactEnabled:!1,SiriIntegrationPromptEnabled:!1,SmsButtonEnabled:!0,ExtensionDialingEnabled:!1,TasterPromotionEnabled:!1},NumberInput:{decodeHtmlMaxIterations:5}},CallRates:{PerCurrency:{AUD:.025,BRL:.05,CAD:.024,CHF:.02,CNY:.14,DKK:.127,EUR:.017,GBP:.014,HKD:.18,INR:1.39,JPY:2.26,KRW:24.95,NOK:.137,POL:.07,SEK:.149,TWD:.68,USD:.023},TasterCallMaxDurationMinutes:5},PersonalizedOffers:{Features:{CallEndRecommendationsEnabled:!0,FreeTrialsEnabled:!1,UpsellOnBalanceStateEnabled:!1,UpsellOnBalanceStateSettings:{cardsToShow:3,defaultOpened:!0,showAllButtonEnabled:!1},DynamicRecommendationsLoadingEnabled:!1,RecommendationsToLoadCount:3,PromotionsEndpointsTelemetryEnabled:!0,SearchOnViewMoreClick:{enabled:!1,nativeSearchOnSecondClick:!1}}},ConsumableProducts:{Features:{gPlayConsumablesEnabled:!1}},CallingSubscriptions:{Features:{UpgradeEnabled:!1,UpgradeCoachMarkEnabled:!1,iOSSubscriptionsEnabled:!1,gPlaySubscriptionsEnabled:!1,MinutesResetEnabled:!0,ManageSubscriptionsUXImprovements:!0},UpgradeSettings:{Threshold:.1}},SkypeToPhoneBanner:{Features:{BannerEnabled:!1,ForceShowBanner:!1}}}}}_getSkypeAudioLibraryDefaults(){return{ECS_AudioDL_DisableRouteChangeNotification:"0",ECS_ADSP_VirtualSessionVolume:"true"}}_getNativePlatformsDefaults(){return{quickActions:{enabled:!1,options:l.DefaultQuickActionIds},enableMacOSQuarantineFlagForDownloadedFiles:!1,enableRemoteClientAppearancePreferences:!1,enablePresenceCorrection:!1,enableIAPFlowForAmazonDevices:!1,enablePurchaseLinkForAmazonDevices:!1,hideBrowserPurchasesForAmazonAndGooglePlay:!0,enableInAppNotificationsForMobileBrowsers:!1,extensionTelemetryServiceScheduleInterval:12*A.HOUR,enableAdjustTracking:!0,captureProviders:{messaging:"oneCamera",avatar:"oneCamera",qrCode:"oneCamera"},enableOneCameraSnap:!1,enableOneCameraCameraState:!1,enableOneCameraDedicatedVideoMode:!1,enableIOSChatServiceBackgroundTask:!1}}_getJoinDefaults(){return{autoJoinCall:!1,guestFlow:{enabled:!1},meetings:{apiHost:"https://api.join.skype.com"},joinLinkHost:"https://join.skype.com"}}_getAdsDefaults(){return{enabled:!1,naExperimentEnabled:!1,naExperimentName:"No Experiment",isAdDescriptionClickable:!1,testDevices:[],placementSettings:{conversationList:{enabled:!1,forced:!1,minRequiredAdjacentItems:1,maxRequiredAdjacentItems:9999,placementIds:["noPlacementId"],bingAdsSettings:void 0,provider:P.AdsProvider.MeetNow,adsType:P.AdsType.ListItemNarrow,adsToRequest:0,isAdMediaClickable:!0,refreshIntervalInMinutes:50,canHide:!1,adIconMaskSettings:{enabled:!0,adIconMask:"CircleBigNeg"},fixedPosition:8,enhancedPositioning:{enabled:!0,minPosition:2,availableScreenSizeFactor:1,minimumVisibleAdHeightRate:.05,allowMoveToPreviousGroup:!0,groupLimitation:P.AdsListGroupType.Favourites},dynamicDimensionsSettings:{enabled:!0,adMediaRatio:1.91,defaultMediaHeight:119,defaultMediaWidth:227,numberOfNeighbouringItemsDefiningMaxAdHeight:4},backupContent:{enabled:!1,contentProvider:P.AdsProvider.Msn,switchAfterErrorCount:0,switchDelayInSeconds:1},rotateProviderAfterNErrors:1,rotateProviderWhenNotEligible:!1},alertsPanel:{enabled:!1,forced:!1,minRequiredAdjacentItems:1,maxRequiredAdjacentItems:9999,placementIds:["noPlacementId"],bingAdsSettings:void 0,provider:P.AdsProvider.MeetNow,adsType:P.AdsType.ListItemNarrow,adsToRequest:0,canHide:!1,isAdMediaClickable:!0,refreshIntervalInMinutes:50,adIconMaskSettings:{enabled:!0,adIconMask:"CircleBigNeg"},fixedPosition:8,enhancedPositioning:{enabled:!0,minPosition:2,availableScreenSizeFactor:1,minimumVisibleAdHeightRate:.05,allowMoveToPreviousGroup:!1,groupLimitation:P.AdsListGroupType.None},dynamicDimensionsSettings:{enabled:!0,adMediaRatio:1.91,defaultMediaHeight:119,defaultMediaWidth:227,numberOfNeighbouringItemsDefiningMaxAdHeight:4},backupContent:void 0}},msnApiContent:{ocid:"skypeint",apiKey:"NO_API_KEY",downloadProviderIcon:!0,msnFeedbackUrl:"https://api.msn.com/feedback/api/AppEvents",msnPersonalizeUrl:"https://go.microsoft.com/fwlink/?LinkID=286759",categoryFilter:["lifestyle"]},templateSettings:{msn:{showSponsored:!0,showAdChoices:!1,narrowTemplateShowButton:!1,narrowTemplateShowButtonNoBorder:!1,bannerShowProviderIcon:!0,bannerShowAdLabel:!1,nativePrefixSponsoredWithProviderName:!1},meetnow:{showSponsored:!1,showAdChoices:!1,narrowTemplateShowButton:!0,narrowTemplateShowButtonNoBorder:!1,bannerShowAdLabel:!1,bannerTitleWithBody:!0},fan:{showSponsored:!0,showAdChoices:!0,narrowTemplateShowAdChoicesUnderSponsored:!0}},featurePromoConfig:{showToPaying:!0,showToUnderAge:!0,meetNowShowOnlyToSmallContactList:!1,meetNowShowOnlyWhenNotUsed:!1,meetNowSmallContactListSize:3,meetNowTitleVariant:2},placementsConfigs:{conversationList:{bannersList:[]}},skypeNumberAdConfig:{enabled:!1,titleVariant:1,subtitleVariant:1,buttonVariant:1,inlineButton:!0,image:"movinghome"},contactPermissionAdConfig:{enabled:!1},linkYourPhoneAdConfig:{enabled:!1},skypeNumberUpsellScreenConfig:{enabled:!1,titleVariant:1,subtitleVariant:1,buttonVariant:1},reloadOnClick:!0,xandrAdConfig:[{targetId:"V1B_NATIVE_TOP_COMPACT",invCode:"skype-native-test-1",trafficSourceCode:"skype-native-test-1",native:{body:{required:!1},title:{required:!0,max_length:140},sponsoredBy:{required:!1},clickUrl:{required:!0},image:{required:!0,aspect_ratios:[{min_width:300,min_height:300,ratio_width:1,ratio_height:1}],sizes:[{width:300,height:300}]}}},{targetId:"V1C_NATIVE_TOP_LARGE",invCode:"skype-native-test-1",trafficSourceCode:"skype-native-test-1",native:{body:{required:!1},title:{required:!0,max_length:140},sponsoredBy:{required:!1},clickUrl:{required:!0},image:{required:!0,aspect_ratios:[{min_width:300,min_height:600,ratio_width:2,ratio_height:3}],sizes:[{width:300,height:600}]}}},{targetId:"V2B_NATIVE_TOP_COMPACT",invCode:"skype-native-test-1",trafficSourceCode:"skype-native-test-1",native:{body:{required:!1},title:{required:!0,max_length:140},sponsoredBy:{required:!1},clickUrl:{required:!0},image:{required:!0,aspect_ratios:[{min_width:300,min_height:300,ratio_width:1,ratio_height:1}],sizes:[{width:300,height:300}]}}},{targetId:"V2B_NATIVE_BOTTOM_LARGE",invCode:"skype-native-test-1",trafficSourceCode:"skype-native-test-1",native:{body:{required:!1},title:{required:!0,max_length:140},sponsoredBy:{required:!1},clickUrl:{required:!0},image:{required:!0,aspect_ratios:[{min_width:300,min_height:600,ratio_width:2,ratio_height:3}],sizes:[{width:300,height:600}]}}},{targetId:"V1F_NATIVE_BOTTOM_COMPACT",invCode:"skype-native-test-1",trafficSourceCode:"skype-native-test-1",native:{body:{required:!1},title:{required:!0,max_length:140},sponsoredBy:{required:!1},clickUrl:{required:!0},image:{required:!0,aspect_ratios:[{min_width:300,min_height:300,ratio_width:1,ratio_height:1}],sizes:[{width:300,height:300}]}}},{targetId:"V1G_NATIVE_BOTTOM_LARGE",invCode:"skype-native-test-1",trafficSourceCode:"skype-native-test-1",native:{body:{required:!1},title:{required:!0,max_length:140},sponsoredBy:{required:!1},clickUrl:{required:!0},image:{required:!0,aspect_ratios:[{min_width:300,min_height:600,ratio_width:2,ratio_height:3}],sizes:[{width:300,height:600}]}}},{targetId:"V2E_NATIVE_BOTTOM_COMPACT",invCode:"skype-native-test-1",trafficSourceCode:"skype-native-test-1",native:{body:{required:!1},title:{required:!0,max_length:140},sponsoredBy:{required:!1},clickUrl:{required:!0},image:{required:!0,aspect_ratios:[{min_width:300,min_height:300,ratio_width:1,ratio_height:1}],sizes:[{width:300,height:300}]}}},{targetId:"V2E_NATIVE_BOTTOM_LARGE",invCode:"skype-native-test-1",trafficSourceCode:"skype-native-test-1",native:{body:{required:!1},title:{required:!0,max_length:140},sponsoredBy:{required:!1},clickUrl:{required:!0},image:{required:!0,aspect_ratios:[{min_width:300,min_height:600,ratio_width:2,ratio_height:3}],sizes:[{width:300,height:600}]}}},{targetId:"INLINE_MEDIUM_WIDE_NATIVE_AD",invCode:"skype-native-test-1",trafficSourceCode:"skype-native-test-1",native:{body:{required:!1},title:{required:!0,max_length:140},sponsoredBy:{required:!1},clickUrl:{required:!0},image:{required:!0,aspect_ratios:[{min_width:300,min_height:250,ratio_width:1.2,ratio_height:1}],sizes:[{width:300,height:250}]}}},{targetId:"TODAYBOT_V2B_NATIVE_TOP_COMPACT",invCode:"skype-native-test-1",trafficSourceCode:"skype-native-test-1",native:{body:{required:!1},title:{required:!0,max_length:140},sponsoredBy:{required:!1},clickUrl:{required:!0},image:{required:!0,aspect_ratios:[{min_width:300,min_height:300,ratio_width:1,ratio_height:1}],sizes:[{width:300,height:300}]}}},{targetId:"TODAYBOT_V2B_NATIVE_BOTTOM_LARGE",invCode:"skype-native-test-1",trafficSourceCode:"skype-native-test-1",native:{body:{required:!1},title:{required:!0,max_length:140},sponsoredBy:{required:!1},clickUrl:{required:!0},image:{required:!0,aspect_ratios:[{min_width:300,min_height:600,ratio_width:2,ratio_height:3}],sizes:[{width:300,height:600}]}}}],sidePaneNativeAdRefreshInterval:2e4,enableChannelsSidePaneNativeAd:!1,enableChannelInlineNativeAd:!1,enableChannelInlineAdsForPreview:!0,channelsSidePaneAdVariation:w.SidePaneAdVariation.ChannelsV2B,channelAdFrequency:3,enableTodayBotSidePaneNativeAd:!1,todayBotSidePaneAdVariation:w.SidePaneAdVariation.TodayBotV2B,enableAdsPersonalizationConsentInSettings:!1,learnMoreAdsPersonalizationUrl:"https://go.skype/ad.settings",personalizationEnabledDefaultSetting:!1,nativeAdMember:280,nativeAdKeywords:{pub:"Skype",lang:"en",cat:"communications"},xandrCDNUrl:"https://acdn.adnxs.com/ast/ast.js",xandrExchangeDomain:"ib.adnxs.com",xandrSimpleExchangeDomain:"ib.adnxs-simple.com",xandrContentLanguage:"EN",xandrUserLanguage:"EN"}}_getOnboardingDefaults(){return{enableWAMAutoSignIn:(0,I.isWAMAutoCountrySupported)(),enableCoachMarks:!0,enableReportProblemViaBot:!1,enableInContextCameraPermission:!1,showAvatarUploadPictureButton:!1,showAvatarPickerOnlyToUsersWithoutAvatar:!1,desktopAvatarPickerRedesignEnabled:!1,desktopAvatarPickerRedesignVariant:void 0,features:{enablePrefillPhoneNumberAndCode:!1,enableReportProblemDirectly:!1,disableAllDialogsAndPopCards:!1,enablePhoneNumberVerification:!1,showPrefillPhoneNumberPrompt:!1,checkAccountSectionDataLoadTimeOut:1e3,disableShowWebSetupWizardOnlyOnce:!1,landingCarouselWebsiteLink:"https://www.skype.com",userProfileScreen:{enabled:!1,enableAddPhone:!1,enableAddEmail:!1,learnMoreLink:"https://go.skype.com/privacy",closeBackIconEnabled:!1},emptyStateBanner:{enabled:!1,type:h.EngagementBannerType.CreateGroup,syncContactsBannerConvCountLimit:5},skipAudioVideoSettingsSteps:!0},landingPageWithCards:{enabled:!0,cardsConfig:{MeetNowExtended:{hideButtonIcon:!1}},timelineConfig:{0:{cards:["MeetNowExtended","MobileLandlines"],enableShareProfileButton:!0}},whatsNewCardAfterUpdate:{enabled:!0,showCardTimes:1,cardActionUrl:"https://go.skype.com/whats.new.skype"},inviteFriendsConfig:{enabled:!1,enabledMobile:!1,enabledGoogle:!1,enabledOutlook:!1},defaultTelAppConfig:{enabled:!1}},telemetryConsent:{enabled:!0},hubToShowAfterFinishedOnboarding:S.HubToShowAfterFinishedOnboarding.Recents,displayUserIconInAllHubs:!1,conversationsListEmptyStateDesignV2:{enabled:!1,backgroundVariant:S.ChatsEmptyStateBackground.Chat},enableEmptyStateCTADesignV2:!1,onboardingUpsellTask:{enabled:!1,onboardingTaskType:k.OnboardingTaskType.NewBingChat},enableNewOnboardingDialog:!1,disableWAMSwitchAccountDialog:!1,WAMAutoSignInOldUser:{enabled:(0,I.isWAMAutoCountrySupported)(),isFromRemote:!1,timeDurationInMsTillOldUserIsAutoSignedIn:7*A.DAY,autoSignInCooldownTime:24*A.HOUR},enableUpsellMobileCallingFreeTrials:!1,firstRunExperience:{isEnabled:!1,promptAllowedList:[],bannerAllowedList:[],enagagementBannerEnabled:!1,upsellChannelEnabled:!1},bannerExperience:{enabled:!1,cooldownTimeInMs:0,priorityOrder:[]},enableChinaPrivacyPopup:!1}}_getEngagementDefaults(){return{engagementSenderIdentity:["28:concierge","28:concierge_df"],conciergeBlockedMessageTypes:["RichText","RichText/Media_FlikMsg","RichText/Media_Card"],conciergeBotSettings:{enableVisibility:!1,enableMessageReactions:!1,allowedRecentMessageTypes:["RichText"]},notAllowedForChildrenList:[],enableExternalBrowserLinkOpen:!1,enableInAppBrowserLinkOpen:!1,enableFirstRunExperienceFiltering:!0,firstRunExperienceAllowedList:[],shouldPrevalidateChatServiceMessage:!1,notices:{enabled:!1,defaultTimeoutSeconds:1209600,enabledMessageContentTypes:[],maxBulkSize:20,schemaVersion:[1]},popCards:{enabled:!1,backButtonEnabled:!0,escKeyEnabled:!0,defaultTimeoutSeconds:1209600,maxBulkSize:10,toggleCloseOnLeft:!1,uiVersion:h.EngagementUiVersion.V3,imagePreloadEnabled:!0},coachMarks:{disabledCoachMarkAreas:[],disabledCoachMarkTypes:[],thresholdPerSession:0,navigationAnimationDelayInMilliseconds:1e3},tooltips:{campaignName:"",enabledTypes:[],emoticonsAfterBody:{},imageAfterBody:{},triggers:{},showGotItButton:{}},clientTriggeredEngagement:{enabled:!1,queueProcessingDelayInMs:500,campaignFiltering:{enabled:!1,allowedCampaignIds:[]}},engagementTelemetryAttributes:{allowedKeys:[]},engagementPostMessage:{enabled:!1,userContextAllowedOrigins:[]},engagementApiClient:{enabled:!0,engagementApiHostPath:"https://engagementapi.skype.com/v1",excludedCampaignIds:[],requestRetries:3,postApiEnabled:!1},engagementShareableContent:{enabled:!0,enableOneClickSend:!0,enableCustomMessageField:!1,enableCarousel:!0,dialogTitleVariant:h.EngagementShareableContentTextVariant.ShareContacts,cardBtnTitleVariant:h.EngagementShareableContentTextVariant.Share},notificationSettings:{emailNotificationsSettingsEnabled:!1,emailMissedMessageReminders:{enabled:!1,timeWindowInHours:24},emailMissedCallReminders:{enabled:!1,timeWindowInHours:24}},engagementMessagesQueue:{enabled:!1,refreshTime:6e5},signInReminders:{enabled:!1,schedule:[],throttlingInSeconds:-1,campaignId:"",emitControlTelemetryEnabled:!1},signOutReminders:{enabled:!1,schedule:[],throttlingInSeconds:-1,campaignId:"",emitControlTelemetryEnabled:!1},engagementHelperRetrySetting:{maxNumberOfRetries:5,exponentialTimeForRetryInitialTime:100,exponentialTimeForRetryMaxTime:5e3},engagementOfflineTargetedPullSetting:{searchForOfflineTargetedPullMetadataEnabled:!1},engagementCelebrationNotificationSetting:{enabled:!1,refreshTime:864e5,celebrationNotificationsTopContactCutOff:-1,isThrottlingOnLocalSettingsEnabled:!1,isThrottlingOnRoamingSettingsEnabled:!1,isContactCutOffEnabled:!1,getAllContactsMrisEnabled:!1,isDiscardingOnAppActiveEnabled:!1},whatsNewSetting:{enabled:!1,url:"https://go.skype.com/whats.new.skype",coachmarkEnabled:!1},inviteFriendsSetting:{enabled:!1,isBold:!1},guestUserUpsell:{enabled:!0,meetNowWebUrl:"https://www.skype.com/en/free-conference-call/?cm_mmc=guest_postcall",meetNowDeepLink:"skype-meetnow:?action=meetnow&partner=guestUpsell"},engagementPostCallCampaign:{enabled:!1,campaignId:"",campaignVariant:"",eligibleCallOrigins:[k.NavigationCallOrigin.ConversationHeader,k.NavigationCallOrigin.ConversationListItem,k.NavigationCallOrigin.LegacyCreateLobby,k.NavigationCallOrigin.LegacyJoinLobby,k.NavigationCallOrigin.CreateLobby,k.NavigationCallOrigin.JoinLobby,k.NavigationCallOrigin.DeeplinkWithCallTrue]},newAvatarPicker:!1,emoticonsAvatarsList:[{emoticonKey:"smilecat",gradientColor:k.EmoticonAvatarsBackgrounds.Orange},{emoticonKey:"1f639_catwithtearsofjoy",gradientColor:k.EmoticonAvatarsBackgrounds.Teal},{emoticonKey:"1f640_wearycat",gradientColor:k.EmoticonAvatarsBackgrounds.Green},{emoticonKey:"hearteyescat",gradientColor:k.EmoticonAvatarsBackgrounds.Pink},{emoticonKey:"1f438_frogface",gradientColor:k.EmoticonAvatarsBackgrounds.Yellow},{emoticonKey:"smilekoala",gradientColor:k.EmoticonAvatarsBackgrounds.Green},{emoticonKey:"1f434_horseface",gradientColor:k.EmoticonAvatarsBackgrounds.Teal},{emoticonKey:"1f43b_bearface",gradientColor:k.EmoticonAvatarsBackgrounds.Blue},{emoticonKey:"hug",gradientColor:k.EmoticonAvatarsBackgrounds.Yellow},{emoticonKey:"hedgehoghug",gradientColor:k.EmoticonAvatarsBackgrounds.Indigo},{emoticonKey:"bunnyhug",gradientColor:k.EmoticonAvatarsBackgrounds.Yellow},{emoticonKey:"foxhug",gradientColor:k.EmoticonAvatarsBackgrounds.Teal},{emoticonKey:"koala",gradientColor:k.EmoticonAvatarsBackgrounds.Teal},{emoticonKey:"cat",gradientColor:k.EmoticonAvatarsBackgrounds.Orange},{emoticonKey:"heidy",gradientColor:k.EmoticonAvatarsBackgrounds.Pink},{emoticonKey:"1f9a9_flamingo",gradientColor:k.EmoticonAvatarsBackgrounds.Yellow},{emoticonKey:"penguin",gradientColor:k.EmoticonAvatarsBackgrounds.Orange},{emoticonKey:"1f426_bird",gradientColor:k.EmoticonAvatarsBackgrounds.Pink},{emoticonKey:"1f989_owl",gradientColor:k.EmoticonAvatarsBackgrounds.Indigo},{emoticonKey:"bee",gradientColor:k.EmoticonAvatarsBackgrounds.Green},{emoticonKey:"flower",gradientColor:k.EmoticonAvatarsBackgrounds.Yellow},{emoticonKey:"1f992_giraffe",gradientColor:k.EmoticonAvatarsBackgrounds.Green},{emoticonKey:"stingray",gradientColor:k.EmoticonAvatarsBackgrounds.Orange},{emoticonKey:"hotchocolate",gradientColor:k.EmoticonAvatarsBackgrounds.Blue},{emoticonKey:"hungrycat",gradientColor:k.EmoticonAvatarsBackgrounds.Green},{emoticonKey:"movinghome",gradientColor:k.EmoticonAvatarsBackgrounds.Blue},{emoticonKey:"snegovik",gradientColor:k.EmoticonAvatarsBackgrounds.Indigo},{emoticonKey:"racoon",gradientColor:k.EmoticonAvatarsBackgrounds.Green},{emoticonKey:"1f998_kangaroo",gradientColor:k.EmoticonAvatarsBackgrounds.Teal},{emoticonKey:"octopus",gradientColor:k.EmoticonAvatarsBackgrounds.Yellow},{emoticonKey:"1f421_blowfish",gradientColor:k.EmoticonAvatarsBackgrounds.Blue},{emoticonKey:"1f988_shark",gradientColor:k.EmoticonAvatarsBackgrounds.Indigo}],oldFriendBack:{enable:!1,offlineTime:b.default.add(0,0,182),pushNotificationInterval:b.default.add(0,0,0,4)}}}_getSkypeEngagementDefaults(){return{experiments:{},pullCampaigns:{},blockedCampaignIds:[],shareableContent:{},birthdayContent:{campaignId:"",variantId:"",celebrationNotificationsTopContactCutOff:-1},bingToolboxCampaign:{campaignId:"",variantId:"",refreshThrottlingMs:6*A.HOUR},imageGenerationCampaign:{campaignId:"",variantId:"",refreshThrottlingMs:6*A.HOUR},bingConversationSuggestionsCampaign:{campaignId:"",variantId:"",refreshThrottlingMs:6*A.HOUR},contentChannelFRECampaign:{campaignId:"channels-campaign-chat-list",variantId:"channels-campaign-chat-list-varianta",refreshThrottlingMs:7*A.DAY,failedFetchRetryIntervalInHours:1},pigeonNotificationConfig:{enableCampaignNotification:!1,host:"https://pigeon.skype.microsoftapp.net/live",notifyMyFriendsConfig:{campaignName:"campaignnotifymyfriendspushpublic",enableNotifyMyFriends:!1}}}}_getS4LFeedbackDefaults(){return{forceSsoFlow:!1}}_getS4LMeetNowDefaults(){return u.default}_getS4LIntegrationsDefaults(){return{enableDesktop:!1,enableAps:!0,apsPublishedStatus:"published",bingIntegration:{enabled:!1,id:"bing",name:"Search",icon:"https://www.bing.com/favicon.ico",url:"https://www.bing.com/api/custom/v1/skype/findpanelconfig",version:1,brandColor:"",brandTextColor:""},integrations:[{enabled:!1,id:"youtube",name:"Youtube",brandColor:"#e62117",brandTextColor:"#ffffff",icon:"https://skypeapps.azureedge.net/assets/youtube/youtube.png",url:"https://skypeapps.azureedge.net/youtube/",version:1}],nativeIntegrationSettings:{onedrive:{maxRecentItemCount:5,shouldShareOnTappingFileItem:!0,shouldShowThumbnailAsFileTypeIcon:!1,shareCardType:"application/vnd.microsoft.card.thumbnail",shouldShowInAddFilesAsAnOption:!1}},findPanelLayout:{isFlatList:!1,includeMediaBarItemsInFlatList:!1,excludedMediaBarItemsInFlatList:[]},clarityEnabled:!1,clarityEndpoint:"https://www.clarity.ms/tag",clarityAppId:"g4zyq7lolw"}}_getS4LSisuDefaults(){return{msaClientFlight:"ReservedFlight33,suhs",msaClaims:"",msaFlightParameter:"phone2",msaLightweightEnabled:!0,cobrandId:m.MsaCobrand.SkypeDefault,enableNopa:!1,nopaVersion:1,enableCoBaSi:!0,coBaSiVersion:1,phoneVerificationCampaignEnabled:!1,signoutSurveyEnabled:!1,enableAvatarAppBadge:!1,phoneVerificationCampaignQueryInterval:6048e5,wamRequestRetryTimerInHours:1,identityUrls:{substitutionValue:"%username%",avatar:{enabled:!0,url:"https://avatar.skype.com/v1/avatars/%username%"},avatarPublic:{enabled:!0,url:"https://avatar.skype.com/v1/avatars/%username%/public"},profile:{enabled:!0,url:"https://edge.skype.com/profile/v1/users/%username%/profile"},profilePartial:{enabled:!0,url:"https://edge.skype.com/profile/v1/users/%username%/profile/partial"},ssoNonce:{enabled:!0,url:"https://edge.skype.com/sso/v1/skypetoken"}},reminderNotificationsSchedule:{logoutReminder:[1,3,7,15],remindersToCancelOnLaunch:10},backgroundTokenRefresh:{enabled:!0,enableRefreshTelemetry:!0,forceRefresh:!1,timerRefreshDayInterval:1},signInButtonLabelType:1,msaConvergenceFlags:{convergenceEnabled:!1,entryPointStalenessWindowEnabled:!0,entryPointStalenessWindow:3e5,softInterruptEnabled:!1,interruptInBackground:!1,interruptOnCalls:!1,interruptOnNotifications:!1},msaTokenKeyMigration:{enabled:!1,keychainKey:"Skype for Desktop MSAv2"},msaProfileAgeGroupTTL:108e5,aadcLearnMoreLink:"",alternativeLoginMethods:{methods:[],flipMainAndAlternativeSisuButtons:!1},enableMsixBackgroundTasks:!1,tokenRefreshRefreshThresholdInDays:10,oneAuthStage1Enabled:!1,oneAuthStage2Enabled:!1,enableSsoMultipleAccounts:!1,phoneAuthenticationEnabled:!1,autoDetectDevicePhoneNumberEnabled:{enabledForPhoneAuth:!1,enabledForPhoneVerification:!1},phoneAuthenticationTelemetryMsaCids:["c1777883d8509b4","5e0c026cf72b2614","9b65c6076fea86c7","32e1b4df9aa45166","799dea70f9314ccd","4708e64162ff5605","eac09023353ef8c6","fbf9839d2dbc5a7b","56b2c213f67af3c6","8b7d9aa8c2d7594d","f54551e3121ed2a","a86747bbfd25529d","c99c32d81afcc4e7","e89b8a40c4ba2035","8db638e8effd4834","4bbb0403520fc46f","f0ff91647297a98d","7fc5116e9f3682b0","a8e679adc3234b62","e0a517fb94f6ee87","5b931f51c277bbe8","d94da18d1f6752a6","eb29cbc8e5a2aa51","2923e6b20edbeaee","15816d85f0f51447","a761cba2a97a96cd","7ed9564708115e8a","1ad683f1a6138d74","85b8ff17525c35c9","8be911a26835eca0","93d40a026b0512c6"],phoneAuthenticationCodeNotReceivedWarningTimeoutSeconds:45,arkoseAPIUrl:"https://skype-api.arkoselabs.com/v2/53CF9C75-5431-4AAF-A518-E45A2F4D85A7/api.js",enableAccountSwitching:!1,isSignInRedesignEnabled:!1,enableNewAuthTokenProviders:!1,oneServiceTokenRefresh:{beforeExpiryMinutes:5}}}_getS4LPeopleDefaults(){return{newSkypeProfilePhoneVerificationEnabled:!1}}_getS4LUiDefaults(){return{onlinePresenceTimeoutSeconds:180,showReportAProblemInDesktopOverflow:!1,leftSideBarResizeMode:P.SideBarResizeMode.None,useNativeContextMenus:!0,androidTabletSizeThreshold:6.8,tabletConversationDetailsEnabled:!1,errorSafeImageAltViewDelayMs:200,enableBrowseKnownIssuesLink:!1,searchBarStyle:0,enableRecentChatsSwipeActions:!1,recentChatsSwipeActionsConfig:{left:["markread"],right:["more","call"],overScrollLeft:!0,overScrollRight:!1,overScrollDistance:150},contextHeaderDropdownActions:{oneOnOne:["settings","sendsms","privateconversation","newgroup","translate","highlignts"],group:["settings","shareLink","addpeople"]},enableWebFooterEverywhere:!1,enableWebFooterPreviewBadge:!1,enableWebFeedbackBanner:!1,isPstnCallDetectionFix:!1,joinLinkPlaceholderText:"https://join.skype.com/code",enableWindowRightClose:!1,limitedSupportBrowserToastConfig:{enabled:!0,downloadGoLink:"https://www.microsoft.com/en-us/edge"},enableFlatListVLV:!1,enableStackReactNavigationFreeze:!1,enableNativeBaseModals:!1,enableNativeBaseControls:!1,enableRefreshedPalette:!0,enableCollapsibleHeaderSearch:!1,enableTodayBotRightPane:!1,enableContentChannels:!1,enableContentChannelsPushNotifications:!1,enableContentChannelsPushNotificationsNavigationToArticle:!1,enableContentChannelsSyncNotifications:!1,contentChannelsSyncIntervalMinutes:60,contentChannelsFullSyncIntervalMinutes:60,contentChannelsSyncThrottlingMinutes:60,minFREContentChannelsJoin:1,maxFREContentChannelsJoin:30,maxFREChannelsPerCategory:5,maxFREPreselectedChannels:3,enableUGCCreationContextMenu:!1,contentChannelsJoinLink:"https://join.skype.com/channel/",enableContentChannelsCleanup:!1,numberOfChannelsToShowEmptyState:1,upsellCardItemsCount:1,upsellCardCycleIntervalInHours:1,upsellCardReShowIntervalInHours:168,upsellSimilarCardReShowIntervalInHours:24,contentChannelsBannerReShowIntervalInHours:72,upsellListItemsCount:10,enableUpsellCard:{all:!1,chats:!1,channels:!1},enableChannelsRightPane:!1,enableChannelsRightPaneForPreview:!1,rightPaneMinWidthThreshold:1140,rightPaneSuggestedChannelsCount:3,enableAutoJumpToEnd:!1,autoJumpToEndPeriodInDays:7,enableContentChannelsStreamBottomUpsell:!1,contentChannelsStreamBottomUpsellVariant:"a",unmuteContentChannelsByDefault:!1,storeCacheInMinutes:360,upsellCacheInHours:6,similarChannelsCacheInHours:1,sayHiPopupConfig:{enabledOnNewUser:!1,enabledOnExistingUser:!1,enabledOn409InitialRetry:!1,initialRetrySeconds:3},maxStoreTopCategories:4,articleReaderSize:P.RightSidebarSize.Large,appRatingPromptConfig:{enabled:!1,minDaysSinceInstall:3,minDaysSinceLastPrompt:3,metricsMonitorDurationInDays:1,minTotalCallingSeconds:5400,minSentMessages:8,minReadMessages:8,minTotalMessages:16,minNewContact:3,stopShowingAfterClickingYes:!1},miniContextMenuOffset:{x:0,y:0},enableMSNMarket:!1,enableMSNMarketAutoDetection:!1,msnMarketApi:"https://www.msn.com/pcs/api/",msnMarketRefreshIntervalInMinutes:1440,msnAssetsApi:"https://assets.msn.com/",skypeSupportedMarkets:["en-us","en-gb"],initSupportedMarketsTimeoutMs:5e3,msnSupportedMarketsRefreshIntervalInMinutes:10080,msnSupportedMarkets:{"en-us":{id:"en-us",value:"en-us",displayString:"United States (English)",direction:"ltr"}}}}_getS4LTelemetryDefaults(){return{telemetrySampling:{},perfTelemetrySampling:{},censusTelemetryEnabled:!1,clockSkewRefreshDurationInMins:1,ariaMaxEvents:0,ariaEventsReportIfGreater:0,enableTelemetryFiltering:!0,enableTelemetryConsentUI:!1,bingVizSettings:{enabled:!0,portalUrl:"https://gateway.bingviz.microsoftapp.net/receive"},enableNestSdkAppLifeCycleTelemetryImmediatelySending:!1,enableNestSdkPushNotifiationTelemetryImmediatelySending:!1,enableConfigIdsToViz:!1,priorityEventList:[],muid:{enabled:!0,refreshInterval:864e6,host:"https://c1.skype.com/c.gif"},enablePeregrineTelemetry:!0,enablePeregrineViewTelemetry:!0,peregrineTelemetryUrl:'https://browser.events.data.microsoft.com/OneCollector/1.0/t.js?qsp=true&name="[%EVENT_TYPE%]"&time="[%DATE_TIME%]"&iKey="o:0ded60c75e44443aa3484c42c1c43fe8"&apikey=0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279&data.actionType="[%ACTION_TYPE%]"&data.page.appType="channel"&data.page.product="SkypeChannel"&ext.user.localId="t:[%USER_ID%]"&data.locale.mkt="[%APP_LOCALE%]"',forcePiiOmit:{},enablePiiAssertionInMaster:!1}}getTelemetryDefaults(){return{kpi_inapp_activity_ended:{enabled:N},kpi_inapp_activity_start:{enabled:N},kpi_call_ended:{enabled:N},kpi_message_viewed:{enabled:N},kpi_message_sent:{enabled:N,percentage:10},kpi_message_delivered:{enabled:N,percentage:10},kpi_chatsync_complete:{enabled:N},kpi_pushnotif_delivered:{enabled:N},kpi_pushnotif_displayed:{enabled:N},kpi_badge_count_state:{enabled:N},kpi_client_init:{enabled:N},kpi_push_to_sync_complete:{enabled:N},kpi_search_request:{enabled:N},kpi_postsearch_action:{enabled:N},kpi_contacts_sync_complete:{enabled:N},kpi_chat_service_connection:{enabled:N},kpi_message_sent_retry:{enabled:N},kpi_chatsync_failed:{enabled:N},file_sent:{enabled:N},file_received:{enabled:N},log_crash_sent:{enabled:N},contacts_sync_start_time:{enabled:N},contacts_sync_end_time:{enabled:N},kpi_longpoll_complete:{enabled:N,percentage:1},kpi_longpoll_failed:{enabled:N,percentage:1},sendEcsExpirationTime:!0,engagement_push_notification_event:{enabled:N},SendTextMessageUI:{enabled:N,percentage:10}}}_getAsyncMediaDefaults(){return{auth_trusted_domains:"go.skype.com;login.skype.com;*.api.skype.com;*.asm.skype.com;*.asm.skype.net;neu1-api-xmm.cloudapp.net;*.neu1-api-xmm.cloudapp.net;url-preview.cloudapp.net;*.url-preview.cloudapp.net;latest-webclient.skype.com;web.skype.com;mockproxy-asynclib.cloudapp.net;mockproxy-asynclib3.cloudapp.net;mockproxy-asynclib2.cloudapp.net;authgwint.trafficmanager.net;authgw-preqa.cloudapp.net",trusted_domains:"go.skype.com;login.skype.com;*.api.skype.com;*.asm.skype.com;*.asm.skype.net;neu1-api-xmm.cloudapp.net;*.neu1-api-xmm.cloudapp.net;url-preview.cloudapp.net;*.url-preview.cloudapp.net;*.secure.skypeassets.com;*.secure.skypeassets.net;latest-webclient.skype.com;web.skype.com;mockproxy-asynclib.cloudapp.net;mockproxy-asynclib3.cloudapp.net;mockproxy-asynclib2.cloudapp.net;authgw-preqa.cloudapp.net;avatar.skype.com;apps.skypeassets.com",third_party_downloader_url_schemas:"https;http",storage_limits:{original:{size:314573500},imgpsh:{size:20971520},video:{size:104857600,format:["mp4","mov","webm"]},thumbnail:{size:5242880},audio:{size:20971520,format:["m4a","wav","mp3"]}},cdn_cookie_refresh_request_enabled:!0,cdn_cookie_setter_debounce_wait:6e4,ams_cookie_refresh_request_enabled:!0,ams_cookie_setter_debounce_wait:6e5,fallback_to_file:!1,ams_base_url:"https://api.asm.skype.com",ams_domain_url:[".asm.skype.com",".secure.skypeassets.com"],ams_skypetokenauth_url_format:"{0}/v1/skypetokenauth",ams_create_document_url_format:"{0}/v1/objects",ams_doc_url_format:"{0}/v1/objects/{1}",max_extension_length:4}}_getPesDefaults(){return{pes_config:"https://static-asm.secure.skypeassets.com/pes/v1/configs/854962fa4bbc4be6a04d545ef2e73ea9/views/default",sticker_config:"https://static-asm.secure.skypeassets.com/pes/v1/configs/fc800ab4c80e49d6a598bd6d403772e2/views/default",sticker_chat_config:"",gif_config:"https://static-asm.secure.skypeassets.com/pes/v1/configs/dc9817a7240f4451a3b97aa11cd75416/views/default"}}_getSkypeRootToolsDefaults(){return{ULBaseline:{}}}_getTrouterJScriptClientDefaults(){return{TrouterConnectionUrl:"https://go.trouter.skype.com/v4/a",TelemetryEnabled:!0,ClientTelemetryEventEnabled:{trouter_js_client_connected:!0,trouter_js_client_disconnected:!0,trouter_js_client_error:!0,trouter_js_client_progress:!0,trouter_js_client_response:!0,logHealthCheckError:!0,numberOfStepsToMaintain:0,sendProgressTimeoutSecs:0}}}_getDebugabilitySquadDefaults(){return{brb_enabled:!1,brb_upload_logs_for_hockeyapp_crash:!1}}_getSkypeRealTimeMediaDefaults(){return{Configurations:{CQF_Trigger:{S2S_Percent:10,PSTN_Percent:10,GroupCall_Percent:10,MinCallDurationSecs:5}}}}_getS4LStratusDefaults(){return{request:{includeDeviceIdInRequestPolicy:"requested"}}}_getOEMConfigDefaults(){return{zeroRating:{mccMncList:[]}}}_getIntConfigDefaults(){return{ecs:{hosts:["https://config.edge.skype.net"],fetchTimeout:void 0,ignoreActivationState:!0},chat:{productionHost:"https://client-s.gateway.messenger.live-int.com/",dogfoodHost:"https://client-s.gateway.messenger.live-int.com/",blacklistedHosts:[],prodCloudParam:"",dogfoodCloudParam:"",notifyLikes:!0,forceChSetOnSend:!0,serverSideEdits:!0,serverSideEdits1to1:!0,backgroundReleaseWakeLockTime:500,backgroundWaitForAmsUpload:!1,backgroundPostingHoldOwnWakeLockEnabled:!0,backgroundWakeLockWhilePostWaitingForTransfer:!0,authentication:{useRegToken:!0},syncBackoffOnNoNetwork:!0,restoreEndpointsTimeout:25e3,reportInternalFailures:!1,reportUnknownInternalFailures:!1,reportSystemExceptionInternalFailures:!1,syncWhenNoSubscription:!0,syncFreeFetchesConfig:{maxFetchesREST:4,bandwidthAwareFetchesREST:3},maxSimultaneousRESTRequests:{defaultMaxRequests:10,maxRequestsByNetworkType:{3:4,4:7}},enableForegroundMessagePostWithREST:{},recreateEndpointOnSameLocationRedirect:!0,updateEndpointOnEcsEtagChange:!1,dontPersistSessionInfoOnWeb:!0,durableEndpointId:{enabled:!1,recreateToMatchEnabled:!1},userPropertiesExpirationTime:6e4,chatServiceHostRefreshEnabled:!1,chatServiceHostRefreshInterval:1e4,chatServiceRedirectTimerEnabled:!1,msgApiConfig:{enabled:!1,host:"https://msgapi.int.teams.microsoft.com/",enableP2PThreadsWithUsers:!1,enableP2PThreadsWithBots:!1,enableP2PThreadsWithPstn:!1,enableP2PThreadsWithS4B:!1,enableP2PThreadsForExistingChats:!1,enableE2eeRequests:!1,isExclusive:!1},msgDeletionLearnMoreLink:"https://support.skype.com/faq/FA34636",keepConnectionIfNotActive:!1},abch:{profileUrl:"https://scd.skype.net/",appId:"d5e63001-9bae-4d30-9b77-fd84664df1ec"},bot:{joinLink:"https://join.skype.net/bot/"},contacts:{host:"https://contacts.skype.net/",dogfoodHost:"https://contacts.skype.net/"},profile:{profileV2Url:"https://profileservice-test-northeurope.trafficmanager.net/profile/v2/users/%username%/profile/private",profileV2PartialUrl:"https://profileservice-test-northeurope.trafficmanager.net/profile/v2/users/%username%/profile/partial",maxProfileAge:864e5},messageSearch:{host:"https://search-int.cloudapp.net/v2/",searchQueryDelay:0},stratus:{host:"https://qaapi.skype.net/"},secureStratus:{host:"https://qasecure.skype.net/"},appAssets:{host:"https://qaapps.skypeassets.net/"},promotions:{host:"https://qa-promotions.skype.net/"},go:{host:"https://qago.skype.net/"},aps:{host:"https://aps.infra.dev.skype.net/"},avatars:{host:"https://avatar.skype.net/v1/avatars/"},rps:{host:"https://edge.skype.net/"},optionsService:{productionHost:"https://options.skype.net/options/",dogfoodHost:"https://options.skype.net/options/"},peopleService:{host:"https://people.skype.net/"},entitlements:{host:"https://consumer.entitlement.test.skype.net/"},loginLive:{host:"https://login.live-int.com/",clientId:"0000000060403363",scopes:"service::lw.skype.net::MBI_SSL"},signUpLive:{host:"https://signup.live-int.com/signup"},accountLive:{host:"https://account.live-int.com/"},loginSkype:{host:"https://qalogin.skype.net/"},azureLoginSkype:{host:"https://a.qalogin.skype.net/",phoneAuthRelativeUrl:"v1/number/"},substrate:{host:"https://substrate.office.com/",msaProfileEndpointUrl:"profileB2/v2.0/me/profile"},asm:{cdnUrl:"https://static-asm.secure.skypeassets.com"},pes:{emoticonBaseUrl:"https://static-asm.secure.skypeassets.net/pes/v1/emoticons",skypeServiceHost:"static.asm.skype.net",tokenSourceEndpoint:"/pes/v1/petoken",cdnServiceHost:"static-asm.secure.skypeassets.net",cookieSourceEndpoint:"/token/token_to_cookies",cdnTokenTtlMs:24e4,rewriteRules:[{from:"static.asm.skype.net",to:"static-asm.secure.skypeassets.net"},{from:"api.asm.skype.net",to:"static-asm.secure.skypeassets.net"}],xmmFallbackUrl:"https://qalogin.skype.net/login/sso",xmmFallbackUrlParams:"?go=webclient.xmm&amp;"},urlPreview:{host:"https://urlp.asm.skype.net/v1/",gifSizeLimitInBytes:12e5,timeout:1e4},inviteLinkGenerator:{host:"https://inviteconnector.skype.net/"},registrar:{host:"https://qe.registrar.skype.net/",registrationRelativeUrl:"v2/registrations"},rewards:{host:"https://int.rewardsplatform.microsoft.com/",offerEndpoint:"dapi/me/activities/",rewardsInfoEndpoint:"dapi/me/",placeOrder:"dapi/me/orders/"},channelsApi:"https://channels.skype.net/api/"}}_getConfigDefaults(){return{ecs:{hosts:["https://config.edge.skype.com"],fetchTimeout:void 0,ignoreActivationState:!0},chat:{productionHost:"https://client-s.gateway.messenger.live.com/",dogfoodHost:"https://co4-df-client-s.gateway.messenger.live.com/",blacklistedHosts:[],prodCloudParam:"cloud=apis",dogfoodCloudParam:"cloud=df-apis",notifyLikes:!0,forceChSetOnSend:!0,serverSideEdits:!0,serverSideEdits1to1:!0,backgroundReleaseWakeLockTime:500,backgroundWaitForAmsUpload:!1,backgroundPostingHoldOwnWakeLockEnabled:!0,backgroundWakeLockWhilePostWaitingForTransfer:!0,authentication:{useRegToken:!0},syncBackoffOnNoNetwork:!0,restoreEndpointsTimeout:25e3,reportInternalFailures:!1,reportUnknownInternalFailures:!1,reportSystemExceptionInternalFailures:!1,syncWhenNoSubscription:!0,syncFreeFetchesConfig:{maxFetchesREST:4,bandwidthAwareFetchesREST:3},maxSimultaneousRESTRequests:{defaultMaxRequests:10,maxRequestsByNetworkType:{3:4,4:7}},enableForegroundMessagePostWithREST:{},recreateEndpointOnSameLocationRedirect:!0,updateEndpointOnEcsEtagChange:!1,dontPersistSessionInfoOnWeb:!0,durableEndpointId:{enabled:!1,recreateToMatchEnabled:!1},userPropertiesExpirationTime:6e4,chatServiceHostRefreshEnabled:!1,chatServiceHostRefreshInterval:1e4,chatServiceRedirectTimerEnabled:!1,msgApiConfig:{enabled:!1,host:"https://msgapi.teams.live.com/",enableP2PThreadsWithUsers:!1,enableP2PThreadsWithBots:!1,enableP2PThreadsWithPstn:!1,enableP2PThreadsWithS4B:!1,enableP2PThreadsForExistingChats:!1,enableE2eeRequests:!1,isExclusive:!1},msgDeletionLearnMoreLink:"https://support.skype.com/faq/FA34636",keepConnectionIfNotActive:!1},auth:{skypeTokenFetchBeforeExpiryMinutes:720,skypeTokenFetchBeforeExpiryMinutesUWP:60,skypeTokenFetchBeforeExpiryMinutesGuest:5,skypeTokenFetchBeforeExpiryMinutesPhoneAccount:720},profile:{profileV2Url:"https://edge.skype.com/profile/v2/users/%username%/profile/private",profileV2PartialUrl:"https://edge.skype.com/profile/v2/users/%username%/profile/partial",maxProfileAge:864e5},abch:{profileUrl:"https://pnv.skype.com/profile/",appId:"d5e63001-9bae-4d30-9b77-fd84664df1ec"},asm:{cdnUrl:"https://static-asm.secure.skypeassets.com"},bot:{joinLink:"https://join.skype.com/bot/"},contacts:{host:"https://contacts.skype.com/",dogfoodHost:"https://df.contacts.skype.com/"},feedback:{host:"https://feedback.skype.net",sendLogsByDefault:!1},search:{longQueryCharCount:3},graphSearch:{searchQueryDelay:0},messageSearch:{host:"https://msgsearch.skype.com/v2/",searchQueryDelay:0},groupDbSearch:{searchQueryDelay:100},botSearch:{searchQueryDelay:0},stratus:{host:"https://api.skype.com/"},secureStratus:{host:"https://secure.skype.com/"},appAssets:{host:"https://apps.skypeassets.com/"},promotions:{host:"https://api.promotions.skype.com/"},go:{host:"https://go.skype.com/"},aps:{host:"https://api.aps.skype.com/"},avatars:{host:"https://avatar.skype.com/v1/avatars/"},rps:{host:"https://edge.skype.com/"},optionsService:{productionHost:"https://options.skype.com:443/options/",dogfoodHost:"https://options-df.skype.com:443/options/"},peopleService:{host:"https://people.skype.com/"},entitlements:{host:"https://consumer.entitlement.skype.com/"},loginLive:{host:"https://login.live.com/",clientId:"00000000480BC46C",scopes:"service::lw.skype.com::MBI_SSL"},signUpLive:{host:"https://signup.live.com/signup"},accountLive:{host:"https://account.live.com/"},loginSkype:{host:"https://login.skype.com/"},azureLoginSkype:{host:"https://a.login.skype.com/",phoneAuthRelativeUrl:"v1/number/"},substrate:{host:"https://substrate.office.com/",msaProfileEndpointUrl:"profileB2/v2.0/me/profile"},downloadSkype:{downloadSkypeUrl:"https://www.skype.com/get-skype"},pes:{emoticonBaseUrl:"https://static-asm.secure.skypeassets.com/pes/v1/emoticons",skypeServiceHost:"static.asm.skype.com",tokenSourceEndpoint:"/pes/v1/petoken",cdnServiceHost:"static-asm.secure.skypeassets.com",cookieSourceEndpoint:"/token/token_to_cookies",cdnTokenTtlMs:24e4,rewriteRules:[{from:"static.asm.skype.com",to:"static-asm.secure.skypeassets.com"},{from:"api.asm.skype.com",to:"static-asm.secure.skypeassets.com"}],xmmFallbackUrl:"https://login.skype.com/login/sso",xmmFallbackUrlParams:"?go=webclient.xmm&amp;"},profileCard:{manageProfileGoLink:"account.profile",manageProfileGoLinkContactDetails:"account.profile#contactDetailsTab",manageAccountGoLink:"myaccount",closeMyAccountUrl:"https://go.microsoft.com/fwlink/?linkid=854340",closeMyAccountEndUrl:"https://account.live.com/MessagePage.aspx",closeMyAccountWebUrl:"https://go.skype.com/closeaccount",editProfileGoLink:"editmicrosoftaccount",learnMoreUrl:"https://go.skype.com/profilechanges.skype",manageMSAccountUrl:"https://account.live.com/names/Manage"},mySettings:{termsOfServiceGoLink:"tou"},balanceState:{fairUsagePolicyGoLink:"fair.usage.policy",manageSubscriptionsGoLink:"myaccount",callingRatesGoLink:"prices",callingOffersGoLink:"client.rates",noCreditGoLink:"check.account",noCreditLinkEnabled:!0,serviceDetailsGoLink:"client.s4l.service-settings"},skypeGoLinks:{servicesAgreement:"https://go.skype.com/microsoft.services.agreement",privacyAndCookies:"https://go.skype.com/privacy",refundPolicy:"https://go.skype.com/tou.refund",publicWebSafety:"https://go.skype.com/web.incognito",amazonPurchase:"https://go.skype.com/amazon",aadcLearnMoreLink:"https://go.skype.com/aadc.support.faq",giftSkypeCreditLink:"https://go.skype.com/send.credit",dateOfBirth:"https://go.skype.com/email.dob",phoneSignIn:"https://go.skype.com/phone.sign.in",phoneSignInOtcTroubleshooting:"https://go.skype.com/phone.sign.in.otc",phoneSignInLinkToMsa:"https://go.skype.com/phone.sign.in.account",contactDetailsInSkypeProfile:"https://go.skype.com/msa.skype.contact.details.faq"},registrar:{host:"https://prod.registrar.skype.com/",registrationRelativeUrl:"v2/registrations"},rewards:{host:"https://prod.rewardsplatform.microsoft.com/",offerEndpoint:"dapi/me/activities/",rewardsInfoEndpoint:"dapi/me/",placeOrder:"dapi/me/orders/"},pstn:{host:"https://mrrcountries.cdn.skype.com/",ratesEndpoint:"pstn/v1.2/",indiaRegulatoryFaq:"https://go.skype.com/indiafaq",netherlandsRegulatoryFaq:"https://go.skype.com/help.calling.netherlands"},cortana:{mri:"28:cece905d-8137-4f70-8cbc-e94e16211a46"},bing:{signalsHost:"https://platform.bing.com/"},suggestions:{feedbackHost:"https://search.knowledge.store/api/SuggestedActions/Feedback"},urlPreview:{host:"https://urlp.asm.skype.com/v1/",gifSizeLimitInBytes:12e5,timeout:1e4},inviteLinkGenerator:{host:"https://inviteconnector.skype.com/"},termsUrl:{host:"https://go.microsoft.com/fwlink/?LinkID=246338"},infringementUrl:{host:"https://www.microsoft.com/info/cpyrtInfrg.html"},externalReportingUrl:{infringement:"https://go.skype.com/report.infringement",revengePorn:"https://go.skype.com/report.revengeporn"},privacyUrl:{host:"https://go.microsoft.com/fwlink/?LinkId=521839",splitSearchSuggestionsSettingsUrl:"https://go.microsoft.com/fwlink/?linkid=873474",profileLearnMoreUrl:"https://go.skype.com/privacy.profile",receiveContactSuggestionsUrl:"https://go.skype.com/receive.suggestions",appearInSuggestionsUrl:"https://go.skype.com/appear.suggestions"},consumerHealthPrivacy:"https://go.microsoft.com/fwlink/?linkid=2259814",frenchAccessibilityConformanceUrl:{label:"Accessibilité: partiellement conforme",host:"https://www.microsoft.com/fr-fr/accessibility/accessibility-statement"},italianAccessibilityConformanceUrl:{label:"Dichiarazione di accessibilità",host:"https://www.microsoft.com/it-it/accessibility/declarations"},azureMediaServices:{apiUrl:"https://api.azms.skypeassets.com/api/"},feedbackBot:{id:"a62068e3-63e9-4ffc-89a6-14d841e224d2",displayName:"Skype Bot"},endpointPresence:{trouterUserStatusEnabled:!1,inactiveDelay:12e4,useSystemIdle:!1,idleSystemTimeWindow:180,ensurePresencePublished:!1},presence:{presenceAwayTimerInSeconds:3600,enablePresenceChangeNotification:!1,enableLegacyPresence:!0,enableUpsPresence:!1,upsUrl:"https://noamdf.presence.skype.com/",upsClientType:"skype4life",prioritizeUps:!1,enableUpsInitialPresenceFetch:!1,enableEndpointRenewInterval:!1,endpointRenewIntervalMs:1*A.HOUR,enablePresencePolling:!1,presencePollingIntervalMs:1*A.HOUR},iOSAppStore:{host:"itms-apps://itunes.apple.com/app/",chinaBundleID:"com.skype.tomskype.t2",chinaAppID:"419713786",iPhoneAppID:"304878510"},androidPlayStoreUrl:{url:"market://details?id=com.skype.raider"},windowsStore:{reviewUrl:"ms-windows-store://review/?ProductId=9wzdncrfj364",feedback:{baseUrl:"windows-feedback:?contextid=596&tabid=2&newFeedback=true&feedbackType=",feedbackType:"2",suggestionType:"1"}},helpGoParam:{browseKnownIssues:"s4l.browseissues",supportArticles:"help.t2d",upgradeLearnMore:"upgrade.learnmore",skypeStatus:"skype.status"},feedbackAndProblemGoParam:{feedback:"s4l.sendfeedback",problem:"s4l.reportproblem",suggestAddIns:"feedback.addins",rating:"feedback.rate",userVoice:"feedback.uv"},brb:{submitPath:"https://brbv2.skype.com/AuthService.svc/SubmitBRBReport/S4L/",releasePath:"https://brbv2.skype.com/AuthService.svc/release?container=",version:"2016-05-31",blobType:"BlockBlob",blobDisposition:"attachment",logsName:"/logs.zip?",screenshotName:"/screenshot.png?",feedbackSubmitPath:"https://feedback.skype.com/survey/questionanswerpost?id=slp",enableHeartEntryPoint:!1,disableShakeAndSendByDefault:!1,extendReportTitle:"Extend report"},calling:{emergencyCallingLearnMoreLink:"https://go.skype.com/emergency/",disableEcsParamCache:!1,disableSharedIdCache:!1,enableDeferredStartup:!1},avSettings:{learnMoreLink:"https://go.skype.com/call.quality.guide",webcamLearnMoreLink:"https://support.microsoft.com/help/2998316/"},msAccountUrl:{url:"https://account.microsoft.com"},msAccountContactInfoUrl:{url:"https://account.microsoft.com/profile/contact-info"},combinedSisu:{bundle_version:"0.0.0.0"},welcomeScreenProblemSigningInUrl:{url:"https://go.skype.com/help.password.faq2"},telemetryInfoUrl:{url:"https://go.skype.com/faq.telemetry"},checkAccountUrl:{goParam:"check.account"},sms:{host:"https://consumer.entitlement.skype.com/",organizationId:"skype"},creditExpiration:{creditExpirationFaqLink:"https://support.skype.com/en/faq/FA10378/how-do-i-reactivate-skype-credit"},connectors:{host:"https://outlook.office.com/connectors/",home:"https://outlook.office.com/connectors/Home/Login/#/configurations"},gogo:{enabled:!1,ssid:["gogoinflight","gogowifi"],isOnGogoIpRange:!1},autoBuddySetup:{url:"https://join.skype.com/setup"},readReceipts:{learnMoreLink:"https://go.skype.com/receipts.help"},teams:{imgHost:"https://img.teams.skype.com/amer/beta/users/"},database:{splitLargeTransactions:!1},msGraph:{host:"https://graph.microsoft.com/v1.0"},captivePortalDetection:{statusCode:200,enabled:!0,url:"http://www.msftconnecttest.com/",browserUrl:"http://www.msftconnecttest.com/redirect",path:"connecttest.txt",expectedContent:"Microsoft Connect Test",timeout:1e4},debug:{verboseDbLogging:"off"},fileNode:{learnMoreLink:"https://go.skype.com/file.sharing.limits"},images:{cacheControlRequestHeader:""},restClient:{defaultTimeout:6e4,checkCorruptNullBody:!1,originHeaderValue:void 0},hotkeys:{learnMoreUrl:"https://go.skype.com/keyboard.shortcuts"},translator:{help:"https://go.skype.com/translator.help",learnMoreUrl:"https://go.skype.com/translator.learnmoreurl",privacyStatementUrl:"https://go.microsoft.com/fwlink/?LinkId=521839",speechConsentLearnMoreUrl:"https://go.microsoft.com/fwlink/p/?linkid=2147642"},shareExternalPlatforms:{gmail:"https://mail.google.com/mail/?view=cm&fs=1&su={subject}&body={body}",outlook:"https://outlook.office.com/mail/deeplink/compose?subject={subject}&body={body}",facebook:"https://www.facebook.com/sharer.php?u={url}"},noiseSuppression:{learnMoreUrl:"https://www.skype.com/go/audiovideo.settings"},togetherModeNotice:{learnMoreUrl:"https://go.skype.com/together.mode"},formatting:{learnMoreUrl:"https://go.skype.com/faq.formatting"},twinCam:{learnMoreUrl:"https://go.skype.com/twin.cam"},musicMode:{learnMoreUrl:"https://go.skype.com/high.fidelity.audio"},signInWithQrCode:{needHelpUrl:"https://go.skype.com/scotty.sign.in"},channelsApi:"https://channels.skype.com/api/",serviceWorker:{enableServiceWorker:!1},useDALQuickSqliteStorage:!1,dalSqliteBusyTimeout:0,dalSqliteWALJournalMode:!1,enableDALConnectorsRepo:{read:!1,write:!1},enableDALConsumedBotMessagesRepo:{read:!1,write:!1},enableDALContactsRepo:{read:!1,write:!1},enableDALContentChannelRepo:{read:!1,write:!1},enableDALContentChannelMessageRepo:{read:!1,write:!1},enableDALContentChannelNotificationRepo:{read:!1,write:!1},enableDALEngagementMessagesQueueRepo:{read:!1,write:!1},enableDALEngagementPullCampaignsRepo:{read:!1,write:!1},enableDALFeaturedAgentsRepo:{read:!1,write:!1},enableDALFileCacheMetadataRepo:{read:!1,write:!1},enableDALInternalDataRepo:{read:!1,write:!1},enableDALLocalNotificationsRepo:{read:!1,write:!1},enableDALMessagesRepo:{read:!1,write:!1},enableDALPersistentActionsRepo:{read:!1,write:!1},enableDALPopCardsRepo:{read:!1,write:!1},enableDALAgentsRepo:{read:!1,write:!1},enableDALCallLogsRepo:{read:!1,write:!1},enableDALConversationsRepo:{read:!1,write:!1},enableDALDraftsRepo:{read:!1,write:!1},enableDALMediaDraftsRepo:{read:!1,write:!1},enableDALMiniProfileRepo:{read:!1,write:!1},enableDALFileTrackerRepo:{read:!1,write:!1},enableDALImagePrefetchInfoRepo:{read:!1,write:!1},enableDALIntegrationConsentsRepo:{read:!1,write:!1},enableDALLocalAddressBookContactsRepo:{read:!1,write:!1},enableDALTelemetryRepo:{read:!1,write:!1},enableDALAlertsRepo:{read:!1,write:!1},pnh:{androidFCMVersion:"8.16",androidADMVersion:"8.16",electronVersion:"1.10",iosApnsWithAlertsVersion:"8.22",iosApnsVersion:"8.13_cv",webVersion:"2.10",enableIOSReceiveBackgroundStopRingerEvent:!1},pnhEncryption:{enabled:!1},webNotificationPromptCooldown:{enabled:!1,enabledOnEdge:!1,openEdgeSettingUrl:"edge://settings/content/siteDetails?site=https%3A%2F%2Fweb.skype.com"},cookie:{canSetThirdPartyCookies:!1},enableHideGalleryPanelLeftNavShoreline:!1}}_initCapability(e){return e}test_getEcsFallbacks(){return this._getEcsFallbacks()}test_initCapability(e){return this._initCapability(e)}test_trigger(){this.trigger()}};o.__decorate([c.autoSubscribe],D.prototype,"isMurphyUser",null),o.__decorate([c.autoSubscribe],D.prototype,"getMergedEcsConfig",null),o.__decorate([c.autoSubscribe],D.prototype,"getSkypeAudioLibraryFeatures",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LCaapFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LCaapFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LIntegrationsFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LIntegrationsFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LMessagingFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LMessagingFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LMessagingConfigIds",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LUiConfigIds",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LMessagingExperimentalConfigString",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LUiExperimentalConfigString",null),o.__decorate([c.disableWarnings],D.prototype,"dangerouslyGetS4LMessagingFeatures",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LContactsFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LContactsFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LSearchFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LSearchFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LCommerceFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"dangerouslyGetS4LCommerceFeatures",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LEntitlementFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LEntitlementFeaturesNoSubscription",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LCommerceFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getHeaders",null),o.__decorate([c.disableWarnings],D.prototype,"getHeadersNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getPeopleSearchSettings",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LNativePlatformsEcsConfig",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LNativePlatformsEcsConfigNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LCMCFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LCMCFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getTelemetryFeatures",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LTelemetryFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LTelemetryFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LMeetNowFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LMeetNowFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getPesConfig",null),o.__decorate([c.autoSubscribe],D.prototype,"getAsyncMediaFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getAsyncMediaFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getSkypeRootToolsConfig",null),o.__decorate([c.autoSubscribe],D.prototype,"getTrouterJScriptClientConfig",null),o.__decorate([c.autoSubscribe],D.prototype,"getMDNTRAPClientConfig",null),o.__decorate([c.disableWarnings],D.prototype,"getJoinFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getJoinFeatures",null),o.__decorate([c.autoSubscribe],D.prototype,"getAdsFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getAdsFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getOnboardingFeatures",null),o.__decorate([c.autoSubscribe],D.prototype,"getEngagementFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getEngagementFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getSkypeEngagementFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getSkypeEngagementFeaturesNoSubscription",null),o.__decorate([c.disableWarnings],D.prototype,"dangerouslyGetOnboardingFeatures",null),o.__decorate([c.autoSubscribe],D.prototype,"getDebugabilitySquad",null),o.__decorate([c.autoSubscribe],D.prototype,"getSkypeRealTimeMedia",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LSisuFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"dangerouslyGetS4LSisuFeatures",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LPeopleFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"dangerouslyGetS4LPeopleFeatures",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LUiFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LUiFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LStratusFeatures",null),o.__decorate([c.autoSubscribe],D.prototype,"getOEMConfig",null),o.__decorate([c.autoSubscribe],D.prototype,"getFeedbackFeatures",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LClipsFeatures",null),o.__decorate([c.disableWarnings],D.prototype,"getS4LClipsFeaturesNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getS4LWhiteboardFeatures",null),o.__decorate([c.autoSubscribe],D.prototype,"getULLogUploadConfig",null),o.__decorate([c.autoSubscribe],D.prototype,"getConfigSettings",null),o.__decorate([c.disableWarnings],D.prototype,"getConfigSettingsNoSubscription",null),o.__decorate([c.autoSubscribe],D.prototype,"getCachedEcsConfig",null),o.__decorate([c.autoSubscribe],D.prototype,"isUserEcsConfig",null),o.__decorate([c.autoSubscribe],D.prototype,"getTrustedDomainInfo",null),o.__decorate([c.autoSubscribe],D.prototype,"isTrustedDomain",null),o.__decorate([c.autoSubscribe],D.prototype,"getBingUrls",null),o.__decorate([c.autoSubscribe],D.prototype,"getBingMapsConfig",null),o.__decorate([c.disableWarnings],D.prototype,"isDesktopVIMEnabled",null),o.__decorate([c.autoSubscribe],D.prototype,"isWebNotificationPromptCooldownEnabled",null),o.__decorate([c.disableWarnings],D.prototype,"isWebNotificationPromptCooldownEnabledNoSubscription",null),o.__decorate([c.disableWarnings],D.prototype,"isNativeIncomingCallNotificationsEnabled",null),o.__decorate([c.autoSubscribe],D.prototype,"isCallMonitorEnabled",null),o.__decorate([c.disableWarnings],D.prototype,"isCallMonitorEnabledNoSubscription",null),D=o.__decorate([c.AutoSubscribeStore],D);const M=new D;t.default=M},220236:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trackCaptureFailure=t.trackCaptureSuccess=void 0;const o=i(197582),n=i(126033),r=o.__importDefault(i(606617)),a=i(82485);t.trackCaptureSuccess=(e,t,i)=>{var o;const s={imageCount:0,videoCount:0},{imageCount:l,videoCount:c}=null!==(o=null==i?void 0:i.reduce(((e,t)=>(r.default.isImageExtension(t.extension)?e.imageCount++:(r.default.isVideoExtension(t.extension)||r.default.isAVIExtension(t.extension))&&e.videoCount++,Object.assign({},e))),s))&&void 0!==o?o:s;a.Instrumentation.track(new n.CaptureSuccessTelemetry(e,t,c,l))};t.trackCaptureFailure=(e,t,i,o)=>{a.Instrumentation.track(new n.CaptureFailureTelemetry(e,t,i,o))}},370950:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isOfficeLensAvailable=r,t.isOfficeLensTelemetryActive=function(){return r()&&n.default.isTelemetryEnabled()},t.isSupportedOnOS=a;const o=i(197582),n=o.__importDefault(i(454398));o.__importDefault(i(150343)),o.__importDefault(i(655192)),o.__importDefault(i(139221));function r(){return n.default.isImplemented()&&!1}function a(){return!1}},560694:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.launchInGalleryMode=function(){const e=y.PermissionPromptOptions.SkipPrePrompt;return S.default.requestPermission(y.PermissionType.CameraRoll,e).then((e=>e!==r.PermissionStatus.Granted&&e!==r.PermissionStatus.Limited?a.Rejected():P((g.log(d.LogTraceArea.Capture,"Starting OfficeLens in Gallery mode"),n.default.enableTelemetryEvents(),n.default.startInGalleryMode(h.getLocale(),C.default.getPrimaryColorNoSubscription(),v.default.isDarkThemeNoSubscription(),v.default.shouldUseSystemThemeNoSubscription()).finally((()=>n.default.disableTelemetryEvents()))))))},t.launchInCameraMode=function(){const e=y.PermissionPromptOptions.SkipPrePrompt;return S.default.requestPermission(y.PermissionType.Camera,e).then((t=>t!==r.PermissionStatus.Granted?a.Rejected():S.default.requestPermission(y.PermissionType.CameraRoll,e))).then((e=>e!==r.PermissionStatus.Granted?a.Rejected():P((g.log(d.LogTraceArea.Capture,"Starting OfficeLens in Camera mode"),n.default.enableTelemetryEvents(),n.default.startInCameraMode(h.getLocale(),C.default.getPrimaryColorNoSubscription(),v.default.isDarkThemeNoSubscription(),v.default.shouldUseSystemThemeNoSubscription()).finally((()=>n.default.disableTelemetryEvents()))))))},t.launchInAvatarPickerMode=function(){const e=y.PermissionPromptOptions.SkipPrePrompt;return S.default.requestPermission(y.PermissionType.Camera,e).then((t=>{if(t===r.PermissionStatus.Granted)return S.default.requestPermission(y.PermissionType.CameraRoll,e)})).then((e=>e!==r.PermissionStatus.Granted?a.Rejected():P((g.log(d.LogTraceArea.Capture,"Starting OfficeLens in Avatar Picker mode"),n.default.enableTelemetryEvents(),n.default.startInAvatarPickerMode(h.getLocale(),C.default.getPrimaryColorNoSubscription(),v.default.isDarkThemeNoSubscription(),v.default.shouldUseSystemThemeNoSubscription()).finally((()=>n.default.disableTelemetryEvents()))))))},t.launchInFallbackCameraMode=function(e){return P(function(e){g.log(d.LogTraceArea.Capture,"Starting OfficeLens in Fallback Camera mode");const t=e===n.FallbackCameraType.Video?T.LensFallbackMode.RecordVideo:T.LensFallbackMode.TakePicture;return n.default.startInFallbackCameraMode(e).then((e=>(g.track(new T.LensFallbackAndroid(t)),e)))}(e))},t.launchInFallbackGalleryMode=function(){return P((g.log(d.LogTraceArea.Capture,"Starting OfficeLens in Fallback Gallery mode"),n.default.startInFallbackGalleryMode().then((e=>(g.track(new T.LensFallbackAndroid(T.LensFallbackMode.PickFromGallery)),e)))))},t.launchInBarcodeScannerMode=function(e,t){const i=y.PermissionPromptOptions.SkipPrePrompt;return S.default.requestPermission(y.PermissionType.Camera,i).then((i=>i!==r.PermissionStatus.Granted?a.Rejected():function(e,t,i){return e.then((e=>{if(e.statusCode===n.OfficeLensStatusCode.Success){g.log(d.LogTraceArea.Capture,"OfficeLens barcode processing successful");const o=e.identifiers[0].content.barcode;switch(i){case l.BarcodeScanReason.JoinLink:try{(0,b.openJoinLink)(o,!0,t),m.trackMediaCapturedSuccess(1)}catch(e){return g.warn(d.LogTraceArea.Capture,"OfficeLens barcode error: "+f.default.errorAsString(e,!0)),m.trackMediaCapturedFailure("OfficeLens barcode error: "+f.default.errorAsString(e,!0)),s.default.showErrorAlert(h.getString("Global.ErrorTitle"),t),a.Rejected(`OfficeLens barcode error: ${f.default.errorAsString(e,!0)}`)}break;case l.BarcodeScanReason.QrSignIn:return m.trackMediaCapturedSuccess(1),a.Resolved(o)}return a.Resolved(o)}return g.warn(d.LogTraceArea.Capture,"OfficeLens SDK error | Status code: "+e.statusCode.valueOf()),m.trackMediaCapturedFailure("OfficeLens SDK error",e.statusCode),s.default.showErrorAlert(h.getString("Global.ErrorTitle"),t),a.Rejected(`OfficeLens SDK error | Status code: ${e.statusCode.valueOf()}`)}))}(function(e){g.log(d.LogTraceArea.Capture,"Starting OfficeLens in Barcode Scanner mode"),n.default.enableTelemetryEvents();const t=e===l.BarcodeScanReason.QrSignIn;return n.default.startInBarScannerMode(h.getLocale(),C.default.getPrimaryColorNoSubscription(),!t&&v.default.isDarkThemeNoSubscription(),t||v.default.shouldUseSystemThemeNoSubscription()).finally((()=>n.default.disableTelemetryEvents()))}(t),e,t)))};const o=i(197582),n=o.__importStar(i(454398)),r=i(380157),a=o.__importStar(i(397691)),s=o.__importDefault(i(206483)),l=i(584559),c=i(154235),d=i(815146),u=o.__importDefault(i(606617)),p=i(546164),g=o.__importStar(i(85385)),h=o.__importStar(i(704704)),m=o.__importStar(i(420320)),S=o.__importDefault(i(251733)),_=o.__importDefault(i(246230)),f=o.__importDefault(i(655192)),y=i(331079),C=o.__importDefault(i(252089)),v=o.__importDefault(i(266872)),b=i(893667),T=i(776098);function P(e){return e.then((e=>{if(e.statusCode===n.OfficeLensStatusCode.Success){g.log(d.LogTraceArea.Capture,"Successfully received OfficeLens data.");const t=e.identifiers.map((e=>{const t=e.content,i=e.thumbnail,o=(0,p.parseFileUri)(t.uri),n=o?u.default.extractFileNameWithExtension(o.path):"",r={file:{uri:t.uri,name:n,size:t.fileSize,type:t.mimetype},extension:u.default.extractFileExtension(n),dimensions:{width:t.width,height:t.height}};if(i){const e=(0,p.parseFileUri)(i.uri),t=e?u.default.extractFileNameWithExtension(e.path):"";r.thumbnail={file:{uri:i.uri,name:t,size:i.fileSize,type:i.mimetype},extension:u.default.extractFileExtension(t),dimensions:{width:i.width,height:i.height}}}return r}));return a.Resolved(t)}return g.warn(d.LogTraceArea.Capture,"OfficeLens SDK error | Status code: "+e.statusCode.valueOf()),m.trackMediaCapturedFailure("OfficeLens SDK error",e.statusCode),s.default.showErrorAlert(h.getString("Global.ErrorTitle"),c.MainRootViewId),a.Rejected("OfficeLens SDK error | Status code: "+e.statusCode.valueOf())})).catch((e=>(g.error(d.LogTraceArea.Capture,"OfficeLens media file error: "+f.default.errorAsString(e,!0)),m.trackMediaCapturedFailure("OfficeLens media file error: "+f.default.errorAsString(e,!0)),s.default.showErrorAlert(h.getString("Global.ErrorTitle"),c.MainRootViewId),a.Rejected("OfficeLens media file error: "+f.default.errorAsString(e,!0)))))}n.telemetryEventLaunchiOS.subscribe(m.handleTelemetryEventLaunchiOS),n.telemetryEventSaveiOS.subscribe(m.handleTelemetryEventSaveiOS),n.limitedAccesEvent.subscribe((function(){S.default.shouldShowLimitedPhotoSelectionPrompt()&&(_.default.showLimitedCameraRollPrompt(c.MainRootViewId),S.default.closeLimitedPhotoSelectionPrompt())}))},420320:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trackMediaCapturedSuccess=function(e){a.track(new n.MediaCapturedEvent("true",s.MediaSource.OfficeLens,e))},t.trackMediaCapturedFailure=function(e,t){a.track(new n.MediaCapturedEvent("false",s.MediaSource.OfficeLens,0,e,t))},t.handleTelemetryEventLaunchAndroid=function(e){e&&a.track(new r.LensLaunchAndroid(e))},t.handleTelemetryEventSaveAndroid=function(e){e&&a.track(new r.LensSaveAndroid(e))},t.handleTelemetryEventLaunchiOS=function(e){e&&a.track(new r.LensLaunchiOS(e))},t.handleTelemetryEventSaveiOS=function(e){e&&a.track(new r.LensSaveiOS(e))};const o=i(197582),n=o.__importStar(i(885852)),r=o.__importStar(i(776098)),a=o.__importStar(i(85385)),s=i(885852)},292021:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isOneCameraAvailable=function(){return o.default.isImplemented()&&!1},t.isSupportedOnOS=n;const o=i(197582).__importDefault(i(68031));function n(){return!1}},988921:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mapCapturedResult=function(e){if(e.statusCode===n.OneCameraStatusCode.SUCCESS){h.log(p.LogTraceArea.Capture,"Successfully received OneCamera data.");return e.identifiers.map((e=>{const t=e.content,i=e.thumbnail,o=(0,l.parseFileUri)(t.uri),n=o?s.default.extractFileNameWithExtension(o.path):"",r={file:{uri:t.uri,name:n,size:t.fileSize,type:t.mimetype},extension:s.default.extractFileExtension(n),dimensions:{width:t.width,height:t.height}};if(i){const e=(0,l.parseFileUri)(i.uri),t=e?s.default.extractFileNameWithExtension(e.path):"";r.thumbnail={file:{uri:i.uri,name:t,size:i.fileSize,type:i.mimetype},extension:s.default.extractFileExtension(t),dimensions:{width:i.width,height:i.height}}}return r}))}return void h.warn(p.LogTraceArea.Capture,"One Camere error | Status code: "+e.statusCode.valueOf())},t.mapBarcodeResult=function(e,t,i){if(e.statusCode===n.OneCameraStatusCode.SUCCESS){h.log(p.LogTraceArea.Capture,"One Camera barcode processing successful");const o=e.barcode;switch(i){case d.BarcodeScanReason.JoinLink:try{(0,r.openJoinLink)(o,!0,t)}catch(e){return h.warn(p.LogTraceArea.Capture,"OneCamera barcode error: "+c.default.errorAsString(e,!0)),void a.default.showErrorAlert(g.getString("Global.ErrorTitle"),u.MainRootViewId)}break;case d.BarcodeScanReason.QrSignIn:return o}return o}return h.warn(p.LogTraceArea.Capture,"One Camera SDK error | Status code: "+e.statusCode.valueOf()),void a.default.showErrorAlert(g.getString("Global.ErrorTitle"),u.MainRootViewId)};const o=i(197582),n=i(68031),r=i(893667),a=o.__importDefault(i(206483)),s=o.__importDefault(i(606617)),l=i(546164),c=o.__importDefault(i(655192)),d=i(584559),u=i(154235),p=i(815146),g=o.__importStar(i(704704)),h=o.__importStar(i(85385))},213501:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CaptureScenario=void 0,t.getCaptureFor=function(e){if(d.isOfficeLensAvailable()||(0,u.isOneCameraAvailable)()){const t=r.default.getS4LNativePlatformsEcsConfigNoSubscription().captureProviders[e];return S[t]}return S.customCamera},t.checkCameraPermissions=function(){const e=p.PermissionPromptOptions.SkipPrePrompt;return g.default.requestPermission(h.PermissionType.Camera,e).toEs6Promise().then((e=>e!==n.PermissionStatus.Granted?Promise.reject():Promise.resolve()))},t.checkCameraRollPermissions=function(){const e=p.PermissionPromptOptions.SkipPrePrompt;return g.default.requestPermission(h.PermissionType.CameraRoll,e).toEs6Promise().then((e=>e!==n.PermissionStatus.Granted?Promise.reject():Promise.resolve()))};const o=i(197582),n=i(380157),r=o.__importDefault(i(150343)),a=i(227760),s=i(107080),l=i(887843),c=i(198012),d=o.__importStar(i(370950)),u=i(292021),p=i(331079),g=o.__importDefault(i(251733)),h=i(331079);var m;!function(e){e.Messaging="messaging",e.QrCodeScanning="qrCode",e.Avatar="avatar"}(m||(t.CaptureScenario=m={}));const S={customCamera:new s.CustomCameraCaptureProvider,officeLens:new a.OfficeLensCaptureProvider,osFallback:new l.OSFallbackCaptureProvider,oneCamera:new c.OneCameraCaptureProvider}},107080:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CustomCameraCaptureProvider=void 0;const o=i(197582),n=i(815146),r=i(584559),a=o.__importStar(i(926101)),s=i(78895),l=o.__importStar(i(85385)),c=i(815146),d=o.__importDefault(i(655192)),u=i(220236);t.CustomCameraCaptureProvider=class{handleCapturedContent(){return Promise.resolve(void 0)}startInCameraMode(){const e="CustomCameraCaptureProvider does not support startInCameraMode";return l.log(c.LogTraceArea.Capture,e),Promise.reject(e)}startInPickerMode(e){return a.navigateToCaptureComboModalWithParams({allowVideo:!0,mediaPickerOnly:!0,mediaPickerShouldCollapseFully:!0,allowMultiple:!0,willDismissOnSend:!0,allowOfficeLens:!0,capturedContentHandler:e},void 0),Promise.resolve(void 0)}startInAvatarMode(e,t){try{return a.navigateToCaptureComboModalWithParams({captureMode:n.CaptureMode.PhotoOnly,mediaPickerShouldCollapseFully:!0,allowVideo:!1,mediaPickerOnly:!1,showAvatarOverlay:!0,performMarkupOnly:!0,capturedContentHandler:e,cameraMode:r.CameraMode.Front},t,void 0,!1,!0),Promise.resolve(void 0)}catch(e){const t=l.log(c.LogTraceArea.Capture,d.default.errorAsString(e,!0));return Promise.reject(t)}}startInQrCodeScanningMode(e,t,i){return a.navigateToCaptureComboModalWithParams({capturedContentHandler:new s.CapturedContentHandlerForSharing(i),captureMode:n.CaptureMode.QR,allowVideo:!1,disableMediaPicker:!0,cameraMode:r.CameraMode.Back},i),Promise.resolve(void 0)}trackCaptureSuccess(e,t){(0,u.trackCaptureSuccess)(e,"customCamera",t)}trackCaptureFailure(e,t){(0,u.trackCaptureFailure)(e,"customCamera",void 0,t)}}},887843:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OSFallbackCaptureProvider=void 0;const o=i(197582),n=o.__importStar(i(397691)),r=i(454398),a=i(762025),s=o.__importDefault(i(206483)),l=o.__importStar(i(560694)),c=o.__importStar(i(704704)),d=i(815146),u=o.__importStar(i(420320)),p=o.__importDefault(i(655192)),g=i(154235),h=o.__importStar(i(85385)),m=i(220236);t.OSFallbackCaptureProvider=class{handleCapturedContent(e,t){return e.handleCapturedContent(t,d.PostSource.Capture).toEs6Promise().then((()=>(h.log(d.LogTraceArea.Capture,"OfficeLens media file processing successful"),u.trackMediaCapturedSuccess(t.length),Promise.resolve(!0)))).catch((e=>{const t="OfficeLens media file processing error: "+p.default.errorAsString(e,!0);return h.warn(d.LogTraceArea.Capture,t),u.trackMediaCapturedFailure(t),s.default.showErrorAlert(c.getString("Global.ErrorTitle"),g.MainRootViewId),Promise.reject(t)}))}startInPickerMode(){return l.launchInFallbackGalleryMode().toEs6Promise()}startInCameraMode(){const e={buttons:[{text:c.getString("CapturePanel.FallbackMediaProviderImageType"),command:r.FallbackCameraType.Image},{text:c.getString("CapturePanel.FallbackMediaProviderVideoType"),command:r.FallbackCameraType.Video}]},t=n.Defer();return a.ActionMenu.show(e,(e=>o.__awaiter(this,void 0,void 0,(function*(){e===r.FallbackCameraType.Image||e===r.FallbackCameraType.Video?l.launchInFallbackCameraMode(e).then((e=>t.resolve(e)),(e=>t.reject(e))):t.reject()})))),t.promise().toEs6Promise()}startInAvatarMode(){return l.launchInFallbackCameraMode(r.FallbackCameraType.Image).toEs6Promise()}startInQrCodeScanningMode(){const e="OSFallbackCaptureProvider does not support QR code scanning";return h.log(d.LogTraceArea.Capture,e),Promise.reject(e)}trackCaptureSuccess(e,t){(0,m.trackCaptureSuccess)(e,"osFallBack",t)}trackCaptureFailure(e,t){(0,m.trackCaptureFailure)(e,"osFallBack",void 0,t)}}},227760:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OfficeLensCaptureProvider=void 0;const o=i(197582),n=o.__importDefault(i(206483)),r=o.__importStar(i(560694)),a=i(815146),s=o.__importStar(i(420320)),l=o.__importDefault(i(655192)),c=i(154235),d=o.__importStar(i(704704)),u=o.__importStar(i(85385)),p=i(220236);t.OfficeLensCaptureProvider=class{startInPickerMode(){return r.launchInGalleryMode().toEs6Promise()}startInCameraMode(){return r.launchInCameraMode().toEs6Promise()}startInAvatarMode(){return r.launchInAvatarPickerMode().toEs6Promise()}startInQrCodeScanningMode(e,t){return r.launchInBarcodeScannerMode(e,t).toEs6Promise()}handleCapturedContent(e,t){return e.handleCapturedContent(t,a.PostSource.Capture).toEs6Promise().then((()=>(u.log(a.LogTraceArea.Capture,"OfficeLens media file processing successful"),s.trackMediaCapturedSuccess(t.length),Promise.resolve(!0)))).catch((e=>{const t="OfficeLens media file processing error: "+l.default.errorAsString(e,!0);return u.warn(a.LogTraceArea.Capture,t),s.trackMediaCapturedFailure(t),n.default.showErrorAlert(d.getString("Global.ErrorTitle"),c.MainRootViewId),Promise.reject(t)}))}trackCaptureSuccess(e,t){(0,p.trackCaptureSuccess)(e,"officeLens",t)}trackCaptureFailure(e,t){(0,p.trackCaptureFailure)(e,"officeLens",void 0,t)}}},198012:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OneCameraCaptureProvider=void 0;const o=i(197582),n=o.__importStar(i(68031)),r=o.__importDefault(i(206483)),a=o.__importStar(i(85385)),s=i(154235),l=o.__importStar(i(704704)),c=o.__importDefault(i(655192)),d=i(815146),u=i(988921),p=i(220236);t.OneCameraCaptureProvider=class{handleCapturedContent(e,t){return e.handleCapturedContent(t,d.PostSource.Capture).toEs6Promise().then((()=>(a.log(d.LogTraceArea.Capture,"OneCamera media file processing successful"),Promise.resolve(!0)))).catch((e=>{const t="OneCamera media file processing error: "+c.default.errorAsString(e,!0);return a.warn(d.LogTraceArea.Capture,t),r.default.showErrorAlert(l.getString("Global.ErrorTitle"),s.MainRootViewId),Promise.reject(t)}))}startInCameraMode(){return a.log(d.LogTraceArea.Capture,"Started OneCamera in Camera mode"),n.default.launchInCameraMode(this._getCurrentLocale()).then(this._handleResponse).catch((e=>{if((null==e?void 0:e.code.toString())!==n.OneCameraStatusCode.USER_CANCEL.toString()){const t=`One Camera SDK error | Status code: ${c.default.errorAsString(e,!0)}`;return a.error(d.LogTraceArea.Capture,t),r.default.showErrorAlert(l.getString("Global.ErrorTitle"),s.MainRootViewId),Promise.reject(t)}return Promise.reject(n.OneCameraStatusCode.USER_CANCEL.toString())}))}startInPickerMode(){return a.log(d.LogTraceArea.Capture,"Started OneCamera in Picker mode"),n.default.launchInPickerMode(this._getCurrentLocale()).then(this._handleResponse).catch((e=>{if((null==e?void 0:e.code.toString())!==n.OneCameraStatusCode.USER_CANCEL.toString()){const t=`One Camera SDK error | Status code: ${c.default.errorAsString(e,!0)}`;return a.error(d.LogTraceArea.Capture,t),r.default.showErrorAlert(l.getString("Global.ErrorTitle"),s.MainRootViewId),Promise.reject(t)}return Promise.reject(n.OneCameraStatusCode.USER_CANCEL.toString())}))}startInAvatarMode(){return a.log(d.LogTraceArea.Capture,"Started OneCamera in Avatar mode"),n.default.launchInAvatarMode(this._getCurrentLocale()).then(this._handleResponse).catch((e=>{if((null==e?void 0:e.code.toString())!==n.OneCameraStatusCode.USER_CANCEL.toString()){const t="One Camera SDK error | Status code:"+c.default.errorAsString(e,!0);return a.error(d.LogTraceArea.Capture,t),r.default.showErrorAlert(l.getString("Global.ErrorTitle"),s.MainRootViewId),Promise.reject(t)}return Promise.reject(n.OneCameraStatusCode.USER_CANCEL.toString())}))}startInQrCodeScanningMode(e,t){return a.log(d.LogTraceArea.Capture,"Started OneCamera in QR code scanning mode"),n.default.launchInQrCodeScanningMode(this._getCurrentLocale()).then((i=>this._handleQRResponse(i,e,t))).catch((e=>{if((null==e?void 0:e.code.toString())!==n.OneCameraStatusCode.USER_CANCEL.toString()){const t="One Camera SDK error | Status code:"+c.default.errorAsString(e,!0);return a.error(d.LogTraceArea.Capture,t),r.default.showErrorAlert(l.getString("Global.ErrorTitle"),s.MainRootViewId),Promise.reject(t)}return Promise.reject(n.OneCameraStatusCode.USER_CANCEL.toString())}))}trackCaptureSuccess(e,t){(0,p.trackCaptureSuccess)(e,"oneCamera",t)}trackCaptureFailure(e,t){const i=t===n.OneCameraStatusCode.USER_CANCEL.toString(),o=!i&&t?t:void 0;(0,p.trackCaptureFailure)(e,"oneCamera",i,o)}_handleResponse(e){const t=(0,u.mapCapturedResult)(e);return t?Promise.resolve(t):Promise.reject()}_handleQRResponse(e,t,i){const o=(0,u.mapBarcodeResult)(e,t,i);return o?Promise.resolve(o):Promise.reject()}_getCurrentLocale(){return l.getLocale()}}},758267:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getClarityConfig=function(){const{clarityEnabled:e,clarityEndpoint:t,clarityAppId:i}=o.AppConfigStore.getS4LIntegrationsFeaturesNoSubscription();return{clarityEnabled:e,clarityEndpoint:t,clarityAppId:i}};const o=i(677982)},131734:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clarityConfigMap=t.clarityScriptMap=t.TAG_NAME=t.TAG_ID=t.GLOBAL_NAME=t.TAG=void 0,t.startClarity=function(e,i){if(!e)return;const{clarityEnabled:o,clarityEndpoint:r,clarityAppId:d}=e;t.clarityConfigMap.set(d,e),(0,a.log)(s.LogTraceArea.GenericUnsafe,`[${t.TAG}] Integration enabled: ${o}`),o&&l(r,d,i);n.AppConfigStore.subscribe((()=>{!function(e,i){const{clarityEnabled:o,clarityEndpoint:n,clarityAppId:r}=e,d=t.clarityConfigMap.get(r);o!==(null==d?void 0:d.clarityEnabled)&&((0,a.log)(s.LogTraceArea.GenericUnsafe,`[${t.TAG}] Integration enabled changed to: ${o}`),t.clarityConfigMap.set(r,e),(null==d?void 0:d.clarityEnabled)?l(n,r,i):c(i))}(e,i)}))},t.stopClarity=function(e){c(e),(0,a.log)(s.LogTraceArea.GenericUnsafe,`[${t.TAG}] Clarity stopped`)},t.injectableClarityJS=function(e){return t.clarityScriptMap.get(e.clarityAppId)||""};const o=i(197582),n=i(677982),r=o.__importDefault(i(760989)),a=i(85385),s=i(815146);function l(e,i,o){var n,l;const c=r.default.newCauseId();if(!i)return;if(t.clarityScriptMap.set(i,function(e,i,o){return`\n    (function(c,l,a,r,i,t,y){\n        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\n        t=l.createElement(r);t.async=1;t.src="${e}/"+i;\n        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);\n        c[a]('set', 'correlationId', "${o}");\n    })(window, document, "clarity", "${t.TAG_NAME}", "${i}");\n    `}(e,i,c)),!o)return;const d=o.document;if(t.GLOBAL_NAME in o)return void(0,a.log)(s.LogTraceArea.GenericUnsafe,`[${t.TAG}] Clarity already initialized`);o[t.GLOBAL_NAME]=o[t.GLOBAL_NAME]||function(){(o[t.GLOBAL_NAME].q=o[t.GLOBAL_NAME].q||[]).push(arguments)};const u=d.createElement(t.TAG_NAME);u.id=t.TAG_ID,u.async=!0,u.src=`${e}/${i}`;const p=d.getElementsByTagName(t.TAG_NAME)[0];(null==p?void 0:p.parentNode)?p.parentNode.insertBefore(u,p):d.head.appendChild(u),null===(l=(n=o)[t.GLOBAL_NAME])||void 0===l||l.call(n,"set","correlationId",c),(0,a.log)(s.LogTraceArea.GenericUnsafe,`[${t.TAG}] Clarity initialized with correlationId: ${c}`)}function c(e){var i,o;e&&(null===(i=e[t.GLOBAL_NAME])||void 0===i||i.call(e,"stop"),delete e[t.GLOBAL_NAME],null===(o=e.document.getElementById(t.TAG_ID))||void 0===o||o.remove())}t.TAG="Clarity",t.GLOBAL_NAME="clarity",t.TAG_ID=Date.now().toString(),t.TAG_NAME="script",t.clarityScriptMap=new Map,t.clarityConfigMap=new Map},670676:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.injectableClarityJS=t.startClarity=t.stopClarity=void 0;const o=i(131734);Object.defineProperty(t,"stopClarity",{enumerable:!0,get:function(){return o.stopClarity}}),Object.defineProperty(t,"startClarity",{enumerable:!0,get:function(){return o.startClarity}}),Object.defineProperty(t,"injectableClarityJS",{enumerable:!0,get:function(){return o.injectableClarityJS}})},485467:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.calcAlertsForUpdatedMessage=function(e,t,i){const o=`[CUID: ${t.cuid}] `,C=e.isMuted();if(d.getMessageTypeGroup(t)===d.MessageTypeGroups.None||C)return void g.log(p.LogTraceArea.AlertsHelpers,`${o} No alerts displayed because ${C?"chat is muted":"message has None type group"}`);const v=u.default.add(Date.now(),0,-a.AlertsConstants.DaysOfAlertsToDisplay),b=t.getMessageNotificationClass();if(b===y.MessageNotificationClass.SystemInformational&&t.createdTime>=v)return;const T=n.filter(i.getAllItems(),(e=>!!e.message&&t.cuid===e.message.cuid&&t.conversationId===e.message.conversationId));n.each(T,(e=>{i.deleteItem(e),g.log(p.LogTraceArea.AlertsHelpers,`${o} Removed existing alert for the same item`)}));const P=t.getLastReactionTimeExcludingCurrentUser()||t.createdTime;if(!t.isDeletedMessage()&&P>=v){if(b===y.MessageNotificationClass.MentionedOrQuoted){const n=e.getConsumptionHorizonTimestamp(),s=r.default.fromScratch(a.AlertType.HighPriorityMessage,t.createdTime,t.createdTime<=n,t);i.addItem(s),g.log(p.LogTraceArea.AlertsHelpers,`${o} Mention or quote notification added`)}if(s.default.getConfigSettings().chat.notifyLikes){const u=function(e,t){const i=t.isHighlightsThread();if(i)return;const o=n.filter(e.getEmotionAnnotations(),(e=>e.key!==d.MessageAnnotations.ViewCount&&e.key!==d.MessageAnnotations.ReactionsConsumptionHorizon));if(o&&o.length>0){g.log(p.LogTraceArea.AlertsHelpers,`Emoticon annotations length ${o.length}`);const u=(0,c.chain)(o,(0,c.map)((e=>e.users)),(0,c.flatten)());return m.default.isMyMri(e.creator)?function(e,t,i){const o=n.filter(i,(e=>!m.default.isMyMri(e.mri)));if(0===o.length)return;const s=n.map(o,(e=>e.time)),c=n.max(s),u=e.getReactionsReadTimeForCurrentUser()||0,p=r.default.fromScratch(a.AlertType.Reaction,c,c<=u,e),g=t.isOneOnOne()?t.getOtherPartyMri():e.conversationId;if(!g)return;if(n.some(o,(e=>e.mri===g))&&l.default.isMriBlocked(g))return;if(d.isPollType(e.messagetype)||d.isScheduledCallType(e.messagetype))return;return p}(e,t,u):function(e,t,i){const o=s.default.getS4LMessagingFeatures().notifyForAdditionalReactions;if(!i&&!d.isPollType(e.messagetype)){const i=n.map(t,(e=>e.mri)),s=n.find(m.default.getMyMris(),(e=>n.includes(i,e)));if(s){const i=(0,c.chain)(t,(0,c.filter)((e=>e.mri===s)),(0,c.map)((e=>e.time))),l=n.min(i)||1/0,d=e.getReactionsReadTimeForCurrentUser()||0,u=n.filter(t,(e=>e.mri!==s)),p=n.max(n.map(u,(e=>e.time)))||-1/0;return p>l&&o?r.default.fromScratch(a.AlertType.AdditionalReaction,p,p<=d,e):void 0}}return}(e,u,i)}return}(t,e);u&&(i.addItem(u),g.log(p.LogTraceArea.AlertsHelpers,`${o} Reaction notification added`))}if(!l.default.isMriBlocked(t.conversationId)){const e=function(e){if(!d.isScheduledCallType(e.messagetype))return[];const t=_.default.extractScheduledCallFromMessage(e);if(!t)return[];if(!h.default.getUserPreferencesLocal().enableScheduledCallNotifications)return[];const i=[],o=e.getScheduledCallReadTimeForCurrentUser();m.default.isMyMri(e.creator)?n.each(t.invitations,((n,s)=>{if(n.invitationStatus&&n.invitationStatus!==f.ScheduledCallInvitationStatus.Unknown){const l=n.updatedTimeMs||Date.now(),c={type:n.invitationStatus===f.ScheduledCallInvitationStatus.Accepted?S.ScheduleCallAlertTypes.InvitationAccepted:S.ScheduleCallAlertTypes.InvitationDeclined,initiator:s,subject:t.subject};i.push(r.default.fromScratch(a.AlertType.ScheduledCall,l,l<=o,e,{scheduledCallInfo:c})),g.log(p.LogTraceArea.AlertsHelpers,"Scheduled call invitation notification added")}})):(i.push(r.default.fromScratch(a.AlertType.ScheduledCall,e.createdTime,e.createdTime<=o,e,{scheduledCallInfo:{type:S.ScheduleCallAlertTypes.Received,initiator:t.organizer,subject:t.subject}})),g.log(p.LogTraceArea.AlertsHelpers,"Scheduled call invitation received notification added"),t.editedTimeMs&&(i.push(r.default.fromScratch(a.AlertType.ScheduledCall,t.editedTimeMs,t.editedTimeMs<=o,e,{scheduledCallInfo:{type:S.ScheduleCallAlertTypes.Edited,initiator:t.organizer,subject:t.subject}})),g.log(p.LogTraceArea.AlertsHelpers,"Scheduled call invitation edited notification added")),t.canceledTimeMs&&(i.push(r.default.fromScratch(a.AlertType.ScheduledCall,t.canceledTimeMs,t.canceledTimeMs<=o,e,{scheduledCallInfo:{type:S.ScheduleCallAlertTypes.Canceled,initiator:t.organizer,subject:t.subject}})),g.log(p.LogTraceArea.AlertsHelpers,"Scheduled call invitation canceled notification added")));return i}(t);n.some(e)&&(n.each(e,(e=>{i.addItem(e)})),g.log(p.LogTraceArea.AlertsHelpers,`${o} Scheduled call notifications added`))}}else g.log(p.LogTraceArea.AlertsHelpers,`${o} Updated message is too old or removed`)};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(910520)),a=i(22336),s=o.__importDefault(i(150343)),l=o.__importDefault(i(97572)),c=i(284841),d=o.__importStar(i(971988)),u=o.__importDefault(i(389659)),p=i(815146),g=o.__importStar(i(85385)),h=o.__importDefault(i(201721)),m=o.__importDefault(i(363091)),S=i(229179),_=o.__importDefault(i(332065)),f=i(36381),y=i(331079)},265801:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.openAppStore=function(){n.default.getConfigSettings();0;r.default.saveRateAppTime()};const o=i(197582),n=(o.__importDefault(i(638884)),o.__importStar(i(516778)),o.__importDefault(i(150343))),r=o.__importDefault(i(92477))},725674:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseSecondaryAccentColor=s,t.accentColor=function(e){const t=s(e);return l(e,t)},t.accentColorForColorInfo=l,t.backgroundColorStyleForColorInfo=function(e){const t=s(e);return n.backgroundColorStyleForColorInfo(e,t)};const o=i(197582),n=o.__importStar(i(473483)),r=o.__importDefault(i(266872)),a=o.__importStar(i(972830));function s(e){return function(e,t){return a.isDarkTheme(t)&&!a.isDelphiTheme(t)&&!n.isCustomColor(e)}(e,r.default.colorThemeNoSubscription())}function l(e,t){return n.accentColor(e,t)}},260928:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778)),a=o.__importStar(i(397691)),s=o.__importDefault(i(206483)),l=o.__importDefault(i(150343)),c=o.__importDefault(i(404547)),d=o.__importDefault(i(304623)),u=o.__importStar(i(44717)),p=i(154235),g=i(535973),h=i(815146),m=o.__importStar(i(85385)),S=o.__importStar(i(704704)),_=o.__importDefault(i(363091)),f=o.__importDefault(i(740794)),y=o.__importDefault(i(942724)),C=i(113002),v=o.__importDefault(i(693394)),b=o.__importDefault(i(430880)),T=i(928722),P=o.__importDefault(i(655192)),k=i(331079),A=o.__importDefault(i(760989)),I=[C.WizardSteps.setConvInfo,C.WizardSteps.setConvParticipants];class w extends b.default{constructor(e){super(e),void 0===e.convId&&void 0===e.wizardSteps&&this.extendContext({wizardSteps:I}),void 0!==e.convId||e.creating1on1Conversation||this.extendContext({newGroupTelemetryScenario:new v.default})}goBack(){const e=A.default.newCauseId();m.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.goBack currentStepIndex: "+this._currentStepIndex+" causeId: "+e),n.isUndefined(this._currentStepIndex)?m.warn(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.goBack called without initializing this._currentStepIndex causeId: "+e):this._currentStepIndex<0?m.warn(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.goBack called with a negative value for this._currentStepIndex causeId: "+e):(y.default.isUsingStackNavigationContext()||0===this._currentStepIndex?this._closePanel(this._currentStepIndex,e):this._navigateToPanel(this._currentStepIndex-1,e),0===this._currentStepIndex&&(m.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.goBack, finish causeId: "+e),this._context.newGroupTelemetryScenario&&this._context.newGroupTelemetryScenario.markFunnelDropped(),this.finish(!1)),this._currentStepIndex--)}goNext(){const e=A.default.newCauseId();m.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.goNext, causeId: "+e),n.isUndefined(this._currentStepIndex)?m.warn(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.goNext called without initializing this._currentStepIndex causeId: "+e):(this._currentStepIndex++,this._context.wizardSteps&&n.isNumber(this._context.wizardSteps[this._currentStepIndex])?this._navigateToPanel(this._currentStepIndex,e):this._context.convId?this._context.stayOnCurrentScreenOnceFinished?(this._closePanel(this._currentStepIndex-1,e),this.finish(!0)):d.default.ensureConversationLoadedOrFaked(this._context.convId).then((()=>{this._navigateToConversation({causeId:e,convId:this._context.convId,origin:this._context.navigationOrigin,isNewConversation:!0}),this.finish(!0)})):this._initiateConversationCreation().then((()=>{this._context.newGroupTelemetryScenario&&this._context.newGroupTelemetryScenario.finish();const e=this._context.creating1on1Conversation?"CreateOrModifyChatScenarioNavigator.ConversationOpenedAccessibilityLabel":"CreateOrModifyChatScenarioNavigator.GroupCreatedAccessibilityLabel";r.Accessibility.announceForAccessibility(S.getString(e,{conversationName:this._context.convName||""})),this.finish(!0)})).catch((t=>{if(this._context.newGroupTelemetryScenario){const e=t&&t.errorMessage,i=t&&t.errorCode,o=t&&t.statusText,n=t&&t.statusCode,r=e||i||o||n?void 0:JSON.stringify(t);this._context.newGroupTelemetryScenario.fail(e,i,n,o,r)}m.warn(h.LogTraceArea.GenericUnsafe,"initiateConversationCreation failed: "+P.default.errorAsString(t)),f.default.navigateToHub(e),this._rootViewId&&s.default.showErrorAlert(S.getString("CreateOrModifyChatScenarioNavigator.CreateConversationError"),this._rootViewId),this.finish(!1)})))}goEnd(){this.finish(!0)}start(e){super.start(e);const t=A.default.newCauseId();m.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.start, causeId: "+t),n.isEmpty(this._context.wizardSteps),this._currentStepIndex=0,this._context.newGroupTelemetryScenario&&this._context.newGroupTelemetryScenario.start(l.default.getS4LUiExperimentalConfigString(),this._context.navigationOrigin,n.map(this.context.wizardSteps,(e=>C.WizardSteps[e])).toString()),this._navigateToPanel(this._currentStepIndex,t)}_navigateToPanel(e,t){var i,o;const n=this._context.wizardSteps&&this._context.wizardSteps[e];switch(m.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator._navigateToPanel stepIndex: "+e+" wizardStep: "+n+" causeId: "+t),n){case C.WizardSteps.setConvInfo:f.default.navigateToSetConversationInfoPanel(this,null!==(i=this._rootViewId)&&void 0!==i?i:p.MainRootViewId,this._context.presentedFromSuperComposer?T.StackNavigationDirection.Push:void 0);break;case C.WizardSteps.setConvParticipants:f.default.navigateToSetConversationParticipantsPanel(this,!!this._context.creating1on1Conversation&&!!this._context.useSuperComposerFor1on1Conversation,null!==(o=this._rootViewId)&&void 0!==o?o:p.MainRootViewId,this._context.presentedFromSuperComposer?T.StackNavigationDirection.Push:void 0)}}_closePanel(e,t){switch(m.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator._closePanel, causeId: "+t),this._context.wizardSteps&&this._context.wizardSteps[e]){case C.WizardSteps.setConvInfo:f.default.closeSetConversationInfoPanel(t,this._getPartialContext());break;case C.WizardSteps.setConvParticipants:f.default.closeSetConversationParticipantsPanel(t,this._getPartialContext())}}_getPotentialExistingConversation(e){return this.context.convName||this._context.createCellularSmsConversation?a.Resolved([]):g.ConversationUtils.getPotentialExistingConversations(e,!0)}_initiateConversationCreation(){const e=A.default.newCauseId();m.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator._initiateConversationCreation, causeId: "+e);const t=this._context.invitedUsersMris||[];return this._getPotentialExistingConversation(t).then((i=>{if(!n.isEmpty(i))return this._context.newGroupTelemetryScenario&&(this._context.newGroupTelemetryScenario.setParticipantCount(t.length),this._context.newGroupTelemetryScenario.setExistingConversationFound(),this._context.newGroupTelemetryScenario.markFunnelCompleted()),d.default.ensureConversationLoadedOrFaked(i[0].id).then((()=>{this._navigateToConversation({convId:i[0].id,origin:this._context.navigationOrigin,causeId:e})}));if(this._context.creating1on1Conversation){const i=t[0];return d.default.ensureConversationLoadedOrFaked(i).then((t=>{this._navigateToConversation({convId:i,origin:this._context.navigationOrigin,isNewConversation:t,causeId:e})}))}const o={};o[_.default.getSkypeMri()]=k.ThreadMemberAccessType.Admin;const r=this._context.navigationOrigin===h.NavigationConversationOrigin.NewModeratedGroup,a={};let s;return n.each(this._context.invitedUsersMris,(e=>{a[e]=u.isPhoneMri(e)||r?k.ThreadMemberAccessType.User:k.ThreadMemberAccessType.Admin})),this._context.newGroupTelemetryScenario&&(this._context.newGroupTelemetryScenario.setParticipantCount(n.keys(a).length),this._context.newGroupTelemetryScenario.markFunnelCompleted()),g.ConversationUtils.createConversation(o,a,this._context.convName,r).then((e=>(s=e.threadId,g.ConversationUtils.setConversationProps(s,this._context.convColor,this._context.convAvatar)))).then((()=>(this._context.newGroupTelemetryScenario&&(this._context.newGroupTelemetryScenario.markConversationCreated(),this.extendContext({convId:s})),d.default.ensureConversationLoadedOrFaked(s).then((t=>{this._maybeGenerateJoinLink(t,s),this._navigateToConversation({causeId:e,convId:s,origin:this._context.navigationOrigin,isNewConversation:!0})})))))}))}_maybeGenerateJoinLink(e,t){this.context.shareLink&&!e&&l.default.getS4LMessagingFeaturesNoSubscription().enableNewConversationCreation&&c.default.setJoinEnabled(t,!0)}_navigateToConversation(e){var t;m.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator._navigateToConversation, causeId: "+e.causeId),f.default.navigateToConversation(e),y.default.isUsingStackNavigationContext()||f.default.closeGenericDesktopModal(e.causeId,null!==(t=this._rootViewId)&&void 0!==t?t:p.MainRootViewId)}_getPartialContext(){var e;return{rootViewId:null!==(e=this._rootViewId)&&void 0!==e?e:p.MainRootViewId,rootViewType:p.RootViewType.MainWindow}}}t.default=w},82121:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isDisabledCallNotification=function(){const e=(0,a.tryGetDndOsState)(!1);e&&l.log(s.LogTraceArea.Notifications,"isDisabledCallNotification dndOsState.enabled: "+e.enabled+", dndOsState.allowAnyCalls: "+e.allowAnyCalls);if(e&&e.enabled&&!e.allowAnyCalls)return n.Resolved(!0);return m((()=>{const e=d.default.getCallNotificationsWhileDNDEnabled();return l.log(s.LogTraceArea.Notifications,"isDisabledCallNotification UserStatus: Busy, callNotificationsWhileDNDEnabled: "+e),!e}))},t.isDisabledChatNotification=function(){const e=(0,a.tryGetDndOsState)(!0);e&&l.log(s.LogTraceArea.Notifications,"isDisabledChatNotification dndOsState.enabled: "+e.enabled);if(e&&e.enabled)return n.Resolved(!0);return m((()=>{const e=d.default.getChatNotificationsWhileDNDEnabled();return l.log(s.LogTraceArea.Notifications,"isDisabledChatNotification UserStatus: Busy, chatNotificationsWhileDNDEnabled: "+e),!e}))};const o=i(197582),n=o.__importStar(i(397691)),r=o.__importDefault(i(304623)),a=i(354605),s=i(815146),l=o.__importStar(i(85385)),c=o.__importDefault(i(201721)),d=o.__importDefault(i(341994)),u=o.__importDefault(i(683395)),p=o.__importStar(i(446574)),g=o.__importStar(i(500645)),h=i(15752);function m(e){return(u.default.getStatusNoSubscription()===h.UserStatus.Unknown?p.EnsureStarted(u.default):n.Resolved()).then((()=>u.default.getStatusNoSubscription())).then((t=>{const i=g.maskedUserStatus(t);return l.log(s.LogTraceArea.Notifications,"isDisabledNotification user status: "+t+", maskedStatus: "+i),i===h.UserStatus.Busy&&p.EnsureStartedOnly(d.default,[r.default,c.default]).then(e)}))}},532821:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(928722),r=(o.__importDefault(i(48076)),o.__importDefault(i(942724)));t.default=class{static collapseDesktopStackNavContext(){return this._desktopNavigationType()===n.DesktopNavigationType.StackCollapsible&&!r.default.isUsingStackNavigationContext()}static collapseDesktopStackNavContextNoSubscription(){return this._desktopNavigationType()===n.DesktopNavigationType.StackCollapsible&&!r.default.isUsingStackNavigationContextNoSubscription()}static _desktopNavigationType(){return n.DesktopNavigationType.StackCollapsible}}},320820:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCompactNotificationDisplayInfoPotentiallyBeforeStartupAsync=function(e,t,i,o,l,c,d){var u;const p=o||v.getString("Notifications.UnknownUser"),_=l||v.getString("Notifications.UnknownUserShort"),f=c||v.getString("Notifications.UnknownUserShort");if(i===P.MessageNotificationType.AddToConversation){const t=T.getMessageInitiator(e);if(t)return z(t,!0).then((e=>{if(!e.name){const e=v.getString("Notifications.AddedToConversationDefault",{conversationName:f});return r.Resolved({title:e,body:""})}return{title:v.getParts("Notifications.AddedToConversationByUser",{conversationName:f,displayName:e.name,gender:C.getLocalizeParamForGender(e.gender)}).join(""),body:""}}));const i=v.getString("Notifications.AddedToConversationDefault",{conversationName:f});return r.Resolved({title:i,body:""})}if(i===P.MessageNotificationType.Reaction){const i=e.getReactionsReadTimeForCurrentUser(),o=Date.now(),l=(0,a.chain)(e.getCleanedEmotionAnnotations(),(0,a.map)((e=>e.users)),(0,a.flatten)(),(0,a.filter)((e=>(e.time||o)>i))),c=null===(u=n.last(e.getCleanedEmotionAnnotations()))||void 0===u?void 0:u.key,d=c?S.default.getEmoticonUtfFallback(c):void 0,g=d?`${d} `:"",y=s.getMessageTypeGroup(e);return function(e,t,i){let o,n,s,l=r.Resolved(void 0),c=r.Resolved(void 0);if(e&&e.length>0){const r=(0,a.chain)(e,(0,a.sortBy)((e=>e.time?-e.time:NaN)),(0,a.uniqBy)((e=>e.mri)));n=F(r.length,t,i),r.length>=1&&(o=r[0].mri,l=z(r[0].mri,!0)),r.length>=2&&(c=function(e,t=!1){return m.default.getDisplayableProfilePotentiallyBeforeStartupAsync(e).then((e=>t?e.getDisplayName():e.getShortName()))}(r[1].mri,!0),s=r.length-1)}return r.all([l,c]).then((([e,t])=>({mostRecentMri:o,labelKey:n,firstPersonToReact:e&&e.name,gender:e&&e.gender,secondPersonToReact:t,othersCount:s})))}(l,{objectType:s.getMessageTypeGroup(e),isQuoteOnly:!1,isPushNotification:!0},y===s.MessageTypeGroups.SwiftCard?h.decode(e):void 0).then((i=>{let o;o=i.labelKey?g+v.getParts(i.labelKey,{user:i.creatorDisplayName,firstOtherPerson:i.firstPersonToReact,secondOtherPerson:i.secondPersonToReact,gender:C.getLocalizeParamForGender(i.gender),otherCount:i.othersCount}).join(""):V(e,t,p,f);const r=n.endsWith(i.labelKey,R.Post)||n.endsWith(i.labelKey,R.PostWithContent),a=U(e,_);return r?{title:o,body:a}:{title:"",body:o}}))}if(i===P.MessageNotificationType.ScheduledCall&&d){return z(d.userMri,!0).then((e=>{let i;if(d.invitationStatus){const t=d.invitationStatus===I.ScheduledCallInvitationStatus.Accepted?"Notifications.ScheduledCallAcceptedBody":"Notifications.ScheduledCallDeclinedBody";i=v.getString(t,{gender:C.getLocalizeParamForGender(e.gender),displayName:e.name,subject:d.subject})}else if(d.wasCanceled)i=v.getString("Notifications.ScheduledCallDeletedBody",{gender:C.getLocalizeParamForGender(e.gender),displayName:e.name,subject:d.subject});else if(d.hasUpdates)i=v.getString("Notifications.ScheduledCallEditedBody",{gender:C.getLocalizeParamForGender(e.gender),displayName:e.name,subject:d.subject});else{const o=t&&t.isOneOnOne()?"Notifications.ScheduledCallInviteTime":"Notifications.ScheduledCallInviteTimeGroup";i=v.getString(o,{gender:C.getLocalizeParamForGender(e.gender),subject:d.subject,time:g.default.getDisplayDateTimeString(d.datetimeMs),conversationDisplayName:t&&t.topicName()||""})}return{title:v.getString("Notifications.OneOnOneTitle",{creator:e.name}),body:i}}))}return r.Resolved({title:V(e,t,p,f),body:U(e,_)})},t.formatPreviousMessagePotentiallyBeforeStartup=function(e,t,i,o){var n,r,a;const s=(null!==(n=null==i?void 0:i.getDisplayName())&&void 0!==n?n:"")||v.getString("Notifications.UnknownUserShort");return{userDisplayName:s,userIdentifier:o||"",userAvatar:null!==(r=null==i?void 0:i.getAvatarUrl())&&void 0!==r?r:"",receivedTime:t.createdTime,message:U(t,s),icon:{initials:null!==(a=null==i?void 0:i.getInitials())&&void 0!==a?a:"",color:o?c.default.getPrimaryColorNoSubscription(o):N.Color.white},thumbnailUrl:void 0}},t.getScheduledCallDisplayInfoForInvitationAlert=function(e,t,i){const o=W(e,!0),n=w.default.getScheduledCallSubject(i),r=t===A.ScheduleCallAlertTypes.InvitationAccepted?"Notifications.ScheduledCallAcceptedBody":"Notifications.ScheduledCallDeclinedBody";return{title:v.getString("Notifications.OneOnOneTitle",{creator:o.name}),body:v.getString(r,{gender:C.getLocalizeParamForGender(o.gender),displayName:o.name,subject:n})}},t.getScheduledCallDisplayInfoForInvitationUpdatedAlert=function(e,t,i){const o=W(e),n=w.default.getScheduledCallSubject(i),r=t===A.ScheduleCallAlertTypes.Edited?"Notifications.ScheduledCallEditedBody":"Notifications.ScheduledCallDeletedBody";return{title:v.getString("Notifications.OneOnOneTitle",{creator:o.name}),body:v.getString(r,{displayName:o.name,subject:n})}},t.getScheduledCallDisplayInfoForInvitationReceivedAlert=function(e){const t=W(e);return{title:v.getString("Notifications.OneOnOneTitle",{creator:t.name}),body:v.getString("Notifications.ScheduledCallInviteBody",{gender:C.getLocalizeParamForGender(t.gender),organizerName:t.name})}},t.getCompactNotificationDisplayInfo=function(e,t,i,o,r){const l=i||v.getString("Notifications.UnknownUser"),c=o||v.getString("Notifications.UnknownUserShort"),d=r||v.getString("Notifications.UnknownUserShort");if((0,k.isLastMessageUpdateReaction)(e)){const i=e.getReactionsReadTimeForCurrentUser(),o=Date.now(),r=B((0,a.chain)(e.getCleanedEmotionAnnotations(),(0,a.map)((e=>e.users)),(0,a.flatten)(),(0,a.filter)((e=>(e.time||o)>i))),{objectType:s.getMessageTypeGroup(e),isQuoteOnly:!1,isPushNotification:!0});let u;u=r.labelKey?v.getParts(r.labelKey,{user:r.creatorDisplayName,firstOtherPerson:r.firstPersonToReact,secondOtherPerson:r.secondPersonToReact,gender:C.getLocalizeParamForGender(r.gender),otherCount:r.othersCount}).join(""):V(e,t,l,d);return{title:u,body:n.endsWith(r.labelKey,R.Post)||n.endsWith(r.labelKey,R.PostWithContent)?U(e,c):""}}return{title:V(e,t,l,d),body:U(e,c)}},t.getMessageDisplayInfo=function(e,t){let i;e.isCurrentUserQuoted()?i=t?"AlertCard.ReplyWithoutContent":"AlertCard.ReplyWithContent":e.isCurrentUserMentioned()&&(i=s.hasAllAtMention(e.content)?"AlertCard.MentionAll":"AlertCard.MentionYou");const o=e&&W(e.creator);return{labelKey:i,mostRecentMri:e.creator,creatorDisplayName:o&&o.name,gender:o&&o.gender}},t.getReactionsDisplayInfo=B,t.getScheduledCallDisplayInfo=function(e){let t;switch(e.type){case A.ScheduleCallAlertTypes.Canceled:t="AlertCard.CallInviteDeleted";break;case A.ScheduleCallAlertTypes.InvitationAccepted:t="AlertCard.UserAcceptedCallInvite";break;case A.ScheduleCallAlertTypes.InvitationDeclined:t="AlertCard.UserDeclinedCallInvite";break;case A.ScheduleCallAlertTypes.Received:t="AlertCard.CallInviteReceived";break;case A.ScheduleCallAlertTypes.Edited:t="AlertCard.CallInviteEdited";break;default:return L.default.switchStatementExhaustiveChecking(e.type)}const i=W(e.initiator);return{mostRecentMri:void 0,labelKey:t,creatorDisplayName:i.name,gender:i.gender,subject:e.subject}},t.getOnboardingDisplayInfo=function(){return{mostRecentMri:void 0,labelKey:"PopCards.NotificationHeader"}},t.getEmojiSupport=O,t.getReactionAlertAccessibilityLabel=function(e){const t=d.toAccessibilityLabel(h.decode(e),{message:e,includeSenderInformationInAccessibilityLabel:!1,includeReactionInformationInAccessibilityLabel:!1}),i=(0,a.chain)(e.getCleanedEmotionAnnotations(),(0,a.map)((e=>n.map(e.users,(t=>({key:e.key,mri:t.mri,time:t.time||NaN}))))),(0,a.flatten)(),(0,a.sortBy)((e=>e.time?-e.time:NaN))),o={messageContent:t},r=n.uniqBy(i,(e=>e.mri)),[s,l]=r;s&&(o.firstName=m.default.getDisplayName(s.mri)||s.mri);l&&(o.secondName=m.default.getDisplayName(l.mri)||l.mri);if(1===i.length){const e=S.default.getEmoticonByName(i[0].key);e&&(o.reaction=e.description||i[0].key)}o.nuberOfUsersReacted=r.length-1;const c=function(e){const t=(0,a.chain)(e.getCleanedEmotionAnnotations(),(0,a.map)((e=>e.users)),(0,a.flatten)(),(0,a.sortBy)((e=>e.time?-e.time:NaN)),(0,a.groupBy)((e=>e.mri)));switch(n.keys(t).length){case 1:const e=n.first(n.values(t));return e&&e.length>1?"AlertCard.SingleUserReactedAccessibilityLabel":e&&1===e.length?"AlertCard.SingleUserReactedWithReactionAccessibilityLabel":void 0;case 2:return"AlertCard.TwoUsersReactedAccessibilityLabel";default:return"AlertCard.MultipleUsersReactedAccessibilityLabel"}}(e);return v.getString(c,o)};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=i(284841),s=o.__importStar(i(971988)),l=o.__importStar(i(44717)),c=o.__importDefault(i(734468)),d=(o.__importDefault(i(555436)),o.__importStar(i(433614))),u=o.__importStar(i(194504)),p=o.__importStar(i(591312)),g=o.__importDefault(i(389659)),h=o.__importStar(i(463519)),m=o.__importDefault(i(601976)),S=o.__importDefault(i(794229)),_=o.__importStar(i(242561)),f=i(815146),y=o.__importDefault(i(606617)),C=o.__importStar(i(147286)),v=o.__importStar(i(704704)),b=i(606933),T=o.__importStar(i(152010)),P=i(395617),k=i(995276),A=i(229179),I=i(36381),w=o.__importDefault(i(374503)),x=o.__importDefault(i(139221)),N=i(16549),D=i(331079),M=o.__importDefault(i(685734)),L=o.__importDefault(i(760989)),R={Photo:"Photo",Video:"Video",Audio:"Audio",File:"File",Call:"Call",Post:"Post",PostWithContent:"PostWithContent",Location:"Location",SwiftCard:"SwiftCard",Gif:"GIF",MediaAlbum:"MediaAlbum"},E={[s.MessageTypeGroups.Picture]:R.Photo,[s.MessageTypeGroups.Video]:R.Video,[s.MessageTypeGroups.Audio]:R.Audio,[s.MessageTypeGroups.UriFile]:R.File,[s.MessageTypeGroups.Calling]:R.Call,[s.MessageTypeGroups.Location]:R.Location,[s.MessageTypeGroups.SwiftCard]:R.SwiftCard,[s.MessageTypeGroups.Gif]:R.Gif,[s.MessageTypeGroups.MediaAlbum]:R.MediaAlbum};function B(e,t,i){let o,n,r,s,l;if(e&&e.length>0){const d=(0,a.chain)(e,(0,a.sortBy)((e=>e.time?-e.time:NaN)),(0,a.uniqBy)((e=>e.mri)));n=F(d.length,t,i),d.length>=1&&(o=d[0].mri,r=W(d[0].mri)),d.length>=2&&(c=d[1].mri,s=m.default.getDisplayableProfile(c).getShortName(),l=d.length-1)}var c;return{mostRecentMri:o,labelKey:n,firstPersonToReact:r&&r.name,gender:r&&r.gender,secondPersonToReact:s,othersCount:l}}function O(){return x.default.getPlatformType()===f.PlatformType.Windows?"disabled":"enabled"}function F(e,t,i){let o;if(i&&t.objectType===s.MessageTypeGroups.SwiftCard){const e=i.getFirstUriObjectChild(b.SwiftUriObjectNode);e&&e.getCardType()===y.default.imageContentTypes.gif&&(o=s.MessageTypeGroups.Gif)}const n=function(e,t){let i=E[e];i||(i=t?R.Post:R.PostWithContent);return i}(o||t.objectType,t.isQuoteOnly);let r;return 1===e?r="OnePersonReactedToYour"+n:2===e?r="TwoPeopleReactedToYour"+n:e>2&&(r="MoreThanTwoPeopleReactedToYour"+n),r?(r=t.isPushNotification?"PushNotification."+r:"AlertCard."+r,r):r}function V(e,t,i,o){let n;return e.isCurrentUserMentioned(!1)?n=v.getString("Notifications.UserMentionTitle",{creator:i}):s.hasAllAtMention(e.content)?n=v.getString("Notifications.AllMentionTitle",{creator:i}):e.isCurrentUserQuoted()?n=v.getString("Notifications.ReplyTitle",{creator:i}):t&&t.isOneOnOne()?n=v.getString("Notifications.OneOnOneTitle",{creator:i}):(o.length>20&&(o=o.substring(0,17)+"..."),n=v.getString("Notifications.ConversationGroupTitle",{creator:i,conversationName:o})),n}function U(e,t){let i;const o=s.getMessageTypeGroup(e),n=h.decode(e);switch(o){case s.MessageTypeGroups.Audio:i=v.getString("Notifications.AudioBody",{emoji:O()});break;case s.MessageTypeGroups.Location:i=function(e,t){const i=p.renderText(e,{message:t,processing:{quotes:_.ProcessingLevel.None,wikiMarkup:_.ProcessingLevel.Stripped},trimToFirstLine:!0});return v.getString("Notifications.LocationBody",{address:i,emoji:O()})}(n,e);break;case s.MessageTypeGroups.Picture:i=j(n);break;case s.MessageTypeGroups.Video:i=v.getString("Notifications.VideoBody",{emoji:O()});break;case s.MessageTypeGroups.UriFile:i=function(e){const t=H(e),i=y.default.extractFileExtension(t);if(y.default.isImageExtension(i))return j(e);return v.getString("Notifications.FileBody",{fileName:t})}(n);break;case s.MessageTypeGroups.Sticker:i=v.getString("Notifications.StickerBody");break;case s.MessageTypeGroups.ScheduledCallInvite:i=v.getString("Notifications.ScheduledCallInviteBody",{organizerName:t});break;case s.MessageTypeGroups.Text:s.isContactMessageType(e)&&(i=function(e){const t=e.children[0];if(t.children&&1===t.children.length){const e=t.children[0];return v.getString("Notifications.ContactBody",{emoji:O(),contactName:e.fullName})}return v.getString("Notifications.ContactsBody",{emoji:O()})}(n));break;case s.MessageTypeGroups.SwiftCard:const o=n.getFirstUriObjectChild(b.SwiftUriObjectNode);o&&(i=o.getCardType()===y.default.imageContentTypes.gif?v.getString("Notifications.GifBody",{emoji:O()}):p.renderText(o,{message:e,processing:{quotes:_.ProcessingLevel.None,wikiMarkup:_.ProcessingLevel.Stripped},trimToFirstLine:!0})),i||(i=v.getString("Notifications.CardBody"));break;case s.MessageTypeGroups.System:e.messagetype===s.MessageTypes.HandshakeInvite?i=v.getString("Notifications.E2eeInvitedNotificationLabel"):e.messagetype===s.MessageTypes.HandshakeAccept?i=v.getString("Notifications.E2eeAcceptedNotificationLabel"):e.messagetype===s.MessageTypes.HandshakeComplete&&(i=v.getString("Notifications.E2eeEstablishedNotificationLabel"));break;case s.MessageTypeGroups.MediaAlbum:i=v.getString("Notifications.MediaAlbumBody",{emoji:O()})}return l.isEncryptedThread(e.conversationId)&&(i=v.getString("Notifications.E2eeTextNotificationLabel")),e.isTranslationSettings()&&(i=u.getTranslationActionString(e.content)),i||(i=p.renderText(n,{message:e,utfFallback:!0,processing:{quotes:_.ProcessingLevel.None,wikiMarkup:_.ProcessingLevel.Stripped},trimToFirstLine:!0})),i||""}function j(e){const t=H(e);return y.default.getFileContentType(t)===y.default.imageContentTypes.gif?v.getString("Notifications.GifBody",{emoji:O()}):v.getString("Notifications.PhotoBody",{emoji:O()})}function H(e){const t=e.getFirstUriObjectChild(b.UriObjectNode);return t&&t.getNameForUI()||""}function W(e,t=!1){const i=M.default.getFullUserProfileByMri(e);return{name:t?i.getDisplayName():i.getShortName(),gender:i.gender||D.eGender.Unspecified}}function z(e,t=!1){const i=M.default.getFullUserProfileByMri(e);return m.default.getDisplayableProfilePotentiallyBeforeStartupAsync(e).then((e=>({name:t?e.getDisplayName():e.getShortName(),gender:i.gender||D.eGender.Unspecified})))}},354605:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tryGetDndOsState=function(e){0;return}},833382:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.quitAndUpdate=u,t.tryToQuitAndInstallUpdate=function(e){if(!d)return void l.error(n.LogTraceArea.GenericUnsafe,"ElectronUtils: No ElectronApi attached on window.");if(a.default.CallingStore.hasConnectedCalls())return l.debug((()=>"ElectronUtils: Connected call when trying to update.")),void r.default.showConfirmationAlert(c.getString("QuitDialog.Message"),void 0,c.getString("QuitDialog.QuitLabel"),u,e);u()},t.isUpgradedFromDelphiToElectron=function(){return!1;const e=s.default.getAppSettings();return!!e&&!!e.upgradedFromDelphi};const o=i(197582),n=i(167606),r=o.__importDefault(i(206483)),a=o.__importDefault(i(369347)),s=o.__importDefault(i(18026)),l=o.__importStar(i(85385)),c=o.__importStar(i(704704));let d=null;function u(){d?(l.debug((()=>"ElectronUtils: Calling quit and update.")),d.ipcProvider.appUpdate.quitAndUpdate.send()):l.error(n.LogTraceArea.GenericUnsafe,"ElectronUtils: No ElectronApi attached on window.")}"undefined"!=typeof window&&window.electronApi&&(d=window.electronApi)},75576:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addCommonTrackingParams=function(e,t,i,o){const n=i?a.getLocale():c.default.getSystemLanguage();e=u.default.addUrlParameter(e,"lang",n,t),e=u.default.addUrlParameter(e,"p",c.default.getSkypePlatformId().toString(),t),e=u.default.addUrlParameter(e,"v",c.default.getAppVersion(),t),e=u.default.addUrlParameter(e,"e",d.UIFactor[d.UIFactorHelper.getUIFactor()],t),o&&(e=u.default.addUrlParameter(e,"tcg",o,t));return e},t.isUserVoiceLinkEnabled=function(){return a.isEnglishLanguage()},t.getUserVoiceLinkUrl=function(){return r.default.getConfigSettings().go.host+r.default.getConfigSettings().feedbackAndProblemGoParam.userVoice},t.getTelemetryCorrelationId=function(){return p.default.newGuid()},t.isSsoEnabled=function(){return r.default.getFeedbackFeatures().forceSsoFlow},t.getHelpAndFeedbackUrl=function(e,t,i){let o=r.default.getConfigSettings().go.host+e;o=s.addDefaultParamsToUrl(o,t,!0),o=u.default.addUrlParameters(o,n.pickBy(i,l.isQueryParameterOverrideValid)),u.default.getUrlParameterValue(o,"lang")&&(o=u.default.addUrlParameter(o,"setlang",""));return o};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(150343)),a=o.__importStar(i(704704)),s=o.__importStar(i(881581)),l=o.__importStar(i(693921)),c=o.__importDefault(i(139221)),d=i(412758),u=o.__importDefault(i(220534)),p=o.__importDefault(i(760989))},77917:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shouldRunLandingExperiment=d,t.runLandingExperiment=function(e,t){switch(e){case l.HubToShowAfterFinishedOnboarding.Recents:s.default.navigateToRecentsTab();break;case l.HubToShowAfterFinishedOnboarding.Calls:s.default.navigateToCallsTab();break;case l.HubToShowAfterFinishedOnboarding.People:s.default.navigateToPeopleTab();break;case l.HubToShowAfterFinishedOnboarding.Dial:s.default.navigateToCallsTab(),s.default.navigateToPSTNDialerWithParams({causeId:t,navigationSource:r.DialerNavigationSource.DeepLink},n.MainRootViewId);break;default:c.default.switchStatementExhaustiveChecking(e),s.default.navigateToRecentsTab()}},t.shouldRunPeopleTabsExperiment=function(e,t){return d(e)&&t===l.HubToShowAfterFinishedOnboarding.People};const o=i(197582),n=i(154235),r=i(815146),a=o.__importStar(i(963369)),s=o.__importDefault(i(740794)),l=i(473711),c=o.__importDefault(i(760989));function d(e){return a.isAddressBookEnabled()&&e}},94534:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.supportedLangLocales=t.sortedLanguageInfo=void 0,t.resetLocaleToSystem=function(){r.resetLocaleToSystem().toEs6Promise().then((()=>{a.default.setUserPreferencesLocal({locale:void 0})}))},t.setLocale=function(e){return r.setLocale(e).then((()=>{a.default.setUserPreferencesLocal({locale:e}),(0,n.setLanguageCookie)(e)}))},t.getLanguageTitle=function(e){return r.getStringUnsafe("SettingsLanguages."+e)},t.getShortLanguageTitle=function(e){const t=s()[e];if(t)return r.getString("ShortLanguages."+t);return e},t.getLanguageOnlyTitle=function(e){return r.getString("LanguageOnly."+e)},t.getLocaleStandardized=function(e){const t=s()[e];return null!=t?t:e},t.getLanguageFromLocale=function(e){var t;return null!==(t=null==e?void 0:e.split("-")[0])&&void 0!==t?t:""};const o=i(197582),n=i(545930),r=(o.__importDefault(i(18026)),o.__importStar(i(704704))),a=o.__importDefault(i(201721));function s(){const e={};return t.supportedLangLocales.forEach((t=>{e[t]=t,e[t.toLowerCase()]=t})),e}t.sortedLanguageInfo=[{code:"ar-SA",rtl:!0},{code:"bg-BG"},{code:"ca-ES"},{code:"zh-CN"},{code:"zh-TW"},{code:"hr-HR"},{code:"cs-CZ"},{code:"da-DK"},{code:"nl-NL"},{code:"de-DE"},{code:"el-GR"},{code:"en-GB"},{code:"en-US"},{code:"es-ES"},{code:"es-MX"},{code:"et-EE"},{code:"fi-FI"},{code:"fr-CA"},{code:"fr-FR"},{code:"he-IL",rtl:!0},{code:"hi-IN"},{code:"hu-HU"},{code:"id-ID"},{code:"it-IT"},{code:"ja-JP"},{code:"ko-KR"},{code:"lt-LT"},{code:"lv-LV"},{code:"ms-MY"},{code:"nb-NO"},{code:"pl-PL"},{code:"pt-PT"},{code:"pt-BR"},{code:"ro-RO"},{code:"ru-RU"},{code:"sk-SK"},{code:"sl-SI"},{code:"sr-Latn-RS"},{code:"sv-SE"},{code:"th-TH"},{code:"tr-TR"},{code:"uk-UA"},{code:"vi-VN"}],t.supportedLangLocales=["af-ZA","am-ET","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LB","ar-LY","ar-MA","ar-OM","ar-QA","ar-SA","ar-SY","ar-TN","ar-YE","az-AZ","bg-BG","bn-IN","bs-BA","ca-ES","cs-CZ","cy-GB","da-DK","de-AT","de-CH","de-DE","el-GR","en-AU","en-CA","en-GB","en-HK","en-IE","en-IN","en-KE","en-NG","en-NZ","en-PH","en-SG","en-TZ","en-US","en-ZA","es-AR","es-BO","es-CL","es-CO","es-CR","es-CU","es-DO","es-EC","es-GQ","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-PY","es-SV","es-US","es-ES","es-UY","es-VE","et-EE","fa-IR","fi-FI","fil-PH","fr-BE","fr-CA","fr-CH","fr-FR","ga-IE","gu-IN","he-IL","hi-IN","hr-HR","hu-HU","id-ID","is-IS","it-IT","ja-JP","kk-KZ","km-KH","kn-IN","ko-KR","lo-LA","lt-LT","lv-LV","mr-IN","ms-MY","mt-MT","my-MM","nb-NO","ne-NP","nl-BE","nl-NL","pl-PL","ps-AF","pt-PT","pt-BR","ro-RO","ru-RU","sk-SK","sl-SI","sq-AL","sr-Latn-RS","sv-SE","sw-KE","sw-TZ","ta-IN","te-IN","th-TH","tr-TR","uk-UA","vi-VN","zh-CN","zh-HK","zh-TW"]},811932:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getAutoDetectedLanguagesList=function(e){var t;const i=a.default.getSystemLocale(),o=null===(t=s.default.getHeaders().CountryCode)||void 0===t?void 0:t.toLowerCase(),n=r.getLocale(),l=s.default.getS4LCMCFeaturesNoSubscription().translationFeatures.automaticLangDetectionNumberOfResults;return d(e,i,o,n,l)};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(704704)),a=o.__importDefault(i(139221)),s=o.__importDefault(i(150343)),l=i(94534),c={};l.supportedLangLocales.forEach((e=>{var t;const{country:i}=g(e),o=null!==(t=c[i])&&void 0!==t?t:[];c[i]=o.concat([e])}));const d=n.memoize((function(e,t,i,o,n){const r=new Map,a=new Map;s.default.getS4LCMCFeaturesNoSubscription().callTranslatorBotConfig.languageSupport.speech.forEach((e=>{const{lang:t,country:i}=g(e);r.set(t,e),a.set(i,t)}));const l=new Set;p(t,l,r,a),p(o,l,r,a),e&&(p(e,l,r,a),u(g(e).country,l,r,a));u(i,l,r,a),u(g(t).country,l,r,a),u(g(o).country,l,r,a);const c=[];for(const e of l.values()){const t=r.get(e);if(t&&(c.push(t),c.length>=n))break}return c}),((...e)=>e.join("_")));function u(e,t,i,o){var n;e&&(null===(n=c[e])||void 0===n||n.forEach((e=>{var n;const{lang:r}=g(e);null===(n=h[r])||void 0===n||n.forEach((e=>p(e,t,i,o)))})))}function p(e,t,i,o){var n;const{lang:r,country:a}=g(e);if(!t.has(r))if(i.has(r))t.add(r);else{const e=o.get(a);if(e)t.add(e);else{t.add(r);(null!==(n=h[r])&&void 0!==n?n:[]).forEach((e=>p(e,t,i,o)))}}}function g(e){const t=null==e?void 0:e.split("-");return t&&t.length>1?{lang:t[0],country:t[t.length-1].toLowerCase()}:{lang:"",country:""}}const h={af:["af-ZA","nl-NL"],am:["am-ET","ar-AE"],ar:["ar-AE","fa-IR","es-ES","he-IL"],bg:["bg-BG","sr-Latn-RS","hr-HR","bs-BA","sl-SI"],bn:["bn-IN","fil-PH","id-ID","ne-NP","mr-IN"],bs:["bs-BA","bg-BG","sr-Latn-RS","hr-HR","sl-SI"],ca:["ca-ES","fr-FR","es-ES"],cs:["cs-CZ","sk-SK","pl-PL","ru-RU"],cy:["cy-GB","ga-IE","en-US"],da:["da-DK","nb-NO","sv-SE","is-IS"],de:["de-DE","nl-NL"],el:["el-GR","sq-AL"],en:["en-US","cy-GB","ga-IE"],es:["es-ES","it-IT","fr-FR","pt-PT"],et:["et-EE","fi-FI"],fa:["fa-IR","ar-AE"],fi:["fi-FI","et-EE"],fil:["fil-PH","id-ID","ne-NP","bn-IN","mr-IN"],fr:["fr-FR","it-IT","es-ES","pt-PT"],ga:["ga-IE","cy-GB","en-US"],gu:["gu-IN","hi-IN","kn-IN"],he:["he-IL","ar-AE"],hi:["hi-IN","gu-IN","kn-IN"],hr:["hr-HR","bg-BG","sr-Latn-RS","bs-BA","sl-SI"],hu:["hu-HU","kk-KZ","tr-TR"],id:["id-ID","fil-PH","ne-NP","bn-IN","mr-IN"],is:["is-IS","da-DK","nb-NO","sv-SE"],it:["it-IT","fr-FR","es-ES","pt-PT"],ja:["ja-JP","zh-CN","ko-KR"],kk:["kk-KZ","hu-HU","tr-TR"],km:["km-KH","hi-IN","vi-VN"],kn:["kn-IN","gu-IN","hi-IN"],ko:["ko-KR","ja-JP","zh-CN"],lo:["lo-LA","km-KH"],lt:["lt-LT","lv-LV","pl-PL"],lv:["lv-LV","lt-LT","pl-PL"],mr:["mr-IN","fil-PH","id-ID","ne-NP","bn-IN"],ms:["ms-MY","ar-AE"],mt:["mt-MT","ar-AE"],my:["my-MM","hi-IN"],nb:["nb-NO","da-DK","sv-SE","is-IS"],ne:["mr-IN","fil-PH","id-ID","ne-NP","bn-IN"],nl:["nl-NL","de-DE","af-ZA"],pl:["pl-PL","cs-CZ","sk-SK","ru-RU"],ps:["ps-AF","fa-IR"],pt:["pt-PT","it-IT","fr-FR","es-ES"],ro:["ro-RO","it-IT"],ru:["ru-RU","cs-CZ","sk-SK","pl-PL"],sk:["sk-SK","cs-CZ","pl-PL","ru-RU"],sl:["sl-SI","bg-BG","sr-Latn-RS","hr-HR","bs-BA"],sq:["sq-AL","el-GR"],sr:["sr-Latn-RS","bg-BG","hr-HR","bs-BA","sl-SI"],sv:["sv-SE","da-DK","nb-NO","is-IS"],sw:["sw-KE","sw-TZ"],ta:["ta-IN","hi-IN"],te:["te-IN","hi-IN"],th:["th-TH","km-KH"],tr:["tr-TR","kk-KZ","hu-HU"],uk:["uk-UA","cs-CZ","pl-PL","ru-RU"],vi:["vi-VN","km-KH"],zh:["zh-CN","ja-JP","ko-KR"]}},786486:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importDefault(i(331654)),r=o.__importStar(i(516778)),a=o.__importStar(i(397691)),s=o.__importDefault(i(150343)),l=i(154235),c=i(815146),d=o.__importStar(i(85385)),u=o.__importDefault(i(960282)),p=(i(427845),o.__importDefault(i(655192)));t.default=class{static shouldUseStackNavigationFromScreenSize(){if(u.default.isMobileScreenSize(l.MainRootViewId))return d.log(c.LogTraceArea.Navigation,"shouldUseStackNavigationFromScreenSize: Is mobile screen size, returning true"),a.Resolved(!0);const e=r.UserInterface.getPixelRatio();let t;return t=void 0===this._screenDpi?n.default.screenDpi().then((e=>(this._screenDpi=e,e)),(e=>(d.warn(c.LogTraceArea.Navigation,"DeviceUtilities screenDpi failed: "+p.default.errorAsString(e)),0))):a.Resolved(this._screenDpi),t.then((t=>{if(0===t)return d.log(c.LogTraceArea.Navigation,"shouldUseStackNavigationFromScreenSize: screenDpi is unknown, returning "+!0),!0;const i=r.UserInterface.measureWindow(),o=i.width*e/t,n=i.height*e/t,a=Math.sqrt(Math.pow(o,2)+Math.pow(n,2)),l=s.default.getS4LUiFeaturesNoSubscription().androidTabletSizeThreshold,u=a<l;return d.log(c.LogTraceArea.Navigation,"shouldUseStackNavigationFromScreenSize: screenSize: "+a+" threshold: "+l+" shouldUseStackNav: "+u),u}))}}},2891:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(44717)),r=o.__importDefault(i(740794));t.default=class{static navigateToConversationOrScheduleNavigationOnLaunch(e){e.convId&&!n.isHighlightsThread(e.convId)&&r.default.navigateToNonHighlightsConversationOrScheduleNavigationOnLaunch(e)}}},757838:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mainContentNavigatorId=t.rightSideBarNavigatorId=void 0,t.conversationNavigationDirection=T,t.convertCompositeNavContextToStackNavContextStack=function(e){p.log(u.LogTraceArea.Navigation,"NavigationUtils._convertCompositeNavContextToStackNavContextStack");const t=[],i=new h.SimpleSplitNavigationContext({});p.log(u.LogTraceArea.Navigation,"NavigationUtils: convert to stack nav, adding hub");const o=new h.MobileHubNavigationContext({hubTab:h.HubTab.Recents,screen:h.HubTab.Recents});if(t.push(o),!e)return i.setNavStack(t),i;if(e){const i=e.getLeftNavigationContext();if(i){const e=i.getConversationsListContext();o.state.hubTab=e.state.currentTab}const r=n.last(e.getNavStack());if(r instanceof h.DesktopContentPanelNavigationContext){const e=function(e){const t=e.getConversationContext();if(t&&t.state.conversationId){p.log(u.LogTraceArea.Navigation,"NavigationUtils: convert to stack nav, adding conversation: "+_.mriOrId(t.state.conversationId));const e=new h.MobileContentPanelNavigationContext({});return e.setConversationContext(t.state),e}return}(r);e&&t.push(e)}}return i.setNavStack(t),i},t.convertStackNavContextToCompositeSplitNavContext=function(e){const t=y.default.newCauseId();p.log(u.LogTraceArea.Navigation,"NavigationUtils.convertStackNavContextToCompositeSplitNavContext causeId: "+t);const i=P(t);let o=!1;const r=e?e.getNavStack():[];if(!o&&n.includes(v,h.MainStageNavViewMode.Call)){const e=n.findLast(r,(e=>e instanceof h.CallNavigationContext));e&&(p.log(u.LogTraceArea.Navigation,"NavigationUtils: convert to composite nav, adding Call, callId: "+e.state.callId),i.setNavStack([e]),o=!0)}if(!o&&n.includes(v,h.MainStageNavViewMode.DesktopContentPanel)){const e=n.findLast(r,(e=>e instanceof h.MobileContentPanelNavigationContext)),t=e?e.getConversationContext():void 0,a=t?t.state.conversationId:void 0;if(t&&a){p.log(u.LogTraceArea.Navigation,"NavigationUtils: convert to composite nav, adding DesktopContentPanel, conversationId: "+_.mriOrId(a));const e=new h.DesktopContentPanelNavigationContext({});e.setConversationContext(t.state),i.setNavStack([e]),o=!0}}if(!o){p.log(u.LogTraceArea.Navigation,"NavigationUtils: convert to composite nav, adding WelcomeScreen");const e=new h.WelcomeScreenContext({});i.setNavStack([e])}const a=new h.LeftNavigationViewContext({viewModeHistory:new C.ViewModeHistory(h.LeftNavViewMode.None)});w(a,k(void 0,n.last(i.getNavStack())),t),i.setMasterContext(a);let s=h.HubTab.Recents;const l=n.findLast(r,(e=>e instanceof h.MobileHubNavigationContext));l&&!n.isUndefined(l.state.hubTab)&&(s=l.state.hubTab);return a.getConversationsListContext().state.currentTab=s,i},t.createRootCompositeSplitViewContext=P,t.defaultLeftNavViewMode=k,t.deriveViewModeFromRightNavContext=function(e){if(!e)return h.RightSidebarViewMode.None;if(e instanceof h.GalleryNavigationContext)return h.RightSidebarViewMode.Gallery;if(e instanceof h.FindPanelNavigationContext)return h.RightSidebarViewMode.Find;if(e instanceof h.InAppBrowserNavigationContext)return h.RightSidebarViewMode.InAppBrowser;return h.RightSidebarViewMode.Other},t.shouldNavigationContextPartReplaceExisting=function(e,t){if(e instanceof h.MobileHubNavigationContext&&t instanceof h.MobileHubNavigationContext)return!0;if(e instanceof h.MobileContentPanelNavigationContext&&t instanceof h.MobileContentPanelNavigationContext){if(t.state.shouldReplaceCurrentContext)return!0;const i=e.getConversationContext(),o=t.getConversationContext();if((i?i.state.conversationId:void 0)===(o?o.state.conversationId:void 0))return!0}if(e instanceof h.CallNavigationContext&&t instanceof h.CallNavigationContext&&e.state.initialConversationMri===t.state.initialConversationMri)return!0;if(e instanceof h.DetailsNavigationContext&&t instanceof h.DetailsNavigationContext&&e.state.mri===t.state.mri)return!0;return!1},t.considerNavContextsEqual=function(e,t){if(e instanceof h.MobileHubNavigationContext&&t instanceof h.MobileHubNavigationContext)return!0;if(e instanceof h.MobileContentPanelNavigationContext&&t instanceof h.MobileContentPanelNavigationContext){const i=t.getConversationContext(),o=e.getConversationContext();if(i&&o&&o.state.conversationId===i.state.conversationId&&o.state.scrollToTimestamp===i.state.scrollToTimestamp&&o.state.forceRefreshFocus===i.state.forceRefreshFocus&&o.state.selectedNumberForSMS===i.state.selectedNumberForSMS)return p.log(u.LogTraceArea.Navigation,"NavigationUtils.considerNavContextsEqual found matching MobileContentPanelNavigationContext conversationId: "+_.mriOrId(o.state.conversationId)),!0}if(e instanceof h.CallNavigationContext&&t instanceof h.CallNavigationContext&&e.state.callId===t.state.callId)return p.log(u.LogTraceArea.Navigation,"NavigationUtils.considerNavContextsEqual found matching CallNavigationContext callId: "+e.state.callId),!0;return t.id===e.id},t.shouldResetToHubAndConversation=function(e,t){return e instanceof h.CallNavigationContext&&t instanceof h.MobileContentPanelNavigationContext},t.stackNavigationDirection=function(e,t){if(S.default.transitionHintForPopCard())return f.StackNavigationDirection.Present;if(!n.isUndefined(e.state.navigationDirection))return e.state.navigationDirection;if(e instanceof h.CaptureComboNavigationContext||e instanceof h.ConversationMediaViewerPanelContext||e instanceof h.InAppBrowserNavigationContext||e instanceof h.MediaPickerNavigationContext||e instanceof h.PSTNCountrySelectorNavigationContext||e instanceof h.SkypeNumberCountryAreaSelectorNavigationContext||e instanceof h.SkypeNumberPrefixSelectorNavigationContext||e instanceof h.SearchNavigationContext||e instanceof h.AlertsHubNavigationContext||e instanceof h.TodayTabNavigationContext||e instanceof h.QuickCallNavigationContext)return f.StackNavigationDirection.Present;if(e instanceof h.MobileContentPanelNavigationContext)return T(t);if(e instanceof h.SyncAddressBookContext||e instanceof h.PeopleYouMayKnowNoticeContext||e instanceof h.TelemetryConsentContext||e instanceof h.ThemeContext)return e.state.isFirstLogin?f.StackNavigationDirection.Push:f.StackNavigationDirection.Present;if(e instanceof h.ConversationParticipantsNavigationContext&&t&&t instanceof h.MobileHubNavigationContext)return f.StackNavigationDirection.Present;if(e instanceof h.CreateConversationNavigationContext&&t&&t instanceof h.MobileHubNavigationContext)return f.StackNavigationDirection.Present;if(e instanceof h.ReportConcernNavigationContext&&t&&t instanceof h.MobileHubNavigationContext)return f.StackNavigationDirection.Present;return f.StackNavigationDirection.Push},t.mainStageViewModeForNavContext=function(e){if(e instanceof h.WelcomeScreenContext)return h.MainStageNavViewMode.WelcomeScreen;if(e instanceof h.DesktopContentPanelNavigationContext)return h.MainStageNavViewMode.DesktopContentPanel;if(e instanceof h.CallNavigationContext)return h.MainStageNavViewMode.Call;if(e instanceof h.ForcedUpgradeContext)return h.MainStageNavViewMode.ForcedUpgradeScreen;if(e instanceof h.TodayTabNavigationContext)return h.MainStageNavViewMode.Today;return},t.maybeUpdateDesktopNavContext=function(e,t){p.log(u.LogTraceArea.Navigation,"NavigationUtils.maybeUpdateDesktopNavContext, causeId "+t);let i=e;if(e instanceof h.ConversationNavigationContext){p.log(u.LogTraceArea.Navigation,"NavigationUtils.maybeUpdateDesktopNavContext: updating desktop conversation context, causeId "+t);const o=new h.DesktopContentPanelNavigationContext({});o.setConversationContext(e.state),i=o}return i},t.rootViewIdForComponentContext=A,t.modalNavigatorIdForComponentContext=function(e){return I(A(e))},t.modalNavigatorIdForRootViewId=I,t.searchViewModeContext=function(e){let t=h.LeftNavViewMode.Recents;const i=e.state.viewModeHistory.peek();i!==h.LeftNavViewMode.ConversationInCall&&(t=i);return t},t.getValidConversationIdForNavigation=function(e,t,i=u.NavigationConversationOrigin.Unknown){if(p.log(u.LogTraceArea.Navigation,"NavigationUtils: getValidConversationIdForNavigation, desiredConvId = "+_.mriOrId(e)+" causeId: "+t+" origin: "+i),e&&l.isPhoneMri(e))return s.default.ensureConversationLoadedOrFaked(e).then((()=>e));let o;o=e?l.isOneOnOneConversation(e)||l.isBookmarkConversation(e)?s.default.ensureConversationLoadedOrFaked(e).then((()=>e)):s.default.ensureConversationLoaded(e).then((()=>e)):r.Resolved(void 0);return o.then((e=>{if(e&&(0,d.default)().ableToViewConversation(e))return p.log(u.LogTraceArea.Navigation,"NavigationUtils: ableToViewConversation, navConvId = "+_.mriOrId(e)+" causeId: "+t),e;p.log(u.LogTraceArea.Navigation,"NavigationUtils: NOT ableToViewConversation, navConvId = "+_.mriOrId(e)+" causeId: "+t),p.log(u.LogTraceArea.Navigation,"NavigationUtils: no valid conversationId, causeId: "+t)}))},t.baseSettingsGroup=function(){return h.SettingsGroup.AccountAndProfile},t.setEligibleLeftNavViewModes=function(e,t){const i=y.default.newCauseId();p.log(u.LogTraceArea.Navigation,"NavigationUtils.setEligibleLeftNavViewModes viewModes: "+e+" causeId: "+i),b=e,t&&w(t,t.state.viewModeHistory.peek(),i)},t.setLeftNavViewMode=w,t.navigationTypesToTriggerKeys=function(e){return n.uniq(e.map((e=>{switch(e){case m.CompositeNavigationType.Default:case m.CompositeNavigationType.MainContent:case m.CompositeNavigationType.LeftSidebar:return m.TriggerKeys.NavigationAndTabs;case m.CompositeNavigationType.RightSidebar:return m.TriggerKeys.DesktopSidebar;case m.CompositeNavigationType.Modal:return m.TriggerKeys.ModalNavigation}})))},t.getNavigationParams=x,t.navigateWithReactNavigation=function(e,t,i){var o,n;if(!i)return;const[r,s]=x(i),l=null===(o=e.getCurrentRoute())||void 0===o?void 0:o.params;if(r!==h.SettingsGroupNavigationId||l&&l.group===s.group)if(r===(null===(n=e.getCurrentRoute())||void 0===n?void 0:n.name))e.setParams(s);else if(t===f.StackNavigationType.PopToRoot||i.state.shouldResetNavStack){const t=e.getState();if((null==t?void 0:t.routes.length)>0&&t.routes[0].name!==h.MobileHubNavigationId)return void e.reset({index:0,routes:[{name:i.stateId,params:s}]});(null==t?void 0:t.routes.length)>1&&t.routes[0].name===h.MobileHubNavigationId&&e.dispatch(a.StackActions.popToTop()),e.navigate(r,s)}else t===f.StackNavigationType.Push?e.dispatch(a.StackActions.push(r,s)):t===f.StackNavigationType.Replace&&e.dispatch(a.StackActions.replace(r,s));else e.dispatch(a.StackActions.push(r,s));window.history.pushState(N,"",window.location.origin)},t.addFakeBrowserHistory=function(e){if(window.history.state!==N)for(let t=0;t<e-1;t++)window.history.pushState(N,"",window.location.origin)};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=i(757361),s=o.__importDefault(i(304623)),l=o.__importStar(i(44717)),c=i(154235),d=o.__importDefault(i(615364)),u=i(815146),p=o.__importStar(i(85385)),g=i(138742),h=o.__importStar(i(812822)),m=i(113002),S=o.__importDefault(i(511592)),_=o.__importStar(i(437782)),f=i(928722),y=o.__importDefault(i(760989)),C=i(562775),v=[h.MainStageNavViewMode.DesktopContentPanel,h.MainStageNavViewMode.Call];let b;function T(e){return e&&(e instanceof h.MobileHubNavigationContext||e instanceof h.AlertsHubNavigationContext||e instanceof h.TodayTabNavigationContext||e instanceof h.SearchNavigationContext||e instanceof h.ContactsPanelV2NavigationContext||e instanceof h.ConversationParticipantsNavigationContext||e instanceof h.CreateConversationNavigationContext||e instanceof h.ActiveNowPanelNavigationContext||e instanceof h.ArchivedConversationsPanelNavigationContext)?f.StackNavigationDirection.Push:f.StackNavigationDirection.Present}function P(e){p.log(u.LogTraceArea.Navigation,"NavigationUtils.createRootCompositeSplitViewContext causeId: "+e);const t=new h.RootCompositeSplitViewContext({}),i=t.getLeftNavigationContext();return i&&w(i,i.state.viewModeHistory.peek(),e),t}function k(e,t,i){return(t instanceof h.CallNavigationContext||t instanceof g.MeetNowNavigationContext||t instanceof h.RedirectToLogoutNavigationContext)&&!i?h.LeftNavViewMode.None:h.LeftNavViewMode.Recents}function A(e){return e&&e.rootViewId?e.rootViewId:c.MainRootViewId}function I(e){return e!==c.MainRootViewId&&e.startsWith(m.ModalNavigatorPrefix)?e:m.ModalNavigatorPrefix+e}function w(e,t,i,o=C.LeftPaneNavigationDirection.Push){if(b){const r=n.includes(b,t)?t:h.LeftNavViewMode.None;p.log(u.LogTraceArea.Navigation,"NavigationUtils.setLeftNavViewMode viewMode: "+t+" filteredViewMode: "+r+" causeId: "+i),e.setViewMode(r,o)}else p.log(u.LogTraceArea.Navigation,"NavigationUtils.setLeftNavViewMode viewMode: "+t+" causeId: "+i),e.setViewMode(t,o);return m.CompositeNavigationType.LeftSidebar}function x(e){if(e instanceof h.MobileContentPanelNavigationContext){const t=Object.keys(e.children),i=e.children[t[0]];return[t[0],Object.assign({},i.state)]}return e instanceof h.RequiredScenarioContext?[e.stateId,Object.assign(Object.assign({},e.state),{navigator:e.navigator})]:[e.stateId,Object.assign({},e.state)]}t.rightSideBarNavigatorId=f.StackNavigatorId.DesktopSidebar,t.mainContentNavigatorId=f.StackNavigatorId.DesktopContent;const N="skype"},995276:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getNotificationIcon=function(e,t){if(!t)return a.Collection.GROUP_AVATAR_128;const i=t.getAvatarUrl();if(i)return i;let o=t.getMri();o&&e&&d.isEncryptedThread(o)&&(o=e.getMri());if(o&&d.isUserMri(o)){if(e){const t=e.getAvatarUrl();if(t)return t;if(P.default.getPlatformType()===m.PlatformType.Android)return{initials:e.getInitials(),color:h.default.getPrimaryColor(o)}}return a.Collection.AVATAR_128}if(o&&P.default.getPlatformType()===m.PlatformType.Android)return{isGroupConversation:!0,color:h.default.getPrimaryColor(o)};return a.Collection.GROUP_AVATAR_128},t.sendWarmCallTelemetry=function(e,t){b.EnsureStarted(f.default).then((()=>{S.log(m.LogTraceArea.Notifications,"Previous warm push at "+new Date(e).toISOString()+" ended with disposition: "+C.descriptionForWarmCallDisposition(t)),S.track(new c.WarmCalNotificationDisposition(e,t)),f.default.setUserPreferencesLocal({timeAwakenedByWarmCallNotification:void 0})}))},t.isCallerAllowed=function(e,t,i){if(!e)return S.log(m.LogTraceArea.Notifications,"isCallerAllowed caller undefined blocked: false causeId: "+i),s.Resolved(m.PersonAllowed.Allowed);return function(e){let t;t=r.App.getActivationState()!==r.Types.AppActivationState.Active?b.EnsureStarted(l.default).then((()=>l.default.isContactBlocked(e))):g.isConversationBlockedAsync(e);return t}(e).then((o=>(S.log(m.LogTraceArea.Notifications,"isCallerAllowed caller "+v.mriOrId(e)+" blocked: "+o+" causeId: "+i),o||!t||d.isPhoneMri(e)?s.Resolved(o?m.PersonAllowed.Blocked:m.PersonAllowed.Allowed):d.isGroupConversation(e)?s.Resolved(m.PersonAllowed.NotContact):A(e,i).then((t=>(S.log(m.LogTraceArea.Notifications,"isCallerAllowed caller "+v.mriOrId(e)+" isContact: "+t+" causeId: "+i),s.Resolved(t?m.PersonAllowed.Allowed:m.PersonAllowed.NotContact)))))))},t.isContact=A,t.isLastMessageUpdateReaction=function(e){return y.default.isMyMri(e.creator)&&e.hasUnseenReactions()};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778)),a=o.__importStar(i(317588)),s=o.__importStar(i(397691)),l=o.__importDefault(i(97572)),c=o.__importStar(i(873324)),d=o.__importStar(i(44717)),u=i(434343),p=o.__importDefault(i(555436)),g=o.__importStar(i(185013)),h=o.__importDefault(i(734468)),m=i(815146),S=o.__importStar(i(85385)),_=o.__importDefault(i(652032)),f=o.__importDefault(i(201721)),y=o.__importDefault(i(363091)),C=o.__importStar(i(528196)),v=o.__importStar(i(437782)),b=o.__importStar(i(446574)),T=o.__importDefault(i(655192)),P=o.__importDefault(i(139221)),k=i(123117);function A(e,t){return b.HasStarted(p.default)?s.Resolved(p.default.isManuallyAddedContact(e)):b.EnsureStartedExclusive([_.default]).then((()=>{const i=_.default.getData(u.InternalKeys.ContactMris)||[],o=n.includes(i,e);return o?s.fromThenable(k.MiniProfileRepository.getDisplayableUser(e).then((e=>!(n.isUndefined(e)||!e.isManuallyAdded))).catch((i=>(S.log(m.LogTraceArea.Notifications,"Failed to getDisplayableUser for "+v.mriOrId(e)+" error: "+T.default.errorAsString(i)+" causeId: "+t),!1)))):o})).catch((i=>(S.log(m.LogTraceArea.Notifications,"isContact set to false - InternalDataStore not started for caller "+v.mriOrId(e)+" error: "+T.default.errorAsString(i)+" causeId: "+t),!1)))}},928314:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isTextSelected=l,t.getSelectedText=c,t.getNewMessageFromSelection=function(e,t){return n.createMessageInfoFromEscapedText(e,r.PostSource.EphemeralMessage,t||c())};const o=i(197582),n=o.__importStar(i(459287)),r=i(815146),a=o.__importDefault(i(201721));function s(){if("undefined"!=typeof window)return window}function l(){const e=s();if(!e)return!1;const t=e.getSelection();return!!t&&"Range"===t.type}function c(){var e;const t=s();if(!t||!l())return"";const i=t.getSelection(),o=null==i?void 0:i.getRangeAt(0),n=null==o?void 0:o.endContainer,r=null===(e=null==n?void 0:n.parentElement)||void 0===e?void 0:e.classList.contains("DraftEditor-editorContainer");return 0===(null==i?void 0:i.focusOffset)&&o&&r&&!a.default.getUserPreferencesLocalNoSubscription().pasteAsQuotesEnabled&&o.setEnd(o.commonAncestorContainer,1),i?i.toString():""}},48076:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(815063),r=(i(815146),o.__importDefault(i(942724)));o.__importDefault(i(139221));t.default=class{static isTabletUI(){return n.EnvironmentInfo.isMobile()&&!r.default.isUsingStackNavigationContext()}static isTabletUINoSubscription(){return n.EnvironmentInfo.isMobile()&&!r.default.isUsingStackNavigationContextNoSubscription()}static isTablet(){return!!n.EnvironmentInfo.isMobile()&&this.isTabletUI()}static isTabletNoSubscription(){return!!n.EnvironmentInfo.isMobile()&&this.isTabletUINoSubscription()}static isIPad(){return!1}}},576538:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(85385)),r=o.__importDefault(i(150343)),a=o.__importDefault(i(201721)),s=o.__importStar(i(240297));t.default=new class{constructor(){this._setFilterSetting=()=>{const e=a.default.shouldSendOptionalTelemetryData()||!r.default.getS4LTelemetryFeatures().enableTelemetryFiltering;s.setShouldSendOptionalData(e),n.debug((()=>`[TelemetryHelper] EventBase.ShouldSendOptionalData = ${s.ShouldSendOptionalData}`))}}init(){this._setFilterSetting(),a.default.subscribe(this._setFilterSetting),r.default.subscribe(this._setFilterSetting),r.default.subscribe((()=>{const e=r.default.getS4LTelemetryFeatures();s.setTelemetryFilteringEnabled(e.enableTelemetryFiltering),s.setAttributesToOmitPii(e.forcePiiOmit),s.setEnablePiiAssertionInMaster(e.enablePiiAssertionInMaster)}))}}},444256:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCompressType=t.getImageOrVideoThumbnail=t.getThumbnailFromVideoFilePath=t.getThumbnailFromImageFilePath=t.getResizedImageFromFilePath=void 0;const o=i(197582),n=o.__importStar(i(397691)),r=o.__importDefault(i(606617)),a=i(920440);t.getResizedImageFromFilePath=(e,t,i,o,r)=>n.Resolved({imageUri:e});t.getThumbnailFromImageFilePath=(e,i,o,n)=>(0,t.getResizedImageFromFilePath)(e,i,o,50,n);t.getThumbnailFromVideoFilePath=e=>{const t=n.Defer();return(0,a.captureFrameFromVideo)(e).then((e=>{e?t.resolve({imageUri:URL.createObjectURL(e.blob),imageBlob:e.blob,rawData:e.rawData,mimeType:e.mimeType}):t.resolve(void 0)})),t.promise()};t.getImageOrVideoThumbnail=(e,i,o,n)=>{if(r.default.isVideoExtension(i))return(0,t.getThumbnailFromVideoFilePath)(e);{const i=(0,t.getCompressType)(e);return(0,t.getThumbnailFromImageFilePath)(e,o,n,i)}};t.getCompressType=e=>{const t=r.default.getFileContentTypeFromExtension(r.default.extractFileExtension(e));return t===r.default.imageContentTypes.jpeg?"JPEG":t===r.default.imageContentTypes.gif?"GIF":t===r.default.imageContentTypes.png?"PNG":t===r.default.videoContentTypes.mp4?"MP4":t===r.default.videoContentTypes.mov?"MOV":void 0}},412758:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UIFactorHelper=t.UIFactor=void 0;const o=i(197582).__importDefault(i(48076));var n;!function(e){e[e.Mobile=0]="Mobile",e[e.Tablet=1]="Tablet",e[e.Desktop=2]="Desktop"}(n||(t.UIFactor=n={}));t.UIFactorHelper=class{static getUIFactor(){return o.default.isTablet()?n.Tablet:n.Desktop}}},692610:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayableProfile=function(e){if(s.isConnector(e))return l.default.getConnectorDescription(e);if(s.isAgent(e))return a.default.getAgentDescriptionForMri(e);c.default.isMyMri(e)&&(e=c.default.getSkypeMri());return d.default.getDisplayableUserByMri(e)},t.getDisplayableProfilePotentiallyBeforeStartupAsync=function(e){if(s.isConnector(e))return l.default.getConnectorDescriptionPotentiallyBeforeStartupAsync(e);if(s.isAgent(e))return a.default.getAgentDescriptionForMriPotentiallyBeforeStartupAsync(e);c.default.isMyMri(e)&&(e=c.default.getSkypeMri());return d.default.getDisplayableUserByMriAsync(e)},t.getDisplayableProfileWithConversationOwnerLookup=function(e){const t=d.default.getConversationOwner(e);return d.default.getDisplayableUserByMri(t)},t.populateProfilesToCalculateConvDisplayName=function(e){if(!e||e.topicName())return r.Resolved();let t;t=e.isHighlightsThread()?s.isMyHighlightThread(e.id)?[]:n.compact([e.creator()]):e.getMemberMrisWithoutMe();if(t.length>0){const e=[],[i,o]=n.partition(t,(e=>s.isAgent(e)));if(o.length>0){const t=n.map(o,(e=>d.default.getDisplayableUserByMriAsync(e)));e.push(r.all(t).then((e=>{d.default.cacheDisplayableUsersBeforeStartup(e)})))}if(i.length>0){const t=n.map(i,(e=>a.default.getAgentDescriptionForMriPotentiallyBeforeStartupAsync(e)));e.push(r.all(t).then((e=>{a.default.cacheProfilesBeforeStartup(e)})))}return r.all(e).then(n.noop)}return r.Resolved()};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=o.__importDefault(i(179075)),s=o.__importStar(i(44717)),l=o.__importDefault(i(639854)),c=o.__importDefault(i(363091)),d=o.__importDefault(i(685734))},337249:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WindowDimensionUtils=void 0;const o=i(197582),n=o.__importStar(i(516778)),r=i(154235),a=o.__importDefault(i(960282));o.__importDefault(i(117475));class s{static measureWindow(e){return a.default.windowDimensionsNoSubscription(e)}static measureScreen(e){return n.UserInterface.measureWindow(e===r.MainRootViewId?void 0:e)}static windowHeightWithoutStatusBar(e){return this.measureWindow(e).height}}t.WindowDimensionUtils=s,t.default=s},256589:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(44717)),a=o.__importStar(i(761393)),s=o.__importDefault(i(114818)),l=o.__importDefault(i(201721)),c=o.__importStar(i(113002));t.default=class{static getWindowPreferences(e){return l.default.getUserPreferencesForConversationLocal(e).windowPreferences}static getDefaultWindowPreferences(){return{position:c.SplitViewDefaultWindowDimensions,isMaximized:!1}}static getDefaultModalPreferences(){return{position:{width:a.DefaultHeight,height:a.DefaultWidth,x:void 0,y:void 0},isMaximized:!1}}static getAuxiliaryWindowPreferences(e){var t;return null===(t=l.default.getUserPreferencesLocal().auxiliaryWindowPrefs)||void 0===t?void 0:t[e]}static storeAuxiliaryWindowPreferences(e,t){if(!t)return;const i=l.default.getUserPreferencesLocal().auxiliaryWindowPrefs||{},o=!n.isEmpty(i)&&i[e]?i[e]:{};(0,s.default)(o,t)||l.default.setUserPreferencesLocal({auxiliaryWindowPrefs:{[e]:t}})}static storeWindowPreferences(e,t,i){if(!t||!r.isMri(e))return;const o=l.default.getUserPreferencesLocal().conversationPrefs||{},a=!n.isEmpty(o)&&o[e]?o[e]:{},c={position:t,isMaximized:i};(0,s.default)(a.windowPreferences,c)||l.default.setUserPreferencesLocal({conversationPrefs:{[e]:{windowPreferences:c}}})}}},376161:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isMobileWeb=function(){return o.default.isMobile()};const o=i(197582).__importDefault(i(815063))},677982:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TokenStoreKeys=t.TokenStore=t.NavigationStateStore=t.isMobileWeb=t.AppConfigStore=void 0;const o=i(197582);var n=i(150343);Object.defineProperty(t,"AppConfigStore",{enumerable:!0,get:function(){return o.__importDefault(n).default}});var r=i(376161);Object.defineProperty(t,"isMobileWeb",{enumerable:!0,get:function(){return r.isMobileWeb}});var a=i(450312);Object.defineProperty(t,"NavigationStateStore",{enumerable:!0,get:function(){return o.__importDefault(a).default}});var s=i(517518);Object.defineProperty(t,"TokenStore",{enumerable:!0,get:function(){return o.__importDefault(s).default}}),Object.defineProperty(t,"TokenStoreKeys",{enumerable:!0,get:function(){return s.TriggerKeys}})},926101:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.navigateToCaptureComboModalWithParams=function(e,t,i,o,a){const s=v(e,t,!!o,!!a);if(!s)return;n.isUndefined(s.cameraMode)||c.default.setCameraMode(s.cameraMode);b(s);const l=y.default.newCauseId();u.log(r.LogTraceArea.Navigation,"NavigationActions: navigateToCaptureComboModalWithParams causeId: "+l),g.default.navigateAssertingUIStarted((()=>{g.default.launchModalEvent.fire({context:new h.CaptureComboNavigationContext(s),onDismiss:i,rootViewId:_.rootViewIdForComponentContext(t),causeId:l})}))},t.navigateToCaptureComboWithParams=function(e,t,i,o,n){const a=v(e,t,!!o,!!n);if(!a)return;b(a),g.default.navigateAssertingUIStarted((()=>{const e=y.default.newCauseId();if(u.log(r.LogTraceArea.Navigation,"NavigationActions: navigateToCaptureComboWithParams, causeId: "+e),m.default.isUsingStackNavigationContext()){if(S.default.isOnTopOfNavigationStack(h.CaptureComboNavigationId))return void(i&&i());i&&g.default.setStackNavigationCompleteCallback(i);const t=new h.CaptureComboNavigationContext(a);S.default.navigateToView(t,e)}}))},t.closeCaptureCombo=function(e,t){u.log(r.LogTraceArea.Navigation,"NavigationActions: closeCaptureCombo,  causeId: "+e),m.default.isUsingStackNavigationContext()?S.default.isOnTopOfNavigationStack(h.CaptureComboNavigationId)&&g.default.navigateBack(e,t):g.default.navigateToDefaultConversation()},t.navigateToCapturePreviewModalWithParams=function(e,t,i){const o=y.default.newCauseId();u.log(r.LogTraceArea.Navigation,"NavigationActions.navigateToCapturePreviewModalWithParams, causeId: "+o),g.default.navigateAssertingUIStarted((()=>{g.default.launchModalEvent.fire({context:new h.CapturePreviewNavigationContext(e),rootViewId:_.rootViewIdForComponentContext(t),causeId:o,modalId:i})}))};const o=i(197582),n=o.__importStar(i(496486)),r=i(167606),a=o.__importDefault(i(206483)),s=o.__importDefault(i(369347)),l=o.__importDefault(i(132680)),c=o.__importDefault(i(401189)),d=o.__importDefault(i(457468)),u=o.__importStar(i(85385)),p=o.__importStar(i(704704)),g=o.__importDefault(i(740794)),h=o.__importStar(i(812822)),m=o.__importDefault(i(942724)),S=o.__importDefault(i(450312)),_=o.__importStar(i(757838)),f=o.__importStar(i(352549)),y=o.__importDefault(i(760989));var C;function v(e,t,i,o){const c=function(){if(d.default.isUsingGogoNetworkNoSubscription())return C.isUsingGogoNetwork;const e=s.default.CallingStore.getConnectedAndNotOnHoldCallId();if(e&&l.default.disableCaptureAndChanges(e))return C.isProvidingInCallVideo;return}();if(c){if(!i&&c===C.isUsingGogoNetwork)return void u.log(r.LogTraceArea.Navigation,"CaptureNavigationActions: navigateToCaptureComboModalWithParams cancelled, gogo network detected");if(c===C.isProvidingInCallVideo&&!e.mediaPickerOnly){if(o){const t=n.clone(e);return t.mediaPickerOnly=!0,t.disableMediaPicker=!1,t}return u.log(r.LogTraceArea.Navigation,"CaptureNavigationActions: navigateToCaptureComboModalWithParams cancelled, providing in call video"),void a.default.showOKAlert(p.getString("CapturePanel.NoCameraWarning"),void 0,_.rootViewIdForComponentContext(t))}}return e}function b(e){if(e.pressTime){const t=new f.default(f.ScenarioName.ShowCameraViewfinder);t.start(void 0,e.pressTime),t.markStepCompleted("navigateToCaptureComboWithParams"),c.default.setPerfScenario(f.ScenarioName.ShowCameraViewfinder,t)}}!function(e){e[e.isUsingGogoNetwork=1]="isUsingGogoNetwork",e[e.isProvidingInCallVideo=2]="isProvidingInCallVideo"}(C||(C={}))},527919:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteConversation=v,t.deleteConversationGroup=function(e,t,i,o,c,d){const p=l.default.getDisplayableConversationsForUser(e);if(p.length<2)return void v(e,t,i,o,c,d);const b=n.find(p,(e=>e.isOneOnOne()&&!e.isEncryptedThread()&&!e.isSkypeSMSConversation()&&!e.isDeleted())),T=n.find(p,(e=>e.isEncryptedThread()&&!e.isDeleted())),P=p.filter((e=>!e.isDeleted()&&e.isSkypeSMSConversation())).map((e=>({mri:e.id,otherPartyMri:e.getOtherPartyMri()}))),k=n.compact([b&&{mri:b.id},T&&{mri:T.id},...P]),A=_.rootViewIdForComponentContext(i);f.default.showDialog(k,t,A).then((e=>{e&&a.default.showDialog(e,t,A,c).then((t=>{const n=C.default.newCauseId();if(t){h.log(g.LogTraceArea.Navigation,`${o}._deleteChat confirmed, causeId: ${n}`);const t=e.length>1?m.getString("InfoPanel.MultipleConversationsDeletedAnnouncement"):m.getString("InfoPanel.ChatDeletedAccessibilityLabel",{chatName:u.default.getDisplayName(e[0])||""});r.Accessibility.announceForAccessibility(t),S.default.navigateAfterDeleteConversation(e[0],n,i)}else{h.log(g.LogTraceArea.Navigation,`${o}._deleteChat canceled, causeId: ${n}`);const t=y.getConversationTypeForTelemetry(e[0]);h.track(new s.ConversationDeletionCanceled(e[0],t,c)),d&&d()}}))}))};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778)),a=o.__importDefault(i(685804)),s=i(823684),l=o.__importDefault(i(306200)),c=o.__importDefault(i(615364)),d=i(535973),u=o.__importDefault(i(601976)),p=o.__importDefault(i(109367)),g=i(815146),h=o.__importStar(i(85385)),m=o.__importStar(i(704704)),S=o.__importDefault(i(740794)),_=o.__importStar(i(757838)),f=o.__importDefault(i(696677)),y=o.__importStar(i(340482)),C=o.__importDefault(i(760989));function v(e,t,i,o,n,f){const v=_.rootViewIdForComponentContext(i);a.default.showDialog([e],t,v,n).then((t=>{const a=C.default.newCauseId();if(t){h.log(g.LogTraceArea.Navigation,`${o}._deleteChat confirmed, causeId: ${a}`),r.Accessibility.announceForAccessibility(m.getString("InfoPanel.ChatDeletedAccessibilityLabel",{chatName:u.default.getDisplayName(e)||""}));const t=(0,c.default)().getConversation(e);t&&t.isEncryptedThread()&&p.default.forgetPrivateConversation(e);const n=d.ConversationUtils.getOrderedConversations(l.default.getAllSiblingConversations(e),t).map((e=>e.id)),s=n.indexOf(e);let _;s>=0&&(_=s>0?n[s-1]:n[s+1]),S.default.navigateAfterDeleteConversation(e,a,i,_)}else{h.log(g.LogTraceArea.Navigation,`${o}._deleteChat canceled, causeId: ${a}`);const t=y.getConversationTypeForTelemetry(e);h.track(new s.ConversationDeletionCanceled(e,t,n)),f&&f()}}))}},740794:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StreamNavigationScenarioSteps=void 0;const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=o.__importStar(i(720415)),s=o.__importStar(i(516778)),l=o.__importDefault(i(974634)),c=o.__importDefault(i(455907)),d=i(138742),u=o.__importDefault(i(421852)),p=o.__importDefault(i(43625)),g=o.__importDefault(i(48076)),h=o.__importDefault(i(256589)),m=o.__importDefault(i(664821)),S=o.__importStar(i(761393)),_=o.__importDefault(i(311227)),f=i(385968),y=o.__importDefault(i(632145)),C=o.__importStar(i(971988)),v=o.__importStar(i(44717)),b=o.__importDefault(i(569269)),T=i(742403),P=o.__importDefault(i(404547)),k=o.__importDefault(i(556587)),A=o.__importDefault(i(306200)),I=o.__importDefault(i(710427)),w=o.__importDefault(i(615364)),x=o.__importDefault(i(661798)),N=o.__importDefault(i(468492)),D=i(929418),M=o.__importStar(i(113002)),L=o.__importDefault(i(122243)),R=o.__importDefault(i(685734)),E=o.__importDefault(i(760989)),B=i(290545),O=o.__importDefault(i(196687)),F=o.__importDefault(i(859545)),V=o.__importStar(i(363091)),U=o.__importStar(i(185201)),j=o.__importStar(i(427393)),H=i(352549),W=i(342561),z=o.__importStar(i(3025)),G=o.__importStar(i(309515)),K=o.__importDefault(i(535775)),q=o.__importStar(i(812822)),Q=o.__importStar(i(511592)),X=o.__importDefault(i(220534)),$=o.__importStar(i(75576)),J=o.__importStar(i(85385)),Y=o.__importStar(i(704704)),Z=o.__importStar(i(892135)),ee=o.__importStar(i(437782)),te=i(154235),ie=i(739403),oe=i(413686),ne=i(815146),re=i(928722),ae=i(331079),se=o.__importDefault(i(150343)),le=o.__importDefault(i(532821)),ce=o.__importStar(i(757838)),de=o.__importDefault(i(601976)),ue=o.__importDefault(i(457468)),pe=o.__importDefault(i(309055)),ge=o.__importDefault(i(252089)),he=o.__importDefault(i(942724)),me=o.__importDefault(i(450312)),Se=o.__importDefault(i(690051)),_e=o.__importDefault(i(960282)),fe=o.__importDefault(i(506082)),ye=i(491839),Ce=i(217596),ve=i(414838),be=i(351947),Te=i(842029),Pe=i(821607),ke=i(739901),Ae=i(230667),Ie=i(295939),we=o.__importDefault(i(247286)),xe=o.__importDefault(i(911120)),Ne=i(812822),De=i(197277),Me=i(108508),Le=i(500983);var Re;!function(e){e.InitialBuild="InitialBuild",e.InitialMessagesLoaded="InitialMessagesLoaded",e.StartVMVRendering="StartVMVRendering",e.InitialRenderComplete="InitialRenderComplete",e.WaitingForAnimationEnd="WaitingForAnimationEnd"}(Re||(t.StreamNavigationScenarioSteps=Re={}));t.default=new class{constructor(){this.launchModalEvent=new l.default,this.closeModalEvent=new l.default,this._forceRefreshOnNextNavigate=!1,this._scenarioLookupByConversationId={},this._animationScenarios={},this._defaultNavigateToConvParams={convId:void 0,scrollToTimestamp:void 0,focusedMessageCuid:void 0,forceRefreshFocus:!1,contextConversationId:void 0,causeId:"",shouldAutoFocusInput:!1,shouldResetNavStack:!0,shouldFlattenNavOnInteraction:!1,origin:ne.NavigationConversationOrigin.Unknown,isNewConversation:!1,inviteToken:void 0,popToRoot:!0,isFromPeopleRecommendations:!1,directShareEventData:void 0},this.navigateBack=(e,t)=>{if(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateBack, causeId: "+e),t){if(t.isPresentedInDesktopRightNav)return this._rightSidebarNavigateBack(e);if(t.isPresentedInGenericDesktopModal)return this._modalNavigateBack(e,t);if(t.isPresentedInDesktopContentPanel)return this._desktopContentNavigateBack(e,t);if(t.isPresentedByMobileStackNavigator)return this._stackNavNavigateBack(e)}return he.default.isUsingStackNavigationContext()?this._stackNavNavigateBack(e):this._modalNavigateBack(e,t)}}navigateAfterUIStarted(e){fe.default.performAfterUIStarted((()=>{me.default.isUsingStackReactNavigationNoSubscription()&&he.default.isUsingStackNavigationContextNoSubscription()?me.default.performAfterNavigationInitialized(e):e()}))}navigateAssertingUIStarted(e){fe.default.isUIDisplayed()?e():J.log(ne.LogTraceArea.Navigation,"navigation attempted prior to UI being displayed")}forceRefreshOnNextNavigation(){this._forceRefreshOnNextNavigate=!0}flattenNavStack(){he.default.isUsingStackNavigationContext()&&me.default.flattenNavStack()}reduceNavStack(e,t=!1){he.default.isUsingStackNavigationContext()&&me.default.reduceNavStack(e,void 0,t)}reduceModalNavStack(e,t,i=!1){const o=ce.modalNavigatorIdForRootViewId(t);me.default.reduceNavStack(e,o,i)}goBack(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.goBack, causeId: "+e),(null==t?void 0:t.goBack)?t.goBack(e):(J.warn(ne.LogTraceArea.Navigation,"NavigationActions.goBack called without componentContext.goBack, causeId: "+e),this.navigateBack(e,t))}stackNavigationStarted(e,t,i,o,n){if(J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigationStarted: "+(n||o?n+" -> "+o:"no progress info")),t instanceof q.MobileContentPanelNavigationContext){const e=t.getConversationContext();if(e){const t=e.state.conversationId,i=this._getScenarioIdForAnimation(t),o=new K.default(H.ScenarioName.ConversationOpenAnimation,i);o.start(),this._animationScenarios[t]=o}}const r={index:o,type:this._routeTypeForContext(t)},a={index:n,type:this._routeTypeForContext(i)};Q.default.onNavigationStarted(e,r,a)}stackNavigationCompleted(){var e;const t=E.default.newCauseId();if(J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigationCompleted causeId: "+t),he.default.isUsingStackNavigationContext()){const t=me.default.getCurrentNavigationStackRoute();if((null==t?void 0:t.name)===q.MobileContentPanelId){if(t.params){const i=this._animationScenarios[null===(e=t.params)||void 0===e?void 0:e.conversationId];i&&!i.isResolved()&&i.finish()}if(!me.default.isUsingStackReactNavigationNoSubscription()){const e=r.last(me.default.getCurrentNavigationStack());(null==e?void 0:e.state.shouldResetNavStack)&&this.flattenNavStack()}}this._stackNavigationCompleteCallback&&(J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigationCompleted, calling _navigationCompleteCallback"),this._stackNavigationCompleteCallback(),this._stackNavigationCompleteCallback=void 0)}me.default.isUsingStackReactNavigationNoSubscription()||(Q.default.onNavigationCompleted(),Q.default.setTransitionHint(void 0)),pe.default.stopSkippingMobileHub(t)}collapseSplitNavContext(e,t,i){J.log(ne.LogTraceArea.Navigation,"NavigationActions: collapseSplitNavContext collapsed: "+t+" navigator: "+n.pii.Omit(e)+" causeId: "+i),e===re.StackNavigatorId.DesktopContent&&this.clearRightSidebarContext(!0,i,te.MainRootViewId),me.default.collapseSplitNavContext(e,t,i)}navigateToCompositeGroup(e,t,i,o=!0){const n=me.default.getCompositeCallVisible(),a=i(o,e),s=r.includes(a,M.CompositeNavigationType.MainContent)&&me.default.getCompositeCallVisible();J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToCompositeGroup,  isCallVisible: "+n+" isNewCallVisible: "+s+" causeId: "+e),this.navigateToCompositeContext(e,a,n&&!s,t)}_navigateToModalContext(e,t,i,o){const r=ce.modalNavigatorIdForRootViewId(o);J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToModalContext navigatorId: "+n.pii.Omit(r)+" causeId: "+i);const a=me.default.getCurrentStackNavigationContext(r,!1);me.default.modalNavigateToView(e,a.getMasterContext(),r,t,!0,i)}navigateToModalContext(e,t,i,o){return this._navigateToModalContext(e,t?re.StackNavigationType.PopToRoot:re.StackNavigationType.Push,i,o)}navigateToDesktopSettings(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToDesktopSettings, causeId: "+t),this.navigateToRootDesktopSettingsGroup(ce.baseSettingsGroup(),e,t)}navigateToSettingsModalContext(e,t,i,o){J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToSettingsModalContext, causeId: "+i);const n=ce.modalNavigatorIdForRootViewId(o);let r=me.default.getCurrentStackNavigationContext(n,!1).getMasterContext();r&&r instanceof q.SettingsMenuContext||(r=new q.SettingsMenuContext({title:Y.getString("UserSettingsPanel.SettingsTitle")})),e instanceof q.SettingsMenuContext&&(e=r),me.default.stackNavigateToView(e,r,n,t?re.StackNavigationType.PopToRoot:re.StackNavigationType.Push,!0,i)}navigateToNonHighlightsConversationOrScheduleNavigationOnLaunch(e){const t=E.default.newCauseId();if(J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToNonHighlightsConversationOrScheduleNavigationOnLaunch convId = "+ee.mriOrId(e.convId)+" causeId: "+t),fe.default.isUIDisplayed())this.navigateToConversation(e);else{const i=i=>{J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToNonHighlightsConversationOrScheduleNavigationOnLaunch complete navigation. convId = "+ee.mriOrId(i)+" causeId: "+t);const o=this._getConversationNavigationContext(e,i);me.default.setNewStartingNavigationContext((()=>o))};this.scheduleConvNavigationOnLaunch(e,i)}}scheduleConvNavigationOnLaunch(e,t){!r.isUndefined(e.origin)&&e.convId&&this._startNavigateToConvScenario(e.convId,e.origin,e.browserOrigin);const i=e.causeId;J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToConversationOnLaunch, convId = "+ee.mriOrId(e.convId)+" causeId: "+i),pe.default.skipMobileHub(i),fe.default.performAfterUIStarted((()=>{ce.getValidConversationIdForNavigation(e.convId,i,e.origin).then((o=>{o?(this._sendConversationNavigationTelemetry(e,o),k.default.prioritizeConversation(o),this.fetchMemberConsumptionHorizon(o),t(o)):pe.default.stopSkippingMobileHub(i)}))}))}navigateToSelectConversationsForSharingOrScheduleNavigationOnLaunch(e){fe.default.isUIDisplayed()?this.navigateToShareWithPanel(e,void 0):(J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToSelectConversationsForSharingOrScheduleNavigationOnLaunch causeId: "+e.causeId),pe.default.skipMobileHub(e.causeId),fe.default.performAfterUIStarted((()=>{if(he.default.isUsingStackNavigationContext()){const t=new q.ShareWithPanelNavigationContext(e);me.default.setNewStartingNavigationContext((()=>t))}else this.navigateToShareWithPanel(e,void 0)})))}navigateToConversationFromSearch(e){const t=e.causeId||E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToConversationFromSearch, convId = "+ee.mriOrId(e.convId)+" causeId: "+t),this.navigateToConversation({convId:e.convId,scrollToTimestamp:e.scrollToTimestamp,focusedMessageCuid:e.focusedMessageCuid,causeId:t,shouldResetNavStack:!1,shouldFlattenNavOnInteraction:!0,origin:e.origin||ne.NavigationConversationOrigin.Search,isNewConversation:e.isNewConversation,forceRefreshFocus:e.forceRefreshFocus})}navigateToConversationFromDiscoverPeople(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToConversationFromDiscoverPeople convId = "+ee.mriOrId(e.convId)+" causeId: "+t),this.navigateToConversation({convId:e.convId,scrollToTimestamp:e.scrollToTimestamp,focusedMessageCuid:e.focusedMessageCuid,causeId:t,shouldResetNavStack:!1,shouldFlattenNavOnInteraction:!0,isFromPeopleRecommendations:!0,origin:e.origin||ne.NavigationConversationOrigin.PeopleRecommendationsDiscoverPanel,isNewConversation:e.isNewConversation,forceRefreshFocus:e.forceRefreshFocus})}markScenarioStepCompleted(e,t,i){const o=this._getScenarioByConversationId(e);!o||o.isResolved()||o.isStepMarked(t)||o.markStepCompleted(t,i)}finishScenario(e){const t=this._getScenarioByConversationId(e);t&&!t.isResolved()&&t.finish()}navigateToPotentiallyRestrictedConversation(e){V.default.isGuestUser()?(ce.setEligibleLeftNavViewModes(O.default.eligibleLeftNavViewModes(),this.getLeftNavigationContext()),this.navigateToConversation(e),this.reduceNavStack([q.JoiningGuestNavigatorId,q.MobileHubNavigationId,q.PromptPermissionsNavigatorId])):this.navigateToConversation(e)}navigateToConversation(e){this.navigateAfterUIStarted((()=>{e=r.extend(r.clone(this._defaultNavigateToConvParams),e);const t=he.default.isUsingStackNavigationContext(),i=e.causeId;J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToConversation, convId = "+ee.mriOrId(e.convId)+" causeId: "+i),ce.getValidConversationIdForNavigation(e.convId,i,e.origin).then((o=>{if(J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToConversation, validConversationId = "+ee.mriOrId(o)+" causeId: "+i),o&&!r.isUndefined(e.origin)&&this._startNavigateToConvScenario(o,e.origin,e.browserOrigin),!o)return void(t||this.navigateToCompositeGroup(i,te.MainRootViewId,((e,t)=>{const o=[];o.push(this.clearMainStageContext(e,t));const n=this.getLeftNavigationContext();return n&&o.push(ce.setLeftNavViewMode(n,ce.defaultLeftNavViewMode(q.MainStageNavViewMode.None,void 0),i)),o.push(this.clearRightSidebarContext(e,t,te.MainRootViewId)),o.push(this.setMainAreaFullScreen(!1)),o})));const n=(0,w.default)().getConversationNoSubscription(o),a=n&&(0,T.isContentChannel)(n),s=(0,T.isTodayBot)(o);this._sendConversationNavigationTelemetry(e,o,a,s),k.default.prioritizeConversation(o),this.fetchMemberConsumptionHorizon(o);const l=this._getConversationNavigationContext(e,o);if(N.default.deactivateSelectMessagesMode(),n&&n.isArchived()&&I.default.setConversationsListMode(ye.ConversationsListMode.ArchivedConversations),I.default.setLastVisitedConversationId(o),x.default.maybeIncrementConversationInteractionCount(o),t)me.default.navigateToView(this._getMobileContentPanelContext(e,l),i),F.default.meetnow().canNavigateBackFromJoinInvite||this.reduceNavStack([d.MeetNowLobbyNavigationId]);else{if(I.default.getConversationsListMode()===ye.ConversationsListMode.ArchivedConversations){const t=n&&n.isArchived();(!t||t&&e.origin!==ne.NavigationConversationOrigin.TabSwitcher&&e.origin!==ne.NavigationConversationOrigin.Search&&e.origin!==ne.NavigationConversationOrigin.ArchivedConversations)&&I.default.setConversationsListMode(ye.ConversationsListMode.AllConversations)}this.navigateToCompositeGroup(i,te.MainRootViewId,((t,i)=>{const a=[],s=o?q.MainStageNavViewMode.DesktopContentPanel:q.MainStageNavViewMode.None;let c;if(o?a.push(this.navigateToMainStageContext(l,!!e.popToRoot,t,i)):a.push(this.clearMainStageContext(t,i)),_e.default.isMobileScreenSize(ce.rootViewIdForComponentContext(void 0)))le.default.collapseDesktopStackNavContextNoSubscription()&&me.default.isSplitNavStackCollapsed(re.StackNavigatorId.DesktopContent)&&me.default.isLeftPanelShowing()&&!me.default.isCallChatShowing()||(c=ce.defaultLeftNavViewMode(s,l));else switch(e.origin){case ne.NavigationConversationOrigin.Search:case ne.NavigationConversationOrigin.AlertsPanel:break;default:c=ce.defaultLeftNavViewMode(s,l)}const d=this.getLeftNavigationContext();return d&&(r.isUndefined(c)||a.push(ce.setLeftNavViewMode(d,c,i))),n&&this._shouldKeepRightSidebar(n,e.inviteToken)||a.push(this.clearRightSidebarContext(t,i,te.MainRootViewId)),a.push(this.clearModalContext(t,i,te.MainRootViewId)),a.push(this.setMainAreaFullScreen(!1)),a}))}!function(){const{enableContentChannels:e}=se.default.getS4LUiFeaturesNoSubscription(),t=we.default.isChildOrMinorNoSubscription();if(e&&!t){const e=(0,Ie.getRecentsFilterStore)();"channels"===e.getFilterModeNoSubscription()&&e.setFilterMode("all")}}(),e.inviteLinkScenario&&!e.inviteLinkScenario.isResolved()&&(e.inviteLinkScenario.markStepCompleted("NavigateToConversation"),e.inviteLinkScenario.finish())}))}))}_shouldKeepRightSidebar(e,t){return(0,Me.getImageGenerationPanelStore)().isPanelOpen()&&!(0,Le.shouldHideComposer)(e,t)}navigateToMessageFromSearchMessagePanel(e,t,i){const o=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToMessageFromSearchMessagePanel convId = "+ee.mriOrId(t)+" causeId: "+o);const n=me.default.getActiveConversationState();if(n){n.scrollToTimestamp=e;const t=new q.ConversationNavigationContext(n);t.state.scrollToTimestamp=e,this.navigateToMainStageContext(t,!0,!1,o)}}navigateToMessage(e,t,i){this.navigateAfterUIStarted((()=>{const o=t;o.convId=e.conversationId,o.scrollToTimestamp=e.createdTime,o.focusedMessageCuid=e.cuid,r.isUndefined(o.forceRefreshFocus)&&me.default.getActiveConversationId(i)===e.conversationId&&(o.forceRefreshFocus=!0),this.navigateToConversation(o)}))}navigateCallComplete(e,t,i,o,n,a){J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateCallComplete causeId: "+n),he.default.isUsingStackNavigationContext()?(r.some(me.default.getCurrentNavigationStack(),(e=>e instanceof q.CallNavigationContext))||J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateCallComplete, NO call found, causeId: "+n),i&&this.setStackNavigationCompleteCallback((()=>{b.default.focusMessageComposer()})),t?this.goBack(n,o):this.navigateToConversation({convId:e,shouldAutoFocusInput:i,causeId:n,origin:ne.NavigationConversationOrigin.CallComplete,callId:a})):this.navigateToConversation({convId:e,causeId:n,origin:ne.NavigationConversationOrigin.CallComplete,callId:a})}setStackNavigationCompleteCallback(e){this._stackNavigationCompleteCallback=e}navigateAfterDeleteConversation(e,t,i,o=void 0){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateAfterDeleteConversation, causeId: "+t);const n=he.default.isUsingStackNavigationContext(),r=(0,w.default)().isClearApplicableAndKeepInRecents(e),a={convId:o,causeId:t,shouldReplaceCurrentContext:!0,origin:ne.NavigationConversationOrigin.TabSwitcher};if(!n||!r)if(r||!n){if(this.closeDetailsPanel(t,i),!r){if(me.default.getCurrentStackNavigationContext(ce.mainContentNavigatorId,!1)instanceof q.RootCompositeSplitViewContext){me.default.getActiveConversationId(i.rootViewId)===e&&(o?this.navigateToConversation(a):(I.default.setConversationsListMode(ye.ConversationsListMode.AllConversations),this.navigateToWelcomeScreen(t)))}}}else o?this.navigateToConversation(a):this.navigateToRecentsTab()}openMainWindow(e,t,i){J.log(ne.LogTraceArea.Navigation,"NavigationActions.openMainWindow causeId: "+i),e&&this.navigateToDesktopRecents(i),a.default.openMainView(t)}toggleRecentsInCall(e,t,i){J.log(ne.LogTraceArea.Navigation,"NavigationActions.toggleRecentsInCall show: "+e+" causeId: "+t);const o={willToggle:!1,completeAction:r.noop};if(he.default.isUsingStackNavigationContext())return o;const n=i.rootViewId;return me.default.isDesktopSplitNavStackCollapsed()?(this.mainStageContextPopToRoot(!1,t),{willToggle:!1,completeAction:()=>this.mainStageContextPopToRoot(!1,t)}):{willToggle:!0,completeAction:()=>{this.navigateToCompositeGroup(t,n,((t,i)=>{const o=[],n=this.getLeftNavigationContext();return n&&(e?o.push(ce.setLeftNavViewMode(n,q.LeftNavViewMode.Recents,i)):o.push(ce.setLeftNavViewMode(n,q.LeftNavViewMode.None,i))),o}))}}}openConversationInCall(e,t,i,o,n){J.log(ne.LogTraceArea.Navigation,"NavigationActions.openConversationInCall, causeId: "+e),this._openConversationInCallNext(e,t,i,o,n)}closeConversationInCall(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.closeConversationInCall, causeId: "+e),this._closeConversationInCallNext(e,t)}navigateToBotsList(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToBotsList, causeId: "+e.causeId),this.navigateAssertingUIStarted((()=>{const i=new q.BotsListNavigationContext({filterBotsFunction:e.filterBotsFunction,sortBotsByProperty:e.sortBotsByProperty,botMarketplaceTitle:e.botMarketplaceTitle,navigationDirection:re.StackNavigationDirection.Present});he.default.isUsingStackNavigationContext()?me.default.navigateToView(i,e.causeId):this.navigateToModalContext(i,!1,e.causeId,ce.rootViewIdForComponentContext(t))}))}navigateToBotDiscovery(e=re.StackNavigationDirection.Present,t){this._commonNavigateToModal(q.BotDiscoveryNavigationContext,t,"navigateToBotDiscovery",{},((t,i)=>{i&&(t.state.navigationDirection=e)}))}navigateToMobileArchivedConversationsPanel(){const e=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToMobileArchivedConversationsPanel, causeId: "+e),this.navigateAssertingUIStarted((()=>{if(he.default.isUsingStackNavigationContext()){const t=new q.ArchivedConversationsPanelNavigationContext({navigationDirection:re.StackNavigationDirection.Present});me.default.navigateToView(t,e)}else;}))}navigateToDesktopRecents(e,t,i){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToRecents, causeId: "+e),this.navigateAfterUIStarted((()=>{he.default.isUsingStackNavigationContext()||(I.default.getConversationsListMode()!==ye.ConversationsListMode.AllConversations&&I.default.setConversationsListMode(ye.ConversationsListMode.AllConversations),t?this.navigateToConversation({convId:t,origin:i||ne.NavigationConversationOrigin.Recents,causeId:e}):this.navigateToCompositeGroup(e,te.MainRootViewId,((e,t)=>{const i=[];i.push(this.clearModalContext(e,t,te.MainRootViewId));const o=this.getLeftNavigationContext();if(o){i.push(ce.setLeftNavViewMode(o,q.LeftNavViewMode.Recents,t));o.getConversationsListContext().state.currentTab=q.HubTab.Recents}return i})))}))}navigateToSearchFromPanel(e,t,i,o){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSearchFromPanel, causeId: "+e),he.default.isUsingStackNavigationContext()||i?this.navigateToSearch({searchOrigin:o},e):this.navigateToSearchInModal({searchOrigin:o},e,t)}navigateToSearchConversation(e,t){this.navigateAssertingUIStarted((()=>{const i=new q.InAppBrowserWithSearchConversationNavContext({searchConversationConfig:e});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.InAppBrowserWithSearchConversationNavId))return;me.default.navigateToView(i,t)}}))}navigateToSearch(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSearch, causeId: "+t),this.navigateAssertingUIStarted((()=>{const i=new q.SearchNavigationContext(e);if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.SearchNavigationId))return;G.searchWillOpen(),me.default.navigateToView(i,t)}else this.navigateToCompositeGroup(t,te.MainRootViewId,((e,t)=>{const o=this.getLeftNavigationContext();if(o){const e=o.getSearchContext();o.state.viewModeHistory.peek()!==q.LeftNavViewMode.Search&&(o.state.searchViewModeContext=ce.searchViewModeContext(o),ce.setLeftNavViewMode(o,q.LeftNavViewMode.Search,t)),e.state=i.state}return G.searchWillOpen(),[M.CompositeNavigationType.LeftSidebar]}))}))}navigateToQuickCallPanelInLeftNav(e){const t=e.causeId;J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToQuickCallPanelInLeftNav, causeId: "+t),this.navigateAssertingUIStarted((()=>{he.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(t,te.MainRootViewId,((t,i)=>{const o=this.getLeftNavigationContext();if(o){const t=o.getCallsContext();ce.setLeftNavViewMode(o,q.LeftNavViewMode.Calls,i),t.state=e;o.getConversationsListContext().state.currentTab=q.HubTab.Calls}return[M.CompositeNavigationType.LeftSidebar]}))}))}navigateToContactsPanelInLeftNav(e){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToContactsPanelInLeftNav, causeId: "+e),this.navigateAssertingUIStarted((()=>{he.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(e,te.MainRootViewId,((e,t)=>{const i=this.getLeftNavigationContext();if(i){ce.setLeftNavViewMode(i,q.LeftNavViewMode.Contacts,t);i.getConversationsListContext().state.currentTab=q.HubTab.People}return[M.CompositeNavigationType.LeftSidebar]}))}))}navigateToNotificationsPanelInLeftNav(e){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToNotificationsPanelInLeftNav, causeId: "+e),this.navigateAssertingUIStarted((()=>{he.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(e,te.MainRootViewId,((e,t)=>{const i=[],o=this.getLeftNavigationContext();if(o){i.push(ce.setLeftNavViewMode(o,q.LeftNavViewMode.Notifications,t));o.getConversationsListContext().state.currentTab=q.HubTab.Notifications}return i.push(this.clearRightSidebarContext(e,t,te.MainRootViewId)),i.push(this.setMainAreaFullScreen(!1)),i}))}))}navigateToNotificationsInLeftNav(){const e=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToNotificationsInLeftNav, causeId: "+e),this.navigateAssertingUIStarted((()=>{he.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(e,te.MainRootViewId,((e,t)=>{const i=this.getLeftNavigationContext();if(i){ce.setLeftNavViewMode(i,q.LeftNavViewMode.Notifications,t);i.getConversationsListContext().state.currentTab=q.HubTab.Notifications}return[M.CompositeNavigationType.LeftSidebar]}))}))}navigateToTodayTab(e={openInterestsManagerOnLoad:!1}){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToTodayTab, causeId: "+t),he.default.isUsingStackNavigationContext()?this._navigateToHubTab(q.HubTab.Today,e):this.navigateAssertingUIStarted((()=>{this.navigateToCompositeGroup(t,te.MainRootViewId,((e,i)=>{const o=[this.setMainAreaFullScreen(!1),this.clearRightSidebarContext(e,t,te.MainRootViewId),this.clearModalContext(e,t,te.MainRootViewId)],n=this.getLeftNavigationContext();if(n){ce.setLeftNavViewMode(n,q.LeftNavViewMode.Today,i);n.getConversationsListContext().state.currentTab=q.HubTab.Today,o.push(M.CompositeNavigationType.LeftSidebar)}const a=me.default.getCurrentStackNavigationContext(re.StackNavigatorId.DesktopContent,!1).getNavStack(),s=null==a?void 0:a[0];if(!(s&&s instanceof q.TodayTabNavigationContext)){const t=new q.TodayTabNavigationContext({interestPageEnabled:!1});o.push(this.navigateToMainStageContext(t,!0,e,i))}return r.compact(o)}))}))}navigateToTodayTabDesktopFeed(e,t=!1,i=!0){const o=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToTodayTabDesktopFeed, causeId: "+o),this.navigateAssertingUIStarted((()=>{he.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(o,te.MainRootViewId,((n,a)=>{const s=[this.setMainAreaFullScreen(!1),this.clearModalContext(n,o,te.MainRootViewId)];i&&s.push(this.clearRightSidebarContext(n,o,te.MainRootViewId));const l=new q.TodayTabNavigationContext({interestPageEnabled:e,isTablet:t});return s.push(this.navigateToMainStageContext(l,!0,n,a)),r.compact(s)}))}))}navigateToTodayTabInterestsPanel(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,`NavigationActions.navigateToTodayTabInterestsPanel, causeId: ${t}`),this._commonNavigateToModal(q.TodayTabInterestsPanelNavigationContext,e,"navigateToTodayTabInterestsPanel",{})}navigateToSearchInModal(e,t,i){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSearchInModal, causeId: "+t),this.navigateAssertingUIStarted((()=>{if(he.default.isUsingStackNavigationContext());else{G.searchWillOpen();const o=new q.SearchNavigationContext(e);this.navigateToModalContext(o,!1,t,ce.rootViewIdForComponentContext(i))}}))}navigateToPesSearch(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToPesSearch, causeId: "+e.causeId),this.navigateAssertingUIStarted((()=>{const i=new q.PesSearchNavigationContext({searchType:e.searchType,conversationId:e.conversationId,onMessageSent:e.onMessageSent,onCloseSearch:e.onCloseSearch,clearEditInChatsComposer:e.clearEditInChatsComposer});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.PesSearchNavigationId))return;i.state.navigationDirection=re.StackNavigationDirection.Present,me.default.navigateToView(i,e.causeId)}else this.navigateToModalContext(i,!1,e.causeId,ce.rootViewIdForComponentContext(t))}))}closeSearchPanel(e,t,i){if(J.log(ne.LogTraceArea.Navigation,"NavigationActions.closeSearchPanel, causeId: "+e),he.default.isUsingStackNavigationContext())me.default.isOnTopOfNavigationStack(q.SearchNavigationId)&&this.goBack(e,t);else{const t=this.getLeftNavigationContext();if(t&&t.state.viewModeHistory.peek()!==q.LeftNavViewMode.Search)return;this.navigateToCompositeGroup(e,te.MainRootViewId,((e,t)=>{const o=this.getLeftNavigationContext();return o&&(ce.setLeftNavViewMode(o,o.state.searchViewModeContext||q.LeftNavViewMode.Recents,t),o.state.searchViewModeContext=q.LeftNavViewMode.None,o.state.isMessageSent=i),[M.CompositeNavigationType.LeftSidebar]}))}}closeCallSearchPanel(e,t){if(J.log(ne.LogTraceArea.Navigation,"NavigationActions.closeCallSearchPanel, causeId: "+e),he.default.isUsingStackNavigationContext())me.default.isOnTopOfNavigationStack(q.QuickCallPanelId)&&this.navigateBack(e,t);else{const t=this.getLeftNavigationContext();if(t&&t.state.viewModeHistory.peek()!==q.LeftNavViewMode.CallSearch)return;this.navigateToCompositeGroup(e,te.MainRootViewId,((e,t)=>{const i=this.getLeftNavigationContext();return i&&ce.setLeftNavViewMode(i,q.LeftNavViewMode.Recents,t),[M.CompositeNavigationType.LeftSidebar]}))}}navigateToAlertsHub(){const e=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToAlertsHub, causeId: "+e),this.navigateAssertingUIStarted((()=>{if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.AlertsHubNavigationId))return;const t=new q.AlertsHubNavigationContext({navigationDirection:re.StackNavigationDirection.Present});me.default.navigateToView(t,e)}else this._commonNavigateToModal(q.AlertsHubNavigationContext,te.MainRootViewId,"navigateToAlertsHub",{},void 0,e)}))}navigateToMeControl(e,t,i=re.StackNavigationDirection.Push,o,n){this._fetchLatestUserInfoNow(),y.default.maybeSetTooltipVisibility(!1),this._commonNavigateToModal(q.MeControlNavigationContext,e,"navigateToMeControl",{isMoodMessageEditMode:o,shouldOpenPresenceMenu:n},((e,t)=>{t&&(e.state.navigationDirection=i)}),t)}navigateToMyProfile(e,t,i=re.StackNavigationDirection.Push,o=!1){t!==ne.ProfileOpenOrigin.MeControl&&this._fetchLatestUserInfoNow(),o&&R.default.refreshNow();this._commonNavigateToModal(q.MySettingsNavigationContext,e,"navigateToMyProfile",{},((e,o)=>{J.track(new z.ProfileOpened(ne.ProfileType.My,t)),o&&(e.state.navigationDirection=i)}))}navigateToQRCodeSignInModal(e,t=re.StackNavigationDirection.Push){this._commonNavigateToModal(q.QRCodeSignInNavigationContext,e,"navigateToQRCodeSignInModal",{},((e,i)=>{i&&(e.state.navigationDirection=t)}))}navigateToSettingsGroup(e,t,i,o){const n=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSettingsGroup, causeId: "+n),this.navigateAssertingUIStarted((()=>{if(he.default.isUsingStackNavigationContext()){const t=me.default.getCurrentNavigationStackRoute();if((null==t?void 0:t.name)===q.SettingsGroupNavigationId&&(null==t?void 0:t.params).group===e)return;const r=new q.SettingsGroupNavigationContext({group:e,origin:o});i&&(r.state.navigationDirection=i),me.default.navigateToView(r,n)}else this.navigateToRootDesktopSettingsGroup(e,t,n)}))}navigateToInviteLinkQRPanel(e,t,i,o){const{enableModernQrCode:n}=se.default.getS4LMeetNowFeaturesNoSubscription();this._commonNavigateToModal(q.InviteLinkQRPanelNavigationContext,i,"navigateToInviteLinkQRPanel",{inviteLink:e,displayName:t,skypeMri:o,enableModernQrCode:n},((e,t)=>{t&&(e.state.navigationDirection=re.StackNavigationDirection.Present)}))}navigateToAvatarPickerPanel(e){this._commonNavigateToModal(q.AvatarPickerPanelNavigationContext,e,"navigateToAvatarPickerPanel",{},((e,t)=>{t&&(e.state.navigationDirection=re.StackNavigationDirection.Push)}))}navigateToPicker(e,t,i,o){const n=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions."+o+", causeId: "+n),this.navigateAssertingUIStarted((()=>{he.default.isUsingStackNavigationContext()?me.default.navigateToView(i,n):this.navigateToModalContext(i,e,n,t)}))}navigateToLanguagePicker(e,t){this.navigateToPicker(e,t,new q.LanguagePickerPanelNavigationContext({}),"navigateToLanguagePicker")}navigateToLanguagePickerOld(e,t){this.navigateToPicker(e,t,new q.LanguagePickerPanelOldNavigationContext({}),"navigateToLanguagePickerOld")}navigateToSpokenLanguagePicker(e,t,i,o,n){this.navigateToPicker(e,t,new q.SpokenLanguagePickerPanelNavigationContext({isLocal:i,conversationMri:o,action:n}),"navigateToSpokenLanguagePicker")}navigateToVoicePicker(e,t){this.navigateToPicker(e,t,new q.VoicePickerPanelNavigationContext({}),"navigateToVoicePicker")}navigateToNewSettingsPanel(e,t){this._commonNavigateToModal(q.NewSettingsPanelNavigationContext,t,"NewSettingsPanelNavigationContext",{},((t,i)=>{i&&(t.state.navigationDirection=e)}))}navigateToRootDesktopSettingsGroup(e,t,i){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToRootDesktopSettingsGroup, causeId: "+i),this.navigateAssertingUIStarted((()=>{if(!he.default.isUsingStackNavigationContext()){const o=new q.DesktopSettingsGroupNavigationContext({group:e,causeId:i});this.navigateToSettingsModalContext(o,!0,i,t)}}))}navigateToDesktopSettingsGroup(e,t,i,o){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToDesktopSettingsGroup, causeId: "+i),this.navigateAssertingUIStarted((()=>{if(!he.default.isUsingStackNavigationContext()){const n=new q.DesktopSettingsGroupNavigationContext({group:e,source:o});this.navigateToModalContext(n,!1,i,t)}}))}navigateToManageUsersSettingsPanel(e){this._commonNavigateToModal(q.ManageUsersSettingsPanelNavigationContext,e,"navigateToManageUsersSettingsPanel",{})}navigateToPnvEnterNumber(e,t){this._commonNavigateToModal(q.PnvEnterNumberContext,t,"navigateToPnvEnterNumber",{phoneNumber:e})}navigateToPnvEnterCode(e){this._commonNavigateToModal(q.PnvEnterCodeContext,e,"navigateToPnvEnterCode",{})}navigateToPnvDebugTool(){const e=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToPnvEnterCode, causeId: "+e),this.navigateAssertingUIStarted((()=>{if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.PnvDebugToolNavigationId))return;const t=new q.PnvDebugToolContext({});me.default.navigateToView(t,e)}}))}navigateToWamAutosigninWelcomePageWithParams(e,t){this.navigateAfterUIStarted((()=>{if(!he.default.isUsingStackNavigationContext()){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToWelcomePageWithParams, causeId: "+i);const o=new q.WelcomePageContext({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,isFirstLogin:e.isFirstLogin,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,scenarioNavigator:null==e?void 0:e.scenarioNavigator});this.navigateToModalContext(o,!1,i,t)}}))}navigateToPhoneAuthProfileSetupPage(e,t){this.navigateAfterUIStarted((()=>{const i=E.default.newCauseId(),o=new q.PhoneAuthProfileSetupNavigationContext({origin:e.origin,isFirstTimeSignIn:e.isFirstLogin,scenarioNavigator:null==e?void 0:e.scenarioNavigator});he.default.isUsingStackNavigationContext()?me.default.navigateToView(o,i):(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToPhoneAuthProfileSetupPage, causeId: "+i),this.navigateToModalContext(o,!1,i,t))}))}navigateToAvatarPickerWithParams(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToAvatarPickerWithParams, causeId: "+i);const o=new q.ChooseAvatarContext({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,isFirstLogin:e.isFirstLogin,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,showCaptureViewFirst:e.showCaptureViewFirst,scenarioNavigator:null==e?void 0:e.scenarioNavigator,enableNewOnboardingDialog:e.enableNewOnboardingDialog});this.navigateAfterUIStarted((()=>{if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.AvatarNavigationId))return;me.default.navigateToView(o,i)}else this.navigateToModalContext(o,!1,i,t)}))}navigateToMediaViewerPanel(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToMediaViewerPanel, causeId: "+t),this.navigateAssertingUIStarted((()=>{if(he.default.isUsingStackNavigationContext()){const i=new q.MediaViewerPanelContext({initialMedia:e.initialMedia,controller:e.controller,totalMedia:e.totalMedia,onClose:e.onClose,onLeftBoundSwipe:e.onLeftBoundSwipe,onRightBoundSwipe:e.onRightBoundSwipe,closeOnLastItemSwipe:e.closeOnLastItemSwipe,mouseControlsSize:e.mouseControlsSize,message:e.message,cacheMode:e.cacheMode,navigationDirection:re.StackNavigationDirection.Present});me.default.navigateToView(i,t)}}))}navigateToConversationMediaViewer(e,t,i,o){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToConversationMediaViewer, causeId: "+t),this.navigateAssertingUIStarted((()=>{var i;if(he.default.isUsingStackNavigationContext()){const n=me.default.getCurrentNavigationStackRoute();if((null==n?void 0:n.name)===q.ConversationMediaViewerPanelNavigationId&&(null===(i=n.params)||void 0===i?void 0:i.conversationMri)===e.conversationMri)return void(o&&o());this.setStackNavigationCompleteCallback(o);const r=new q.ConversationMediaViewerPanelContext(e);me.default.navigateToView(r,t)}}))}closeConversationMediaViewer(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.closeConversationMediaViewer, causeId: "+e),he.default.isUsingStackNavigationContext()&&me.default.isOnTopOfNavigationStack(q.ConversationMediaViewerPanelNavigationId)&&this.navigateBack(e,t)}navigateToAbout(){const e=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToAbout, causeId: "+e),this.navigateAssertingUIStarted((()=>{if(he.default.isUsingStackNavigationContext()){const t=new q.AboutNavigationContext({});me.default.navigateToView(t,e)}}))}navigateToThirdPartyNotices(e){this._commonNavigateToModal(q.ThirdPartyNoticesNavigationContext,e,"navigateToThirdPartyNotices",{})}navigateToBalanceStatePanel(e,t,i,o,n){if(this._shouldNavigateToMsaLinkingFlow("BalanceStatePanel",t,n))return;J.track(new ve.PaymentStep(ne.PaymentFlowStep.ShowPanel,{target:ke.Location[ke.Location.BalancePanel],location:e}));this._commonNavigateToModal(q.GetBalanceStateNavigationContext,t,"navigateToBalanceStatePanel",{showHeader:!0,source:e,scrollTo:o},((e,t)=>{t&&i&&this.setStackNavigationCompleteCallback(i)}),n)}navigateToPurchaseConfirmationDialogWeb(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToPurchaseConfirmationDialog, causeId: ",i),this.navigateAssertingUIStarted((()=>{const o=new q.PurchaseConfirmationDialogWrapperNavigationContext({isNative:!1,webProps:t});he.default.isUsingStackNavigationContext()?me.default.navigateToView(o,i):this.navigateToModalContext(o,!1,i,e)}))}navigateToPurchaseConfirmationDialogNative(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToPurchaseConfirmationDialog, causeId: ",i),this.navigateAssertingUIStarted((()=>{const o=new q.PurchaseConfirmationDialogWrapperNavigationContext({isNative:!0,nativeProps:t});he.default.isUsingStackNavigationContext()?me.default.navigateToView(o,i):this.navigateToModalContext(o,!1,i,e)}))}navigateToPurchaseContinuationPanel(e,t,i){this._commonNavigateToModal(q.PurchaseContinuationNavigationContext,i,"navigateToPurchaseContinuationPanel",{offerType:e,campaignRef:t})}navigateToSubscriptionsIntro(e){this._commonNavigateToModal(q.SubscriptionIntroNavigationContext,e,"navigateToSubscriptionsIntro",{})}navigateToTelemetryPerformanceMonitor(e){this._commonNavigateToModal(q.TelemetryPerformanceMonitorNavigationContext,e,"navigateToTelemetryPerformanceMonitor",{showHeader:!0})}navigateToPayments3ds(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToPayments3ds, causeId: "+i),this.navigateAssertingUIStarted((()=>{const o=new q.Payments3dsNavigationContext({order:e,callback:t});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.Payments3dsNavigationId))return;me.default.navigateToView(o,i)}else this.navigateToModalContext(o,!1,i,te.MainRootViewId)}))}navigateToGetProductWebFlow(e,t,i,o,n){const r=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToGetProductWebFlow, causeId: "+r),this.navigateAssertingUIStarted((()=>{if(he.default.isUsingStackNavigationContext(),e){J.track(new ve.PaymentStep(ne.PaymentFlowStep.WebflowRedirect,{target:e.product.goLink,location:t}));const i=Ae.paymentStepTracker.getTraceId();f.SsoWebFlowExternalBrowser.open(p.default.getGoLinkWithItem(e),t,o,{startOrderSessionId:i,sessionId:i},n)}}))}navigateToSsoWebFlow(e,t,i,o,n=[],r=!1,a={},s=!1){const l=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSsoWebFlow, causeId: "+l),this.navigateAssertingUIStarted((()=>{he.default.isUsingStackNavigationContext(),f.SsoWebFlowExternalBrowser.open(e,t,o,a)}))}navigateToNewPhoneVerificationFlow(e=!1,t,i,o){const n=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToNewPhoneVerificationFlow, causeId: "+n),this.navigateAssertingUIStarted((()=>{const r=new q.NewPhoneVerificationFlowNavigationContext({rootViewId:t,arkoseAPIUrl:i,prefilledPhoneNumber:o});he.default.isUsingStackNavigationContext()?me.default.navigateToView(r,n):this.navigateToModalContext(r,e,n,t)}))}navigateToLinkMsaToPhoneNumberAccountFlow(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToLinkMsaToPhoneNumberAccountFlow, causeId: "+i),this.navigateAssertingUIStarted((()=>{const o=new q.LinkMsaToPhoneNumberAccountNavigationContext({navigationSource:e,isFullScreenModal:!0,rootViewId:t});he.default.isUsingStackNavigationContext()?me.default.navigateToView(o,i):this.navigateToModalContext(o,!1,i,null!=t?t:te.MainRootViewId)}))}navigateToCallingSettingsPanel(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallingSettingsPanel, causeId: "+i),this.navigateAssertingUIStarted((()=>{const o=new q.CallingSettingsPanelNavigationContext({});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.CallingSettingsPanelNavigationId))return;me.default.navigateToView(o,i)}else this.navigateToModalContext(o,e,i,ce.rootViewIdForComponentContext(t))}))}navigateToCallingSettingsEntry(e,t,i,o,n,r,a,s){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallingSettingsEntry, causeId: "+a),s?this.navigateAssertingUIStarted((()=>{f.SsoWebFlowExternalBrowser.open(i,t,ce.rootViewIdForComponentContext(r))})):this._navigateToCallingSettingsEntryDesktop(e,t,o,i,n,r,a)}navigateToTelephonyWarning(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,`NavigationActions.navigateToTelephonyWarning, causeId: ${i}`),he.default.isUsingStackNavigationContext()?xe.default.openBottomSheet():this.navigateAssertingUIStarted((()=>{const o=new Ne.TelephonyWarningNavigationContext(Object.assign({customizedHeight:S.CompactHeight,customizedWidth:S.CompactWidth},t));this.navigateToModalContext(o,!1,i,e)}))}navigateToCallerIdSettingsPanel(e,t,i=re.StackNavigationType.Push){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallerIdSettingsPanel, causeId: "+t),this.navigateAfterUIStarted((()=>{const o=new q.CallerIdCallingSettingsPanelNavigationContext({});he.default.isUsingStackNavigationContext()?me.default.navigateToView(o,t):this._navigateToModalContext(o,i,t,e)}))}navigateToCallerIdNumberPanel(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallerIdNumberPanel, causeId: "+t),this.navigateAssertingUIStarted((()=>{const i=new q.CallerIdNumberCallingSettingsPanelNavigationContext({});he.default.isUsingStackNavigationContext()?me.default.navigateToView(i,t):this.navigateToModalContext(i,!1,t,e)}))}navigateToKycPhoneVerifyFormPanel(e,t,i,o){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToKycPhoneVerifyFormPanel, causeId: "+o),this.navigateAssertingUIStarted((()=>{const n=new q.KycPhoneVerifyFormPanelNavigationContext({skypeinId:t,skypeinCountryCode:i});he.default.isUsingStackNavigationContext()?me.default.navigateToView(n,o):this.navigateToModalContext(n,!1,o,e)}))}navigateToKycFinishVerificationPanel(e,t,i){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToKycFinishVerificationPanel, causeId: "+i),this.navigateAssertingUIStarted((()=>{const o=new q.KycFinishVerificationPanelNavigationContext({link:t});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.KycFinishVerificationPanelNavigationId))return;this.setStackNavigationCompleteCallback((()=>{this.reduceNavStack([q.SsoWebFlowNavigationId],!1)})),me.default.navigateToView(o,i)}else this.navigateToModalContext(o,!1,i,e)}))}navigateToSkypeNumberPurchaseFlow(e,t,i,o){var n;const r=E.default.newCauseId();this._shouldNavigateToMsaLinkingFlow("SkypeNumberPurchaseFlow",null!==(n=null==i?void 0:i.rootViewId)&&void 0!==n?n:te.MainRootViewId,r)||(J.log(ne.LogTraceArea.Navigation,`NavigationActions.navigateToSkypeNumberWebFlow, causeId: ${r}.`),this.navigateAssertingUIStarted((()=>{if(J.track(new ve.PaymentStep(ne.PaymentFlowStep.WebflowRedirect,{target:`${e.goTarget}${t?"":"-iab"}`,location:e.source})),t){const t=Ae.paymentStepTracker.getTraceId();f.SsoWebFlowExternalBrowser.open(e.goTarget,e.source,ce.rootViewIdForComponentContext(i),{startOrderSessionId:t,sessionId:t})}else{const t=new q.SkypeNumberWebFlowNavigationContext(e);he.default.isUsingStackNavigationContext()?me.default.navigateToView(t,r):this.navigateToModalContext(t,!1,r,ce.rootViewIdForComponentContext(i))}})))}navigateToSkypeNumberInfoScreen(e,t){const i=E.default.newCauseId();this._shouldNavigateToMsaLinkingFlow("SkypeNumberInfoScreen",e,i)||(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSkypeNumberInfoScreen, causeId: ",i),this.navigateAssertingUIStarted((()=>{const o=new q.SkypeNumberInfoScreenNavigationContext({origin:t});he.default.isUsingStackNavigationContext()?me.default.navigateToView(o,i):this.navigateToModalContext(o,!1,i,e)})))}navigateToSkypeNumberPanel(e=!1,t){const i=E.default.newCauseId();this._shouldNavigateToMsaLinkingFlow("SkypeNumberPanel",t)||(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSkypeNumberList, causeId: ",i),this.navigateAssertingUIStarted((()=>{const o=new q.SkypeNumberListNavigationContext({});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.SkypeNumberListNavigationId))return;e&&this.setStackNavigationCompleteCallback((()=>{this.reduceNavStack([q.SkypeNumberListNavigationId,q.SkypeNumberInfoScreenNavigationId,q.SkypeNumberFormsNavigationId,q.SkypeNumberPanelPurchaseFlowNavigationId,q.CallerIdCallingSettingsPanelNavigationId,q.CallerIdNumberCallingSettingsPanelNavigationId,q.KycPhoneVerifyFormPanelNavigationId,q.KycFinishVerificationPanelNavigationId,q.CallingSettingsPanelNavigationId,q.NewSettingsPanelNavigationId],!1)})),me.default.navigateToView(o,i)}else this.navigateToModalContext(o,e,i,t)})))}navigateToSkypeNumberNativePurchaseFlow(e,t,i){const o=E.default.newCauseId();this._shouldNavigateToMsaLinkingFlow("SkypeNumberNativePurchaseFlow",t,o)||(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSkypeNumberNativePurchaseFlow, causeId: ",o),this.navigateAssertingUIStarted((()=>{const i=new q.SkypeNumberPanelPurchaseFlowNavigationContext({});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.SkypeNumberPanelPurchaseFlowNavigationId))return;me.default.navigateToView(i,o,e)}else this._navigateToModalContext(i,e,o,t)})))}navigateToDiagnosticTools(e){this._commonNavigateToModal(q.DiagnosticToolsNavigationContext,e,"navigateToDiagnosticTools",{})}navigateToSendDiagnosticLogs(e){this._commonNavigateToModal(q.SendDiagnosticLogsNavigationContext,e,"navigateToSendDiagnosticLogs",{})}navigateToSyncContacts(e,t){this.navigateAfterUIStarted((()=>{const i=E.default.newCauseId(),o=new Pe.SyncContactsContext({onContactsPermissionGranted:t});he.default.isUsingStackNavigationContext()?me.default.navigateToView(o,i):(J.log(ne.LogTraceArea.Navigation,"NavigationActions.SyncContactsDialog, causeId: "+i),this.navigateToModalContext(o,!1,i,e))}))}navigateToFreeSubscription(e,t,i){this.navigateAfterUIStarted((()=>{var o;const n=new Pe.FreeSubNavigationContext({origin:null!==(o=null==i?void 0:i.origin)&&void 0!==o?o:oe.DialogNavOrigin.Unknown,scenarioNavigator:null==i?void 0:i.scenarioNavigator,isFirstLogin:null==i?void 0:i.isFirstLogin});he.default.isUsingStackNavigationContext()?me.default.navigateToView(n,e):(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToFreeSubscription, causeId: "+e),this.navigateToModalContext(n,!1,e,t))}))}navigateToBlockedUsersList(e){this._commonNavigateToModal(q.BlockedUsersListNavigationContext,e,"navigateToBlockedUsersList",{})}navigateToBackgroundEffectsSettings(e){this._commonNavigateToModal(q.BackgroundEffectsSettingsNavigationContext,e,"navigateToBackgroundEffectsSettings",{})}navigateToConnectedUsersList(e){this._commonNavigateToModal(q.ConnectedUsersListNavigationContext,e,"navigateToConnectedUsersList",{})}navigateToProfilePicturePanel(e){this._commonNavigateToModal(q.ProfilePicturePanelNavigationContext,e,"navigateToProfilePicturePanel",{})}navigateToManageSearchInfoPanel(e,t){this._commonNavigateToModal(q.ManageSearchInfoPanelNavigationContext,t,"navigateToManageSearchInfoPanel",{origin:e},(()=>{J.track(new W.ManageSearchOpenedEvent(e))}))}navigateToFeatureFlags(e){this._commonNavigateToModal(q.FeatureFlagListNavigationContext,e,"navigateToFeatureFlags",{})}navigateToSlimcoreFlags(e){this._commonNavigateToModal(q.SlimcoreFlagListNavigationContext,e,"navigateToSlimcoreFlags",{})}navigateToRawPreferences(e){this._commonNavigateToModal(q.RawPreferencesNavigationContext,e,"navigateToRawPreferences",{})}navigateToCustomReactionsPanel(e,t){this._commonNavigateToModal(q.CustomReactionsPanelNavigationContext,t,"navigateToCustomReactionsPanel",{origin:e})}navigateToSkypeClipsRecorder(e,t,i){const o=new q.SkypeClipsRecorderNavigationContext({scenario:e,conversationId:t,videoId:i});this.launchModalEvent.fire({context:o,rootViewId:te.MainRootViewId,causeId:E.default.newCauseId(),modalId:"SkypeClipsRecorder"})}navigateToWhiteboard(e,t,i,o,n,r){{const a=new q.WhiteboardNavigationContext({callId:o,whiteboardPresenterMri:i,conversationMri:e,containerId:n,creatorMri:t,message:r});this.launchModalEvent.fire({context:a,rootViewId:te.MainRootViewId,causeId:E.default.newCauseId(),modalId:"Whiteboard"})}}showDetailsPanelWithParams(e){const t=e.causeId;J.log(ne.LogTraceArea.Navigation,"NavigationActions.showDetailsPanelWithParams, causeId: "+t);const i=new q.DetailsNavigationContext({mri:null==e?void 0:e.mri,conversationId:e.conversationId,showConversationSettings:e.showConversationSettings,origin:e.origin||ie.DetailsPanelOrigin.Unknown,onBotAdded:e.onBotAdded,openMagicBotToolboxByDefault:e.openMagicBotToolboxByDefault,channelId:null==e?void 0:e.channelId});he.default.isUsingStackNavigationContext()?(i.state.navigationDirection=re.StackNavigationDirection.Present,me.default.navigateToView(i,t)):this.navigateToModalContext(i,!1,t,e.rootViewId)}showChatSettingsPanel(e,t,i){this._commonNavigateToModal(q.ChatConfigNavigationContext,i,"showChatSettingsPanel",{mri:e,conversationId:t},((e,t)=>{t&&(e.state.navigationDirection=re.StackNavigationDirection.Push)}))}closeDetailsPanel(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.closeDetailsPanel, causeId: "+e),he.default.isUsingStackNavigationContext()?me.default.isOnTopOfNavigationStack(q.DetailsNavigationId)&&this.navigateBack(e,t):this.closeGenericDesktopModal(e,ce.rootViewIdForComponentContext(t))}closeDetailsPanelForUser(e,t,i){J.log(ne.LogTraceArea.Navigation,"NavigationActions.closeDetailsPanelForUser, causeId: "+t);const o=(t,i)=>{const o=me.default.getCurrentNavigationStackRoute(t);(null==o?void 0:o.name)===q.DetailsNavigationId&&o.params.mri===e&&i()};if(he.default.isUsingStackNavigationContext())o(re.StackNavigatorId.Mobile,(()=>this.navigateBack(t,i)));else{o(ce.modalNavigatorIdForComponentContext(i),(()=>this.closeGenericDesktopModal(t,ce.rootViewIdForComponentContext(i))))}}navigateToHub(e){this.navigateAfterUIStarted((()=>{if(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToHub causeId: "+e),he.default.isUsingStackNavigationContext()){const t=new q.MobileHubNavigationContext({hubTab:q.HubTab.Recents,screen:q.HubTab.Recents});me.default.navigateToView(t,e)}else this.navigateToDefaultConversation()}))}navigateAfterDecliningContactRequest(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateAfterDecliningContactRequest, causeId: "+e),he.default.isUsingStackNavigationContext()?me.default.isOnTopOfNavigationStack(q.MobileContentPanelId)&&this.navigateBack(e,t):this.navigateToDefaultConversation()}navigateToSetConversationInfoPanel(e,t,i){const o=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSetConversationInfoPanel, causeId: "+o),this.navigateAssertingUIStarted((()=>{const n=new q.CreateConversationNavigationContext({navigationDirection:i},e);he.default.isUsingStackNavigationContext()?me.default.navigateToView(n,o):this.navigateToModalContext(n,!1,o,t)}))}closeSetConversationInfoPanel(e,t){J.log(ne.LogTraceArea.Navigation,`NavigationActions: closeSetConversationInfoPanel,  causeId: ${e}`),me.default.isUsingStackReactNavigationNoSubscription()?this.goBack(e,t):he.default.isUsingStackNavigationContext()?me.default.isOnTopOfNavigationStack(q.CreateConversationNavigationId)&&this.navigateBack(e,t):this.closeGenericDesktopModal(e,ce.rootViewIdForComponentContext(t))}navigateToReportConcernModal(e,t,i){const o=E.default.newCauseId(),n=new q.ReportConcernNavigationContext({reportInfo:e,afterReportActions:t,source:i});J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToReportConcernModal, causeId: ",o),he.default.isUsingStackNavigationContext()?me.default.navigateToView(n,o):this.navigateToModalContext(n,!1,o,e.rootViewId)}closeReportConcernModal(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.closeReportConcernModal, causeId: "+e),this.navigateBack(e,t)}navigateToSetConversationParticipantsPanel(e,t,i,o){const n=!fe.default.isUIDisplayed(),r=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSetConversationParticipantsPanel performOnLaunch: "+n+" causeId: "+r);const a=n=>{const a=me.default.getCurrentNavigationStackRoute();if((null==a?void 0:a.name)===q.ConversationParticipantsNavigationId&&a.params.isSuperComposer&&t)return;const s=new q.ConversationParticipantsNavigationContext({isSuperComposer:t,navigationDirection:o},e);he.default.isUsingStackNavigationContext()?n?me.default.setNewStartingNavigationContext((()=>s)):me.default.navigateToView(s,r):this.navigateToModalContext(s,!1,r,i)};n?fe.default.performAfterUIStarted((()=>a(!0))):this.navigateAssertingUIStarted((()=>a(!1)))}closeSetConversationParticipantsPanel(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.closeSetConversationParticipantsPanel, causeId: "+e),me.default.isUsingStackReactNavigationNoSubscription()?this.goBack(e,t):he.default.isUsingStackNavigationContext()?me.default.isOnTopOfNavigationStack(q.ConversationParticipantsNavigationId)&&this.navigateBack(e,t):this.closeGenericDesktopModal(e,ce.rootViewIdForComponentContext(t))}navigateToForcedUpgradeScreen(){const e=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToForcedUpgradeScreen, causeId: "+e),this.navigateAfterUIStarted((()=>{he.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(e,te.MainRootViewId,((e,t)=>{const i=[];i.push(this.setMainAreaFullScreen(!0));const o=new q.ForcedUpgradeContext({});return i.push(this.navigateToMainStageContext(o,!0,e,t)),i}))}))}navigateToMediaPickerPanelWithParams(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToMediaPickerPanelWithParams, causeId: "+t),ue.default.isUsingGogoNetworkNoSubscription()?J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToMediaPickerPanelWithParams cancelled, gogo network detected, causeId: "+t):this.navigateAssertingUIStarted((()=>{const i=new q.MediaPickerNavigationContext({capturedContentHandler:e.capturedContentHandler,conversationId:e.conversationId,allowVideo:e.allowVideo,allowMultiple:e.allowMultiple,defaultToAlbums:e.defaultToAlbums,disableMarkup:e.disableMarkup,onSendFlowComplete:e.onSendFlowComplete,onHandleEditMediaSelection:e.onHandleEditMediaSelection});he.default.isUsingStackNavigationContext()&&me.default.navigateToView(i,t)}))}closeMediaPickerPanel(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions: closeMediaPickerPanel,  causeId: "+e),he.default.isUsingStackNavigationContext()?(me.default.isOnTopOfNavigationStack(q.MediaPickerNavigationId)||me.default.isOnTopOfNavigationStack(q.CaptureComboNavigationId))&&this.navigateBack(e,t):this.navigateToDefaultConversation()}navigateToCapturePreview(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCapturePreview, causeId: "+t),this.navigateAssertingUIStarted((()=>{const i=new q.CapturePreviewNavigationContext(e);if(he.default.isUsingStackNavigationContext())me.default.navigateToView(i,t);else{const e="DirectShare_Modal";this.launchModalEvent.fire({context:i,rootViewId:te.MainRootViewId,causeId:t,modalId:e})}}))}navigateToCaptureMultiPreview(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCaptureMultiPreview, causeId: "+t),this.navigateAssertingUIStarted((()=>{const i=new q.CaptureMultiPreviewNavigationContext(e);if(he.default.isUsingStackNavigationContext())me.default.navigateToView(i,t);else{const e="DirectShare_Modal";this.launchModalEvent.fire({context:i,rootViewId:te.MainRootViewId,causeId:t,modalId:e})}}))}navigateToShareContactsToConversationPanel(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToShareContactsToConversationPanel, causeId: "+e.causeId),this.navigateAssertingUIStarted((()=>{const i=new q.ShareContactsToConversationContext(e);he.default.isUsingStackNavigationContext()?(i.state.navigationDirection=e.entryPoint===D.ShareContactOrigin.MessageComposer?re.StackNavigationDirection.Present:void 0,me.default.navigateToView(i,e.causeId)):this.navigateToModalContext(i,!0,e.causeId,t)}))}navigateToShareWithPanel(e,t,i=!1){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToShareWithPanel, causeId: "+e.causeId),this.navigateAssertingUIStarted((()=>{const o=new q.ShareWithPanelNavigationContext(e);if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.ShareWithPanelNavigationId)){if(!e.isExternalShare)return;this.navigateBack(e.causeId,t)}me.default.navigateToView(o,e.causeId)}else this.navigateToModalContext(o,i,e.causeId,ce.rootViewIdForComponentContext(t))}))}navigateToEngagementShareableContentPanel(e,t,i=!1){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToEngagementShareableContentPanel, causeId:",e.causeId),this.navigateAssertingUIStarted((()=>{const o=new q.EngagementSharePanelContext(e);he.default.isUsingStackNavigationContext()?me.default.navigateToView(o,e.causeId):this.navigateToModalContext(o,i,e.causeId,t)}))}navigateToCaptivePortalQuestionnaire(e,t,i=!1){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCaptivePortalQuestionnaire, causeId: "+e),this.navigateAssertingUIStarted((()=>{const o=new q.CaptivePortalQuestionnaireContext({});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.CaptivePortalQuestionnaireNavigationId))return;me.default.navigateToView(o,e)}else this.navigateToModalContext(o,i,e,t)}))}navigateToArticleReader(e,t,i,o,n,r,a,l,c,d){const{articleReaderSize:u,enableInAppBrowser:p}=this._getArticleReaderConfigs(o);if(p){const s=(0,Te.modifyQueryParamsForMsn)(e);this.navigateToInAppBrowser({origin:i,url:e,openUrlOptions:{forceInAppViewer:!0,useBrowserActionInHeader:!0,enableSearchHeader:!1,showDesktopShareButton:!0,sidebarSize:u,hideBrowserTitle:!0,onSuccessfulShare:()=>{J.track(new be.TodayShareTelemetry(B.TodayShareActionTelemetry.SharedAction,o))},onSuccessfulOpenBrowser:()=>{J.track(new be.TodayArticleReaderTelemetry(B.TodayArticleReaderActionTelemetry.OpenInBrowserClicked,o))},onExternalShare:()=>{r&&r(s)},beforeOpenBrowser:e=>s,onInAppWebBrowserOpen:()=>{d&&(0,De.getRightPaneStore)().setIsArticleOpenedInApp(d,!0),null==l||l()},onInAppWebBrowserClose:()=>{J.track(new be.TodayArticleReaderTelemetry(B.TodayArticleReaderActionTelemetry.CloseClicked,o)),d&&(0,De.getRightPaneStore)().setIsArticleOpenedInApp(d,!1),null==c||c()},onNavigationStateChange:a},renderWebViewComponent:n},t)}else J.log(ne.LogTraceArea.TodayTab,"Navigated to article in external browser"),s.Linking.openUrl(e)}_getArticleReaderConfigs(e){const t=se.default.getS4LCommerceFeaturesNoSubscription().todayTab,{enableInAppBrowser:i}=t,n=o.__rest(t,["enableInAppBrowser"]),r=se.default.getS4LUiFeaturesNoSubscription(),{articleReaderSize:a}=e===B.ArticleReaderOrigin.NewsChannel?r:n;return{articleReaderSize:a,enableInAppBrowser:i}}navigateToInAppBrowser(e,t){e.origin===ne.BrowserOrigin.LinkNode&&(e.url=(0,Ce.standardizeBingSearchUrl)(e.url));const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,`NavigationActions.navigateToInAppBrowser, causeId: ${i}`),this.navigateAssertingUIStarted((()=>{if(!e.openUrlOptions.forceInAppViewer&&!_.default.isIntegrationUrl(e.url)&&!he.default.isUsingStackNavigationContext())return void s.Linking.openUrl(X.default.normalizeUrlProtocol(e.url)||e.url);const o=new q.InAppBrowserNavigationContext({origin:e.origin,url:e.url,integrationCorrelationId:e.openUrlOptions.integrationCorrelationId,headers:e.openUrlOptions.headers,injectedJavaScript:e.openUrlOptions.injectedJavaScript,onNavigationStateChange:e.openUrlOptions.onNavigationStateChange,onOpen:e.openUrlOptions.onInAppWebBrowserOpen,onInAppWebBrowserClose:e.openUrlOptions.onInAppWebBrowserClose,onShareComplete:e.openUrlOptions.onShareComplete,onWebViewClose:e.openUrlOptions.onWebViewClose,onMessage:e.openUrlOptions.onMessage,hideHeaderTitle:e.openUrlOptions.hideBrowserTitle,headerTitle:e.openUrlOptions.browserTitle,usePredeterminedHeaderTitle:e.openUrlOptions.usePredeterminedBrowserTitle,conversationId:e.openUrlOptions.conversationId,messageId:e.openUrlOptions.messageId,enableSearchHeader:e.openUrlOptions.enableSearchHeader,showDesktopShareButton:e.openUrlOptions.showDesktopShareButton,suggestionAttributes:e.openUrlOptions.suggestionAttributes,hideBrowserActions:e.openUrlOptions.hideBrowserActions,perfScenario:e.openUrlOptions.openIntegrationScenario,useBingMiniCanvas:e.openUrlOptions.useBingMiniCanvas,onExternalShare:e.openUrlOptions.onExternalShare,forceInAppViewer:e.openUrlOptions.forceInAppViewer,useBrowserActionInHeader:e.openUrlOptions.useBrowserActionInHeader,beforeOpenBrowser:e.openUrlOptions.beforeOpenBrowser,onSuccesfulOpenBrowser:e.openUrlOptions.onSuccessfulOpenBrowser,onSuccessfulShare:e.openUrlOptions.onSuccessfulShare,shareSameSession:e.openUrlOptions.shareSameSession,sidebarSize:e.openUrlOptions.sidebarSize,renderWebViewComponent:e.renderWebViewComponent});if(he.default.isUsingStackNavigationContext())!e.openSecondaryBrowserIfNecessary&&me.default.isOnTopOfNavigationStack(q.InAppBrowserNavigationId)||(o.state.navigationDirection=void 0,me.default.navigateToView(o,i));else{const n=!!e.openUrlOptions.integrationCorrelationId;this.navigateToCompositeGroup(i,t,((e,i)=>{const r=[];return r.push(this.clearModalContext(!0,i,t)),r.push(this.navigateToRightSidebarContext(o,me.default.isInAppBrowserShowingNoSubscription()?re.StackNavigationType.PopToRoot:re.StackNavigationType.Push,e,i,t,n&&!0)),r}))}}))}closeInAppBrowser(e,t){if(J.log(ne.LogTraceArea.Navigation,"NavigationActions: closeInAppBrowser,  causeId: "+e),he.default.isUsingStackNavigationContext()){const i=me.default.getCurrentNavigationStackRoute();if((null==i?void 0:i.name)===q.InAppBrowserNavigationId){const o=i.params;o.onInAppWebBrowserClose&&o.onInAppWebBrowserClose(),this.navigateBack(e,t)}}else if(!this._maybePopToConversationInCall(e,t)){const i=ce.rootViewIdForComponentContext(t);this.navigateToCompositeGroup(e,i,((e,i)=>{const o=[];return o.push(this.setMainAreaFullScreen(!1)),this.closeGenericDesktopModal(i,ce.rootViewIdForComponentContext(t)),o}))}}toggleGallery(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.toggleGallery, causeId: "+i);const o=me.default.isGalleryShowing();he.default.isUsingStackNavigationContext()||!o?this.navigateToGallery(e,q.GalleryViewMode.All,t):this.closeGalleryPanel(i,t)}navigateToGallery(e,t,i,o,n,a){const s=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToGallery, causeId: "+s),this.navigateAssertingUIStarted((()=>{const l=new q.GalleryNavigationContext({conversationId:e,viewMode:t,callId:o,parentConversationId:n,onClose:a,navigationDirection:re.StackNavigationDirection.Present});if(he.default.isUsingStackNavigationContext())l.state.viewMode===q.GalleryViewMode.All&&(l.state.viewMode=q.GalleryViewMode.Media),me.default.navigateToView(l,s);else if(me.default.shouldDisplayRightNavigationNoSubscription()){const t=ce.rootViewIdForComponentContext(i),o=!!i&&i.isPresentedInDesktopRightNav,n=()=>{this.navigateToCompositeGroup(s,t,((e,i)=>{const n=[];return n.push(this.clearModalContext(e,i,t)),n.push(this.navigateToRightSidebarContext(l,o?re.StackNavigationType.Push:re.StackNavigationType.PopToRoot,e,i,t)),n}))},a=me.default.getCurrentStackNavigationContext(ce.mainContentNavigatorId,!1).getNavStack(),c=r.last(a);if(c instanceof q.DesktopContentPanelNavigationContext){const t=c.getConversationContext();t&&t.state.conversationId!==e&&this.navigateToConversation({convId:e,origin:ne.NavigationConversationOrigin.Gallery,causeId:s})}n()}}))}setDesktopGalleryViewMode(e,t,i,o=!0){he.default.isUsingStackNavigationContext()||this.navigateToGallery(e,t,i)}closeGalleryPanel(e,t){if(J.log(ne.LogTraceArea.Navigation,"NavigationActions: closeGalleryPanel,  causeId: "+e),me.default.isUsingStackReactNavigationNoSubscription())this.goBack(e,t);else if(he.default.isUsingStackNavigationContext())me.default.isOnTopOfNavigationStack(q.GalleryNavigationId)&&this.navigateBack(e,t);else if(!this._maybePopToConversationInCall(e,t)){const i=ce.rootViewIdForComponentContext(t);this.navigateToCompositeGroup(e,i,((e,t)=>[this.clearRightSidebarContext(e,t,i)]))}}maybeNavigateToFindPanel(e,t,i,o,n){J.log(ne.LogTraceArea.Navigation,"NavigationActions.maybeNavigateToFindPanel, causeId: "+o),me.default.isInAppBrowserShowingNoSubscription()||this.navigateToFindPanel(e,t,i,o,n)}navigateToFindPanel(e,t,i,o,n){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToFindPanel, causeId: "+o),this.navigateAssertingUIStarted((()=>{const r=new q.FindPanelNavigationContext({conversationId:e,overflowActionConfig:t,onFindComplete:n}),a=ce.rootViewIdForComponentContext(i);if(he.default.isUsingStackNavigationContext())me.default.navigateToView(r,o);else if(me.default.shouldDisplayRightNavigationNoSubscription()){const e=!!i&&i.isPresentedInDesktopRightNav;this.navigateToCompositeGroup(o,a,((t,i)=>[this.navigateToRightSidebarContext(r,e?re.StackNavigationType.Push:re.StackNavigationType.PopToRoot,t,i,a)]))}}))}closeFindPanel(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions: closeFindPanel,  causeId: "+e),he.default.isUsingStackNavigationContext()?me.default.isOnTopOfNavigationStack(q.FindPanelNavigationId)&&this.navigateBack(e,t):this._maybePopToConversationInCall(e,t)||this.closeRightPanel(e,ce.rootViewIdForComponentContext(t))}closeRightPanel(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions: closeRightPanel, causeId: "+e),he.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(e,t,((e,i)=>[this.clearRightSidebarContext(e,i,t)]))}maybeCloseRightPanel(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions: maybeCloseRightPanel, causeId: "+e),this._maybePopToConversationInCall(e,t)||this.closeRightPanel(e,ce.rootViewIdForComponentContext(t))}navigateToDesktopCloseAccount(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToDesktopCloseAccount, causeId: "+t),this.navigateAssertingUIStarted((()=>{if(!he.default.isUsingStackNavigationContext()){const i=new q.DesktopCloseAccountNavigationContext({});this.navigateToModalContext(i,!1,t,ce.rootViewIdForComponentContext(e))}}))}navigateToDesktopMsaPhoneAccrual(e,t,i,o){const n=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToDesktopMsaPhoneAccrual,  causeId: "+n),this.navigateAssertingUIStarted((()=>{if(!he.default.isUsingStackNavigationContext()){const r=new q.DesktopMsaPhoneAccrualNavigationContext({phoneNumber:e,email:i,isEmailAccrual:o});this.navigateToModalContext(r,!1,n,t)}}))}openCallRoster(e,t,i,o){J.log(ne.LogTraceArea.Navigation,`NavigationActions.openCallRoster, causeId: ${i}`);const n=new q.CallRosterNavigationContext({conversationId:e,callId:t,navigationDirection:re.StackNavigationDirection.Present});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.CallRosterNavigationId))return;me.default.navigateToView(n,i)}else me.default.getCompositeCallVisibleNoSubscription()&&this.navigateToModalContext(n,!1,i,ce.rootViewIdForComponentContext(o))}openAddToCall(e,t,i,o,n){if(J.log(ne.LogTraceArea.Navigation,"NavigationActions.openAddToCall  callId: "+t+" causeId: "+n+" origin: "+i),he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.QuickCallPanelId))return;const o=new q.QuickCallNavigationContext({conversationId:e,callId:t,newGroup:!0,navigationDirection:i===ne.NavigationAddToCallOrigin.RosterView?re.StackNavigationDirection.Push:re.StackNavigationDirection.Present});me.default.navigateToView(o,n)}else if(me.default.getCompositeCallVisibleNoSubscription()){const r=new q.AddToCallNavigationContext({conversationId:e,callId:t,origin:i,newGroup:!0});this.navigateToModalContext(r,!1,n,ce.rootViewIdForComponentContext(o))}}openBingBackgroundsOverview(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.openCallRoster, causeId: "+i);const o=new q.BingBackgroundNavigationContext({callId:e,navigationDirection:re.StackNavigationDirection.Present});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.BingBackgroundNavigationId))return;me.default.navigateToView(o,i)}else me.default.getCompositeCallVisibleNoSubscription()&&this.navigateToModalContext(o,!1,i,ce.rootViewIdForComponentContext(t))}updateHubNavigationContext(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions: updateHubNavigationContext,  causeId: "+i),he.default.isUsingStackNavigationContext()?me.default.updateMobileHubContextForStackNavContext(e,t):this.navigateToCompositeGroup(i,te.MainRootViewId,((t,i)=>{const o=this.getLeftNavigationContext();if(o){o.getConversationsListContext().state.currentTab=e}return[M.CompositeNavigationType.LeftSidebar]}))}navigateToRecentsTab(){this._navigateToHubTab(q.HubTab.Recents),m.default.willNavigateToRecents()}navigateToCallsTab(){this._navigateToHubTab(q.HubTab.Calls)}navigateToPeopleTab(){this._navigateToHubTab(q.HubTab.People)}_navigateToHubTab(e,t={}){this.navigateAfterUIStarted((()=>me.default.navigateToHubTab(e,t)))}navigateToSyncAddressBook(e,t,i){const o=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSyncAddressBook, causeId: "+o);const n=new q.SyncAddressBookContext({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,isFirstLogin:e.isFirstLogin,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,scenarioNavigator:t});this.navigateAfterUIStarted((()=>{he.default.isUsingStackNavigationContext()?me.default.navigateToView(n,o):this.navigateToModalContext(n,!1,o,i)}))}navigateToPeopleYouMayKnowNotice(e,t,i){const o=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToPeopleYouMayKnowNotice, causeId: "+o);const n=new q.PeopleYouMayKnowNoticeContext({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,isFirstLogin:e.isFirstLogin,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,scenarioNavigator:t});this.navigateAfterUIStarted((()=>{he.default.isUsingStackNavigationContext()?me.default.navigateToView(n,o):this.navigateToModalContext(n,!1,o,i)}))}navigateToTelemetryConsent(e,t,i){const o=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToTelemetryConsent, causeId: "+o);const n=new q.TelemetryConsentContext({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,isFirstLogin:e.isFirstLogin,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,scenarioNavigator:t});this.navigateAfterUIStarted((()=>{he.default.isUsingStackNavigationContext()?me.default.navigateToView(n,o):this.navigateToModalContext(n,!1,o,i)}))}navigateToUserProfile(e,t,i){const o=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToUserProfile, causeId: "+o);const n=new q.UserProfileContext({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,scenarioNavigator:t});this.navigateAfterUIStarted((()=>{he.default.isUsingStackNavigationContext()?me.default.navigateToView(n,o):this.navigateToModalContext(n,!1,o,i)}))}navigateToColorTheme(e,t,i){const o=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToColorTheme, causeId: "+o);const n=new q.ThemeContext({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,isFirstLogin:e.isFirstLogin,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,scenarioNavigator:t});this.navigateAfterUIStarted((()=>{he.default.isUsingStackNavigationContext()?me.default.navigateToView(n,o):this.navigateToModalContext(n,!1,o,i)}))}navigateToPromptPermission(e,t,i,o=!1){const n=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToPromptPermission, causeId: "+n);const r=!!(t&&t.context&&t.context.isFirstLogin),a=new q.PromptPermissionContext({origin:e,hideCloseButton:o,isFirstLogin:r,showUIPrompts:!0,scenarioNavigator:t});this.navigateAfterUIStarted((()=>{he.default.isUsingStackNavigationContext()?me.default.navigateToView(a,n):(ce.setEligibleLeftNavViewModes(O.default.eligibleLeftNavViewModes(),this.getLeftNavigationContext()),this.navigateToModalContext(a,!1,n,i))}))}navigateToLocationPicker(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToLocationPicker, causeId: "+i),this.navigateAssertingUIStarted((()=>{const o={conversationId:e,navigationDirection:re.StackNavigationDirection.Present},n=new q.LocationPickerContext(o),r=ce.rootViewIdForComponentContext(t);if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.LocationPickerNavigationId))return;me.default.navigateToView(n,i)}else if(!g.default.isTabletUINoSubscription()&&me.default.shouldDisplayRightNavigationNoSubscription()){const e=!!t&&t.isPresentedInDesktopRightNav;this.navigateToModalContext(n,!e,i,r)}else this.launchModalEvent.fire({context:n,rootViewId:ce.rootViewIdForComponentContext(t),causeId:i})}))}navigateToLocationViewer(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToLocationViewer, causeId: "+i),this.navigateAssertingUIStarted((()=>{const o=Object.assign(Object.assign({},e),{navigationDirection:re.StackNavigationDirection.Present}),n=new q.LocationViewerContext(o);if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.LocationViewerNavigationId))return;me.default.navigateToView(n,i)}else this.launchModalEvent.fire({context:n,rootViewId:ce.rootViewIdForComponentContext(t),causeId:i})}))}navigateToNearByPlaces(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,`NavigationActions.navigateToNearByPlaces, causeId: ${t}`),this.navigateAssertingUIStarted((()=>{he.default.isUsingStackNavigationContext()&&me.default.navigateToView(new q.NearByPlacesContext(e),t)}))}navigateToDocumentViewer(e,t,i,o){const n=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToDocumentViewer, causeId: "+n),this.navigateAssertingUIStarted((()=>{const r={message:e,fileUri:t,fileName:i,navigationDirection:re.StackNavigationDirection.Present},a=new q.DocumentViewerContext(r);he.default.isUsingStackNavigationContext()?me.default.navigateToView(a,n):this.launchModalEvent.fire({context:a,rootViewId:ce.rootViewIdForComponentContext(o),causeId:n})}))}navigateToGifPreview(e,t,i){const o=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToGifPreview, causeId: "+o),this.navigateAssertingUIStarted((()=>{const n={gif:e,sendButtonTitle:t};if(he.default.isUsingStackNavigationContext()){const e=new q.GifPreviewContext(n);me.default.navigateToView(e,o)}else this._commonNavigateToModal(q.GifPreviewContext,i,"navigateToGifPreview",n)}))}navigateToDesktopCaptureComboModal(e,t,i){const o=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToDesktopCaptureComboModal, causeId: "+o),se.default.isDesktopVIMEnabled()&&!he.default.isUsingStackNavigationContext()?this.navigateAssertingUIStarted((()=>{this.launchModalEvent.fire({context:new q.DesktopCaptureComboViewNavigationContext({conversationId:e,onShareComplete:t}),rootViewId:ce.rootViewIdForComponentContext(i),causeId:o})})):J.log(ne.LogTraceArea.Navigation,"Video message is intended for desktop only")}navigateToQuickCallPanel(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToQuickCallPanel, causeId: "+e),this.navigateToQuickCallPanelWithParams({causeId:e},t)}navigateToQuickCallPanelWithParams(e,t){this._commonNavigateToModal(q.QuickCallNavigationContext,t,"navigateToQuickCallWithParams",e)}navigateToQuickCallSearchPanelWithParams(e,t){const i=e.causeId;J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToQuickCallSearchPanelWithParams, causeId: "+i),e.searchOnly=!0,e.causeId=i,this.navigateAssertingUIStarted((()=>{he.default.isUsingStackNavigationContext()?this.navigateToQuickCallPanelWithParams(e,t):this.navigateToCompositeGroup(i,te.MainRootViewId,((t,i)=>{const o=this.getLeftNavigationContext();if(o){const t=o.getCallSearchContext();ce.setLeftNavViewMode(o,q.LeftNavViewMode.CallSearch,i),t.state=e}return[M.CompositeNavigationType.LeftSidebar]}))}))}navigateToPSTNDialerWithParams(e,t,i=!1){if(!i&&u.default.shouldRequestAcknowledgementNoSubscription())return void this.navigateToE911AcknowledgementPanel(e.causeId,t,(()=>{this.navigateToPSTNDialerWithParams(e,t,!0)}));const o=e.causeId,n=se.default.getS4LCommerceFeaturesNoSubscription().smsNewEntry.enableOnDialpad;J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToPSTNDialerWithParams, causeId: "+o),J.track(new j.NavigateToDialpad(e.navigationSource,!!e.prefilledNumber,n));const r=new q.PSTNDialerNavigationContext({callId:e.callId,prefilledNumber:e.prefilledNumber,conversationId:e.conversationId,navigationSource:e.navigationSource,reopenOnInvalidNumber:e.reopenOnInvalidNumber}),a=[];he.default.isUsingStackNavigationContext()||a.push(q.PSTNDialerPanelId),i&&a.push(q.E911AcknowledgementPanelId),m.default.willNavigateToDialpad(),this.navigateAfterUIStarted((()=>{he.default.isUsingStackNavigationContext()?(this.setStackNavigationCompleteCallback((()=>{this.reduceNavStack(a,!0)})),r.state.navigationDirection=i?re.StackNavigationDirection.Push:re.StackNavigationDirection.Present,me.default.navigateToView(r,o)):(this.reduceModalNavStack(a,t,!1),this.navigateToModalContext(r,!1,o,t))}))}navigateToE911AcknowledgementPanel(e,t,i,o=!1){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToE911AcknowledgementPanel, causeId: "+e);const n=new q.E911AcknowledgementPanelNavigationContext({shouldSkipLocationConsent:o,onComplete:i});he.default.isUsingStackNavigationContext()?(n.state.navigationDirection=re.StackNavigationDirection.Present,me.default.navigateToView(n,e)):this.navigateToModalContext(n,!1,e,t)}navigateToCountrySelector(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCountrySelector, causeId: "+i);const o=new q.PSTNCountrySelectorNavigationContext({onCountrySelected:t});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.PSTNCountrySelectorPanelId))return;me.default.navigateToView(o,i)}else this.navigateToModalContext(o,!1,i,e)}navigateToCountrySelectorWithFilter(e,t,i,o,n){const r=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCountrySelector, causeId: "+r);const a=new q.PSTNCountrySelectorNavigationContext({onCountrySelected:t,countriesFiltered:i,hideRecentCountries:o,searchAutoFocus:n});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.PSTNCountrySelectorPanelId))return;me.default.navigateToView(a,r)}else this.navigateToModalContext(a,!1,r,e)}navigateToCountryAreaSelector(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCountryAreaSelector, causeId: "+i);const o=new q.SkypeNumberCountryAreaSelectorNavigationContext({onCountryAreaSelected:t});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.SkypeNumberCountryAreaSelectorPanelId))return;me.default.navigateToView(o,i)}else this.navigateToModalContext(o,!1,i,e)}navigateToPrefixSelector(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToPrefixSelector, causeId: "+i);const o=new q.SkypeNumberPrefixSelectorNavigationContext({onPrefixSelected:t});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.SkypeNumberPrefixSelectorPanelId))return;me.default.navigateToView(o,i)}else this.navigateToModalContext(o,!1,i,e)}navigateToSelectOptionSelector(e,t,i,o,n){const r=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSelectOptionSelector, causeId: "+r);const a=new q.SkypeNumberFormOptionSelectorNavigationContext({selectionOptions:t,countryId:i,inputName:o,filledKey:n});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.SkypeNumberFormOptionSelectorPanelId))return;me.default.navigateToView(a,r)}else this.navigateToModalContext(a,!1,r,e)}navigateToSkypeNumberFormsPanel(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSkypeNumberFormsPanel, causeId: "+i);const o=new q.SkypeNumberFormsNavigationContext({country:t});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.SkypeNumberFormsNavigationId))return;me.default.navigateToView(o,i)}else this.navigateToModalContext(o,!1,i,e)}closeGenericDesktopModal(e,t){const i=ce.modalNavigatorIdForRootViewId(t);J.log(ne.LogTraceArea.Navigation,"NavigationActions: closeGenericDesktopModal navigatorId: "+n.pii.Omit(i)+" causeId: "+e),this._closeGenericDesktopModal(e,i)}navigateToContactsPanel(e,t,i){const o=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToContactsPanel, causeId: "+o),this.navigateAssertingUIStarted((()=>{const n=new q.ContactsPanelV2NavigationContext({currentTab:e});he.default.isUsingStackNavigationContext()?(n.state.navigationDirection=re.StackNavigationDirection.Present,me.default.navigateToView(n,o),t&&this.setStackNavigationCompleteCallback((()=>{this.flattenNavStack()}))):this.navigateToModalContext(n,!1,o,ce.rootViewIdForComponentContext(i))}))}navigateToAddContactPanel(e,t,i){this._commonNavigateToModal(q.AddContactPanelNavigationContext,i,"navigateToAddContactPanel",{origin:e},((e,i)=>{i&&(e.state.navigationDirection=t)}))}navigateToSendCreditSearchPeople(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,`NavigationActions.navigateToSendCreditSearchPeople, causeId: ${t}`),this._commonNavigateToModal(q.SendCreditSearchPeopleContext,e,"navigateToSendCreditSearchPeople",{})}navigateToAddPhoneNumberPanel(e,t,i,o,n,r,a,s){L.default.clearSavedContactDetails(),this._commonNavigateToModal(q.AddPhoneNumberPanelNavigationContext,t,"navigateToAddPhoneNumberPanel",{origin:e,contactMriToEdit:i,phoneNumbers:o,contactName:n,onSave:r,onCancel:a,onClose:s})}navigateToLoadingPanel(e,t){this._commonNavigateToModal(q.LoadingPanelNavigationContext,t,"navigateToLoadingPanel",{message:e})}navigateToInviteShare(e,t,i,o){this._commonNavigateToModal(q.InviteShareNavigationContext,o,"navigateToInviteShare",{skypeMri:e,displayName:t||"",origin:i,customizedHeight:S.DefaultHeightForInviteShare})}navigateToGroupShare(e,t,i,o){this._commonNavigateToModal(q.ConversationShareNavigationContext,o,"navigateToGroupShare",{skypeMri:e,displayName:t||"",origin:i})}navigateToGuestUpsell(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToGuestUpsell, causeId: "+t),this.navigateAssertingUIStarted((()=>{const i=new q.GuestUpsellNavigationContext({upsellType:e});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.GuestUpsellNavigationId))return;me.default.navigateToView(i,t)}else this.navigateToModalContext(i,!1,t,te.MainRootViewId)}))}navigateToJoiningGuestScreen(){const e=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToGuestFlow, causeId: "+e),ce.setEligibleLeftNavViewModes(O.default.eligibleLeftNavViewModes(),this.getLeftNavigationContext()),this.navigateAfterUIStarted((()=>{const t=new q.JoiningGuestScreenContext({});he.default.isUsingStackNavigationContext()?me.default.navigateToView(t,e):this.navigateToMainStageContext(t,!0,!1,e)}))}navigateToCallQualityFeedbackPanel(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallQualityFeedbackPanel, causeId: "+t),fe.default.isUIDisplayed()?this.launchModalEvent.fire({context:new q.CQFNavigationContext(Object.assign({},e)),rootViewId:te.MainRootViewId,causeId:t}):J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallQualityFeedbackPanel, ui not displayed, causeId: "+t)}navigateToCallPreviewView(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallPreviewView causeId: "+t),c.default.trackLobbyNavigationStarted(e.conversationMri);const i=i=>{this.launchModalEvent.fire({context:new q.CallPreviewNavigationContext(e),rootViewId:i,causeId:t})};fe.default.performAfterUIStarted((()=>{i(te.MainRootViewId)}))}navigateToCallPreviewViewModal(e,t){this.navigateAssertingUIStarted((()=>{const i=new q.CallPreviewNavigationContext(e);if(he.default.isUsingStackNavigationContextNoSubscription()){if(me.default.isOnTopOfNavigationStack(q.CallPreviewNavigationId))return;me.default.navigateToView(i,t)}else{const e=800,o=620;i.state.customizedWidth=e,i.state.customizedHeight=o,a.default.getLastActiveSplitView().then((e=>{const o=(null==e?void 0:e.id)===te.MainRootViewId?e.id:te.MainRootViewId,n=o!==te.MainRootViewId?a.default.getLastActiveSplitViewWindow():void 0;null==n||n.requestFocus(),this.navigateToModalContext(i,!1,t,o)}),(e=>{J.log(ne.LogTraceArea.Navigation,"getLastActiveSplitView() failed. error: "+e),this.navigateToModalContext(i,!1,t,te.MainRootViewId)}))}}))}navigateToMobileMeetingTitleAndAvatarPickerModal(e,t){if(he.default.isUsingStackNavigationContextNoSubscription()){const t=Object.assign({dialogId:d.MobileMeetingAvatarPickerNavigationId},e);this._commonNavigateToModal(d.MobileMeetingAvatarPickerNavigationContext,te.MainRootViewId,"navigateToMobileMeetingTitleAndAvatarPicker",t,((e,t)=>{t&&(e.state.navigationDirection=re.StackNavigationDirection.Push)}))}else J.warn(ne.LogTraceArea.Navigation,"NavigationActions.navigateToMobileMeetingTitleAndAvatarPickerModal - only stack navigation devices supported"+t)}navigateToRinglessCallInterstitial(e){const t=e.causeId;J.log(ne.LogTraceArea.Navigation,"NavigationActions.NavigateToRinglessCallInterstitialParams causeId: "+t),this.navigateAssertingUIStarted((()=>{(i=>{this.launchModalEvent.fire({context:new q.RinglessCallInterstitialNavigationContext(Object.assign({},e)),rootViewId:i,causeId:t})})(te.MainRootViewId)}))}navigateToCallerIdPromptPanel(){const e=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallerIdPromptPanel, causeId: "+e),this.navigateAssertingUIStarted((()=>{const t=new q.CallerIdPromptContext({customizedHeight:S.CompactHeight,dialogId:"callerIdDialog"});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.CallerIdPromptNavigationId))return;me.default.navigateToView(t,e)}else this.navigateToModalContext(t,!1,e,ce.rootViewIdForComponentContext(void 0))}))}navigateToCantSendSMSWarning(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,`NavigationActions.navigateToCantSendSMSWarning, causeId: ${t}`),this._commonNavigateToModal(q.CantSendSmsWarningNavigationContext,te.MainRootViewId,"navigateToCantSendSMSWarning",{dialogId:"smsDialog",receiverCategory:e||ne.CantSendSmsWarningType.US})}navigateToCallFailurePromptPanel(e,t,i){const o=E.default.newCauseId();this._shouldNavigateToMsaLinkingFlow("CallFailurePromptPanel",te.MainRootViewId,o)||(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallFailurePromptPanel, causeId: "+o),this.navigateAssertingUIStarted((()=>{const e=new q.CallFailurePromptContext({dialogId:"pstnDialog",phoneNumber:t,reason:i,customizedWidth:S.CompactWidth});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.CallFailurePromptId))return;me.default.navigateToView(e,o)}else this.navigateToModalContext(e,!1,o,te.MainRootViewId)})))}navigateToSmsFailurePrompt(e,t,i){const o=E.default.newCauseId();this._shouldNavigateToMsaLinkingFlow("SmsFailurePrompt",te.MainRootViewId,o)||(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSmsFailurePrompt, causeId: "+o),this.navigateAssertingUIStarted((()=>{const e=new q.SmsFailurePromptContext({dialogId:"smsDialog",phoneNumber:t,isSmsInfo:i,customizedHeight:S.DefaultHeight,customizedWidth:S.CompactWidth});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.SmsFailurePromptId))return;me.default.navigateToView(e,o)}else this.navigateToModalContext(e,!1,o,te.MainRootViewId)})))}navigateToCallFailurePostPurchasePromptPanel(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallFailurePostPurchasePromptPanel, causeId: "+t),this.navigateAssertingUIStarted((()=>{const i=new q.CallFailurePostPurchasePromptContext({dialogId:"successfulPurchaseDialog",phoneNumber:e,customizedHeight:S.CompactHeight,customizedWidth:S.CompactWidth});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.CallFailurePostPurchasePromptNavigationId))return;me.default.navigateToView(i,t)}else this.navigateToModalContext(i,!1,t,te.MainRootViewId)}))}navigateToSkypeNumberPostPurchasePromptPanel(){const e=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,`NavigationActions.navigateSkypeNumberPostPurchasePromptPanel, causeId: ${e}`),this._commonNavigateToModal(q.SkypeNumberPostPurchasePromptNavigationContext,te.MainRootViewId,"navigateToSkypeNumberPostPurchasePromptPanel",{dialogId:"skypeNumberPostPurchaseDialog"})}navigateToTasterPostCallPanel(e){const t=E.default.newCauseId();this._shouldNavigateToMsaLinkingFlow("TasterPostCallPanel",te.MainRootViewId,t)||(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToTasterPostCallPanel, causeId: "+t),this.navigateAssertingUIStarted((()=>{const e=new q.TasterPostCallPanelContext({dialogId:"taster",customizedWidth:S.CompactWidth});if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(q.TasterPostCallPanelId))return;me.default.navigateToView(e,t)}else this.navigateToModalContext(e,!1,t,te.MainRootViewId)})))}closeCallFailurePrompts(e,t){if(J.log(ne.LogTraceArea.Navigation,"NavigationActions.closeCallFailurePrompts, causeId: "+e),he.default.isUsingStackNavigationContext())(me.default.isOnTopOfNavigationStack(q.CallFailurePromptId)||me.default.isOnTopOfNavigationStack(q.SmsFailurePromptId)||me.default.isOnTopOfNavigationStack(q.TasterPostCallPanelId))&&this.reduceNavStack([q.CallFailurePromptId,q.SmsFailurePromptId,q.TasterPostCallPanelId],!1);else{const e=ce.rootViewIdForComponentContext(t);this.reduceModalNavStack([q.CallFailurePromptId,q.SmsFailurePromptId,q.TasterPostCallPanelId],e,!1)}}navigateToAndroidCallMonitorPermissionPanel(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToAndroidCallMonitorPermissionPanel, causeId: "+t),fe.default.isUIDisplayed()?this.launchModalEvent.fire({context:new q.AndroidCallMonitorPermissionNavigationContext(Object.assign({},e)),rootViewId:te.MainRootViewId,causeId:t}):J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToAndroidCallMonitorPermissionPanel, ui not displayed, causeId: "+t)}clearRightSidebarContext(e,t,i){return J.log(ne.LogTraceArea.Navigation,"NavigationActions.clearRightSidebarContext rootViewId: "+ee.mriOrId(i)+" partOfLargerChange: "+e+" causeId: "+t),this._clearRightSidebarContext(e,t,ce.rightSideBarNavigatorId)}clearMainModalContext(e,t){return this.clearModalContext(e,t,te.MainRootViewId)}clearModalContext(e,t,i){J.log(ne.LogTraceArea.Navigation,"NavigationActions.clearModalContext rootViewId: "+ee.mriOrId(i)+" partOfLargerChange: "+e+" causeId: "+t);const o=ce.modalNavigatorIdForRootViewId(i);return me.default.clearModalNavStack(o,e,!0,t),M.CompositeNavigationType.Modal}navigateAfterBlock(e,t,i){J.log(ne.LogTraceArea.Navigation,"NavigationActions._navigateAfterBlock, causeId: "+t),this.closeDetailsPanelForUser(e,t,i),me.default.getActiveConversationId(ce.rootViewIdForComponentContext(i))===e&&(he.default.isUsingStackNavigationContext()?this.navigateToHub(t):this.navigateToWelcomeScreen(t))}clearMainStageContext(e,t){const i=ce.mainContentNavigatorId;return J.log(ne.LogTraceArea.Navigation,"NavigationActions.clearMainStageContext navigatorId: "+n.pii.Omit(i)+" causeId: "+t),me.default.clearNavStack(i,!e,!1,t),M.CompositeNavigationType.MainContent}mainStageContextPopToRoot(e,t){const i=ce.mainContentNavigatorId;J.log(ne.LogTraceArea.Navigation,"NavigationActions.mainStageContextPopToRoot navigatorId: "+n.pii.Omit(i)+" causeId: "+t);const o=this.getLeftNavigationContext();return o&&ce.setLeftNavViewMode(o,q.LeftNavViewMode.Recents,t),me.default.clearNavStack(i,!e,!1,t),M.CompositeNavigationType.MainContent}navigateToWelcomeScreen(e){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToWelcomeScreen, causeId: "+e),he.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(e,te.MainRootViewId,((t,i)=>{const o=[];if(o.push(this.setMainAreaFullScreen(!1)),o.push(this.clearModalContext(t,e,te.MainRootViewId)),me.default.isSplitNavStackCollapsed(re.StackNavigatorId.DesktopContent))o.push(this.mainStageContextPopToRoot(t,i));else{const n=this.getLeftNavigationContext();n&&(ce.setLeftNavViewMode(n,q.LeftNavViewMode.Recents,e),o.push(M.CompositeNavigationType.LeftSidebar));const r=new q.WelcomeScreenContext({});o.push(this.navigateToMainStageContext(r,!0,t,i))}return r.compact(o)}))}navigateToMeetNowJoinLinkPanel(e){const t=E.default.newCauseId(),i=new d.MeetNowJoinLinkPanelNavigationContext(e);this.launchModalEvent.fire({context:i,rootViewId:te.MainRootViewId,modalId:e.modalId,causeId:t,onDismiss:e.onDismiss})}navigateToScreenSharePanel(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToScreenSharePanel, causeId: "+i),J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToScreenSharePanel, causeId: "+i+`rootViewId ${te.MainRootViewId} isUsingStackNavigationContext ${he.default.isUsingStackNavigationContext()}`),this.navigateAssertingUIStarted((()=>{const o=new q.ScreenShareModalContext(e);he.default.isUsingStackNavigationContext()||this.launchModalEvent.fire({context:o,rootViewId:te.MainRootViewId,modalId:t,causeId:i})}))}navigateToTogetherModePanel(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToTogetherModePanel, causeId: "+i);const o=he.default.isUsingStackNavigationContext();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToTogetherModePanel, causeId: "+i+`rootViewId ${te.MainRootViewId} isUsingStackNavigationContext ${o}`),this.navigateAssertingUIStarted((()=>{const n=new q.TogetherModeModalContext(e);o?me.default.navigateToView(n,i):this.launchModalEvent.fire({context:n,rootViewId:te.MainRootViewId,modalId:t,causeId:i})}))}navigateToTwincamPanel(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToTwincamPanel, causeId: "+t),this._commonNavigateToModal(q.TwincamModalContext,te.MainRootViewId,"navigateToTwincam",e)}getLeftNavigationContext(){const e=me.default.getCurrentStackNavigationContext(ce.mainContentNavigatorId,!1);if(e instanceof q.RootCompositeSplitViewContext)return e.getLeftNavigationContext()}setMainAreaFullScreen(e){const t=me.default.getCurrentStackNavigationContext(ce.mainContentNavigatorId,!1);return t instanceof q.RootCompositeSplitViewContext&&t.setMainAreaFullScreen(e),M.CompositeNavigationType.MainContent}navigateToMainStageContext(e,t,i,o){J.log(ne.LogTraceArea.Navigation,"NavigationActions: _navigateToMainStageContext, causeId: "+o);const n=ce.maybeUpdateDesktopNavContext(e,o);return me.default.stackNavigateToView(n,void 0,ce.mainContentNavigatorId,t?re.StackNavigationType.PopToRoot:re.StackNavigationType.Push,!i,o),(n instanceof q.DesktopContentPanelNavigationContext||n instanceof q.CallNavigationContext||n instanceof d.MeetNowNavigationContext)&&a.MainWindow.requestFocus(),M.CompositeNavigationType.MainContent}navigateToRightSidebarContext(e,t,i,o,n,r){return r?(this.navigateToModalContext(e,i,o,n),M.CompositeNavigationType.Modal):(J.log(ne.LogTraceArea.Navigation,"NavigationActions: _navigateToRightSidebarContext, causeId: "+o),me.default.desktopSidebarNavigateToView(e,void 0,ce.rightSideBarNavigatorId,t,!i,o),M.CompositeNavigationType.RightSidebar)}fetchMemberConsumptionHorizon(e){if(!se.default.getS4LMessagingFeatures().enableReadReceipts)return;if(v.isEncryptedThread(e)||v.isConversationWithPhoneNumber(e)||v.isBookmarkConversation(e))return;const t=(0,w.default)().getConversation(e);if(!t)return;if(t.isFake)return;const i=t.getThreadMembers().length;v.isThread(e)&&(0===i||i>20)||P.default.fetchMemberConsumptionHorizon(e)}navigateToDefaultConversation(){this.navigateAfterUIStarted((()=>{const e=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToDefaultConversation, causeId: "+e),this.navigateToConversation({causeId:e,origin:ne.NavigationConversationOrigin.NavToDefaultConv})}))}navigateAfterArchivingConversation(e,t,i){if(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateAfterArchivingConversation, causeId: "+t),he.default.isUsingStackNavigationContext())return void this.navigateToRecentsTab();this.closeDetailsPanel(t,i);const o=me.default.getActiveConversationId(ce.rootViewIdForComponentContext(i)),n=r.find(A.default.getAllSiblingConversations(e),(e=>e.id===o));(e===o||n)&&this.navigateToWelcomeScreen(t)}navigateAfterUnarchivingConversation(e,t,i){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateAfterUnarchivingConversation, causeId: "+t),he.default.isUsingStackNavigationContext();me.default.getActiveConversationId(ce.rootViewIdForComponentContext(i))===e&&(I.default.setConversationsListMode(ye.ConversationsListMode.AllConversations),this.clearModalContext(!0,t,te.MainRootViewId))}navigateToCompositeContext(e,t=[M.CompositeNavigationType.Default],i,o){this.navigateAfterUIStarted((()=>{if(this._forceRefreshOnNextNavigate)return this._forceRefreshOnNextNavigate=!1,void Z.reloadApp(e);me.default.compositeCommitNavigationUpdates(e,t,i,o)}))}navigateToHelpAndFeedbackLink(e,t,i,o,n={}){if($.isSsoEnabled())this.navigateToSsoWebFlow(e,"",i,o,[],!0,n);else{const i=$.getHelpAndFeedbackUrl(e,t,n);f.SsoWebFlowExternalBrowser.openExternalBrowser(i,o).then((()=>{J.track(new U.NavigationHelpAndFeedbackLink(i,!1))})).catch((()=>{J.track(new U.NavigationHelpAndFeedbackLink(i,!0))}))}}navigateToTranslationSettingsPanel(e,t){const i=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToTranslationSettingsPanel, causeId: "+i);const o=new q.TranslationSettingsPanelNavigationContext({});this.navigateAssertingUIStarted((()=>{he.default.isUsingStackNavigationContext()?me.default.navigateToView(o,i):this.navigateToModalContext(o,e,i,ce.rootViewIdForComponentContext(t))}))}navigateToPreSignOutPanel(e,t){this._commonNavigateToModal(q.PreSignOutPanelNavigationContext,e,"navigateToPreSignPanel",{logoutReason:t,showHeader:!0})}openSubtitles(e,t,i,o,n){J.log(ne.LogTraceArea.Navigation,"NavigationActions.openSubtitles, causeId: "+n);const r=ce.rootViewIdForComponentContext(o),a=new q.SubtitlesNavigationContext({reactionMri:e,conversationMri:t,callId:i});he.default.isUsingStackNavigationContext()?me.default.navigateToView(a,n):this.navigateToCompositeGroup(n,r,((e,t)=>{const i=[];return i.push(this.clearModalContext(!0,t,r)),i.push(this.navigateToRightSidebarContext(a,re.StackNavigationType.PopToRoot,e,t,r)),i}))}closeSubtitlesPanel(e,t){if(J.log(ne.LogTraceArea.Navigation,"NavigationActions: closeSubtitlesPanel,  causeId: "+e),he.default.isUsingStackNavigationContext())(me.default.isOnTopOfNavigationStack(q.SubtitlesNavigationId)||me.default.isUsingStackReactNavigationNoSubscription())&&this.goBack(e,t);else if(!this._maybePopToConversationInCall(e,t)){const i=ce.rootViewIdForComponentContext(t);this.navigateToCompositeGroup(e,i,((e,t)=>[this.clearRightSidebarContext(e,t,i)]))}}navigateToCallingDebugPanel(e,t,i=!1){const o=E.default.newCauseId();if(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallingDebugPanel, causeId: "+o),he.default.isUsingStackNavigationContext()){const t=new q.CallingDebugPanelNavigationContext({callId:e,nativeWindow:!1});me.default.navigateToView(t,o)}else this.navigateAssertingUIStarted((()=>{he.default.isUsingStackNavigationContext();new q.CallingDebugPanelNavigationContext({callId:e,nativeWindow:!0});if(me.default.shouldDisplayRightNavigationNoSubscription()){const i=new q.CallingDebugPanelNavigationContext({callId:e,nativeWindow:!1}),n=!!t&&t.isPresentedInDesktopRightNav;this.navigateToCompositeGroup(o,t.rootViewId,((e,o)=>[this.navigateToRightSidebarContext(i,n?re.StackNavigationType.Push:re.StackNavigationType.PopToRoot,e,o,t.rootViewId)]))}}))}navigateToBookmarkSource(e){const t=C.getBookmarkMetadata(e),i=t&&t.bookmarkSourceConversationId,o=t&&t.bookmarkSourceComposeTime;if(i&&o){const e=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions: navigateToBookmarkSource causeId: "+e),this.navigateToConversation({convId:i,scrollToTimestamp:r.toNumber(o),forceRefreshFocus:!0,origin:ne.NavigationConversationOrigin.BookmarkMessage,causeId:e})}}navigateToNotificationAugmentedPermissionPrompt(){const e=E.default.newCauseId(),t=new q.AugmentedPermissionsViewNavigationContext({});this.launchModalEvent.fire({context:t,rootViewId:te.MainRootViewId,causeId:e,permissionType:ae.PermissionType.Notifications})}navigateToFreeCallCongratsDialog(e,t){this.navigateAfterUIStarted((()=>{const i=E.default.newCauseId(),o=new Pe.CongratsDialogNavigationContext({isSuccessful:t});he.default.isUsingStackNavigationContext()?me.default.navigateToView(o,i):(J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToFreeCallCongratsDialog, causeId: "+i),this.navigateToModalContext(o,!1,i,e))}))}closeCallDebugPanel(e,t,i){if(i||this._maybePopToConversationInCall(e,t)){const e=ce.modalNavigatorIdForRootViewId(te.CallDebugRootViewId);a.default.closeNativeWindow(e)}else{const i=ce.rootViewIdForComponentContext(t);he.default.isUsingStackNavigationContext()?(me.default.isOnTopOfNavigationStack(q.CallingDebugPanelNavigationId)||me.default.isUsingStackReactNavigationNoSubscription())&&this.goBack(e,t):this.navigateToCompositeGroup(e,i,((e,t)=>[this.clearRightSidebarContext(e,t,i)]))}}showSpeechConsentPanel(e){const t=e.causeId;J.log(ne.LogTraceArea.Navigation,"NavigationActions.showSpeechConsentPanel, causeId: "+t),this._commonNavigateToModal(q.SpeechConsentNavigationContext,e.rootViewId,"navigateToSpeechConsentPanel",{})}showTranslationConsentPanel(e){J.log(ne.LogTraceArea.Navigation,`NavigationActions.showTranslationConsentPanel, causeId: ${e.causeId}`),this._commonNavigateToModal(q.TranslationConsentNavigationContext,e.rootViewId,"navigateToTranslationConsentPanel",{})}showTruVoiceConsentPanel(e){J.log(ne.LogTraceArea.Navigation,`NavigationActions.showTruVoiceConsentPanel, causeId: ${e.causeId}`),this._commonNavigateToModal(q.TruVoiceConsentNavigationContext,e.rootViewId,"navigateToTruVoiceConsentPanel",{})}openSplitView(e){this._openSplitView(e,E.default.newCauseId())}navigateToSendCreditPanel(e){const t=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToSendCreditPanel, causeId: "+t),J.track(new ve.PaymentStep(ne.PaymentFlowStep.ShowPanel,{location:ke.Location[ke.Location.SendCreditPanel]})),this._commonNavigateToModal(q.SendCreditPanelNavigationContext,e,"navigateToSendCreditPanel",{})}navigateToMediaGallery(e,t,i=re.StackNavigationDirection.Push){const o={customizedWidth:S.DefaultWidthForMediaGallery,customizedHeight:S.DefaultHeightForMediaGallery};this._commonNavigateToModal(q.MediaGalleryNavigationContext,e,"navigateToMediaGalleryModal",o,((e,t)=>{t&&(e.state.navigationDirection=i)}),t)}_maybePopToConversationInCall(e,t){const i=me.default.getCurrentStackNavigationContext(ce.rightSideBarNavigatorId,!1).getNavStack(),o=i?i[0]:void 0;if(o&&o instanceof q.ConversationInCallNavigationContext){J.log(ne.LogTraceArea.Navigation,"NavigationActions: _maybePopToConversationInCall popToRoot: true causeId: "+e);const i=ce.rootViewIdForComponentContext(t);return this.navigateToCompositeGroup(e,i,((e,t)=>[this.navigateToRightSidebarContext(o,re.StackNavigationType.PopToRoot,e,t,i)])),!0}return J.log(ne.LogTraceArea.Navigation,"NavigationActions: _maybePopToConversationInCall popToRoot: false causeId: "+e),!1}_openConversationInCallNext(e,t,i,o,n){if(J.log(ne.LogTraceArea.Navigation,"NavigationActions.openConversationInCallNext, causeId: "+e),!he.default.isUsingStackNavigationContext()){const r=ce.rootViewIdForComponentContext(o);me.default.getCompositeCallVisibleNoSubscription()&&this.navigateToCompositeGroup(e,r,((e,o)=>{const a=new q.ConversationInCallNavigationContext({conversationId:t,callId:i,onClose:n}),s=[];return s.push(this.clearModalContext(!0,o,r)),s.push(this.navigateToRightSidebarContext(a,re.StackNavigationType.PopToRoot,e,o,r)),this._startNavigateToConvScenario(t,ne.NavigationConversationOrigin.Call),s}))}}_closeConversationInCallNext(e,t){if(J.log(ne.LogTraceArea.Navigation,"NavigationActions.closeConversationInCallNext, causeId: "+e),he.default.isUsingStackNavigationContext())return;const i=ce.rootViewIdForComponentContext(t);this.navigateToCompositeGroup(e,i,((e,t)=>{const o=[];return o.push(this.clearRightSidebarContext(e,t,i)),o}))}_clearRightSidebarContext(e,t,i){return J.log(ne.LogTraceArea.Navigation,"NavigationActions._clearRightSidebarContext navigatorId: "+n.pii.Omit(i)+" partOfLargerChange: "+e+" causeId: "+t),me.default.clearDesktopSidebarNavStack(i,!e,!0,t),M.CompositeNavigationType.RightSidebar}_stackNavNavigateBack(e){return J.log(ne.LogTraceArea.Navigation,"NavigationActions._stackNavNavigateBack, causeId: "+e),me.default.stackNavNavigateBack(!1,e)}_modalNavigateBack(e,t){const i=ce.modalNavigatorIdForComponentContext(t);J.log(ne.LogTraceArea.Navigation,"NavigationActions._modalNavigateBack navigatorId: "+n.pii.Omit(i)+" causeId: "+e);return me.default.stackNavNavigateBack(!1,e,i,M.CompositeNavigationType.Modal)||this._closeGenericDesktopModal(e,i),!0}_desktopContentNavigateBack(e,t){const i=ce.mainContentNavigatorId,o=me.default.getCurrentNavigationBackStack(i).length,n=me.default.stackNavNavigateBack(!1,e,i,M.CompositeNavigationType.MainContent);return J.log(ne.LogTraceArea.Navigation,"NavigationActions._desktopContentNavigateBack backStackSizeBefore: "+o+" handled: "+n+" causeId: "+e),(!n||me.default.getCurrentNavigationBackStack(i).length<=1)&&this.navigateToCompositeGroup(e,ce.rootViewIdForComponentContext(t),(()=>[])),o>1}_rightSidebarNavigateBack(e){const t=ce.rightSideBarNavigatorId;J.log(ne.LogTraceArea.Navigation,"NavigationActions._rightSidebarNavigateBack navigatorId: "+n.pii.Omit(t)+" causeId: "+e);return me.default.stackNavNavigateBack(!1,e,t,M.CompositeNavigationType.RightSidebar)||me.default.clearNavStack(t,!0,!0,e),!0}_closeGenericDesktopModal(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions: _closeGenericDesktopModal navigatorId: "+n.pii.Omit(t)+" causeId: "+e),he.default.isUsingStackNavigationContext()||me.default.clearModalNavStack(t,!0,!0,e)}_getScenarioByConversationId(e){return this._scenarioLookupByConversationId[e]}_getScenarioIdForConversationId(e){return ee.mriOrId(e)+"Navigation"}_getScenarioIdForAnimation(e){return ee.mriOrId(e)+"Animation"}_startNavigateToConvScenario(e,t,i){const o={origin:ne.NavigationConversationOrigin[t]};r.isUndefined(i)||(o.browserOrigin=ne.BrowserOrigin[i]);const n=this._getScenarioIdForConversationId(e),a=new K.default(H.ScenarioName.StreamFrom,n,o);this._scenarioLookupByConversationId[e]=a,a.start(),m.default.willNavigateToChat()}_navigateToCallingSettingsEntryDesktop(e,t,i,o,n,r,a,s){J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallingSettingsEntryDesktop, causeId: "+a),this.navigateAssertingUIStarted((()=>{he.default.isUsingStackNavigationContext();const l=new q.CallingSettingsEntryNavigationContext({link:e,source:t,goTarget:o,title:i,enableWebViewBackNavigation:n,titleAccessibilityRegion:s});this.navigateToModalContext(l,!1,a,ce.rootViewIdForComponentContext(r))}))}_navigateToCallingSettingsHeaderAuthWebFlow(e,t,i,o,n,r=[],a,s,l,c){const d=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions.navigateToCallingSettingsHeaderAuthWebFlow, causeId: "+d),this.navigateAssertingUIStarted((()=>{if(he.default.isUsingStackNavigationContext()){const c=new q.CallingSettingsHeaderAuthWebFlowNavigationContext({link:e,source:t,goTarget:n,title:i,titleAllowTextWrap:o,useDocumentTitle:s,pathsRequiringHeaders:r,disableSpinnerAfterGoLink:a,enableWebViewBackNavigation:l});me.default.navigateToView(c,d)}else{const o=new q.CallingSettingsEntryNavigationContext({link:e,source:t,goTarget:n,title:i,enableWebViewBackNavigation:l});this.navigateToModalContext(o,!1,d,ce.rootViewIdForComponentContext(c))}}))}_sendConversationNavigationTelemetry(e,t,i,o){let n;if(!e.isNewConversation){const e=(0,w.default)().getConversation(t);if(n=e?e.getTimestamp():0,n>0){const e=Date.now();n>e&&(n=e-1)}else n=e?e.getConsumptionHorizonTimestamp():0}const r=A.default.getAllSiblingConversations(t).length;J.track(new U.NavigationConversation(t,e.origin,e.browserOrigin,n,r,i,o,e.callId))}_getConversationNavigationContext(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions: _getConversationNavigationContext, conversationId: "+ee.mriOrId(t)+" causeId: "+e.causeId);const i=(0,w.default)().getConversation(t),o=i&&i.isOneOnOne()?i.getOtherPartyMri():void 0;return new q.ConversationNavigationContext({conversationId:t,otherPartyMri:o,isNewConversation:e.isNewConversation,contextConversationId:e.contextConversationId,scrollToTimestamp:e.scrollToTimestamp,focusedMessageCuid:e.focusedMessageCuid,forceRefreshFocus:e.forceRefreshFocus?Date.now():void 0,shouldAutoFocusInput:e.shouldAutoFocusInput,shouldFlattenNavOnInteraction:e.shouldFlattenNavOnInteraction,inviteToken:e.inviteToken,selectedNumberForSMS:e.selectedNumberForSMS,origin:e.origin,isFromPeopleRecommendations:e.isFromPeopleRecommendations,directShareEventData:e.directShareEventData,causeId:e.causeId?e.causeId:E.default.newCauseId(),hideBackButton:e.hideBackButton,openMagicBotToolboxByDefault:e.openMagicBotToolboxByDefault})}_getMobileContentPanelContext(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions: _getContentPanelContext, convId: "+ee.mriOrId(e.convId)+" causeId: "+e.causeId);const i=new q.MobileContentPanelNavigationContext({shouldResetNavStack:e.shouldResetNavStack,shouldReplaceCurrentContext:e.shouldReplaceCurrentContext,shouldHideAllExtraControls:!1});return i.setConversationContext(t.state),i}_routeTypeForContext(e){return e instanceof q.MobileHubNavigationContext||e instanceof q.ConversationsListNavigationContext?Q.RouteType.Hub:e instanceof q.MobileContentPanelNavigationContext?Q.RouteType.Content:e instanceof q.SearchNavigationContext?Q.RouteType.Search:e instanceof q.ContactsPanelV2NavigationContext?Q.RouteType.ContactsPanel:e instanceof q.QuickCallNavigationContext&&e.state.searchOnly?Q.RouteType.Search:Q.RouteType.Other}_fetchLatestUserInfoNow(){const e=E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions._fetchLatestUserInfoNow, causeId: "+e),R.default.refreshNow(),ge.default.refreshNow(e),Se.default.refreshNow(),J.log(ne.LogTraceArea.Navigation,"User info refresh requested")}_openSplitView(e,t){J.log(ne.LogTraceArea.Navigation,"NavigationActions._openSplitView rootViewId: "+ee.mriOrId(e)+" causeId: "+t);const i={event:{eventId:e,convId:e},reactxp_rootViewId:e},o=h.default.getWindowPreferences(e)||h.default.getDefaultWindowPreferences();let n;v.isMri(e)&&(n=de.default.getDisplayName(v.asMri(e)),v.isBookmarkConversation(e)&&(n=Y.getString("BookmarksConversation.BookmarksChatTitle"))),a.default.openSplitView(e,"RootContentView",i,o,n||"",((t,i)=>h.default.storeWindowPreferences(e,t,i)))}_commonNavigateToModal(e,t,i,o,n,r){const a=r||E.default.newCauseId();J.log(ne.LogTraceArea.Navigation,"NavigationActions."+i+", causeId: "+a),fe.default.performAfterUIStarted((()=>{const i=new e(o);if(he.default.isUsingStackNavigationContext()){if(me.default.isOnTopOfNavigationStack(i.stateId))return;n&&n(i,!0),me.default.navigateToView(i,a)}else n&&n(i,!1),this.navigateToModalContext(i,!1,a,t)}))}_shouldNavigateToMsaLinkingFlow(e,t,i){return V.default.getUserAccountType()===V.UserAccountType.PhoneAuth&&(J.log(ne.LogTraceArea.Navigation,`NavigationActions -> navigate to ${e} - redirecting phone user to MSA linking flow, causeId: ${i}`),this.navigateToLinkMsaToPhoneNumberAccountFlow(e,t),!0)}}},551302:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.endPrivateConversation=function(e,t,i){const o=[{text:c.getString("Global.CancelLabel"),isCancel:!0},{text:c.getString("InfoPanel.EndConversationButton"),onPress:()=>{const o=a.asSkypeThreadId(e);s.default.sendReject(o,l.E2EERejectionReason.ConversationEnding).then(i||n.noop,(()=>r.default.showErrorAlert(c.getString("InfoPanel.EndConversationFailed"),t)))},isSubmit:!0}],d=c.getString("InfoPanel.EndConversationDialogTitle"),u=c.getString("InfoPanel.EndConversationDialogBody");r.default.showWithOptions({title:d,dialogAccessibilityTitle:u,message:u,buttons:o,rootViewId:t})},t.showPrivateConversationSafeCode=function(e,t){d.default.showForConversationId(e,t)};const o=i(197582),n=i(496486),r=o.__importDefault(i(206483)),a=o.__importStar(i(44717)),s=o.__importDefault(i(109367)),l=i(815146),c=o.__importStar(i(704704)),d=o.__importDefault(i(748117))},489195:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.redirectToLogout=function(e,t,i,o=r.MainRootViewId){const n=p.default.newCauseId();s.log(a.LogTraceArea.Navigation,"SisuNavigationActions.redirectToLogout",n),_(o,n,new m.RedirectToLogoutNavigationContext({reason:e,alwaysWipeDb:t,shouldRememberAccount:i,isRedirectToLogin:!1}))},t.redirectToLogin=function(e,t){const i=p.default.newCauseId();s.log(a.LogTraceArea.Navigation,"SisuNavigationActions.redirectToLogin, causeId: "+i),_(r.MainRootViewId,i,new m.RedirectToLogoutNavigationContext({reason:e,errorInfo:t,isRedirectToLogin:!0}))};const o=i(197582),n=o.__importStar(i(720415)),r=i(154235),a=i(815146),s=o.__importStar(i(85385)),l=o.__importDefault(i(740794)),c=o.__importDefault(i(942724)),d=o.__importDefault(i(450312)),u=o.__importDefault(i(506082)),p=o.__importDefault(i(760989)),g=i(815146),h=o.__importStar(i(757838)),m=o.__importStar(i(812822)),S=o.__importDefault(i(855191));function _(e,t,i){if(!u.default.isUIDisplayed()){let e;return e=i.state.isRedirectToLogin?S.default.handleRedirectToLogin(i.state.reason,i.state.errorInfo):S.default.handleRedirectToLogout(i.state.reason,i.state.alwaysWipeDb),void e.then((e=>S.default.logoutFinish(e,i.state.isRedirectToLogin)))}u.default.performAfterUIStarted((()=>{c.default.isUsingStackNavigationContext()?l.default.navigateAfterUIStarted((()=>{d.default.navigateToView(i,t),l.default.reduceNavStack([])})):(i.state.reason!==g.LogoutReason.AccountSettings&&i.state.reason!==g.LogoutReason.CloseAccount&&i.state.reason!==g.LogoutReason.SignOutFromAllDevices||(l.default.closeGenericDesktopModal(t,e),n.default.closeNativeWindow(e),n.MainWindow.requestFocus()),l.default.navigateToCompositeGroup(t,e,((o,n)=>{const r=[];r.push(l.default.clearModalContext(o,n,e)),r.push(l.default.navigateToMainStageContext(i,!0,o,n)),s.log(a.LogTraceArea.Navigation,"SisuNavigationActions.navigateToFullScreenPanel, setup left navigation, causeId: "+t);const c=l.default.getLeftNavigationContext();if(c){const e=h.defaultLeftNavViewMode(m.MainStageNavViewMode.Sisu,i,!1);r.push(h.setLeftNavViewMode(c,e,n))}return r.push(l.default.clearRightSidebarContext(o,n,e)),r})))}))}},375576:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.navigateToModal=function(e,t,i,o){if(l.default.isUsingStackNavigationContext()){if(c.default.isOnTopOfNavigationStack(e.stateId))return;c.default.navigateToView(e,i)}else{const n=(0,a.modalNavigatorIdForRootViewId)(o),r=c.default.getCurrentStackNavigationContext(n,!1);c.default.modalNavigateToView(e,r.getMasterContext(),n,t,!0,i)}},t.navigateToLeftStage=function(e,t,i){l.default.isUsingStackNavigationContext()?c.default.navigateToView(e,t):g(e.state.viewModeHistory.peek(),t,i)},t.navigateBackToLeftStageRoot=function(){const e=s.default.getLeftNavigationContext();if(!e)return;e.state.searchViewModeContext=r.LeftNavViewMode.None;g(e.state.viewModeHistory.getRootItem()||e.state.searchViewModeContext||r.LeftNavViewMode.Recents,p.default.newCauseId(),d.MainRootViewId,n.LeftPaneNavigationDirection.Push)},t.navigateBackInLeftStage=function(){const e=s.default.getLeftNavigationContext();if(!e)return;e.state.searchViewModeContext=r.LeftNavViewMode.None,g(e.state.searchViewModeContext||r.LeftNavViewMode.Recents,p.default.newCauseId(),d.MainRootViewId,n.LeftPaneNavigationDirection.Pop)},t.navigateToMainStage=function(e,t,i){l.default.isUsingStackNavigationContext()?c.default.navigateToView(e,i):s.default.navigateToCompositeGroup(i,d.MainRootViewId,(()=>(s.default.navigateToMainStageContext(e,t,!1,i),[u.CompositeNavigationType.MainContent])))};const o=i(197582),n=i(562775),r=i(812822),a=i(757838),s=o.__importDefault(i(740794)),l=o.__importDefault(i(942724)),c=o.__importDefault(i(450312)),d=i(154235),u=i(113002),p=o.__importDefault(i(760989));function g(e,t,i,o=n.LeftPaneNavigationDirection.Push){s.default.navigateToCompositeGroup(t,i,(()=>{const i=s.default.getLeftNavigationContext();return i&&(0,a.setLeftNavViewMode)(i,e,t,o),[u.CompositeNavigationType.LeftSidebar]}),!1)}},906908:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.navigateToSXPlayground=function(e){(0,s.navigateToLeftStage)(new r.SXPlaygroundNavigationContext({viewModeHistory:new n.ViewModeHistory(r.LeftNavViewMode.SXPlayground),withHeader:e}),o.default.newCauseId(),a.MainRootViewId)},t.navigateToSXPlaygroundScreen=function(e){(0,s.navigateToMainStage)(new r.SXPlaygroundScreenNavigationContext({screenId:e}),!1,o.default.newCauseId())};const o=i(197582).__importDefault(i(760989)),n=i(562775),r=i(812822),a=i(154235),s=i(375576)},723013:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(662783),r=o.__importStar(i(397691)),a=o.__importStar(i(62712)),s=o.__importDefault(i(150343)),l=o.__importDefault(i(404547)),c=i(815146),d=o.__importStar(i(85385)),u=o.__importDefault(i(769956)),p=o.__importDefault(i(782829)),g=o.__importStar(i(446574)),h=o.__importDefault(i(601274)),m=o.__importDefault(i(800449)),S=o.__importDefault(i(363091)),_=i(716266),f=o.__importDefault(i(475997));class y{constructor(e,t,i,o,r){this._name=e,this._setActiveEndpoint=t,this._isConnected=i,this._isEnabled=o,this._aeTimerEnabled=r,this._exponentialTime=new n.ExponentialTime(1e3,3e5)}_report(){var e;this._retryTimer&&(h.default.clearTimeout(this._retryTimer),this._retryTimer=void 0);const t="ChatService"===this._name?p.default.getEndpointId():f.default.getEndpointId();if(t&&this._shouldReport()){const i=a.default.isActive();if(i||(null===(e=a.default.getLastUpdatedInfo(this._name))||void 0===e?void 0:e.active)){let e;e=i?a.AETimeoutInSeconds:s.default.getConfigSettingsNoSubscription().endpointPresence.inactiveDelay/1e3,d.log(c.LogTraceArea.ActiveEndpointService,`[${this._name}] Endpoint is ${i?"":"not "}active, setting timeout to ${e}`),a.default.setLastUpdatedInfo(this._name,{active:i,timestamp:Date.now()}),this._setActiveEndpoint(t,i,e).then((()=>{this._exponentialTime.reset()}),(e=>{this._retryTimer=h.default.setTimeout((()=>this._report()),this._exponentialTime.getTimeAndCalculateNext())}))}else d.log(c.LogTraceArea.ActiveEndpointService,`[${this._name}] Endpoint was already set to inactive before`)}}reportIfNeeded(e=!1){this._reportIsActive()?!this._isConnected()||this._aeTimer&&!e||(this._report(),this._aeTimerEnabled?(this._aeTimer&&h.default.clearInterval(this._aeTimer),this._aeTimer=h.default.setInterval((()=>{this._report()}),1e3*a.AETimerDurationInSeconds)):this._aeTimer=h.default.setTimeout((()=>{}),0)):this._aeTimer&&(h.default.clearInterval(this._aeTimer),this._aeTimer=void 0,this._report())}_reportIsActive(){return a.default.isActive()&&!!p.default.getEndpointId()}_shouldReport(){return this._isEnabled()&&(this._isConnected()||!a.default.isActive())}}t.default=new class{constructor(){this._activityReporters=[new y("ChatService",((e,t,i)=>l.default.serviceSetActiveEndpointTimeout(e,i)),(()=>l.default.isConnected()),(()=>s.default.getConfigSettingsNoSubscription().presence.enableLegacyPresence),!0),new y("UPS",((e,t,i)=>t&&!S.default.isGuestUser()?u.default.upsSetActiveEndpointTimeout(e,t,_.UPSCallReasons.EndpointActivityTimeout):r.Resolved()),(()=>!0),(()=>s.default.getConfigSettingsNoSubscription().presence.enableUpsPresence&&!s.default.getConfigSettingsNoSubscription().endpointPresence.trouterUserStatusEnabled),!0),new y("Trouter",((e,t,i)=>t&&!S.default.isGuestUser()?m.default.setUserActivityState(e,t):r.Resolved()),(()=>m.default.isConnected()),(()=>s.default.getConfigSettingsNoSubscription().endpointPresence.trouterUserStatusEnabled),!1)],g.RegisterStartupable(this,"ActiveEndpointService",[a.default,l.default,u.default,m.default,f.default])}startup(){return p.default.endpointInfoChanged.subscribe(((e,t)=>{e.id!==t.id&&this._reportEndpointActivityIfNeeded()})),a.default.subscribe((()=>{this._reportEndpointActivityIfNeeded()})),s.default.subscribe((()=>{this._reportEndpointActivityIfNeeded()})),l.default.reconnected.subscribe((()=>{this._reportEndpointActivityIfNeeded(!0)})),this._reportEndpointActivityIfNeeded(),Promise.resolve()}_reportEndpointActivityIfNeeded(e=!1){for(const t of this._activityReporters)t.reportIfNeeded(e)}}},660335:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importDefault(i(309628)),r=(o.__importDefault(i(275502)),i(815146)),a=o.__importStar(i(637961)),s=o.__importStar(i(85385)),l=o.__importStar(i(446574)),c=(o.__importDefault(i(655192)),o.__importDefault(i(139221))),d=o.__importDefault(i(201721));t.default=new class{constructor(){this._running=!1,l.RegisterStartupable(this,"AppCenterService")}startup(){return c.default.getAppCenterSecret()?(n.default.configure({applicationSecret:c.default.getAppCenterSecret(),attachLogsToCrash:!1,detectAppNotTerminatingCleanly:!1}),n.default.start(),this._running=!0):s.error(r.LogTraceArea.AppCenter,"Skipping - no AppCenter secret provided"),this.checkForUpdates(),a.default.queueIdleTask("AppCenter configureAttachment",a.TaskTypeFlags.CpuIntensive,(()=>n.default.configureAttachment(d.default.shouldSendOptionalTelemetryData()))),Promise.resolve()}onSkypeId(e){}checkForUpdates(){s.log(r.LogTraceArea.AppCenter,"Ignoring check for updates - PUBLIC build")}addCrashMetaData(e){n.default.addCrashMetadata(e)}}},17421:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OnMetricsUpdated=void 0;const o=i(197582),n=o.__importDefault(i(331654)),r=o.__importDefault(i(974634)),a=o.__importStar(i(397691)),s=o.__importDefault(i(150343)),l=o.__importStar(i(446574)),c=o.__importDefault(i(601274));t.OnMetricsUpdated=new r.default;t.default=new class{constructor(){this._updatePerformanceMetrics=()=>a.all([n.default.getSystemUsage(),n.default.getAppMetrics()]).then((e=>{const[i,o]=e;this._metrics={systemUsageInfo:i,gpu:o?o.find((e=>"GPU"===e.type)):void 0,renderer:o?o.find((e=>"Tab"===e.type)):void 0},t.OnMetricsUpdated.fire()})),l.RegisterStartupable(this,"AppMetricsService")}startup(){return this._updatePerformanceMetrics(),Promise.resolve()}startTrackingPerformance(){if(!this._refreshSystemInfoIntervalToken){const e=s.default.getS4LCMCFeatures().perfomanceTelemetryTimeoutInterval;this._refreshSystemInfoIntervalToken=c.default.setInterval(this._updatePerformanceMetrics,e),this._updatePerformanceMetrics()}}stopTrackingPerformance(){this._refreshSystemInfoIntervalToken&&(c.default.clearInterval(this._refreshSystemInfoIntervalToken),this._refreshSystemInfoIntervalToken=void 0)}getPerformanceMetrics(){return this._metrics}isTracking(){return!!this._refreshSystemInfoIntervalToken}}},104121:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(446574)),r=o.__importDefault(i(450312)),a=o.__importDefault(i(92477)),s=o.__importDefault(i(449642)),l=i(82485),c=i(199789),d=o.__importStar(i(812822)),u=i(938827),p=o.__importDefault(i(942724)),g=o.__importDefault(i(506082));t.default=new class{constructor(){this._shouldShowAppRatingDialog=!1,this._maybeShowAppRatingDialog=()=>{this._shouldShowAppRatingDialog=a.default.shouldShowAppRatingDialog()&&!this._shouldDismissAppRatingDialog(),this._shouldShowAppRatingDialog&&(l.Instrumentation.track(new c.AppRatingDialogTelemetryEvent(c.AppRatingDialogAction.ShouldShowDialog,a.default.getTriggeredAppRatingMetric())),s.default.show())},n.RegisterStartupable(this,"AppRatingService",[r.default])}startup(){return r.default.subscribe(this._maybeShowAppRatingDialog),this._maybeShowAppRatingDialog(),Promise.resolve()}_shouldDismissAppRatingDialog(){if(p.default.isUsingStackNavigationContext()){if(!r.default.isOnTopOfNavigationStack(d.MobileHubNavigationId))return!0}else if(r.default.getNavigationStackSize(u.StackNavigatorId.DesktopModal)>0)return!0;return!!g.default.isInCall()}showAppRatingDialog(){return this._shouldShowAppRatingDialog}}},856820:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(662783),r=o.__importStar(i(766698)),a=o.__importStar(i(235256)),s=o.__importDefault(i(740794)),l=o.__importStar(i(892135)),c=o.__importStar(i(446574)),d=o.__importDefault(i(139221)),u=o.__importDefault(i(601274));t.default=new class{constructor(){this._checkVersion=()=>new n.GenericRestClient(d.default.getFrontendBaseUrl()+"/version").performApiGet("").then((e=>{e&&e.AppVersion!==d.default.getAppVersion()&&(s.default.forceRefreshOnNextNavigation(),u.default.setTimeout((()=>{l.reloadApp("app-needs-to-be-updated")}),6e5+3e5*r.random()))})),c.RegisterStartupable(this,"AppUpdateService",[a.default])}startup(){return a.default.setRefreshOptions("AppUpdateService",{interval:18e5,callback:this._checkVersion,taskTypeFlags:a.TaskTypeFlags.UsesNetworking}),Promise.resolve()}}},532803:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Test_CheckUrlRequest=void 0;const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=o.__importDefault(i(200466)),s=i(662783),l=o.__importStar(i(397691)),c=o.__importDefault(i(150343)),d=i(815146),u=o.__importDefault(i(128522)),p=i(49463),g=o.__importStar(i(85385)),h=o.__importDefault(i(652032)),m=o.__importDefault(i(591371)),S=o.__importStar(i(446574)),_=o.__importDefault(i(655192)),f=o.__importDefault(i(15485)),y=i(911016),C=o.__importDefault(i(760989));var v;!function(e){e.supportsUrlRequest=function(e){return!!e.downloadToUri}}(v||(t.Test_CheckUrlRequest=v={})),t.default=new class{constructor(){this._deferredTransferQueue=[],S.RegisterStartupable(this,"BackgroundTransferService",[h.default,u.default,m.default,f.default])}startup(){return this._transfers={},this._webRequests={},this._subscribers={},this._progressSubscribers={},this._cachedProgressForTransfer={},this._transferResponseQueueSubscription&&(this._transferResponseQueueSubscription.unsubscribe(),this._transferResponseQueueSubscription=void 0),m.default.subscribe(y.BackgroundTransferActionType,((e,t)=>{const i=C.default.newCauseId();g.log(d.LogTraceArea.BackgroundTransferService,"start transfer(s), restored from db: "+t+", causeId: "+i),r.each(e,(e=>{g.log(d.LogTraceArea.BackgroundTransferService,"Tracking Transfer: "+e.id+": "+e.action+" "+n.pii.Omit(e.url)),e.androidDownloadToPublicFolderWithName&&(e.downloadToPublicFolderWithName=e.androidDownloadToPublicFolderWithName),e.downloadToPublicFolderWithName&&(e.downloadToPublicFolder=!0,e.filename=e.downloadToPublicFolderWithName),this._shouldCancelRequestOnRestart(e)?this._cancelTransfer(e,i):(this._transferNeedsRestartAcrossSessions(e)&&(e.started=!1,m.default.updateAction(e)),this._transfers[e.id]=e,this._reportProgress(e.id,0,e.finished,e.finishSuccess),this._checkForNeededWork(e.id))})),t&&(this._transferResponseQueueSubscription||(this._transferResponseQueueSubscription=f.default.event_response.subscribe((()=>{this._handleResponses()}))),this._handleResponses())})),f.default.event_progress.subscribe(((e,t)=>{this._reportProgress(e,t,!1,!1)})),l.Resolved()}test_reset(){this._subscribers={}}test_getDeferredTransferCount(){return this._deferredTransferQueue.length}_handleResponses(){const e=f.default.drainResponseQueue();r.each(e,(e=>{const{id:t,success:i,response:o}=e,n=this._getResponseBody(o.body,o.headers["content-type"]),r=e.success?void 0:e.response.error;this._finishedTransfer(t,i,o.statusCode,void 0,o.headers,n,r)}))}_getResponseBody(e,t){return!t||"json"!==t&&-1===t.indexOf("application/json")?e:_.default.parseJsonWithDefault(e,{})}_shouldCancelRequestOnRestart(e){return e.started&&!!e.downloadToUri}_transferNeedsRestartAcrossSessions(e){return!(!e.started||e.finished)&&(!this._supportsTransfersAcrossSessions(e)||!f.default.wasTransferIdKnownDuringStartup(e.id))}_supportsTransfersAcrossSessions(e){return v.supportsUrlRequest(e)}subscribe(e,t){this._subscribers[e]=t,this._seeIfAnythingNeedsDoing()}startTransfer(e){const t=e;t.started=!1,t.finished=!1;return m.default.persistAndStartAction(y.BackgroundTransferActionType,t).id}_endTransfer(e){delete this._transfers[e],delete this._cachedProgressForTransfer[e],m.default.removeAction(e);const t=this._deferredTransferQueue.shift();t&&t.resolve(void 0)}cancelTransfer(e,t){g.log(d.LogTraceArea.BackgroundTransferService,"Canceling Background Transfer: "+e+", causeId: "+t);const i=this._transfers[e];i&&this._cancelTransfer(i,t)}_cancelTransfer(e,t){if(this._endTransfer(e.id),e.started){v.supportsUrlRequest(e)&&a.default.cancel(e.id);const i=this._webRequests[e.id];i&&(g.log(d.LogTraceArea.BackgroundTransferService,"BTS aborting in-flight webrequest: "+e.id+", causeId: "+t),i.abort(),delete this._webRequests[e.id])}this._reportProgress(e.id,0,!0,!1)}transferIsTracked(e){return!!e&&!!this._transfers[e]}_checkForNeededWork(e){let t=this._transfers[e];if(!t.started){if(v.supportsUrlRequest(t)){const i=r.clone(t.headers);let o;(t.postData||t.postFileUri||t.contentType)&&(o=s.SimpleWebRequest.mapContentType(t.contentType||"json"));const n=s.SimpleWebRequest.mapContentType(t.acceptType||"json"),d=t.postData?s.SimpleWebRequest.mapBody(t.postData,o):void 0;if(!d||r.isString(d)){const s=t.postFileUri?p.FileUploadCacheUtils.getAbsoluteFromLocalCacheUri(t.postFileUri):void 0,u=c.default.getS4LMessagingFeaturesNoSubscription().backgroundTransfersInFlightLimit;let g;if(u&&r.size(this._transfers)>u){const e=l.Defer();g=e.promise(),this._deferredTransferQueue.push(e)}else g=l.Resolved();g.then((()=>{t=this._transfers[e],t&&a.default.send(e,t.action,t.url,{headers:i,acceptType:n,contentType:o,sendFileUri:s,sendData:d,downloadToUri:t.downloadToUri,filename:t.filename,downloadToPublicFolder:t.downloadToPublicFolder,downloadPublicFolderUseSkypeFolder:t.downloadPublicFolderUseSkypeFolder,withCredentials:t.withCredentials,timeout:t.timeout||void 0,progressTimeout:t.progressTimeout,resumable:t.resumable,resumableUploadStatusUrl:t.resumableUploadStatusUrl,resumableAttemptsSoFar:t.resumableAttemptsSoFar,quarantineDownloadedFile:c.default.getS4LNativePlatformsEcsConfigNoSubscription().enableMacOSQuarantineFlagForDownloadedFiles,notificationId:t.notificationId})})),t.started=!0}}if(!t.started){t.headers,t.postFileUri;{const i={overrideGetHeaders:t.headers,acceptType:t.acceptType,contentType:t.contentType,sendData:t.postData,onProgress:t=>{this._reportProgress(e,t.total?t.loaded/t.total:0,!1,!1)},priority:t.priority,timeout:t.timeout,withCredentials:!!t.withCredentials},o=new s.SimpleWebRequest(t.action,t.url,i);this._webRequests[e]=o,o.start().then((t=>{this._finishedTransfer(e,!0,t.statusCode,t.statusText,t.headers,t.body)}),(t=>{this._finishedTransfer(e,!1,t.statusCode,t.statusText,t.headers,t.body,t.timedOut?"Timeout":t.canceled?"Canceled":void 0)}))}}t.started=!0,m.default.updateAction(t)}if(!t.finished)return;const i=this._subscribers[t.subscriberType];if(i){const o={body:t.responseData,headers:t.responseHeaders||{},method:t.action,statusCode:t.statusCode||0,statusText:t.statusText||"",url:t.url,errorInfo:t.errorInfo};i(e,t.context,!!t.finishSuccess,o,t.headers||{},t.subscriberType),this._endTransfer(t.id)}}_seeIfAnythingNeedsDoing(){const e=r.keys(this._transfers);r.each(e,(e=>{this._checkForNeededWork(e)}))}_finishedTransfer(e,t,i,o,r,a,s){delete this._webRequests[e];const l=this._transfers[e];g.log(d.LogTraceArea.BackgroundTransferService,"Transfer Completed: "+e+", Worked: "+t+", StatusCode: "+i+", StatusText: "+o+", known: "+!!l+(s?", Failure: "+n.pii.Omit(s):"")),l&&(l.finished=!0,l.finishSuccess=t,l.statusCode=i,l.statusText=o,l.responseHeaders=r,l.responseData=a,l.errorInfo=s,m.default.updateAction(l),this._reportProgress(e,t?1:0,!0,t),this._checkForNeededWork(e))}subscribeToProgress(e,t){this._progressSubscribers[e]?this._progressSubscribers[e].push(t):this._progressSubscribers[e]=[t]}unsubscribeFromProgress(e,t){r.pull(this._progressSubscribers[e],t),0===this._progressSubscribers[e].length&&delete this._progressSubscribers[e]}getProgress(e){return this._cachedProgressForTransfer[e]}_reportProgress(e,t,i,o){const n={progress:t,finished:i,success:!!o},a=!!this._transfers[e];if(a&&(this._cachedProgressForTransfer[e]=n,!this._progressSubscribers[e]))return;g.log(d.LogTraceArea.BackgroundTransferServiceDebug,"Progress report: "+e+", progress: "+t.toFixed(4)+", finished: "+i+", success: "+o+", known: "+a);const s=r.clone(this._progressSubscribers[e]);r.each(s,(t=>t(e,n)))}}},581144:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(304623)),a=o.__importStar(i(44717)),s=o.__importDefault(i(615364)),l=i(815146),c=o.__importStar(i(85385)),d=o.__importDefault(i(855191)),u=o.__importDefault(i(363091)),p=o.__importDefault(i(740794)),g=o.__importStar(i(812822)),h=o.__importDefault(i(942724)),m=o.__importDefault(i(450312)),S=o.__importStar(i(437782)),_=i(928722),f=o.__importStar(i(446574)),y=o.__importDefault(i(760989));t.default=new class{constructor(){f.RegisterStartupable(this,"CheckForValidNavigationStateService",[r.default,s.default])}startup(){return(0,s.default)().subscribe((()=>this._checkState("ConversationsStore"))),r.default.messagesProcessed.subscribe((()=>this._checkState("ChatServiceDataService"))),this._checkState("startup"),Promise.resolve()}_checkState(e){n.defer((()=>{let t;const i=h.default.isUsingStackNavigationContext(),o=i?_.StackNavigatorId.Mobile:_.StackNavigatorId.DesktopContent;let n=!1;const r=m.default.getCurrentNavigationStackRoute(o);if((null==r?void 0:r.name)===g.CallNavigationId){t=(null==r?void 0:r.params).initialConversationMri,n=a.isPhoneMri(t)}else if((null==r?void 0:r.name)===g.ConversationNavigationId){t=(null==r?void 0:r.params).conversationId}if(t&&!n&&!(0,s.default)().ableToViewConversation(t)){const o=y.default.newCauseId();c.log(l.LogTraceArea.Navigation,"CheckForValidNavigationStateService._checkState not able to view currentConversationId: "+S.mriOrId(t)+" reason: "+e+" causeId: "+o),u.default.isGuestUser()?d.default.redirectToLogout(l.LogoutReason.GuestSessionEnded):i?p.default.navigateToRecentsTab():p.default.navigateToWelcomeScreen(o)}}))}}},487110:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FailureReason=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(662783),a=o.__importDefault(i(150343)),s=o.__importDefault(i(532803)),l=o.__importStar(i(85385)),c=o.__importDefault(i(517518));var d;!function(e){e[e.None=0]="None",e[e.MaxRetriesExceeded=1]="MaxRetriesExceeded",e[e.MaxElapsedTimeExceeded=2]="MaxElapsedTimeExceeded",e[e.Permanent=3]="Permanent"}(d||(t.FailureReason=d={}));class u{constructor(e,t){this._transferTypes=e,this._logTraceArea=t,this._retryInfo={}}_getRetryInfo(e,t){return this._retryInfo[e+t]}_setRetryInfo(e,t,i){this._retryInfo[e+t]=i}_resetBackoffs(e){n.each(this._retryInfo,(e=>{e.exponentialTime.reset(),e.nextAttempt=Date.now()-1}))}_makeExponentialTime(e,t){return new r.ExponentialTime(1e3,3e5)}_cleanupRetryInfo(e){n.each(this._transferTypes,(t=>{delete this._retryInfo[e+t]}))}_createTrackedBackgroundTransfer(e,t){return{id:e,finished:!1,finishedAttemptsSoFarCount:t?t.finishedAttemptsSoFarCount:0,failureReason:d.None}}static redoTransfer(e){e&&(e.id=void 0,e.finished=!1,e.success=void 0,e.failureReason=d.None)}static isTransferLost(e){return!(!e||e.finished)&&!(!e.id||s.default.transferIsTracked(e.id))}static isTransferPermanentFailure(e){return!(!e||e.failureReason!==d.Permanent)}_isTransferCompletedSuccessfully(e){return!!e&&e.finished&&!!e.success}_isTransferReadyToStart(e,t,i,o){if(o&&!c.default.hasUsableSkypeToken())return l.log(this._logTraceArea,"Waiting on "+i+" due to missing skype token: "+e),!1;if(!t||!t.id)return!0;if(t.finished&&!t.success&&!u.isTransferPermanentFailure(t)){const t=this._getRetryInfo(e,i);if(!t||t.nextAttempt<=Date.now())return!0}return!1}_isTransferCompletedWithoutSuccess(e,t,i){return!(!t||!t.finished||t.success)&&t.failureReason!==d.None}_handleTransferFinished(e,t,i,o,r,s,c){const p={transfer:t};t.finished=!0;const g=a.default.getS4LCMCFeatures().retryPolicy;(0!==c.statusCode||g.countLocalNetworkFailures)&&t.finishedAttemptsSoFarCount++,t.success=o;const h=this._getMaxRetries(e,i),m=this._getMaxTransferTime(e,i);if(r?t.failureReason=d.Permanent:s>m?t.failureReason=d.MaxElapsedTimeExceeded:t.finishedAttemptsSoFarCount>=h?t.failureReason=d.MaxRetriesExceeded:t.failureReason=d.None,p.canRetry=t.failureReason===d.None,o||!p.canRetry)return p;if(p.retryInfo=this._getRetryInfo(e,i),l.log(this._logTraceArea,"TransferFinished failure, transferId: "+t.id+", failureReason: "+d[t.failureReason]+", RetryInfo:"+JSON.stringify(p.retryInfo)),u.isTransferPermanentFailure(t))return p;if(p.retryInfo){let e=0;if(c.headers["Retry-After"]){const t=Number(c.headers["Retry-After"]);t&&n.isFinite(t)&&(e=1e3*t)}const t=p.retryInfo.exponentialTime.getTime();e<t&&(e=t,p.retryInfo.exponentialTime.calculateNext()),p.retryInfo.nextAttempt=Date.now()+e}else{const t=this._makeExponentialTime(e,i);p.retryInfo={exponentialTime:t,nextAttempt:Date.now()+t.getTimeAndCalculateNext()}}return this._setRetryInfo(e,i,p.retryInfo),p}static isPermanentFailure(e){if(n.includes([400,404,410,413,414,415],e.statusCode))return!0;if(!n.isString(e.errorInfo))return!1;const t=e.errorInfo.toLowerCase();return-1!==t.indexOf("failed to create file on local system")||0===e.statusCode&&(-1!==t.indexOf("no such file")||-1!==t.indexOf("file does not exist"))}static migrateTransfer(e){e&&e.permanentFailure&&(e.failureReason=d.Permanent)}}t.default=u},832293:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(85385)),r=i(1002),a=o.__importStar(i(446574)),s=o.__importDefault(i(999261));t.default=new class{constructor(){a.RegisterStartupable(this,"CurrentUserActivityTelemetryService")}startup(){return s.default.onPresenceChange.subscribe((e=>{if(e){const e=new r.AppLifeCycleEvent(r.LifeCycle.Focus);n.track(e)}else{const e=new r.AppLifeCycleEvent(r.LifeCycle.Blur,Date.now(),s.default.getCurrentUserActiveDwellTime());n.track(e)}})),Promise.resolve()}}},835325:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=o.__importDefault(i(150343)),s=i(434343),l=o.__importStar(i(999481)),c=i(815146),d=o.__importStar(i(85385)),u=o.__importDefault(i(652032)),p=o.__importStar(i(446574));t.default=new class{constructor(){p.RegisterStartupable(this,"DevConfigService",[u.default])}startup(){return this._overrides=u.default.getDataExclusive(s.InternalKeys.LocalOverriddenEcsConfig),void 0!==this._overrides&&this._updateStore(this._overrides),Promise.resolve()}getOverrides(){return this._overrides||{}}setOverride(e,t,i){const o={};n.set(o,t,i);const r=l.mergeConfigs(this.getOverrides(),{[e]:o});return this._saveConfig(r)}clearOverride(e,t){let i=!1;const o=n.cloneDeep(this.getOverrides()),a=n.concat([e],t);for(;n.unset(o,a)&&(i=!0,a.pop(),!n.isEmpty(a)&&n.isEmpty(n.get(o,a))););return i?this._saveConfig(o):r.Resolved()}resetAllOverrides(){return this._saveConfig({})}_saveConfig(e){return this._overrides=e,u.default.putData(s.InternalKeys.LocalOverriddenEcsConfig,e).then((()=>{this._updateStore(e)}))}_updateStore(e){d.log(c.LogTraceArea.GenericUnsafe,"Updating app config with dev settings"),a.default.internal_setOverrides(e)}}},64445:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(264596)),a=o.__importStar(i(397691)),s=o.__importDefault(i(150343)),l=i(434343),c=i(815146),d=o.__importStar(i(85385)),u=o.__importDefault(i(652032)),p=o.__importDefault(i(201721)),g=o.__importStar(i(446574)),h=o.__importDefault(i(139221));t.default=new class{constructor(){this._cache={},this._initialized=!1,g.RegisterStartupable(this,"EcsParamCache",[u.default,p.default])}startup(){return s.default.getConfigSettingsNoSubscription().calling.disableEcsParamCache||(this._cache=u.default.getData(l.InternalKeys.EcsParamCache)||{},d.log(c.LogTraceArea.GenericUnsafe,n.isEmpty(this._cache)?"No cached ECS parameters found.":"Loaded cached ECS parameters for version "+this._cache.appVersion)),this._fetchEcsParamsIfNeeded().then((()=>{if(this._initialized=!0,this._waitingForCallingParams){const e=this._waitingForCallingParams;this._waitingForCallingParams=void 0,e.resolve(void 0)}})),Promise.resolve()}_fetchEcsParamsIfNeeded(){return this.needNewParams()?(d.log(c.LogTraceArea.GenericUnsafe,"Cached ECS parameters are stale, waiting for calling to start..."),this._fetchEcsCallingParams()):a.Resolved(void 0)}_fetchEcsCallingParams(){return a.fromThenable(r.default.getEcsQueryParameters()).then((e=>{this._cache={appVersion:h.default.getAppVersion(),callingParams:e},d.log(c.LogTraceArea.GenericUnsafe,"Caching ECS parameters for version "+this._cache.appVersion),u.default.putData(l.InternalKeys.EcsParamCache,this._cache)}))}isInitialized(){return this._initialized}needNewParams(){return!!n.isEmpty(this._cache)||this._cache.appVersion!==h.default.getAppVersion()}getParamsWhenAvailable(){return this._initialized?a.Resolved(this._cache.callingParams):(this._waitingForCallingParams||(this._waitingForCallingParams=a.Defer()),this._waitingForCallingParams.promise().then((()=>this._cache.callingParams)))}test_getCachedEcsParams(){return this._cache.callingParams}test_reset(){this._initialized=!1,this._cache={},this._waitingForCallingParams=void 0}}},228681:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EcsService=void 0;const o=i(197582),n=o.__importStar(i(974395)),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importStar(i(397691)),l=o.__importDefault(i(659938)),c=o.__importDefault(i(150343)),d=i(434343),u=o.__importDefault(i(275502)),p=o.__importStar(i(264572)),g=o.__importStar(i(20107)),h=o.__importDefault(i(64445)),m=i(815146),S=o.__importStar(i(85385)),_=o.__importDefault(i(652032)),f=o.__importStar(i(704704)),y=o.__importDefault(i(778362)),C=o.__importStar(i(506082)),v=o.__importStar(i(446574)),b=o.__importDefault(i(655192)),T=o.__importDefault(i(139221)),P=o.__importDefault(i(922119)),k=o.__importDefault(i(601274)),A=o.__importStar(i(517518)),I=i(92179),w=i(444314);class x{constructor(){this._ecsClient=new n.default,this._isPaused=!0,this._isEnabled=!1,this._wipedDefault=!1,this._wipedUser=!1,this._updateState=()=>{const{tracing:e,tracing2:t,tracing3:i,tracing4:o,tracing5:n,tracing6:r,tracing7:a,tracing8:s,tracing9:l,localeHint:d,unsafeTraceAreas:u,pii:p}=c.default.getS4LFeatures(),{telemetrySampling:g,perfTelemetrySampling:h}=c.default.getS4LTelemetryFeatures(),{responsivenessScenarioSampling:m}=c.default.getS4LCMCFeatures(),_=!this._loggedIn;P.default.setTelemetryConfig(c.default.getTelemetryFeatures(),c.default.getCachedEcsConfigEtag(),c.default.getCachedEcsConfigExpiration(),_,g,h,c.default.getNRTMapping()),S.setEcsOptions([e,t,i,o,n,r,a,s,l],u),S.setShouldFindPotentialPii(p.findPotentialPii),(0,I.setSampledScenarios)(m),this._ecsClient.setFetchTimeout(c.default.getConfigSettingsNoSubscription().ecs.fetchTimeout),this._checkPauseStatus()},this._getEcsParameters=()=>this._getSlimcoreParameters().then((e=>{const t=b.default.parseJsonWithDefault(e,{});let i;return i=T.default.getOSVersion(),this._setParameterIfUndefined(t,"OSVer",i),this._setParameterIfUndefined(t,"ClientID",T.default.getDeviceId()),this._setParameterIfUndefined(t,"Manufacturer",T.default.getSystemManufacturer()),this._setParameterIfUndefined(t,"Model",T.default.getSystemModel()),this._setParameterIfUndefined(t,"Chipset",T.default.getChipset()),this._setParameterIfUndefined(t,"CPUCount",T.default.getCPUCount()),this._setParameterIfUndefined(t,"CPUSpeedMHz",T.default.getCPUSpeedMhz()),this._setParameterIfUndefined(t,"Language",f.getLanguageFromLocale()),this._setParameterIfUndefined(t,"Locale",f.getLocale()),this._setParameterIfUndefined(t,"NetworkMCCCode",y.default.getMccCode()),this._setParameterIfUndefined(t,"NetworkMNCCode",y.default.getMncCode()),c.default.getS4LFeaturesNoSubscription().enableECSScoping&&this._setParameterIfUndefined(t,"agents",g.ECSResponseConfigIdKeys.join(",")),S.log(m.LogTraceArea.GenericUnsafe,"ECS - fetching parameters:"+JSON.stringify(t)),t}))}initializePreUserContext(){const e=c.default.getConfigSettingsNoSubscription().ecs,t={hosts:e.hosts,fetchTimeout:e.fetchTimeout,clientName:"Skype",clientVersion:T.default.getSkypePlatformId()+"_"+T.default.getAppVersion()+(T.default.getPreInstallPartnerId()?"_"+T.default.getPreInstallPartnerId():""),configsToFetch:[n.Models.EcsConfigType.Default],getEcsParameters:this._getEcsParameters,initialAppActiveState:this._isAppActive(a.App.getActivationState()),initialSkypeTokenData:void 0,databaseInterface:{putData:(e,t)=>e===n.Models.EcsConfigType.User?v.EnsureStartedExclusive([_.default]).then((()=>_.default.putData(d.InternalKeys.EcsConfig,t))):e===n.Models.EcsConfigType.Default?w.LocalStorage.setItem(w.StorageKeys.EcsDefaultConfig,JSON.stringify(t)):s.Rejected("Unknown ECS Config Type"),getData:e=>e===n.Models.EcsConfigType.User?v.EnsureStartedExclusive([u.default,_.default]).then((()=>!this._wipedUser&&u.default.didLastLaunchCrash()?(this._wipedUser=!0,_.default.deleteKeys([d.InternalKeys.EcsConfig]).then((()=>{}))):s.Resolved(_.default.getData(d.InternalKeys.EcsConfig)))):e===n.Models.EcsConfigType.Default?v.EnsureStartedExclusive([u.default]).then((()=>!this._wipedDefault&&u.default.didLastLaunchCrash()?(this._wipedDefault=!0,w.LocalStorage.removeItem(w.StorageKeys.EcsDefaultConfig).then((()=>{}))):w.LocalStorage.getItem(w.StorageKeys.EcsDefaultConfig).then((e=>b.default.parseJsonErrorToUndefined(e))))):s.Rejected("Unknown ECS Config Type")}};this._ecsClient.pause(),this._ecsClient.telemetryEventAdded.subscribe(((e,t)=>{S.track(new p.EcsTelemetryEvent(e,t))})),l.default.subscribeForChanges("EcsService",(e=>{this._ecsClient.setAppActive(this._isAppActive(e))})),C.default.subscribe((()=>this._checkPauseStatus()),C.TriggerKeys.CallingStatusKey),this._preContextInitializePromise=this._ecsClient.initialize(t).then((()=>{c.default.useCachedEcsConfig(this._ecsClient.getConfig()),c.default.subscribe(this._updateState),this._updateState(),this._ecsClient.configUpdated.subscribe((()=>{c.default.useCachedEcsConfig(this._ecsClient.getConfig())})),this._ecsClient.setConfigsToFetch([n.Models.EcsConfigType.Default])}))}initializeWithUserContext(){return this._preContextInitializePromise.then((()=>(this._loggedIn=!0,this._updateState(),this._ecsClient.setConfigsToFetch([n.Models.EcsConfigType.Default,n.Models.EcsConfigType.User]).then((()=>{v.EnsureStarted(A.default).then((()=>{const e=()=>{const e=A.default.getSkypeToken();e?this._ecsClient.useSkypeToken(e.rawToken,e.expiration):this._ecsClient.useSkypeToken(void 0,0)};A.default.subscribe(e,A.TriggerKeys.SkypeTokenKey),e(),k.default.setTimeout((()=>{this._isEnabled=!0,this._checkPauseStatus()}),1e3)}))})))))}_getSlimcoreParameters(){return this._loggedIn?v.EnsureStarted(h.default).then((()=>h.default.getParamsWhenAvailable())):s.Resolved(void 0)}_setParameterIfUndefined(e,t,i){void 0===e[t]&&(r.isNumber(i)||r.isString(i))&&(e[t]=i)}_checkPauseStatus(){const e=!this._isEnabled||this._shouldThrottleEcsClient();e!==this._isPaused&&(e?this._ecsClient.pause():this._ecsClient.resume(),this._isPaused=e)}_shouldThrottleEcsClient(){return!!c.default.getS4LFeatures().scheduler.enableEcsServiceThrottling&&C.default.isInCall()}_isAppActive(e){return!!c.default.getConfigSettingsNoSubscription().ecs.ignoreActivationState||e===a.Types.AppActivationState.Active}requestUpdate(){this._ecsClient.requestUpdate()}resume(){this._isEnabled=!0,this._checkPauseStatus()}setAllowBackgroundFetch(e){this._ecsClient.setAllowBackgroundFetch(e)}test_reset(){this._loggedIn=!1,this._isPaused=!0,this._isEnabled=!1,this._wipedDefault=!1,this._wipedUser=!1,this._preContextInitializePromise=void 0}}t.EcsService=x;const N=new x;t.default=N},590206:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(397691)),r=o.__importDefault(i(150343)),a=o.__importDefault(i(637961)),s=i(235256),l=o.__importDefault(i(114818)),c=o.__importStar(i(446574)),d=o.__importDefault(i(139221)),u=o.__importDefault(i(601274)),p="NetworkFootprint",g=s.TaskTypeFlags.UsesNetworking;t.default=new class{constructor(){this._footprintServiceIntervalInMinutes=0,this._monitorId="S4LW",this._configUrls=[],this.schedulePostingJob=()=>{const e=r.default.getS4LCMCFeatures().footprintServiceIntervalInMinutes,t=r.default.getS4LCMCFeatures().footprintServiceConfigUrls;let i=!1;if(e!==this._footprintServiceIntervalInMinutes&&(this._footprintServiceIntervalInMinutes=e,i=!0),(0,l.default)(this._configUrls,t)||(this._configUrls=t.slice(),i=!0),i&&(this._stopScheduledJob(),this._footprintServiceIntervalInMinutes>0&&this._configUrls.length>0)){const e=60*this._footprintServiceIntervalInMinutes*1e3;this._serviceTimer=u.default.setInterval((()=>this._postNetworkFootprintTelemetry()),e)}return n.Resolved()},c.RegisterStartupable(this,"FootprintService",[])}startup(){return a.default.queueIdleTask(p,g,this.schedulePostingJob),r.default.subscribe((()=>{a.default.queueIdleTask(p,g,this.schedulePostingJob)})),Promise.resolve()}dispose(){this._stopScheduledJob(),this._footprintServiceIntervalInMinutes=0}_postNetworkFootprintTelemetry(){const e=[{TenantId:d.default.getFootprintTenantId()}],t=[...this._configUrls];Footprint.start(this._monitorId,t,1,JSON.stringify(e),"")}_stopScheduledJob(){this._serviceTimer&&(u.default.clearInterval(this._serviceTimer),this._serviceTimer=void 0)}}},637961:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(71380));o.__exportStar(i(71380),t),t.default=n.default},235256:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Test_InfoRefreshService=t.TaskTypeFlags=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(662783),a=o.__importStar(i(397691)),s=i(434343),l=i(815146),c=o.__importStar(i(637961));Object.defineProperty(t,"TaskTypeFlags",{enumerable:!0,get:function(){return c.TaskTypeFlags}});const d=o.__importStar(i(85385)),u=o.__importDefault(i(652032)),p=o.__importDefault(i(506082)),g=o.__importStar(i(446574)),h=o.__importDefault(i(601274));class m{constructor(e=!1){this._test_allowTimerUpdates=e,this._refreshers={},this._dbOnlyRefreshers={},this._isReadyForRefreshes=!1,this._loadedCache=!1,this._recalcNextUpdate=()=>{this._recalcNextUpdateInternal()},this._recalcNextUpdateInternal=()=>{if(!this._loadedCache||!this._isReadyForRefreshes)return;this._timer&&(h.default.clearExpiration(this._timer),this._timer=void 0);const e=Date.now();let t;n.each(this._refreshers,((i,o)=>{if(!i.callback)return;if(!i.interval&&!i.nextExecution)return;if(i.currentlyRunning)return;let n=i.nextExecution||(i.lastRefresh||0)+(i.interval||0);if(n<=e){if(d.log(l.LogTraceArea.GenericUnsafe,`InfoRefreshService: firing [${o}] [nextExecution=${i.nextExecution}][lastRefresh=${i.lastRefresh}] [interval=${i.interval}]`),this._performCallback(i,o),i.currentlyRunning)return;n=i.nextExecution||(i.lastRefresh||0)+(i.interval||0)}(!t||n<t)&&(t=n)})),t&&(this._timer=h.default.setExpiration(this._recalcNextUpdate,t))},g.RegisterStartupable(this,"InfoRefreshService",[u.default])}startup(){const e=u.default.getData(s.InternalKeys.InfoRefreshServiceCache);return n.each(e,((e,t)=>{this._refreshers[t]?this._refreshers[t].lastRefresh=e:this._dbOnlyRefreshers[t]=e})),p.default.performAfterUIStarted((()=>{this._isReadyForRefreshes=!0,this._recalcNextUpdate()})),this._loadedCache=!0,a.Resolved()}setRefreshOptions(e,t){this._refreshers[e]?n.extend(this._refreshers[e],t):(this._refreshers[e]=n.clone(t),e in this._dbOnlyRefreshers&&(this._refreshers[e].lastRefresh=this._dbOnlyRefreshers[e],delete this._dbOnlyRefreshers[e])),this._recalcNextUpdate()}clearRefresher(e){delete this._refreshers[e],delete this._dbOnlyRefreshers[e]}fireEarly(e){this._fireEarlyInternal(e)}_fireEarlyInternal(e){const t=this._refreshers[e];t&&!t.currentlyRunning&&(d.log(l.LogTraceArea.GenericUnsafe,`InfoRefreshService: fireEarly [${e}]`),this._performCallback(t,e))}fireAllEarly(){n.each(this._refreshers,((e,t)=>{e.callback&&this.fireEarly(t)}))}_performCallback(e,t){e.callback,e.currentlyRunning=!0;const i=()=>{a.Resolved().then((()=>{const t=e.failureBackoff?1+e.failureBackoff.getIncrementCount():0;return e.callback(t)})).finally((()=>{e.currentlyRunning=!1})).then((()=>{e.failureBackoff=void 0,e.nextExecution=void 0,e.lastRefresh=Date.now(),this._saveCache()}),(()=>{e.failureBackoff?e.failureBackoff.calculateNext():e.failureBackoff=new r.ExponentialTime(5e3,18e5),e.nextExecution=Date.now()+e.failureBackoff.getTime()})).finally((()=>{this._recalcNextUpdate()}))};e.taskTypeFlags?c.default.queueIdleTask("InfoRefreshService Task ["+t+"]",e.taskTypeFlags,i):i()}_saveCache(){const e=n.mapValues(this._refreshers,(e=>e.lastRefresh||0));n.each(this._dbOnlyRefreshers,((t,i)=>{e[i]=t})),u.default.putData(s.InternalKeys.InfoRefreshServiceCache,e)}}t.Test_InfoRefreshService=m,t.default=new m},440760:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Test_AppLifecycle=t.LifecycleEventType=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(331654)),a=i(167606),s=o.__importStar(i(397691)),l=i(757313),c=o.__importDefault(i(18026)),d=o.__importStar(i(85385)),u=o.__importDefault(i(760989)),p=o.__importDefault(i(150343));var g;!function(e){e.ON_EXIT="onExit",e.ON_RESUME="onResume",e.ON_SUSPEND="onSuspend",e.ON_SYSTEM_IDLE_CHANGE="onSystemIdleChange",e.ON_RELOAD="onReload"}(g||(t.LifecycleEventType=g={}));class h{constructor(e){this._acknowledgeCallbacks=e,this._onSuspendQueue=[],this._onResumeQueue=[],this._onExitQueue=[],this._onSystemIdleChangeQueue=[],this._onReloadQueue=[],this._onResume=e=>{d.log(a.LogTraceArea.Lifecycle,"LifecycleService._onResume, causeId: "+e);const t=n.clone(this._onResumeQueue).map((t=>t(e)));this._processPromises(t,g.ON_RESUME,e)},this._onSuspend=e=>{d.log(a.LogTraceArea.Lifecycle,"LifecycleService._onSuspend, causeId: "+e);const t=n.clone(this._onSuspendQueue).map((t=>t(e)));this._processPromises(t,g.ON_SUSPEND,e)},this._onExit=e=>{d.log(a.LogTraceArea.Lifecycle,"LifecycleService._onExit, causeId: "+e);const t=n.clone(this._onExitQueue).map((t=>t(e)));this._processPromises(t,g.ON_EXIT,e)},this._onSystemIdleChange=(e,t)=>{d.log(a.LogTraceArea.Lifecycle,"LifecycleService._onSystemIdleChange, causeId: "+e);const i=n.clone(this._onSystemIdleChangeQueue).map((i=>i(e,t)));this._processPromises(i,g.ON_SYSTEM_IDLE_CHANGE,e)},this._onReload=e=>{if(p.default.getS4LCMCFeaturesNoSubscription().enableUnregisteringTrouterListenersWhenReloading){d.log(a.LogTraceArea.Lifecycle,"LifecycleService._onReload, causeId: "+e);const t=n.clone(this._onReloadQueue).map((t=>t(e)));this._processPromises(t,g.ON_RELOAD,e)}}}_processPromises(e,t,i){d.log(a.LogTraceArea.Lifecycle,"LifecycleService._processPromises, causeId: "+i);const o=this._acknowledgeCallbacks[t];(0,l.wrapWithCauseId)((()=>s.all(e)),a.LogTraceArea.Lifecycle,t,i).always(o)}registerEvents(e,t,i,o,n){e&&e.subscribe(this._onExit),t&&t.subscribe(this._onResume),i&&i.subscribe(this._onSuspend),o&&o.subscribe(this._onSystemIdleChange),n&&n.subscribe(this._onReload)}addObserver(e,t){switch(d.log(a.LogTraceArea.Lifecycle,`Add ${e} observer`),e){case g.ON_EXIT:this._onExitQueue.push(t);break;case g.ON_RESUME:this._onResumeQueue.push(t);break;case g.ON_SUSPEND:this._onSuspendQueue.push(t);break;case g.ON_SYSTEM_IDLE_CHANGE:this._onSystemIdleChangeQueue.push(t);break;case g.ON_RELOAD:this._onReloadQueue.push(t);break;default:u.default.switchStatementExhaustiveChecking(e)}}removeObserver(e,t){switch(d.log(a.LogTraceArea.Lifecycle,`Remove ${e} observer`),e){case g.ON_EXIT:n.pull(this._onExitQueue,t);break;case g.ON_RESUME:n.pull(this._onResumeQueue,t);break;case g.ON_SUSPEND:n.pull(this._onSuspendQueue,t);break;case g.ON_SYSTEM_IDLE_CHANGE:n.pull(this._onSystemIdleChangeQueue,t);break;case g.ON_RELOAD:n.pull(this._onReloadQueue,t);break;default:u.default.switchStatementExhaustiveChecking(e)}}}t.Test_AppLifecycle=h;const m=new h({[g.ON_EXIT]:()=>c.default.acknowledgeAppExit()});m.registerEvents(r.default.onExit,r.default.onResume,r.default.onSuspend,r.default.onSystemIdleChange,r.default.onReload),t.default=m},984646:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=(i(174958),o.__importStar(i(496486))),r=i(380157),a=o.__importDefault(i(819059)),s=i(279211),l=o.__importStar(i(397691)),c=(o.__importDefault(i(89790)),o.__importDefault(i(150343))),d=i(815146),u=o.__importStar(i(85385)),p=o.__importDefault(i(960218)),g=o.__importStar(i(528196)),h=o.__importStar(i(446574)),m=o.__importDefault(i(664821)),S=o.__importStar(i(269296));t.default=new class{constructor(){h.RegisterStartupable(this,"LocalEngagementNotificationsService")}startup(){return p.default.initializeLocalNotifications(!0).then((e=>e!==r.PermissionStatus.Granted?(u.log(d.LogTraceArea.Engagement,"LocalEngagementNotificationsService: Push not granted. Not subscribing to NotificationQueueService"),l.Resolved()):(this._applyConfigurationToLocalNotifications(),p.default.event_localEngagementNotificationQueueChanged.subscribe((()=>{u.log(d.LogTraceArea.Engagement,"localEngagementNotificationQueueChanged"),this._drainLocalEngagementNotificationQueue()})),this._drainLocalEngagementNotificationQueue(),l.Resolved()))).toEs6Promise()}_drainLocalEngagementNotificationQueue(){n.each(p.default.fetchAndDrainLocalEngagementNotificationQueue(),(e=>{u.log(d.LogTraceArea.Engagement,"_drainLocalEngagementNotificationQueue"),this._handleLocalEngagementNotificationEventReceived(e.notification,e.causeId)}))}_handleLocalEngagementNotificationEventReceived(e,t){m.default.startedProcessingLocalNotification(e.category);let i="Received local notification event: ";i=i+"(category:"+e.category+" identifier: "+e.identifier+")",i=i+" causeId: "+t,u.log(d.LogTraceArea.Notifications,i),e.category!==S.TPUM_CATEGORY_IDENTIFIER&&e.category!==g.LocalNotificationIds.SIGNIN_REMINDER_IDENTIFIER&&e.category!==g.LocalNotificationIds.SIGNOUT_REMINDER_IDENTIFIER||(u.log(d.LogTraceArea.Engagement,"_handleLocalEngagementNotificationEventReceived"),S.default.handleTPUMNotificationEventReceived(e,t)),e.notificationProcessingId&&s.LocalNotifications.notificationProcessingCompleted(e.notificationProcessingId),window.focus(),e.wakeLockId&&a.default.release(e.wakeLockId,"Notifications:quickreply")}_applyConfigurationToLocalNotifications(){{const e=()=>{let e;e={Web:{MultiTabNotifications:c.default.getS4LMessagingFeatures().browserMultiTabNotifications}},s.LocalNotifications.setConfig(e)};c.default.subscribe(e),e()}}}},446406:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=o.__importStar(i(224807)),s=o.__importDefault(i(331654)),l=(i(815063),o.__importDefault(i(819059))),c=i(279211),d=o.__importStar(i(516778)),u=i(148540),p=o.__importStar(i(397691)),g=o.__importDefault(i(659938)),h=o.__importDefault(i(150343)),m=o.__importDefault(i(500981)),S=o.__importDefault(i(402536)),_=o.__importDefault(i(369347)),f=i(619429),y=i(873324),C=o.__importDefault(i(638260)),v=o.__importDefault(i(404547)),b=o.__importStar(i(964647)),T=o.__importDefault(i(304623)),P=o.__importStar(i(44717)),k=o.__importDefault(i(601976)),A=o.__importStar(i(320820)),I=o.__importStar(i(82121)),w=i(815146),x=i(120695),N=i(626065),D=o.__importStar(i(85385)),M=i(499828),L=o.__importDefault(i(652032)),R=o.__importStar(i(121026)),E=o.__importStar(i(216030)),B=o.__importDefault(i(984646)),O=o.__importStar(i(704704)),F=o.__importDefault(i(91385)),V=o.__importStar(i(405640)),U=i(480327),j=o.__importDefault(i(201721)),H=o.__importDefault(i(363091)),W=(o.__importDefault(i(740794)),o.__importDefault(i(2891))),z=o.__importDefault(i(960218)),G=o.__importStar(i(995276)),K=o.__importStar(i(528196)),q=i(28823),Q=o.__importDefault(i(684604)),X=i(898989),$=i(912851),J=o.__importStar(i(437782)),Y=i(224802),Z=i(36381),ee=o.__importDefault(i(994962)),te=o.__importDefault(i(506082)),ie=o.__importDefault(i(782829)),oe=o.__importDefault(i(902530)),ne=o.__importStar(i(446574)),re=o.__importDefault(i(664821)),ae=o.__importDefault(i(655192)),se=o.__importDefault(i(139221)),le=i(305360),ce=o.__importDefault(i(760989)),de=i(355344),ue=(i(371221),i(677790),i(971988)),pe=i(384860),ge=i(796967),he=i(512050),me=i(137395),Se=o.__importDefault(i(808164)),_e=o.__importDefault(i(615364));t.default=new class{constructor(){this._skipIncomingVideoNotificationDict={},this._notificationPromises=[],this._subscriptions=[],this.test_tickCheck=p.Resolved(),this._processIncomingVideoAvailableNotification=(e,t)=>{if(h.default.getS4LCMCFeaturesNoSubscription().enableIncomingVideoNotification&&!h.default.isCallMonitorEnabledNoSubscription()){if(!!!this._skipIncomingVideoNotificationDict[e]){const i=ce.default.newCauseId(),o=t.id;if(_.default.RemoteStreamHelper.isStreamAvailable(e,o,u.StreamType.Video,void 0,[f.VideoOverrideReason.InBackground])){const t=d.App.getActivationState();t===d.Types.AppActivationState.Background?(D.log(w.LogTraceArea.Calling,`_processIncomingVideoAvailableNotification, causeId: ${i}`),this._skipIncomingVideoNotificationDict[e]=!0,a.default.postIncomingVideoNotification(o,e,i,"",a.IncomingVideoNotificationOrigin.IncomingWhileInBackground,se.default.getSoundPath("Skype_Incoming_Video_Available.m4a"))):t===d.Types.AppActivationState.Active&&(this._skipIncomingVideoNotificationDict[e]=!0)}}}},this._onCallEndedEvent=e=>{const t=e.callId;switch(this._skipIncomingVideoNotificationDict[t]&&delete this._skipIncomingVideoNotificationDict[t],e.callEndedReason){case a.CallEndedReason.Unanswered:this.maybeDisplayMissedCallNotification({reason:"NoAnswerCallerCancelled",callId:e.callId,callerMri:e.callerMri,conversationMri:e.conversationMri,participantId:e.participantId},e.causeId);break;case a.CallEndedReason.RemoteEnded:this.clearCallNotifications(e.callId,e.participantId)}},ne.RegisterStartupable(this,"LocalNotificationsService",[z.default,ie.default,oe.default,Q.default,B.default])}setupPreStartupSubscriptions(){this._metasSub&&this._metasSub.unsubscribe(),this._metasSub=T.default.conversationsUpdated.subscribe((e=>{const t=r.filter(e,(e=>!!e.counts));if(t.length>0){const e=l.default.requestMaxTime("Notifications:conv");ne.EnsureStarted(this).then((()=>{r.each(t,(e=>{Q.default.cancelNotificationsForConversation(e.conv.id,e.counts.consumptionHorizonTimestamp)}))})).always((()=>{e.then((e=>l.default.release(e,"Notifications:conv"))).catch(r.noop)}))}})),this._messagesSub&&this._messagesSub.unsubscribe(),this._messagesSub=T.default.messagesProcessedWithBundleInfo.subscribe((e=>{const t=p.Defer();let i=!1;const o=t.promise();this._notificationPromises.push(o),o.always((()=>{r.pull(this._notificationPromises,o)})),this.test_tickCheck=p.Resolved().then((()=>{const o=l.default.requestMaxTime("Notifications:msg");return ne.EnsureStarted(this).then((()=>{const t=r.map(e,(e=>{const t=b.getCorrelationIdForMessage(e.message),i=r.some(e.details,(e=>e.origin===w.MessageOrigin.PushNotification));return i&&D.track(new x.FundamentalsMessagePushDebug(e.message.getLatestRelevantClientMessageId()||"",t,"LocalNotifications: started")),i&&e.message.isLastChangeReactionConsumptionHorizonUpdate()&&Q.default.cancelNotificationById(e.message.conversationId+e.message.createdTime),this._processMessageInfoForNotifications(e).then((o=>ne.EnsureStartedExclusive([ie.default,oe.default,L.default]).then((()=>{const n=ie.default.getEndpointInfo();H.default.isMyMri(e.message.creator)&&G.isLastMessageUpdateReaction(e.message)&&D.track(new $.ReactionNotificationProcessed(e.message.conversationId,o)),i&&D.track(new x.FundamentalsMessagePushDebug(e.message.getLatestRelevantClientMessageId()||"",t,"LocalNotifications: done",void 0,w.MessageProcessResult[o]));const a=r.uniq(r.map(e.details,(e=>e.origin))).length;r.each(e.details,(t=>{const{messagetype:i,content:r,conversationId:s,creator:l}=e.message;if(i===ue.MessageTypes.Sms&&s===l){const e=me.ValidSMSMessageFromSkype.test(r)?pe.SmsSource.Skype:pe.SmsSource.Phone,{possibleCountry:i}=Se.default.getPhoneNumberDetails((0,ge.getPhoneNumberFromMessageContent)(r)),o=b.getCorrelationIdFromMessageParts(l,s,t.clientMessageId);D.track(new pe.SmsReceived(e,o,t.clientMessageId,(0,ge.getRequestId)(r),i))}const c=(0,_e.default)().getConversationNoSubscription(s),d=P.isOneOnOneConversation(s)&&c?c.getOtherPartyMri():void 0;D.track(new E.KpiMessageDelivered(e.message,t.origin,o,t.clientMessageId,oe.default.EdfRegistrationId.get(),n,e.messageAlreadySeen,te.default.isInCall(),a,t.correlationVector,!!t.messageStoreUsed,d))}))})).then((()=>({result:o,message:e.message})))))}));return p.all(t).then((e=>{const t=r.groupBy(e,(e=>e.result));D.log(w.LogTraceArea.Notifications,"Processed "+e.length+" Messages: "+r.map(t,((e,t)=>w.MessageProcessResult[Number(t)]+": ("+r.map(e,(e=>"cuid: "+e.message.cuid+" CorrelationId: "+b.getCorrelationIdForMessage(e.message))).join(", ")+")")).join(", "))}))})).always((()=>{i=!0,t.resolve(void 0),o.then((e=>l.default.release(e,"Notifications:msg"))).catch(r.noop)}))})).always((()=>{i||(i=!0,t.resolve(void 0))}))}))}startup(){return this._subscriptions.push(c.LocalNotifications.localNotificationEventReceivedLogMessageEvent.subscribe((e=>{D.log(w.LogTraceArea.Notifications,"LocalNotifications "+e)}))),this._subscriptions.push(_.default.CallingStore.participantUpdatedEvent().subscribe(this._processIncomingVideoAvailableNotification)),this._subscriptions.push(_.default.CallingStore.callEndedEvent().subscribe(this._onCallEndedEvent)),this._applyConfigurationToLocalNotifications(),z.default.event_localNotificationQueueChanged.subscribe((()=>{this._drainLocalNotificationQueue()})),this._drainLocalNotificationQueue(),Promise.resolve()}destroy(){const e=this._subscriptions;this._subscriptions=[],r.each(e,(e=>e.unsubscribe()))}flushNotificationProcessingPromises(){const e=this._notificationPromises;return this._notificationPromises=[],p.all(e).then(r.noop)}_applyConfigurationToLocalNotifications(){{const e=()=>{let e;e={Web:{MultiTabNotifications:h.default.getS4LMessagingFeatures().browserMultiTabNotifications}},c.LocalNotifications.setConfig(e)};h.default.subscribe(e),e()}}processDelayedCallNotification(e){this._callDelayedNotificationProcessingId&&c.LocalNotifications.notificationProcessingCompleted(this._callDelayedNotificationProcessingId),this._callDelayedNotificationProcessingId=e}_drainLocalNotificationQueue(){(0,le.isForceUpdateEnabled)()||r.each(z.default.fetchAndDrainLocalNotificationQueue(),(e=>{this._handleLocalNotificationEventReceived(e.notification,e.causeId)}))}_handleLocalNotificationEventReceived(e,t){let i;re.default.startedProcessingLocalNotification(e.category);let o,a=!1,u="[LocalNotificationsService][_handleLocalNotificationEventReceived], received local notification event: ";u=u+"(category:"+e.category+" identifier: "+e.identifier+")",u=u+" causeId: "+t,D.log(w.LogTraceArea.Notifications,u);if(e.category===K.LocalNotificationIds.CALL_CATEGORY_IDENTIFIER){const o=e.serviceSpecificData,r=o?o.conversationMri:void 0,a=o?o.callId:void 0,l=o?o.participantId:void 0;if(a&&r){if(this._callDelayedNotificationProcessingId)if(d.App.getActivationState()===d.Types.AppActivationState.Active)c.LocalNotifications.notificationProcessingCompleted(this._callDelayedNotificationProcessingId),this._callDelayedNotificationProcessingId=void 0,D.log(w.LogTraceArea.Notifications,"delayed finish processing completed causeId: "+t);else{const e=g.default.subscribeForChanges("LocalNotificationsService",(i=>{i===d.Types.AppActivationState.Active&&(e.unsubscribe(),this._callDelayedNotificationProcessingId&&c.LocalNotifications.notificationProcessingCompleted(this._callDelayedNotificationProcessingId),this._callDelayedNotificationProcessingId=void 0,D.log(w.LogTraceArea.Notifications,"delayed finish processing completed causeId: "+t))}))}switch(e.identifier){case K.LocalNotificationIds.CALL_ACTION_ACCEPT_IDENTIFIER:i=w.AppEntryPoint.CallNotification,D.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[_handleLocalNotificationEventReceived]","auto-answering call",a,"for conversation",J.mriOrId(r),"from notification causeId:",t),(0,M.setIntent)(M.Intent.Call),C.default.onCalleeAnsweredCall(a,"nativeNotification",t),_.default.CallNavigationHelper.answerOrJoinCall({conversationMri:r,callId:a,participantId:l,knownToBeAnswer:!0,origin:w.NavigationCallOrigin.LocalNotificationAction},t);break;case K.LocalNotificationIds.CALL_ACTION_REJECT_IDENTIFIER:this._assumeCall(a,r,w.NavigationCallOrigin.LocalNotificationAction,l,t).then((()=>_.default.CallingStore.rejectCall(a,t)));break;case K.LocalNotificationIds.CALL_ACTION_DEFAULT:e.isKeyguardOn&&_.default.CallingStore.callDidExist(a)?s.default.reEnableKeyguardIfSet(!0).catch((e=>{D.warn(w.LogTraceArea.Notifications,"reEnableKeyguardIfSet failed: "+ae.default.errorAsString(e))})):this._assumeCall(a,r,w.NavigationCallOrigin.LocalNotificationAction,l,t);break;default:D.error(w.LogTraceArea.Notifications,"Unexpected event: "+e.identifier+" causeId: "+t)}}else D.error(w.LogTraceArea.Notifications,"callId not found causeId: "+t+" "+n.pii.Omit(JSON.stringify(e)))}else if(e.category===K.LocalNotificationIds.MISSED_CALL_CATEGORY_IDENTIFIER){const o=e.serviceSpecificData,r=o?o.conversationMri:void 0;if(r)switch(e.identifier){case K.LocalNotificationIds.MISSED_CALL_BACK_IDENTIFIER:i=w.AppEntryPoint.CallNotification,D.log(w.LogTraceArea.Notifications,"Initiating new call in response to missed in conversation "+J.mriOrId(r)+" causeId: "+t),(0,M.setIntent)(M.Intent.Call),_.default.CallNavigationHelper.startCall({conversationMri:r,withVideo:!1,origin:w.NavigationCallOrigin.LocalNotificationAction},t);break;case K.LocalNotificationIds.MISSED_CALL_DEFAULT:D.track(new q.NotificationAppLaunched(w.NotificationTypeAppLaunched.MissedCall,r)),i=w.AppEntryPoint.CallNotification,D.log(w.LogTraceArea.Notifications,"MISSED_CALL_DEFAULT, navigateToConversation "+J.mriOrId(r)+", causeId: "+t),(0,M.setIntent)(M.Intent.Chat),W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:r,origin:w.NavigationConversationOrigin.SystemNotificationMissedCall,causeId:t});break;default:D.error(w.LogTraceArea.Notifications,"Unexpected event: "+e.identifier+" causeId: "+t)}else D.error(w.LogTraceArea.Notifications,"conversationId not found for MISSED_CALL_CATEGORY_IDENTIFIER causeId: "+t+" "+n.pii.Omit(JSON.stringify(e)))}else if(e.category===K.LocalNotificationIds.MISSED_P2P_CALL_CATEGORY_IDENTIFIER){const o=e.serviceSpecificData,r=o?o.conversationMri:null;r?(i=w.AppEntryPoint.CallNotification,D.log(w.LogTraceArea.Notifications,"MISSED_P2P_CALL_CATEGORY_IDENTIFIER, navigateToConversation "+J.mriOrId(r)+", causeId: "+t),(0,M.setIntent)(M.Intent.Chat),W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:r,origin:w.NavigationConversationOrigin.SystemNotificationMissedP2PCall,causeId:t})):D.error(w.LogTraceArea.Notifications,"conversationId not found for MISSED_P2P_CALL_CATEGORY_IDENTIFIER causeId: "+t+" "+n.pii.Omit(JSON.stringify(e)))}else if(e.category===K.LocalNotificationIds.GO_LIVE_CATEGORY_IDENTIFIER){const i=e.serviceSpecificData,o=i?i.conversationMri:void 0,n=i?i.callId:void 0;if(o&&n)switch(e.identifier){case K.LocalNotificationIds.GO_LIVE_ACTION_DEFAULT:D.track(new q.NotificationAppLaunched(w.NotificationTypeAppLaunched.GoLive,o)),D.log(w.LogTraceArea.Notifications,"Navigating to conversation from go live notification causeId: "+t),(0,M.setIntent)(M.Intent.Chat),W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:o,origin:w.NavigationConversationOrigin.GoLiveNotification,causeId:t});break;case K.LocalNotificationIds.GO_LIVE_ACTION_JOIN_IDENTIFIER:D.track(new U.MessagingToastQuickActionEvent(U.MessagingToastQuickAction.JoinCall,o)),(0,M.setIntent)(M.Intent.Call),D.log(w.LogTraceArea.Notifications,"Joining golive from notifications causeId: "+t),_.default.CallPreviewUtils.answerOrJoinCall({conversationMri:o,callId:n,callJoinContext:i.conversationLiveState,origin:w.NavigationCallOrigin.LocalNotificationAction,isGoLive:!0},t)}else D.warn(w.LogTraceArea.Notifications,"Ignoring go-live notification missing call and/or conversation id"+JSON.stringify(i))}else if(e.category===K.LocalNotificationIds.CALLBACK_REMINDER_CATEGORY_IDENTIFIER){const i=e.serviceSpecificData,o=i?i.calleeMri:void 0;let n=y.CallbackReminderTappedAction.None;if(o)switch(e.identifier){case K.LocalNotificationIds.CALLBACK_REMINDER_ACTION_DEFAULT:D.track(new q.NotificationAppLaunched(w.NotificationTypeAppLaunched.CallbackReminder,o)),D.log(w.LogTraceArea.Notifications,"Navigating to conversation from callback reminder causeId: "+t),(0,M.setIntent)(M.Intent.Chat),n=y.CallbackReminderTappedAction.Navigate,W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:o,origin:w.NavigationConversationOrigin.GoLiveNotification,causeId:t});break;case K.LocalNotificationIds.CALLBACK_REMINDER_ACTION_CALL_IDENTIFIER:(0,M.setIntent)(M.Intent.Call),D.log(w.LogTraceArea.Notifications,"Callback action from callback reminder causeId: "+t),n=y.CallbackReminderTappedAction.Call,_.default.CallNavigationHelper.startCall({conversationMri:o,withVideo:!1,origin:w.NavigationCallOrigin.LocalNotificationAction},t)}D.track(new y.CallbackReminderTappedEvent(n,i?i.missedCallTime:0,i?i.notificationPresentedTime:0))}else if(e.category===K.LocalNotificationIds.SCHEDULED_CALL_INVITE||e.category===K.LocalNotificationIds.SCHEDULED_CALL_INVITE_RESPONSE){const n=e.serviceSpecificData,r=n?n.scheduledCallId:void 0,a=n?n.conversationId:void 0,s=n?n.messageTimestamp:void 0;let l="";if(a){switch(e.identifier){case K.LocalNotificationIds.SCHEDULED_CALL_INVITE_ACCEPT:r&&ne.EnsureStarted(ee.default).then((()=>{D.track(new U.MessagingToastQuickActionEvent(U.MessagingToastQuickAction.AcceptScheduledCall,a)),ee.default.acceptInvitation(r),D.track(new Y.ScheduledCallRSVPEvent(Z.ScheduleCallRSVPEntryPoint.Notification,Z.ScheduledCallInvitationStatus.Accepted,a,r))})),l="SCHEDULED_CALL_INVITE_ACCEPT";break;case K.LocalNotificationIds.SCHEDULED_CALL_INVITE_DECLINE:r&&ne.EnsureStarted(ee.default).then((()=>{D.track(new U.MessagingToastQuickActionEvent(U.MessagingToastQuickAction.DeclineScheduledCall,a)),ee.default.declineInvitation(r),D.track(new Y.ScheduledCallRSVPEvent(Z.ScheduleCallRSVPEntryPoint.Notification,Z.ScheduledCallInvitationStatus.Declined,a,r))})),l="SCHEDULED_CALL_INVITE_DECLINE";break;case K.LocalNotificationIds.CHAT_ACTION_REPLY_IDENTIFIER:e.textInputValue&&(o=this._sendRawMessage(a,e.textInputValue)),l="CHAT_ACTION_REPLY_IDENTIFIER";break;case K.LocalNotificationIds.ACTION_DEFAULT:l="ACTION_DEFAULT"}i=w.AppEntryPoint.ChatNotification,D.log(w.LogTraceArea.Notifications,l+", navigateToConversation "+J.mriOrId(a)+", causeId: "+t+", scheduledCallId: "+r),this._navigateToConversation(a,t,w.NavigationConversationOrigin.SystemNotificationScheduledCall,s)}}else if(e.category===K.LocalNotificationIds.CHAT_CATEGORY_IDENTIFIER||e.category===K.LocalNotificationIds.E2EE_CATEGORY_IDENTIFIER){const n=e.serviceSpecificData,r=n?n.conversationId:void 0,s=n?n.messageTimestamp:void 0,l=n?n.consumptionHorizon:void 0;switch(e.identifier){case K.LocalNotificationIds.CHAT_ACTION_THUMBSUP_IDENTIFIER:if(r){const e=new N.UnhandledEntity("(y)");o=V.sendRawMessageFromEntities(r,[e]),D.track(new U.MessagingToastQuickActionEvent(U.MessagingToastQuickAction.ThumbsUp,r))}break;case K.LocalNotificationIds.CHAT_ACTION_REPLY_IDENTIFIER:r&&(e.textInputValue?(o=this._sendRawMessage(r,e.textInputValue),a=!0):(i=w.AppEntryPoint.ChatNotification,D.log(w.LogTraceArea.Notifications,"CHAT_ACTION_REPLY_IDENTIFIER, navigateToConversation "+J.mriOrId(r)+", causeId: "+t),this._navigateToConversation(r,t,w.NavigationConversationOrigin.SystemNotificationChatReply,s)));break;case K.LocalNotificationIds.CHAT_ACTION_MARK_AS_READ_IDENTIFIER:r&&l&&(D.track(new U.MessagingToastQuickActionEvent(U.MessagingToastQuickAction.MarkAsRead,r)),v.default.setConsumptionHorizon(r,l));break;case K.LocalNotificationIds.ACTION_DEFAULT:r?(i=w.AppEntryPoint.ChatNotification,n.eventType&&D.track(new q.NotificationAppLaunched(n.eventType,r)),D.log(w.LogTraceArea.Notifications,"CHAT_ACTION_DEFAULT, navigateToConversation "+J.mriOrId(r)+", causeId: "+t),(0,M.setIntent)(M.Intent.Chat),W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:r,scrollToTimestamp:s,origin:w.NavigationConversationOrigin.SystemNotification,causeId:t})):(0,M.setIntent)(M.Intent.Recents);break;case K.LocalNotificationIds.DELETE_IDENTIFIER:D.log(w.LogTraceArea.Notifications,"CHAT_ACTION_DELETE, conversationId: "+(r||"")+", causeId "+t)}0}else if(e.category===K.LocalNotificationIds.INBOUND_VIDEO_CALL_IDENTIFIER){const i=e.serviceSpecificData&&e.serviceSpecificData.callId,o=e.serviceSpecificData&&e.serviceSpecificData.origin;r.isUndefined(i)||te.default.performAfterUIStarted((()=>{C.default.trackIncomingVideoNotification(!0,i,o),_.default.CallControlsStore.startVideo(i,t,!0)}))}else if(e.category===K.LocalNotificationIds.SCHEDULED_CALL_REMINDER||e.category===K.LocalNotificationIds.SCHEDULED_CALL_PREREMINDER||e.category===K.LocalNotificationIds.POLL_REMINDER||e.category===K.LocalNotificationIds.POLL_PREREMINDER){d.App.getActivationState()!==d.Types.AppActivationState.Background||((0,M.setIntent)(M.Intent.Chat),te.default.performAfterUIStarted((()=>{const i=e.serviceSpecificData,o=i?i.conversationId:void 0,n=i?i.messageTimestamp:void 0;if(o){const t=e.category===K.LocalNotificationIds.SCHEDULED_CALL_REMINDER||e.category===K.LocalNotificationIds.SCHEDULED_CALL_PREREMINDER?w.NotificationTypeAppLaunched.ScheduledCallInvite:w.NotificationTypeAppLaunched.Poll;D.track(new q.NotificationAppLaunched(t,o))}W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:o,scrollToTimestamp:n,origin:w.NavigationConversationOrigin.SystemNotification,causeId:t})})))}else if(e.category===K.LocalNotificationIds.AUTH_BACKGROUND_REFRESH_CATEGORY_IDENTIFIER)o=m.default.fireBackgroundRefreshTask();else if(e.category===K.LocalNotificationIds.PRESENCE_CHANGE_IDENTIFIER||e.category===K.LocalNotificationIds.OLD_FRIEND_BACK_NOTIFICATION_IDENTIFIER){const o=e.serviceSpecificData,n=o?o.conversationId:void 0,r=e.category===K.LocalNotificationIds.OLD_FRIEND_BACK_NOTIFICATION_IDENTIFIER;n&&(i=w.AppEntryPoint.ChatNotification,o.eventType&&D.track(new q.NotificationAppLaunched(o.eventType,n)),D.track(new X.PresenceChangeNotificationClicked),D.log(w.LogTraceArea.Notifications,"CHAT_ACTION_DEFAULT, navigateToConversation "+J.mriOrId(n)+", causeId: "+t),(0,M.setIntent)(M.Intent.Chat),W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:n,origin:r?w.NavigationConversationOrigin.OldFriendBackNotification:w.NavigationConversationOrigin.PresenceChangeNotification,causeId:t}))}else if(e.category===K.LocalNotificationIds.LOGOUT_REMINDER_IDENTIFIER||e.category===K.LocalNotificationIds.MSA_INTERRUPT_REMINDER_IDENTIFIER){const t=e.category===K.LocalNotificationIds.MSA_INTERRUPT_REMINDER_IDENTIFIER;D.log(w.LogTraceArea.Notifications,t?"MSA interrupt notification clicked":"Logout reminder notification clicked"),D.track(new de.MSAInterruptNotificationClicked(t))}else e.category===K.LocalNotificationIds.CONTENT_CHANNEL_CONTENT_IDENTIFIER&&(i=w.AppEntryPoint.ContentChannelNotification,(0,M.setIntent)(M.Intent.Channel),(0,he.handleChannelsPushNotificationAction)(e.identifier||K.LocalNotificationIds.ACTION_DEFAULT,e.serviceSpecificData));e.notificationProcessingId&&(D.log(w.LogTraceArea.Notifications,"_handleLocalNotificationEventReceived with a promise: "+!!o),o?o.always((t=>{D.log(w.LogTraceArea.Notifications,"_handleLocalNotificationEventReceived resolved or rejected. CMID: "+t),c.LocalNotifications.notificationProcessingCompleted(e.notificationProcessingId)})):c.LocalNotifications.notificationProcessingCompleted(e.notificationProcessingId)),i&&R.trackEntryPoint(i),a||window.focus(),e.wakeLockId&&l.default.release(e.wakeLockId,"Notifications:quickreply")}_sendRawMessage(e,t){return D.track(new U.MessagingToastQuickActionEvent(U.MessagingToastQuickAction.InlineReply,e)),V.sendRawMessage(e,t)}_navigateToConversation(e,t,i,o){(0,M.setIntent)(M.Intent.Chat),W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:e,scrollToTimestamp:o,shouldAutoFocusInput:!0,origin:i,causeId:t})}_processMessageInfoForNotifications(e){return this._startMessageNotificationsService().then((()=>F.default.processMessageInfoForNotifications(e)))}_startMessageNotificationsService(){return ne.EnsureStartedOnly(F.default,[Q.default,j.default])}_generateMissedCallMessageHelper(e,t,i){t&&P.isMri(t)||(t=e);const o=e=>e?k.default.getDisplayableProfilePotentiallyBeforeStartupAsync(e):p.Resolved(void 0);return p.all([o(e),o(t)]).then((([e,o])=>{const n=G.getNotificationIcon(e,o),r=e?e.getDisplayName():O.getString("Notifications.IncomingCallUnknownCaller");let a,s;if(!t||P.isOneOnOneConversation(t)){let e;a=r,e=t&&P.isEncryptedThread(t)?i?"Notifications.MissedCallMessageEncryptedOneOnOnePermissionRejected":"Notifications.MissedCallMessageEncryptedOneOnOne":i?"Notifications.MissedCallMessageOneOnOnePermissionRejected":"Notifications.MissedCallMessageOneOnOne",s=O.getString(e,{caller:r,emoji:A.getEmojiSupport()})}else{const e=o?o.getDisplayName():O.getString("Notifications.UnknownGroupConversation");a=e,s=O.getString(i?"Notifications.MissedCallMessageGroupPermissionRejected":"Notifications.MissedCallMessageGroup",{caller:r,group:e})}return{message:s,title:a,notificationIcon:n}}))}_assumeCall(e,t,i,o,n){return S.default.loadCallingBundle().then((()=>_.default.CallingStore.assumeCall(e,t,i,o,n)))}_shouldDisableCallNotification(){return(0,le.isForceUpdateEnabled)()}displayMissedP2PCallNotification(e,t){return this._shouldDisableCallNotification()?p.Resolved():(D.log(w.LogTraceArea.Notifications,"displayMissedP2PCallNotification: Received P2P call for callId: "+e.callId+" callerMri:"+J.mriOrId(e.callerMri||"")+" conversationMri:  "+J.mriOrId(e.conversationMri||"")+" participantId: "+e.participantId+" causeId: "+t),this._generateMissedCallMessageHelper(e.callerMri,e.conversationMri,!1).then((t=>{c.LocalNotifications.show({category:K.LocalNotificationIds.MISSED_P2P_CALL_CATEGORY_IDENTIFIER,title:t.title,message:t.message,serviceSpecificData:K.prepareDataForNotification(e),icon:t.notificationIcon,id:e.participantId})})))}maybeDisplayMissedCallNotification({callId:e,reason:t,callerMri:i,conversationMri:o,participantId:n},r){return D.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[maybeDisplayMissedCallNotification]",`[${r}]`,"requested  to display a missed call notification for",`callId: ${e}`,`reason: ${t}`),this._shouldDisableCallNotification()?(D.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[maybeDisplayMissedCallNotification]",`[${r}]`,"skipping missed call notification because this._shouldDisableCallNotification() returned true"),p.Resolved()):i?"NoAnswer"!==t&&"NoAnswerCallerCancelled"!==t&&"RejectedDueToNoMicPermission"!==t?(D.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[maybeDisplayMissedCallNotification]",`[${r}]`,"unsupported reason, skipping missed call notification",`reason: ${t}`),p.Resolved()):p.fromThenable(this._displayMissedCallNotification(e,t,i,o,n,r)):(D.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[maybeDisplayMissedCallNotification]",`[${r}]`,"callerMri or conversationMri is missing, skipping missed call notification",`callerMri: ${J.mriOrId(i)}`,`conversationMri: ${J.mriOrId(o)}`),p.Resolved())}_displayMissedCallNotification(e,t,i,n,r,a){return o.__awaiter(this,void 0,void 0,(function*(){this.clearCallNotifications(e,r);const o=G.isCallerAllowed(i,!1,a).toEs6Promise().then((e=>e!==w.PersonAllowed.Allowed?(D.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[_displayMissedCallNotification]","suppressing missed call notification because the caller is not allowed",`causeId: ${a}`),Promise.reject(new Error("Caller is blocked, suppressing notification"))):Promise.resolve())),s=I.isDisabledCallNotification().toEs6Promise().then((e=>e?(D.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[_displayMissedCallNotification]","DND is on, suppressing notification ",`causeId: ${a}`),Promise.reject(new Error("DND is on, suppressing notification"))):Promise.resolve()));try{yield Promise.all([o,s]);const{title:e,message:a,notificationIcon:l}=yield this._generateMissedCallMessageHelper(i,n,"RejectedDueToNoMicPermission"===t);c.LocalNotifications.show({category:K.LocalNotificationIds.MISSED_CALL_CATEGORY_IDENTIFIER,title:e,message:a,icon:l,id:r})}catch(e){D.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[_displayMissedCallNotification]",`[${a}]]`,"failed to display missed call notification",`error: ${e}`)}}))}clearCallNotifications(e,t){t&&c.LocalNotifications.cancel({id:t}),c.LocalNotifications.cancel({id:e})}}},788980:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(331654)),a=o.__importStar(i(397691)),s=i(815146),l=o.__importStar(i(85385)),c=o.__importDefault(i(655192));o.__importDefault(i(48076));t.default=new class{constructor(){this._orientationList=[]}addOrUpdateOrientationLock(e,t,i=!1){return a.Resolved(void 0)}addOrUpdateOrientationLockNoTabletCheck(e,t){return a.Resolved(void 0)}removeOrientationLock(e){const t=n.findIndex(this._orientationList,(t=>t.key===e));-1!==t&&(l.log(s.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager: Popping orientation entry for "+e),this._orientationList.splice(t,1),this._updateOrientationLock())}_addOrientationListEntry(e){const t=n.findIndex(this._orientationList,(t=>t.key===e.key));-1!==t?(this._orientationList[t]=e,l.log(s.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager: Modified old orientation entry - "+e.key)):(l.log(s.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager: Pushed new orientation entry - "+e.key),this._orientationList.push(e))}_updateOrientationLock(){const e=n.last(this._orientationList);return e&&e.orientation!==r.DeviceOrientation.Unlocked?(l.log(s.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager: lock orientation "+e.orientation),r.default.lockOrientation(e.orientation).then(n.noop,(e=>{l.warn(s.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager lockOrientation failed: "+c.default.errorAsString(e))}))):(l.log(s.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager: unlocking orientation"),r.default.unlockOrientation().then(n.noop,(e=>{l.warn(s.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager unlockOrientation failed: "+c.default.errorAsString(e))})))}}},921691:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(380157),a=i(279211),s=o.__importStar(i(397691)),l=i(815146),c=o.__importStar(i(85385)),d=o.__importDefault(i(510335)),u=o.__importDefault(i(201721)),p=(o.__importDefault(i(363091)),o.__importDefault(i(960218))),g=o.__importStar(i(28823)),h=o.__importDefault(i(251733)),m=i(527703),S=o.__importDefault(i(506082)),_=o.__importDefault(i(902530)),f=o.__importStar(i(446574)),y=(o.__importDefault(i(655192)),i(331079)),C=(o.__importStar(i(442699)),o.__importDefault(i(800449))),v=o.__importDefault(i(760989)),b=(o.__importStar(i(437782)),i(340053)),T=o.__importDefault(i(150343));t.default=new class{constructor(){this._showNotificationPermissionStatus=r.PermissionStatus.Unknown,f.RegisterStartupable(this,"NotificationPermissionService",[u.default,h.default,_.default,C.default]),d.default.registerForLogout(this,"NotificationPermissionService")}startup(){if(h.default.permissionStatus(y.PermissionType.Notifications)===r.PermissionStatus.Granted||this._wasPromptedForPermissionInSetup()){Date.now();this.initNotificationsAndRequestPermissions().then((()=>{0}),(e=>{0}))}else{c.log(l.LogTraceArea.Push,"Deferring notification init until initial permission prompt");const e=u.default.subscribe((()=>{this._wasPromptedForPermissionInSetup()&&(c.log(l.LogTraceArea.Push,"Notification init continuing - initial permission prompt complete"),this.initNotificationsAndRequestPermissions(),u.default.unsubscribe(e))}))}return T.default.isWebNotificationPromptCooldownEnabledNoSubscription()&&(this._permissionStoreSubToken=h.default.subscribe((()=>{const e=h.default.permissionStatus(y.PermissionType.Notifications);this._showNotificationPermissionStatus=e,e!==r.PermissionStatus.Granted&&this.reset()}))),s.Resolved()}destroy(){void 0!==this._permissionStoreSubToken&&h.default.unsubscribe(this._permissionStoreSubToken)}logout(e,t,i){return p.default.unsubscribeFromAllNotifications()}getShowNotificationPermissionStatus(){return this._showNotificationPermissionStatus}initNotificationsAndRequestPermissions(e=!1){if(this._showNotificationPermissionStatus!==r.PermissionStatus.Unknown)return c.log(l.LogTraceArea.Push,"Notification init called with known permission state: "+r.PermissionStatus[this._showNotificationPermissionStatus]),s.Resolved(this._showNotificationPermissionStatus);if(this._notificationPermissionPromise&&!e)return c.log(l.LogTraceArea.Push,"Notification init called and awaiting permissions"),this._notificationPermissionPromise;const t=v.default.newCauseId();return c.log(l.LogTraceArea.Push,"initializeNotification causeId: "+t),this._notificationPermissionPromise=this._initializePushNotificationsAndRequestPushPermissions().then((e=>(c.track(new b.NotificationsRequestResult(e?r.PermissionStatus.Granted:r.PermissionStatus.Denied,y.PermissionSubType.NotificationPush,r.PermissionOrigin.NotificationPrompt)),p.default.initializeLocalNotifications().then((i=>{if(c.log(l.LogTraceArea.Push,"Notification permission grant status: PUSH: "+e+" LOCAL: "+r.PermissionStatus[i]+", causeId: "+t),c.track(new b.NotificationsRequestResult(i,y.PermissionSubType.NotificationLocal,r.PermissionOrigin.NotificationPrompt)),this._showNotificationPermissionStatus=e?i:r.PermissionStatus.Denied,!T.default.isWebNotificationPromptCooldownEnabledNoSubscription()){const e=h.default.subscribe((()=>{h.default.permissionStatus(y.PermissionType.Notifications)===r.PermissionStatus.Granted&&(c.log(l.LogTraceArea.Push,"Notification permission granted due to PermissionsStore update"),this._showNotificationPermissionStatus=r.PermissionStatus.Granted,h.default.unsubscribe(e))}))}return this._showNotificationPermissionStatus}))))),this._notificationPermissionPromise.finally((()=>{this._notificationPermissionPromise=void 0}))}_wasPromptedForPermissionInSetup(){const e=u.default.getUserPreferencesLocal();return!!e.wasPromptedAboutPermissions||!!e.isSetupWizardCompleted}_initializePushNotificationsAndRequestPushPermissions(){const e=S.default.isLoginSession();return(e?a.PushNotifications.clearUnacknowledgedNotifications():a.PushNotifications.getUnacknowledgedNotifications()).then((t=>{const i=v.default.newCauseId();t&&0!==t.length?(c.log(l.LogTraceArea.Push,"Found "+t.length+" unacknowledged notifications causeId: "+i),n.each(t,(t=>{const o=t.serviceSpecificData;if(!o)return void c.error(l.LogTraceArea.Push,"Push notification serviceSpecificData was missing causeId: "+i);const n=o.data||o,r=n&&n.eventType?Number(n.eventType):m.PNHEvents.IncomingUnknown;c.log(l.LogTraceArea.Push,"Logging not processed notification of type "+r+" causeId: "+i),c.track(new g.NotificationNotProcessedEvent(r,!e,t.receivedTimeMs,_.default.CallingNodeId.get())),e||a.PushNotifications.acknowledgeNotificationReceived(t),p.default.addPushNotificationToQueue(t,i)})),p.default.event_pushNotificationQueueChanged.fire()):c.log(l.LogTraceArea.Push,"No unacknowledged notifications found causeId: "+i)})),p.default.initializePushNotifications().then((e=>e===r.PermissionStatus.Granted))}reset(){this._showNotificationPermissionStatus=r.PermissionStatus.Unknown,this._notificationPermissionPromise=void 0}test_reset(){this.reset()}}},960218:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(819059)),a=i(279211),s=o.__importDefault(i(974634)),l=o.__importStar(i(397691)),c=o.__importDefault(i(150343)),d=i(815146),u=o.__importStar(i(85385)),p=o.__importStar(i(704704)),g=i(528196),h=o.__importStar(i(446574)),m=o.__importDefault(i(655192)),S=o.__importDefault(i(139221)),_=i(269296),f=o.__importDefault(i(800449)),y=i(843890),C=o.__importDefault(i(760989));t.default=new class{constructor(){this._pushNotificationQueue=[],this.event_pushNotificationQueueChanged=new s.default,this._localNotificationQueue=[],this.event_localNotificationQueueChanged=new s.default,this._localEngagementNotificationQueue=[],this.event_localEngagementNotificationQueueChanged=new s.default,this._trouterNotificationQueue=[],this.event_trouterNotificationQueueChanged=new s.default,this._subscriptions=[],h.RegisterStartupable(this,"NotificationQueueService")}startup(){this._clearSubscriptions(),this._pushNotificationQueue=[],this._localNotificationQueue=[],this._localEngagementNotificationQueue=[],this._subscriptions.push(a.PushNotifications.notificationReceivedEvent.subscribe((e=>{this._receivedPushNotifications([e])})));const e=a.PushNotifications.drainInitialNotificationQueue();e.length&&this._receivedPushNotifications(e),this._subscriptions.push(a.LocalNotifications.localNotificationEventReceivedEvent.subscribe((e=>{this._receivedLocalNotifications([e])})));const t=a.LocalNotifications.drainInitialNotificationQueue();return t.length&&this._receivedLocalNotifications(t),this._subscriptions.push(f.default.messageReceived.subscribe((e=>{this._receivedTrouterNotifications([e])}))),l.Resolved()}_clearSubscriptions(){const e=this._subscriptions;this._subscriptions=[],n.each(e,(e=>e.unsubscribe()))}unsubscribeFromAllNotifications(){if(this._clearSubscriptions(),this._appConfigStoreSubscription){const e=this._appConfigStoreSubscription;this._appConfigStoreSubscription=void 0,c.default.unsubscribe(e)}return a.LocalNotifications.uninitialize(),a.PushNotifications.uninitialize().always(n.noop)}addPushNotificationToQueue(e,t){this._pushNotificationQueue.push({notification:e,causeId:t})}hasQueuedPushes(){return this._pushNotificationQueue.length>0}getPushNotificationQueue(){return n.clone(this._pushNotificationQueue)}confirmPushNotificationProcessed(e){this._pushNotificationQueue=n.filter(this._pushNotificationQueue,(t=>t.notification!==e)),a.PushNotifications.acknowledgeNotificationReceived(e)}hasQueuedLocalNotifications(){return this._localNotificationQueue.length>0}fetchAndDrainLocalNotificationQueue(){const e=this._localNotificationQueue;return this._localNotificationQueue=[],e}fetchAndDrainLocalEngagementNotificationQueue(){const e=this._localEngagementNotificationQueue;return this._localEngagementNotificationQueue=[],e}hasQueuedTrouterNotifications(){return this._trouterNotificationQueue.length>0}fetchAndDrainTrouterNotificationQueue(){const e=this._trouterNotificationQueue;return this._trouterNotificationQueue=[],e}handleLocalNoticationAction(e){return r.default.requestMaxTime("Notifications:quickreply").then((t=>{const i=Object.assign(Object.assign({},e),{wakeLockId:t});this._receivedLocalNotifications([i])})).catch((e=>{u.error(d.LogTraceArea.Push,"_handleLocalNoticationAction, Failed to get wakelock - "+(e?m.default.errorAsString(e):""))})).always((()=>{}))}initializePushNotifications(){const e={categories:this._getSupportedLocalNotificationCategories(),enableAlertNotifications:y.UICapabilities.alertNotificationEnabled()};return a.PushNotifications.initialize(e)}initializeLocalNotifications(e=!1){const t={categories:this._getSupportedLocalNotificationCategories(),startupInitialization:e};return a.LocalNotifications.initialize(t)}_receivedPushNotifications(e){const t=C.default.newCauseId();u.log(d.LogTraceArea.Push,"notificationReceivedEvent causeId: "+t),this._pushNotificationQueue.push(...n.map(e,(e=>({notification:e,causeId:t})))),this.event_pushNotificationQueueChanged.fire()}_receivedLocalNotifications(e){const t=C.default.newCauseId();u.log(d.LogTraceArea.Notifications,"localNotificationEventReceivedEvent causeId: "+t);const i=n.partition(e,(e=>e.category===_.TPUM_CATEGORY_IDENTIFIER||e.category===g.LocalNotificationIds.SIGNIN_REMINDER_IDENTIFIER||e.category===g.LocalNotificationIds.SIGNOUT_REMINDER_IDENTIFIER));i[0].length&&(this._localEngagementNotificationQueue.push(...n.map(e,(e=>({notification:e,causeId:t})))),this.event_localEngagementNotificationQueueChanged.fire()),i[1].length&&(this._localNotificationQueue.push(...n.map(e,(e=>({notification:e,causeId:t})))),this.event_localNotificationQueueChanged.fire())}_receivedTrouterNotifications(e){const t=C.default.newCauseId();u.log(d.LogTraceArea.Notifications,"trouterNotificationReceivedEvent causeId: "+t),this._trouterNotificationQueue.push(...n.map(e,(e=>({notification:e,causeId:t})))),this.event_trouterNotificationQueueChanged.fire()}_getSupportedLocalNotificationCategories(){const e=[],t={title:p.getString("LocalNotificationCallCategory.AcceptEventTitle"),identifier:g.LocalNotificationIds.CALL_ACTION_ACCEPT_IDENTIFIER,activationMode:a.NotificationActionActivationMode.Foreground,icon:g.LocalNotificationIds.CALL_ACTION_ACCEPT_ICON},i={title:p.getString("LocalNotificationCallCategory.RejectEventTitle"),identifier:g.LocalNotificationIds.CALL_ACTION_REJECT_IDENTIFIER,activationMode:a.NotificationActionActivationMode.Background,icon:g.LocalNotificationIds.CALL_ACTION_REJECT_ICON};e.push({identifier:g.LocalNotificationIds.CALL_CATEGORY_IDENTIFIER,context:a.NotificationCategoryContext.Minimal,actions:[t,i]});const o={title:p.getString("LocalNotificationGoLiveCategory.JoinEventTitle"),identifier:g.LocalNotificationIds.GO_LIVE_ACTION_JOIN_IDENTIFIER,activationMode:a.NotificationActionActivationMode.Foreground};e.push({identifier:g.LocalNotificationIds.GO_LIVE_CATEGORY_IDENTIFIER,context:a.NotificationCategoryContext.Minimal,actions:[o]});const n={title:p.getString("LocalNotificationCallCategory.CallBackEventTitle"),identifier:g.LocalNotificationIds.CALLBACK_REMINDER_ACTION_CALL_IDENTIFIER,activationMode:a.NotificationActionActivationMode.Foreground};e.push({identifier:g.LocalNotificationIds.CALLBACK_REMINDER_CATEGORY_IDENTIFIER,context:a.NotificationCategoryContext.Minimal,actions:[n]});const r={title:p.getString("LocalNotificationChatCategory.ThumbsUp"),identifier:g.LocalNotificationIds.CHAT_ACTION_THUMBSUP_IDENTIFIER,activationMode:a.NotificationActionActivationMode.Background,icon:g.LocalNotificationIds.CHAT_ACTION_THUMBSUP_ICON};let s;s=(S.default.getPlatformType(),d.PlatformType.Android,{title:p.getString("LocalNotificationChatCategory.Reply"),identifier:g.LocalNotificationIds.CHAT_ACTION_REPLY_IDENTIFIER,activationMode:a.NotificationActionActivationMode.Background,behavior:a.NotificationActionBehavior.TextInput,textInputLabel:p.getString("LocalNotificationChatCategory.SendButton"),icon:g.LocalNotificationIds.CHAT_ACTION_REPLY_ICON});const l=[r,s],u=c.default.getS4LMessagingFeaturesNoSubscription().enableMarkAsReadNotificationAction;if(u||S.default.getPlatformType()===d.PlatformType.Android){const e={title:p.getString("LocalNotificationChatCategory.MarkAsRead"),identifier:g.LocalNotificationIds.CHAT_ACTION_MARK_AS_READ_IDENTIFIER,activationMode:a.NotificationActionActivationMode.Background,behavior:a.NotificationActionBehavior.Default,isForCarOnly:!u};l.push(e)}e.push({identifier:g.LocalNotificationIds.CHAT_CATEGORY_IDENTIFIER,context:a.NotificationCategoryContext.Minimal,actions:l});const h={title:p.getString("LocalNotificationCallCategory.CallBackEventTitle"),identifier:g.LocalNotificationIds.MISSED_CALL_BACK_IDENTIFIER,activationMode:a.NotificationActionActivationMode.Foreground};e.push({identifier:g.LocalNotificationIds.MISSED_CALL_CATEGORY_IDENTIFIER,context:a.NotificationCategoryContext.Minimal,actions:[h]}),e.push({identifier:g.LocalNotificationIds.MISSED_P2P_CALL_CATEGORY_IDENTIFIER,context:a.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:_.TPUM_CATEGORY_IDENTIFIER,context:a.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.E2EE_CATEGORY_IDENTIFIER,context:a.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.INBOUND_VIDEO_CALL_IDENTIFIER,context:a.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.LOGOUT_REMINDER_IDENTIFIER,context:a.NotificationCategoryContext.Minimal,actions:[]});const m={title:p.getString("ScheduledCallCard.AcceptButton"),identifier:g.LocalNotificationIds.SCHEDULED_CALL_INVITE_ACCEPT,activationMode:a.NotificationActionActivationMode.Background},f={title:p.getString("ScheduledCallCard.DeclineButton"),identifier:g.LocalNotificationIds.SCHEDULED_CALL_INVITE_DECLINE,activationMode:a.NotificationActionActivationMode.Background};return e.push({identifier:g.LocalNotificationIds.SCHEDULED_CALL_INVITE,context:a.NotificationCategoryContext.Minimal,actions:[m,f,s]}),e.push({identifier:g.LocalNotificationIds.SCHEDULED_CALL_INVITE_EDIT,context:a.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.SCHEDULED_CALL_INVITE_RESPONSE,context:a.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.SCHEDULED_CALL_REMINDER,context:a.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.SCHEDULED_CALL_PREREMINDER,context:a.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.POLL_REMINDER,context:a.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.POLL_PREREMINDER,context:a.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.SIGNIN_REMINDER_IDENTIFIER,context:a.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.SIGNOUT_REMINDER_IDENTIFIER,context:a.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.CONTENT_CHANNEL_CONTENT_IDENTIFIER,context:a.NotificationCategoryContext.Default,actions:[]}),e}test_reset(){this._pushNotificationQueue=[],this._localNotificationQueue=[],this._localEngagementNotificationQueue=[],this._trouterNotificationQueue=[],this._clearSubscriptions()}}},374117:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importDefault(i(556587)),r=o.__importDefault(i(574489)),a=o.__importDefault(i(999261)),s=o.__importStar(i(704704)),l=o.__importDefault(i(450312)),c=o.__importDefault(i(808222)),d=o.__importStar(i(446574)),u=o.__importDefault(i(601274));t.default=new class{constructor(){this._firstSyncFinished=!1,this._basePageTitle="Skype",this._currentBlinkingActivityItemCount=0,this._blinkingIndicatorIsShowingActivity=!1,d.RegisterStartupable(this,"PageTitleService",[n.default,r.default,l.default])}startup(){return Promise.resolve()}_redisplayTitle(){this._firstSyncFinished&&(this._clearBlinkingTimer(),!a.default.isCurrentUserActive()&&this._currentBlinkingActivityItemCount>0&&(this._blinkingActivityInterval=u.default.setInterval((()=>this._toggleBetweenBaseTitleAndActivity()),1200)))}_toggleBetweenBaseTitleAndActivity(){a.default.isCurrentUserActive()?this._clearBlinkingTimer():(this._blinkingIndicatorIsShowingActivity?document.title=this._getActivityTitle():document.title=this._basePageTitle,this._blinkingIndicatorIsShowingActivity=!this._blinkingIndicatorIsShowingActivity)}_clearBlinkingTimer(){this._blinkingActivityInterval&&(u.default.clearInterval(this._blinkingActivityInterval),this._blinkingActivityInterval=void 0),this._blinkingIndicatorIsShowingActivity=!1,document.title=this._basePageTitle}_getActivityTitle(){return s.getString("PageTitleService.ActivityTitle",{activityItemCount:this._currentBlinkingActivityItemCount})}_getPageTitleForNavigationContext(){return[c.default.pageTitle].reverse().join(" | ")}}},193604:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(154235),r=i(815146),a=o.__importDefault(i(942724)),s=o.__importDefault(i(450312)),l=o.__importStar(i(446574)),c=o.__importDefault(i(954566));t.default=new class{constructor(){this._handlingPopState=!1,this._navigatingToNewPlace=!1,l.RegisterStartupable(this,"PageUrlService",[s.default])}startup(){return Promise.resolve()}_onNavigationStateStoreChange(){if(!this._handlingPopState){let e;if(a.default.isUsingStackNavigationContext()){const t=s.default.getCurrentNavigationStackRoute();e=c.default.getUrlForNavigationContextStack(null==t?void 0:t.name,null==t?void 0:t.params)}else{const t=s.default.getActiveConversationState();e=c.default.getUrlForCompositeConversationNavigationContext(t)}this._navigatingToNewPlace=!0,window.history.pushState(null,"",e),this._navigatingToNewPlace=!1}}_onUrlChange(e){if(this._navigatingToNewPlace)return;this._handlingPopState=!0;c.default.getNavigationActionForDeepLink(window.location.href,r.NavigationConversationOrigin.OnUrlChange,n.MainRootViewId).then((e=>{e&&e.action()})).always((()=>{this._handlingPopState=!1}))}}},684604:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(279211),a=(o.__importStar(i(516778)),o.__importStar(i(397691))),s=o.__importDefault(i(389659)),l=i(815146),c=o.__importStar(i(85385)),d=(o.__importStar(i(405640)),o.__importStar(i(437782))),u=o.__importStar(i(446574)),p=i(123117);t.default=new class{constructor(){this._pendingNotifications=[],this._conversationSnooze={},u.RegisterStartupable(this,"PersistedNotificationsService")}startup(){const e=this._supportsPersistedLocalNotifications()?a.fromThenable(p.LocalNotificationsRepository.getLocalNotifications()).then((e=>{this._pendingNotifications=n.compact(e);const t=e.length-this._pendingNotifications.length;t&&c.warn(l.LogTraceArea.Notifications,"Found "+t+" falsy notifications!"),this.cullOldNotifications()})):a.Resolved(),t=r.LocalNotifications.supportsStackedNotifications().then((e=>this._supportsStackedNotifications=e));return a.all([e,t]).then(n.noop).toEs6Promise()}_supportsPersistedLocalNotifications(){return!1}supportsStackedNotifications(){return this._supportsStackedNotifications}saveLocalNotification(e,t=!1){if(!this._supportsPersistedLocalNotifications())return a.Resolved();if(t){const t=t=>e.conversationId===t.conversationId&&e.messageTimestamp<=t.messageTimestamp;if(n.some(this._pendingNotifications,t))return a.Resolved()}const i=n.clone(e);i.sound=void 0,i.silent=!0,i.enableVibration=!1,this.cullOldNotifications(!1);const o=a.fromThenable(p.LocalNotificationsRepository.putLocalNotifications([i]));return this._pendingNotifications.push(i),o}cancelNotificationsForConversation(e,t,i=!0,o=!0,r=!1){const a=[],s=[];let u=0,g=0;n.each(this._pendingNotifications,(i=>{const o=i.conversationId===e,n=i.serviceSpecificData&&i.serviceSpecificData.eventType===l.NotificationTypeAppLaunched.Reaction;o&&i.messageTimestamp<=t&&!n?a.push(i):o?(n?g++:u++,s.push(i)):s.push(i)})),o&&this._conversationSnooze[e]&&this._conversationSnooze[e].createdAt<=t&&(c.log(l.LogTraceArea.Notifications,"Cancelling snooze for "+d.mriOrId(e)),delete this._conversationSnooze[e]),a.length>0&&(c.log(l.LogTraceArea.Notifications,"Conversation "+d.mriOrId(e)+": cancelling "+a.length+" notifications, cutoff time: "+t+"; "+s.length+" still active ("+u+" from this conversation and "+g+" reactions)"),this._pendingNotifications=s,p.LocalNotificationsRepository.removeLocalNotifications(a),this.cancelNotifications(a,i,!1))}snoozeConversation(e,t){this._conversationSnooze[e]=t}getConversationSnooze(e){return this._conversationSnooze[e]}cancelNotificationById(e){const[t,i]=n.partition(this._pendingNotifications,(t=>t.id===e));t.length>0&&(this._pendingNotifications=i,c.log(l.LogTraceArea.Notifications,"Cancelling "+t.length+" notifications, id: "+d.mriOrId(e)+"; "+i.length+" still active"),p.LocalNotificationsRepository.removeLocalNotifications(t),this.cancelNotifications(t))}sortAllLocalNotificationsByTimeDesc(){return n.orderBy(this._pendingNotifications,(e=>e.timestamp),"desc")}removeAllLocalNotifications(){this._pendingNotifications.length>0&&(p.LocalNotificationsRepository.removeLocalNotifications(this._pendingNotifications),this._pendingNotifications=[],this.cancelNotifications([]))}cullOldNotifications(e=!0){const t=s.default.add(Date.now(),0,-7),i=[],o=[];n.each(this._pendingNotifications,(e=>{e.timestamp<=t?i.push(e):o.push(e)})),i.length>0&&(this._pendingNotifications=o,p.LocalNotificationsRepository.removeLocalNotifications(i),this.cancelNotifications(i,e))}cancelNotifications(e,t=!0,i=!1){n.each(e,(e=>{r.LocalNotifications.cancel(e)}))}}},591371:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=o.__importStar(i(434343)),s=i(815146),l=o.__importStar(i(85385)),c=o.__importDefault(i(652032)),d=o.__importDefault(i(114818)),u=o.__importStar(i(446574)),p=i(911016),g=o.__importDefault(i(760989)),h=i(123117);t.default=new class{constructor(){this._actions={},this._subscribers={},u.RegisterStartupable(this,"PersistentActionsService")}startup(){return r.fromThenable(h.PersistentActionsRepository.getPersistentActions()).then((e=>{const t=n.groupBy(e,(e=>e.actionType));n.each(t,((e,t)=>{n.each(e,(e=>{l.log(s.LogTraceArea.PersistentActionsService,"Startup Tracking: "+e.id+", Type: "+e.actionType),this._actions[e.id]=e}))}))}))}test_reset(){n.isEmpty(this._actions)||l.log(s.LogTraceArea.PersistentActionsService,"Test reset, subscriber count: "+n.size(this._subscribers)+", actions being removed: ["+n.keys(this._actions).join(", ")+"]"),this._actions={},this._subscribers={}}subscribe(e,t){this._subscribers[e]=t;const i=n.filter(this._actions,(t=>t.actionType===e));t(n.map(i,(e=>e.data)),!0)}persistAndStartAction(e,t){const i=t;i.id=g.default.newGuid();const o={id:i.id,actionType:e,data:i};l.log(s.LogTraceArea.PersistentActionsService,"New Action: "+o.id+", Type: "+o.actionType),this._actions[o.id]=o,a.default.putPersistentAction(o),this._updateMetadata();const n=this._subscribers[e];return n&&n([o.data],!1),i}updateAction(e){const t=this._actions[e.id];return t?(t.data=e,r.fromThenable(h.PersistentActionsRepository.putPersistentAction(t))):r.Rejected()}removeAction(e){l.log(s.LogTraceArea.PersistentActionsService,"Removing Action: "+e),a.default.removePersistentAction(e),this._updateMetadata(),delete this._actions[e]}_updateMetadata(){const e=(0,p.transferServicesMeta)(n.map(this._actions,(e=>e.actionType))),t=c.default.getData(a.InternalKeys.TransferServicesMeta);if(!(0,d.default)(e,t))return c.default.putData(a.InternalKeys.TransferServicesMeta,e)}}},772306:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=o.__importDefault(i(199118)),s=i(279211),l=o.__importStar(i(516778)),c=o.__importStar(i(397691)),d=o.__importDefault(i(150343)),u=o.__importDefault(i(369347)),p=o.__importDefault(i(60433)),g=o.__importDefault(i(404547)),h=o.__importStar(i(964647)),m=o.__importDefault(i(304623)),S=o.__importStar(i(44717)),_=o.__importDefault(i(555436)),f=o.__importDefault(i(574489)),y=o.__importDefault(i(309304)),C=o.__importDefault(i(919682)),v=i(815146),b=i(120695),T=o.__importStar(i(85385)),P=o.__importDefault(i(984646)),k=o.__importDefault(i(446406)),A=o.__importDefault(i(510335)),I=o.__importDefault(i(201721)),w=o.__importDefault(i(683395)),x=o.__importDefault(i(363091)),N=o.__importDefault(i(960218)),D=o.__importStar(i(28823)),M=i(527703),L=o.__importStar(i(437782)),R=o.__importDefault(i(506082)),E=o.__importStar(i(446574)),B=o.__importDefault(i(664821)),O=o.__importDefault(i(655192)),F=o.__importStar(i(442699)),V=o.__importDefault(i(269296)),U=i(320403),j=o.__importDefault(i(685734)),H=o.__importDefault(i(760989)),W=i(512050),z=i(716266),G=i(567567);t.default=new class{constructor(){this._recentlyHandledMessages=[],this._subscriptions=[],E.RegisterStartupable(this,"PushNotificationsService",[m.default,I.default,N.default]),A.default.registerForLogout(this,"PushNotificationsService")}startup(){return this._startupTime=Date.now(),this._subscriptions.push(g.default.incomingCallMessageReceived.subscribe((e=>{const t=H.default.newCauseId();if(!d.default.getS4LCMCFeatures().enableMsnpFlamingoMessages)return void T.log(v.LogTraceArea.Push,"Ignoring chat-based call notification causeId: "+t);T.log(v.LogTraceArea.Push,"Received new incoming call notification via chat causeId: "+t);const i=p.default.incomingCallNotificationForFlamingo(e),o=r.attempt((()=>Date.parse(e.originalarrivaltime))),n=Date.now(),a=!o||r.isError(o)?o:n;u.default.CallNotificationHelpers.processIncomingCallNotification(i.evt,"msnp",i,a,n,t),u.default.CallNotificationHelpers.maybeDisposePendingWarmCallForNotification(i.evt)}))),this._subscriptions.push(N.default.event_pushNotificationQueueChanged.subscribe((()=>{this._drainPushQueue()}))),this._drainPushQueue(),R.default.performAfterUIStarted((()=>{u.default.CallNotificationHelpers.maybeDisposePendingWarmCall(v.WarmCallNotificationDisposition.FollowedByForegrounding)})),c.Resolved()}_drainPushQueue(){r.each(N.default.getPushNotificationQueue(),(e=>{this._processPushNotification(e.notification,e.causeId)}))}logout(e,t,i){const o=this._subscriptions;return this._subscriptions=[],r.each(o,(e=>e.unsubscribe())),a.default.setCount(0),c.Resolved()}_processPushNotification(e,t){if(!e)return void T.error(v.LogTraceArea.Push,"Push notification payload was missing causeId: "+t);T.log(v.LogTraceArea.Push,"Acknowledging notification with correlation ID "+e.correlationId+" causeId: "+t),N.default.confirmPushNotificationProcessed(e);const i=e.serviceSpecificData;if(!i)return void T.error(v.LogTraceArea.Push,"Push notification serviceSpecificData was missing causeId: "+t);const o=i.data||i;let a=M.PNHEvents.IncomingUnknown;o&&o.eventType&&(a=Number(o.eventType));const s=Date.now(),c=r.attempt((()=>new Date(e.receivedTimeMs||0).toISOString()));let h,S="Push notification received (UI: "+R.default.isUIDisplayed()+", Evt: "+a+", Time: "+(r.isError(c)?"unknown":c)+", causeId: "+t+", cv: "+o.cv+")";if(T.log(v.LogTraceArea.Push,S),o&&o.recipientId&&o.recipientId!==x.default.getSkypeId())return T.log(v.LogTraceArea.Push,"Push from "+L.mriOrId(o.recipientId)+" doesnt belong to current user "+L.mriOrId(x.default.getSkypeId())+" causeId: "+t+", cv: "+o.cv),T.track(new D.NotificationForIncorrectRecipientEvent(a,!0,e.receivedTimeMs,o.cv)),void this._notificationProcessingCompleted(e,t);if(u.default.CallNotificationHelpers.maybeDisposePendingWarmCallForNotification(a),B.default.startedProcessingPush(M.PNHEvents[a]),a)if(this._isMessageNotification(a)){const i=o;this._consumePresenceFromPush(i.presenceStatus,e.receivedTimeMs),h=this._processChatMessagePushNotification(i,e.receivedTimeMs||0,t)}else if(this._isConversationConsumptionHorizonNotification(a)){const i=o,n=i.conversationVersion?Number(i.conversationVersion):0;T.log(v.LogTraceArea.Push,"Processing incoming consumption horizon notification: "+L.mriOrId(i.conversationId)+" CH="+i.consumptionHorizon+", Version="+n+", causeId="+t+", cv: "+o.cv),this._consumePresenceFromPush(i.presenceStatus,e.receivedTimeMs),h=m.default.processPushNotificationConsumptionHorizon(i.conversationId,i.consumptionHorizon,n)}else if(a===M.PNHEvents.IncomingContactListChange)_.default.processContactListChangeNotification();else if(this._isContactNotification(a))_.default.processContactInviteNotification();else if(a===M.PNHEvents.IncomingContactBlockChange){const e=o;0;const t=r.toLower(e.parameters.context)===M.BlockContext;h=_.default.processContactBlockChangeNotificationPotentiallyBeforeStartup(t,e.parameters.contactMri)}else if(this._isCallNotification(a)){const i=o;0,h=u.default.CallNotificationHelpers.processIncomingCallNotification(a,"pnh",p.default.incomingCallNotificationForPnh(a,i),e.receivedTimeMs||0,s,t)}else if(a===M.PNHEvents.IncomingGoLiveStart){const i=o;h=u.default.CallNotificationHelpers.processIncomingGoLiveNotification(a,"pnh",p.default.incomingGoLivelNotificationForPnh(a,i),e.receivedTimeMs||0,s,t)}else if(a===M.PNHEvents.IncomingGoLiveStop){const i=o;h=u.default.CallNotificationHelpers.processGoLiveStopNotification(a,"pnh",p.default.stopGoLiveNotificationForPnh(a,i),e.receivedTimeMs||0,s,t)}else if(a===M.PNHEvents.IncomingP2PCall){const i=o;h=u.default.CallNotificationHelpers.processP2PCallNotification(a,"pnh",i,e.receivedTimeMs||0,s,t)}else if(a===M.PNHEvents.IncomingNGCStopRinger){const i=o;h=u.default.CallNotificationHelpers.processStopCallNotification("pnh",p.default.stopCallNotificationForPnh(a,i),e.receivedTimeMs||0,s,t)}else if(a===M.PNHEvents.IncomingWarmCall){const e=o,i=l.App.getActivationState()===l.Types.AppActivationState.Background&&Date.now()-this._startupTime<5e3;h=u.default.CallNotificationHelpers.processWarmCallNotification(i,e,t)}else if(a===M.PNHEvents.IncomingProfileChange)j.default.fetchUserPotentiallyBeforeStartup();else if(a===M.PNHEvents.IncomingAvatarChange)j.default.fetchUserAvatarUrlPotentiallyBeforeStartup();else if(a===M.PNHEvents.SceUserServicesChange)o?C.default.processSceUserServicesChangeNotification(o):T.error(v.LogTraceArea.Push,"PNHEvents.SceUserServicesChange missing pushNotificationData");else if(a===M.PNHEvents.IncomingTPUMConciergeMessage){const e=o;h=V.default.processTPUMNotification(e,t)}else if(a===M.PNHEvents.EmergencyRestoreEndpoints){const e=H.default.newCauseId(),t=new y.default(e);t.start(),l.App.getActivationState()===l.Types.AppActivationState.Active?(T.log(v.LogTraceArea.Push,"Push notification arrived while app in foreground. Ignoring payload. causeId: "+e+", cv: "+o.cv),t.ignored("AppActive"),t.finish()):h=E.EnsureStarted(g.default).then((()=>{const i=d.default.getConfigSettingsNoSubscription().chat.msgApiConfig;i.enabled&&i.isExclusive||g.default.restoreEndpoints(e,t)})).then(r.noop)}else this._isChannelsNotification(a)&&(0,W.handleChannelsPushNotification)(a,o);else T.error(v.LogTraceArea.Push,"Unknown push event type for payload: "+n.pii.Omit(JSON.stringify(e))+" causeId: "+t+", cv: "+o.cv);this._notificationProcessingCompleted(e,t,h,!1,o.cv)}_isConversationConsumptionHorizonNotification(e){return e===M.PNHEvents.IncomingConsumptionHorizonChange||e===M.PNHEvents.ConversationUpdateP2PFromV2}_isContactNotification(e){return e===M.PNHEvents.IncomingContactRequest||e===M.PNHEvents.IncomingContactAccept||e===M.PNHEvents.IncomingContactInviteListChange}_isCallNotification(e){return e===M.PNHEvents.IncomingNGCCall||e===M.PNHEvents.IncomingNGCGroupCall||e===M.PNHEvents.IncomingNGCPSTNCall||e===M.PNHEvents.IncomingS4BCall||e===M.PNHEvents.IncomingNGCEncryptedCall}_isMessageNotification(e){return e===M.PNHEvents.IncomingChatMessage||e===M.PNHEvents.IncomingChatGroupMessage||e===M.PNHEvents.IncomingChatMention||e===M.PNHEvents.IncomingChatHearts||e===M.PNHEvents.IncomingChatAudio||e===M.PNHEvents.IncomingChatVideo||e===M.PNHEvents.IncomingChatVideoCloud||e===M.PNHEvents.IncomingChatPhoto||e===M.PNHEvents.IncomingChatFile||e===M.PNHEvents.ThreadActivity||e===M.PNHEvents.MessageP2PFromV2||e===M.PNHEvents.ThreadActivityP2PFromV2}_isChannelsNotification(e){return e===M.PNHEvents.ContentChannelSync||e===M.PNHEvents.ContentChannelNotification}_consumePresenceFromPush(e,t){if(l.App.getActivationState()===l.Types.AppActivationState.Background&&e&&t&&d.default.getS4LMessagingFeatures().consumePresenceFromPush){const i=(0,G.parseStatus)(e);w.default.setStatus(U.UserPresenceChangeOrigin.PushNotification,i,t,z.UPSCallReasons.PresenceFromPush)}}_notificationProcessingCompleted({notificationProcessingId:e,isBackgroundPush:t},i,o,n=!1,r){(e||t)&&(o||c.Resolved()).always((()=>(T.log(v.LogTraceArea.Push,"pushProcessingPromise complete causeId: "+i+", cv: "+r),c.all([f.default.flushNotificationProcessingPromises(),k.default.flushNotificationProcessingPromises()])))).always((()=>{T.log(v.LogTraceArea.Push,"notificationPromises completed causeId: "+i+", cv: "+r),t?s.LocalNotifications.backgroundPushProcessingCompleted():e&&(n?E.EnsureStarted([k.default,P.default]).then((()=>{k.default.processDelayedCallNotification(e)})):s.LocalNotifications.notificationProcessingCompleted(e)),B.default.pushProcessingComplete()}))}_processChatMessagePushNotification(e,t,i){if(!e||!e.rawPayload)return void T.warn(v.LogTraceArea.Push,"Chat service notification missing rawPayload: "+n.pii.Omit(JSON.stringify(e))+" causeId: "+i+", cv: "+e.cv);const o=e.rawPayload,a=r.isString(o)?O.default.parseJsonErrorToUndefined(o):o;let s;if(a&&"conversationLink"in a?(a.type||(a.type="Message"),s=a):a&&"resource"in a&&(s=a.resource),!s)return T.error(v.LogTraceArea.Push,"Error parsing raw payload from chat service notification: "+O.default.errorAsString(s)+" causeId: "+i+", cv: "+e.cv+", Payload: "+n.pii.Omit(o)),void T.track(new D.NotificationRawContentNotParsed(e.eventType||M.PNHEvents.IncomingUnknown,0!==t?t:void 0,e.cv));{if(e.pnhTime&&!s.conversationLink)return void T.warn(v.LogTraceArea.Push,"Chat service notification missing rawPayload  property values: "+n.pii.Omit(JSON.stringify(e))+" causeId: "+i+", cv: "+e.cv);const t=(e.conversationId||"").replace("Skype:","8:"),o=s.conversationLink,a=r.last(o.split("/"));if(r.isString(s.isactive)&&(s.isactive="true"===s.isactive.toLowerCase()),r.isString(s.properties)&&(s.properties=O.default.parseJsonErrorToUndefined(s.properties)),r.isString(s.amsreferences)&&(s.amsreferences=O.default.parseJsonErrorToUndefined(s.amsreferences)),r.isString(s.encryptedkey)&&(s.encryptedkey=O.default.parseJsonErrorToUndefined(s.encryptedkey)),t!==a){const r=JSON.stringify(e);if(x.default.isMyMri(t))T.track(new F.DevDebug("BadPushV2",n.pii.Omit(r)));else{const l=o.substring(0,o.length-a.length)+t;s.conversationLink=l,T.warn(v.LogTraceArea.Push,"Push Notification mismatch between conversationId and conversationLink causeId: "+i+", cv: "+e.cv),T.track(new F.DevDebug("BadPushV1",n.pii.Omit(r)))}}}const l=S.getParsedConversationId(s);if(!l)return void T.error(v.LogTraceArea.Push,"Error parsing conversation ID from chat service notification: "+O.default.errorAsString(s)+" causeId: "+i+", cv: "+e.cv+", Payload: "+n.pii.Omit(o));if(x.default.isMyMri(l)){const t=JSON.stringify(e);T.track(new F.DevDebug("BadPush",n.pii.Omit(t))),T.error(v.LogTraceArea.Push,"Processed push as being in our own conversation: "+n.pii.Omit(t)+" causeId: "+i+", cv: "+e.cv)}const c=!s.isactive;if(r.some(this._recentlyHandledMessages,(e=>e.conversationLink===s.conversationLink&&e.id===s.id&&e.version>=s.version&&(!0===e.isactive||e.isactive===s.isactive))))return T.log(v.LogTraceArea.Push,"ignoring duplicate message (_recentlyHandledMessages) causeId: "+i+", cv: "+e.cv),void T.track(new D.NotificationIgnoredAsDuplicate(e.eventType||M.PNHEvents.IncomingUnknown,0!==t?t:void 0,e.cv));for(this._recentlyHandledMessages.push(s);this._recentlyHandledMessages.length>50;)this._recentlyHandledMessages.shift();const d=S.getCreatorMriForMessageFromLink(s.from),u=h.getCorrelationIdFromMessageParts(d,l,s.clientmessageid),p=S.isEncryptedThread(l)&&s.content===M.EncryptedContent;T.track(new b.FundamentalsMessagePushDebug(s.clientmessageid||"",u,"Received")),T.log(v.LogTraceArea.Push,"processing push notification, cv: "+e.cv+" conversationId="+L.mriOrId(l)+" id="+L.mriOrId(s.id)+" version="+s.version+" isOtherEndpointActive="+c+" causeId="+i+" CMID="+s.clientmessageid+" correlationId="+u+" eventType="+(e.eventType||"N/A")+" isEncryptedContentMissing="+p);const _=s;return p?E.EnsureStarted(g.default).then((()=>g.default.serviceGetConversationMessage(l,_.id).then((t=>(r.assign(t,{isactive:_.isactive}),m.default.processPushNotificationMessage(t,l,v.MessageOrigin.PushNotification,e.cv)))))):m.default.processPushNotificationMessage(s,l,v.MessageOrigin.PushNotification,e.cv).done((()=>{T.track(new b.FundamentalsMessagePushDebug(_.clientmessageid||"",u,"Processed"))})).fail((e=>{T.track(new b.FundamentalsMessagePushDebug(_.clientmessageid||"",u,"ProcessingFailed","Error processing bundle: "+O.default.errorAsString(e)))}))}test_clearRecentlyHandledMessages(){this._recentlyHandledMessages=[]}}},144300:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=o.__importStar(i(167606)),s=i(167606),l=o.__importDefault(i(730215)),c=o.__importStar(i(397691)),d=o.__importDefault(i(150343)),u=i(843890),p=o.__importStar(i(637961)),g=i(85385),h=i(21189),m=o.__importStar(i(446574));t.default=new class{constructor(e=[]){this._SERVICE_NAME="QuickActionsService",m.RegisterStartupable(this,this._SERVICE_NAME,e)}startup(){if(!u.UICapabilities.quickActionsSupported()||!l.default.isSystemSupported)return Promise.resolve();this._pinnedShortcutsTelemetry();let e=!1;const t=this._updateQuickActionsMenu();return d.default.subscribe((()=>{e||(e=!0,p.default.queueIdleTask("QuickActions",p.TaskTypeFlags.UsesNetworking,(()=>{a.log(s.LogTraceArea.QuickActionsService,"Received ECS Updates."),e=!1,t.then((()=>{this._updateQuickActionsMenu()}),(e=>{a.warn(s.LogTraceArea.QuickActionsService,"Update Failed."+n.pii.Omit(JSON.stringify(e)))}))})))})),Promise.resolve()}getInitialUrl(){return l.default.getAndClearInitialUrl()}_updateQuickActionsMenu(){a.log(s.LogTraceArea.QuickActionsService,"updating.");const e=d.default.getS4LNativePlatformsEcsConfig().quickActions,t=e.enabled;if(!t&&t!==this._lastEnable)return a.log(s.LogTraceArea.QuickActionsService,"Ecs disabled, removing all shortcuts."),this._lastEnable=t,l.default.removeAll();if(!t&&this._lastEnable===t)return c.Rejected("ECS remains disabled, no updates necessary");const i=e.options;if(a.log(s.LogTraceArea.QuickActionsService,"Quick Actions Ecs is enabled, with Options: "+n.pii.Omit(JSON.stringify(i))),this._lastEnable===t&&i){if(this._lastOptions||i===this._lastOptions)return c.Rejected("No change in ECS, update rejected.");this._lastOptions=i}return this._lastEnable=t,i?l.default.updateAll(i):l.default.updateAll([])}_pinnedShortcutsTelemetry(){return l.default.getAllPinnedShortcuts().then((e=>{r.isEmpty(r.xor(e,this._lastPinnedShortcuts))||((0,g.track)(new h.QuickActionsEvent(void 0,e)),this._lastPinnedShortcuts=e)}),(e=>{a.warn(s.LogTraceArea.QuickActionsService,"Fail to send Telemetry."+n.pii.Omit(JSON.stringify(e)))}))}}},902530:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=o.__importDefault(i(150343)),s=i(434343),l=i(815146),c=o.__importStar(i(85385)),d=o.__importDefault(i(652032)),u=o.__importStar(i(446574));class p{constructor(){this._set=!1}reset(){this._set=!1,this._value=void 0,this._defer=void 0}internal_set(e){if(this._value=e,this._set=!0,this._defer){const e=this._defer;this._defer=void 0,e.resolve(void 0)}}get(){return this._value}waitUntilSet(){return this._set?r.Resolved():(this._defer||(this._defer=r.Defer()),this._defer.promise())}}t.default=new class{constructor(){this._cache={},this._initialized=!1,this.CallingFingerprintId=new p,this.CallingNodeId=new p,this.InternalCallingRegistrationId=new p,this.ChatServiceSessionInfo=new p,this.EdfRegistrationId=new p,this._saveToDB=()=>(c.log(l.LogTraceArea.GenericUnsafe,this._initialized?"Saving SharedId cache to db.":"SharedId updated, will be saved on startup"),this._initialized?d.default.putData(s.InternalKeys.SharedIdServiceCache,this._cache):r.Resolved()),this._saveToDbDebounced=n.debounce(this._saveToDB,100),u.RegisterStartupable(this,"SharedIdService",[d.default])}startup(){let e,t=!1;a.default.getConfigSettingsNoSubscription().calling.disableSharedIdCache||(e=d.default.getDataExclusive(s.InternalKeys.SharedIdServiceCache)||{},c.log(l.LogTraceArea.GenericUnsafe,n.isEmpty(e)?"No SharedId cache found":"Loaded SharedId cache from db."),n.some(this._cache)&&(c.log(l.LogTraceArea.GenericUnsafe,"Merging SharedId cache"),e=n.merge(e,this._cache),t=!0),this._cache=e),this._cache.callingFingerprintId&&this.CallingFingerprintId.internal_set(this._cache.callingFingerprintId.value),this._cache.callingNodeId&&this.CallingNodeId.internal_set(this._cache.callingNodeId.value),this._cache.internalCallingRegistrationId&&this.InternalCallingRegistrationId.internal_set(this._cache.internalCallingRegistrationId.value),this._cache.pnhRegistrationId&&this.EdfRegistrationId.internal_set(this._cache.pnhRegistrationId.value),this._cache.chatServiceSessionInfo&&this.ChatServiceSessionInfo.internal_set(this._cache.chatServiceSessionInfo.value),this._initialized=!0;let i=!1;if(!this._cache.chatServiceSessionInfo){const e=d.default.getDataExclusive(s.InternalKeys.ChatServiceSessionInfo_deprecated);e&&(i=!0,this._cache.chatServiceSessionInfo={value:e},this.ChatServiceSessionInfo.internal_set(e))}return i||t?(this._saveToDbDebounced.cancel(),r.all([this._saveToDB(),i?d.default.deleteKeys([s.InternalKeys.ChatServiceSessionInfo_deprecated]):void 0]).then((()=>{}))):r.Resolved()}setCallingFingerprintId(e){this._cache.callingFingerprintId&&e===this._cache.callingFingerprintId.value||(this.CallingFingerprintId.internal_set(e),this._cache.callingFingerprintId={value:e},this._saveToDbDebounced())}setCallingNodeId(e){this._cache.callingNodeId&&e===this._cache.callingNodeId.value||(this.CallingNodeId.internal_set(e),this._cache.callingNodeId={value:e},this._saveToDbDebounced())}setInternalCallingRegistrationId(e){this._cache.internalCallingRegistrationId&&e===this._cache.internalCallingRegistrationId.value||(this.InternalCallingRegistrationId.internal_set(e),this._cache.internalCallingRegistrationId={value:e},this._saveToDbDebounced())}setEdfRegistrationId(e){this._cache.pnhRegistrationId&&e===this._cache.pnhRegistrationId.value||(this.EdfRegistrationId.internal_set(e),this._cache.pnhRegistrationId={value:e},this._saveToDbDebounced())}setChatServiceSessionInfo(e){this._cache.chatServiceSessionInfo&&e===this._cache.chatServiceSessionInfo.value||(this.ChatServiceSessionInfo.internal_set(e),this._cache.chatServiceSessionInfo={value:e},this._saveToDbDebounced())}deleteIds(e,t){return e.callingNodeId&&(this.CallingNodeId.reset(),this._cache.callingNodeId=void 0),e.callingFingerprintId&&(this.CallingFingerprintId.reset(),this._cache.callingFingerprintId=void 0),e.internalCallingRegistrationId&&(this.InternalCallingRegistrationId.reset(),this._cache.internalCallingRegistrationId=void 0),e.edfRegistrationId&&(this.EdfRegistrationId.reset(),this._cache.pnhRegistrationId=void 0),e.chatServiceSessionInfo&&(this.ChatServiceSessionInfo.reset(),this._cache.chatServiceSessionInfo=void 0),t?this._saveToDB():r.Resolved(void 0)}test_getIds(){return{callingNodeId:this.CallingNodeId,callingFingerprintId:this.CallingFingerprintId,internalCallingRegistrationId:this.InternalCallingRegistrationId,edfRegistrationId:this.EdfRegistrationId,chatServiceSessionInfo:this.ChatServiceSessionInfo}}test_reset(e=!1){this.deleteIds({callingFingerprintId:!0,callingNodeId:!0,internalCallingRegistrationId:!0,edfRegistrationId:!0,chatServiceSessionInfo:!0},e),this._initialized=!1}}},393443:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SoundPlayer=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(264596)),a=i(782118),s=o.__importDefault(i(974634)),l=o.__importStar(i(397691)),c=i(843890),d=i(815146),u=o.__importStar(i(85385)),p=o.__importDefault(i(655192)),g=o.__importDefault(i(139221));class h{constructor(e,t,i,o,r){this._soundDescription=e,this._setOutputVolume=t,this._getOutputDevice=i,this._getOutputVolume=o,this._instanceId=++h._nextInstanceId,this._piiFilenames=["Skype_Dtmf_0","Skype_Dtmf_1","Skype_Dtmf_2","Skype_Dtmf_3","Skype_Dtmf_4","Skype_Dtmf_5","Skype_Dtmf_6","Skype_Dtmf_7","Skype_Dtmf_8","Skype_Dtmf_9"],this._nextPlayerToken=0,this._players={},r.subscribe((e=>{n.each(this._players,(t=>{this._updateOutputDevice(t,e),this._updateOutputVolume(t,{},e)}))}))}_description(){const e=n.includes(this._piiFilenames,this.filename)?"<pii:DtmfTone>":this.filename;return`SoundPlayer[${this._instanceId}:${e}]`}_methodLog(e,t){return`${this._description()}.${e} causeId: ${t}`}_audioPlayerEntryLog(e,t,i){return`${this._description()}[${t.token}].${e} causeId: ${i}`}get filename(){return this._soundDescription.name+"."+this._soundDescription.extension}playOnce(e,t){return u.log(d.LogTraceArea.AudioPlayer,this._methodLog("playOnce",e)),this._createPlayer(t,e).then((t=>{const i=l.Defer();let o=t.player.endedEvent.subscribe((()=>{if(!o)return;u.log(d.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("playOnce",t,e)+" Finished"),this.dispose(t.token,e);const n=o;o=void 0,n.unsubscribe(),i.resolve(void 0)}));return t.player.play(!1,!1),i.promise()}))}playRepeating(e,t){return u.log(d.LogTraceArea.AudioPlayer,this._methodLog("playRepeating",e)),this._createPlayer(t,e).then((e=>(e.player.play(!0,!1),e.token)))}dispose(e,t){const i=this._players[e];i?(u.log(d.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("dispose",i,t)),i.player.stop(),i.player.release(),delete this._players[e]):u.warn(d.LogTraceArea.AudioPlayer,this._methodLog("dispose",t)+" No player found token: "+e)}_createPlayer(e,t){const i=++this._nextPlayerToken;u.log(d.LogTraceArea.AudioPlayer,this._methodLog("_createPlayer",t)+" token: "+i+" options: "+(e?JSON.stringify(e):"none"));const o={token:i,player:a.Audio.openFile(g.default.getSoundPath(this.filename),this._soundDescription.extension,this._soundDescription.type)};this._players[i]=o;const n=e&&e.unmute;return this._updateOutputVolume(o,{force:!0,unmute:n},t),this._updateOutputMuted(o,{force:!0,unmute:n},t),this._updateOutputDevice(o,t,!0).always((()=>o))}_updateOutputDevice(e,t,i){const o=this._getOutputDevice(!!this._soundDescription.secondary);return!o||o.id===this._deviceId&&!i?l.Resolved():(u.log(d.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("_updateOutputDevice",e,t)),l.fromThenable(e.player.setOutputDevice(o.id,o.browserId)).then((()=>{u.log(d.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("_updateOutputDevice",e,t)+" Set device: "+o.id),this._deviceId=o.id}),(i=>u.warn(d.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("_updateOutputDevice",e,t)+" Failed to set device "+p.default.errorAsString(i)))))}_updateOutputVolume(e,t,i){let o=this._getOutputVolume();(o!==this._volume||t.force)&&(t.unmute&&(this._soundDescription.secondary?o=.5:(o=o>0?o:.5,this._setOutputVolume(o))),u.log(d.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("_updateOutputVolume",e,i)+" volume: "+o+" unmute: "+!!t.unmute),this._volume=o,e.player.setVolume(o))}_updateOutputMuted(e,t,i){const o=e.player.getMuted();n.isUndefined(t.unmute)||t.unmute&&o&&!t.force||(t.unmute&&(!this._soundDescription.secondary&&c.CallingCapabilities.unmuteDeviceSupported()&&r.default.unmuteSpeaker(),e.player.setMuted(!1)),u.log(d.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("_updateOutputMuted",e,i)+" unmute: "+!!t.unmute))}}t.SoundPlayer=h,h._nextInstanceId=0;class m{constructor(){this._sounds={},this._outputConfigurationChanged=new s.default,this._setOutputVolume=e=>{if(this._callbacks)return c.CallingCapabilities.speakerVolumeControlSupported()?this._callbacks.setOutputVolume(100*e):1},this._getOutputVolume=()=>this._callbacks&&c.CallingCapabilities.speakerVolumeControlSupported()?this._callbacks.getOutputVolume()/100:1,this._getOutputDevice=e=>{if(this._callbacks)return this._callbacks.getOutputDevice(e)}}setCallbacks(e){this._callbacks&&(this._volumeToken.unsubscribe(),this._deviceToken.unsubscribe(),this._volumeToken=void 0,this._deviceToken=void 0),this._callbacks=e,this._volumeToken=this._callbacks.onVolumeChanged.subscribe((()=>this._outputConfigurationChanged.fire("SoundPlayerCallbacks.Volume"))),this._deviceToken=this._callbacks.onDeviceChanged.subscribe((()=>this._outputConfigurationChanged.fire("SoundPlayerCallbacks.Device")))}static _keyForSoundDescription(e){return e.name+(e.secondary?"_additional":"")}_getOrCreateSound(e){const t=m._keyForSoundDescription(e);let i=this._sounds[t];return i||(i=new h(e,this._setOutputVolume,this._getOutputDevice,this._getOutputVolume,this._outputConfigurationChanged),this._sounds[t]=i),i}get SkypeCallConnecting(){return this._getOrCreateSound({name:"Skype_Call_Connecting",extension:"m4a",type:a.AudioPlayerSoundType.Ringtone,maybeLoud:!0})}get SkypeCallDialing(){return this._getOrCreateSound({name:"Skype_Call_Dialing",extension:"m4a",type:a.AudioPlayerSoundType.Ringtone})}get SkypeCallEnded(){return this._getOrCreateSound({name:"Skype_Call_Ended",extension:"m4a",type:a.AudioPlayerSoundType.Default})}get SkypeCallError(){return this._getOrCreateSound({name:"Skype_Error",extension:"m4a",type:a.AudioPlayerSoundType.Ringtone})}get SkypeCallReconnected(){return this._getOrCreateSound({name:"Skype_Call_Reconnected",extension:"m4a",type:a.AudioPlayerSoundType.Ringtone,maybeLoud:!0})}get SkypeCallRingback(){return this._getOrCreateSound({name:"Skype_Call_Ringback",extension:"m4a",type:a.AudioPlayerSoundType.Ringtone})}get SkypeCallRinging(){return this._getOrCreateSound({name:"Skype_Call_Ringing",extension:"m4a",type:a.AudioPlayerSoundType.Ringtone})}get SkypeCallRingingSecondary(){return this._getOrCreateSound({name:"Skype_Call_Ringing",extension:"m4a",type:a.AudioPlayerSoundType.Ringtone,secondary:!0})}get SkypeCameraCapture(){return this._getOrCreateSound({name:"Skype_Camera_Capture",extension:"m4a",type:a.AudioPlayerSoundType.Default,maybeLoud:!0})}get SkypeConfirmation(){return this._getOrCreateSound({name:"Skype_Confirmation",extension:"m4a",type:a.AudioPlayerSoundType.Default})}get SkypeIncomingVideoAvailable(){return this._getOrCreateSound({name:"Skype_Incoming_Video_Available",extension:"m4a",type:a.AudioPlayerSoundType.System})}get SkypeDtmf0(){return this._getOrCreateSound({name:"Skype_Dtmf_0",extension:"m4a",type:a.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf1(){return this._getOrCreateSound({name:"Skype_Dtmf_1",extension:"m4a",type:a.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf2(){return this._getOrCreateSound({name:"Skype_Dtmf_2",extension:"m4a",type:a.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf3(){return this._getOrCreateSound({name:"Skype_Dtmf_3",extension:"m4a",type:a.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf4(){return this._getOrCreateSound({name:"Skype_Dtmf_4",extension:"m4a",type:a.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf5(){return this._getOrCreateSound({name:"Skype_Dtmf_5",extension:"m4a",type:a.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf6(){return this._getOrCreateSound({name:"Skype_Dtmf_6",extension:"m4a",type:a.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf7(){return this._getOrCreateSound({name:"Skype_Dtmf_7",extension:"m4a",type:a.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf8(){return this._getOrCreateSound({name:"Skype_Dtmf_8",extension:"m4a",type:a.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf9(){return this._getOrCreateSound({name:"Skype_Dtmf_9",extension:"m4a",type:a.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmfPound(){return this._getOrCreateSound({name:"Skype_Dtmf_pound",extension:"m4a",type:a.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmfStar(){return this._getOrCreateSound({name:"Skype_Dtmf_star",extension:"m4a",type:a.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeError(){return this._getOrCreateSound({name:"Skype_Error",extension:"m4a",type:a.AudioPlayerSoundType.Default})}get SkypeFileTransferComplete(){return this._getOrCreateSound({name:"Skype_File_Transfer_Complete",extension:"m4a",type:a.AudioPlayerSoundType.System})}get SkypeFileTransferFailed(){return this._getOrCreateSound({name:"Skype_File_Transfer_Failed",extension:"m4a",type:a.AudioPlayerSoundType.System})}get SkypeFileTransferIncoming(){return this._getOrCreateSound({name:"Skype_File_Transfer_Incoming",extension:"m4a",type:a.AudioPlayerSoundType.System})}get SkypeInAppNotification(){return this._getOrCreateSound({name:"Skype_In_App_Notification",extension:"m4a",type:a.AudioPlayerSoundType.System})}get SkypeLogin(){return this._getOrCreateSound({name:"Skype_Login",extension:"m4a",type:a.AudioPlayerSoundType.Default})}get SkypeMessageSent(){return this._getOrCreateSound({name:"Skype_Message_Sent",extension:"m4a",type:a.AudioPlayerSoundType.System})}get SkypeMiscClickpop(){return this._getOrCreateSound({name:"Skype_Misc_Clickpop",extension:"m4a",type:a.AudioPlayerSoundType.System})}get SkypeMsgReceived(){return this._getOrCreateSound({name:"Skype_Msg_Received",extension:"m4a",type:a.AudioPlayerSoundType.System})}get SkypeNotification(){return this._getOrCreateSound({name:"Skype_Notification",extension:"m4a",type:a.AudioPlayerSoundType.System})}get SkypeShutter(){return this._getOrCreateSound({name:"Skype_Shutter",extension:"m4a",type:a.AudioPlayerSoundType.System})}get SkypeVideoMsgRecord(){return this._getOrCreateSound({name:"Skype_Video_Msg_Record",extension:"m4a",type:a.AudioPlayerSoundType.Default})}get SkypeVideoMsgStop(){return this._getOrCreateSound({name:"Skype_Video_Msg_Stop",extension:"m4a",type:a.AudioPlayerSoundType.Default})}}t.default=new m},920866:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(516778),r=i(815146),a=o.__importStar(i(85385)),s=i(499828),l=o.__importStar(i(121026)),c=o.__importStar(i(306194)),d=o.__importStar(i(535775));t.default=new class{constructor(){this._startupPhaseTimes={},this._startupPhaseEndTimestamps={},this._startupPhaseStartTimestamps={},this._shouldReportP6=!1,this._appLaunchedFromBackground=!1}appColdStartup(e){this._startupScenario=new d.default(d.ScenarioName.AppStartup,void 0,void 0,void 0,!0),this._startupScenario.start(void 0,e),n.App.getActivationState()===n.Types.AppActivationState.Background&&(this._appLaunchedFromBackground=!0)}logStartupPerfDuration(e,t,i){a.log(r.LogTraceArea.GenericUnsafe,"Startup Phase "+e+" duration: "+t+"ms"),this._startupPhaseTimes[e]=t,this._startupPhaseEndTimestamps[e]=Date.now();const o=this._startupPhaseEndTimestamps[e-1]?this._startupPhaseEndTimestamps[e]-this._startupPhaseEndTimestamps[e-1]:-1;a.track(new c.PerfStartupPhase(e,t,o,i));const n=(0,s.getCurrentIntent)(),l=n?s.Intent[n]:"";e<=5&&this._startupScenario.markStepCompleted("Phase"+e,{currentIntent:l},t),5===e&&(this._startupScenario.finish({intentBased:!0,currentIntent:l}),this._setupP6())}_setupP6(){const e=l.getMaxEntryPoint();e!==r.AppEntryPoint.Foregrounded&&e!==r.AppEntryPoint.Opened||(this._shouldReportP6=!0)}phase6Start(){this._shouldReportP6&&(this._startupPhaseStartTimestamps[6]=Date.now())}phase6End(){if(!this._shouldReportP6)return;if(this._shouldReportP6=!1,!this._startupPhaseStartTimestamps[6])return;const e=Date.now()-this._startupPhaseStartTimestamps[6];this.logStartupPerfDuration(6,e),this._logPerfRecentStartupDuration()}_logPerfRecentStartupDuration(){const e=this._getStartupPerfTotalDuration().totalDuration;a.log(r.LogTraceArea.GenericUnsafe,`Startup Perf All duration: ${e}ms, AppLaunchedFromBackground ${this._appLaunchedFromBackground}`),a.track(new c.PerfRecentRendered(e,this._appLaunchedFromBackground))}_getStartupPerfTotalDuration(){return Object.entries(this._startupPhaseTimes).reduce(((e,[t,i])=>(null==i||isNaN(i)||(e.totalDuration+=i,e.phaseDurations+=`Phase ${t}: ${i}ms\n`),e)),{totalDuration:0,phaseDurations:""})}getStartupPerfSummary(){const{totalDuration:e,phaseDurations:t}=this._getStartupPerfTotalDuration();return t+"Total: "+e+"ms\n"}}},664821:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StartupContext=t.AppWakeupReason=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778)),a=i(815146),s=o.__importStar(i(85385)),l=o.__importStar(i(437782)),c=o.__importDefault(i(920866)),d=o.__importStar(i(535775));var u,p;!function(e){e[e.ColdStartup=0]="ColdStartup",e[e.AppStateChange=1]="AppStateChange",e[e.Push=2]="Push",e[e.LocalNotification=3]="LocalNotification",e[e.TrouterMessage=4]="TrouterMessage"}(u||(t.AppWakeupReason=u={})),function(e){e[e.Unknown=1]="Unknown",e[e.Push=2]="Push",e[e.Recents=3]="Recents",e[e.Chat=4]="Chat",e[e.IncomingRing=5]="IncomingRing",e[e.Dialpad=6]="Dialpad"}(p||(t.StartupContext=p={}));t.default=new class{constructor(){this._startupContext=p.Unknown,this._startupPhasesCompleted=[],this._shouldReportPhase6=!0,this._startupScenario=new d.default(d.ScenarioName.AppStartupIntent,void 0,void 0,void 0,!0),this._startupScenario.setDuplicateStepMarkingEnabled(!0)}appColdStartup(e){c.default.appColdStartup(e),this._startupScenario.start(void 0,e),this._setScenarioTimeout(),this._maybeMarkStep("ColdStartup")}startupPhaseEnded(e,t){c.default.logStartupPerfDuration(e,t,void 0),this._startupPhasesCompleted[e]=!0,this._maybeMarkStep("Phase"+e,this._shouldOverrideDuration(e)?t:void 0)}checkingAppState(e){this._fullStartupCompleted()||(this._shouldResetScenario(e)&&this._reset(),this._maybeRestartScenario(),this._maybeMarkStep("CheckAppState",void 0,{reason:u[e]}))}startedProcessingLocalNotification(e){this._fullStartupCompleted()||(this._maybeRestartScenario(),this._maybeMarkStep("StartedProcessingLocalNotification",void 0,{eventType:e}))}startedProcessingPush(e){this._fullStartupCompleted()||(this._isScenarioValid([p.Unknown])&&r.App.getActivationState()===r.Types.AppActivationState.Background?(this._setStartupContext(p.Push,!1),this._maybeMarkStep("StartedProcessingPush",void 0,{eventType:e})):this._shouldResetScenario(u.Push)&&this._reset())}pushProcessingComplete(){this._isScenarioValid([p.Push])&&(this._maybeMarkStep("PushProcessingComplete"),this._sendStartupTelemetry())}incomingCallPush(){this._setStartupContext(p.IncomingRing),this._maybeRestartScenario(),this._maybeMarkStep("IncomingCallPush")}notifyingCallee(e){this._setStartupContext(p.IncomingRing),this._maybeRestartScenario(),this._maybeMarkStep("NotifyingCallee",void 0,e),this._sendStartupTelemetry()}displayIncomingCallNotification(){this._setStartupContext(p.IncomingRing),this._maybeRestartScenario(),this._maybeMarkStep("DisplayIncomingCallNotification")}presentIncomingRing(){this._setStartupContext(p.IncomingRing),this._maybeRestartScenario(),this._maybeMarkStep("PresentIncomingRing")}callPanelRendered(){this._isScenarioValid([p.IncomingRing])?(this._maybeMarkStep("CallPanelRendered"),this._sendStartupTelemetry()):this._reset()}willNavigateToRecents(){this._setStartupContext(p.Recents),this._maybeRestartScenario(),this._maybeMarkStep("WillNavigateToRecents")}phase6Start(){this._maybeMarkStep("phase6Start"),c.default.phase6Start()}disablePhase6Reporting(){this._shouldReportPhase6=!1}conversationListPanelRendered(){this._isScenarioValid([p.Recents,p.Unknown,p.Push])&&(this._setStartupContext(p.Recents),this._maybeMarkStep("ConversationListPanelRendered"))}recentsRendered(){this._shouldReportPhase6&&c.default.phase6End(),this._isScenarioValid([p.Recents,p.Unknown,p.Push])?(this._setStartupContext(p.Recents),this._maybeMarkStep("RecentsRendered"),this._sendStartupTelemetry()):this._reset()}willNavigateToChat(){this._setStartupContext(p.Chat),this._maybeRestartScenario(),this._maybeMarkStep("WillNavigateToChat")}messageStreamRendered(){this._isScenarioValid([p.Chat])?(this._maybeMarkStep("MessaggeStreamRendered"),this._sendStartupTelemetry()):this._reset()}willNavigateToDialpad(){this._setStartupContext(p.Dialpad),this._maybeRestartScenario(),this._maybeMarkStep("WillNavigateToDialpad")}dialpadRendered(){this._isScenarioValid([p.Dialpad])?(this._maybeMarkStep("DialpadRendered"),this._sendStartupTelemetry()):this._reset()}_shouldOverrideDuration(e){return e<=3}_maybeMarkStep(e,t,i){this._isScenarioValid()&&(this._startupScenario.markStepCompleted(e,Object.assign(Object.assign({},this._getAttributes()),i),t,!0),s.log(a.LogTraceArea.Startup,d.ScenarioName[d.ScenarioName.AppStartupIntent]+" mark step: "+e+" "+l.dev_unknownOmit(JSON.stringify(i))))}_isScenarioValid(e){return this._startupScenario.hasStarted()&&!this._startupScenario.isResolved()&&(!e||n.includes(e,this._startupContext))}_fullStartupCompleted(){return!!this._startupPhasesCompleted[5]}_setStartupContext(e,t=!0){this._fullStartupCompleted()||(this._startupContext===p.Unknown||t)&&(s.log(a.LogTraceArea.Startup,"Setting startup telemetry context "+p[e]),this._startupContext=e)}_maybeRestartScenario(){this._fullStartupCompleted()||this._startupScenario.hasStarted()||(this._startupScenario.start(),this._setScenarioTimeout())}_shouldResetScenario(e){return(this._startupContext===p.Push||this._startupContext===p.Unknown)&&e!==u.ColdStartup}_reset(){this._startupScenario.reset()}_getAttributes(){return{AppState:r.App.getActivationState(),StartupContext:p[this._startupContext],ColdStartup:this._startupScenario.isStepMarked("ColdStartup")}}_sendStartupTelemetry(){this._isScenarioValid()&&(this._startupScenario.finish(this._getAttributes()),this._startupScenario.reset())}_setScenarioTimeout(){this._startupScenario.setScenarioTimeout((()=>(this._startupScenario.fail("TimedOut",this._getAttributes()),this._reset(),!1)),6e4)}}},753423:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(380157),a=o.__importDefault(i(369347)),s=i(873324),l=o.__importDefault(i(638260)),c=o.__importDefault(i(132680)),d=i(843890),u=i(815146),p=o.__importStar(i(85385)),g=o.__importDefault(i(97595)),h=o.__importDefault(i(201721)),m=o.__importDefault(i(251733)),S=o.__importStar(i(506082)),_=o.__importStar(i(446574)),f=o.__importDefault(i(139221)),y=i(331079),C=o.__importDefault(i(760989));t.default=new class{constructor(){this._onAcceptCallHotKey=()=>{l.default.trackSystemHotKey(s.SystemHotKeyCallAction.Accept);const e=C.default.newCauseId(),t=a.default.CallingStore.getIncomingCallIds(),i=n.head(t);if(n.isEmpty(t)||!i)return p.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onAcceptCallHotKey: No incoming calls found to answer causeId:"+e),!1;if(1!==t.length)return p.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onAcceptCallHotKey: Have "+a.default.CallingStore.getIncomingCallIds().length+" incoming calls, only 1 supported. Doing nothing"),!1;{const t=a.default.CallingStore.getCallConversationMri(i);if(!t)return p.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onAcceptCallHotKey: No Mri found callId:"+i+" causeId:"+e),!1;{p.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onAcceptCallHotKey: Answering call callId:"+i+" causeId:"+e);const o=!f.default.isWindows10Plus();a.default.CallNavigationHelper.answerOrJoinCall({conversationMri:t,callId:i,skipNavigation:!1,autoAnswer:!1,knownToBeAnswer:o,origin:u.NavigationCallOrigin.CallControls},e)}}return!0},this._onRejectCallHotKey=()=>{l.default.trackSystemHotKey(s.SystemHotKeyCallAction.Reject);const e=C.default.newCauseId();let t=!1;if(n.each(a.default.CallingStore.getIncomingCallIds(),(i=>{p.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onRejectCallHotKey: Rejecting call callId:"+i+" causeId:"+e),a.default.CallingStore.rejectCall(i,e),t=!0})),!t){const i=a.default.CallingStore.getConnectedAndNotOnHoldCallId();i&&(p.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onRejectCallHotKey: Ending active call callId:"+i+" causeId:"+e),a.default.CallingStore.endCall(i,e),t=!0)}return t},this._onToggleMute=()=>{if(g.default.hasRegisteredMultipleHandlers(u.KeyboardShortcut.ToggleMicrophone))return!1;l.default.trackSystemHotKey(s.SystemHotKeyCallAction.Mute);const e=C.default.newCauseId();if(m.default.permissionStatus(y.PermissionType.Microphone)!==r.PermissionStatus.Granted)return p.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onToggleMute: Toggle mute failed causeId:"+e),!1;{p.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onToggleMute: Toggle mute causeId:"+e);const t=a.default.CallingStore.getConnectedAndNotOnHoldCallId();if(!t)return p.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onToggleMute: No active calls found causeId:"+e),!1;l.default.updateCallTelemetry(t,e,(e=>e.muteSystemHotKeyPress())),a.default.CallingStore.isMuted(t)?(a.default.CallingStore.unmute(t,e),c.default.announceMicrophoneState(!1)):(a.default.CallingStore.mute(t,e),c.default.announceMicrophoneState(!0))}return!0},_.RegisterStartupable(this,"SystemHotKeyService"),this._stateStoreSubToken=void 0}startup(){return d.UICapabilities.systemHotKeysSupported()&&(this._initializeSystemHotKeyService(),p.log(u.LogTraceArea.CallingUI,"SystemHotKeyService.startup: System hotkey enabled. Has subscribed to service state store changes")),Promise.resolve()}_initializeSystemHotKeyService(){this._stateStoreSubToken=S.default.subscribe((()=>{S.default.isInCallEstablishment()||S.default.isInCall()?this._registerSystemHotKeys():this._unRegisterSystemHotKeys()}),S.TriggerKeys.CallingStatusKey),h.default.subscribe((()=>{if(this._stateStoreSubToken){h.default.getUserPreferencesLocal().enableSystemHotKeys?(p.log(u.LogTraceArea.CallingUI,"SystemHotKeyService: System hotkey enabled from settings"),this._registerSystemHotKeys()):(p.log(u.LogTraceArea.CallingUI,"SystemHotKeyService: System hotkey disabled from settings"),this._unRegisterSystemHotKeys())}}))}_registerSystemHotKeys(){h.default.getUserPreferencesLocal().enableSystemHotKeys&&(this._unRegisterSystemHotKeys(),(a.default.CallingStore.hasConnectedCalls()||S.default.isInCall()&&!S.default.isInCallEstablishment())&&(g.default.addSystemHandler(u.KeyboardShortcut.ToggleMicrophone,this._onToggleMute),g.default.addSystemHandler(u.KeyboardShortcut.HangupOrRejectCall,this._onRejectCallHotKey)),S.default.isInCallEstablishment()&&g.default.addSystemHandler(u.KeyboardShortcut.HangupOrRejectCall,this._onRejectCallHotKey))}_unRegisterSystemHotKeys(){g.default.removeSystemHandler(u.KeyboardShortcut.ToggleMicrophone,this._onToggleMute),g.default.removeSystemHandler(u.KeyboardShortcut.AcceptIncomingCall,this._onAcceptCallHotKey),g.default.removeSystemHandler(u.KeyboardShortcut.HangupOrRejectCall,this._onRejectCallHotKey)}}},705676:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextNotificationToastMessage=t.SkypeNotificationToastMessage=t.ScheduledCallToastMessage=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778)),a=o.__importDefault(i(974634)),s=o.__importDefault(i(659938)),l=i(154235),c=o.__importDefault(i(999261)),d=o.__importStar(i(812822)),u=o.__importDefault(i(942724)),p=o.__importDefault(i(450312)),g=o.__importDefault(i(791384));class h{constructor(e,t,i,o){this.skypeMessage=e,this.scheduledCallInfo={type:t,initiator:i,subject:o}}}t.ScheduledCallToastMessage=h;class m{constructor(e){this.message=e}}t.SkypeNotificationToastMessage=m;class S{constructor(e,t,i){this.textMessage=e,this.conversationId=t,this.onToastDismissed=i}}t.TextNotificationToastMessage=S;t.default=new class{constructor(){this.event_localNotificationReady=new a.default,this._notificationsToPop=[],this._toastCurrentlyShowing=!1,s.default.subscribeForChanges("ToastService",(()=>{this._showToastMessageIfNeeded()}))}scheduleTextMessage(e,t,i){this._notificationsToPop.push(new S(e,t,i)),this._showToastMessageIfNeeded()}scheduleSkypeMessage(e){this._notificationsToPop.push(new m(e)),this._showToastMessageIfNeeded()}scheduleMessageForScheduledCall(e,t,i,o){this._notificationsToPop.push(new h(e,t,i,o)),this._showToastMessageIfNeeded()}hideCurrentToastMessage(){this._toastCurrentlyShowing=!1,this._showToastMessageIfNeeded()}showMessageForScreenReaders(){if(g.default.isMobileScreenReaderEnabled())if(u.default.isUsingStackNavigationContextNoSubscription()){if(p.default.isHubOnTopOfNavStackNoSubscription())return!0}else{const e=p.default.getCompositeMainStageNavViewModeNoSubscription();if(e!==d.MainStageNavViewMode.Call&&e!==d.MainStageNavViewMode.ForcedUpgradeScreen)return!0}return!1}_shouldShowSkypeConversationMessages(e){if(this.showMessageForScreenReaders())return!0;const t=p.default.getActiveConversationId(l.MainRootViewId);return!(!t||t===e.conversationId&&c.default.isCurrentUserActive())}_showToastMessageIfNeeded(){const e=n.head(this._notificationsToPop);if(r.App.getActivationState()===r.Types.AppActivationState.Active&&!this._toastCurrentlyShowing){if(e&&e instanceof m){if(!this._shouldShowSkypeConversationMessages(e.message))return n.remove(this._notificationsToPop,(e=>e instanceof m)),void this._showToastMessageIfNeeded()}this.event_localNotificationReady.fire(e),e&&(this._notificationsToPop.shift(),this._toastCurrentlyShowing=!0)}}}},983423:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=o.__importDefault(i(150343)),s=i(434343),l=i(815146),c=o.__importStar(i(85385)),d=o.__importDefault(i(652032)),u=i(467036),p=o.__importDefault(i(201721)),g=o.__importDefault(i(363091)),h=o.__importDefault(i(189776)),m=o.__importDefault(i(658250)),S=o.__importDefault(i(655192)),_=o.__importDefault(i(139221)),f=i(87881),y=o.__importDefault(i(601274)),C=o.__importStar(i(777458)),v=i(444314),b=o.__importDefault(i(166114));t.default=new class{constructor(){this._msaKeychainKey=f.KeychainKeys.DesktopMSATokenDefaultKey,this._shouldSkipKeychainActionsForPhoneAuth=!g.default.isPhoneAuthUser()}getInitialSkypeToken(){return c.log(l.LogTraceArea.TokenStore,"getInitialSkypeToken - fetching SkypeToken from DataStore"),r.Resolved(h.default.fromDbToken(d.default.getData(s.InternalKeys.SkypeToken)))}setPhoneAuthRefreshToken(e){return this._setPhoneAuthRefreshToken(e)}setPhoneAuthLinkedMsaRefreshToken(e){return this._setPhoneAuthRefreshToken(e,!0)}setSkypeToken(e){return c.log(l.LogTraceArea.TokenStore,"setSkypeToken - setting SkypeToken to DataStore"),d.default.putData(s.InternalKeys.SkypeToken,e?{rawToken:e.rawToken,expiration:e.expiration}:void 0)}getInitialRawRefreshToken(e){return g.default.isGuestUser()||e&&e===l.LoginMethods[l.LoginMethods.WAM]?(c.log(l.LogTraceArea.TokenStore,`getInitialMSAToken - skip trying to fetch MSAToken from KeyChain for guest and WAM (login method: ${e})`),r.Resolved(void 0)):e===l.LoginMethods[l.LoginMethods.PhoneAuth]?this._getInitialPhoneAuthRefreshToken():this._getInitialMSAToken()}getPhoneAuthLinkedMsaRefreshToken(){return this._getInitialPhoneAuthRefreshToken(!0)}_getInitialPhoneAuthRefreshToken(e=!1){return this._shouldSkipKeychainActionsForPhoneAuth?r.Resolved(void 0):(c.log(l.LogTraceArea.TokenStore,`_getInitialPhoneAuthRefreshToken - fetching PhoneAuthRefreshToken from KeyChain (isLinkedMsaRefreshToken: ${e})`),C.getPasswordFromKeychain(e?f.KeychainKeys.PhoneAuthLinkedMsaRefreshTokenKey:f.KeychainKeys.PhoneAuthRefreshTokenKey).then((t=>{if(t)return c.log(l.LogTraceArea.TokenStore,`_getInitialPhoneAuthRefreshToken - successfully fetched PhoneAuthRefreshToken (isLinkedMsaRefreshToken: ${e})`),t;c.warn(l.LogTraceArea.TokenStore,`_getInitialPhoneAuthRefreshToken - received an empty refresh token string (isLinkedMsaRefreshToken: ${e})`)})).catch((t=>{const i=S.default.errorAsString(t,!0);c.error(l.LogTraceArea.TokenStore,"_getInitialPhoneAuthRefreshToken - failed with error: "+i+`(isLinkedMsaRefreshToken: ${e})`),c.track(new u.KeychainFailureEvent(l.KeychainFailureType.FailedToRead,e?l.KeychainTokenType.PhoneAuthLinkedMsa:l.KeychainTokenType.PhoneAuthRefresh,i))})))}_getInitialMSAToken(){return c.log(l.LogTraceArea.TokenStore,"getInitialMSAToken - getting MSAToken from DataStore"),r.Resolved(d.default.getData(s.InternalKeys.MSARefreshToken))}setMSAToken(e){this.maybeUpdateMsaTokenKey();return c.log(l.LogTraceArea.TokenStore,"setMSAToken - setting MSAToken to DataStore"),d.default.putData(s.InternalKeys.MSARefreshToken,e)}maybeUpdateMsaTokenKey(){}isLiveLogin(e){return void 0===e||e===l.LoginMethods[l.LoginMethods.LiveLogin]}getLoginMethod(){return v.LocalStorage.getItem(v.StorageKeys.LoginMethod).then((e=>(c.log(l.LogTraceArea.TokenStore,`Successfully got login method from localStorage - ${e}`),e))).catch((e=>{c.error(l.LogTraceArea.TokenStore,"Failed to get login method "+S.default.errorAsString(e,!0))}))}shouldMigrateMsaTokenToNewKey(e){if(!_.default.isWindows10Plus()||!e)return!1;const t=a.default.getS4LSisuFeatures().msaTokenKeyMigration,i=(null==t?void 0:t.enabled)&&!_.default.isWindows11()&&this._msaKeychainKey!==(null==t?void 0:t.keychainKey),o=(!(null==t?void 0:t.enabled)||_.default.isWindows11())&&this._msaKeychainKey!==f.KeychainKeys.DesktopMSATokenDefaultKey;return c.log(l.LogTraceArea.TokenStore,`migrateMsaTokenToNewKey is ${i}, rollbackToDefaultMsaTokenKey is ${o}`),i||o}getMsaRefreshTokenKeysToTry(){const e=[this._msaKeychainKey],t=p.default.getMsaTokenKey(),i=a.default.getS4LSisuFeatures().msaTokenKeyMigration;return c.log(l.LogTraceArea.TokenStore,`getMsaRefreshTokenKeysToTry - MSA token key from prefs: ${t}`),n.isUndefined(t)||t===this._msaKeychainKey?n.isUndefined(t)&&(c.log(l.LogTraceArea.TokenStore,"getMsaRefreshTokenKeysToTry - MSA token key is undefined in preferences"),(null==i?void 0:i.enabled)&&e.indexOf(null==i?void 0:i.keychainKey)<0&&e.unshift(null==i?void 0:i.keychainKey),this._msaKeychainKey!==f.KeychainKeys.DesktopMSATokenDefaultKey&&e.indexOf(f.KeychainKeys.DesktopMSATokenDefaultKey)<0&&e.push(f.KeychainKeys.DesktopMSATokenDefaultKey)):e.unshift(t),c.log(l.LogTraceArea.TokenStore,`getMsaRefreshTokenKeysToTry - going to try these keys: ${e.toString()}`),e}provideSsoToken(e){n.isNil(e)?m.default.removeSkypeSsoAccount():m.default.provideSkypeSsoAccount(e)}tryGetWamAccountIdForCurrentAccount(){c.error(l.LogTraceArea.SISU,"Trying to get WAM account id for current account by seraching all WAM accounts");const e=v.LocalStorage.getItemSync(v.StorageKeys.SigninName);if(e){const t=e.toLowerCase();return b.default.getAccounts().then((e=>{const i=e.find((e=>{var i,o;return(null===(i=e.displayableSecondaryIdentifier)||void 0===i?void 0:i.toLowerCase())===t||(null===(o=e.userName)||void 0===o?void 0:o.toLowerCase())===t}));return null==i?void 0:i.accountId})).catch((()=>{c.error(l.LogTraceArea.SISU,"Failed to fetch WAM accounts")})).toEs6Promise()}return Promise.resolve(void 0)}clearTokensFromKeychain(){return r.all([C.clearMSARefreshTokenFromKeychain(this._msaKeychainKey),C.clearSkypeTokenFromKeychain(),C.clearPhoneAuthRefreshTokenFromKeychain(f.KeychainKeys.PhoneAuthRefreshTokenKey)]).then(n.noop)}clearMSATokenFromKeychain(){return C.clearMSARefreshTokenFromKeychain(this._msaKeychainKey)}isValidMSARefreshToken(e){return!0}_retryWithExponentialBackoffTimeout(e,t){return o.__awaiter(this,arguments,void 0,(function*(e,t,i={maxRetries:2,retryCount:0,lastError:null}){if(i.retryCount>i.maxRetries)return r.Rejected(i.lastError);try{return i.retryCount>0&&t(i.retryCount),yield e()}catch(o){return yield new Promise((e=>{y.default.setTimeout((()=>{e()}),Math.pow(10,i.retryCount+2))})),yield this._retryWithExponentialBackoffTimeout(e,t,Object.assign(Object.assign({},i),{retryCount:i.retryCount+1,lastError:o}))}}))}_setPhoneAuthRefreshToken(e,t=!1){return this._shouldSkipKeychainActionsForPhoneAuth?r.Resolved():(c.log(l.LogTraceArea.TokenStore,`setPhoneAuthRefreshToken - setting PhoneAuthRefreshToken to Keychain  (isLinkedMsaRefreshToken: ${t})`),C.setPasswordIntoKeychain(t?f.KeychainKeys.PhoneAuthLinkedMsaRefreshTokenKey:f.KeychainKeys.PhoneAuthRefreshTokenKey,e).then((()=>{c.log(l.LogTraceArea.TokenStore,`setPhoneAuthRefreshToken - token stored (isLinkedMsaRefreshToken: ${t})`)})).catch((e=>{const i=S.default.errorAsString(e,!0);return c.error(l.LogTraceArea.TokenStore,`setPhoneAuthRefreshToken - failed with error: ${i} (isLinkedMsaRefreshToken: ${t})`),c.track(new u.KeychainFailureEvent(l.KeychainFailureType.FailedToSave,t?l.KeychainTokenType.PhoneAuthLinkedMsa:l.KeychainTokenType.PhoneAuthRefresh,i)),r.Resolved()})))}}},15485:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(200466)),a=o.__importDefault(i(974634)),s=(o.__importDefault(i(150343)),i(815146),o.__importStar(i(446574)));o.__importDefault(i(139221));t.default=new class{constructor(){this._responseQueue={},this.event_response=new a.default,this.event_progress=r.default.onProgress,s.RegisterStartupable(this,"TransferResponseQueueService",[])}startup(){r.default.onResponse.subscribe(((e,t)=>{this._responseQueue[e]={id:e,success:!0,response:t},this.event_response.fire()})),r.default.onClientFailure.subscribe(((e,t)=>{this._responseQueue[e]={id:e,success:!1,response:t},this.event_response.fire()}));return r.default.getKnownRequestIdsAtStartup(!1).then((e=>{this._startupActiveTransferIds=n.keyBy(e)}))}wasTransferIdKnownDuringStartup(e){return!(!this._startupActiveTransferIds||!this._startupActiveTransferIds[e])}hasTransferResponses(){return!n.isEmpty(this._responseQueue)}drainResponseQueue(){const e=this._responseQueue;return this._responseQueue={},e}}},341452:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(174958)),r=o.__importStar(i(397691)),a=o.__importDefault(i(150343)),s=o.__importStar(i(446574)),l=o.__importStar(i(442699)),c=o.__importDefault(i(922119));t.default=new class{constructor(){n.RootToolsManager.setDelegate(this),s.RegisterStartupable(this,"UnifiedLoggingService")}startup(){return a.default.subscribe((()=>n.RootToolsManager.OnEcsChange())),n.RootToolsManager.OnEcsChange(),Promise.resolve()}fetchEcsConfig(e,t){if("SkypeRootTools"===e&&"ULBaseline"===t){const e=a.default.getSkypeRootToolsConfig();return r.Resolved(e?e[t]:{})}return r.Resolved(a.default.getULLogUploadConfig(e,t))}sendTelemetry(e,t){c.default.addEvent(new l.LogUploadEvent(e,t))}}},160738:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(815146),a=o.__importStar(i(85385)),s=o.__importDefault(i(954322)),l=o.__importStar(i(446574)),c=i(464271);t.default=new class{constructor(){this._scenarioQueue={},this._scenarioTimestamps={},this._firstSuccessfulSearch=!1,l.RegisterStartupable(this,"UserActionsTelemetryService")}startup(){return Promise.resolve()}setScenarioTimestamp(e,t){this._scenarioTimestamps[e]=t||Date.now()}resetScenarioTimestamp(e){this._getScenarioTimestamp(e)&&delete this._scenarioTimestamps[e]}onSearchPanelUnmount(e,t){this.resetScenarioTimestamp(e),this._firstSuccessfulSearch||(a.track(new c.UserActionsTelemetryEvent({firstSuccessfulSearch:!1})),t&&(this._scenarioQueue=n.omit(this._scenarioQueue,this._getScenarioUniqueId(t,e)))),this._firstSuccessfulSearch=!1}initiateScenario(e,t,i={}){a.log(r.LogTraceArea.UserActionsTelemetry,"UserActionsTelemetryService initiateScenario"),this._createScenario(e,t,i)}track(e){return this._sendScenarios(e)}sendScenario(e){const t=this._getScenario(e.ref,e.scenarios[0]),i=this._getScenarioDuration(t);let o=!1;i&&t&&(a.log(r.LogTraceArea.UserActionsTelemetry,"UserActionsTelemetryService sendScenario"),e.scenarios[0]===c.Scenarios.SearchToConversation&&(o=s.default.isAbsoluteSuccessSearch(e)),!this._firstSuccessfulSearch&&o?(this._firstSuccessfulSearch=!0,a.track(new c.UserActionsTelemetryEvent({name:e.name,duration:i,scenario:e.scenarios[0],additionalAttributes:t.additionalAttributes,firstSuccessfulSearch:!0}))):a.track(new c.UserActionsTelemetryEvent({name:e.name,duration:i,scenario:e.scenarios[0],additionalAttributes:t.additionalAttributes})),this._deleteScenario(e.ref,e.scenarios[0]))}interruptScenarios(e,t){n.each(t,(t=>this._interruptScenario(e,t)))}clearScenarios(e,t){n.each(t,(t=>this._deleteScenario(e,t)))}_sendScenarios(e){n.each(e.scenarios,(t=>{if(this._getScenario(e.ref,t)){const i=Object.assign(Object.assign({},e),{scenarios:[t]});return this.sendScenario(i)}}))}_getDurationInSeconds(e){return Math.floor((Date.now()-e)/1e3)}_getScenarioDuration(e){return this._getDurationInSeconds(e.timestamp)}_interruptScenario(e,t){this.track({ref:e,scenarios:[t],name:c.Actions.InterruptScenario})}_deleteScenario(e,t){this._scenarioQueue=n.omit(this._scenarioQueue,this._getScenarioUniqueId(e,t))}_getScenario(e,t){return this._scenarioQueue[this._getScenarioUniqueId(e,t)]}_getScenarioUniqueId(e,t){return`${e}_${t}`}_createScenario(e,t,i={}){const o=this._getScenarioUniqueId(e,t);this._scenarioQueue[o]={timestamp:this._getScenarioTimestamp(t)||Date.now(),additionalAttributes:i}}_getScenarioTimestamp(e){return this._scenarioTimestamps[e]}}},147153:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debug_existingCacheFolderInfo=void 0;const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=o.__importDefault(i(587845)),s=o.__importDefault(i(974634)),l=o.__importStar(i(397691)),c=i(815146),d=o.__importDefault(i(606617)),u=o.__importStar(i(85385)),p=o.__importDefault(i(655192)),g=o.__importDefault(i(601274)),h=i(123117);t.debug_existingCacheFolderInfo={count:0};t.default=class{constructor(e,i=[]){this.cacheUpdated=new s.default,this._infos={},this._totalSize=0,this.CacheName=e,this.BaseUri=a.default.getLocalUriBase(e),t.debug_existingCacheFolderInfo.count++,a.default.isLocalCacheSupported()&&r.each(i,(e=>{const t=g.default.setExpiration(this._timerExpiredCallback(e),e.expiration);this._infos[e.id]={pending:!1,addedPromise:l.Resolved(),meta:e,timer:t},this._totalSize+=e.size||0}))}static isLocalCacheSupported(){return a.default.isLocalCacheSupported()}getAllMeta(){return r.map(this._infos,(e=>e.meta))}getTotalSize(){return this._totalSize}getMeta(e){return this._infos[e]&&this._infos[e].meta}getUri(e){const t=this._infos[e];if(t&&!t.pending)return a.default.getLocalUri(this.CacheName,this._infos[e].meta.filename)}addFile(e,t,i,o,n,r){return this._add(e,t,i,o,n,r,!0)}addMetadata(e,t,i,o,n){return this._add(e,t,i,o,!1,n,!1)}_add(e,t,i,o,n,r,s){if(this._infos[e]){const t='FileCacheMetadataService already knows a file with that id: refusing to "'+(s?n?"copy":"move":"add")+'", cacheName: '+this.CacheName+", id: "+e;return l.Rejected(t)}const c={id:e,cacheName:this.CacheName,filename:i,expiration:o,context:r},d=l.Resolved().then((()=>this._blockFolderChangesPromise)).then((()=>l.fromThenable(h.FileCacheMetadataRepository.putFileCacheMetadata(c)).then((()=>{if(s)return a.default.save(this.CacheName,t,i,n).then((e=>(c.size=e.size,this._totalSize+=c.size||0,l.fromThenable(h.FileCacheMetadataRepository.putFileCacheMetadata(c)))))})))),u=g.default.setExpiration(this._timerExpiredCallback(c),c.expiration),p={pending:!0,meta:c,addedPromise:d,timer:u};return this._infos[c.id]=p,d.then((()=>{p.pending=!1,this.cacheUpdated.fire(e)}))}removeFile(e){return this._remove(e,!0)}removeMetadata(e){return this._remove(e,!1)}_remove(e,t){const i=this._infos[e];return i?(i.timer&&(g.default.clearExpiration(i.timer),i.timer=void 0),i.removedPromise||(i.removedPromise=i.addedPromise.always((()=>this._blockFolderChangesPromise)).then((()=>l.fromThenable(h.FileCacheMetadataRepository.removeFileCacheMetadata(this.CacheName,e)).then((()=>{if(delete this._infos[e],this._totalSize-=i.meta.size||0,t)return this._cacheRemove(this.CacheName,i.meta.filename)}))))),i.removedPromise.finally((()=>this.cacheUpdated.fire(e)))):l.Resolved()}_cacheRemove(e,t){const i=[a.default.remove(e,t)];return d.default.isImageExtension(d.default.extractFileExtension(t))&&i.push(a.default.evictFromImageCache(e,t).catch(r.noop)),l.all(i).then(r.noop)}updateExpiration(e,t){const i=this._infos[e];return i?i.addedPromise.then((()=>{if(!i.removedPromise&&i.meta.expiration!==t)return i.timer&&(g.default.clearExpiration(i.timer),i.timer=void 0),i.meta.expiration=t,i.timer=g.default.setExpiration(this._timerExpiredCallback(i.meta),t),l.fromThenable(h.FileCacheMetadataRepository.putFileCacheMetadata(i.meta))})).done((()=>this.cacheUpdated.fire(e))).catch(r.noop):l.Resolved()}cleanupMissingFilesAndMetadata(){if(this._blockFolderChangesPromise)return this._blockFolderChangesPromise;const e=r.flatMap(this._infos,(e=>[e.addedPromise,e.removedPromise])),t=r.map(e,(e=>e&&e.catch(r.noop)));return this._blockFolderChangesPromise=l.all(t).then((()=>a.default.getAllCachedFileNames(this.CacheName))).then((e=>{const t=r.keyBy(e),i=r.keyBy(this._infos,(e=>e.meta.filename));r.each(e,(e=>{i[e]||this._cacheRemove(this.CacheName,e).catch((t=>{u.log(c.LogTraceArea.FileCacheMetadataService,"Ignoring FileCache error during cleanup: cacheName: "+n.pii.Omit(this.CacheName)+", filename: "+n.pii.Omit(e)+", error: "+p.default.errorAsString(t))}))})),r.each(i,((e,i)=>{e.pending||t[i]||this.removeFile(e.meta.id).catch((t=>{u.log(c.LogTraceArea.FileCacheMetadataService,"Ignoring error during cleanup: cacheName: "+n.pii.Omit(this.CacheName)+", id: "+n.pii.Omit(e.meta.id)+", error: "+p.default.errorAsString(t))}))}))})).always((()=>{this._blockFolderChangesPromise=void 0})),this._blockFolderChangesPromise}debug_removeAll(){const e=r.map(this._infos,(e=>this.removeFile(e.meta.id).catch((t=>{u.log(c.LogTraceArea.FileCacheMetadataService,"Ignoring error during debug: cacheName: "+n.pii.Omit(this.CacheName)+", id: "+n.pii.Omit(e.meta.id)+": error: "+p.default.errorAsString(t))}))));return l.all(e).then(r.noop)}_timerExpiredCallback(e){return()=>{u.log(c.LogTraceArea.FileCacheMetadataService,"Removing expired file from cache: "+n.pii.Omit(this.CacheName)+", id: "+n.pii.Omit(e.id)),this._remove(e.id,!0)}}}},710253:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=o.__importStar(i(147153)),s=o.__importStar(i(446574)),l=i(123117);t.default=new class{constructor(){s.RegisterStartupable(this,"FileCacheMetadataService")}startup(){return a.debug_existingCacheFolderInfo.count=0,this._claimedCaches={},r.fromThenable(l.FileCacheMetadataRepository.getAllFileCacheMetadata()).then((e=>{this._startupCacheMetas=n.groupBy(e,(e=>e.cacheName))}))}isLocalCacheSupported(){return a.default.isLocalCacheSupported()}getCache(e){if(this._claimedCaches[e])return this._claimedCaches[e];const t=new a.default(e,this._startupCacheMetas[e]);return this._claimedCaches[e]=t,delete this._startupCacheMetas[e],t}}},265847:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CacheEvictionKind=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(974634)),a=o.__importStar(i(397691)),s=i(815146),l=o.__importDefault(i(710253)),c=o.__importStar(i(235256)),d=o.__importStar(i(85385)),u=o.__importStar(i(118837)),p=o.__importStar(i(446574)),g=o.__importDefault(i(655192)),h=o.__importStar(i(442699)),m=o.__importDefault(i(601274)),S="FileCache";var _;!function(e){e[e.Unknown=0]="Unknown",e[e.UserInvolved=100]="UserInvolved",e[e.Preview=200]="Preview",e[e.Image=300]="Image",e[e.Video=400]="Video"}(_||(t.CacheEvictionKind=_={}));const f=25e7;t.default=new class{constructor(){this.cacheUpdated=new r.default,this._dontPerformEviction=!1,p.RegisterStartupable(this,"FileCacheService",[l.default,c.default])}startup(){return this._cache=l.default.getCache(S),this._cache.cacheUpdated.subscribe((e=>{this.cacheUpdated.fire(e)})),this.isLocalCacheSupported()&&c.default.setRefreshOptions("FileCacheService",{interval:432e5,callback:()=>{if(this._cache)return this._cache.cleanupMissingFilesAndMetadata()},nextExecution:Date.now(),taskTypeFlags:c.TaskTypeFlags.CpuIntensive}),Promise.resolve()}isLocalCacheSupported(){return l.default.isLocalCacheSupported()}isKnown(e){return!!this._cache&&!!this._cache.getMeta(e)}getLocalUri(e){if(this._cache)return this._cache.getUri(e)}save(e,t,i,o,n,r,s){if(!this._cache)return a.Rejected("FileCacheService not started.");const{uniqueFilename:l,baseFilename:c}=this._getUniqueSanitizedFilenameInfo(i),d={originalFilename:i,originalBaseFilename:c,evictionKind:r,evictionRank:s,extension:this._getOriginalExtension(i)};return this._cache.addFile(e,t,l,o,n,d).then((()=>{this._checkFilesFitInCache()}))}remove(e){return this._cache?this._cache.removeFile(e):a.Rejected("FileCacheService not started.")}_checkFilesFitInCache(){if(this._dontPerformEviction)return;if(!this._cache)return;const e=this._cache.getTotalSize();if(e>f){const t=n.filter(this._cache.getAllMeta(),(e=>e.context&&!!e.context.evictionKind)),i=n.groupBy(t,(e=>e.context.evictionKind)),o=n.sortBy(i,((e,t)=>-t));let r=e-2e8;const l=[];n.each(o,(e=>{const t=n.sortBy(e,(e=>e.context.evictionRank));return n.each(t,(e=>{if(e.size)return l.push(e.id),r-=e.size||0,r>0})),r>0})),d.log(s.LogTraceArea.GenericUnsafe,"Evicting ids: "+l.join(", "));const c=n.map(l,(e=>{if(this._cache)return this._cache.removeFile(e).catch((t=>{const i=this._cache?this._cache.CacheName:S;d.log(s.LogTraceArea.GenericUnsafe,"Ignoring error during size cleanup: cacheName: "+i+", id: "+e+", error: "+g.default.errorAsString(t))}))}));this._dontPerformEviction=!0,a.all(c).always((()=>m.default.sleep(3e4).always((()=>{this._dontPerformEviction=!1,this._checkFilesFitInCache()}))))}}_getOriginalExtension(e){const t=e.lastIndexOf(".");return-1===t?"":e.substring(t+1)}_getUniqueSanitizedFilenameInfo(e){const t=u.lossyForUserFile(e),i=t.lastIndexOf("."),o=-1===i?t:t.substring(0,i),r=-1===i?"":t.substring(i),a=o.replace(/(-\d+)+$/,""),s=a.toLowerCase(),l=n.filter(this._cache?this._cache.getAllMeta():[],(e=>e.context.originalBaseFilename.toLowerCase()===s)),c=t.toLowerCase(),p=n.every(l,(e=>e.filename.toLowerCase()!==c));if(!l.length||p)return{uniqueFilename:t,baseFilename:a};const g=n.keyBy(l,(e=>e.filename.toLowerCase())),m=2+l.length;for(let e=1;e<m;e++){const t=o+("-"+e)+r;if(!g[t.toLowerCase()])return{uniqueFilename:t,baseFilename:a}}return d.track(new h.DevAlert("FileCache failed to generate unique filename")),{uniqueFilename:o+"-"+Date.now()+r,baseFilename:a}}}},128522:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(397691)),r=i(815146),a=o.__importDefault(i(710253)),s=i(49463),l=o.__importStar(i(235256)),c=o.__importStar(i(85385)),d=o.__importStar(i(446574)),u=o.__importDefault(i(655192));class p{constructor(e=[]){this._dependencies=e,d.RegisterStartupable(this,"FileUploadCache",this._dependencies)}getDependencies(){return this._dependencies}startup(){return n.Resolved()}isLocalCacheSupported(){return a.default.isLocalCacheSupported()}isKnown(e){return!1}getSize(e){}saveFileIfSupported(e,t){return n.Resolved()}finishedButKeepForRetry(e){return n.Resolved()}finished(e){return n.Resolved()}abandon(e){return n.Resolved()}}const g=a.default.isLocalCacheSupported()?new class extends p{constructor(){super([a.default,l.default])}startup(){return this._cache=a.default.getCache(s.internal_cacheConfig.DefaultCacheName),this.isLocalCacheSupported()&&l.default.setRefreshOptions("FileUploadCache",{interval:864e5,callback:()=>this._cache.cleanupMissingFilesAndMetadata(),nextExecution:Date.now(),taskTypeFlags:l.TaskTypeFlags.CpuIntensive}),n.Resolved()}isKnown(e){return!!this._cache.getMeta(e)}getSize(e){const t=this._cache.getMeta(e);return t&&t.size}saveFileIfSupported(e,t){if(e&&t&&this.isLocalCacheSupported()){const i=e.file.uri;return this._cache.addFile(t.name,i,t.name,Date.now()+7776e6,t.asCopy,{})}return n.Resolved()}finishedButKeepForRetry(e){return this._cache.updateExpiration(e,Date.now()+6048e5)}finished(e){return this._cache.updateExpiration(e,Date.now()+18e4)}abandon(e){return this._cache.removeFile(e).catch((e=>{c.log(r.LogTraceArea.FileUploadCache,"Ignoring abandon failure: "+u.default.errorAsString(e))}))}}:new p;t.default=g},524617:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=o.__importDefault(i(587845)),s=i(380157),l=o.__importStar(i(397691)),c=i(154235),d=i(815146),u=o.__importStar(i(85385)),p=o.__importDefault(i(251733)),g=o.__importDefault(i(246230)),h=o.__importStar(i(446574)),m=o.__importDefault(i(655192)),S=i(331079);t.default=new class{constructor(){h.RegisterStartupable(this,"PublicDownloadsFolderService",[p.default])}startup(){return Promise.resolve()}copyToDownloadsFolder(e,t){return a.default.copyToDownloadFolder(e,t).then(r.identity,(e=>{u.error(d.LogTraceArea.PublicDownloadsFolderService,"Failed to copy file to public Downloads folder: "+m.default.errorAsString(e))}))}copyToUri(e,t){return a.default.copyToUri(e,t).then(r.identity,(e=>{u.error(d.LogTraceArea.PublicDownloadsFolderService,"Failed to copy file to path ["+n.pii.Omit(t)+" ]: "+m.default.errorAsString(e))}))}androidRemoveFromPublicFolder(e){return a.default.removeFromDownloadFolder(e).catch((t=>(u.error(d.LogTraceArea.PublicDownloadsFolderService,"Failed to remove file "+n.pii.Omit(e)+"from android public folder after timeout: is there anything we can do? "+m.default.errorAsString(t)),!1)))}requestCameraRollPermission(){const e=S.PermissionType.CameraRoll;return p.default.permissionStatus(e)===s.PermissionStatus.Granted?l.Resolved(!0):(u.log(d.LogTraceArea.PublicDownloadsFolderService,"Checking for CameraRoll permission"),p.default.requestPermission(e,S.PermissionPromptOptions.SkipPrePrompt|S.PermissionPromptOptions.PromptAgainIfDenied).then((t=>t===s.PermissionStatus.Granted?(u.log(d.LogTraceArea.PublicDownloadsFolderService,"CameraRoll permission granted"),!0):(g.default.showDeniedPromptWithSettingsOption(e,c.MainRootViewId),u.log(d.LogTraceArea.PublicDownloadsFolderService,"CameraRoll permission declined"),!1))).catch((e=>(u.log(d.LogTraceArea.PublicDownloadsFolderService,"CameraRoll permission error",m.default.errorAsString(e)),!1))))}}},924719:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getEncryptionKeys=function(){return o.__awaiter(this,void 0,void 0,(function*(){(0,c.log)(l.LogTraceArea.Push,`[${g}]: Loading encryption keys from keychain.`);try{const[e,t]=yield Promise.all([S(d.KeychainKeys.PnhAesKey),S(d.KeychainKeys.PnhAuthKey)]);return(0,c.log)(l.LogTraceArea.Push,`[${g}]: Loaded encryption keys from keychain.`),{aesKey:e,authKey:t}}catch(e){return e instanceof n.PasswordNotFound?void(0,c.log)(l.LogTraceArea.Push,`[${g}]: Encryption keys not found in keychain.`):((0,c.error)(l.LogTraceArea.Push,`[${g}]: Failed to load encryption keys from keychain.`,p.default.errorAsString(e)),Promise.reject())}}))},t.createEncryptionKeys=function(){return o.__awaiter(this,void 0,void 0,(function*(){(0,c.log)(l.LogTraceArea.Push,`[${g}]: Generating new encryption keys.`);const e=m(),t=m();(0,c.log)(l.LogTraceArea.Push,`[${g}]: Storing new encryption keys in keychain.`);try{return yield Promise.all([_(d.KeychainKeys.PnhAesKey,e),_(d.KeychainKeys.PnhAuthKey,t)]),(0,c.log)(l.LogTraceArea.Push,`[${g}]: Stored new encryption keys in keychain.`),{aesKey:e,authKey:t}}catch(e){return(0,c.error)(l.LogTraceArea.Push,`[${g}]: Failed to store encryption keys in keychain.`,p.default.errorAsString(e)),yield y().catch(a.noop),Promise.reject()}}))},t.removeEncryptionKeys=y;const o=i(197582),n=o.__importStar(i(872397)),r=o.__importStar(i(775463)),a=i(673620),s=i(766698),l=i(815146),c=i(85385),d=i(87881),u=o.__importDefault(i(363091)),p=o.__importDefault(i(655192)),g="PnhEncryptionKeys",h=32;function m(){return(0,s.byteArrayToBase64String)(r.getRandomValues(new Array(h)))}function S(e){return n.default.getPassword(e,u.default.getSkypeId()).toEs6Promise()}function _(e,t){return n.default.setPassword(e,u.default.getSkypeId(),t).toEs6Promise()}function f(e){return o.__awaiter(this,void 0,void 0,(function*(){yield n.default.deletePassword(e,u.default.getSkypeId())}))}function y(){return o.__awaiter(this,void 0,void 0,(function*(){(0,c.log)(l.LogTraceArea.Push,`[${g}]: Removing encryption keys from keychain.`);try{yield Promise.all([f(d.KeychainKeys.PnhAesKey),f(d.KeychainKeys.PnhAuthKey)]),(0,c.log)(l.LogTraceArea.Push,`[${g}]: Removed encryption keys from keychain.`)}catch(e){return(0,c.error)(l.LogTraceArea.Push,`[${g}]: Failed to remove encryption keys from keychain.`,p.default.errorAsString(e)),Promise.reject()}}))}},134979:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loadKeyGenerationTime=function(){return o.LocalStorage.getItem(o.StorageKeys.PnhEncryptionKeyGenerationTime).toEs6Promise()},t.storeKeyGenerationTime=function(e){return o.LocalStorage.setItem(o.StorageKeys.PnhEncryptionKeyGenerationTime,e).toEs6Promise()},t.removeKeyGenerationTime=function(){return o.LocalStorage.removeItem(o.StorageKeys.PnhEncryptionKeyGenerationTime).toEs6Promise()};const o=i(82485)},685091:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PnhEncryptionService=void 0;const o=i(197582),n=i(397691),r=i(924719),a=i(815146),s=i(85385),l=i(134979),c=o.__importDefault(i(510335)),d="PnhEncryptionService";t.PnhEncryptionService=class{constructor(){c.default.registerForLogout(this,"PnhEncryptionService")}createRegistrationPayload(){return o.__awaiter(this,void 0,void 0,(function*(){(0,s.log)(a.LogTraceArea.Push,`[${d}]: Creating registration payload.`);const{aesKey:e,authKey:t,keyGenerationTime:i}=yield this._getOrCreateEncryptionKeys(),o={cryptoMethod:"0x70",aesKey:e,authKey:t};return i?((0,s.log)(a.LogTraceArea.Push,`[${d}]: Created registration payload with key generation time.`),Object.assign(Object.assign({},o),{keyGenerationTime:i})):((0,s.log)(a.LogTraceArea.Push,`[${d}]: Created registration payload without key generation time.`),o)}))}storeRegistrationTime(e){return o.__awaiter(this,void 0,void 0,(function*(){(0,s.log)(a.LogTraceArea.Push,`[${d}]: Storing registration time ${e}`),(yield(0,l.loadKeyGenerationTime)())?(0,s.log)(a.LogTraceArea.Push,`[${d}]: Found registration time stored. Will not override.`):(yield(0,l.storeKeyGenerationTime)(e),(0,s.log)(a.LogTraceArea.Push,`[${d}]: Stored registration time.`))}))}logout(e){return(0,s.log)(a.LogTraceArea.Push,`[${d}]: Cleaning up on logout. causeId=${e}`),(0,n.fromThenable)((0,r.removeEncryptionKeys)()).then((()=>{(0,s.log)(a.LogTraceArea.Push,`[${d}]: Cleaned up on logout.`)}))}_getOrCreateEncryptionKeys(){return o.__awaiter(this,void 0,void 0,(function*(){let[e,t]=yield Promise.all([(0,r.getEncryptionKeys)(),(0,l.loadKeyGenerationTime)()]);return e?Object.assign(Object.assign({},e),{keyGenerationTime:t}):([e]=yield Promise.all([(0,r.createEncryptionKeys)(),(0,l.removeKeyGenerationTime)()]),e)}))}}},891117:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getPnhEncryptionService=function(){n||(n=new o.PnhEncryptionService);return n};const o=i(685091);let n},6123:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getPnhEncryptionService=void 0;var o=i(891117);Object.defineProperty(t,"getPnhEncryptionService",{enumerable:!0,get:function(){return o.getPnhEncryptionService}})},536745:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionResult=void 0,function(e){e[e.None=0]="None",e[e.InvalidParameters=1]="InvalidParameters"}(i||(t.ActionResult=i={}))},434343:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDatabaseTransaction=t.Indexes=t.Stores=t.InternalKeys=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(18081)),a=o.__importStar(i(397691)),s=i(336897),l=o.__importDefault(i(655121)),c=o.__importDefault(i(910520)),d=o.__importDefault(i(609913)),u=i(207361),p=o.__importStar(i(214189)),g=o.__importDefault(i(776239)),h=i(815146),m=o.__importStar(i(85385)),S=o.__importDefault(i(997226)),_=o.__importDefault(i(483658)),f=i(589478);t.InternalKeys={SkypeToken:"skypetoken2",AMSCookieSkypeToken:"priv_amscookieskypetoken2",TeamsCookieSkypeToken:"priv_teamscookieskypetoken",MSARefreshToken:"msarefreshtoken",CdnToken:"cdntoken",ApsETag:"priv_apsetag_v3",ApsFeaturedAgentsETag:"priv_apsfeaturedagentsetag_v2",ApsIntegrationsETag:"priv_apsintegrationsetag_v2",ContactsDeltaSyncETag:"contactsdeltasyncetag_v17",ContactsNextFullSync:"contacts_next_fullsync",Prefs:"priv_prefs_v2",PrefsLocal:"priv_prefsLocal",ConversationListSyncInfo:"priv_convlistsyncinfov"+f.ConvBumperHelper,ContactMris:"priv_contactusernames_v4",ContactInvites:"priv_contactinvites",AddressBookContactHashes:"priv_addressbookcontacthashes_v2",EcsConfig:"priv_ecscache",EngagementCampaignData:"priv_engagementcampaigndata",PesConfigInfo:"priv_pesconfiginfo",PesTabs:"priv_pestabs",Emoticons:"priv_emoticons",RecentlyUsedEmoticons:"priv_mru_emoticons",CustomReactionsTones:"priv_crt_reactions",LastlyUsedEmoticonTones:"priv_lut_emoticons",LastlyUsedEmoticonGroupItem:"priv_luegi_emoticons",PhoneCountryCache:"priv_phonecountrycache_v4",DeviceId:"priv_deviceid",LastDBCleanupVersion:"lastCleanupVersion",MyUserStoreData:"priv_myuserstore",ChatServiceRegToken:"priv_csregtoken",EntitlementsData:"priv_EntitlementsData",LastOverlayConfigurationETag:"priv_lastOverlayConfigurationETag",ChatServiceSessionInfo_deprecated:"chatservicesessioninfo",InfoRefreshServiceCache:"priv_inforefreshcache",ContactsDirtyBit:"priv_contactsdirtybit_v5",ContactInvitesDirtyBit:"priv_contactinvitesdirtybit",SyncAddressBookEnabled:"priv_syncaddressbookenabled",PhoneRegisteredWithShortCircuitCheckCompleted:"phoneRegisteredWithShortCircuitCheckCompleted",BingSearchConfig:"bingsearchconfigdata",EdfRegistrationInfo:"priv_pnhregistrationinfo",PreferedDevices:"preferedDevices",NdiConfig:"ndiConfig",MyUserColor:"priv_myUserColor",PendingMediaPrefetchV1:"priv_pendingMediaPrefetch",PendingMediaPrefetch:"priv_pendingMediaPrefetch_v2",WebOfferStoreCache:"priv_webofferstorecache",IOSOfferStoreCache:"priv_iosofferstorecache",GPlayCreditOffersCache:"priv_gplaycreditofferscache",GPlaySubscriptionsOffersCache:"priv_gplaysubsofferscache",NativeSNOfferStoreCache:"priv_nativesnofferstorecache",IOSOCreditStoreCache:"priv_ioscreditstorecache",GPlayCreditStoreCache:"priv_gplaycreditstorecache",IOSSkypeToPhoneStoreCache:"priv_iosskypetophonestorecache",GPlaySkypeToPhoneStoreCache:"priv_gplayskypetophonestorecache",SNReservationCache:"priv_snreservationcache",BillingInformationCache:"priv_billinginformation",PersonalizedOfferStoreCache:"priv_personalizedofferstorecache",NativePersonalizedOfferStoreCache:"priv_nativepersonalizedofferstorecache",SkypeToPhoneNativePersonalizedOfferStoreCache:"priv_skypetophonenativepersonalizedofferstorecache",PurchaseOptionsStoreCache:"priv_purchaseoptionsstorecache",BlockedMriStoreCache:"priv_blockeduserstorecache",PesStickerInCaptureConfigInfo:"priv_pesstickercaptureconfiginfo",PesStickerInChatConfigInfo:"priv_pesstickerchatconfiginfo",PesStickerInCaptureTabs:"priv_pesstickercapturetabs",PesStickerInChatTabs:"priv_pesstickerchattabs",StickersInCapture:"priv_stickerscapture",StickersInChat:"priv_stickerschat",RecentlyUsedStickersInCapture:"priv_mru_stickerscapture",RecentlyUsedStickersInChat:"priv_mru_stickerschat",RecentlyUsedEffectsInCapture:"priv_mru_effectscapture",PesGifConfigInfo:"priv_pesgifconfiginfo",PesGifTabs:"priv_pesgiftabs",AgentMrisToImportantize:"AgentMrisToImportantize",SuggestionFeedbackMessageIds:"priv_suggestionsFeedbackClicked",SuggestionsData:"priv_suggestionsData",DeviceStoreSettings:"DeviceStoreSettings",EndToEndEncryptionData:"e2eeData",SecureDeviceId:"priv_securedeviceid",Integrations:"integrations",MyUserPresence:"priv_myUserPresence",ClockSkew:"priv_clockSkew",ActiveCalls:"priv_activeCalls",PrivateConversations:"privateConversations",TransferServicesMeta:"TransferServicesMeta",IsOnGoGoSSID:"priv_isOnGoGoSSID",EcsParamCache:"priv_ecsParamCache",SharedIdServiceCache:"priv_sharedidcache",CelebrationNotificationLastShownTime:"priv_celebrationNotificationLastShownTime",AppActivity:"priv_appactivity",AuthTokenLastRefreshDate:"authtokenlastrefreshdate",AuthTokenNextRefreshDate:"authtokennextrefreshdate",MyUserProfileV2:"MyUserProfileV2",LocalOverriddenEcsConfig:"priv_localoverrideecscache",CallCaptionsCleanupStartTimestamp:"callcaptionscleanupstarttimestamp",CallCaptionsCleanupEndTimestamp:"callcaptionscleanupendtimestamp",CallerIdCountryCodes:"calleridcountrycodes",CallerIdLastPrimaryNumberId:"priv_calleridlastprimarynumberid",SendCreditOptions:"priv_sendcreditoptions",BingSearchHistory:"priv_bingSearchHistory",MagicBotToolboxData:"magicbottoolboxdata",MagicBotConversationSuggestions:"magicbotconversationsuggestions",ToneRewriteTones:"tonerewritetones",ImageGenerationHistory:"imagegenerationhistory",EndpointId:"endpointid"},t.Stores={Conversations:"conversationsv"+f.ConvBumperHelper,Alerts:"alertsv"+f.BumperHelper,PopCards:"popupcards",InternalData:"internaldata",Messages:"messagesv"+f.BumperHelper,Profiles:"profilecachev8",ProfileMinis:"miniprofilecachev8",Telemetry:"telemetrycachev3",Agents:"agentscachev3",FeaturedAgents:"featuredagentscache",IntegrationConsents:"priv_integrationconsents",PersistentActions:"persistentActionsv2",LocalNotifications:"localnotificationsv2",FileCacheMetadata:"fileCachemetadata",FileTracker:"fileTracker",LocalAddressBookContacts:"localAddressBookContacts",ImagePrefetchInfo:"imagePrefetchInfo",Connectors:"connectors",EngagementPullCampaigns:"engagementpullcampaigns",ConsumedConciergeBotMessages:"consumedconciergebotmsgs",CallLogs:"calllogs",Drafts:"drafts",EngagementMessagesQueueStore:"engagementMessagesQueue",MediaDrafts:"mediadrafts",ContentChannel:`content_channel_v${f.BumperHelper}`,ContentChannelMessage:`content_channel_message_v${f.BumperHelper}`,ContentChannelNotification:`content_channel_notification_v${f.BumperHelper}`},t.Indexes={Conversations_IsHighlight_HasUnread:"convHlHasUnread",Conversations_IsHighlight_ForceToRecents_Timestamp:"convHlRecentsTimestamp",Conversations_NeedsSync:"convNeedsSync",Conversations_SearchTerms:"searchTerms",Alerts_Read_Timestamp:"alertsReadTimestamp",Alerts_ConvId:"alertsConvid",Agents_Important:"agentsImportant",Agents_Whitelisted:"agentsWhitelisted",Messages_ConversationId_CreatedTime:"convidcreatedtime",Messages_ConversationId_CountsType_CreatedTime:"convidcountscreatedtime",Messages_ConversationId_IsMyMessage_CreatedTime:"convidmymessagecreatedtime",Profiles_PhoneNumber:"phoneNumbersIndex",Telemetry_Priority_Timestamp:"prioritytimestamp"};class y extends u.ClientDatabaseBase{constructor(){super(...arguments),this._schema={version:f.SchemaVersion,lastUsableVersion:10,stores:[{name:t.Stores.Messages,estimatedObjBytes:1500,primaryKeyPath:["conversationId","cuid"],indexes:[{name:t.Indexes.Messages_ConversationId_CreatedTime,keyPath:["conversationId","createdTime"],unique:!1},{name:t.Indexes.Messages_ConversationId_CountsType_CreatedTime,keyPath:["conversationId","_countsType","createdTime"],unique:!1},{name:t.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime,keyPath:["conversationId","_isMyMessage","createdTime"],unique:!1}]},{name:t.Stores.Alerts,primaryKeyPath:"guid",estimatedObjBytes:4e3,indexes:[{name:t.Indexes.Alerts_ConvId,keyPath:"message.conversationId",unique:!1},{name:t.Indexes.Alerts_Read_Timestamp,keyPath:["isRead","alertTime"],unique:!1}]},{name:t.Stores.PopCards,primaryKeyPath:"guid",estimatedObjBytes:1e3,indexes:[]},{name:t.Stores.Conversations,primaryKeyPath:"conv.id",estimatedObjBytes:3500,indexes:[{name:t.Indexes.Conversations_IsHighlight_ForceToRecents_Timestamp,keyPath:["_isHighlight","_forceToRecents","conv._timestamp"],unique:!1},{name:t.Indexes.Conversations_IsHighlight_HasUnread,keyPath:["_isHighlight","counts.hasUnread"],unique:!1},{name:t.Indexes.Conversations_NeedsSync,keyPath:"_needsSync",unique:!1},{name:t.Indexes.Conversations_SearchTerms,keyPath:"conv._searchTerms",fullText:!0}]},{name:t.Stores.InternalData,primaryKeyPath:"id",estimatedObjBytes:1e4,indexes:[]},{name:t.Stores.Profiles,primaryKeyPath:"mri",estimatedObjBytes:300,indexes:[{name:t.Indexes.Profiles_PhoneNumber,keyPath:"_phoneNumbersForDbIndex",multiEntry:!0}]},{name:t.Stores.ProfileMinis,primaryKeyPath:"mri",estimatedObjBytes:250,indexes:[]},{name:t.Stores.Telemetry,primaryKeyPath:"id",estimatedObjBytes:3e3,indexes:[{name:t.Indexes.Telemetry_Priority_Timestamp,keyPath:["priority","timestamp"],unique:!1}]},{name:t.Stores.Agents,primaryKeyPath:"agentId",estimatedObjBytes:1500,indexes:[{name:t.Indexes.Agents_Important,keyPath:"isImportant",unique:!1},{name:t.Indexes.Agents_Whitelisted,keyPath:"isWhitelisted",unique:!1}]},{name:t.Stores.FeaturedAgents,primaryKeyPath:"agentId",estimatedObjBytes:1500,indexes:[]},{name:t.Stores.IntegrationConsents,primaryKeyPath:["integrationId","consentType"],indexes:[]},{name:t.Stores.PersistentActions,primaryKeyPath:"id",indexes:[]},{name:t.Stores.LocalNotifications,primaryKeyPath:"id",indexes:[]},{name:t.Stores.FileCacheMetadata,primaryKeyPath:["cacheName","id"],indexes:[]},{name:t.Stores.FileTracker,primaryKeyPath:"id",indexes:[]},{name:t.Stores.LocalAddressBookContacts,primaryKeyPath:"id",indexes:[]},{name:t.Stores.ImagePrefetchInfo,primaryKeyPath:"url",estimatedObjBytes:200,indexes:[]},{name:t.Stores.Connectors,primaryKeyPath:"mri",indexes:[]},{name:t.Stores.EngagementPullCampaigns,primaryKeyPath:"campaignId",estimatedObjBytes:250,indexes:[]},{name:t.Stores.ConsumedConciergeBotMessages,primaryKeyPath:["conversationId","messageCuid"],estimatedObjBytes:100,indexes:[]},{name:t.Stores.CallLogs,primaryKeyPath:"callId",indexes:[]},{name:t.Stores.Drafts,primaryKeyPath:"conversationId",indexes:[]},{name:t.Stores.EngagementMessagesQueueStore,primaryKeyPath:"id",indexes:[]},{name:t.Stores.MediaDrafts,primaryKeyPath:"conversationId",indexes:[]},{name:t.Stores.ContentChannel,primaryKeyPath:"id",indexes:[]},{name:t.Stores.ContentChannelMessage,primaryKeyPath:["channelId","horizonId"],indexes:[]},{name:t.Stores.ContentChannelNotification,primaryKeyPath:"id",indexes:[]}]}}open(e,i,o=!1,r=!1){const a="s4l-"+i,s=Date.now();let l=super.open(e,a,!1,r);return o&&(m.log(h.LogTraceArea.GenericUnsafe,"open() with nukeDb called..."),l=l.then((()=>this.openTransaction([t.Stores.InternalData],!1))).then((e=>e.internal_getInternalData(t.InternalKeys.SkypeToken))).thenAsync((i=>this._close().then((()=>super.open(e,a,!0,r))).then((()=>{if(i)return this.openTransaction([t.Stores.InternalData],!0).then((e=>e.internal_putInternalData(t.InternalKeys.SkypeToken,i)))})))).thenAsync(n.noop)),l.then((()=>{const e=Date.now()-s;m.log(h.LogTraceArea.GenericUnsafe,`ClientDatabase initialization Completed in ${e}ms`),this._databaseInitalizationDeferred&&(m.log(h.LogTraceArea.GenericUnsafe,"Resolving initialization promise..."),this._databaseInitalizationDeferred.resolve(void 0),this._databaseInitalizationDeferred=void 0)}))}performWhenDatabaseInitialized(){return this.isInitialized()?(m.log(h.LogTraceArea.GenericUnsafe,"Database is already initialized    ..."),a.Resolved()):(this._databaseInitalizationDeferred||(this._databaseInitalizationDeferred=a.Defer()),m.log(h.LogTraceArea.GenericUnsafe,"Awaiting database initialization..."),this._databaseInitalizationDeferred.promise())}getProviderName(){const e=this.getProviderInfo();return e&&e.name}internal_getAllInternalData(){return this.openTransaction([t.Stores.InternalData],!1).then((e=>e.internal_getAllInternalData()))}internal_getInternalData(e){return this.openTransaction([t.Stores.InternalData],!1).then((t=>t.internal_getInternalData(e)))}internal_putInternalData(e,i){return this.openTransaction([t.Stores.InternalData],!0).then((t=>t.internal_putInternalData(e,i)))}internal_deleteInternalData(e){return this.openTransaction([t.Stores.InternalData],!0).then((t=>t.internal_deleteInternalData(e)))}getAll(){return this.openTransaction([t.Stores.Profiles],!1).then((e=>e.getAll()))}getUserProfileByMri(e){return this.openTransaction([t.Stores.Profiles],!1).then((t=>t.getUserProfileByMri(e)))}getUserProfilesByMris(e){return this.openTransaction([t.Stores.Profiles],!1).then((t=>t.getUserProfilesByMris(e)))}getUserProfilesByPhoneNumber(e){return this.openTransaction([t.Stores.Profiles],!1).then((t=>t.getUserProfilesByPhoneNumber(e)))}getAllUserProfiles(){return this.openTransaction([t.Stores.Profiles],!1).then((e=>e.getAllUserProfiles()))}putUserProfiles(e){return this.openTransaction([t.Stores.Profiles],!0).then((t=>t.putUserProfiles(e)))}getAllDisplayableUsers(){return this.openTransaction([t.Stores.ProfileMinis],!1).then((e=>e.getAllDisplayableUsers()))}getDisplayableUser(e){return this.openTransaction([t.Stores.ProfileMinis],!1).then((t=>t.getDisplayableUser(e)))}putDisplayableUsers(e){return this.openTransaction([t.Stores.ProfileMinis],!0).then((t=>t.putDisplayableUsers(e)))}getTelemetryEvents(e,i){return this.openTransaction([t.Stores.Telemetry],!1).then((t=>t.getTelemetryEvents(e,i)))}putTelemetryEvents(e){return this.openTransaction([t.Stores.Telemetry],!0).then((t=>t.putTelemetryEvents(e)))}deleteTelemetryEvents(e){return this.openTransaction([t.Stores.Telemetry],!0).then((t=>t.deleteTelemetryEvents(e)))}countTelemetryEvents(){return this.openTransaction([t.Stores.Telemetry],!1).then((e=>e.countTelemetryEvents()))}getAgentDescription(e){return this.openTransaction([t.Stores.Agents],!1).then((t=>t.getAgentDescription(e)))}getAgentDescriptions(e){return this.openTransaction([t.Stores.Agents],!1).then((t=>t.getAgentDescriptions(e)))}getImportantAgents(){return this.openTransaction([t.Stores.Agents],!1).then((e=>e.getImportantAgents()))}getWhitelistedAgents(){return this.openTransaction([t.Stores.Agents],!1).then((e=>e.getWhitelistedAgents()))}putAgentDescriptions(e){return this.openTransaction([t.Stores.Agents],!0).then((t=>t.putAgentDescriptions(e)))}getAllFeaturedAgents(){return this.openTransaction([t.Stores.FeaturedAgents],!1).then((e=>e.getAllFeaturedAgents()))}replaceFeaturedAgents(e){return this.openTransaction([t.Stores.FeaturedAgents],!0).then((t=>t.replaceFeaturedAgents(e)))}getConnectorMetadata(e){return this.openTransaction([t.Stores.Connectors],!1).then((t=>t.getConnectorMetadata(e)))}getConnectorsMetadata(e){return this.openTransaction([t.Stores.Connectors],!1).then((t=>t.getConnectorsMetadata(e)))}getAllConnectorMetadata(){return this.openTransaction([t.Stores.Connectors],!1).then((e=>e.getAllConnectorMetadata()))}putConnectorsMetadata(e){return this.openTransaction([t.Stores.Connectors],!0).then((t=>t.putConnectorsMetadata(e)))}getIntegrationConsent(e,i){return this.openTransaction([t.Stores.IntegrationConsents],!1).then((t=>t.getIntegrationConsent(e,i)))}putIntegrationConsent(e){return this.openTransaction([t.Stores.IntegrationConsents],!0).then((t=>t.putIntegrationConsent(e)))}getConversationMeta(e){return this.openTransaction([t.Stores.Conversations],!1).then((t=>t.getConversationMeta(e)))}getConversationMetas(e){return this.openTransaction([t.Stores.Conversations],!1).then((t=>t.getConversationMetas(e)))}getAllConversationMetas(e,i){return this.openTransaction([t.Stores.Conversations],!1).then((t=>t.getAllConversationMetas(e,i)))}getCountOfUnreadConversations(e){return this.openTransaction([t.Stores.Conversations],!1).then((t=>t.getCountOfUnreadConversations(e)))}getRecentNonHighlightConversationMetas(e,i=p.ConversationHistoryTimeSpanImportant){return this.openTransaction([t.Stores.Conversations],!1).then((t=>t.getRecentNonHighlightConversationMetas(e,i)))}getAllNonHighlightConversationMetas(){return this.openTransaction([t.Stores.Conversations],!1).then((e=>e.getAllNonHighlightConversationMetas()))}getNeedsSyncConversations(){return this.openTransaction([t.Stores.Conversations],!1).then((e=>e.getNeedsSyncConversations()))}getConversationMetasBySearchTerm(e,i=!1,o){if(0===e.length)return a.Rejected("Empty search term");const n=i?r.FullTextTermResolution.Or:r.FullTextTermResolution.And;return this.openTransaction([t.Stores.Conversations],!1).then((t=>t.getConversationMetasBySearchTerm(e,n,o)))}putConversationMetas(e){return this.openTransaction([t.Stores.Conversations],!0).then((t=>t.putConversationMetas(e)))}removeConversationMetas(e){return this.openTransaction([t.Stores.Conversations],!0).then((t=>t.removeConversationMetas(e)))}getAllMessages(e,i){return this.openTransaction([t.Stores.Messages],!1).then((t=>t.getAllMessages(e,i)))}getMessagesInConversation(e){return this.openTransaction([t.Stores.Messages],!1).then((t=>t.getMessagesInConversation(e)))}getMessageByCuid(e,i){return this.openTransaction([t.Stores.Messages],!1).then((t=>t.getMessageByCuid(e,i)))}getMessagesByCuidForConversations(e){return this.openTransaction([t.Stores.Messages],!1).then((t=>t.getMessagesByCuidForConversations(e)))}getMessagesForConversationBeforeTime(e,i,o,n){return this.openTransaction([t.Stores.Messages],!1).then((t=>t.getMessagesForConversationBeforeTime(e,i,o,n)))}getMessagesNotSentByMe(e,i,o,n){return this.openTransaction([t.Stores.Messages],!1).then((t=>t.getMessagesNotSentByMe(e,i,o,n)))}getMessagesSentByMeSinceTime(e,i,o,n){return this.openTransaction([t.Stores.Messages],!1).then((t=>t.getMessagesSentByMeSinceTime(e,i,o,n)))}getMessagesForConversationAfterTime(e,i,o,n){return this.openTransaction([t.Stores.Messages],!1).then((t=>t.getMessagesForConversationAfterTime(e,i,o,n)))}getMessagesForConversationAndTimeRange(e,i,o,n=!1,a){return this.openTransaction([t.Stores.Messages],!1).then((t=>{let s=r.QuerySortOrder.None;n?s=r.QuerySortOrder.Reverse:!n&&a&&(s=r.QuerySortOrder.Forward);return t.getMessagesForConversationAndTimeRange(e,i,o,s,a)}))}removeMessages(e){return this.openTransaction([t.Stores.Messages],!0).then((t=>t.removeMessages(e)))}getCountOfMessagesForConversationAfterTimeNormalPri(e,i,o){return this.openTransaction([t.Stores.Messages],!1).then((t=>t.getCountOfMessagesForConversationAfterTimeNormalPri(e,i,o)))}getCountOfMessagesForConversationAfterTimeHighPri(e,i){return this.openTransaction([t.Stores.Messages],!1).then((t=>t.getCountOfMessagesForConversationAfterTimeHighPri(e,i)))}getCountOfMessagesForConversationISentSinceTime(e,i){return this.openTransaction([t.Stores.Messages],!1).then((t=>t.getCountOfMessagesForConversationISentSinceTime(e,i)))}getMessagesByCuid(e,i){return this.openTransaction([t.Stores.Messages],!1).then((t=>t.getMessagesByCuid(e,i)))}putMessages(e){return this.openTransaction([t.Stores.Messages],!0).then((t=>t.putMessages(e)))}getMostRecentAlertTime(){return this.openTransaction([t.Stores.Alerts],!1).then((e=>e.getMostRecentAlertTime()))}getAlertsForConversation(e){return this.openTransaction([t.Stores.Alerts],!1).then((t=>t.getAlertsForConversation(e)))}countUnreadAlertsSinceTime(e){return this.openTransaction([t.Stores.Alerts],!1).then((t=>t.countUnreadAlertsSinceTime(e)))}countAlerts(){return this.openTransaction([t.Stores.Alerts],!1).then((e=>e.countAlerts()))}getAlerts(){return this.openTransaction([t.Stores.Alerts],!1).then((e=>e.getAlerts()))}putAlerts(e){return this.openTransaction([t.Stores.Alerts],!0).then((t=>t.putAlerts(e)))}removeAlerts(e){return this.openTransaction([t.Stores.Alerts],!0).then((t=>t.removeAlerts(e)))}getAllPopCards(){return this.openTransaction([t.Stores.PopCards],!1).then((e=>e.getAllPopCards()))}putPopCards(e){return this.openTransaction([t.Stores.PopCards],!0).then((t=>t.putPopCards(e)))}removePopCard(e){return this.openTransaction([t.Stores.PopCards],!0).then((t=>t.removePopCard(e)))}clearAllPopCards(){return this.openTransaction([t.Stores.PopCards],!0).then((e=>e.clearAllPopCards()))}getAllEngagementMessagesInQueue(){return this.openTransaction([t.Stores.EngagementMessagesQueueStore],!1).then((e=>e.getAllEngagementMessagesInQueue()))}putEngagementMessagesToQueue(e){return this.openTransaction([t.Stores.EngagementMessagesQueueStore],!0).then((t=>t.putEngagementMessagesToQueue(e)))}removeEngagementMessageFromQueue(e){return this.openTransaction([t.Stores.EngagementMessagesQueueStore],!0).then((t=>t.removeEngagementMessageFromQueue(e)))}clearEngagementQueueOfMessages(){return this.openTransaction([t.Stores.EngagementMessagesQueueStore],!0).then((e=>e.clearEngagementQueueOfMessages()))}getAllCampaigns(){return this.openTransaction([t.Stores.EngagementPullCampaigns],!1).then((e=>e.getAllCampaigns()))}putCampaigns(e){return this.openTransaction([t.Stores.EngagementPullCampaigns],!0).then((t=>t.putCampaigns(e)))}removeCampaigns(e){return this.openTransaction([t.Stores.EngagementPullCampaigns],!0).then((t=>t.removeCampaigns(e)))}getAllConsumedBotMessages(){return this.openTransaction([t.Stores.ConsumedConciergeBotMessages],!1).then((e=>e.getAllConsumedBotMessages()))}putConsumedBotMessages(e){return this.openTransaction([t.Stores.ConsumedConciergeBotMessages],!0).then((t=>t.putConsumedBotMessages(e)))}getLocalNotifications(){return this.openTransaction([t.Stores.LocalNotifications],!1).then((e=>e.getLocalNotifications()))}putLocalNotifications(e){return this.openTransaction([t.Stores.LocalNotifications],!0).then((t=>t.putLocalNotifications(e)))}removeLocalNotifications(e){return this.openTransaction([t.Stores.LocalNotifications],!0).then((t=>t.removeLocalNotifications(e)))}getPersistentActions(){return this.openTransaction([t.Stores.PersistentActions],!1).then((e=>e.getPersistentActions()))}putPersistentAction(e){return this.openTransaction([t.Stores.PersistentActions],!0).then((t=>t.putPersistentAction(e)))}removePersistentAction(e){return this.openTransaction([t.Stores.PersistentActions],!0).then((t=>t.removePersistentAction(e)))}getAllFileCacheMetadata(){return this.openTransaction([t.Stores.FileCacheMetadata],!1).then((e=>e.getAllFileCacheMetadata()))}putFileCacheMetadata(e){return this.openTransaction([t.Stores.FileCacheMetadata],!0).then((t=>t.putFileCacheMetadata(e)))}removeFileCacheMetadata(e,i){return this.openTransaction([t.Stores.FileCacheMetadata],!0).then((t=>t.removeFileCacheMetadata(e,i)))}getAllFileTrackerMetadata(){return this.openTransaction([t.Stores.FileTracker],!1).then((e=>e.getAllFileTrackerMetadata()))}putFileTrackerMetadata(e){return this.openTransaction([t.Stores.FileTracker],!0).then((t=>t.putFileTrackerMetadata(e)))}removeFileTrackerMetadata(e){return this.openTransaction([t.Stores.FileTracker],!0).then((t=>t.removeFileTrackerMetadata(e)))}getAllLocalAddressBookContacts(){return this.openTransaction([t.Stores.LocalAddressBookContacts],!1).then((e=>e.getAllLocalAddressBookContacts()))}putLocalAddressBookContacts(e){return this.openTransaction([t.Stores.LocalAddressBookContacts],!0).then((t=>t.putLocalAddressBookContacts(e)))}replaceAllLocalAddressBookContacts(e){return this.openTransaction([t.Stores.LocalAddressBookContacts],!0).then((t=>t.replaceAllLocalAddressBookContacts(e)))}removeAllLocalAddressBookContacts(){return this.openTransaction([t.Stores.LocalAddressBookContacts],!0).then((e=>e.removeAllLocalAddressBookContacts()))}getAllImagePrefetchInfo(){return this.openTransaction([t.Stores.ImagePrefetchInfo],!1).then((e=>e.getAllImagePrefetchInfo().then((e=>n.compact(e)))))}putImagePrefetchRecords(e){return this.openTransaction([t.Stores.ImagePrefetchInfo],!0).then((t=>t.putImagePrefetchRecords(e)))}removeImagePrefetchInfo(e){return this.openTransaction([t.Stores.ImagePrefetchInfo],!0).then((t=>t.removeImagePrefetchInfo(e)))}getCallLogs(e){return this.openTransaction([t.Stores.CallLogs],!1).then((t=>{const i=n.map(e,(e=>t.getCallLog(e)));return a.all(i).then((e=>n.compact(e)))}))}putCallLogs(e){return this.openTransaction([t.Stores.CallLogs],!0).then((t=>t.putCallLogs(e)))}getAllDraftMessages(){return this.openTransaction([t.Stores.Drafts],!1).then((e=>e.getAllDraftMessages()))}putDraftMessage(e){return this.openTransaction([t.Stores.Drafts],!0).then((t=>t.putDraftMessage(e)))}deleteDraftMessage(e){return this.openTransaction([t.Stores.Drafts],!0).then((t=>t.deleteDraftMessage(e)))}getAllMediaDrafts(){return this.openTransaction([t.Stores.MediaDrafts],!1).then((e=>e.getAllDraftMedia()))}putMediaDrafts(e){return this.openTransaction([t.Stores.MediaDrafts],!0).then((t=>t.putDraftMedia(e)))}deleteMediaDraft(e){return this.openTransaction([t.Stores.MediaDrafts],!0).then((t=>t.deleteDraftMedia(e)))}getLastCallCaptionsCleanupTimestamp(){return this.internal_getInternalData(t.InternalKeys.CallCaptionsCleanupEndTimestamp).then((e=>null!=e?e:void 0))}}class C extends u.ClientDatabaseTransactionBase{constructor(){super(...arguments),this._increaseLastCharCode=e=>e.substring(0,e.length-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1)}internal_putInternalData(e,i){return this._getStore(t.Stores.InternalData).put({id:e,value:i}).fail(this._databaseError)}internal_deleteInternalData(e){return this._getStore(t.Stores.InternalData).remove(e).fail(this._databaseError)}internal_getInternalData(e){return this._getStore(t.Stores.InternalData).get(e).then((e=>e?e.value:null)).fail(this._databaseError)}internal_getAllInternalData(){return this._getStore(t.Stores.InternalData).getAll(r.QuerySortOrder.None).fail(this._databaseError)}getUserProfileByMri(e){return this._getStore(t.Stores.Profiles).get(e).then((e=>_.default.fromDatabaseObject(e))).fail(this._databaseError)}getUserProfilesByMris(e){return this._getStore(t.Stores.Profiles).getMultiple(e).then((e=>n.map(e,(e=>_.default.fromDatabaseObject(e))))).fail(this._databaseError)}getUserProfilesByPhoneNumber(e){return this._getStore(t.Stores.Profiles).openIndex(t.Indexes.Profiles_PhoneNumber).getRange(e,this._increaseLastCharCode(e),!1,!0,r.QuerySortOrder.None).then((e=>{let t=n.compact(e);return t=n.uniqWith(t,((e,t)=>e.mri===t.mri)),n.map(t,(e=>_.default.fromDatabaseObject(e)))})).fail(this._databaseError)}getAll(){return this._getStore(t.Stores.Profiles).getAll(r.QuerySortOrder.None).then((e=>e.length)).fail(this._databaseError)}getAllUserProfiles(){return this._getStore(t.Stores.Profiles).getAll(r.QuerySortOrder.None).then((e=>n.map(e,(e=>_.default.fromDatabaseObject(e))))).fail(this._databaseError)}putUserProfiles(e){return this._getStore(t.Stores.Profiles).put(e).fail(this._databaseError)}getAllDisplayableUsers(){return this._getStore(t.Stores.ProfileMinis).getAll(r.QuerySortOrder.None).then((e=>n.map(e,(e=>g.default.fromDatabaseObject(e))))).fail(this._databaseError)}getDisplayableUser(e){return this._getStore(t.Stores.ProfileMinis).get(e).then((e=>g.default.fromDatabaseObject(e))).fail(this._databaseError)}putDisplayableUsers(e){return this._getStore(t.Stores.ProfileMinis).put(n.map(e,(e=>e.getDatabaseRepresentation()))).fail(this._databaseError)}getTelemetryEvents(e,i){return this._getStore(t.Stores.Telemetry).openIndex(t.Indexes.Telemetry_Priority_Timestamp).getAll(r.QuerySortOrder.None,e,i).fail(this._databaseError)}putTelemetryEvents(e){return this._getStore(t.Stores.Telemetry).put(e).fail(this._databaseError)}deleteTelemetryEvents(e){return this._getStore(t.Stores.Telemetry).remove(e).fail(this._databaseError)}countTelemetryEvents(){return this._getStore(t.Stores.Telemetry).openPrimaryKey().countAll().fail(this._databaseError)}getAgentDescription(e){return this._getStore(t.Stores.Agents).get(e).then((e=>l.default.fromDatabaseObject(e))).fail(this._databaseError)}getAgentDescriptions(e){return this._getStore(t.Stores.Agents).getMultiple(e).then((e=>n.map(e,(e=>l.default.fromDatabaseObject(e))))).fail(this._databaseError)}getImportantAgents(){return this._getStore(t.Stores.Agents).openIndex(t.Indexes.Agents_Important).getOnly(1,r.QuerySortOrder.None).then((e=>n.map(e,(e=>l.default.fromDatabaseObject(e))))).fail(this._databaseError)}getWhitelistedAgents(){return this._getStore(t.Stores.Agents).openIndex(t.Indexes.Agents_Whitelisted).getOnly(1,r.QuerySortOrder.None).then((e=>n.map(e,(e=>l.default.fromDatabaseObject(e))))).fail(this._databaseError)}putAgentDescriptions(e){return this._getStore(t.Stores.Agents).put(e).fail(this._databaseError)}getAllFeaturedAgents(){return this._getStore(t.Stores.FeaturedAgents).getAll(r.QuerySortOrder.None).then((e=>n.map(e,(e=>l.default.fromDatabaseObject(e))))).fail(this._databaseError)}replaceFeaturedAgents(e){return this._getStore(t.Stores.FeaturedAgents).clearAllData().then((()=>this._getStore(t.Stores.FeaturedAgents).put(e))).fail(this._databaseError)}getConnectorMetadata(e){return this._getStore(t.Stores.Connectors).get(e).fail(this._databaseError)}getConnectorsMetadata(e){return this._getStore(t.Stores.Connectors).getMultiple(e).fail(this._databaseError)}getAllConnectorMetadata(){return this._getStore(t.Stores.Connectors).getAll(r.QuerySortOrder.None).fail(this._databaseError)}putConnectorsMetadata(e){return this._getStore(t.Stores.Connectors).put(e).fail(this._databaseError)}getIntegrationConsent(e,i){return this._getStore(t.Stores.IntegrationConsents).get([e,i]).fail(this._databaseError)}putIntegrationConsent(e){return this._getStore(t.Stores.IntegrationConsents).put(e).fail(this._databaseError)}getConversationMeta(e){return this._getStore(t.Stores.Conversations).get(e).then((e=>p.default.fromDatabaseObject(e))).fail(this._databaseError)}getConversationMetas(e){return this._getStore(t.Stores.Conversations).getMultiple(e).then((e=>{const t={};return n.each(e,(e=>{const i=p.default.fromDatabaseObject(e);t[i.conv.id]=i})),t})).fail(this._databaseError)}getAllConversationMetas(e,i){return this._getStore(t.Stores.Conversations).openPrimaryKey().getAll(r.QuerySortOrder.Forward,e,i).then((e=>n.map(n.compact(e),(e=>p.default.fromDatabaseObject(e))))).fail(this._databaseError)}getCountOfUnreadConversations(e){return this._getStore(t.Stores.Conversations).openIndex(t.Indexes.Conversations_IsHighlight_HasUnread).countOnly([e?1:0,1]).fail(this._databaseError)}getRecentNonHighlightConversationMetas(e,t=p.ConversationHistoryTimeSpanImportant){return this._getRecentConversationMetas(!1,e,t)}getAllNonHighlightConversationMetas(){return this._getStore(t.Stores.Conversations).openIndex(t.Indexes.Conversations_IsHighlight_ForceToRecents_Timestamp).getRange([0,0,0],[0,1,Number.MAX_VALUE],!1,!1,r.QuerySortOrder.Reverse).then((e=>e)).then((e=>n.map(e,(e=>p.default.fromDatabaseObject(e))))).fail(this._databaseError)}getAllDraftMessages(){return this._getStore(t.Stores.Drafts).getAll(r.QuerySortOrder.None).fail(this._databaseError)}putDraftMessage(e){return this._getStore(t.Stores.Drafts).put(e).fail(this._databaseError)}deleteDraftMessage(e){return this._getStore(t.Stores.Drafts).remove(e).fail(this._databaseError)}getAllDraftMedia(){return this._getStore(t.Stores.MediaDrafts).getAll(r.QuerySortOrder.None).fail(this._databaseError)}putDraftMedia(e){return this._getStore(t.Stores.MediaDrafts).put(e).fail(this._databaseError)}deleteDraftMedia(e){return this._getStore(t.Stores.MediaDrafts).remove(e).fail(this._databaseError)}_getRecentConversationMetas(e,i,o){const a=this._getStore(t.Stores.Conversations).openIndex(t.Indexes.Conversations_IsHighlight_ForceToRecents_Timestamp),s=e?1:0,l=Date.now()-o;return a.getRange([s,0,l],[s,1,Number.MAX_VALUE],!1,!1,r.QuerySortOrder.None).then((e=>{const t=n.filter(e,(e=>e.conv._timestamp>=l)).length;return t>=i?e:a.getRange([s,0,0],[s,0,l],!1,!0,r.QuerySortOrder.Reverse,i-t).then((t=>e.concat(t)))})).then((e=>n.map(e,(e=>p.default.fromDatabaseObject(e))))).fail(this._databaseError)}getNeedsSyncConversations(){return this._getStore(t.Stores.Conversations).openIndex(t.Indexes.Conversations_NeedsSync).getOnly(1,r.QuerySortOrder.None).then((e=>n.map(n.compact(e),(e=>p.default.fromDatabaseObject(e))))).fail(this._databaseError)}getConversationMetasBySearchTerm(e,i,o){return this._getStore(t.Stores.Conversations).openIndex(t.Indexes.Conversations_SearchTerms).fullTextSearch(e,i,o).then((e=>n.map(n.compact(e),(e=>p.default.fromDatabaseObject(e))))).fail(this._databaseError)}putConversationMetas(e){const i=n.isArray(e)?e:[e];return this._getStore(t.Stores.Conversations).put(i).fail(this._databaseError)}removeConversationMetas(e){const i=n.map(e,(e=>e.conv.id));return this._getStore(t.Stores.Conversations).remove(i).fail(this._databaseError)}getMessagesInConversation(e){const i=this._increaseLastCharCode(e);return this._getStore(t.Stores.Messages).getRange([e,""],[i,""],!1,!0,r.QuerySortOrder.None).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMessagesForConversationAndTimeRange(e,i,o,r,a){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_CreatedTime).getRange([e,i],[e,o],!1,!1,r,a).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMessagesForConversationBeforeTime(e,i,o,a){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_CreatedTime).getRange([e,0],[e,i],!1,a,r.QuerySortOrder.Reverse,o).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMessagesForConversationAfterTime(e,i,o,a){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_CreatedTime).getRange([e,i],[e,Number.MAX_VALUE],a,!0,r.QuerySortOrder.Forward,o).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMessagesNotSentByMe(e,i,o,a){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime).getRange([e,0,0],[e,0,i],!1,a,r.QuerySortOrder.Reverse,o).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMessagesSentByMeSinceTime(e,i,o,a){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime).getRange([e,1,i],[e,1,Number.MAX_VALUE],!1,a,r.QuerySortOrder.Reverse,o).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getCountOfMessagesForConversationAfterTimeNormalPri(e,i,o){const a=void 0===o?void 0:2*o;return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_CreatedTime).getRange([e,i],[e,Number.MAX_VALUE],!0,!0,r.QuerySortOrder.Forward,a).then((e=>{const t=n.map(e,(e=>S.default.fromDatabaseObject(e))),i=d.default.updateCallEventMessages(t),r=n.filter(i,(e=>1===e.getCountsType())).length;return void 0===o?r:Math.min(o,r)})).fail(this._databaseError)}getCountOfMessagesForConversationAfterTimeHighPri(e,i){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_CountsType_CreatedTime).countRange([e,2,i],[e,2,Number.MAX_VALUE],!0,!0)}getCountOfMessagesForConversationISentSinceTime(e,i){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime).countRange([e,1,i],[e,1,Number.MAX_VALUE],!1,!0)}getMessageByCuid(e,i){return this._getStore(t.Stores.Messages).get([e,i]).then((e=>S.default.fromDatabaseObject(e))).fail(this._databaseError)}getMessagesByCuid(e,i){return this._getStore(t.Stores.Messages).getMultiple(n.map(i,(t=>[e,t]))).then((e=>n.map(n.compact(e),(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMessagesByCuidForConversations(e){const i=[];return n.each(e,((e,t)=>{n.each(e,(e=>{i.push([t,e])}))})),this._getStore(t.Stores.Messages).getMultiple(i).then((e=>n.map(n.compact(e),(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}putMessages(e){return this._getStore(t.Stores.Messages).put(e).fail(this._databaseError)}removeMessages(e){const i=n.map(e,(e=>[e.conversationId,e.cuid]));return this._getStore(t.Stores.Messages).remove(i).fail(this._databaseError)}getAllMessages(e,i){return this._getStore(t.Stores.Messages).openPrimaryKey().getAll(r.QuerySortOrder.Forward,e,i).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMostRecentAlertTime(){const e=this._getStore(t.Stores.Alerts).openIndex(t.Indexes.Alerts_Read_Timestamp),i=e.getRange([0,0],[0,Number.MAX_VALUE],!1,!1,r.QuerySortOrder.Reverse,1).fail(this._databaseError),o=e.getRange([1,0],[1,Number.MAX_VALUE],!1,!1,r.QuerySortOrder.Reverse,1).fail(this._databaseError);return a.all([i,o]).then((([e,t])=>{const i=n.maxBy(n.compact(e.concat(t)),(e=>e.alertTime));return i?i.alertTime:0}))}getAlertsForConversation(e){return this._getStore(t.Stores.Alerts).openIndex(t.Indexes.Alerts_ConvId).getOnly(e,r.QuerySortOrder.None).then((e=>n.map(e,(e=>c.default.fromDatabaseObject(e))))).fail(this._databaseError)}countUnreadAlertsSinceTime(e){return this._getStore(t.Stores.Alerts).openIndex(t.Indexes.Alerts_Read_Timestamp).countRange([0,e],[0,Number.MAX_VALUE],!0,!1).fail(this._databaseError)}getAlertsByIsReadAndTimestampRange(e,i,o){return this._getStore(t.Stores.Alerts).openIndex(t.Indexes.Alerts_Read_Timestamp).getRange([e?1:0,i],[e?1:0,o],!1,!1,r.QuerySortOrder.None).then((e=>n.map(e,(e=>c.default.fromDatabaseObject(e))))).fail(this._databaseError)}countAlerts(){return this._getStore(t.Stores.Alerts).openPrimaryKey().countAll().fail(this._databaseError)}getAlerts(){return this._getStore(t.Stores.Alerts).getAll(r.QuerySortOrder.None).then((e=>n.map(e,(e=>c.default.fromDatabaseObject(e))))).fail(this._databaseError)}putAlerts(e){return this._getStore(t.Stores.Alerts).put(e).fail(this._databaseError)}removeAlerts(e){const i=n.map(e,(e=>e.guid));return this._getStore(t.Stores.Alerts).remove(i).fail(this._databaseError)}getAllPopCards(){return this._getStore(t.Stores.PopCards).getAll(r.QuerySortOrder.None).fail(this._databaseError)}putPopCards(e){return this._getStore(t.Stores.PopCards).put(e).fail(this._databaseError)}removePopCard(e){return this._getStore(t.Stores.PopCards).remove(e).fail(this._databaseError)}clearAllPopCards(){return this._getStore(t.Stores.PopCards).clearAllData().fail(this._databaseError)}getAllEngagementMessagesInQueue(){return this._getStore(t.Stores.EngagementMessagesQueueStore).getAll(r.QuerySortOrder.None).fail(this._databaseError)}putEngagementMessagesToQueue(e){return this._getStore(t.Stores.EngagementMessagesQueueStore).put(e).fail(this._databaseError)}removeEngagementMessageFromQueue(e){return this._getStore(t.Stores.EngagementMessagesQueueStore).remove(e).fail(this._databaseError)}clearEngagementQueueOfMessages(){return this._getStore(t.Stores.EngagementMessagesQueueStore).clearAllData().fail(this._databaseError)}getAllCampaigns(){return this._getStore(t.Stores.EngagementPullCampaigns).getAll(r.QuerySortOrder.None).fail(this._databaseError)}putCampaigns(e){return this._getStore(t.Stores.EngagementPullCampaigns).put(e).fail(this._databaseError)}removeCampaigns(e){const i=n.map(e,(e=>e.campaignId));return this._getStore(t.Stores.EngagementPullCampaigns).remove(i).fail(this._databaseError)}getAllConsumedBotMessages(){return this._getStore(t.Stores.ConsumedConciergeBotMessages).getAll(r.QuerySortOrder.None).fail(this._databaseError)}putConsumedBotMessages(e){return this._getStore(t.Stores.ConsumedConciergeBotMessages).put(e).fail(this._databaseError)}getLocalNotifications(){return this._getStore(t.Stores.LocalNotifications).getAll(r.QuerySortOrder.None).fail(this._databaseError)}putLocalNotifications(e){return this._getStore(t.Stores.LocalNotifications).put(e).fail(this._databaseError)}removeLocalNotifications(e){const i=n.map(e,(e=>e.id));return this._getStore(t.Stores.LocalNotifications).remove(i).fail(this._databaseError)}getPersistentActions(){return this._getStore(t.Stores.PersistentActions).getAll(r.QuerySortOrder.None).fail(this._databaseError)}putPersistentAction(e){return this._getStore(t.Stores.PersistentActions).put(e).fail(this._databaseError)}removePersistentAction(e){return this._getStore(t.Stores.PersistentActions).remove(e).fail(this._databaseError)}getAllFileCacheMetadata(){return this._getStore(t.Stores.FileCacheMetadata).getAll(r.QuerySortOrder.None).fail(this._databaseError)}putFileCacheMetadata(e){return this._getStore(t.Stores.FileCacheMetadata).put(e).fail(this._databaseError)}removeFileCacheMetadata(e,i){const o=n.isArray(i)?i:[i];return this._getStore(t.Stores.FileCacheMetadata).remove(n.map(o,(t=>[e,t]))).fail(this._databaseError)}getAllFileTrackerMetadata(){return this._getStore(t.Stores.FileTracker).getAll(r.QuerySortOrder.None).fail(this._databaseError)}putFileTrackerMetadata(e){return this._getStore(t.Stores.FileTracker).put(e).fail(this._databaseError)}removeFileTrackerMetadata(e){return this._getStore(t.Stores.FileTracker).remove(e).fail(this._databaseError)}getAllLocalAddressBookContacts(){return this._getStore(t.Stores.LocalAddressBookContacts).getAll(r.QuerySortOrder.None).then((e=>n.map(e,(e=>s.AddressBookContact.fromDatabaseObject(e))))).fail(this._databaseError)}putLocalAddressBookContacts(e){return this._getStore(t.Stores.LocalAddressBookContacts).put(e).fail(this._databaseError)}replaceAllLocalAddressBookContacts(e){return this._getStore(t.Stores.LocalAddressBookContacts).clearAllData().then((()=>this._getStore(t.Stores.LocalAddressBookContacts).put(e))).fail(this._databaseError)}removeAllLocalAddressBookContacts(){return this._getStore(t.Stores.LocalAddressBookContacts).clearAllData().fail(this._databaseError)}getAllImagePrefetchInfo(){return this._getStore(t.Stores.ImagePrefetchInfo).getAll(r.QuerySortOrder.None).fail(this._databaseError)}putImagePrefetchRecords(e){return this._getStore(t.Stores.ImagePrefetchInfo).put(e).fail(this._databaseError)}removeImagePrefetchInfo(e){return this._getStore(t.Stores.ImagePrefetchInfo).remove(e).fail(this._databaseError)}getCallLog(e){return this._getStore(t.Stores.CallLogs).get(e).fail(this._databaseError)}putCallLogs(e){return this._getStore(t.Stores.CallLogs).put(e).fail(this._databaseError)}getCallCaptionsCleanupStartTimestamp(){return this.internal_getInternalData(t.InternalKeys.CallCaptionsCleanupStartTimestamp)}setCallCaptionsCleanupStartTimestamp(){return this.internal_putInternalData(t.InternalKeys.CallCaptionsCleanupStartTimestamp,Date.now())}deleteCallCaptionsCleanupStartTimestamp(){return this.internal_deleteInternalData(t.InternalKeys.CallCaptionsCleanupStartTimestamp)}setCallCaptionsCleanupEndTimestamp(){return this.internal_putInternalData(t.InternalKeys.CallCaptionsCleanupEndTimestamp,Date.now())}getContentChannelById(e){return this._getStore(t.Stores.ContentChannel).get(e).fail(this._databaseError)}getAllContentChannels(){return this._getStore(t.Stores.ContentChannel).getAll().fail(this._databaseError)}putContentChannels(e){return this._getStore(t.Stores.ContentChannel).put(e).then((()=>this._getStore(t.Stores.ContentChannel).getMultiple(e.map((e=>e.id))))).fail(this._databaseError)}putSyncedHorizons(e,i){const o=this._getStore(t.Stores.ContentChannel);return o.get(e).then((t=>void 0===t?a.Rejected(`Channel ${e} not found`):t)).then((e=>{const t=Object.assign({},e);return void 0!==i.firstSyncedHorizonId&&(t.firstSyncedHorizonId=i.firstSyncedHorizonId),void 0!==i.lastSyncedHorizonId&&(t.lastSyncedHorizonId=i.lastSyncedHorizonId),o.put(t)})).fail(this._databaseError)}removeContentChannels(e){return this._getStore(t.Stores.ContentChannel).remove(e).fail(this._databaseError)}getContentChannelMessages(e,i,o){return this._getStore(t.Stores.ContentChannelMessage).getRange([e,i],[e,o]).then((e=>e||[])).fail(this._databaseError)}putContentChannelMessages(e){return this._getStore(t.Stores.ContentChannelMessage).put(e).fail(this._databaseError)}getAllContentChannelNotifications(){return this._getStore(t.Stores.ContentChannelNotification).getAll().then((e=>e||[])).fail(this._databaseError)}putContentChannelNotifications(e){return this._getStore(t.Stores.ContentChannelNotification).put(e).fail(this._databaseError)}removeAllContentChannelNotifications(){return this._getStore(t.Stores.ContentChannelNotification).clearAllData().fail(this._databaseError)}}t.ClientDatabaseTransaction=C;const v=new y(C);if("undefined"!=typeof window){window.ClientDatabase=v}t.default=v},207361:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDatabaseTransactionBase=t.ClientDatabaseBase=void 0;const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=o.__importStar(i(600644)),s=o.__importDefault(i(974634)),l=o.__importStar(i(397691)),c=i(239918),d=i(815146),u=o.__importStar(i(85385)),p=o.__importStar(i(892135)),g=o.__importDefault(i(655192));function h(e){return e&&(e.name&&("TransactionInactiveError"===e.name||"TimeoutError"===e.name)||e.target&&e.target.transaction&&e.target.transaction.error&&"TimeoutError"===e.target.transaction.error.name)?(p.reloadApp("client-database-db-error"),l.Defer().promise()):l.Rejected(e)}a.setErrorCatcher(h);t.ClientDatabaseBase=class{constructor(e){this._transClass=e,this.event_databaseError=new s.default,this._databaseError=e=>{if(e.target){if(e.target.error){const t=e.target.error;u.error(d.LogTraceArea.SQLiteClient,`IDBRequest: ${t.name}: ${t.message}`)}if(e.target.transaction&&e.target.transaction.error){const t=e.target.transaction.error;u.error(d.LogTraceArea.SQLiteClient,`IDBTransaction: ${t.name}: ${t.message}`)}if(e.target.source){const t=e.target.source;u.error(d.LogTraceArea.SQLiteClient,`IDBStore: ${t.name}, ${t.keyPath}, indexes: ${r.join(t.indexNames)}`)}}if(e instanceof Error){u.error(d.LogTraceArea.SQLiteClient,`DB error: ${e}`);const t=e;e={message:t.message,stack:t.stack}}this.event_databaseError.fire(e)},this._handleDatabaseDeleteSuccess=()=>{u.log(d.LogTraceArea.GenericUnsafe,"Deleted Database "+n.pii.Omit(this._databaseName||""))},this._handleDatabaseDeleteError=e=>(u.log(d.LogTraceArea.GenericUnsafe,"DB delete Failure for "+n.pii.Omit(this._databaseName||"")+" :"+e.toString()),this.clearAllDataInDB())}getProviderInfo(){return this._db}open(e,t,i=!1,o=!1){return this._customOpenListOfProviders(e,t,this._schema,i,o).then((e=>{this._databaseName=t,this._db=e}))}_customOpenListOfProviders(e,t,i,o=!1,r=!1){const a=l.Defer();let s=0;const c=[];u.log(d.LogTraceArea.GenericUnsafe,`Opening Database: ${n.pii.Omit(t)} Providers: ${e.length} verbose: ${r}, wipe: ${o}`);const p=()=>{if(s>=e.length)return void a.reject(c.length<=1?c[0]:c);const n=e[s];n.provider.open(t,i,o,r).then((()=>{u.log(d.LogTraceArea.GenericUnsafe,"Provider "+n.name+": Open Success!"),a.resolve(n)}),(e=>{u.error(d.LogTraceArea.GenericUnsafe,"Provider "+n.name+": Open Failure: "+g.default.errorAsString(e)),c.push(e),s++,p()}))};return p(),a.promise()}isInitialized(){return!!this._db}_close(){return u.log(d.LogTraceArea.GenericUnsafe,`Closing database ${n.pii.Omit(this._databaseName||"")}...`),this._db?this._db.provider.close():l.Rejected("No Database to close")}nukeDB(){if(!this._db)return l.Rejected("No Database to delete");try{u.log(d.LogTraceArea.GenericUnsafe,`Deleting Database ${n.pii.Omit(this._databaseName||"")}...`);const e=this._db.provider.deleteDatabase();return l.raceTimer(e,15e3).then((e=>{e.timedOut?this._handleDatabaseDeleteError("Promise timed out in 15000 ms"):this._handleDatabaseDeleteSuccess()}))}catch(e){return u.log(d.LogTraceArea.GenericUnsafe,"DB delete Failure: "+e.toString()),this.clearAllDataInDB()}}clearAllDataInDB(){if(!this._db)return l.Rejected("No Database to clear");try{return u.log(d.LogTraceArea.GenericUnsafe,`Clearing all data in the Database ${n.pii.Omit(this._databaseName||"")}...`),this._db.provider.clearAllData().then((()=>{u.log(d.LogTraceArea.GenericUnsafe,"Cleared all data in the Database "+n.pii.Omit(this._databaseName||""))}),(e=>{u.log(d.LogTraceArea.GenericUnsafe,"Clear all data Failure "+n.pii.Omit(this._databaseName||"")+": "+e.toString())}))}catch(e){return u.log(d.LogTraceArea.GenericUnsafe,"Clear all data Failure: "+e.toString()),l.Rejected(e)}}openTransaction(e,t){const i=Date.now();return this._db?this._db.provider.openTransaction(e,t).then((o=>{const n=Date.now();return o.getCompletionPromise().then((()=>{const o=n-i,r=Date.now()-n;(o>300||r>300)&&u.log(d.LogTraceArea.GenericUnsafe,"Database Transaction Duration Warning: Stores: "+e.join(",")+", Write: "+t+", Lock Time: "+o+"ms, Execute Time: "+r+"ms")})),new this._transClass(o,this._databaseError)})).catch((e=>h(e))):l.Rejected("No Database - Unable to open transaction")}};t.ClientDatabaseTransactionBase=class{constructor(e,t){this._trans=e,this._databaseError=t}markCompleted(){this._trans.markCompleted()}_getStore(e){return(0,c.getStore)(this._trans.getStore(e),e)}_getStoreIndex(e,t){return this._getStore(e).openIndex(t)}}},239918:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getStore=function(e,t){return s.default.getConfigSettingsNoSubscription().database.splitLargeTransactions?new c(e,t):new r.SimpleTransactionStoreHelper(e,t)};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(600644)),a=o.__importStar(i(397691)),s=o.__importDefault(i(150343)),l=999;class c extends r.SimpleTransactionStoreHelper{getMultiple(e){return n.isArray(e)&&e.length>l?this._sharded(e,(e=>super.getMultiple(e))).then((e=>n.flatten(e))):super.getMultiple(e)}put(e){return n.isArray(e)&&e.length>l?this._sharded(e,(e=>super.put(e))).then(n.noop):super.put(e)}remove(e){return n.isArray(e)&&e.length>l?this._sharded(e,(e=>super.remove(e))).then(n.noop):super.remove(e)}_sharded(e,t){const i=n.chunk(e,l),o=n.map(i,(e=>t(e)));return a.all(o)}}},652032:(e,t,i)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.InternalDataStore=void 0;const n=i(197582),r=n.__importStar(i(496486)),a=i(217041),s=n.__importStar(i(397691)),l=i(952408),c=n.__importDefault(i(434343)),d=i(815146),u=n.__importStar(i(85385)),p=n.__importDefault(i(114818)),g=n.__importStar(i(446574)),h=n.__importDefault(i(760989));let m=o=class extends a.StoreBase{constructor(){super(),g.RegisterStartupable(this,"InternalDataStore")}startup(){return c.default.internal_getAllInternalData().then((e=>{this._internalData={},this._exclusiveData={},r.each(e,(e=>{e&&(this._internalData[e.id]=e.value)}))}))}static _deepFreeze(e){if("object"==typeof e){for(const t in e)e[t]&&o._deepFreeze(e[t]);Object.freeze(e)}}getData(e){const t=r.cloneDeep(this._internalData[e]);return this._exclusiveData[e],t}getDataExclusive(e){const t=this._internalData[e];return this._exclusiveData[e],this._exclusiveData[e]=!0,delete this._internalData[e],t}putData(e,t,i){if(i=i||h.default.newCauseId(),!g.HasStarted(this)){const t=new l.CalledBeforeStartupError("InternalDataStore","putData",`key=${e}`);return s.Rejected(t)}return g.HasStarted(this)&&!this._exclusiveData[e]&&(0,p.default)(this._internalData[e],t)?(u.log(d.LogTraceArea.SQLiteClient,`no change to data. key ${e} causeId: ${i}`),s.Resolved()):c.default.internal_putInternalData(e,t).then((()=>{delete this._internalData[e],this._exclusiveData[e]||(this._internalData[e]=t,this.trigger(e))}))}getKeys(){return r.keys(this._internalData)}deleteKeys(e){return c.default.internal_deleteInternalData(e).then((()=>{r.each(e,(e=>{delete this._internalData[e]})),this.trigger(e)}))}};t.InternalDataStore=m,n.__decorate([a.autoSubscribe,n.__param(0,a.key)],m.prototype,"getData",null),n.__decorate([a.autoSubscribe,n.__param(0,a.key)],m.prototype,"getDataExclusive",null),t.InternalDataStore=m=o=n.__decorate([l.Startupable,a.AutoSubscribeStore],m),t.default=new m},589478:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaVersion=t.ConvBumperHelper=t.BumperHelper=void 0,t.BumperHelper=11,t.BumperHelper++,t.ConvBumperHelper=t.BumperHelper,t.ConvBumperHelper++,t.ConvBumperHelper++,t.SchemaVersion=37+t.ConvBumperHelper,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion+=2,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++,t.SchemaVersion++},62712:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AETimerDurationInSeconds=t.AETimeoutInSeconds=void 0;const o=i(197582),n=o.__importDefault(i(331654)),r=o.__importStar(i(516778)),a=i(217041),s=o.__importDefault(i(659938)),l=o.__importDefault(i(150343)),c=i(815146),d=o.__importStar(i(85385)),u=o.__importStar(i(446574));t.AETimeoutInSeconds=120,t.AETimerDurationInSeconds=t.AETimeoutInSeconds-20;class p extends a.StoreBase{constructor(){super(),this._isSystemIdle=!1,this._isActive=!1,this._lastUpdatedInfo=new Map,this._onSystemIdleChange=(e,t)=>{d.log(c.LogTraceArea.ActiveEndpointService,"onSystemIdleChange : isIdle: "+t),this._isSystemIdle=t,this._recalculate()},this._subscribeSystemIdle=()=>{l.default.getConfigSettingsNoSubscription().endpointPresence.useSystemIdle?this._systemIdleSubscriptionToken||(this._systemIdleSubscriptionToken=n.default.onSystemIdleChange.subscribe(this._onSystemIdleChange)):this._systemIdleSubscriptionToken&&(this._systemIdleSubscriptionToken.unsubscribe(),this._systemIdleSubscriptionToken=void 0)},u.RegisterStartupable(this,"ActiveEndpointStore")}startup(){return this._isUserPresent=r.UserPresence.isUserPresent(),r.UserPresence.userPresenceChangedEvent.subscribe((e=>{this._isUserPresent=e,this._recalculate()})),this._appState=r.App.getActivationState(),s.default.subscribeForChanges("ActiveEndpointStore",(e=>{this._appState=e,this._recalculate()})),n.default.isSystemIdle().then((e=>{this._isSystemIdle=e})),this._subscribeSystemIdle(),l.default.subscribe(this._subscribeSystemIdle),d.log(c.LogTraceArea.ActiveEndpointService,"Initialized - Native endpoint activity status hookup"),this._recalculate(),Promise.resolve()}_recalculate(){const e=this._isActive;this._isActive=l.default.getConfigSettingsNoSubscription().endpointPresence.useSystemIdle?!this._isSystemIdle:this._isUserPresent&&this._appState===r.Types.AppActivationState.Active,this._isActive!==e&&this.trigger()}isActive(){return this._isActive}getLastUpdatedInfo(e){return this._lastUpdatedInfo.get(e)}setLastUpdatedInfo(e,t){this._lastUpdatedInfo.set(e,t)}test_teardown(){this._isUserPresent=!1,this._appState=r.Types.AppActivationState.Background,this._isSystemIdle=!0,this._isActive=!1,this._lastUpdatedInfo=new Map,this._systemIdleSubscriptionToken&&(this._systemIdleSubscriptionToken.unsubscribe(),this._systemIdleSubscriptionToken=void 0)}test_trigger(){this.trigger()}}t.default=new p},852789:(e,t,i)=>{var o;Object.defineProperty(t,"__esModule",{value:!0});const n=i(197582),r=i(174958),a=n.__importStar(i(496486)),s=i(815063),l=i(380157),c=i(217041),d=n.__importStar(i(397691)),u=n.__importDefault(i(910520)),p=i(22336),g=n.__importDefault(i(150343)),h=n.__importDefault(i(97572)),m=i(284841),S=n.__importDefault(i(304623)),_=n.__importStar(i(44717)),f=n.__importDefault(i(434343)),y=n.__importDefault(i(267641)),C=n.__importDefault(i(389659)),v=n.__importDefault(i(259319)),b=i(22478),T=n.__importDefault(i(858419)),P=i(815146),k=n.__importStar(i(637961)),A=n.__importStar(i(85385)),I=n.__importDefault(i(201721)),w=n.__importStar(i(341994)),x=n.__importDefault(i(363091)),N=n.__importStar(i(251733)),D=i(590695),M=n.__importDefault(i(810551)),L=n.__importStar(i(437782)),R=n.__importStar(i(446574)),E=i(331079),B=n.__importDefault(i(685734)),O=i(973698),F=n.__importDefault(i(828161)),V=n.__importStar(i(47440));let U=o=class extends c.StoreBase{constructor(){super(),this._recentAlerts=[],this._loadingAlertsFromDb=!1,this._unreadAlertCount=0,this._approximatedUnreadAlertCount=0,this.addMissedCallbackReminderAlert=e=>{A.log(P.LogTraceArea.AlertsStore,`addMissedCallbackReminderAlert, calleeMri: ${r.pii.Omit(e)}`);const t=u.default.fromScratch(p.AlertType.MissedCallbackReminder,Date.now(),!1,void 0,{missedCallbackReminderCalleeMri:e});this._recentAlerts.push(t),this._pruneAndSortRecentAlerts()},R.RegisterStartupable(this,"AlertsStore",[h.default,S.default,w.default,I.default,B.default])}startup(){return this._recentAlerts=[],this._loadingAlertsFromDb=!1,this._loadingAlertsFromDbPromise=void 0,this._unreadAlertCount=0,this._approximatedUnreadAlertCount=0,this._updateUnreadAlertsCount().then((()=>{this._blockedMriStoreSub&&h.default.unsubscribe(this._blockedMriStoreSub),this._blockedMriStoreSub=h.default.subscribe((e=>{this._loadAndPruneRecentAlerts().then((()=>{const e=a.partition(this._recentAlerts,(e=>e.alertType===p.AlertType.HighlightsFollowRequest&&h.default.isMriBlocked(e.highlightsFollowInfo.otherUserMri)));e[0].length>0&&(f.default.removeAlerts(e[0]),this._approximatedUnreadAlertCount-=o._countUnreadAlerts(e[0]),this._recentAlerts=e[1],this._unreadAlertCount=o._countUnreadAlerts(this._recentAlerts),this._checkReferenceCounting(),this.trigger())}))})),this._chatServiceAlertsUpdatedSub&&this._chatServiceAlertsUpdatedSub.unsubscribe(),this._chatServiceAlertsUpdatedSub=S.default.alertsUpdated.subscribe((e=>{this._areAlertsLoadedInMemory().then((t=>{const i=o._countUnreadAlerts(e.adds)-o._countUnreadAlerts(e.deletes)+o._countUnreadAlerts(a.map(e.updates,(e=>e.updated)))-o._countUnreadAlerts(a.map(e.updates,(e=>e.original)));this._approximatedUnreadAlertCount+=i,t?(a.each(e.deletes,(e=>{a.remove(this._recentAlerts,(t=>e.guid===t.guid))})),a.each(e.updates,(e=>{a.remove(this._recentAlerts,(t=>e.updated.guid===t.guid))})),this._recentAlerts.push(...e.adds),this._recentAlerts.push(...a.map(e.updates,(e=>e.updated))),this._pruneAndSortRecentAlerts()):(this._unreadAlertCount=this._approximatedUnreadAlertCount,0!==i&&(A.log(P.LogTraceArea.AlertsStore,"Alerts updated from ChatService, change: "+i+", total: "+this._unreadAlertCount),this.trigger()))}))})),this._myUserPreferencesStoreSub&&w.default.unsubscribe(this._myUserPreferencesStoreSub),this._myUserPreferencesStoreSub=w.default.subscribe((()=>{this._updateUnreadAlertsCount()}),w.TriggerKeys.AlertsLastReadTime),this._myUserPreferencesLocalSub&&I.default.unsubscribe(this._myUserPreferencesLocalSub),this._myUserPreferencesLocalSub=I.default.subscribe((()=>{v.default.isEngagementContentEnabled()||this.trigger()})),k.default.queueIdleTask("AlertsStore Pruning",k.TaskTypeFlags.CpuIntensive,(()=>{this._loadingAlertsFromDbPromise||f.default.countAlerts().then((e=>{e>80&&this._loadAndPruneRecentAlerts()}))})),this._popCardStoreSub&&this._popCardStoreSub.unsubscribe(),this._popCardStoreSub=M.default.updatedCardState.subscribe(((e,t)=>{e!==D.PopCardState.Completed&&e!==D.PopCardState.Dismissed||this._loadAndPruneRecentAlerts().then((()=>{let e=0;a.each(t,((t,i)=>this._addPopCardsAlert(i,t,this._generateUniqueIdFromCorrelationAndArrayPosition(e++,t.messageCorrelationId)))),this._pruneAndSortRecentAlerts()}))})),this._noticeMessageReceivedSub&&this._noticeMessageReceivedSub.unsubscribe(),this._noticeMessageReceivedSub=T.default.noticeMessageReceived.subscribe((e=>{this._loadAndPruneRecentAlerts().then((()=>{let t=0;a.each(e,(e=>this._addNoticeAlert(e,this._generateUniqueIdFromCorrelationAndArrayPosition(t++,e.messageCorrelationId)))),this._pruneAndSortRecentAlerts()}))})),this._noticeMessageOpenedSub&&this._noticeMessageOpenedSub.unsubscribe(),this._noticeMessageOpenedSub=T.default.noticeMessageOpened.subscribe((e=>{a.each(this._recentAlerts,((t,i)=>!t.noticeMessageInfo||t.noticeMessageInfo.guid!==e||(this._recentAlerts[i]=t.applyRead(!0),!1))),this._pruneAndSortRecentAlerts()})),this._appConfigStoreSub&&g.default.unsubscribe(this._appConfigStoreSub),this._permissionsStorePromptSub&&N.default.unsubscribe(this._permissionsStorePromptSub),this._permissionsStorePromptSub=N.default.subscribe((()=>{this.maybeAddOrRemoveNotificationPermissionAlert()}),N.TriggerKeys.NotificationsPrompt),this._permissionsStorePermissionChangedSub&&N.default.unsubscribe(this._permissionsStorePermissionChangedSub),this._permissionsStorePermissionChangedSub=N.default.subscribe((()=>{this.maybeAddOrRemoveNotificationPermissionAlert()}),E.PermissionType.Notifications),this._subscribeOldFriendBackAlert()}))}_subscribeOldFriendBackAlert(){var e;null===(e=this._oldFriendBackNotificationSub)||void 0===e||e.unsubscribe(),this._oldFriendBackNotificationSub=F.default.alertsUpdated.subscribe((e=>{const t=u.default.fromScratch(p.AlertType.OldFriendBack,Date.now(),!1,void 0,{oldFriendMri:e});this._recentAlerts.push(t),f.default.putAlerts([t]),this._approximatedUnreadAlertCount++,A.track(new V.AlertLoaded(P.AlertTypeForTelemetry.OldFriendBack)),this._pruneAndSortRecentAlerts()}))}_generateUniqueIdFromCorrelationAndArrayPosition(e,t){return e?`${t}_${e}`:t}_addOrUpdateAlert(e,t,i){this._loadAndPruneRecentAlerts().then((()=>{const o=()=>{const t=u.default.fromScratch(e,Date.now(),i);f.default.putAlerts([t]),this._recentAlerts.push(t)};if(t){const t=a.remove(this._recentAlerts,(t=>t.alertType===e));a.isEmpty(t)||f.default.removeAlerts(t),o()}else{let t=!1;a.each(this._recentAlerts,((o,n)=>{if(o.alertType===e){const e=o.applyRead(i);this._recentAlerts[n]=e,f.default.putAlerts([e]),t=!0}})),t||o()}this._pruneAndSortRecentAlerts()}))}_addOrUpdateNotificationPermissionAlert(e,t){this._addOrUpdateAlert(p.AlertType.NotificationPermission,e,t)}_supportsNotifications(){return s.BrowserEnvironment.supportsNotifications()}_isNotificationPermissionGranted(){return N.default.permissionStatus(E.PermissionType.Notifications)===l.PermissionStatus.Granted}_shouldDisplayNotificationPermissionAlert(){return this._supportsNotifications()&&!this._isNotificationPermissionGranted()&&N.default.isNotificationsPromptDismissed()}_addPopCardsAlert(e,t,i){const n=p.AlertType.Engagement,r=y.default.getActiveCampaignById(t.alertCampaignId),s=a.remove(this._recentAlerts,(t=>t.alertType===n&&(!t.popCardInfo||t.popCardInfo.guid===e)));if(a.isEmpty(s)||(f.default.removeAlerts(s),this._approximatedUnreadAlertCount-=o._countUnreadAlerts(s)),n===p.AlertType.Engagement&&!(null==r?void 0:r.triggerManually)){if(!!M.default.getCardCount(D.PopCardTarget.All,void 0,void 0,e)){const o=(0,m.chain)(s,(0,m.filter)((t=>!!t.popCardInfo&&t.popCardInfo.guid===e)),(0,m.first)()),r={guid:e,title:t.alertTitle,subtitle:t.alertSubtitle,iconUrl:t.iconUrl,actionUri:t.alertActionUri,actionTarget:t.alertActionTarget,campaignId:t.alertCampaignId,isQuietCard:t.isQuietCard,placeholders:t.placeholders,messageCorrelationId:t.messageCorrelationId,engagementTelemetryAttributes:t.engagementTelemetryAttributes,persistencyMode:t.persistencyMode||b.EngagementMessagePersistencyMode.None,validUntil:t.validUntil,showOnlyTitle:t.showOnlyTitle},a=u.default.fromScratch(n,o?o.alertTime:Date.now(),!!t.shown,void 0,{popCardInfo:r,guid:i||t.messageCorrelationId});f.default.putAlerts([a]),this._recentAlerts.push(a)}}}_addNoticeAlert(e,t){const i=e.attachments&&e.attachments[0];if(!i||!i.content)return void A.error(P.LogTraceArea.AlertsStore,"Notice content missing, guid:",e.guid);const o=i.content.buttons&&i.content.buttons.length&&i.content.buttons[0],n=i.content.mainActionUri||o&&o.actionUri,r=i.content.mainActionTarget||o&&o.actionTarget;if(!n)return void A.error(P.LogTraceArea.AlertsStore,"Notice URI action missing, guid:",e.guid);const a={guid:e.guid,title:i.content.title,text:i.content.text,iconUrl:i.iconUrl,buttonTitle:o?o.title:void 0,buttonActionUri:o?o.actionUri:void 0,buttonActionTarget:o&&o.actionTarget||b.ActionTarget.Default,modalTitle:i.content.modalTitle,mainActionUri:n,mainActionTarget:r||b.ActionTarget.Default,campaignId:e.campaignId,contentType:i.contentType,skypeId:i.skypeId,showStatusIndicator:!!i.showStatusIndicator,placeholders:e.placeholders,messageCorrelationId:e.messageCorrelationId,engagementTelemetryAttributes:e.telemetry,persistencyMode:e.persistencyMode||b.EngagementMessagePersistencyMode.None,validUntil:v.default.calculateMessageValidUntilProperty(e.validUntilTimestamp,e.validForPeriod),showOnlyTitle:e.showOnlyTitle},s=u.default.fromScratch(p.AlertType.Notice,Date.now(),!1,void 0,{noticeMessageInfo:a,guid:t||e.messageCorrelationId});f.default.putAlerts([s]),this._recentAlerts.push(s)}_checkReferenceCounting(){this._approximatedUnreadAlertCount!==this._unreadAlertCount&&A.warn(P.LogTraceArea.AlertsStore,"Alerts counting off. Expected: "+this._approximatedUnreadAlertCount+", Actual: "+this._unreadAlertCount)}_updateUnreadAlertsCount(){return this._areAlertsLoadedInMemory().then((e=>e?d.Resolved(o._countUnreadAlerts(this._recentAlerts)):f.default.countUnreadAlertsSinceTime(w.default.getAlertsLastReadTime()||0))).then((e=>{this._approximatedUnreadAlertCount=e,this._unreadAlertCount!==e&&(A.log(P.LogTraceArea.AlertsStore,"_updateUnreadAlertsCount, new total: "+this._unreadAlertCount),this._unreadAlertCount=e,this.trigger())}))}getRecentAlerts(e=p.AlertTypeFilter.All){this._loadAndPruneRecentAlerts();const t=[],i=[];a.each(this._recentAlerts,(e=>{o._hideAlert(e)||e.isRemovedHighlightsFollowRequest()||(e.isHighlightsFollowRequest()?t.push(e):i.push(e))}));const n=a.concat(t,i);return e!==p.AlertTypeFilter.All?a.filter(n,(t=>{switch(e){case p.AlertTypeFilter.HighPriorityMessages:return t.alertType===p.AlertType.HighPriorityMessage;case p.AlertTypeFilter.Reactions:return t.alertType===p.AlertType.Reaction||t.alertType===p.AlertType.AdditionalReaction}})):n}isLoadingAlertsFromDb(){return this._loadingAlertsFromDb}getUnreadAlertsCount(){return Math.max(0,this._unreadAlertCount)}hasUnreadAlerts(e=!1){return e?a.some(this.getRecentAlerts(),(e=>!e.isRead)):this.getUnreadAlertsCount()>0}slashCommand_refresh(){this._loadAndPruneRecentAlerts().then((()=>{f.default.removeAlerts(this._recentAlerts),this._recentAlerts=[],this._unreadAlertCount=0,this._approximatedUnreadAlertCount=0,this.trigger()}))}_areAlertsLoadedInMemory(){return this._loadingAlertsFromDbPromise?this._loadingAlertsFromDbPromise.then((()=>!0)):d.Resolved(!1)}_shouldPruneEngagementAlertEntry(e){const t=e.alertType===p.AlertType.Notice?e.noticeMessageInfo:void 0,i=e.alertType===p.AlertType.Engagement?e.popCardInfo:void 0;if(t||i){const e=Date.now();if(t&&t.validUntil&&e>t.validUntil||i&&i.validUntil&&e>i.validUntil){if(i){const e=M.default.getCardsById([i.guid]);a.each(e,(e=>M.default.deletePopCard(e,!1)))}return!0}if(t&&t.persistencyMode===b.EngagementMessagePersistencyMode.Persistent||i&&i.persistencyMode===b.EngagementMessagePersistencyMode.Persistent)return!1}return i&&i.guid?!M.default.getCardCount(void 0,void 0,void 0,i.guid):!!t&&!!e.isRead}_loadAndPruneRecentAlerts(){return this._loadingAlertsFromDbPromise||(this._loadingAlertsFromDb=!0,this._loadingAlertsFromDbPromise=f.default.getAlerts().then((e=>{const t=a.filter(e,(e=>e.alertType===p.AlertType.Engagement||e.alertType===p.AlertType.Notice?this._shouldPruneEngagementAlertEntry(e):e.alertType===p.AlertType.OnboardingX||(e.alertType===p.AlertType.CoachMarks||e.alertType===p.AlertType.NotificationPermission&&!this._shouldDisplayNotificationPermissionAlert())));t.length&&f.default.removeAlerts(t),this._recentAlerts=e;const i=[];a.each(this._recentAlerts,((e,t)=>{if(e.alertType!==p.AlertType.HighlightsFollowRequest||e.highlightsFollowInfo.followState!==p.HighlightsFollowAlertState.Follow)return;const o=_.getHighlightsThreadMriForSkypeId(x.default.getSkypeId());if(!o)return;const n=S.default.getConversationMetaFromMemoryCache(o);if(!n||!n.conv.isUserMember(e.highlightsFollowInfo.otherUserMri))return;A.log(P.LogTraceArea.AlertsStore,"Forcing HL follow alert for "+L.mriOrId(e.highlightsFollowInfo.otherUserMri)+" to AcceptedByMe");const r={otherUserMri:e.highlightsFollowInfo.otherUserMri,followState:p.HighlightsFollowAlertState.AcceptedByMe},a=e.updateHighlightsFollowStatus(e.alertTime,!!e.isRead,e.message,r);this._recentAlerts[t]=a,i.push(a)})),i.length>0&&f.default.putAlerts(i),this._loadingAlertsFromDb=!1,this._pruneAndSortRecentAlerts()}))),this._loadingAlertsFromDbPromise}_pruneAndSortRecentAlerts(){const e=C.default.add(Date.now(),0,-p.AlertsConstants.DaysOfAlertsToDisplay),t=a.partition(this._recentAlerts,(t=>t.alertType===p.AlertType.Notice||t.alertType===p.AlertType.Engagement?!this._shouldPruneEngagementAlertEntry(t):t.alertType!==p.AlertType.HighlightsSkypeChannel&&t.alertType!==p.AlertType.HighlightsSkypeChannelSecondary&&t.alertType!==p.AlertType.HighlightsFollowRequest&&!t.isHighlightsFollowRequest()&&(!(t.alertType===p.AlertType.NotificationPermission&&!this._shouldDisplayNotificationPermissionAlert())&&t.alertTime>e))),i=t[1],n=t[0];n.sort(O.compareAlerts);for(let e=40;e<n.length;)n[e].isHighlightsFollowRequest()?e++:(i.push(n[e]),n.splice(e,1));i.length>0&&(A.log(P.LogTraceArea.AlertsStore,"Pruning "+i.length+" stale alerts from database"),f.default.removeAlerts(i),this._approximatedUnreadAlertCount-=o._countUnreadAlerts(i)),this._recentAlerts=n,this._unreadAlertCount=o._countUnreadAlerts(this._recentAlerts),S.default.setAlertsTrackedByAlertsStore(this._recentAlerts),A.log(P.LogTraceArea.AlertsStore,"Alerts pruned, new total: "+this._unreadAlertCount+", approx: "+this._approximatedUnreadAlertCount),this._checkReferenceCounting(),this.trigger()}static _countUnreadAlerts(e){const t=w.default.getAlertsLastReadTime()||0;return a.sumBy(e,(e=>!e.isRead&&e.alertTime>t&&!o._hideAlert(e)&&e.alertType!==p.AlertType.NotificationPermission?1:0))}static _hideAlert(e){return e.alertType===p.AlertType.HighlightComment||e.alertType===p.AlertType.HighlightsFollowRequest||e.alertType===p.AlertType.HighlightsSkypeChannel||e.alertType===p.AlertType.HighlightsSkypeChannelSecondary||(e.alertType!==p.AlertType.Reaction&&e.alertType!==p.AlertType.AdditionalReaction||!e.message?e.alertType===p.AlertType.CoachMarks?!v.default.isEngagementContentEnabled():!(e.alertType!==p.AlertType.ScheduledCall||!e.message)&&h.default.isMriBlocked(e.message.conversationId):_.isHighlightsThread(e.message.conversationId))}clearAlertsPanelCount(){return A.log(P.LogTraceArea.AlertsStore,"Clearing alerts panel count"),this._areAlertsLoadedInMemory().then((e=>{if(e){const e=a.maxBy(this._recentAlerts,(e=>e.alertTime));return d.Resolved(e?e.alertTime:0)}return f.default.getMostRecentAlertTime()})).then((e=>{e!==(w.default.getAlertsLastReadTime()||0)&&(A.log(P.LogTraceArea.AlertsStore,"Setting alerts last read time to "+e),w.default.setAlertsLastReadTime(e))}))}markAsRead(e){A.log(P.LogTraceArea.AlertsStore,`Mark one as read, guid: ${e}`),this._recentAlerts=a.map(this._recentAlerts,(t=>t.guid===e?t.applyRead(!0):t)),f.default.putAlerts(this._recentAlerts),this.trigger()}markAllAsRead(){if(A.log(P.LogTraceArea.AlertsStore,"Marking all alerts as read"),a.isEmpty(this._recentAlerts))return;const e=[];a.each(this._recentAlerts,((t,i)=>{if(!t.isRead){const o=t.applyRead(!0);this._recentAlerts[i]=o,e.push(o)}})),a.isEmpty(e)||(this._unreadAlertCount=0,f.default.putAlerts(e),this.trigger())}maybeAddOrRemoveNotificationPermissionAlert(){this._shouldDisplayNotificationPermissionAlert()?this._addOrUpdateNotificationPermissionAlert(!0,!1):this._pruneAndSortRecentAlerts()}test_getApproximatedUnreadAlertsCount(){return this._approximatedUnreadAlertCount}test_getAllRawAlerts(){return this._recentAlerts}test_shouldPruneEngagementAlertEntry(e){return this._shouldPruneEngagementAlertEntry(e)}test_cleanSubscriptions(){this._blockedMriStoreSub=void 0,this._chatServiceAlertsUpdatedSub=void 0,this._myUserPreferencesStoreSub=void 0,this._popCardStoreSub=void 0,this._noticeMessageReceivedSub=void 0,this._noticeMessageOpenedSub=void 0,this._permissionsStorePromptSub=void 0,this._permissionsStorePermissionChangedSub=void 0,this._appConfigStoreSub=void 0,this._myUserPreferencesLocalSub=void 0,this._oldFriendBackNotificationSub=void 0}};n.__decorate([c.autoSubscribe],U.prototype,"getRecentAlerts",null),n.__decorate([c.autoSubscribe],U.prototype,"isLoadingAlertsFromDb",null),n.__decorate([c.autoSubscribe],U.prototype,"getUnreadAlertsCount",null),n.__decorate([c.autoSubscribe],U.prototype,"hasUnreadAlerts",null),U=o=n.__decorate([c.AutoSubscribeStore],U),t.default=new U},973698:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.compareAlerts=function(e,t){if((e.alertType===o.AlertType.NotificationPermission||t.alertType===o.AlertType.NotificationPermission)&&e.alertType!==t.alertType)return e.alertType===o.AlertType.NotificationPermission?-1:1;if(e.alertTime<t.alertTime)return 1;if(e.alertTime>t.alertTime)return-1;if(e.guid<t.guid)return 1;if(e.guid>t.guid)return-1;return 0};const o=i(22336)},92477:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppRatingStore=void 0;const o=i(197582),n=o.__importDefault(i(638884)),r=o.__importStar(i(188294)),a=i(217041),s=i(516778),l=i(947786),c=i(82485),d=i(199789),u=o.__importDefault(i(201721)),p=o.__importDefault(i(139221)),g=i(922069),h=o.__importDefault(i(150343)),m=o.__importDefault(i(247286)),S=o.__importDefault(i(659938));let _=class extends a.StoreBase{constructor(){var e,t;super(),this._shouldUpdateFeatureEnabledTime=!0,this._shouldUpdateMetricsList=!1,this._collectedMetricsCount=0,this._maybeSaveAppRatingMetricsToLocalStorage=(e=s.Types.AppActivationState.Background)=>{if(!this._shouldUpdateMetricsList||e!==s.Types.AppActivationState.Background)return;const t=this._getLocalAppRatingMetrics();t.metricsList=this._metricsList,this._setLocalAppRatingMetrics(t),this._shouldUpdateMetricsList=!1,this._collectedMetricsCount=0};const i=null!==(e=u.default.getUserPreferencesLocalNoSubscription().appRatingMetrics)&&void 0!==e?e:{};this._metricsList=(e=>{let t=[];e||(t=Object.keys(g.AppRatingMetric).filter((e=>isNaN(Number(e)))).map((()=>new g.AppRatingMetricList)));for(const i in e)if(e.hasOwnProperty(i)){const o=e[parseInt(i,10)],n={total:o.total,list:Object.values(o.list)};t.push(n)}return t})(i.metricsList),this._shouldUpdateFeatureEnabledTime=p.default.getAppVersion()!==i.featureEnabledVersion,this._featureEnabledTime=this._shouldUpdateFeatureEnabledTime?Date.now():null!==(t=i.featureEnabledTime)&&void 0!==t?t:Date.now(),this._lastRatePromptInfo=u.default.getUserPreferencesLocalNoSubscription().lastRateUsPromptInfo,S.default.subscribeForChanges("AppRatingStore",this._maybeSaveAppRatingMetricsToLocalStorage)}addAppRatingMetric(e,t){const i=this._getECSConfigNoSubscription();this._shouldEnableAppRatingDialog(i)&&!this._appRatingMetricsCheck(i)&&(this._addAndUpdateMetricToList(this._metricsList[t],e),this._collectedMetricsCount>5&&this._maybeSaveAppRatingMetricsToLocalStorage())}shouldShowAppRatingDialog(){const e=this._getECSConfigNoSubscription();return this._shouldEnableAppRatingDialog(e)&&this._appRatingMetricsCheck(e)}rateApp(e=!1){const t=h.default.getConfigSettingsNoSubscription(),i={AppleAppID:n.default.getApplicationId()===t.iOSAppStore.chinaBundleID?t.iOSAppStore.chinaAppID:t.iOSAppStore.iPhoneAppID,GooglePackageName:t.androidPlayStoreUrl.url.split("id=")[1],preferredAndroidMarket:r.AndroidMarket.Google,preferInApp:e,openAppStoreIfInAppFails:!0,fallbackPlatformURL:t.windowsStore.reviewUrl};r.default.rate(i,((e,t)=>{e&&(c.Instrumentation.track(new d.AppRatingDialogTelemetryEvent(d.AppRatingDialogAction.RateSuccess)),this.saveRateAppTime()),t&&c.Instrumentation.track(new d.AppRatingDialogTelemetryEvent(d.AppRatingDialogAction.RateFail))}))}saveRateAppTime(){this._lastRatePromptInfo={version:p.default.getAppVersion(),timestamp:Date.now()},u.default.setUserPreferencesLocal({lastRateUsPromptInfo:this._lastRatePromptInfo})}haveEnoughTimeSinceLastPrompt(){if(!this._lastRatePromptInfo)return!0;if(this._lastRatePromptInfo.version===p.default.getAppVersion())return!1;const e=this._getECSConfigNoSubscription(),t=(e.enabled?e.minDaysSinceLastPrompt:56)*l.DAY;return Date.now()-this._lastRatePromptInfo.timestamp>t}_getECSConfigNoSubscription(){const{appRatingPromptConfig:e}=h.default.getS4LUiFeaturesNoSubscription();return e}_getLocalAppRatingMetrics(){var e;const t=null!==(e=u.default.getUserPreferencesLocalNoSubscription().appRatingMetrics)&&void 0!==e?e:{};return Object.assign({},t)}_setLocalAppRatingMetrics(e){u.default.setUserPreferencesLocal({appRatingMetrics:e})}resetAppRatingMetricsListAndUpdateDialogShownCount(e=!1){var t;this._metricsList=Object.keys(g.AppRatingMetric).filter((e=>isNaN(Number(e)))).map((()=>new g.AppRatingMetricList));const i=this._getLocalAppRatingMetrics();i.metricsList=void 0;const{stopShowingAfterClickingYes:o}=this._getECSConfigNoSubscription(),n=o&&e?3:1;i.appRatingDialogShownCount=n+(null!==(t=i.appRatingDialogShownCount)&&void 0!==t?t:0),this._setLocalAppRatingMetrics(i)}_addAndUpdateMetricToList(e,t){e.list.push({value:t,createTime:Date.now()});const i=this._getECSConfigNoSubscription().metricsMonitorDurationInDays*l.DAY;e.list=e.list.filter((e=>Date.now()-e.createTime<=i)),e.total=e.list.reduce(((e,t)=>e+t.value),0),this._shouldUpdateMetricsList=!0,this._collectedMetricsCount++}_shouldEnableAppRatingDialog(e){return!m.default.isChild()&&e.enabled&&this.haveEnoughTimeSinceLastPrompt()&&this._haveEnoughDaysSinceInstall(e)&&this._isDialogDisplayCountLessThanMaxCount()}_haveEnoughDaysSinceInstall(e){if(this._shouldUpdateFeatureEnabledTime){const e=this._getLocalAppRatingMetrics();e.featureEnabledTime=this._featureEnabledTime,e.featureEnabledVersion=p.default.getAppVersion(),this._setLocalAppRatingMetrics(e),this._shouldUpdateFeatureEnabledTime=!1}return Date.now()-e.minDaysSinceInstall*l.DAY>this._featureEnabledTime}_isDialogDisplayCountLessThanMaxCount(){var e;return(null!==(e=this._getLocalAppRatingMetrics().appRatingDialogShownCount)&&void 0!==e?e:0)<3}_appRatingMetricsCheck(e){return this._metricsList[g.AppRatingMetric.CALL].total>=e.minTotalCallingSeconds||this._metricsList[g.AppRatingMetric.MESSAGE_SENT].total>=e.minSentMessages||this._metricsList[g.AppRatingMetric.MESSAGE_READ].total>=e.minReadMessages||this._metricsList[g.AppRatingMetric.MESSAGE_SENT].total+this._metricsList[g.AppRatingMetric.MESSAGE_READ].total>=e.minTotalMessages||this._metricsList[g.AppRatingMetric.NEW_CONTACT].total>=e.minNewContact}getTriggeredAppRatingMetric(){const e=this._getECSConfigNoSubscription();return this._metricsList[g.AppRatingMetric.CALL].total>=e.minTotalCallingSeconds?g.AppRatingMetric[g.AppRatingMetric.CALL]:this._metricsList[g.AppRatingMetric.MESSAGE_SENT].total>=e.minSentMessages?g.AppRatingMetric[g.AppRatingMetric.MESSAGE_SENT]:this._metricsList[g.AppRatingMetric.MESSAGE_READ].total>=e.minReadMessages?g.AppRatingMetric[g.AppRatingMetric.MESSAGE_READ]:this._metricsList[g.AppRatingMetric.MESSAGE_SENT].total+this._metricsList[g.AppRatingMetric.MESSAGE_READ].total>=e.minTotalMessages?g.AppRatingMetric[g.AppRatingMetric.MESSAGE_TOTAL]:g.AppRatingMetric[g.AppRatingMetric.NEW_CONTACT]}};t.AppRatingStore=_,o.__decorate([a.disableWarnings],_.prototype,"addAppRatingMetric",null),t.AppRatingStore=_=o.__decorate([a.AutoSubscribeStore],_),t.default=new _},13816:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppUpdateStatus=void 0;const o=i(197582),n=o.__importStar(i(516778)),r=i(217041),a=o.__importDefault(i(659938)),s=i(444314);var l;!function(e){e[e.Updated=0]="Updated",e[e.NotUpdated=1]="NotUpdated"}(l||(t.AppUpdateStatus=l={}));let c=class extends r.StoreBase{constructor(){super(),this._isAppUpdated=!1,a.default.subscribeForChanges("AppStateStore",(()=>this.trigger()))}getAppState(){return n.App.getActivationState()}isAppUpdated(){return this._isAppUpdated}getAppUpdateStatus(){return s.LocalStorage.getItem(s.StorageKeys.AppUpdateStatus)}setAppUpdateStatus(e){const t=e?l.Updated:l.NotUpdated;return this._setAppUpdatedStatus(e),s.LocalStorage.setItem(s.StorageKeys.AppUpdateStatus,l[t]).then((()=>{this.trigger()}))}_setAppUpdatedStatus(e=!1){this._isAppUpdated=e}};o.__decorate([r.autoSubscribe],c.prototype,"getAppState",null),o.__decorate([r.autoSubscribe],c.prototype,"isAppUpdated",null),c=o.__decorate([r.AutoSubscribeStore],c),t.default=new c},749315:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioQueueStore=void 0;const o=i(197582),n=i(217041);let r=class extends n.StoreBase{constructor(){super(...arguments),this._queuePerConversation={}}setAudioEndedForConversation(e,t){const i=this._queuePerConversation[e];if(!i)return;const{messages:o}=i;let n=null,r=!1;for(let e=0;e<o.length;e+=1){const{cuid:i}=o[e];if(i===t){e!==o.length-1&&(n=o[e+1].cuid),r=!0;break}}r&&(this._queuePerConversation=Object.assign(Object.assign({},this._queuePerConversation),{[e]:Object.assign(Object.assign({},i),{nextCuid:n})}),this.trigger())}addConversation(e,t){this._queuePerConversation=Object.assign(Object.assign({},this._queuePerConversation),{[e]:{messages:t,nextCuid:null}})}removeConversation(e){const t=this._queuePerConversation,i=e,n=(t[i],o.__rest(t,["symbol"==typeof i?i:i+""]));this._queuePerConversation=n,this.trigger()}getNextCuid(e){var t,i;return null!==(i=null===(t=this._queuePerConversation[e])||void 0===t?void 0:t.nextCuid)&&void 0!==i?i:null}};t.AudioQueueStore=r,o.__decorate([n.autoSubscribe],r.prototype,"addConversation",null),o.__decorate([n.disableWarnings],r.prototype,"removeConversation",null),o.__decorate([n.autoSubscribe],r.prototype,"getNextCuid",null),t.AudioQueueStore=r=o.__decorate([n.AutoSubscribeStore],r),t.default=new r},353021:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RecordingError=t.RecordingState=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(272991)),a=i(217041);var s,l;!function(e){e[e.None=0]="None",e[e.StartingMic=1]="StartingMic",e[e.Recording=2]="Recording",e[e.GettingAudio=3]="GettingAudio",e[e.HasAudio=4]="HasAudio"}(s||(t.RecordingState=s={})),function(e){e[e.None=0]="None",e[e.StartFailed=1]="StartFailed",e[e.StopFailed=2]="StopFailed"}(l||(t.RecordingError=l={}));let c=class extends a.StoreBase{constructor(){super(...arguments),this._sessionCounter=0,this._state=s.None,this._error=l.None,this._elapsedTime=0,this._currentSession=this._sessionCounter,this._session=null,this._volumeSamples=null,this._currentAudioResult=null,this._sampleStartedTime=Date.now(),this._sampleStartedOnWeb=!1}getRecordingState(){return this._state}getRecordingStateNoSubscription(){return this._state}getRecordingError(){return this._error}getVolumeSamples(){return n.clone(this._volumeSamples)}getElapsedTimeMs(){return this._elapsedTime}getRecordingResult(){return n.clone(this._currentAudioResult)}_isValid(e,t){return e===this._currentSession&&t===this._state}startRecording(e=500){this._state=s.StartingMic,this._currentSession=++this._sessionCounter,this._session=r.default.createRecordingSession(),this._volumeSamples=[],this._currentAudioResult=null,this._sampleStartedOnWeb=!1,this._sampleStartedTime=Date.now();const t=this._currentSession;this._session.startRecording((i=>{this._sampleStartedOnWeb||(this._sampleStartedOnWeb=!0,this._sampleStartedTime=Date.now()-e),this._isValid(t,s.Recording)&&(this._volumeSamples.push(i),this._elapsedTime=Date.now()-this._sampleStartedTime,this.trigger())}),e).then((()=>{this._isValid(t,s.StartingMic)&&(this._state=s.Recording,this.trigger())}),(()=>{this._isValid(t,s.StartingMic)&&this._reset(l.StartFailed)})),this.trigger()}stopRecording(){const e=this._session;this._session=null,this._state=s.GettingAudio;const t=this._currentSession;e.stopRecording().then((e=>{this._isValid(t,s.GettingAudio)&&(this._state=s.HasAudio,this._volumeSamples=null,this._currentAudioResult=Object.assign(Object.assign({},e),{durationMs:this._elapsedTime}),this.trigger())}),(()=>{this._isValid(t,s.GettingAudio)&&this._reset(l.StopFailed)}))}reset(){this._reset()}_reset(e=l.None){const t=this._session;this._state=s.None,this._error=e,this._session=null,this._volumeSamples=null,this._elapsedTime=0,this._currentAudioResult=null,t&&t.stopRecording(),this.trigger()}};o.__decorate([a.autoSubscribe],c.prototype,"getRecordingState",null),o.__decorate([a.disableWarnings],c.prototype,"getRecordingStateNoSubscription",null),o.__decorate([a.autoSubscribe],c.prototype,"getRecordingError",null),o.__decorate([a.autoSubscribe],c.prototype,"getVolumeSamples",null),o.__decorate([a.autoSubscribe],c.prototype,"getElapsedTimeMs",null),o.__decorate([a.autoSubscribe],c.prototype,"getRecordingResult",null),c=o.__decorate([a.AutoSubscribeStore],c),t.default=new c},335797:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingUpsellStore=void 0;const o=i(197582),n=i(217041),r=i(677982),a=i(938827),s=o.__importDefault(i(201721)),l=7*a.DAY;let c=class extends n.StoreBase{shouldShowSERPUpsell(){return r.AppConfigStore.getS4LClipsFeatures().enableBingDSEUpsell&&!s.default.didUserClickSwitchOnBingUpsell()&&this._isSERPUpsellCooldownOver()&&s.default.getTimesBingUpsellSERPWasDismissed()<2}shouldShowMagicBotUpsell(){return r.AppConfigStore.getS4LClipsFeatures().enableBingDSEBotUpsell&&!s.default.didUserClickSwitchOnBingUpsell()&&this._isMagicBotUpsellCooldownOver()&&s.default.getTimesBingUpsellMagicBotWasDismissed()<2}getSERPUpsellVariant(){return r.AppConfigStore.getS4LClipsFeatures().bingDSEUpsellVariant}getSERPUpsellUrl(){return r.AppConfigStore.getS4LClipsFeatures().bingDSEUpsellURL}isMagicBotUpsellVariant(){return r.AppConfigStore.getS4LClipsFeatures().bingDSEBotUpsellVariant}getMagicBotUpsellTextVariant(){return r.AppConfigStore.getS4LClipsFeatures().bingDSEBotUpsellTextVariant}getMagicBotUpsellUrl(){return r.AppConfigStore.getS4LClipsFeatures().bingDSEBotUpsellURL}recordSERPUpsellDismissed(){s.default.recordBingUpsellSERPDismissed(),this.trigger()}recordMagicBotUpsellDismissed(){s.default.recordBingUpsellMagicBotDismissed(),this.trigger()}recordUserClickedSwitch(){s.default.recordUserClickedSwitchOnBingUpsell(),this.trigger()}_isSERPUpsellCooldownOver(){const e=s.default.getBingUpsellSERPLastDismiss();return Date.now()-e>=l}_isMagicBotUpsellCooldownOver(){const e=s.default.getBingUpsellMagicBotLastDismiss();return Date.now()-e>=l}};t.BingUpsellStore=c,o.__decorate([n.autoSubscribe],c.prototype,"shouldShowSERPUpsell",null),o.__decorate([n.autoSubscribe],c.prototype,"shouldShowMagicBotUpsell",null),o.__decorate([n.autoSubscribe],c.prototype,"getSERPUpsellVariant",null),o.__decorate([n.autoSubscribe],c.prototype,"getSERPUpsellUrl",null),o.__decorate([n.autoSubscribe],c.prototype,"isMagicBotUpsellVariant",null),o.__decorate([n.autoSubscribe],c.prototype,"getMagicBotUpsellTextVariant",null),o.__decorate([n.autoSubscribe],c.prototype,"getMagicBotUpsellUrl",null),t.BingUpsellStore=c=o.__decorate([n.AutoSubscribeStore],c),t.default=new c},401189:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerKeys=t.FlashMode=t.CameraMode=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(482469),a=o.__importDefault(i(815063)),s=i(217041),l=o.__importStar(i(397691)),c=i(843890),d=i(584559);Object.defineProperty(t,"CameraMode",{enumerable:!0,get:function(){return d.CameraMode}}),Object.defineProperty(t,"FlashMode",{enumerable:!0,get:function(){return d.FlashMode}});const u=i(815146),p=o.__importStar(i(85385)),g=i(352549),h=o.__importStar(i(960282)),m=o.__importStar(i(446574));var S;!function(e){e[e.CurrentFlashMode=0]="CurrentFlashMode",e[e.CurrentCameraMode=1]="CurrentCameraMode",e[e.CurrentZoomLevel=2]="CurrentZoomLevel",e[e.SupportedCameras=3]="SupportedCameras",e[e.HasFlash=4]="HasFlash",e[e.HasBackTelephotoCamera=5]="HasBackTelephotoCamera",e[e.MaxZoom=6]="MaxZoom",e[e.AsyncCaptureStatusKey=7]="AsyncCaptureStatusKey",e[e.CameraAvailable=8]="CameraAvailable",e[e.DesktopVIMStatus=9]="DesktopVIMStatus"}(S||(t.TriggerKeys=S={}));let _=class extends s.StoreBase{constructor(){super(),this._currentFlashMode="off",this._currentCameraMode="back",this._preferredCameraMode="back",this._currentZoomLevel=1,this._maxZoom=1,this._hasBackTelephotoCamera=!1,this._supportedCameras=0,this._hasFlash=!1,this._isCameraAvailable=!0,this._visibleCapturePanelIDs=[],this._perfScenarios={},m.RegisterStartupable(this,"CaptureSettingsStore",[h.default])}startup(){return this._isCameraAvailable=c.UICapabilities.cameraSupported()&&!h.default.isSplitScreenIPad(),p.log(u.LogTraceArea.Capture,"CaptureSettingsStore startup, isCameraAvailable: "+this._isCameraAvailable),this._splitScreenSubscriptionToken=h.default.subscribe((()=>{const e=c.UICapabilities.cameraSupported()&&!h.default.isSplitScreenIPad();e!==this._isCameraAvailable&&(p.log(u.LogTraceArea.Capture,"CaptureSettingsStore, update isCameraAvailable: "+e),this._isCameraAvailable=e,this.trigger(S.CameraAvailable))}),h.TriggerKeys.SplitScreenIPad),r.DefaultCamera.getDefaultCamera(this._preferredCameraMode).then((e=>{this.setupCamera(e)})),Promise.resolve()}destroy(){this._splitScreenSubscriptionToken&&(h.default.unsubscribe(this._splitScreenSubscriptionToken),this._splitScreenSubscriptionToken=void 0)}getCurrentFlashMode(){return this.convertStringToFlashModeEnum(this._currentFlashMode)}getCurrentCameraMode(){return this.convertStringToCameraModeEnum(this._currentCameraMode)}getCurrentZoomLevel(){return this._currentZoomLevel}getSupportedCameras(){return this._supportedCameras}hasFlash(){return this._hasFlash}hasBackTelephotoCamera(){return this._hasBackTelephotoCamera}maxZoom(){return this._maxZoom}isCameraAvailable(){return this.isCameraAvailableNoSubscription()}isCameraAvailableNoSubscription(){var e;return this._isCameraAvailable||null!==(e=a.default.HasCamera)&&void 0!==e&&e}setSupportedCameras(e){this._supportedCameras=e,this.trigger(S.SupportedCameras)}setIsCameraAvailable(e){this._isCameraAvailable=e,this.trigger(S.CameraAvailable)}setupCamera(e){if("none"===e)this.setIsCameraAvailable(!1);else{const t=this.convertStringToCameraModeEnum(e);this.setCameraMode(t)}}setHasFlash(e){e!==this._hasFlash&&(this._hasFlash=e,this.trigger(S.HasFlash))}setCameraMode(e){e!==this.getCurrentCameraMode()&&(this._currentCameraMode=this.convertCameraModeEnumToString(e),this.trigger(S.CurrentCameraMode))}getDefaultCamera(e){return l.fromThenable(r.DefaultCamera.getDefaultCamera(e))}updateSettings(e){e&&(e.supportedCameras().then((e=>this.setSupportedCameras(e))),e.getDefaultCamera(this._preferredCameraMode).then((e=>this.setupCamera(e))),e.hasBackTelephotoCamera().then((e=>this.setHasBackTelephotoCamera(e))),e.getMaxZoom().then((e=>this.setMaxZoom(e))),e.hasFlash().then((e=>this.setHasFlash(e))))}setHasBackTelephotoCamera(e){this._hasBackTelephotoCamera=e,this.trigger(S.HasBackTelephotoCamera)}setMaxZoom(e){this._maxZoom=e,this.trigger(S.MaxZoom)}setPerfScenario(e,t){this._perfScenarios[g.ScenarioName[e]]=t}getPerfScenario(e){return this._perfScenarios[g.ScenarioName[e]]}maybeGetAndClearPerfScenario(e){const t=this._perfScenarios[g.ScenarioName[e]];return delete this._perfScenarios[g.ScenarioName[e]],t}toggleCamera(){if(this._supportedCameras>1){const e="front"===this._currentCameraMode?"back":"front";this._currentCameraMode=e,this.trigger(S.CurrentCameraMode)}}getCameraToggleMode(){if(this._supportedCameras>1){const e="front"===this._currentCameraMode?"back":"front";return this.convertStringToCameraModeEnum(e)}return d.CameraMode.None}setZoomLevel(e){this._currentZoomLevel=e,this.trigger(S.CurrentZoomLevel)}toggleFlash(){if(this._hasFlash){const e="off"===this._currentFlashMode?"on":"off";this._currentFlashMode=e,this.trigger(S.CurrentFlashMode)}}convertStringToCameraModeEnum(e){return"front"===e?d.CameraMode.Front:d.CameraMode.Back}setAsyncCaptureStatus(e,t){let i=n.findIndex(this._visibleCapturePanelIDs,(t=>t===e));if(-1===i){if(t)return i=this._visibleCapturePanelIDs.push(e)-1,this.trigger(S.AsyncCaptureStatusKey),void p.log(u.LogTraceArea.GenericUnsafe,"CaptureSettingsStore visible capture panel "+e+" added (now "+this._visibleCapturePanelIDs.length+")")}else if(!t)return this._visibleCapturePanelIDs.splice(i,1),this.trigger(S.AsyncCaptureStatusKey),void p.log(u.LogTraceArea.GenericUnsafe,"CaptureSettingsStore visible capture panel "+e+" removed (now "+this._visibleCapturePanelIDs.length+")")}isInAsyncCapture(){return 0!==this._visibleCapturePanelIDs.length}convertStringToFlashModeEnum(e){return"on"===e?d.FlashMode.On:d.FlashMode.Off}convertCameraModeEnumToString(e){switch(e){case d.CameraMode.Front:return"front";case d.CameraMode.Back:default:return"back"}}convertFlashModeEnumToString(e){switch(e){case d.FlashMode.On:return"on";case d.FlashMode.Off:default:return"off"}}test_resetFields(){this._currentFlashMode="off",this._currentCameraMode="back",this._preferredCameraMode="back",this._currentZoomLevel=1,this._supportedCameras=0,this._hasFlash=!1,this._isCameraAvailable=!0,this._visibleCapturePanelIDs=[]}};o.__decorate([(0,s.autoSubscribeWithKey)(S.CurrentFlashMode)],_.prototype,"getCurrentFlashMode",null),o.__decorate([(0,s.autoSubscribeWithKey)(S.CurrentCameraMode)],_.prototype,"getCurrentCameraMode",null),o.__decorate([(0,s.autoSubscribeWithKey)(S.CurrentZoomLevel)],_.prototype,"getCurrentZoomLevel",null),o.__decorate([(0,s.autoSubscribeWithKey)(S.SupportedCameras)],_.prototype,"getSupportedCameras",null),o.__decorate([(0,s.autoSubscribeWithKey)(S.HasFlash)],_.prototype,"hasFlash",null),o.__decorate([(0,s.autoSubscribeWithKey)(S.HasBackTelephotoCamera)],_.prototype,"hasBackTelephotoCamera",null),o.__decorate([(0,s.autoSubscribeWithKey)(S.MaxZoom)],_.prototype,"maxZoom",null),o.__decorate([(0,s.autoSubscribeWithKey)(S.CameraAvailable)],_.prototype,"isCameraAvailable",null),o.__decorate([s.disableWarnings],_.prototype,"isCameraAvailableNoSubscription",null),o.__decorate([(0,s.autoSubscribeWithKey)(S.AsyncCaptureStatusKey)],_.prototype,"isInAsyncCapture",null),_=o.__decorate([s.AutoSubscribeStore],_),t.default=new _},68210:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToastCategory=t.ToastType=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=o.__importDefault(i(150343)),s=i(873324),l=o.__importDefault(i(638260)),c=i(154235),d=i(815146),u=o.__importStar(i(85385)),p=o.__importDefault(i(369347)),g=o.__importDefault(i(247286)),h=i(527703);var m,S;!function(e){e[e.IncomingCall=0]="IncomingCall",e[e.Notification=1]="Notification",e[e.CallRecorder=2]="CallRecorder",e[e.LocalCallMediaCapturer=3]="LocalCallMediaCapturer",e[e.RemoteCallMediaCapturer=4]="RemoteCallMediaCapturer",e[e.CallConnectionQuality=5]="CallConnectionQuality",e[e.IncomingVideoDisabled=6]="IncomingVideoDisabled",e[e.NetworkConnection=7]="NetworkConnection",e[e.CameraDeniedToast=9]="CameraDeniedToast",e[e.WebFeedback=10]="WebFeedback",e[e.Translation=11]="Translation",e[e.TeamsInterop=12]="TeamsInterop",e[e.TogetherModeNotice=13]="TogetherModeNotice",e[e.LimitedSupportBrowser=14]="LimitedSupportBrowser",e[e.PstnTranslation=15]="PstnTranslation",e[e.MusicModeEnabled=16]="MusicModeEnabled",e[e.PstnParticipantRing=17]="PstnParticipantRing",e[e.CaptionsStart=18]="CaptionsStart",e[e.CaptionsError=19]="CaptionsError",e[e.CaptionsLanguageChange=20]="CaptionsLanguageChange",e[e.CaptionsParticipantLanguageChange=21]="CaptionsParticipantLanguageChange",e[e.CaptionsLanguageDetectionError=22]="CaptionsLanguageDetectionError",e[e.CaptionsTranslationConsent=23]="CaptionsTranslationConsent",e[e.CaptionsTruVoiceConsent=24]="CaptionsTruVoiceConsent",e[e.CaptionsTranslationConsentRequest=25]="CaptionsTranslationConsentRequest",e[e.CaptionsTruVoiceConsentRequest=26]="CaptionsTruVoiceConsentRequest",e[e.CaptionsTranslationRequestSent=27]="CaptionsTranslationRequestSent",e[e.CaptionsTruVoiceRequestSent=28]="CaptionsTruVoiceRequestSent",e[e.CaptionsTruVoiceEnable=29]="CaptionsTruVoiceEnable",e[e.CaptionsTranslationRejected=30]="CaptionsTranslationRejected",e[e.CaptionsTruVoiceRejected=31]="CaptionsTruVoiceRejected",e[e.CaptionsTranslationCancelled=32]="CaptionsTranslationCancelled",e[e.CaptionsTranslationStopped=33]="CaptionsTranslationStopped",e[e.CaptionsTranslationNotSupported=34]="CaptionsTranslationNotSupported",e[e.CaptionsTranslationEnabled=35]="CaptionsTranslationEnabled",e[e.CaptionsTruVoiceCancelled=36]="CaptionsTruVoiceCancelled",e[e.CaptionsTruVoiceStopped=37]="CaptionsTruVoiceStopped",e[e.CaptionsTruVoiceNotSupported=38]="CaptionsTruVoiceNotSupported",e[e.CaptionsTruVoiceEnabled=39]="CaptionsTruVoiceEnabled",e[e.VideoRestricted=40]="VideoRestricted"}(m||(t.ToastType=m={})),function(e){e[e.Captions=1]="Captions"}(S||(t.ToastCategory=S={}));const _={[S.Captions]:4};let f=class extends r.StoreBase{constructor(){super(...arguments),this._toasts=[],this._toastsByCategory={},this._toastId=1,this._hasPresentedWebFeedbackToast=!1}addNotificationToast(e,t){return this._addToast(m.Notification,m.Notification,e,t)}addIncomingCallToast(e,t,i){const o=this._addToast(m.IncomingCall,m.IncomingCall,e,i);return o?(l.default.trackStartRinging(e.callId,s.AnswerCallNotificationLocation.InAppBanner),l.default.markAnswerCallStep(e.callId,s.AnswerCallStep.NotifyingCallee,e.conversationMri,t,{CalleeNotifiedIn:s.AnswerCallNotificationLocation.InAppBanner})):l.default.trackIncomingCallNotificationFailure(e.callId,e.eventType||h.PNHEvents.IncomingUnknown,t,s.IncomingCallEndReason.StartRingingFailed,"AddIncomingCallToastFailed"),o}addLimitedSupportBrowserToast(e){return this._addToast(m.LimitedSupportBrowser,m.Notification,e,c.MainRootViewId)}addCameraDeniedToast(e){return this._addToast(m.CameraDeniedToast,m.CameraDeniedToast,e,c.MainRootViewId)}addCallRecorderToast(e){return this._addToast(m.CallRecorder,m.CallRecorder,e,c.MainRootViewId)}addRemoteCallMediaCapturedToast(e){return this._addToast(m.RemoteCallMediaCapturer,m.RemoteCallMediaCapturer,e,c.MainRootViewId)}addLocalCallMediaCapturedToast(e){return this._addToast(m.LocalCallMediaCapturer,m.LocalCallMediaCapturer,e,c.MainRootViewId)}addCallConnectionQualityToast(e){return this._addToast(m.CallConnectionQuality,m.CallConnectionQuality,e,c.MainRootViewId)}addIncomingVideoDisabledToast(e){return this._addToast(m.IncomingVideoDisabled,m.IncomingVideoDisabled,e,c.MainRootViewId)}addNetworkConnectionToast(e){return this._addToast(m.NetworkConnection,m.NetworkConnection,e,c.MainRootViewId)}addGeneralPurposeToast(e){return this._addToast(e.toastType,e.toastType,e,c.MainRootViewId,e.onDismiss)}addTranslationInCallToast(e){return this._addToast(m.Translation,m.Translation,e,c.MainRootViewId)}addWebFeebackToast(e){if(!g.default.isChild()&&a.default.getS4LUiFeaturesNoSubscription().enableWebFeedbackBanner&&-1===n.findIndex(this._toasts,(e=>e.type===m.WebFeedback))&&!this._hasPresentedWebFeedbackToast)return this._hasPresentedWebFeedbackToast=!0,this._addToast(m.WebFeedback,m.WebFeedback,e,c.MainRootViewId)}addCaptionsGenericToast(e,t){return this._addToast(e,0,t,c.MainRootViewId,void 0,S.Captions)}addCaptionsGeneriConsentToast(e,t){return this._addToast(e,0,t,c.MainRootViewId,void 0,S.Captions)}addVideoRestrictedToast(e){const t=this._addToast(m.VideoRestricted,m.VideoRestricted,e,c.MainRootViewId,e.onDismiss);return void 0!==t&&l.default.onBlockedVideoBannerShown(e.callId),t}_addToast(e,t,i,o,r,a){var s;u.log(d.LogTraceArea.Navigation,"CompositeToastStore._addToast type: "+e);const l=[m.IncomingCall,m.CallRecorder,m.CallConnectionQuality,m.IncomingVideoDisabled,m.CameraDeniedToast,m.TeamsInterop,m.Translation,m.TogetherModeNotice,m.PstnTranslation,m.MusicModeEnabled,m.PstnParticipantRing,m.CaptionsStart,m.CaptionsTranslationConsent,m.CaptionsTranslationConsent,m.CaptionsTruVoiceConsent,m.CaptionsTranslationConsentRequest,m.CaptionsTruVoiceConsentRequest,m.VideoRestricted],c=[m.CaptionsStart,m.CaptionsTranslationConsent,m.CaptionsTruVoiceConsent,m.CaptionsTranslationConsentRequest,m.CaptionsTruVoiceConsentRequest];if(l.includes(e)&&this._hasToastForCallId(e,i,a))return u.log(d.LogTraceArea.Navigation,"CompositeToastStore._addToast type: "+e+" callId: "+i.callId+" already exists"),c.includes(e)?null===(s=this.toastForCallId(e,i,a))||void 0===s?void 0:s.id:void 0;const p={type:e,order:t,id:this._toastId++,state:i,rootViewId:o,onDismiss:r,category:a},{toasts:g,maxToasts:h}=this._getStore(a),S=n.findIndex(g,(e=>e.order>t));if(-1===S&&g.length<h)g.push(p);else{if(!(-1!==S&&S<h))return void u.log(d.LogTraceArea.Navigation,`Ignoring toast type: ${e} order ${t} as store is full`);g.splice(S,0,p),g.splice(h,1)}return this.trigger(),p.id}_getStore(e){return e?(this._toastsByCategory[e]||(this._toastsByCategory[e]=[]),{toasts:this._toastsByCategory[e],maxToasts:_[e]}):{toasts:this._toasts,maxToasts:3}}_getAllCombined(){const e=[...this._toasts];return Object.values(this._toastsByCategory).forEach((t=>e.push(...t))),e}toastForCallId(e,t,i){const{toasts:o}=this._getStore(i);return o.find((o=>o.type===e&&o.category===i&&o.state.callId===t.callId))}_hasToastForCallId(e,t,i){return!!this.toastForCallId(e,t,i)}removeToast(e,t,i,o=!0){const r=this._getAllCombined(),a=n.find(r,(t=>t.id===e));if(a){if(void 0!==t&&a.state){const e=a.state;e.action&&e.action(t,i)}const{toasts:r}=this._getStore(a.category);n.remove(r,(t=>t.id===e)).length&&o&&this.trigger()}}removeAllFromCategory(e,t){const{toasts:i}=this._getStore(t);i.filter((i=>i.category===t&&(e&&i.state.callId===e||!e))).map((e=>e.id)).forEach((e=>this.removeToast(e,void 0,void 0,!1))),this.trigger()}removeAll(){this._toasts=[],this._toastsByCategory={},this.trigger()}updateToast(e,t){const i=this._getAllCombined().find((t=>t.id===e));return!!i&&(i.state=t,this.trigger(e),!0)}_isOnHoldCallRecorderToastMessage(e,t){return e.type===m.CallRecorder&&t!==e.state.callId}getToasts(e,t,i){const o=i||p.default.CallingStore.getConnectedOrOutgoingAndNotOnHoldCallId(),{toasts:r}=this._getStore(t);return n.filter(r,(n=>(n.rootViewId===e||n.rootViewId===c.MainRootViewId)&&n.category===t&&!this._isOnHoldCallRecorderToastMessage(n,o)&&(i&&n.state.callId===i||!i)))}getToastsOfType(e,t){return this._getAllCombined().filter((i=>(i.rootViewId===t||i.rootViewId===c.MainRootViewId)&&i.type===e))}getToast(e){const t=this._getAllCombined();return n.find(t,(t=>t.id===e))}};o.__decorate([r.autoSubscribe],f.prototype,"getToasts",null),o.__decorate([r.autoSubscribe,o.__param(0,r.key)],f.prototype,"getToast",null),f=o.__decorate([r.AutoSubscribeStore],f),t.default=new f},406699:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectivityAlertStore=void 0;const o=i(197582),n=i(217041),r=o.__importDefault(i(150343)),a=o.__importDefault(i(68210)),s=i(815146),l=o.__importStar(i(85385)),c=o.__importDefault(i(201721)),d=o.__importStar(i(453353)),u=i(25083),p=o.__importDefault(i(163374)),g=o.__importStar(i(446574));let h=class extends n.StoreBase{constructor(){super(),this._alertDismissed=!1,g.RegisterStartupable(this,"ConnectivityAlertStore",[c.default,d.default])}startup(){return d.default.subscribe((()=>{this._toggleConnectionAlert()})),this._toggleConnectionAlert(),Promise.resolve()}getConnectivityAlertType(){return this._reportedAlertType}shouldShowCaptivePortalQuestionnaire(){if(this._reportedAlertType!==s.ConnectivityAlertType.CaptivePortal)return!1;const e=r.default.getS4LMessagingFeatures(),t=c.default.getUserPreferencesLocal().captivePortalDismissedAt;return void 0===t||!!e.captivePortalQuestionnaireFrequency&&Date.now()>=t+1e3*e.captivePortalQuestionnaireFrequency}answerCaptivePortalQuestionnaire(e){e===u.CaptivePortalQuestionnaireOption.Invalid&&p.default.forcePassedConnectivityCheck(),l.track(new u.CaptivePortalQuestionnaireEvent(e)),c.default.setUserPreferencesLocal({captivePortalDismissedAt:Date.now()})}dismissConnectivityAlert(){this._alertDismissed=!0,this._removeToast()}_toggleConnectionAlert(){const e=d.default.getConnectionStatus();e===d.ConnectionStatus.PossibleCaptivePortal?this._createOrUpdateToast(s.ConnectivityAlertType.CaptivePortal):e===d.ConnectionStatus.DisconnectedNoNetworkingReported?this._createOrUpdateToast(s.ConnectivityAlertType.NoNetwork):this._removeToast()}_createOrUpdateToast(e){if(this._alertDismissed)return void this._removeToast();if(e===this._reportedAlertType)return;const t=new u.ConnectivityAlertShowEvent(e);if(l.track(t),void 0!==this._toastId)l.log(s.LogTraceArea.ConnectivityStatusBar,"ConnectivityAlertStore: updating toast, reported type "+s.ConnectivityAlertType[e]),a.default.updateToast(this._toastId,{toastType:e});else if(l.log(s.LogTraceArea.ConnectivityStatusBar,"ConnectivityAlertStore: adding toast, reported type "+s.ConnectivityAlertType[e]),this._toastId=a.default.addNetworkConnectionToast({toastType:e}),void 0===this._toastId)return;this._alertDismissed=!1,this._reportedAlertType=e,this.trigger()}_removeToast(){void 0!==this._toastId&&(l.log(s.LogTraceArea.ConnectivityStatusBar,"ConnectivityAlertStore: removing toast, reported type "+(this._reportedAlertType?s.ConnectivityAlertType[this._reportedAlertType]:"undefined")),a.default.removeToast(this._toastId),this._reportedAlertType=void 0,this._toastId=void 0,this.trigger())}};t.ConnectivityAlertStore=h,o.__decorate([n.autoSubscribe],h.prototype,"getConnectivityAlertType",null),o.__decorate([n.autoSubscribe],h.prototype,"shouldShowCaptivePortalQuestionnaire",null),t.ConnectivityAlertStore=h=o.__decorate([n.AutoSubscribeStore],h),t.default=new h},275502:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(217041),r=o.__importStar(i(397691)),a=o.__importStar(i(446574));let s=class extends n.StoreBase{constructor(){super(),this._startupDeferral=r.Defer(),a.RegisterStartupable(this,"CrashStatusStore")}startup(){return this._startupDeferral.promise().toEs6Promise()}internal_feedCrashStatus(e){void 0===this._lastLaunchCrashed&&(this._lastLaunchCrashed=e,this._startupDeferral.resolve(void 0))}didLastLaunchCrash(){return this._lastLaunchCrashed}};o.__decorate([n.disableWarnings],s.prototype,"didLastLaunchCrash",null),s=o.__decorate([n.AutoSubscribeStore],s),t.default=new s},471113:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(217041),r=o.__importDefault(i(860947)),a=i(815146),s=o.__importStar(i(85385)),l=o.__importStar(i(353831)),c=o.__importDefault(i(942724)),d=o.__importDefault(i(48076));let u=class extends n.StoreBase{show(e,t){this._currentActionMenu=e;const i=this._usePopup(this._currentActionMenu);s.log(a.LogTraceArea.GenericUnsafe,"CustomActionMenuStore.show useDesktopPopup: "+!!e.useDesktopPopup+" usePopup: "+i+" causeId: "+t),this._navDismissalRegistrationHandle&&l.unregister(this._navDismissalRegistrationHandle),this._navDismissalRegistrationHandle=l.register({dismiss:()=>{this._currentActionMenu&&this.close(this._currentActionMenu.rootViewId,t)}}),i?r.default.show(this._currentActionMenu,t):(s.log(a.LogTraceArea.GenericUnsafe,"CustomActionMenuStore.show, trigger, causeId: "+t),this.trigger())}close(e,t){s.log(a.LogTraceArea.GenericUnsafe,"CustomActionMenuStore.close, causeId: "+t);const i=this._currentActionMenu;this._currentActionMenu=void 0,this._navDismissalRegistrationHandle&&(l.unregister(this._navDismissalRegistrationHandle),this._navDismissalRegistrationHandle=void 0),this._usePopup(i)?r.default.close(e):(s.log(a.LogTraceArea.GenericUnsafe,"CustomActionMenuStore.close, trigger"),this.trigger()),i&&i.onMenuClosed&&i.onMenuClosed(t)}getCurrent(){return this._currentActionMenu}isCustomActionMenuShown(){return!!this._currentActionMenu}isCustomActionMenuShownNoSubscription(){return!!this._currentActionMenu}_usePopup(e){return!!e&&!!e.useDesktopPopup||!c.default.isUsingStackNavigationContext()&&!d.default.isTabletUINoSubscription()}};o.__decorate([n.autoSubscribe],u.prototype,"getCurrent",null),o.__decorate([n.autoSubscribe],u.prototype,"isCustomActionMenuShown",null),o.__decorate([n.disableWarnings],u.prototype,"isCustomActionMenuShownNoSubscription",null),u=o.__decorate([n.AutoSubscribeStore],u),t.default=new u},850921:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(217041),r=o.__importDefault(i(389659)),a=o.__importStar(i(446574)),s=o.__importDefault(i(601274));let l=class extends n.StoreBase{constructor(){super(),this._fire=()=>{this.trigger(),s.default.clearTimeout(this._timer),this._initTimer()},a.RegisterStartupable(this,"DayChangedNotifierStore",[])}startup(){return this._initTimer(),Promise.resolve()}_getTomorrowTimestamp(){const e=new Date(Date.now());return e.setDate(e.getDate()+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0)}_initTimer(){const e=this._getTomorrowTimestamp();this._timer=s.default.setExpiration(this._fire,e+3e3)}getDisplayDateString(e){return r.default.getDisplayDateString(e)}};o.__decorate([n.autoSubscribe],l.prototype,"getDisplayDateString",null),l=o.__decorate([n.AutoSubscribeStore],l),t.default=new l},186477:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(217041);let r=class extends n.StoreBase{getAnchorPosition(){return this._anchorPosition}setAnchorPosition(e){this._anchorPosition=e,this.trigger()}};o.__decorate([n.autoSubscribe],r.prototype,"getAnchorPosition",null),r=o.__decorate([n.AutoSubscribeStore],r);const a=new r;t.default=a},601976:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=o.__importStar(i(397691)),s=o.__importDefault(i(179075)),l=o.__importDefault(i(150343)),c=o.__importStar(i(44717)),d=o.__importDefault(i(639854)),u=o.__importDefault(i(493129)),p=o.__importDefault(i(615364)),g=o.__importDefault(i(776239)),h=o.__importDefault(i(432091)),m=o.__importDefault(i(363091)),S=o.__importStar(i(446574)),_=o.__importStar(i(692610)),f=o.__importDefault(i(685734));let y=class extends r.StoreBase{constructor(){super(100),this._conversationsToTrack={},this._handleConversationUpdates=e=>{const t=n.filter(e,(e=>{const t=this._conversationsToTrack[e];if(!t)return!1;const i=(0,p.default)().getConversation(e);return!!i&&t.updateConversationAndCheckIfChanged(i)}));t.length>0&&this.trigger(t)},S.RegisterStartupable(this,"DisplayInfoStore",[p.default,f.default])}startup(){return(0,p.default)().subscribe(this._handleConversationUpdates),f.default.subscribe((e=>{n.each(this._conversationsToTrack,((t,i)=>{const o=(0,p.default)().getConversation(i);n.each(e,(e=>{if(o&&o.isUserMember(e))return this._handleConversationUpdates([i]),!1}))})),this.trigger(e)})),s.default.subscribe((e=>{const t=n.filter(e,(e=>c.isMri(e)));n.isEmpty(t)||this.trigger(t)})),d.default.subscribe((e=>{const t=n.filter(e,(e=>c.isMri(e)));n.isEmpty(t)||this.trigger(t)})),a.Resolved()}_startedTrackingKey(e){if(!c.isThread(e)||this._conversationsToTrack[e])return;const t=(0,p.default)().getConversation(e);this._conversationsToTrack[e]=new u.default(e,t)}_stoppedTrackingKey(e){delete this._conversationsToTrack[e]}getDisplayableProfilePotentiallyBeforeStartupAsync(e){return S.HasStarted(this)?a.Resolved(this.getDisplayableProfile(e)):c.isThread(e)?(0,p.default)().getConversationPotentiallyBeforeStartupAsync(e).then((t=>{const i=t&&c.isOneOnOneConversation(e)?t.getOtherPartyMri():void 0;return i?_.getDisplayableProfilePotentiallyBeforeStartupAsync(i).then((t=>c.isEncryptedThread(e)&&t instanceof g.default?n.clone(t).setConversationId(e):t)):_.populateProfilesToCalculateConvDisplayName(t).then((()=>new u.default(e,t)))})):_.getDisplayableProfilePotentiallyBeforeStartupAsync(e)}getDisplayableNamePotentiallyBeforeStartupAsync(e,t){return this.getDisplayableProfilePotentiallyBeforeStartupAsync(e).then((i=>this._getDisplayName(e,i,t)))}getDisplayableProfile(e){if(c.isThread(e)){const t=(0,p.default)(),i=c.isOneOnOneConversation(e)?t.getConversation(e):void 0,o=i?i.getOtherPartyMri():void 0;if(o){const t=_.getDisplayableProfile(o);return c.isEncryptedThread(e)&&t instanceof g.default?n.clone(t).setConversationId(e):t}if(!this._conversationsToTrack[e]){const i=t.getConversation(e);return new u.default(e,i)}return this._conversationsToTrack[e]}return _.getDisplayableProfile(e)}getDisplayName(e,t){const i=this._possiblyGetMatchingAddressBookContact(e);if(i)return i.getDisplayName();const o=this.getDisplayableProfile(e);return this._getDisplayName(e,o,t)}_getDisplayName(e,t,i){const o=this._getFallbackDisplayName(e);return t?t.getDisplayName(o,i):o}_getFallbackDisplayName(e){return c.isMyBotConversation(e)?f.default.getMyBotDisplayName():c.isAgent(e)||c.isConnector(e)?void 0:c.stripMriNamespace(e)}_possiblyGetMatchingAddressBookContact(e){let t,i;if(c.isPhoneMri(e)&&(i=e),i){const e=c.getPhoneNumberFromMri(i);t=e?h.default.getContactByPhoneNumber(e):void 0}else l.default.getS4LContactsFeatures().overrideWithAddressBookName&&c.isUserMri(e)&&!f.default.getDisplayableUserByMri(e).isManuallyAdded&&(t=h.default.getContactByCorrespondingMri(e));return t}getShortDisplayName(e){const t=this._possiblyGetMatchingAddressBookContact(e);if(t)return t.getShortName();const i=this.getDisplayableProfile(e);return i?i.getShortName():c.stripMriNamespace(e)}getMemberShortNameForConversation(e,t){if(!c.isThread(e)||!this._conversationsToTrack[e])return this.getDisplayableProfile(t).getShortName();return this._conversationsToTrack[e].getMemberShortName(t)}getCurrentUserDisplayNameCensusParams(){const e=this.getDisplayName(m.default.getSkypeMri()),t=e?e.split(" "):[],i=t.length;let o=!1;return 2===i&&t[0]===t[1]&&(o=!0),{displayNamePartsLength:i,firstAndSecondAreMatching:o}}};o.__decorate([r.disableWarnings],y.prototype,"_startedTrackingKey",null),o.__decorate([r.disableWarnings],y.prototype,"_stoppedTrackingKey",null),o.__decorate([r.autoSubscribe,o.__param(0,r.key)],y.prototype,"getDisplayableProfile",null),o.__decorate([r.autoSubscribe,o.__param(0,r.key)],y.prototype,"getDisplayName",null),o.__decorate([r.autoSubscribe,o.__param(0,r.key)],y.prototype,"getShortDisplayName",null),o.__decorate([r.autoSubscribe,o.__param(0,r.key)],y.prototype,"getMemberShortNameForConversation",null),o.__decorate([r.autoSubscribe],y.prototype,"getCurrentUserDisplayNameCensusParams",null),y=o.__decorate([r.AutoSubscribeStore],y),t.default=new y},18026:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=o.__importDefault(i(974634)),s=o.__importStar(i(397691)),l=o.__importDefault(i(150343)),c=i(414317),d=o.__importDefault(i(988074)),u=i(815146),p=o.__importStar(i(85385)),g=o.__importStar(i(372690)),h=o.__importStar(i(704704)),m=o.__importDefault(i(201721)),S=o.__importDefault(i(363091)),_=o.__importStar(i(446574)),f=o.__importDefault(i(601274)),y=i(371221),C=i(677790);let v=class extends r.StoreBase{constructor(){super(),this._updateStatus=d.default.NoUpdates,this._isWindowMaximized=!1,this._shouldShowUpdateBadge=!1,this._shouldShowUpdateReminder=!1,this._isMandatoryUpdate=!1,this._ignoreLocaleChange=!1,this._areConversationNavigationMenuItemsVisible=!1,this._shouldHavePasteAsPlainTextOption=!1,this._isSkypeDefaultTelApp=!1,this.onMandatoryUpdate=new a.default,this.onNavigateToAboutPage=new a.default,this.onNavigateToSettings=new a.default,this.onNavigateToAVSettings=new a.default,this.onNavigateToProfile=new a.default,this.onNavigateToMeControl=new a.default,this.onNavigateToSearch=new a.default,this.onNavigateToFeedback=new a.default,this.onNavigateToSkypeURI=new a.default,this.onNavigateToSupport=new a.default,this.onNavigateToStatus=new a.default,this.onNavigateToPreviousConversation=new a.default,this.onNavigateToNextConversation=new a.default,this.onPresenceChange=new a.default,this.onNewConversation=new a.default,this.onNewGroupConversation=new a.default,this.onNewCall=new a.default,this.onSignOut=new a.default,this._onLogin=e=>{e&&this._handleSkypeURI()},this._setMandatoryUpdate=()=>{p.log(u.LogTraceArea.ElectronStateStore,"Setting update as Mandatory."),this._isMandatoryUpdate=!0,this.trigger()},this._setRedBadge=()=>{this._shouldShowUpdateReminder=!0,this.trigger()},this._setShowUpdateBadge=()=>{this._shouldShowUpdateBadge=!0,this.trigger()},this._handleSkypeURI=()=>{if(!this._api)return;const e=this._api.ipcProvider.app.getCurrentSkypeURI.send();e&&this.onNavigateToSkypeURI.fire(e)},this._handleSkypeResumed=()=>{var e,t;const i=null===(e=this._api)||void 0===e?void 0:e.ipcProvider.environment.getInfo.send().startupInfo,o=null===(t=this._api)||void 0===t?void 0:t.ipcProvider.environment.getInfo.send().skypeProcessInfo;(0,y.trackSkypeStartup)(C.StartupOption.Resume,C.SkypeActivateEvents.InvalidEvent,i,o)},_.RegisterStartupable(this,"ElectronStateStore"),S.default.userLoggedInUpdatedEvent.subscribe(this._onLogin)}startup(){return"undefined"!=typeof window&&void 0!==window.electronApi&&(this._api=window.electronApi,this._registerHandlers()),s.Resolved()}checkForUpdates(){this._api&&this._api.ipcProvider.appUpdate.checkForUpdates.send()}getIsSkypeDefaultTelApp(){return this._isSkypeDefaultTelApp}setIsSkypeDefaultTelApp(e){this._isSkypeDefaultTelApp=e,this.trigger()}getUpdateStatus(){return this._updateStatus}setUpdateStatus(e){this._updateStatus=e,this.trigger()}getIsWindowMaximized(){return this._isWindowMaximized}setIsWindowMaximized(e){this._isWindowMaximized=e,this.trigger()}shouldShowUpdateBadge(){return this._shouldShowUpdateBadge}shouldShowUpdateReminder(){return this._shouldShowUpdateReminder}isMandatoryUpdate(){return this._isMandatoryUpdate}resetLocaleToSystem(){return this._api?(this._ignoreLocaleChange=!0,this._api.ipcProvider.localisation.resetLocale.invoke().then((e=>{h.setSystemLocale(e)}))):Promise.resolve()}acknowledgeAppExit(){this._api&&this._api.ipcProvider.app.exitAckApp.send()}getAppSettings(){if(this._api)return this._api.ipcProvider.app.getSettings.send()}changeAppSettings(e){this._api&&this._api.ipcProvider.app.changeSettings.send(e)}isAutoStartSupported(){return!!this._api&&this._api.ipcProvider.app.isAutoStartSupported.send()}canControlAutoStart(){return!1}_getShouldHavePasteAsPlainTextHelper(){let e=!1;return({local:t})=>{e=n.isNil(t)?e:t;const i=e;this._shouldHavePasteAsPlainTextOption!==i&&(this._shouldHavePasteAsPlainTextOption=i,window.electronApi.ipcProvider.clipboard.setPasteAsPlainTextOption.send(this._shouldHavePasteAsPlainTextOption))}}_registerHandlers(){if(!this._api)return;const e=this._getShouldHavePasteAsPlainTextHelper();m.default.subscribe((()=>{const{pasteAsQuotesEnabled:t}=m.default.getUserPreferencesLocalNoSubscription();e({local:t})})),l.default.subscribe((()=>{const{enableKeyboardNavigationBetweenConversations:e,openLinkWithEdgeSidebar:t,enableEdgeFeaturesForOpenLink:i}=l.default.getS4LMessagingFeaturesNoSubscription(),{landingPageWithCards:{defaultTelAppConfig:{enabled:o}}}=l.default.getOnboardingFeatures();this._areConversationNavigationMenuItemsVisible!==e&&(this._areConversationNavigationMenuItemsVisible=e,window.electronApi.ipcProvider.applicationMenu.setConversationNavigationMenuItemsVisible.send(this._areConversationNavigationMenuItemsVisible)),t&&window.electronApi.ipcProvider.device.edgeIntegration.send({openLinkWithEdgeSidebar:t,enableEdgeFeaturesForOpenLink:i}),window.electronApi.ipcProvider.app.isSkypeDefaultTelApp.invoke(o).then((e=>{this.setIsSkypeDefaultTelApp(e)}))})),h.localeChangedEvent.subscribe((e=>{!this._ignoreLocaleChange&&this._api&&this._api.ipcProvider.localisation.setLocale.invoke(e),this._ignoreLocaleChange=!1})),this._api.ipcProvider.appUpdate.checkingForUpdate.on((()=>{this.setUpdateStatus(d.default.Checking)})),this._api.ipcProvider.appUpdate.updateNotAvailable.on((()=>{this.setUpdateStatus(d.default.NoUpdates)})),this._api.ipcProvider.appUpdate.updateAvailable.on((()=>{this.setUpdateStatus(d.default.UpdateAvailable)})),this._api.ipcProvider.appUpdate.updateDownloaded.on((e=>{if(p.log(u.LogTraceArea.ElectronStateStore,"New update downloaded",e),e&&e.releaseDate&&e.releaseName&&e.releaseNotes&&e.updateURL){if(this._setShowUpdateBadge(),this.setUpdateStatus(d.default.UpdateDownloaded),-1!==e.releaseName.indexOf("mandatory")&&(this._setMandatoryUpdate(),this.onMandatoryUpdate.fire()),!this._expirationId){const t=Date.parse(e.releaseDate)+12096e5;p.log(u.LogTraceArea.ElectronStateStore,"Setting reminder red badge alert for upgrade",new Date(t).toUTCString()),this._expirationId=f.default.setExpiration(this._setRedBadge,t)}}else p.log(u.LogTraceArea.ElectronStateStore,"Empty update object received.")})),this._api.ipcProvider.appUpdate.updateError.on((()=>{this.setUpdateStatus(d.default.Error)})),this._api.ipcProvider.window.onMaximized.on((()=>{this.setIsWindowMaximized(!0)})),this._api.ipcProvider.window.onUnmaximized.on((()=>{this.setIsWindowMaximized(!1)})),this._api.ipcProvider.app.onSkypeURI.on(this._handleSkypeURI),this._api.ipcProvider.app.onSkypeResume.on(this._handleSkypeResumed),this._api.ipcProvider.applicationMenu.about.on(this.onNavigateToAboutPage.fire),this._api.ipcProvider.applicationMenu.openSettings.on(this.onNavigateToSettings.fire),this._api.ipcProvider.applicationMenu.openAvSettings.on(this.onNavigateToAVSettings.fire),this._api.ipcProvider.applicationMenu.openProfile.on(this.onNavigateToProfile.fire),this._api.ipcProvider.applicationMenu.openMeControl.on(this.onNavigateToMeControl.fire),this._api.ipcProvider.applicationMenu.searchSkype.on(this.onNavigateToSearch.fire),this._api.ipcProvider.applicationMenu.reportProblem.on(this.onNavigateToFeedback.fire),this._api.ipcProvider.applicationMenu.new1on1Chat.on(this.onNewConversation.fire),this._api.ipcProvider.applicationMenu.newGroupChat.on(this.onNewGroupConversation.fire),this._api.ipcProvider.applicationMenu.newCall.on(this.onNewCall.fire),this._api.ipcProvider.applicationMenu.signOut.on(this.onSignOut.fire),this._api.ipcProvider.applicationMenu.privacy.on((()=>g.openPrivacy())),this._api.ipcProvider.applicationMenu.terms.on((()=>g.openTerms())),this._api.ipcProvider.applicationMenu.skypeSupport.on(this.onNavigateToSupport.fire),this._api.ipcProvider.applicationMenu.skypeStatus.on(this.onNavigateToStatus.fire),this._api.ipcProvider.applicationMenu.previousConversation.on((()=>{p.log(u.LogTraceArea.ElectronStateStore,"menu-previous-conversation triggered"),this.onNavigateToPreviousConversation.fire()})),this._api.ipcProvider.applicationMenu.nextConversation.on((()=>{p.log(u.LogTraceArea.ElectronStateStore,"menu-next-conversation triggered"),this.onNavigateToNextConversation.fire()})),this._api.ipcProvider.applicationMenu.presenceChange.on((e=>{const t=(0,c.mapElectronPresenceToUserStatus)(e);p.log(u.LogTraceArea.ElectronStateStore,`Updating presence to ${e} - ${t}`),this.onPresenceChange.fire(t)})),this._api.ipcProvider.app.settingsChanged.on((()=>{this.trigger()}))}};o.__decorate([r.autoSubscribe],v.prototype,"getIsSkypeDefaultTelApp",null),o.__decorate([r.autoSubscribe],v.prototype,"getUpdateStatus",null),o.__decorate([r.autoSubscribe],v.prototype,"getIsWindowMaximized",null),o.__decorate([r.autoSubscribe],v.prototype,"shouldShowUpdateBadge",null),o.__decorate([r.autoSubscribe],v.prototype,"shouldShowUpdateReminder",null),o.__decorate([r.autoSubscribe],v.prototype,"isMandatoryUpdate",null),o.__decorate([r.autoSubscribe],v.prototype,"getAppSettings",null),o.__decorate([r.autoSubscribe],v.prototype,"isAutoStartSupported",null),o.__decorate([r.autoSubscribe],v.prototype,"canControlAutoStart",null),v=o.__decorate([r.AutoSubscribeStore],v),t.default=new v},634376:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileTrackerStore=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=o.__importStar(i(397691)),s=i(419585),l=o.__importStar(i(47013)),c=o.__importStar(i(637961)),d=o.__importStar(i(446574)),u=i(123117);let p=class extends r.StoreBase{constructor(){super(),this._fileTrackerMetadata={},this._backgroundEffectFileTrackerMetadata={},this._startupDone=!1,this.getBackgroundEffectPrefix=e=>`${s.BACKGROUND_EFFECT_FILE_PREFIX}${e||""}`,this.removeTrackedFile=(e,t=!1)=>{this._removeFile(e,t)},this._removeFile=(e,t=!1)=>{if(!this._fileTrackerMetadata[e])return;const{localUri:i}=this._fileTrackerMetadata[e];delete this._fileTrackerMetadata[e],u.FileTrackerRepository.removeFileTrackerMetadata([e]),e.startsWith(s.BACKGROUND_EFFECT_FILE_PREFIX)&&delete this._backgroundEffectFileTrackerMetadata[e],t&&l.fileExists({fileUri:i}).then((e=>{e&&l.deleteImageFile(i)})),this.trigger(e)},d.RegisterStartupable(this,"FileDownloadStore")}startup(){const e=[];return c.default.queueIdleTask("FileDownloadStore",c.TaskTypeFlags.CpuIntensive,(()=>{u.FileTrackerRepository.getAllFileTrackerMetadata().then((t=>{a.all(n.map(t,(t=>{const i={fileUri:t.localUri,fileSizeInBytes:t.sizeInBytes,lastUpdatedTime:t.lastUpdatedTimestamp};return a.fromThenable(l.fileExists(i).then((i=>{i?(this._addFileInformationEntry(t),e.push(t.id)):u.FileTrackerRepository.removeFileTrackerMetadata([t.id])})))}))).then((()=>{this._startupDone=!0,this.trigger(e.concat(n.keys(this._fileTrackerMetadata)))}))}))})),Promise.resolve()}_addFileInformationEntry(e,t=!1){var i;this._fileTrackerMetadata[e.id]||((null===(i=e.id)||void 0===i?void 0:i.startsWith(s.BACKGROUND_EFFECT_FILE_PREFIX))&&(this._backgroundEffectFileTrackerMetadata[e.id]=e),this._fileTrackerMetadata[e.id]=e,this._startupDone&&this.trigger(e.id),t&&u.FileTrackerRepository.putFileTrackerMetadata([e]))}canTrackFiles(){return!1}getLocalUri(e){if(this._startupDone&&e){const t=this._fileTrackerMetadata[e];if(t){const i={fileUri:t.localUri,fileSizeInBytes:t.sizeInBytes,lastUpdatedTime:t.lastUpdatedTimestamp};return l.fileExists(i).then((t=>{t||this._removeFile(e)})),t.localUri}}}getAllBackgroundEffectsFiles(){return this._backgroundEffectFileTrackerMetadata}addFileInformationForTracking(e,t,i,o){if(!t)return;const n=e.startsWith(s.BACKGROUND_EFFECT_FILE_PREFIX)?this.getBackgroundEffectPrefix(t):e,r=Object.assign({id:n,localFileName:i,localUri:t},o);this._addFileInformationEntry(r,!0)}};t.FileTrackerStore=p,o.__decorate([r.disableWarnings],p.prototype,"canTrackFiles",null),o.__decorate([r.autoSubscribe,o.__param(0,r.key)],p.prototype,"getLocalUri",null),o.__decorate([r.autoSubscribe],p.prototype,"getAllBackgroundEffectsFiles",null),t.FileTrackerStore=p=o.__decorate([r.AutoSubscribeStore],p),t.default=new p},532016:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const o=i(197582);var n=i(634376);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.__importDefault(n).default}})},375369:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHubTabScrollStore=function(e){a[e]||(a[e]=new r);return a[e]};const o=i(197582),n=i(217041);let r=class extends n.StoreBase{constructor(){super(...arguments),this._scrollValue=0}getValue(){return this._scrollValue}setValue(e){this._scrollValue=e,this.trigger()}};o.__decorate([n.autoSubscribe],r.prototype,"getValue",null),r=o.__decorate([n.AutoSubscribeStore],r);const a={}},671210:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=o.__importDefault(i(847293)),s=i(217041),l=o.__importDefault(i(150343)),c=i(157013),d=i(815146),u=o.__importStar(i(85385)),p=o.__importStar(i(453353)),g=i(186907),h=i(548056),m=o.__importDefault(i(601274));var S;!function(e){e[e.Cached=0]="Cached",e[e.NotCached=1]="NotCached",e[e.QueryingCache=2]="QueryingCache",e[e.Prefetching=3]="Prefetching",e[e.PrefetchFailed=4]="PrefetchFailed"}(S||(S={}));let _=class extends s.StoreBase{constructor(){super(),this._imageStatus={},this._prefetchIfNotCached={},this._retryPrefetchData={},p.default.subscribe((()=>{p.default.isConnected()&&r.each(r.keys(this._retryPrefetchData),(e=>{const t=this._retryPrefetchData[e].urlsToTrigger,i=this._retryPrefetchData[e].timeoutId;m.default.clearTimeout(i),delete this._retryPrefetchData[e],this._retryPrefetch(e,t,this._getRetryCount())}))}));const e=()=>{const e=l.default.getS4LMessagingFeaturesNoSubscription().imageCaching.queryCacheInFlightLimit;a.default.setQueryCacheInFlightLimit(e)};l.default.subscribe(e),e()}_getCurrentTime(){return Math.floor(Date.now()/1e3)}_getStatus(e){const t=l.default.getS4LMessagingFeaturesNoSubscription().imageCaching.cachedStatusMaxAge;if(this._imageStatus[e]){if(!(this._imageStatus[e].status===S.Cached&&this._imageStatus[e].timeCached+t<this._getCurrentTime()))return this._imageStatus[e].status;delete this._imageStatus[e]}}_setStatus(e,t){this._imageStatus[e]={status:t,timeCached:t===S.Cached?this._getCurrentTime():0}}_getChangedSize(e,t){return r.assign({},e,{size:t})}_getSizes(e,t,i,o){const n=[];return r.each((0,h.getEmoticonSizes)(),(r=>{(r<e.size&&t||r===e.size&&i||r>e.size&&o)&&n.push(this._getChangedSize(e,r))})),n}_getSmallerSizes(e){return this._getSizes(e,!0,!1,!1)}_getLargerSizes(e){return this._getSizes(e,!1,!1,!0)}_getAlternateSizes(e){return e.type===g.EmoticonType.Static?this._getSmallerSizes(e).concat(this._getLargerSizes(e)):[]}_getUrlsToTrigger(e){const t=[e];return e.type===g.EmoticonType.Static&&t.push(...this._getLargerSizes(e)),r.filter(r.map(t,(e=>(0,c.getUrl)(e))),(e=>this._isTrackingKey(e)))}_getRequestResult(e,t){return{requestedIcon:e,result:t}}_getPlaceholder(e){return this._getRequestResult(e,void 0)}_getIntermediateResult(e,t){return this._getRequestResult(e,{icon:t,type:g.ResultIconType.Intermediate})}_getFinalResult(e,t){return this._getRequestResult(e,{icon:t,type:g.ResultIconType.Final})}_getBestIcon(e){const t=this._getStatus((0,c.getUrl)(e));if(t===S.Cached)return this._getFinalResult(e,e);let i=r.filter(this._getAlternateSizes(e),(e=>this._getStatus((0,c.getUrl)(e))===S.Cached));if(0===i.length)return t===S.QueryingCache?this._getIntermediateResult(e,e):this._getPlaceholder(e);i=r.orderBy(i,["size"],["desc"]);const o=i[0];return o.size>=e.size?this._getFinalResult(e,o):this._getIntermediateResult(e,o)}_markImageCached(e,t){this._setStatus(e,S.Cached),u.log(d.LogTraceArea.ImageCachingStore,`New image cached: ${n.pii.Omit(e)}, triggering ${t.length} URL(s).`),this.trigger(t)}_getRetryCount(){return p.default.getConnectionStatus()===p.ConnectionStatus.DisconnectedNoNetworkingReported?l.default.getS4LMessagingFeaturesNoSubscription().imageCaching.prefetchRetryCountNoConnection:l.default.getS4LMessagingFeaturesNoSubscription().imageCaching.prefetchRetryCount}_retryPrefetch(e,t,i){this._isTrackingKey(e)?this._prefetch(e,t,i):this._setStatus(e,S.NotCached)}_handlePrefetchFailure(e,t){if(u.log(d.LogTraceArea.ImageCachingStore,`Prefetch failed: ${n.pii.Omit(e)}`),this._isTrackingKey(e)){this._setStatus(e,S.PrefetchFailed),this.trigger(t);const i=l.default.getS4LMessagingFeaturesNoSubscription().imageCaching.prefetchRetryLongDelay,o=m.default.setTimeout((()=>{delete this._retryPrefetchData[e],this._retryPrefetch(e,t,this._getRetryCount())}),i);this._retryPrefetchData[e]={urlsToTrigger:t,timeoutId:o}}else this._setStatus(e,S.NotCached)}_prefetch(e,t,i=1){u.log(d.LogTraceArea.ImageCachingStore,`Prefetching ${n.pii.Omit(e)}, ${i} retries left.`),this._setStatus(e,S.Prefetching);const o=l.default.getS4LMessagingFeaturesNoSubscription().imageCaching.prefetchRetryShortDelay;a.default.prefetch(e).then((()=>{this._markImageCached(e,t)})).catch((()=>{i>1?m.default.setTimeout((()=>{this._retryPrefetch(e,t,i-1)}),o):this._handlePrefetchFailure(e,t)}))}_queryCache(e){r.each(e,(e=>{this._setStatus(e.url,S.QueryingCache)}));const t=r.map(e,(e=>e.url));a.default.queryCache(t).then((t=>{r.each(e,(e=>{const i=e.url;-1!==t.indexOf(i)?(this._prefetchIfNotCached[i]&&delete this._prefetchIfNotCached[i],this._markImageCached(i,e.urlsToTrigger)):this._prefetchIfNotCached[i]?(delete this._prefetchIfNotCached[i],this._prefetch(i,e.urlsToTrigger,this._getRetryCount())):this._setStatus(i,S.NotCached)}))}))}_queryCacheEmoticon(e,t){const i=[e];if(t){const t=r.filter(this._getAlternateSizes(e),(e=>void 0===this._getStatus((0,c.getUrl)(e))));i.push(...t)}const o=r.map(i,(e=>({url:(0,c.getUrl)(e),urlsToTrigger:this._getUrlsToTrigger(e)})));this._queryCache(o)}requestEmoticon(e,t){switch(this._getStatus(e)){case S.Cached:return this._getFinalResult(t,t);case S.NotCached:this._prefetch(e,this._getUrlsToTrigger(t),this._getRetryCount());break;case S.QueryingCache:this._prefetchIfNotCached[e]=!0;break;case S.Prefetching:case S.PrefetchFailed:break;case void 0:this._prefetchIfNotCached[e]=!0,this._queryCacheEmoticon(t,!0)}return this._getBestIcon(t)}requestEmoticons(e){return r.map(e,(e=>this.requestEmoticon((0,c.getUrl)(e),e)))}requestImage(e){switch(this._getStatus(e)){case S.Cached:return e;case S.NotCached:this._prefetch(e,[e],this._getRetryCount());break;case S.QueryingCache:this._prefetchIfNotCached[e]=!0;break;case S.Prefetching:case S.PrefetchFailed:break;case void 0:this._prefetchIfNotCached[e]=!0,this._queryCache([{url:e,urlsToTrigger:[e]}])}return this._getStatus(e)===S.Cached?e:void 0}};o.__decorate([s.autoSubscribe,o.__param(0,s.key)],_.prototype,"requestEmoticon",null),o.__decorate([s.autoSubscribe,o.__param(0,s.key)],_.prototype,"requestImage",null),_=o.__decorate([s.AutoSubscribeStore],_),t.default=new _},457468:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(295249)),a=(o.__importStar(i(516778)),i(217041)),s=o.__importStar(i(397691)),l=o.__importDefault(i(150343)),c=i(434343),d=o.__importDefault(i(228681)),u=i(815146),p=o.__importStar(i(85385)),g=o.__importDefault(i(652032)),h=o.__importDefault(i(453353)),m=o.__importStar(i(446574));let S=class extends a.StoreBase{constructor(){super(),this._reportedIsUsingGogoNetwork=!1,m.RegisterStartupable(this,"InFlightConnectionStore",[g.default,h.default])}startup(){return Promise.resolve()}isUsingGogoNetwork(){return this._reportedIsUsingGogoNetwork}isUsingGogoNetworkNoSubscription(){return this._reportedIsUsingGogoNetwork}_updateGogoConfig(){return this._gogoSettings=l.default.getConfigSettingsNoSubscription().gogo,this._onGogoNetworkChanged(),this._refreshSSID(!0)}_refreshSSID(e=!1){if(!this._gogoSettings.enabled)return s.Resolved();if(!h.default.isConnected())return s.Resolved();return r.default.getSSID().then((t=>{(t!==this._lastKnownSSID||e)&&(this._lastKnownSSID=t,this._refreshIsOnGoGoSSID(n.includes(this._gogoSettings.ssid,t)))})).catch((()=>{this._lastKnownSSID=void 0,this._refreshIsOnGoGoSSID(!1)}))}_refreshIsOnGoGoSSID(e){this._isOnGoGoSSID!==e&&(this._isOnGoGoSSID=e,p.log(u.LogTraceArea.InFlightConnectionStore,"isOnGoGoSSID = "+this._isOnGoGoSSID),g.default.putData(c.InternalKeys.IsOnGoGoSSID,this._isOnGoGoSSID),this._refreshECSService())}_refreshECSService(){p.log(u.LogTraceArea.InFlightConnectionStore,"Refreshing ECS"),d.default.requestUpdate()}_onGogoNetworkChanged(){const e=this._gogoSettings.enabled&&this._gogoSettings.isOnGogoIpRange;this._reportedIsUsingGogoNetwork!==e&&(p.log(u.LogTraceArea.InFlightConnectionStore,"_onGogoNetworkChanged: isGogoEnabled = "+this._gogoSettings.enabled+" isOnGogoIpRange = "+this._gogoSettings.isOnGogoIpRange),this._reportedIsUsingGogoNetwork=e,this.trigger())}};o.__decorate([a.autoSubscribe],S.prototype,"isUsingGogoNetwork",null),o.__decorate([a.disableWarnings],S.prototype,"isUsingGogoNetworkNoSubscription",null),S=o.__decorate([a.AutoSubscribeStore],S),t.default=new S},214295:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(331654),r=i(217041),a=i(154235),s=i(815146),l=o.__importStar(i(85385)),c=o.__importDefault(i(201721)),d=o.__importDefault(i(960282)),u=o.__importStar(i(446574));var p,g;!function(e){e[e.Default=0]="Default",e[e.None=1]="None"}(p||(p={})),function(e){e[e.isKeyboardSeen=0]="isKeyboardSeen"}(g||(g={}));let h=class extends r.StoreBase{constructor(){super(...arguments),this._resizeMode=p.Default,this._lastUpdateInfo={height:0},this._isCustomKeyboardVisibleAndroid=!1,this._customKeyboardHeightFixAndroid=0,this._customAndroidKeyboardVisible=()=>!1}setResizeMode(e){this._resizeMode!==e&&(this._resizeMode=e,l.log(s.LogTraceArea.Keyboard,"KeyboardAwareStore.setResizeMode: "+e),this.trigger())}setUpdateInfo(e){const t=this._lastUpdateInfo.height!==e.height;this._lastUpdateInfo=e,this._updateNativeKeyboardHeights(e),t&&(l.log(s.LogTraceArea.Keyboard,"KeyboardAwareStore.setUpdateInfo, height changed: "+e.height),this.trigger())}immediatelyResetUpdateInfo(){this.setUpdateInfo({height:0,duration:0,easing:"keyboard"})}setCustomKeyboardVisibilityAndroid(e){this._isCustomKeyboardVisibleAndroid!==e&&(this._isCustomKeyboardVisibleAndroid=e,this.trigger())}setCustomKeyboardFixHeightAndroid(e){l.log(s.LogTraceArea.Keyboard,"KeyboardAwareStore.setCustomKeyboardFixHeightAndroid: "+e),this._customKeyboardHeightFixAndroid=e,this.trigger()}getResizeMode(){return this._resizeMode}getResizeModeNoSubscription(){return this._resizeMode}getUpdateInfo(){return this._lastUpdateInfo}getCustomKeyboardHeightAndroid(){return this._isCustomKeyboardVisibleAndroid?this._customKeyboardHeightFixAndroid:0}isKeyboardSeen(){return this._isKeyboardSeen||this._lastUpdateInfo.height>0||this._customAndroidKeyboardVisible()}setKeyboardSeen(e){this._isKeyboardSeen=e,this.trigger(g.isKeyboardSeen)}usingIPadHardwareKeyboard(){return!1}_updateNativeKeyboardHeights(e){if(0===e.height)return;if(!u.HasStarted(c.default))return;const t=c.default.getNativeKeyboardHeightsNoSubscription(),i=d.default.getDeviceOrientation(a.MainRootViewId);i!==n.DeviceOrientation.Portrait||t&&t.potraitHeight&&e.height===t.potraitHeight||c.default.setNativeKeyboardHeights({potraitHeight:e.height,landscapeHeight:t?t.landscapeHeight:0}),i!==n.DeviceOrientation.Landscape||t&&t.landscapeHeight&&e.height===t.landscapeHeight||c.default.setNativeKeyboardHeights({potraitHeight:t?t.potraitHeight:0,landscapeHeight:e.height})}};o.__decorate([r.autoSubscribe],h.prototype,"getResizeMode",null),o.__decorate([r.autoSubscribe],h.prototype,"getUpdateInfo",null),o.__decorate([r.autoSubscribe],h.prototype,"getCustomKeyboardHeightAndroid",null),o.__decorate([(0,r.autoSubscribeWithKey)(g.isKeyboardSeen)],h.prototype,"isKeyboardSeen",null),o.__decorate([r.autoSubscribe],h.prototype,"usingIPadHardwareKeyboard",null),h=o.__decorate([r.AutoSubscribeStore],h),t.default=new h},612285:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(516778)),r=i(217041);let a=class extends r.StoreBase{constructor(){super(),this._isNavigatingWithKeyboard=n.UserInterface.isNavigatingWithKeyboard(),n.UserInterface.keyboardNavigationEvent.subscribe((e=>{this._isNavigatingWithKeyboard=e,this.trigger()}))}isNavigatingWithKeyboard(){return this._isNavigatingWithKeyboard}};o.__decorate([r.autoSubscribe],a.prototype,"isNavigatingWithKeyboard",null),a=o.__decorate([r.AutoSubscribeStore],a),t.default=new a},309055:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(217041),r=i(815146),a=o.__importStar(i(85385));let s=class extends n.StoreBase{constructor(){super(...arguments),this._shouldSkipMobileHub=!1}shouldSkipMobileHub(){return this._shouldSkipMobileHub}skipMobileHub(e){this._shouldSkipMobileHub||(a.log(r.LogTraceArea.Navigation,"LaunchNavigationStore: skipMobileHub causeId: "+e),this._shouldSkipMobileHub=!0,this.trigger())}stopSkippingMobileHub(e){this._shouldSkipMobileHub&&(a.log(r.LogTraceArea.Navigation,"LaunchNavigationStore: stopSkippingMobileHub causeId: "+e),this._shouldSkipMobileHub=!1,this.trigger())}};o.__decorate([n.autoSubscribe],s.prototype,"shouldSkipMobileHub",null),s=o.__decorate([n.AutoSubscribeStore],s);const l=new s;t.default=l},252089:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(516778)),r=i(217041),a=o.__importStar(i(397691)),s=o.__importDefault(i(150343)),l=i(434343),c=o.__importStar(i(725674)),d=o.__importStar(i(473483)),u=i(815146),p=o.__importStar(i(326544)),g=o.__importStar(i(235256)),h=o.__importStar(i(85385)),m=o.__importDefault(i(652032)),S=o.__importDefault(i(341994)),_=o.__importDefault(i(363091)),f=o.__importDefault(i(357377)),y=o.__importStar(i(446574)),C=o.__importDefault(i(655192)),v=i(16549),b=o.__importDefault(i(266872)),T=i(925890),P="MyUserColorStore";let k=class extends r.StoreBase{constructor(){super(),this._initializeColors=()=>f.default.getUiColorOption().then((e=>{h.log(u.LogTraceArea.ConversationColorStore,`Getting my color [${e}] from options service`)}),(e=>{h.warn(u.LogTraceArea.ConversationColorStore,"Getting my color from the options service failed: "+C.default.errorAsString(e))})),y.RegisterStartupable(this,"MyUserColorStore",[p.default,m.default,S.default,b.default])}startup(){const e=this._getUserColorInfo();return this._colorInfo=e&&this._isValidColor(e)?e:d.getDefaultColorInfo(_.default.getSkypeMri()),this._useSecondaryAccent=c.shouldUseSecondaryAccentColor(this._colorInfo),h.log(u.LogTraceArea.ConversationColorStore,`My color from DB [${e&&e.key}], validated color [${this._colorInfo.key}]`),this._updateStyles(),g.default.setRefreshOptions(P,{interval:864e5,taskTypeFlags:g.TaskTypeFlags.UsesNetworking,callback:this._initializeColors}),p.default.isSetupWizardCompleted()||(g.default.fireEarly(P),this._firstRunStoreSubscriptionToken=p.default.subscribe((()=>{p.default.isSetupWizardCompleted()&&(this._evaluateUserColorPreferences(!0),this._firstRunStoreSubscriptionToken&&p.default.unsubscribe(this._firstRunStoreSubscriptionToken))}),p.TriggerKeys.SetupWizard)),S.default.subscribe((()=>this._evaluateUserColorPreferences(!0))),b.default.subscribe((()=>{let e=!1;this._evaluateUserColorPreferences();const t=c.shouldUseSecondaryAccentColor(this._colorInfo);t!==this._useSecondaryAccent&&(this._useSecondaryAccent=t,e=!0),e&&(h.log(u.LogTraceArea.ConversationColorStore,"Triggering color update for theme change"),this._updateStyles(),this.trigger())})),a.Resolved()}_evaluateUserColorPreferences(e=!1){const t=this._getUserColorInfo();t&&t.key!==this._colorInfo.key&&(this._colorInfo=t,this._updateStyles(),e&&this.trigger())}getColorInfo(e=!1){return this._intColorInfo(e)}getGradientColors(e=!1){return this._computeGradientColors(e)}getReversedGradientColors(e=!1){return d.reverseGradientColorsForColorInfo(this._intColorInfo(e))}getButtonGradientColors(){return this.getReversedGradientColors()}getHoverGradientColors(e=!1){return d.gradientHoverColorsForColorInfo(this._intColorInfo(e))}getSubtleGradientColors(e=!1){return this._computeSubtleGradientColors(e)}getPrimaryColor(){return this.getPrimaryColorNoSubscription()}getPrimaryBackgroundColorStyle(){return this.getBackgroundColorStyleNoSubscription()}getPrimaryBorderColorStyle(){return this.getBorderColorStyleNoSubscription()}getPrimaryTextColorStyle(){return this.getTextColorStyleNoSubscription()}getCurrentSearchResultBackgroundColor(){return this._currentSearchResultBackgroundColor}getCurrentSearchResultTextColor(){return this._getCurrentSearchResultTextColor()}getSearchResultsBackgroundColor(e=!1){return this._getSearchResultsBackgroundColor(e)}getSearchResultsTextColor(e=!1){return this._getSearchResultsTextColor(e)}getColorInfoNoSubscription(e=!1){return this._intColorInfo(e)}getPrimaryColorNoSubscription(){return this._accentColor()}getBackgroundColorStyleNoSubscription(){return this._primaryBackgroundColorStyle}getBorderColorStyleNoSubscription(){return this._primaryBorderColorStyle}getTextColorStyleNoSubscription(){return this._textColorStyle}getGradientColorsNoSubscription(e=!1){return this._computeGradientColors(e)}getGradientSubtleColorsNoSubscription(e=!1){return this._computeSubtleGradientColors(e)}setUserColor(e,t){if(e===this._colorInfo||!this._isValidColor(e))return;h.log(u.LogTraceArea.ConversationColorStore,`Setting my color to [${e.key}] causeId: ${t}`),this._colorInfo=e,this._updateStyles();const i=(0,T.serializeUserColor)(e);f.default.setUiColorOption(i),m.default.putData(l.InternalKeys.MyUserColor,i),s.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences&&S.default.setUserAppearancePreferencesForCurrentPlatform({colorInfo:i}),this.trigger()}refreshNow(e){h.log(u.LogTraceArea.ConversationColorStore,`refreshNow causeId: ${e}`),y.EnsureStarted(this).then((()=>{g.default.fireEarly(P)}))}_accentColor(){return c.accentColorForColorInfo(this._intColorInfo(),this._useSecondaryAccent)}_isValidColor(e){return!!e&&!d.isMatchingColorInfo(e,d.SerializedColorByNumber.Rainbow)}_updateStyles(){const e=this.getPrimaryColorNoSubscription(),t=this.getColorInfo();this._primaryBackgroundColorStyle=n.Styles.createViewStyle({backgroundColor:e},!1),this._searchResultsBackgroundColor=b.default.isDarkThemeNoSubscription()?v.Color.gray200:v.Color.gray400,this._currentSearchResultBackgroundColor="yellow"===t.key||"rose"===t.key||b.default.isAccessibleTheme()?v.Color.blue:v.Color.yellow,this._currentSearchResultTextColor="yellow"===t.key||"rose"===t.key?v.Color.white:v.Color.black,this._searchResultsTextColor=b.default.isDarkThemeNoSubscription()?v.Color.black:v.Color.white,this._primaryBorderColorStyle=n.Styles.createViewStyle({borderColor:e},!1),this._textColorStyle=n.Styles.createTextStyle({color:e},!1)}_computeGradientColors(e=!1){return d.gradientColorsForColorInfo(this._intColorInfo(e))}_computeSubtleGradientColors(e=!1){const t=this._intColorInfo(e);return t.colors=d.gradientColorsForColors(t.colors),d.subtleGradientColorsForColorInfo(t)}_intColorInfo(e=!1){return e?this._colorInfo:this._colorInfo||(0,T.constructLegacyColorInfo)("blue",(0,T.getSkypeGradients)("blue",b.default.isDarkThemeNoSubscription()?"dark":"light").secondary,(0,T.getSkypePrimaryColors)("blue",b.default.isDarkThemeNoSubscription()?"dark":"light"))}_getCurrentSearchResultTextColor(){return b.default.isAccessibleTheme()?v.Color.gray100:this._currentSearchResultTextColor}_getSearchResultsBackgroundColor(e){return b.default.isAccessibleTheme()&&!e?b.default.isDarkThemeNoSubscription()?v.Color.gray400:v.Color.gray100:this._searchResultsBackgroundColor}_getSearchResultsTextColor(e){return b.default.isAccessibleTheme()&&!e?b.default.isDarkThemeNoSubscription()?v.Color.gray100:v.Color.gray400:this._searchResultsTextColor}_getUserColorInfo(){if(!p.default.isSetupWizardCompleted())return(0,T.constructLegacyColorInfo)("blue",(0,T.getSkypeGradients)("blue",b.default.isDarkThemeNoSubscription()?"dark":"light").secondary,(0,T.getSkypePrimaryColors)("blue",b.default.isDarkThemeNoSubscription()?"dark":"light"));const e=s.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences?S.default.getUserAppearancePreferencesForCurrentPlatform():{};let t;return t=e&&e.colorInfo?e.colorInfo:m.default.getData(l.InternalKeys.MyUserColor),(0,T.deserializeUserColor)(t,b.default.isDarkThemeNoSubscription()?"dark":"light",e.colorTheme)}};o.__decorate([r.autoSubscribe],k.prototype,"getColorInfo",null),o.__decorate([r.autoSubscribe],k.prototype,"getGradientColors",null),o.__decorate([r.autoSubscribe],k.prototype,"getReversedGradientColors",null),o.__decorate([r.autoSubscribe],k.prototype,"getButtonGradientColors",null),o.__decorate([r.autoSubscribe],k.prototype,"getHoverGradientColors",null),o.__decorate([r.autoSubscribe],k.prototype,"getSubtleGradientColors",null),o.__decorate([r.autoSubscribe],k.prototype,"getPrimaryColor",null),o.__decorate([r.autoSubscribe],k.prototype,"getPrimaryBackgroundColorStyle",null),o.__decorate([r.autoSubscribe],k.prototype,"getPrimaryBorderColorStyle",null),o.__decorate([r.autoSubscribe],k.prototype,"getPrimaryTextColorStyle",null),o.__decorate([r.autoSubscribe],k.prototype,"getCurrentSearchResultBackgroundColor",null),o.__decorate([r.autoSubscribe],k.prototype,"getCurrentSearchResultTextColor",null),o.__decorate([r.autoSubscribe],k.prototype,"getSearchResultsBackgroundColor",null),o.__decorate([r.autoSubscribe],k.prototype,"getSearchResultsTextColor",null),o.__decorate([r.disableWarnings],k.prototype,"getBackgroundColorStyleNoSubscription",null),o.__decorate([r.disableWarnings],k.prototype,"getTextColorStyleNoSubscription",null),k=o.__decorate([r.AutoSubscribeStore],k),t.default=new k},226216:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerKeys=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=i(224958),s=i(815146),l=o.__importStar(i(85385)),c=o.__importDefault(i(357377)),d=i(859993);t.TriggerKeys=d.OptionServiceOptions;let u=class extends r.StoreBase{constructor(){super(...arguments),this._preferences={},this._fetchPromises={}}isEmailMissedCallRemindersEnabled(){if(this._getPreference(t.TriggerKeys.EmailMissedCallReminders))return this._getPreference(t.TriggerKeys.EmailMissedCallReminders)===d.EmailMissedRemindersOptionValue.Enabled;this._fetchEmailMissedContentOptionsAndTrigger()}isEmailMissedMessageRemindersEnabled(){if(this._getPreference(t.TriggerKeys.EmailMissedMessageReminders))return this._getPreference(t.TriggerKeys.EmailMissedMessageReminders)===d.EmailMissedRemindersOptionValue.Enabled;this._fetchEmailMissedContentOptionsAndTrigger()}setEmailMissedCallRemindersEnabled(e){const i=e?d.EmailMissedRemindersOptionValue.Enabled:d.EmailMissedRemindersOptionValue.Disabled;return c.default.setEmailMissedContentOption(d.OptionServiceOptions.EmailMissedCallReminders,i).then((()=>{l.log(s.LogTraceArea.PreferencesStores,`Setting ${t.TriggerKeys.EmailMissedCallReminders} to ${i}.`),l.track(new a.EngagementSettingsTelemetryEvent({source:a.EngagementSettingsSource.EmailMissedCallReminders,isToggled:i===d.EmailMissedRemindersOptionValue.Enabled})),this._setPreference(t.TriggerKeys.EmailMissedCallReminders,i),this.trigger(t.TriggerKeys.EmailMissedCallReminders)}))}setEmailMissedMessageRemindersEnabled(e){const i=e?d.EmailMissedRemindersOptionValue.Enabled:d.EmailMissedRemindersOptionValue.Disabled;return c.default.setEmailMissedContentOption(d.OptionServiceOptions.EmailMissedMessageReminders,i).then((()=>{l.log(s.LogTraceArea.PreferencesStores,`Setting ${t.TriggerKeys.EmailMissedMessageReminders} to ${i}.`),l.track(new a.EngagementSettingsTelemetryEvent({source:a.EngagementSettingsSource.EmailMissedMessageReminders,isToggled:i===d.EmailMissedRemindersOptionValue.Enabled})),this._setPreference(t.TriggerKeys.EmailMissedMessageReminders,i),this.trigger(t.TriggerKeys.EmailMissedMessageReminders)}))}_fetchEmailMissedContentOptionsAndTrigger(){if(this._fetchPromises[t.TriggerKeys.EmailMissedCallReminders]||this._fetchPromises[t.TriggerKeys.EmailMissedMessageReminders])return;const e=c.default.getEmailMissedContentOptions();this._fetchPromises[t.TriggerKeys.EmailMissedCallReminders]=this._fetchPromises[t.TriggerKeys.EmailMissedMessageReminders]=e,e.then((e=>{e&&(n.each(e.options,(e=>this._setPreference(e.name,e.value))),this.trigger([t.TriggerKeys.EmailMissedCallReminders,t.TriggerKeys.EmailMissedMessageReminders]))})).always((()=>{delete this._fetchPromises[t.TriggerKeys.EmailMissedCallReminders],delete this._fetchPromises[t.TriggerKeys.EmailMissedMessageReminders]}))}_getPreference(e){return this._preferences[e]}_setPreference(e,t){this._preferences[e]=t}test_reset(){this._preferences={}}};o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.EmailMissedCallReminders)],u.prototype,"isEmailMissedCallRemindersEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.EmailMissedMessageReminders)],u.prototype,"isEmailMissedMessageRemindersEnabled",null),u=o.__decorate([r.AutoSubscribeStore],u),t.default=new u},201721:(e,t,i)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.LocalPreferencesTriggerKeys=void 0;const n=i(197582),r=n.__importStar(i(496486)),a=i(331654),s=(n.__importDefault(i(900407)),i(217041)),l=n.__importStar(i(397691)),c=n.__importDefault(i(150343)),d=i(952408),u=i(284841),p=i(434343),g=i(224958),h=i(815146),m=i(120695),S=n.__importStar(i(85385)),_=n.__importDefault(i(652032)),f=n.__importDefault(i(114818)),y=n.__importStar(i(704704)),C=i(954225),v=n.__importStar(i(196761)),b=i(389896),T=i(859993),P=i(130706),k=(n.__importDefault(i(506082)),i(967338)),A=n.__importStar(i(446574)),I=n.__importDefault(i(655192)),w=n.__importDefault(i(139221)),x=i(843890),N=n.__importDefault(i(760989)),D=i(136464),M=i(960178);var L;!function(e){e[e.speechConsentTranslator=0]="speechConsentTranslator",e[e.speechConsentSuggestion=1]="speechConsentSuggestion"}(L||(t.LocalPreferencesTriggerKeys=L={}));const R="__all",E="_banner";let B=o=class extends s.StoreBase{constructor(){super(),this._preferencesLocal={},A.RegisterStartupable(this,"MyUserPreferencesLocalStore",[_.default])}startup(){const e=_.default.getData(p.InternalKeys.PrefsLocal);this._preferencesLocal=e||{},e&&e.locale?(y.setLocale(e.locale),S.log(h.LogTraceArea.PreferencesStores,`Locale set from user preferences to [${e.locale}]`)):("undefined"!=typeof window&&void 0!==window.electronApi&&window.electronApi.ipcProvider.localisation.resetLocale.invoke(),S.log(h.LogTraceArea.PreferencesStores,"Locale set without user preferences to system default")),e&&e.rtl&&y.forceRTL(!0);e&&(!e.fileDownloadPathDesktop||e.fileDownloadDisplayNameDesktop),c.default.getS4LMessagingFeaturesNoSubscription().enableCustomFileDownloadLocation;return this.trigger(),l.Resolved()}reset(){this._preferencesLocal={},_.default.putData(p.InternalKeys.PrefsLocal,this._preferencesLocal),this.trigger()}getDefaultPreferences(){return o._defaultPrefs}isShakeAndSendDisabled(){var e;const t=null===(e=this.getUserPreferencesLocal().msaProfileKey)||void 0===e?void 0:e.ageGroup;if(b.MsaProfileHelper.isChild(t)||w.default.isChromeOS())return!0;const i=this._preferencesLocal.disableShakeAndSend;if(!r.isUndefined(i))return S.log(h.LogTraceArea.PreferencesStores,`isShakeAndSendDisabled(): ${i}`),i;const o=c.default.getConfigSettings().brb.disableShakeAndSendByDefault;return S.log(h.LogTraceArea.PreferencesStores,`isShakeAndSendDisabled(): ${o} (default)`),o}setDisableShakeAndSend(e){this.setUserPreferencesLocal({disableShakeAndSend:e},!1)}getCommerceCounters(){return this.getUserPreferencesLocal().commerceCounters}setCommerceCounters(e){this.setUserPreferencesLocal({commerceCounters:e},!1)}getContactsPrivacyNoticeBannerMountedCount(){return this.getUserPreferencesLocal().contactsPrivacyNoticeBannerMountedCount}setContactsPrivacyNoticeBannerMountedCount(e){this.setUserPreferencesLocal({contactsPrivacyNoticeBannerMountedCount:e},!1)}getUserPreferencesLocal(){return r.extend({},o._defaultPrefs,this._preferencesLocal)}getUserPreferencesLocalNoSubscription(){return r.extend({},o._defaultPrefs,this._preferencesLocal)}internal_getUserPreferencesLocalDefaults(){return r.extend({},o._defaultPrefs)}getUserPreferencesForConversationLocal(e){return(this.getUserPreferencesLocal().conversationPrefs||{})[e]||{}}setSendOptionalTelemetryData(e){this.setUserPreferencesLocal({sendOptionalTelemetry:e})}shouldSendOptionalTelemetryData(){if(!x.UICapabilities.telemetryConsentOptOutSupported())return!0;const e=this._preferencesLocal.sendOptionalTelemetry;return!r.isUndefined(e)&&(S.log(h.LogTraceArea.PreferencesStores,`shouldSendOptionalTelemetryData(): ${e}`),e)}setIsTelemetryConsentOnboardingCompleted(e){this.setUserPreferencesLocal({isTelemetryConsentOnboardingCompleted:e})}isTelemetryConsentOnboardingCompleted(){if(!x.UICapabilities.telemetryConsentOptOutSupported())return!0;const e=this._preferencesLocal.isTelemetryConsentOnboardingCompleted;return!r.isUndefined(e)&&(S.log(h.LogTraceArea.PreferencesStores,`isTelemetryConsentOnboardingCompleted(): ${e}`),e)}setUserPreferencesLocal(e,t=!0){const i=N.default.deepExtendIgnoringNulls(this._preferencesLocal,e);if(!(0,f.default)(this._preferencesLocal,i))if(this._preferencesLocal.allowHugeEmoticons!==i.allowHugeEmoticons&&S.track(new P.PesSettingsEvent(!!i.allowHugeEmoticons,c.default.getS4LMessagingFeatures().singleEmoticonSize,c.default.getS4LMessagingFeatures().emoticonsOnlyEmoticonSize)),this._preferencesLocal.enableInAppEngagementNotifications!==i.enableInAppEngagementNotifications&&S.track(new g.EngagementSettingsTelemetryEvent({source:g.EngagementSettingsSource.TipsAndTricks,isToggled:!!i.enableInAppEngagementNotifications})),this._preferencesLocal.enablePushEngagementNotifications!==i.enablePushEngagementNotifications&&S.track(new g.EngagementSettingsTelemetryEvent({source:g.EngagementSettingsSource.TipsAndTricksPush,isToggled:!!i.enablePushEngagementNotifications})),this._preferencesLocal.allowCallsFromContactsOnly!==i.allowCallsFromContactsOnly&&S.track(new k.CallingSettingsEvent("AllowCallsFromContactsOnly",!!i.allowCallsFromContactsOnly)),this._preferencesLocal.openUrlInExternalBrowser!==i.openUrlInExternalBrowser&&S.track(new v.OpenLinksInSkype(!i.openUrlInExternalBrowser)),this._preferencesLocal=i,_.default.putData(p.InternalKeys.PrefsLocal,this._preferencesLocal).fail((t=>{t instanceof d.CalledBeforeStartupError&&(S.track(new m.FundamentalsDebugEvent("PutDataBeforeStartup",(0,u.chain)((0,u.keys)(e),(0,u.sortBy)(r.identity),(0,u.join)(",")))),S.log(h.LogTraceArea.PreferencesStores,t.message))})),t)S.log(h.LogTraceArea.PreferencesStores,"setUserPreferencesLocal(): Triggering all keys"),this.trigger(R);else{const t=Object.keys(e);S.log(h.LogTraceArea.PreferencesStores,`setUserPreferencesLocal(): Triggering individual keys: ${t}`),this.trigger(t)}}getCoachMarksSeen(){const e=this.getUserPreferencesLocal().seenCoachMarks,t=e?I.default.parseJsonErrorable(e):void 0;if(!r.isError(t)){if(t&&!r.isArray(t)){let e=[];return r.each(t,(t=>e=r.union(e,t))),e}return t}S.warn(h.LogTraceArea.PreferencesStores,"Failed to parse seenCoachMark local preference.")}setCoachMarksSeen(e){this.setUserPreferencesLocal({seenCoachMarks:e&&JSON.stringify(e)},!1)}getLastOpenedTabForUser(e){return(this.getUserPreferencesLocal().lastOpenedTabs||{})[e]}setLastOpenedTabForUser(e,t){const i=r.cloneDeep(this.getUserPreferencesLocal().lastOpenedTabs||{});i[e]=t,this.setUserPreferencesLocal({lastOpenedTabs:i},!1)}removeLastUsedBackgroundEffects(){return this.setUserPreferencesLocal({lastUsedBackgroundEffects:void 0})}setAllLastUsedBackgroundEffects(e){return this.setUserPreferencesLocal({lastUsedBackgroundEffects:JSON.stringify(e)})}setLastUsedBackgroundEffects(e){const t=this.getUserPreferencesLocal().lastUsedBackgroundEffects,i=I.default.parseJsonWithDefault(t,[]);if(-1!==i.indexOf(e))return;const{numberOfVisibleLastUsedEffects:o}=c.default.getS4LCMCFeaturesNoSubscription();return i.length>=c.default.getS4LCMCFeaturesNoSubscription().numberOfVisibleLastUsedEffects?this.setUserPreferencesLocal({lastUsedBackgroundEffects:JSON.stringify([...i.slice(-(o-1)),e])}):this.setUserPreferencesLocal({lastUsedBackgroundEffects:JSON.stringify([...i,e])})}getLastUsedBackgroundEffects(){return I.default.parseJsonWithDefault(this.getUserPreferencesLocal().lastUsedBackgroundEffects,[])}getLastMessageAuthorAvatarSwitchedOn(){const e=this._preferencesLocal.lastMessageAuthorAvatarEnabled;return!!r.isUndefined(e)||e}getTodayTabToggledButtonSwitchedOn(){const e=c.default.getS4LCommerceFeatures().todayTab.enabled,t=this._preferencesLocal.todayTabToggleButtonEnabled;return null!=t?t:e}getMessageStreamFontSize(){let e;const t=this.getUserPreferencesLocal().fontSizeMultiplier;if(1!==t){switch(t){case.8:e=C.MessageStreamFontSize.Smaller;break;case.9:e=C.MessageStreamFontSize.Small;break;case 1.1:e=C.MessageStreamFontSize.Large;break;case 1.2:e=C.MessageStreamFontSize.Larger}this.setUserPreferencesLocal({fontSizeMultiplier:1}),this.setUserPreferencesLocal({messageStreamFontSize:e})}else e=this.getUserPreferencesLocal().messageStreamFontSize;return e||C.MessageStreamFontSize.Normal}getOnlineNotificationsSelected(){return this.getUserPreferencesLocal().onlineNotifications||M.OnlineNotifications.Long}getOnlineNotificationsMigrated(){return this.getUserPreferencesLocal().onlineNotificationsMigrated}getNativeKeyboardHeights(){return this.getUserPreferencesLocal().nativeKeyboardHeights}getNativeKeyboardHeightsNoSubscription(){return this.getUserPreferencesLocalNoSubscription().nativeKeyboardHeights}setNativeKeyboardHeights(e){this.setUserPreferencesLocal({nativeKeyboardHeights:e},!1)}getNativeKeyboardHeight(e){const t=this.getNativeKeyboardHeightsNoSubscription();return e===a.DeviceOrientation.Portrait?t?t.potraitHeight:void 0:e===a.DeviceOrientation.Landscape&&t?t.landscapeHeight:void 0}setCallPreviewMicSettings(e){this.setUserPreferencesLocal({callPreviewMicSetting:e})}setCallPreviewCameraSettings(e){this.setUserPreferencesLocal({callPreviewCameraSetting:e})}setFileDownloadPath(e){this.setUserPreferencesLocal({fileDownloadPathDesktop:e.path,fileDownloadDisplayNameDesktop:"Downloads"})}setSpeechConsentForTranslator(e){this.setUserPreferencesLocal({speechConsentTranslator:e}),this.trigger([L.speechConsentTranslator,L.speechConsentSuggestion])}getSpeechConsentForTranslator(){return this.getUserPreferencesLocal().speechConsentTranslator}setCallsWithTranslatorCount(e){this.setUserPreferencesLocal({callsWithTranslatorCount:e}),this.trigger(L.speechConsentSuggestion)}getMainWindowLastBoundsBeforeLogout(){return this.getUserPreferencesLocalNoSubscription().mainWindowLastBoundsBeforeLogout}setMainWindowLastBoundsBeforeLogout(e){this.setUserPreferencesLocal({mainWindowLastBoundsBeforeLogout:e})}getTogetherModeNoticePresentedForCallId(){return this.getUserPreferencesLocal().togetherModeNoticePresentedForCallId}setTogetherModeNoticePresentedForCallId(e){this.setUserPreferencesLocal({togetherModeNoticePresentedForCallId:e})}getMusicModeNoticePresentedForCallId(){return this.getUserPreferencesLocal().musicModeNoticePresentedForCallId}setMusicModeNoticePresentedForCallId(e){this.setUserPreferencesLocal({musicModeNoticePresentedForCallId:e})}getMsaTokenKey(){return this.getUserPreferencesLocal().msaTokenKeychainKey}setMsaTokenKey(e){this.setUserPreferencesLocal({msaTokenKeychainKey:e})}isMyBotTooltipVisibleNoSubscription(){return this.getUserPreferencesLocal().myBotTooltipShow}setMyBotTooltipVisible(e){this.setUserPreferencesLocal({myBotTooltipShow:e})}isE911LocationConsentGranted(){return this.getUserPreferencesLocal().isE911LocationConsentGranted}setE911LocationConsentGranted(e){this.setUserPreferencesLocal({isE911LocationConsentGranted:e}),S.log(h.LogTraceArea.Phone,"Setting E911 location consent, granted="+e)}isMediaBarNewItemSeen(e){var t;return!!(null===(t=this.getUserPreferencesLocal().mediaBarNewItemsSeen)||void 0===t?void 0:t[e])}setMediaBarNewItemSeen(e,t){S.log(h.LogTraceArea.MediaBarItem,"Setting media bar new item, id="+e+", seen="+t),this.setUserPreferencesLocal({mediaBarNewItemsSeen:{[e]:t}})}isEngagementTooltipSeen(e){var t;return!!(null===(t=this.getUserPreferencesLocal().engagementTooltipsSeen)||void 0===t?void 0:t[e])}setEngagementTooltipSeen(e,t){S.log(h.LogTraceArea.PreferencesStores,`Setting engagement tooltip seen, tooltipType=${e}, isSeen=${t}`),this.setUserPreferencesLocal({engagementTooltipsSeen:{[e]:t}})}getBannerActionOptions(e){var t;const i=null===(t=this.getUserPreferencesLocal().bannersActionOptions)||void 0===t?void 0:t[e];return null!=i?i:{closed:!1,actionClickCount:0,showCount:0}}setBannerActionOptions(e,t,i,o){var n,r;const a=null!==(r=null===(n=this.getUserPreferencesLocal())||void 0===n?void 0:n.bannersActionOptions)&&void 0!==r?r:{},s={closed:t,actionClickCount:i,showCount:o},l=Object.assign(Object.assign({},a),{[e]:s});this.setUserPreferencesLocal({bannersActionOptions:l},!1),this.trigger(E)}getFullScreenToolTipShowTime(){var e;return null!==(e=this.getUserPreferencesLocal().fullScreenTooltipShowTimes)&&void 0!==e?e:0}increaseFullScreenToolTipShowTime(){this.setUserPreferencesLocal({fullScreenTooltipShowTimes:this.getFullScreenToolTipShowTime()+1})}getUserAttributionFromEagle(){return this.getUserPreferencesLocal().userAttributionInfoFromEagle}setUserAttributionFromEagle(e){this.setUserPreferencesLocal({userAttributionInfoFromEagle:e})}getClipLastInteraction(){var e;return null!==(e=this.getUserPreferencesLocal().recordClipLastInteraction)&&void 0!==e?e:Date.now()}getClipLastTooltipShown(){var e;return null!==(e=this.getUserPreferencesLocal().recordClipLastTooltipShown)&&void 0!==e?e:0}getClipsUpsellLastInteraction(){var e;return null!==(e=this.getUserPreferencesLocal().clipsUpsellLastInteraction)&&void 0!==e?e:0}recordClipsUpsellInteraction(){this.setUserPreferencesLocal({clipsUpsellLastInteraction:Date.now()})}getRecordedClipFromCreateButton(){var e;return null!==(e=this.getUserPreferencesLocal().recordedClipFromCreateButton)&&void 0!==e&&e}getClipsLeftNavigationClickCount(){var e;return null!==(e=this.getUserPreferencesLocal().clipsLeftNavigationClickCount)&&void 0!==e?e:0}increaseClipsLeftNavigationClickCount(){this.setUserPreferencesLocal({clipsLeftNavigationClickCount:this.getClipsLeftNavigationClickCount()+1})}setRecordedClipFromCreateButton(e){S.log(h.LogTraceArea.PreferencesStores,`Setting recorded clip from create button: ${e}`),this.setUserPreferencesLocal({recordedClipFromCreateButton:!0,recordClipLastInteraction:Date.now()})}getRecordedClipFromChatButton(){var e;return null!==(e=this.getUserPreferencesLocal().recordedClipFromChatButton)&&void 0!==e&&e}setRecordedClipFromChatButton(e){S.log(h.LogTraceArea.PreferencesStores,`Setting recorded clip from chat button: ${e}`),this.setUserPreferencesLocal({recordedClipFromChatButton:!0,recordClipLastInteraction:Date.now()})}getTimesClipTooltipWasShown(){var e;return null!==(e=this.getUserPreferencesLocal().timesClipTooltipWasShown)&&void 0!==e?e:0}recordClipTooltipShown(){const e=this.getTimesClipTooltipWasShown()+1;S.log(h.LogTraceArea.PreferencesStores,`Setting times the clips tooltip was shown: ${e}`),this.setUserPreferencesLocal({timesClipTooltipWasShown:e,recordClipLastTooltipShown:Date.now()})}getUserClipsCount(){return this.getUserPreferencesLocal().clipsVideoCount}setUserClipsCount(e,t){this.setUserPreferencesLocal({clipsVideoCount:{userClipsCount:e,maxVideosAllowed:t,creationDate:(new Date).toISOString()}})}getNotificationPromptAppearTimes(){var e;return null!==(e=this.getUserPreferencesLocal().notificationPromptAppearTimes)&&void 0!==e?e:0}setNotificationPromptAppearTimes(e){this.setUserPreferencesLocal({notificationPromptAppearTimes:e})}getNotificationPermissionDeniedTimestamp(){var e;return null!==(e=this.getUserPreferencesLocal().notificationPermissionDeniedTimestamp)&&void 0!==e?e:0}setNotificationPermissionDeniedTimestamp(e){this.setUserPreferencesLocal({notificationPermissionDeniedTimestamp:e})}getNotificationPromptClosedTimes(){var e;return null!==(e=this.getUserPreferencesLocal().notificationPromptClosedTimes)&&void 0!==e?e:0}getNotificationPromptClosedTimesNoSubscription(){var e;return null!==(e=this.getUserPreferencesLocal().notificationPromptClosedTimes)&&void 0!==e?e:0}setNotificationPromptClosedTimes(e){this.setUserPreferencesLocal({notificationPromptClosedTimes:e}),this.trigger("notificationPromptClosedTimes")}getBingUpsellSERPLastDismiss(){var e;return null!==(e=this.getUserPreferencesLocal().bingSERPUpsellLastDismiss)&&void 0!==e?e:0}getTimesBingUpsellSERPWasDismissed(){var e;return null!==(e=this.getUserPreferencesLocal().bingSERPUpsellTimesDismissed)&&void 0!==e?e:0}recordBingUpsellSERPDismissed(){const e=this.getTimesBingUpsellSERPWasDismissed()+1;S.log(h.LogTraceArea.PreferencesStores,`Setting times the Bing upsell on SERP was dismissed: ${e}`),this.setUserPreferencesLocal({bingSERPUpsellTimesDismissed:e,bingSERPUpsellLastDismiss:Date.now()})}getBingUpsellMagicBotLastDismiss(){var e;return null!==(e=this.getUserPreferencesLocal().bingMagicBotUpsellLastDismiss)&&void 0!==e?e:0}getTimesBingUpsellMagicBotWasDismissed(){var e;return null!==(e=this.getUserPreferencesLocal().bingMagicBotUpsellTimesDismissed)&&void 0!==e?e:0}recordBingUpsellMagicBotDismissed(){const e=this.getTimesBingUpsellSERPWasDismissed()+1;S.log(h.LogTraceArea.PreferencesStores,`Setting times the Bing upsell on MagicBot was dismissed: ${e}`),this.setUserPreferencesLocal({bingMagicBotUpsellTimesDismissed:e,bingMagicBotUpsellLastDismiss:Date.now()})}didUserClickSwitchOnBingUpsell(){var e;return null!==(e=this.getUserPreferencesLocal().clickedSwitchOnBingUpsell)&&void 0!==e&&e}recordUserClickedSwitchOnBingUpsell(){S.log(h.LogTraceArea.PreferencesStores,'User clicked the "switch" button on a Bing upsell'),this.setUserPreferencesLocal({clickedSwitchOnBingUpsell:!0})}};B._defaultPrefs={enableChatNotifications:!0,enableScheduledCallNotifications:!0,enableInAppScheduledCallNotifications:!0,enableInAppPollNotifications:!0,enablePollNotifications:!0,enableInAppNotifications:!0,enableNotificationSounds:!0,enablePushNotificationSounds:!0,enableInAppEngagementNotifications:!0,enablePushEngagementNotifications:!0,useStackNavOnNarrowDesktop:!1,popupCardConsumptionHorizon:0,noticeMessageConsumptionHorizon:0,mobileKeychainSkypeTokenMigrated:!1,mobileKeychainMSATokenMigrated:!1,disableShakeAndSend:!1,mobileCoachMarkIndex:0,desktopCoachmarkIndex:4,mobileCoachMarkSequenceVersion:void 0,e2eeV1Initialised:!1,includeMeInSearchEnabled:!0,allowHugeEmoticons:!0,avatarPolicy:T.OptionsServiceAvatarPolicyValueType.BUDDIES_OR_AUTHORIZED_CAN_SEE,isUserFromInviteFlow:!1,isUserFromGuestUpsellFlow:!1,migrationLandingScreenSeen:!1,wasTutorialStarted:!1,forceDisplayMigrationLandingScreen:!1,isArchiveConversationDialogRequired:!0,isCameraMigrated:!1,isMicrophoneMigrated:!1,areSpeakersMigrated:!1,migratedToUsingPhysicalDeviceIdSCD:!1,allowCallsFromContactsOnly:!1,callingEcoMode:0,firstMessageReceived:!1,firstCallAnswered:!1,isUserActivityExpected:!1,useSystemTheme:!0,sendMessageWithEnter:!0,pasteAsQuotesEnabled:!1,lastMessageAuthorAvatarEnabled:!1,contactsPanelSkypeTabShowOnlyActiveNow:!1,contactsPanelABNotSyncedShowOnlyActiveNow:!1,presentDNDSetting:!0,fontSizeMultiplier:1,entitlementsBannerOptions:{visible:!0},skypeNumberBannerOptions:{visible:!0},contactPermissionBannerOptions:{clickCount:0},linkYourPhoneBannerOptions:{clickCount:0},autoDownloadFiles:!1,messageStreamFontSize:C.MessageStreamFontSize.Normal,hasSignOutSurveyShown:!1,fileDownloadPathDesktop:void 0,presentDefaultUrlOpenBehaviorPrompt:!0,enableSystemHotKeys:!0,notifiedAboutBookmarks:!1,showMeetNowEducationalModal:!0,showBackgroundBlurAsNewForAndroid:!0,showOnlyVideoOnTheStageAsNew:!0,showNewStageItemAsNew:!0,sendOptionalTelemetry:!1,isTelemetryConsentOnboardingCompleted:!1,speechConsentTranslator:void 0,callsWithTranslatorCount:0,speechSuggestionDismissed:!1,lastUsedBackgroundEffects:void 0,mainWindowLastBoundsBeforeLogout:void 0,togetherModeNoticePresentedForCallId:void 0,disableElectronIntegratedCalling:!1,autoDownloadFilesMode:D.PrefetchMode.Off,sayHiPopupHasShown:!1,notifiedMyFriends:!1,recordedClipFromCreateButton:!1,notificationPromptClosedTimes:0,notificationPromptAppearTimes:0,notificationPermissionDeniedTimestamp:0},n.__decorate([(0,s.autoSubscribeWithKey)("disableShakeAndSend")],B.prototype,"isShakeAndSendDisabled",null),n.__decorate([(0,s.autoSubscribeWithKey)("commerceCounters")],B.prototype,"getCommerceCounters",null),n.__decorate([(0,s.autoSubscribeWithKey)("contactsPrivacyNoticeBannerMountedCount")],B.prototype,"getContactsPrivacyNoticeBannerMountedCount",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getUserPreferencesLocal",null),n.__decorate([s.disableWarnings],B.prototype,"getUserPreferencesLocalNoSubscription",null),n.__decorate([s.disableWarnings],B.prototype,"internal_getUserPreferencesLocalDefaults",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getUserPreferencesForConversationLocal",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"shouldSendOptionalTelemetryData",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"isTelemetryConsentOnboardingCompleted",null),n.__decorate([(0,s.autoSubscribeWithKey)("lastOpenedTabs")],B.prototype,"getLastOpenedTabForUser",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getLastUsedBackgroundEffects",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getLastMessageAuthorAvatarSwitchedOn",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getTodayTabToggledButtonSwitchedOn",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getMessageStreamFontSize",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getOnlineNotificationsSelected",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getOnlineNotificationsMigrated",null),n.__decorate([(0,s.autoSubscribeWithKey)("nativeKeyboardHeights")],B.prototype,"getNativeKeyboardHeights",null),n.__decorate([(0,s.autoSubscribeWithKey)("nativeKeyboardHeights")],B.prototype,"getNativeKeyboardHeight",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getTogetherModeNoticePresentedForCallId",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getMusicModeNoticePresentedForCallId",null),n.__decorate([s.disableWarnings],B.prototype,"isMyBotTooltipVisibleNoSubscription",null),n.__decorate([s.disableWarnings],B.prototype,"setMyBotTooltipVisible",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"isE911LocationConsentGranted",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"isMediaBarNewItemSeen",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"isEngagementTooltipSeen",null),n.__decorate([(0,s.autoSubscribeWithKey)(E)],B.prototype,"getBannerActionOptions",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getFullScreenToolTipShowTime",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getRecordedClipFromCreateButton",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getClipsLeftNavigationClickCount",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"increaseClipsLeftNavigationClickCount",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getRecordedClipFromChatButton",null),n.__decorate([(0,s.autoSubscribeWithKey)(R)],B.prototype,"getTimesClipTooltipWasShown",null),n.__decorate([s.disableWarnings],B.prototype,"getNotificationPromptAppearTimes",null),n.__decorate([s.disableWarnings],B.prototype,"getNotificationPermissionDeniedTimestamp",null),n.__decorate([(0,s.autoSubscribeWithKey)("notificationPromptClosedTimes")],B.prototype,"getNotificationPromptClosedTimes",null),n.__decorate([s.disableWarnings],B.prototype,"getNotificationPromptClosedTimesNoSubscription",null),B=o=n.__decorate([s.AutoSubscribeStore],B),t.default=new B},341994:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerKeys=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=o.__importStar(i(397691)),s=o.__importDefault(i(150343)),l=o.__importDefault(i(404547)),c=o.__importDefault(i(304623)),d=i(135356),u=o.__importStar(i(44717)),p=i(815146),g=o.__importDefault(i(446802)),h=i(477195),m=o.__importStar(i(85385)),S=o.__importDefault(i(114818)),_=o.__importStar(i(704704)),f=i(196761),y=o.__importDefault(i(201721)),C=(o.__importDefault(i(808222)),i(427393)),v=o.__importStar(i(446574)),b=o.__importDefault(i(655192)),T=o.__importDefault(i(139221)),P=i(467036),k=i(938827);t.TriggerKeys=u.UserProps;let A=class extends r.StoreBase{constructor(){super(100),this._preferencesPersisted={},this._preferencesPendingPersist={},this._preferencesComputed={},this._requiresUWPMigration=!1,this._preferencesSynced=!1,this._onChatServiceReconnect=()=>{this.fetchAndUpdateProperties().then((()=>{this._syncSendOptionalTelemetryToLocalStore()}))},this._cachedReactions=[],this._setUserRingIfRequired=()=>{const e=c.default.getUserProperty(u.ServerUserProps.UserRing),t=c.default.getUserProperty(u.UserProps.ChatServiceRingChangedManually)===d.UserRingChangedManually,i=s.default.getS4LFeatures().chatFeatures.recommendedRing;i&&i!==e&&!t&&this.setMyUserRing(i,!1)},v.RegisterStartupable(this,"MyUserPreferencesStore",[c.default,y.default])}startup(){return(c.default.hasFetchedUserPropertiesAtLeastOnce()?a.Resolved():a.raceTimer(this.fetchAndUpdateProperties(),u.MaxChatServiceInitialPropsLoadTimeoutInMs)).always((e=>{var i;null!==(i=null==e?void 0:e.timedOut)&&void 0!==i&&i&&(m.error(p.LogTraceArea.PreferencesStores,"Chat service request timed out when trying to update user preference"),m.track(new P.StartupErrorEvent("CHAT_SERVICE_USER_PROPS_TIMEOUT"))),c.default.userPropertiesChanged.subscribe((e=>{this._gotUpdatedProps(e)})),l.default.reconnected.subscribe(this._onChatServiceReconnect),this._preferencesPersisted=c.default.getUserProperties(),this._preferencesSynced=!0,this._preferencesPersisted[t.TriggerKeys.ReadReceiptsEnabled]&&m.log(p.LogTraceArea.ReadReceipts,"Got enabled="+this._preferencesPersisted[t.TriggerKeys.ReadReceiptsEnabled]+" on startup"),this._computePreferences(),this._requiresUWPMigration&&this._migrateUWPToMSIXPlatformPreferences();const o=y.default.getUserPreferencesLocal().splitViewMode;n.isNil(o)||(y.default.setUserPreferencesLocal({splitViewMode:void 0}),this.setUserAppearancePreferencesForCurrentPlatform({splitViewEnabled:!!o}))}))}requestUWPToMSIXMigration(){this._requiresUWPMigration=!0,this._preferencesSynced&&this._migrateUWPToMSIXPlatformPreferences()}_migrateUWPToMSIXPlatformPreferences(){0}fetchAndUpdateProperties(e=!1){return v.EnsureStarted(l.default).then((()=>l.default.fetchAndUpdateMyProperties(e)))}reset(){n.each(t.TriggerKeys,(e=>this._setPreference(e,"")))}setAlertsLastReadTime(e){this._setPreference(t.TriggerKeys.AlertsLastReadTime,e.toString())}getAlertsLastReadTime(){const e=Number(this._getPreference(t.TriggerKeys.AlertsLastReadTime));return isNaN(e)?void 0:e}setCaptureFirstRunLevel(e){this._setPreference(t.TriggerKeys.CaptureFirstRunLevel,e&&e.toString())}getCaptureFirstRunLevel(){const e=Number(this._getPreference(t.TriggerKeys.CaptureFirstRunLevel));return isNaN(e)?void 0:e}setCaptureMarkupTooltipDismissed(e){this._setPreferenceBool(t.TriggerKeys.CaptureMarkupTooltipDismissed,e)}getCaptureMarkupTooltipDismissed(){return this._getPreferenceBool(t.TriggerKeys.CaptureMarkupTooltipDismissed)}setCoachMarksSeen(e){this._setPreference(t.TriggerKeys.CoachMarksSeen,e&&JSON.stringify(e))}getCoachMarksSeen(){const e=this._getPreference(t.TriggerKeys.CoachMarksSeen),i=e?b.default.parseJsonErrorable(e):void 0;if(!n.isError(i)){if(i&&!n.isArray(i)){let e=[];return n.each(i,(t=>e=n.union(e,t))),e}return i}m.error(p.LogTraceArea.PreferencesStores,"Failed to parse coachMarksSeen preference.")}setOptionalTelemetryPreferences(e){void 0!==e.enabled&&y.default.setSendOptionalTelemetryData(e.enabled),void 0!==e.onboardingCompleted&&y.default.setIsTelemetryConsentOnboardingCompleted(e.onboardingCompleted),this._setOptionalTelemetryPreferences(e)}getOptionalTelemetryPreferences(){return this._getOptionalTelemetryPreferences()}_setOptionalTelemetryPreferences(e){const i=this._getOptionalTelemetryPreferences()||{},o=n.defaults({},e,i);this._setPreference(t.TriggerKeys.SendOptionalTelemetry,o)}_getOptionalTelemetryPreferences(){const e=this._getPreference(t.TriggerKeys.SendOptionalTelemetry),i=e?b.default.parseJsonErrorable(e):{};return n.isError(i)?(m.error(p.LogTraceArea.PreferencesStores,"Failed to parse optional telemetry preferences.",i,e),{}):i}setMsaProfilePreferences(e){const i=this._getOptionalTelemetryPreferences()||{},o=n.defaults({},e,i);this._setPreference(t.TriggerKeys.MsaProfile,o)}getMsaProfilePreferences(){const e=this._getPreference(t.TriggerKeys.MsaProfile),i=e?b.default.parseJsonErrorable(e):{};return n.isError(i)?(m.error(p.LogTraceArea.PreferencesStores,"Failed to parse Msa Profile (Age group) preferences.",i,e),{}):i}_syncSendOptionalTelemetryToLocalStore(){const e=this.getOptionalTelemetryPreferences();e.enabled!==y.default.shouldSendOptionalTelemetryData()&&y.default.setSendOptionalTelemetryData(!!e.enabled),e.onboardingCompleted!==y.default.isTelemetryConsentOnboardingCompleted()&&y.default.setIsTelemetryConsentOnboardingCompleted(!!e.onboardingCompleted)}setSuggestionsEnabled(e){let i;return i=n.isUndefined(e)?"undefined":e?"true":"false",this._setPreference(t.TriggerKeys.SuggestionsEnabled,i)}getSuggestionsEnabled(){const e=this._getPreference(t.TriggerKeys.SuggestionsEnabled);return"true"===e||"false"!==e&&void 0}setCelebrationNotificationLastShownTime(e){return this._setPrefOnServer(t.TriggerKeys.CelebrationNotificationLastShownTime,String(e))}getCelebrationNotificationLastShownTime(){const e=this._getPreference(t.TriggerKeys.CelebrationNotificationLastShownTime);if(e)return parseInt(e,10)}setLocale(e){return this._setPrefOnServer(t.TriggerKeys.Locale,e)}getLocale(){return this._getPreference(t.TriggerKeys.Locale)}setMarket(e){return this._setPrefOnServer(t.TriggerKeys.Market,e)}getMarket(){return this._getPreference(t.TriggerKeys.Market)}setShouldShowTodayBadge(e){m.log(p.LogTraceArea.Phone,`Setting setShouldShowTodayBadge, shouldShow=${e}`);const i=e?"true":"false";this._setPreference(t.TriggerKeys.ShowTodayBadge,i)}setLastTodayTabShownTime(e=!1){const i=e?t.TriggerKeys.DesktopLastTodayTabShownTimestamp:t.TriggerKeys.MobileLastTodayTabShownTimestamp,o=this._getCurrentDay().toString();m.log(p.LogTraceArea.Phone,`Setting setLastTodayTabShownTime, currentDay=${o}, isDesktop=${e}`),this._setPreference(i,o)}_getLastTodayTabShownTimestamp(e=!1){const i=this._getPreference(e?t.TriggerKeys.DesktopLastTodayTabShownTimestamp:t.TriggerKeys.MobileLastTodayTabShownTimestamp),o=parseInt(i,10);return isNaN(o)?void 0:o}_getTodayBadgeNumberOfDismissals(e=!1){const i=this._getPreference(e?t.TriggerKeys.DesktopCurrentBadgingDismissals:t.TriggerKeys.MobileCurrentBadgingDismissals);return i?parseInt(i,10):0}increaseNumberOfBadgeDismissals(e=!1){const i=e?t.TriggerKeys.DesktopCurrentBadgingDismissals:t.TriggerKeys.MobileCurrentBadgingDismissals,o=this._getTodayBadgeNumberOfDismissals(e)+1;this._setPreference(i,o.toString()),m.log(p.LogTraceArea.Phone,`Setting setTodayBadgeIntervalIndex, index=${o}, isDesktop=${e}`)}shouldShowTodayBadge(e){return this._getShouldShowTodayBadge(!!e)}shouldShowTodayBadgeNoSubscription(e){return this._getShouldShowTodayBadge(!!e)}_getShouldShowTodayBadge(e){const{enableDailyBadging:i,badgingIntervalInDays:o,maxNumberOfBadgeDismissals:n}=s.default.getS4LCommerceFeatures().todayTab;if(i){const t=this._getLastTodayTabShownTimestamp(e),i=this._getTodayBadgeNumberOfDismissals(e),r=this._getCurrentDay();return!t||i<n&&r>=t+o}return this._getPreferenceBool(t.TriggerKeys.ShowTodayBadge)}_getCurrentDay(){return Math.floor((new Date).getTime()/k.DAY)}setTimezone(e){return this._setPrefOnServer(t.TriggerKeys.Timezone,e)}getTimezone(){return this._getPreference(t.TriggerKeys.Timezone)}isE911Acknowledged(){return this._getPreferenceBool(t.TriggerKeys.E911Acknowledged)}setE911Acknowledged(e){m.log(p.LogTraceArea.Phone,"Setting E911 acknowledgement, acknowledged="+e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.E911Acknowledged,i)}setEmergencyCallDefaultCountry(e){m.track(new C.EmergencyCallDefaultCountryChanged(e)),this._setPreference(t.TriggerKeys.EmergencyCallDefaultCountryChanged,e)}getEmergencyCallDefaultCountry(){return this._getPreference(t.TriggerKeys.EmergencyCallDefaultCountryChanged)}setIntegrationConsent(e){this._setPreference(t.TriggerKeys.IntegrationAuthConsent,JSON.stringify(e))}getIntegrationConsent(){const e=this._getPreference(t.TriggerKeys.IntegrationAuthConsent),i=e?b.default.parseJsonErrorable(e):{};return n.isError(i)?(m.error(p.LogTraceArea.PreferencesStores,"Failed to parse integration consent cache.",i,e),{}):i}setIntegrationIdAuthStatePairs(e){this._setPreference(t.TriggerKeys.IntegrationIdAuthStatePairs,JSON.stringify(e))}getIntegrationIdAuthStatePairs(){const e=this._getPreference(t.TriggerKeys.IntegrationIdAuthStatePairs),i=e?b.default.parseJsonErrorable(e):{};return n.isError(i)?(m.error(p.LogTraceArea.PreferencesStores,"Failed to parse integrationIdAuthStatePairs.",i,e),{}):i}setInviteSharingDisabled(e){this._setPreferenceBool(t.TriggerKeys.InviteSharingDisabled,e)}getInviteSharingDisabled(){return this._getPreferenceBool(t.TriggerKeys.InviteSharingDisabled)}setIsSetupWizardCompleted(e){this._setPreferenceBool(t.TriggerKeys.IsSetupWizardCompleted,e)}getOnboardingUserProfileScreenSeen(){return this._getPreferenceBool(t.TriggerKeys.OnboardingUserProfileScreenSeen)}setOnboardingUserProfileScreenSeen(e){this._setPreferenceBool(t.TriggerKeys.OnboardingUserProfileScreenSeen,e)}getIsSetupWizardCompleted(){return this._getPreferenceBool(t.TriggerKeys.IsSetupWizardCompleted)}setScheduleNextCallDisplayedTimes(){const e=Number(this._getPreference(t.TriggerKeys.ScheduleNextCallDisplayedTimes));this._setPreference(t.TriggerKeys.ScheduleNextCallDisplayedTimes,(e+1).toString())}getScheduleNextCallDisplayedTimes(){return Number(this._getPreference(t.TriggerKeys.ScheduleNextCallDisplayedTimes))}setScheduleNextCallCurrentSuccessfulCalls(e){const i=Number(this._getPreference(t.TriggerKeys.ScheduleNextCallCurrentSuccessfulCalls));this._setPreference(t.TriggerKeys.ScheduleNextCallCurrentSuccessfulCalls,n.isNumber(e)?e.toString():(i+1).toString())}getScheduleNextCallCurrentSuccessfulCalls(){return Number(this._getPreference(t.TriggerKeys.ScheduleNextCallCurrentSuccessfulCalls))}setMediaEditorFirstRunLevel(e){this._setPreference(t.TriggerKeys.MediaEditorFirstRunLevel,e&&e.toString())}getMediaEditorFirstRunLevel(){const e=Number(this._getPreference(t.TriggerKeys.MediaEditorFirstRunLevel));return isNaN(e)?void 0:e}setReactionNotificationsEnabled(e){m.track(new f.ReactionPushNotificationsToggleSetting(!!e)),m.log(p.LogTraceArea.Push,"Setting push notifications for reactions setting, enabled="+!!e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.ReactionPushNotificationsEnabled,i)}setLastEngagementProcessedMessageOnWebTimestamp(){const e=(new Date).getTime();m.log(p.LogTraceArea.Engagement,"Setting engagement message already shown on S4L.Web user preference,timestamp="+e),this._setPreference(t.TriggerKeys.LastEngagementProcessedMessageOnWebTimestamp,e.toString())}setReadReceiptsEnabled(e,i){m.track(new f.ReadReceiptsToggleSetting(!!e,i)),m.log(p.LogTraceArea.ReadReceipts,"Setting read receipts user preference, enabled="+e+", origin="+f.ReadReceiptsSettingOrigin[i]);const o=e?"true":"false";this._setPreference(t.TriggerKeys.ReadReceiptsEnabled,o),i===f.ReadReceiptsSettingOrigin.UserAction&&this._setPreference(t.TriggerKeys.ReadReceiptsUserPreference,o)}setDisplayUrlPreviewsEnabled(e){m.track(new f.DisplayUrlPreviewsToggleSetting(e)),m.log(p.LogTraceArea.UrlPreviews,"Setting display URL preview user preference, enabled="+e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.DisplayUrlPreviewsEnabled,i)}setCallNotificationsWhileDNDEnabled(e){m.track(new f.CallNotificationsWhileDNDToggleSetting(!!e)),m.log(p.LogTraceArea.DNDSetting,"Setting call notifications while DND, enabled="+!!e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.CallNotificationsWhileDND,i)}setChatNotificationsWhileDNDEnabled(e){m.track(new f.ChatNotificationsWhileDNDToggleSetting(!!e)),m.log(p.LogTraceArea.DNDSetting,"Setting chat notifications while DND, enabled="+!!e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.ChatNotificationsWhileDND,i)}setNotifyOnPresenceChangeEnabled(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.NotifyOnPresenceChange,i)}setOldFriendBackNotificationEnabled(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.OldFriendBackNotification,i)}setPresentDNDSetting(){this._setPreference(t.TriggerKeys.PresentDNDSetting,"false")}setBingSearchHistoryEnabled(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.BingSearchHistoryEnabled,i)}setMiniContextMenuEnabled(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.MiniContextMenuEnabled,i)}setBingSearchTrendingEnabled(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.BingSearchTrendingEnabled,i)}getReactionNotificationsEnabled(){return"false"!==this._getPreference(t.TriggerKeys.ReactionPushNotificationsEnabled)}getLastEngagementProcessedMessageOnWebTimestamp(){const e=Number(this._getPreference(t.TriggerKeys.LastEngagementProcessedMessageOnWebTimestamp));return isNaN(e)?0:e}getReadReceiptsEnabled(){return"true"===this._getPreference(t.TriggerKeys.ReadReceiptsEnabled)}getDisplayUrlPreviews(){return"false"!==this._getPreference(t.TriggerKeys.DisplayUrlPreviewsEnabled)}getUserPreferenceForReadReceipts(){return"false"!==this._getPreference(t.TriggerKeys.ReadReceiptsUserPreference)}getCallNotificationsWhileDNDEnabled(){return"false"!==this._getPreference(t.TriggerKeys.CallNotificationsWhileDND)}getChatNotificationsWhileDNDEnabled(){return"true"===this._getPreference(t.TriggerKeys.ChatNotificationsWhileDND)}getNotifyOnPresenceChangeEnabled(){return this._getPreference(t.TriggerKeys.NotifyOnPresenceChange)}getNotifyOnPresenceChangeState(){return this._getPreference(t.TriggerKeys.NotifyOnPresenceChange)}getOldFriendBackNotificationState(){return this._getPreference(t.TriggerKeys.OldFriendBackNotification)}getPresentDNDSettingStatus(){return y.default.getUserPreferencesLocal().presentDNDSetting||this.setPresentDNDSetting(),"false"!==this._getPreference(t.TriggerKeys.PresentDNDSetting)}getBingSearchHistoryEnabled(){return"false"!==this._getPreference(t.TriggerKeys.BingSearchHistoryEnabled)}getMiniContextMenuEnabled(){return"false"!==this._getPreference(t.TriggerKeys.MiniContextMenuEnabled)}getBingSearchTrendingEnabled(){return"false"!==this._getPreference(t.TriggerKeys.BingSearchTrendingEnabled)}setScheduledCallReminders(e){this._setPreference(t.TriggerKeys.ScheduledCallReminders,e&&JSON.stringify(e))}getScheduledCallReminders(){const e=this._getPreference(t.TriggerKeys.ScheduledCallReminders),i=e?b.default.parseJsonErrorable(e):void 0;if(!n.isError(i))return i;m.error(p.LogTraceArea.PreferencesStores,"Failed to parse scheduledCallReminders preference.")}setScheduledCallBannerDismissState(e,i){const o=this.getScheduledCallsBannerDismissStates()||{};o[e]=i,this._setPreference(t.TriggerKeys.ScheduledCallBannerDismissStates,JSON.stringify(o))}deleteScheduledCallBannerDismissStates(e){const i=this.getScheduledCallsBannerDismissStates();i&&(n.each(e,(e=>{i[e]&&delete i[e]})),this._setPreference(t.TriggerKeys.ScheduledCallBannerDismissStates,JSON.stringify(i)))}getScheduledCallsBannerDismissStates(){const e=this._getPreference(t.TriggerKeys.ScheduledCallBannerDismissStates),i=e?b.default.parseJsonErrorable(e):void 0;if(!n.isError(i))return i;m.error(p.LogTraceArea.PreferencesStores,"Failed to parse scheduledCallBannerDismissStates preference.")}setConversationTranslationBannerDismissState(e,t){const i=this._getTranslationBannerDismissStatesForConversation(e);i.conversationBannerBeenDismissed=t,this._setTranslationBannerDismissedState(e,i)}setInCallTranslationBannerDismissState(e,t){const i=this._getTranslationBannerDismissStatesForConversation(e);i.inCallBannerBeenDismissed=t,this._setTranslationBannerDismissedState(e,i)}getReactions(){const e=this._getPreference(t.TriggerKeys.Reactions);if(this._cachedReactionsRaw!==e){const t=e?b.default.parseJsonErrorable(e):void 0;if(n.isError(t)||!Array.isArray(t))return void m.error(p.LogTraceArea.PreferencesStores,"Failed to parse reactions preference.");this._cachedReactionsRaw=e,this._cachedReactions=t}return this._cachedReactions}setReactions(e){this._setPrefOnServer(t.TriggerKeys.Reactions,e?JSON.stringify(e):"")}getCustomCallReactions(){const e=this._getPreference(t.TriggerKeys.CustomCallReactions),i=e?b.default.parseJsonErrorable(e):void 0;if(!n.isError(i))return i;m.error(p.LogTraceArea.PreferencesStores,"Failed to parse custom call reactions preference.")}setCustomCallReactions(e){this._setPrefOnServer(t.TriggerKeys.CustomCallReactions,e?JSON.stringify(e):"")}_setTranslationBannerDismissedState(e,i){const o=this._getTranslationBannerDismissStates()||{};o[e]=i,this._setPreference(t.TriggerKeys.TranslatedConversationBannerDismissStates,JSON.stringify(o))}_getTranslationBannerDismissStatesForConversation(e){const t=this._getTranslationBannerDismissStates();let i;return i=t&&t[e]?t[e]:{inCallBannerBeenDismissed:!1,conversationBannerBeenDismissed:!1},i}_getTranslationBannerDismissStates(){const e=this._getPreference(t.TriggerKeys.TranslatedConversationBannerDismissStates),i=e?b.default.parseJsonErrorable(e):void 0;if(!n.isError(i))return i||void 0;m.error(p.LogTraceArea.PreferencesStores,"Failed to parse translationBannerDismissStates preference.")}getConversationTranslationBannerDismissState(e){const t=this._getTranslationBannerDismissStates();return!(!t||!t[e])&&t[e].conversationBannerBeenDismissed}getInCallTranslationBannerDismissState(e){const t=this._getTranslationBannerDismissStates();return!(!t||!t[e])&&t[e].inCallBannerBeenDismissed}deleteTranslationBannerDismissStates(e){const i=this._getTranslationBannerDismissStates();i&&!n.isEmpty(i)&&(i[e]&&delete i[e],this._setPreference(t.TriggerKeys.TranslatedConversationBannerDismissStates,JSON.stringify(i)))}setInterstitialForLargeGroupRinglessCallsShown(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.InterstitialForLargeGroupRinglessCallsShown,i)}getInterstitialForLargeGroupRinglessCallsShown(){return"true"===this._getPreference(t.TriggerKeys.InterstitialForLargeGroupRinglessCallsShown)}setInterstitialForSmallGroupRinglessCallsShown(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.InterstitialForSmallGroupRinglessCallsShown,i)}getInterstitialForSmallGroupRinglessCallsShown(){return"true"===this._getPreference(t.TriggerKeys.InterstitialForSmallGroupRinglessCallsShown)}setEnableSubtitlesForAllCalls(e){m.track(new f.EnableSubtitlesForAllCallsSetting(!!e)),m.log(p.LogTraceArea.PreferencesStores,"Setting enable subtitles for all calls, enabled="+!!e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.EnableSubtitlesForAllCalls,i)}getEnableSubtitlesForAllCalls(){return"true"===this._getPreference(t.TriggerKeys.EnableSubtitlesForAllCalls)}setOnlyShowSubtitlesForOtherParticipants(e){m.track(new f.OnlyShowSubtitlesForOtherParticipants(!!e)),m.log(p.LogTraceArea.PreferencesStores,"Setting only show subtitles for other participants, enabled="+!!e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.OnlyShowSubtitlesForOtherParticipants,i)}getOnlyShowSubtitlesForOtherParticipants(){return"false"!==this._getPreference(t.TriggerKeys.OnlyShowSubtitlesForOtherParticipants)}setCallTranslatorBotSpokenLanguageLocale(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call translator bot spoken language locale: "+e),this._setPreference(t.TriggerKeys.CallTranslatorBotSpokenLanguageLocale,e),s.default.getS4LCMCFeatures().enableMessageTranslation&&this._setPreference(t.TriggerKeys.CallTranslatorBotSubtitleLanguageLocale,e)}getCallTranslatorBotSpokenLanguageLocale(){const e=s.default.getS4LCMCFeatures().enableMessageTranslation?this.getCallTranslatorBotSubtitleLanguageLocale():this._getPreference(t.TriggerKeys.CallTranslatorBotSpokenLanguageLocale),i=s.default.getS4LCMCFeatures().callTranslatorBotConfig.languageSupport.speech||[],o=!n.isEmpty(e)&&i.some((t=>t===e)),r=i.find((e=>e===_.getLocale()))||"en-US";return o?e:r}setCallTranslatorSpokenLanguage(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call translator bot spoken language locales json."),this._setPreference(t.TriggerKeys.CallTranslatorSpokenLanguage,JSON.stringify(e))}getCallTranslatorSpokenLanguage(){const e=this._getPreference(t.TriggerKeys.CallTranslatorSpokenLanguage),i=e?b.default.parseJsonErrorable(e):void 0;if(!n.isError(i))return i||void 0;m.error(p.LogTraceArea.PreferencesStores,"Failed to parse CallTranslatorSpokenLanguage preference.")}setCallTranslatorCaptionsPositionMode(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call captions position mode to "+(e?e.toString():"-")),this._setPreference(t.TriggerKeys.CallTranslatorCaptionsPositionMode,e)}getCallTranslatorCaptionsPositionMode(){const e=this._getPreference(t.TriggerKeys.CallTranslatorCaptionsPositionMode);switch(e){case h.CaptionsPositionMode.float:case h.CaptionsPositionMode.left:case h.CaptionsPositionMode.bottom:return e;default:return}}getCallPstnTranslatorBotSpokenLanguageLocales(){const e=this._getPreference(t.TriggerKeys.PstnTranslationSettings),i=e?b.default.parseJsonErrorable(e):void 0;if(!n.isError(i))return i||void 0;m.error(p.LogTraceArea.PreferencesStores,"Failed to parse PstnTranslationSettings preference.")}setCallPstnTranslatorBotSpokenLanguageLocales(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call pstn translator bot spoken language locale settings"),this._setPreference(t.TriggerKeys.PstnTranslationSettings,JSON.stringify(e))}setCallTranslatorBotTranslationVoice(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call translator bot translation voice: "+e),this._setPreference(t.TriggerKeys.CallTranslatorBotTranslationVoice,e)}getCallTranslatorBotTranslationVoice(){const e=this._getPreference(t.TriggerKeys.CallTranslatorBotTranslationVoice),i=s.default.getS4LCMCFeaturesNoSubscription().translationDefaultVoice;return e||i}setCallTranslatorTranslationConsent(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call translator bot translation consent: "+e),this._setPreferenceBool(t.TriggerKeys.CallTranslatorTranslationConsent,e)}getCallTranslatorTranslationConsent(){return this._getPreferenceBool(t.TriggerKeys.CallTranslatorTranslationConsent)}setCallTranslatorTranslationConsentChangeDate(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call translator bot translation consent: "+e),this._setPreference(t.TriggerKeys.CallTranslatorTranslationConsentChangeDate,e.toString())}getCallTranslatorTranslationConsentChangeDate(){const e=this._getPreference(t.TriggerKeys.CallTranslatorTranslationConsentChangeDate);return parseInt(e,10)}setCallTranslatorTranslationAutoDetectEnabled(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call translator bot translation auto detect consent: "+e),this._setPreferenceBool(t.TriggerKeys.CallTranslatorTranslationAutoDetectEnabled,e)}getCallTranslatorTranslationAutoDetectEnabled(){return this._getPreferenceBool(t.TriggerKeys.CallTranslatorTranslationAutoDetectEnabled)}setCallTranslatorTranslationAutoDetectOffered(e){m.log(p.LogTraceArea.PreferencesStores,`Setting call translator bot translation auto detect offered: ${e}`),this._setPreferenceBool(t.TriggerKeys.CallTranslatorTranslationAutoDetectOffered,e)}getCallTranslatorTranslationAutoDetectOffered(){return this._getPreferenceBool(t.TriggerKeys.CallTranslatorTranslationAutoDetectOffered)}setCallTranslatorTruVoiceConsent(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call translator bot truVoice consent: "+e),this._setPreferenceBool(t.TriggerKeys.CallTranslatorTruVoiceConsent,e)}getCallTranslatorTruVoiceConsent(){return this._getPreferenceBool(t.TriggerKeys.CallTranslatorTruVoiceConsent)}getMyBotConvListUnpin(){return this._getPreferenceBool(t.TriggerKeys.MybotBotConvListUnpin)}setMyBotConvListUnpin(e){m.log(p.LogTraceArea.PreferencesStores,`Setting my bot conv list unpin: ${e}`),this._setPreferenceBool(t.TriggerKeys.MybotBotConvListUnpin,e)}getMagicBotConsent(){return this._getMagicBotConsent()}getMagicBotConsentNoSubscription(){return this._getMagicBotConsent()}_getMagicBotConsent(){const e=this._getPreference(t.TriggerKeys.MagicBotConsent);if(void 0!==e&&""!==e)return"true"===e}setMagicBotConsent(e){m.log(p.LogTraceArea.PreferencesStores,`Setting magic bot consent: ${e}`);let i="";void 0!==e&&(i=e?"true":"false"),this._setPreference(t.TriggerKeys.MagicBotConsent,i)}getMagicBotConvListUnpin(){return this._getPreferenceBool(t.TriggerKeys.MagicBotConvListUnpin)}setMagicBotConvListUnpin(e){m.log(p.LogTraceArea.PreferencesStores,`Setting magic bot conv list unpin: ${e}`),this._setPreferenceBool(t.TriggerKeys.MagicBotConvListUnpin,e)}getMagicBotWaitlistStatus(){return this._getPreference(t.TriggerKeys.MagicBotWaitlistStatus)}getMagicBotWaitlistStatusNoSubscription(){return this._getPreference(t.TriggerKeys.MagicBotWaitlistStatus)}setMagicBotWaitlistStatus(e){m.log(p.LogTraceArea.PreferencesStores,`Setting magic bot waitlist status: ${e}`),this._setPreference(t.TriggerKeys.MagicBotWaitlistStatus,null!=e?e:"")}getMagicBotCampaignReceived(){return this._getMagicBotCampaignReceived()}getMagicBotCampaignReceivedNoSubscription(){return this._getMagicBotCampaignReceived()}_getMagicBotCampaignReceived(){const e=this._getPreference(t.TriggerKeys.MagicBotCampaignReceived);if(void 0!==e&&""!==e)return"true"===e}setMagicBotCampaignReceived(e){m.log(p.LogTraceArea.PreferencesStores,`Setting magic bot campaign received: ${e}`);let i="";void 0!==e&&(i=e?"true":"false"),this._setPreference(t.TriggerKeys.MagicBotCampaignReceived,i)}getMagicBotWelcomeCardSeen(){return this._getMagicBotWelcomeCardSeen()}getMagicBotWelcomeCardSeenNoSubscription(){return this._getMagicBotWelcomeCardSeen()}_getMagicBotWelcomeCardSeen(){const e=this._getPreference(t.TriggerKeys.MagicBotWelcomeCardSeen);if(void 0!==e&&""!==e)return"true"===e}setMagicBotWelcomeCardSeen(e){m.log(p.LogTraceArea.PreferencesStores,`Setting magic bot welcome card seen: ${e}`);let i="";void 0!==e&&(i=e?"true":"false"),this._setPreference(t.TriggerKeys.MagicBotWelcomeCardSeen,i)}setImageGenerationFreCompleted(e=!0){m.log(p.LogTraceArea.PreferencesStores,`Setting image generation fre completed: ${e}`);let i="";void 0!==e&&(i=e?"true":"false"),this._setPreference(t.TriggerKeys.ImageGenerationFreCompleted,i)}getImageGenerationFreCompleted(){return this._getImageGenerationFreCompleted()}getImageGenerationFreCompletedNoSubscription(){return this._getImageGenerationFreCompleted()}_getImageGenerationFreCompleted(){const e=this._getPreference(t.TriggerKeys.ImageGenerationFreCompleted);if(void 0!==e&&""!==e)return"true"===e}setCallTranslatorTruVoiceConsentChangeDate(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call translator bot translation consent: "+e),this._setPreference(t.TriggerKeys.CallTranslatorTruVoiceConsentChangeDate,e.toString())}getCallTranslatorTruVoiceConsentChangeDate(){const e=this._getPreference(t.TriggerKeys.CallTranslatorTruVoiceConsentChangeDate);return parseInt(e,10)}setCallTranslatorTruVoiceEnabled(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call translator bot truVoice enabled: "+e),this._setPreferenceBool(t.TriggerKeys.CallTranslatorTranslationEnabled,e)}getCallTranslatorTruVoiceEnabled(){return this._getPreferenceBool(t.TriggerKeys.CallTranslatorTranslationEnabled)}setAdsPersonalizationEnabled(e){m.log(p.LogTraceArea.PreferencesStores,"Setting ads personalization enabled: "+e),this._setPreference(t.TriggerKeys.AdsPersonalizationEnabled,e?"true":"false")}getAdsPersonalizationEnabled(){return this.getAdsPersonalizationEnabledNoSubscription()}getAdsPersonalizationEnabledNoSubscription(){return!!s.default.getAdsFeaturesNoSubscription().enableAdsPersonalizationConsentInSettings&&this._getPreferenceBool(t.TriggerKeys.AdsPersonalizationEnabled)}setCallTranslatorTruVoiceOffered(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call translator bot truVoice offered: "+e),this._setPreferenceBool(t.TriggerKeys.CallTranslatorTruVoiceOffered,e)}getCallTranslatorTruVoiceOffered(){return this._getPreferenceBool(t.TriggerKeys.CallTranslatorTruVoiceOffered)}setCallTranslatorBotSubtitleLanguageLocale(e){m.log(p.LogTraceArea.PreferencesStores,"Setting call translator bot subtitle language locale: "+e),this._setPreference(t.TriggerKeys.CallTranslatorBotSubtitleLanguageLocale,e)}getCallTranslatorBotSubtitleLanguageLocale(){return this._getPreference(t.TriggerKeys.CallTranslatorBotSubtitleLanguageLocale)}setCallTranslatorPrivacyConsent(e){const i=e?"true":"false";m.log(p.LogTraceArea.PreferencesStores,"Setting call privacy consent to: "+e),this._setPreference(t.TriggerKeys.CallTranslatorPrivacyConsent,i)}getCallTranslatorPrivacyConsent(){return"true"===this._getPreference(t.TriggerKeys.CallTranslatorPrivacyConsent)}resetTranslatorBotTranslationSettings(e){const i=this.getCallPstnTranslatorBotSpokenLanguageLocales();i&&i[e]&&(delete i[e],this.setCallPstnTranslatorBotSpokenLanguageLocales(i)),this._setPreference(t.TriggerKeys.CallTranslatorBotTranslationVoice,null)}getBingBackgroundsEffectDismissed(){return this._getPreferenceBool(t.TriggerKeys.BingBackgroundsEffectDismissed)}setBingBackgroundsEffectDismissed(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.BingBackgroundsEffectDismissed,i)}setUserAppearancePreferencesForCurrentPlatform(e){const i=this._getUserAppearancePreferences()||{},o=T.default.getSkypePlatformId().toString(),r=n.get(i,o)||{},a=n.defaults({},e,r),s=n.defaults({},{[o]:a},i);this._setPreference(t.TriggerKeys.UserAppearancePreferences,s)}_getUserAppearancePreferences(){const e=this._getPreference(t.TriggerKeys.UserAppearancePreferences),i=e?b.default.parseJsonErrorable(e):{};return n.isError(i)?(m.error(p.LogTraceArea.PreferencesStores,"Failed to parse appearance preferences.",i,e),{}):i}getUserAppearancePreferencesForCurrentPlatform(){const e=T.default.getSkypePlatformId().toString();return n.get(this._getUserAppearancePreferences(),e)||{}}getUserAppearancePreferencesForCurrentPlatformNoSubscription(){const e=T.default.getSkypePlatformId().toString();return n.get(this._getUserAppearancePreferences(),e)||{}}getMessageHintsUserData(e){const t=this._getMessageHintsUserDataObject()||{};return g.default.updateAllUserHintsDataWithDefaultValuesIfNeeded(t)[e]}setMessagesHintData(e,i){const o=JSON.stringify(this._getHintsObjectUpdated(e,i));return m.log(p.LogTraceArea.MessageReactionHints,"Hint data is written to database"),this._setPrefOnServer(t.TriggerKeys.MessageHintsData,o)}doesMessageHaveHint(e){const t=this._getMessageHintsUserDataObject()||{};return Object.values(t).some((t=>t.hintMessageId===e))}invalidateHintMessage(e){const i=this._getMessageHintsUserDataObject()||{},o=Object.entries(i).find((([t,i])=>i.hintMessageId===e));if(void 0!==o){const[e,i]=o,n=Number(e);i.hintLastShownTime&&void 0!==i.hintWasShownTimes&&(i.hintMessageId=void 0,i.hintConversationId=void 0,m.log(p.LogTraceArea.MessageReactionHints,"Hint data is invalidated"));const r=JSON.stringify(this._getHintsObjectUpdated(n,i));this._setPrefOnServer(t.TriggerKeys.MessageHintsData,r)}}resetMessagesHintData(e){const i=this._getMessageHintsUserDataObject();return e?(i[e]=g.default.getDefaultMessageHintObject(),this._setPrefOnServer(t.TriggerKeys.MessageHintsData,JSON.stringify(i))):(m.log(p.LogTraceArea.MessageReactionHints,"Hint data is reset"),this._setPreference(t.TriggerKeys.MessageHintsData,JSON.stringify(g.default.getUserHintsDataWithDefaultValues())))}_gotUpdatedProps(e){n.each(e,(e=>{this._preferencesPendingPersist.hasOwnProperty(e)&&(e===t.TriggerKeys.ReadReceiptsEnabled&&m.log(p.LogTraceArea.ReadReceipts,"_gotUpdatedProps enabled="+c.default.getUserProperty(e)),delete this._preferencesPendingPersist[e])})),this._preferencesPersisted=n.clone(c.default.getUserProperties()),this._computePreferences(),this._syncSendOptionalTelemetryToLocalStore()}_computePreferences(){const e=n.extend({},this._getDefaultPrefs(),this._preferencesPersisted,this._preferencesPendingPersist),t=n.difference(n.keys(this._preferencesComputed),n.keys(e)),i=n.filter(n.keys(e),(t=>!(0,S.default)(this._preferencesComputed[t],e[t])));this._preferencesComputed=e,i.length>0&&this.trigger(t.concat(i)),this._setUserRingIfRequired()}setMyUserRing(e,t){return l.default.serviceSetMyUserRing(e).then((()=>{if(this.fetchAndUpdateProperties(!0),t)return l.default.serviceSetMyProperty(u.UserProps.ChatServiceRingChangedManually,d.UserRingChangedManually)}))}getFRECompleted(){const e=this._getPreference(t.TriggerKeys.ContentChannelsFRECompleted);if(void 0!==e&&""!==e)return"true"===e}setFRECompleted(e){m.log(p.LogTraceArea.PreferencesStores,`Setting Content Channels First Run Experience completed: ${e}`);let i="";void 0!==e&&(i=e?"true":"false"),this._setPreference(t.TriggerKeys.ContentChannelsFRECompleted,i)}getMSNMarket(){return this._getMSNMarket()}getMSNMarketNoSubscription(){return this._getMSNMarket()}setMSNMarket(e){m.log(p.LogTraceArea.PreferencesStores,`Setting MSN Market: ${e}`),this._setPreference(t.TriggerKeys.MSNMarket,e)}_getMSNMarket(){const e=this._getPreference(t.TriggerKeys.MSNMarket);if(void 0!==e&&""!==e)return e}getContentChannelsUpsellCardDismiss(){return this._getContentChannelsUpsellCardDismiss()}getContentChannelsUpsellCardDismissNoSubscription(){return this._getContentChannelsUpsellCardDismiss()}setContentChannelsUpsellCardDismiss(e){m.log(p.LogTraceArea.PreferencesStores,`Setting Content Channels Upsell Card Dismiss: ${e}`),this._setPreference(t.TriggerKeys.ContentChannelsUpsellCardDismiss,e.toString())}_getContentChannelsUpsellCardDismiss(){const e=this._getPreference(t.TriggerKeys.ContentChannelsUpsellCardDismiss);if(void 0===e||""===e)return;const i=Number(e);return isNaN(i)?void 0:i}getSimilarUpsellCardDismiss(){return this._getSimilarUpsellCardDismiss()}getSimilarUpsellCardDismissNoSubscription(){return this._getSimilarUpsellCardDismiss()}setSimilarUpsellCardDismiss(e){m.log(p.LogTraceArea.PreferencesStores,`Setting Similar Upsell Card Dismiss: ${e}`),this._setPreference(t.TriggerKeys.ContentChannelsSimilarUpsellCardDismiss,e.toString())}_getSimilarUpsellCardDismiss(){const e=this._getPreference(t.TriggerKeys.ContentChannelsSimilarUpsellCardDismiss);if(void 0===e||""===e)return;const i=Number(e);return isNaN(i)?void 0:i}getToneRewriteSuggestionsEnabled(){return this.getToneRewriteSuggestionsEnabledNoSubscription()}getToneRewriteSuggestionsEnabledNoSubscription(){return"false"!==this._getPreference(t.TriggerKeys.ToneRewriteSuggestionsEnabled)}setToneRewriteSuggestionsEnabled(e){m.log(p.LogTraceArea.PreferencesStores,`Set tone rewrite suggestions enabled=${e}`),this._setPreference(t.TriggerKeys.ToneRewriteSuggestionsEnabled,e?"true":"false")}_getPreference(e){return this._preferencesComputed[e]}_setPreference(e,t){return this._isEqualToPersistedPreferences(e,t)?a.Resolved():(t=n.isObject(t)?JSON.stringify(t):t,this._preferencesPendingPersist[e]=t,this._computePreferences(),this._setPrefOnServer(e,t))}_isEqualToPersistedPreferences(e,t){if(n.isObject(t)){if(!n.isUndefined(this._preferencesPendingPersist[e])){const i=b.default.parseJsonWithDefault(this._preferencesPendingPersist[e],{});return(0,S.default)(i,t)}const i=b.default.parseJsonWithDefault(this._preferencesPersisted[e],{});return(0,S.default)(i,t)}return this._preferencesPersisted[e]===t||this._preferencesPendingPersist[e]===t}_getPreferenceBool(e){return"true"===this._getPreference(e)}_setPreferenceBool(e,t){return this._setPreference(e,t?"true":"")}_setPrefOnServer(e,t){return v.EnsureStarted(l.default).then((()=>{l.default.serviceSetMyProperty(e,t)}))}_getHintsObjectUpdated(e,t){const i=this._getMessageHintsUserDataObject();return i[e]=t,i}_getMessageHintsUserDataObject(){const e=this._getPreference(t.TriggerKeys.MessageHintsData);return b.default.parseJsonWithDefault(e,g.default.getUserHintsDataWithDefaultValues())}_getDefaultPrefs(){var e;return{channelAdsPersonalizationEnabled:null===(e=s.default.getAdsFeaturesNoSubscription().personalizationEnabledDefaultSetting)||void 0===e?void 0:e.toString(),alertsLastReadTime:0,lastTodayTabBadgeShownTimestamp:0,scheduleNextCallDisplayedTimes:0,scheduleNextCallCurrentSuccessfulCalls:0,showTodayBadge:"true"}}};o.__decorate([r.disableWarnings],A.prototype,"requestUWPToMSIXMigration",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.AlertsLastReadTime)],A.prototype,"getAlertsLastReadTime",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CaptureFirstRunLevel)],A.prototype,"getCaptureFirstRunLevel",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CaptureMarkupTooltipDismissed)],A.prototype,"getCaptureMarkupTooltipDismissed",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CoachMarksSeen)],A.prototype,"getCoachMarksSeen",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.SuggestionsEnabled)],A.prototype,"getSuggestionsEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CelebrationNotificationLastShownTime)],A.prototype,"getCelebrationNotificationLastShownTime",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.Locale)],A.prototype,"getLocale",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.Market)],A.prototype,"getMarket",null),o.__decorate([(0,r.autoSubscribeWithKey)([t.TriggerKeys.DesktopLastTodayTabShownTimestamp,t.TriggerKeys.MobileLastTodayTabShownTimestamp])],A.prototype,"_getLastTodayTabShownTimestamp",null),o.__decorate([(0,r.autoSubscribeWithKey)([t.TriggerKeys.DesktopCurrentBadgingDismissals,t.TriggerKeys.MobileCurrentBadgingDismissals])],A.prototype,"_getTodayBadgeNumberOfDismissals",null),o.__decorate([(0,r.autoSubscribeWithKey)([t.TriggerKeys.ShowTodayBadge,t.TriggerKeys.DesktopLastTodayTabShownTimestamp,t.TriggerKeys.MobileLastTodayTabShownTimestamp])],A.prototype,"shouldShowTodayBadge",null),o.__decorate([r.disableWarnings],A.prototype,"shouldShowTodayBadgeNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.Timezone)],A.prototype,"getTimezone",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.E911Acknowledged)],A.prototype,"isE911Acknowledged",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.EmergencyCallDefaultCountryChanged)],A.prototype,"getEmergencyCallDefaultCountry",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.IntegrationAuthConsent)],A.prototype,"getIntegrationConsent",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.IntegrationIdAuthStatePairs)],A.prototype,"getIntegrationIdAuthStatePairs",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.InviteSharingDisabled)],A.prototype,"getInviteSharingDisabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.IsSetupWizardCompleted)],A.prototype,"getOnboardingUserProfileScreenSeen",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.IsSetupWizardCompleted)],A.prototype,"getIsSetupWizardCompleted",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.ScheduleNextCallDisplayedTimes)],A.prototype,"getScheduleNextCallDisplayedTimes",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.ScheduleNextCallCurrentSuccessfulCalls)],A.prototype,"getScheduleNextCallCurrentSuccessfulCalls",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.MediaEditorFirstRunLevel)],A.prototype,"getMediaEditorFirstRunLevel",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.ReactionPushNotificationsEnabled)],A.prototype,"getReactionNotificationsEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.LastEngagementProcessedMessageOnWebTimestamp)],A.prototype,"getLastEngagementProcessedMessageOnWebTimestamp",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.ReadReceiptsEnabled)],A.prototype,"getReadReceiptsEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.DisplayUrlPreviewsEnabled)],A.prototype,"getDisplayUrlPreviews",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.ReadReceiptsUserPreference)],A.prototype,"getUserPreferenceForReadReceipts",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallNotificationsWhileDND)],A.prototype,"getCallNotificationsWhileDNDEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.ChatNotificationsWhileDND)],A.prototype,"getChatNotificationsWhileDNDEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.NotifyOnPresenceChange)],A.prototype,"getNotifyOnPresenceChangeEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.NotifyOnPresenceChange)],A.prototype,"getNotifyOnPresenceChangeState",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.OldFriendBackNotification)],A.prototype,"getOldFriendBackNotificationState",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.PresentDNDSetting)],A.prototype,"getPresentDNDSettingStatus",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.BingSearchHistoryEnabled)],A.prototype,"getBingSearchHistoryEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.MiniContextMenuEnabled)],A.prototype,"getMiniContextMenuEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.BingSearchTrendingEnabled)],A.prototype,"getBingSearchTrendingEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.ScheduledCallReminders)],A.prototype,"getScheduledCallReminders",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.ScheduledCallBannerDismissStates)],A.prototype,"getScheduledCallsBannerDismissStates",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.Reactions)],A.prototype,"getReactions",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CustomCallReactions)],A.prototype,"getCustomCallReactions",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.TranslatedConversationBannerDismissStates)],A.prototype,"getConversationTranslationBannerDismissState",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.TranslatedConversationBannerDismissStates)],A.prototype,"getInCallTranslationBannerDismissState",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.InterstitialForLargeGroupRinglessCallsShown)],A.prototype,"getInterstitialForLargeGroupRinglessCallsShown",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.InterstitialForSmallGroupRinglessCallsShown)],A.prototype,"getInterstitialForSmallGroupRinglessCallsShown",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.EnableSubtitlesForAllCalls)],A.prototype,"getEnableSubtitlesForAllCalls",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.OnlyShowSubtitlesForOtherParticipants)],A.prototype,"getOnlyShowSubtitlesForOtherParticipants",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorBotSpokenLanguageLocale)],A.prototype,"getCallTranslatorBotSpokenLanguageLocale",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorSpokenLanguage)],A.prototype,"getCallTranslatorSpokenLanguage",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorCaptionsPositionMode)],A.prototype,"getCallTranslatorCaptionsPositionMode",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.PstnTranslationSettings)],A.prototype,"getCallPstnTranslatorBotSpokenLanguageLocales",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorBotTranslationVoice)],A.prototype,"getCallTranslatorBotTranslationVoice",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTranslationConsent)],A.prototype,"getCallTranslatorTranslationConsent",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTranslationConsentChangeDate)],A.prototype,"getCallTranslatorTranslationConsentChangeDate",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTranslationAutoDetectEnabled)],A.prototype,"getCallTranslatorTranslationAutoDetectEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTranslationAutoDetectOffered)],A.prototype,"getCallTranslatorTranslationAutoDetectOffered",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTruVoiceConsent)],A.prototype,"getCallTranslatorTruVoiceConsent",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.MybotBotConvListUnpin)],A.prototype,"getMyBotConvListUnpin",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.MagicBotConsent)],A.prototype,"getMagicBotConsent",null),o.__decorate([r.disableWarnings],A.prototype,"getMagicBotConsentNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.MagicBotConvListUnpin)],A.prototype,"getMagicBotConvListUnpin",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.MagicBotWaitlistStatus)],A.prototype,"getMagicBotWaitlistStatus",null),o.__decorate([r.disableWarnings],A.prototype,"getMagicBotWaitlistStatusNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.MagicBotCampaignReceived)],A.prototype,"getMagicBotCampaignReceived",null),o.__decorate([r.disableWarnings],A.prototype,"getMagicBotCampaignReceivedNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.MagicBotWelcomeCardSeen)],A.prototype,"getMagicBotWelcomeCardSeen",null),o.__decorate([r.disableWarnings],A.prototype,"getMagicBotWelcomeCardSeenNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.ImageGenerationFreCompleted)],A.prototype,"getImageGenerationFreCompleted",null),o.__decorate([r.disableWarnings],A.prototype,"getImageGenerationFreCompletedNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTruVoiceConsentChangeDate)],A.prototype,"getCallTranslatorTruVoiceConsentChangeDate",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTranslationEnabled)],A.prototype,"getCallTranslatorTruVoiceEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.AdsPersonalizationEnabled)],A.prototype,"getAdsPersonalizationEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTruVoiceOffered)],A.prototype,"getCallTranslatorTruVoiceOffered",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorBotSubtitleLanguageLocale)],A.prototype,"getCallTranslatorBotSubtitleLanguageLocale",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorPrivacyConsent)],A.prototype,"getCallTranslatorPrivacyConsent",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.BingBackgroundsEffectDismissed)],A.prototype,"getBingBackgroundsEffectDismissed",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.UserAppearancePreferences)],A.prototype,"getUserAppearancePreferencesForCurrentPlatform",null),o.__decorate([r.disableWarnings],A.prototype,"getUserAppearancePreferencesForCurrentPlatformNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.MessageHintsData)],A.prototype,"getMessageHintsUserData",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.MSNMarket)],A.prototype,"getMSNMarket",null),o.__decorate([r.disableWarnings],A.prototype,"getMSNMarketNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.ContentChannelsUpsellCardDismiss)],A.prototype,"getContentChannelsUpsellCardDismiss",null),o.__decorate([r.disableWarnings],A.prototype,"getContentChannelsUpsellCardDismissNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.ContentChannelsSimilarUpsellCardDismiss)],A.prototype,"getSimilarUpsellCardDismiss",null),o.__decorate([r.disableWarnings],A.prototype,"getSimilarUpsellCardDismissNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.ToneRewriteSuggestionsEnabled)],A.prototype,"getToneRewriteSuggestionsEnabled",null),o.__decorate([r.disableWarnings],A.prototype,"getToneRewriteSuggestionsEnabledNoSubscription",null),A=o.__decorate([r.AutoSubscribeStore],A),t.default=new A},942724:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerKeys=void 0;const o=i(197582),n=o.__importDefault(i(815063)),r=i(217041),a=o.__importStar(i(397691)),s=i(815146),l=o.__importStar(i(85385)),c=o.__importDefault(i(201721)),d=o.__importDefault(i(786486)),u=o.__importDefault(i(960282)),p=o.__importStar(i(446574));var g;!function(e){e[e.NavContextType=0]="NavContextType"}(g||(t.TriggerKeys=g={}));let h=class extends r.StoreBase{constructor(){super(),this._usingStackNavContext=!1,this._maybeUseStackNavigation=()=>{this._shouldUseStackNavigation().then((e=>{this._usingStackNavContext!==e&&(this._usingStackNavContext=e,l.log(s.LogTraceArea.Navigation,"NavigationContextStore: updating use stack navigation: "+this._usingStackNavContext),this.trigger(g.NavContextType))}))},p.RegisterStartupable(this,"NavigationContextStore",[u.default,c.default])}startup(){return l.log(s.LogTraceArea.Navigation,"NavigationContextStore start"),this._shouldUseStackNavigation().then((e=>{const t=this._usingStackNavContext!==e;this._usingStackNavContext=e,l.log(s.LogTraceArea.Navigation,"NavigationContextStore: At startup, use stack navigation: "+this._usingStackNavContext),c.default.subscribe(this._maybeUseStackNavigation),u.default.subscribe(this._maybeUseStackNavigation),t&&this.trigger(g.NavContextType),l.log(s.LogTraceArea.Navigation,"NavigationContextStore: finished startup")})).toEs6Promise()}isUsingStackNavigationContext(){return this._usingStackNavContext}isUsingStackNavigationContextNoSubscription(){return this._usingStackNavContext}isMobileEnvironmentWithStackNavigation(){return n.default.isMobile()&&this.isUsingStackNavigationContextNoSubscription()}_shouldUseStackNavigation(){return c.default.getUserPreferencesLocal().useStackNavOnNarrowDesktop||n.default.isMobile()?d.default.shouldUseStackNavigationFromScreenSize():(l.log(s.LogTraceArea.Navigation,"NavigationContextStore._shouldUseStackNavigation: Using non-RN shell, returning false"),a.Resolved(!1))}};o.__decorate([(0,r.autoSubscribeWithKey)(g.NavContextType)],h.prototype,"isUsingStackNavigationContext",null),o.__decorate([r.disableWarnings],h.prototype,"isUsingStackNavigationContextNoSubscription",null),o.__decorate([r.disableWarnings],h.prototype,"isMobileEnvironmentWithStackNavigation",null),h=o.__decorate([r.AutoSubscribeStore],h);const m=new h;t.default=m},748548:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationEventStore=void 0;const o=i(197582),n=i(217041),r=o.__importDefault(i(555436)),a=i(815146),s=o.__importStar(i(85385)),l=o.__importDefault(i(740794)),c=o.__importDefault(i(506082)),d=o.__importStar(i(446574)),u=o.__importDefault(i(760989));let p=class extends n.StoreBase{constructor(){super(),this._contactStoreCallback=e=>{if(c.default.isUIDisplayed()){const t=u.default.newCauseId();s.log(a.LogTraceArea.Contacts,"processContactBlockChangeNotificationPotentiallyBeforeStartup causeId: "+t),l.default.navigateAfterBlock(e,t,void 0)}},d.RegisterStartupable(this,"NavigationEventStore",[r.default])}startup(){return r.default.contactBlockedEventReceived.subscribe(this._contactStoreCallback),Promise.resolve()}};t.NavigationEventStore=p,t.NavigationEventStore=p=o.__decorate([n.AutoSubscribeStore],p),t.default=new p},450312:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=i(279211),s=o.__importStar(i(516778)),l=i(217041),c=o.__importDefault(i(632015)),d=i(138742),u=o.__importStar(i(671366)),p=i(113002),g=o.__importDefault(i(114818)),h=o.__importDefault(i(760989)),m=o.__importStar(i(353831)),S=o.__importStar(i(812822)),_=o.__importStar(i(85385)),f=o.__importStar(i(446574)),y=i(815146),C=i(928722),v=o.__importStar(i(757838)),b=o.__importDefault(i(637961)),T=o.__importDefault(i(201721)),P=o.__importStar(i(942724)),k=i(869152),A={key:S.MobileHubNavigationId+"+initial",name:S.MobileHubNavigationId,params:{hubTab:S.HubTab.Recents,screen:S.HubTab.Recents}};let I=class extends l.StoreBase{constructor(){super(),this._usingStackNavContext=!1,this._skipCompositeNavigation=!1,this._numberOfTrackedRejoinCallOperations=0,this._stackNavigationContexts={},this._navigation=void 0,this._reduceKeepTop=!1,this._reactNavigationState={index:0,routes:[],routeNames:[]},this._reduceNavRoutes=(e,t,i)=>{const o=[S.ConversationMediaViewerPanelNavigationId,S.SearchNavigationId,S.AlertsHubNavigationId,S.TodayTabNavigationId,S.PurchaseContinuationId+"credit",S.PurchaseContinuationId+"calling",S.MobileHubNavigationId,S.JoiningGuestNavigatorId,S.AddContactPanelId,S.PromptPermissionsNavigatorId,u.PollCreationPanelNavigationId,u.PollSummaryPanelNavigationId,u.PollVotersListPanelNavigationId,S.PSTNDialerPanelId,S.CallFailurePromptId,S.SmsFailurePromptId,S.TasterPostCallPanelId,S.SkypeNumberListNavigationId,S.SkypeNumberInfoScreenNavigationId,S.SkypeNumberFormsNavigationId,S.SkypeNumberPanelPurchaseFlowNavigationId,S.CallerIdCallingSettingsPanelNavigationId,S.CallerIdNumberCallingSettingsPanelNavigationId,S.KycPhoneVerifyFormPanelNavigationId,S.KycFinishVerificationPanelNavigationId,S.CallingSettingsPanelNavigationId,S.NewSettingsPanelNavigationId,S.E911AcknowledgementPanelId,S.PurchaseConfirmationDialogWrapperNavigationId,S.TelephonyWarningNavigationId,d.MeetNowLobbyNavigationId],n=e.filter((e=>!(o.includes(e.name)&&t.includes(e.name))));return i&&e.length>0&&n.length>0&&e[e.length-1].name!==n[n.length-1].name&&n.push(e[e.length-1]),n},f.RegisterStartupable(this,"NavigationStateStore",[T.default,P.default])}startup(){return _.log(y.LogTraceArea.Navigation,"NavigationStateStore start"),this._usingStackNavContext=P.default.isUsingStackNavigationContext(),this._stackNavigationContexts[C.StackNavigatorId.Mobile]=new S.SimpleSplitNavigationContext({}),P.default.subscribe((()=>{const e=P.default.isUsingStackNavigationContext();this._usingStackNavContext!==e&&(this._usingStackNavContext=e,this._convertNavContext())}),P.TriggerKeys.NavContextType),Promise.resolve()}performAfterNavigationInitialized(e){if(this._navigation)e();else{const t=this.subscribe((()=>{e(),this.unsubscribe(t)}),p.TriggerKeys.ReactNavigation)}}navigateToView(e,t,i){var o;if(_.log(y.LogTraceArea.Navigation,"NavigationStateStore.navigateToView, causeId: "+t),!(e instanceof S.CallNavigationContext)){const e=null===(o=this._navigation)||void 0===o?void 0:o.getRootState().routeNames,i=this.getCurrentNavigationStack();(-1!==r.findIndex(i,(e=>e instanceof S.CallNavigationContext))||(null==e?void 0:e.includes(S.CallNavigationId)))&&(_.log(y.LogTraceArea.Navigation,"NavigationStateStore.navigateToView, StackNavigatorId.Mobile navigating while in a call, causeId: "+t),a.PushNotifications.onCallScreenClose())}const n=i||C.StackNavigationType.Push;this.stackNavigateToView(e,void 0,C.StackNavigatorId.Mobile,n,!0,t)}compositeCommitNavigationUpdates(e,t=[p.CompositeNavigationType.Default],i,o){if(m.dismissAll(o),this._skipCompositeNavigation)return;i&&(_.log(y.LogTraceArea.Navigation,"NavigationStateStore.compositeCommitNavigationUpdates, navigating while in a call, causeId: "+e),a.PushNotifications.onCallScreenClose()),this._skipCompositeNavigation=this._shouldSkipNextCompositeNavigation(),b.default.indicateBusyOperation();const n=v.navigationTypesToTriggerKeys(t);_.log(y.LogTraceArea.Navigation,"NavigationStateStore.compositeCommitNavigationUpdates  triggerKeys: "+n+" causeId: "+e),this.trigger(n)}modalNavigateToView(e,t,i,o,r,s){const l=this.getCompositeCallVisible();_.log(y.LogTraceArea.Navigation,"NavigationStateStore.modalNavigateToView: navigator: "+n.pii.Omit(i)+" isCallVisible: "+l+" causeId: "+s),l&&(_.log(y.LogTraceArea.Navigation,"NavigationStateStore.modalNavigateToView, navigating while in a call, causeId: "+s),a.PushNotifications.onCallScreenClose()),this.stackNavigateToView(e,t,i,o,!1,s),r&&this.trigger(p.TriggerKeys.ModalNavigation)}desktopSidebarNavigateToView(e,t,i,o,r,a){_.log(y.LogTraceArea.Navigation,"NavigationStateStore.desktopSidebarNavigateToView: navigator: "+n.pii.Omit(i)+" causeId: "+a),this.stackNavigateToView(e,t,i,o,!1,a),r&&this.trigger(p.TriggerKeys.DesktopSidebar)}setStackReactNavigation(e){if(this._navigation=e,this._navigation){{const e=this._reactNavigationState.routes.length;v.addFakeBrowserHistory(e)}const e=this._navigation.getState();!(this._reactNavigationState.routes.length>0)||e&&(0,g.default)(e.routes,this._reactNavigationState.routes)||this._navigation.reset(this._reactNavigationState)}this.trigger(p.TriggerKeys.ReactNavigation)}onStackReactNavigationStateChange(e){if(this._reactNavigationState=e,this._navigation&&this._reduceNavigationIds){const t=this._reduceNavRoutes(e.routes,this._reduceNavigationIds,this._reduceKeepTop);if(this._reduceNavigationIds=void 0,t.length!==e.routes.length){const i=e.index>=t.length?Math.max(t.length-1,0):e.index;this._navigation.reset({index:i,routes:t}),this.trigger(p.TriggerKeys.NavigationAndTabs)}}}stackNavigateToView(e,t,i,o,a,s){if(m.dismissAll(),!(e instanceof S.DesktopContentPanelNavigationContext)){if(this._navigation)return void v.navigateWithReactNavigation(this._navigation,o,e);if(e){const[t,i]=v.getNavigationParams(e),o={name:t,params:i},n=this._reactNavigationState.routes.findIndex((e=>e.name===o.name));n>=0?(this._reactNavigationState.routes.length=n,this._reactNavigationState.routeNames.length=n):0===this._reactNavigationState.routes.length&&(this._reactNavigationState.routes.push(A),this._reactNavigationState.routeNames.push(A.name)),this._reactNavigationState.routes.push(o),this._reactNavigationState.routeNames.push(o.name),this._reactNavigationState.index=this._reactNavigationState.routes.length-1}}if(e)if(o===C.StackNavigationType.PopToRoot)t===e?this._stackNavContext(i).setNavStack([]):this._stackNavContext(i).setNavStack([e]);else{const t=this.getCurrentNavigationStack(i,!0).slice(0);let n=!1;for(let o=t.length-1;o>=0;o--)if(v.considerNavContextsEqual(e,t[o])){this._stackNavContext(i).setNavStack(t.slice(0,o+1)),n=!0;break}if(!n){const n=r.last(t);o===C.StackNavigationType.Replace||n&&v.shouldNavigationContextPartReplaceExisting(n,e)?(t[t.length-1]=e,this._stackNavContext(i).setNavStack(t)):t.length>=1&&n&&v.shouldResetToHubAndConversation(n,e)?this._stackNavContext(i).setNavStack([t[0],e]):(t.push(e),this._stackNavContext(i).setNavStack(t))}}t&&this._stackNavContext(i).setMasterContext(t),b.default.indicateBusyOperation(),_.log(y.LogTraceArea.Navigation,"NavigationStateStore.stackNavigateToView: navigator: "+n.pii.Omit(i)+" navigationType: "+o+" navContext: "+(e?e.id:"none")+" shouldTrigger: "+a+" causeId: "+s),a&&this.trigger(p.TriggerKeys.NavigationAndTabs)}stackNavNavigateBack(e,t,i=C.StackNavigatorId.Mobile,o=p.CompositeNavigationType.Default){if(_.log(y.LogTraceArea.Navigation,"NavigationStateStore.stackNavNavigateBack navigator: "+n.pii.Omit(i)+" causeId: "+t),this._navigation){if(this._navigation.getState().routes.length<=1)return _.log(y.LogTraceArea.Navigation,`NavigationStateStore: returning (stackNavNavigateBack already at the root of react-navigation) causeId: ${t}`),!1;this._navigation.goBack()}else{const e=this._stackNavContext(i);if(e.getBackStack().length<=1)return _.log(y.LogTraceArea.Navigation,`NavigationStateStore: returning (stackNavNavigateBack already at the root) causeId: ${t}`),!1;e.navigateBack()}if(!e){_.log(y.LogTraceArea.Navigation,"NavigationStateStore.stackNavNavigateBack triggering update. causeId: "+t);const e=v.navigationTypesToTriggerKeys([o]);this.trigger(e)}return!0}clearModalNavStack(e=C.StackNavigatorId.DesktopModal,t,i,o){_.log(y.LogTraceArea.Navigation,"NavigationStateStore.clearModalNavStack navigator: "+n.pii.Omit(e)+" shouldTrigger: "+t+" causeId: "+o),this.clearNavStack(e,!1,i,o),t&&this.trigger(p.TriggerKeys.ModalNavigation)}clearDesktopSidebarNavStack(e=C.StackNavigatorId.DesktopSidebar,t,i,o){_.log(y.LogTraceArea.Navigation,"NavigationStateStore.clearDesktopSidebarNavStack navigator: "+n.pii.Omit(e)+" shouldTrigger: "+t+" causeId: "+o),this.clearNavStack(e,!1,i,o),t&&this.trigger(p.TriggerKeys.DesktopSidebar)}clearNavStack(e=C.StackNavigatorId.Mobile,t,i,o){_.log(y.LogTraceArea.Navigation,"NavigationStateStore.clearNavStack navigator: "+n.pii.Omit(e)+" shouldTrigger: "+t+" causeId: "+o),this._stackNavContext(e).clearNavStack(),i&&this._stackNavContext(e).clearMasterContext(),t&&this.trigger(p.TriggerKeys.NavigationAndTabs)}flattenNavStack(e=C.StackNavigatorId.Mobile){if(_.log(y.LogTraceArea.Navigation,"NavigationStateStore.flattenNavStack, navigator: "+n.pii.Omit(e)),this._usingStackNavContext){const t=this.getCurrentNavigationStack(e,!0);t.length>2&&(this._stackNavContext(e).setNavStack([t[0],t[t.length-1]]),_.log(y.LogTraceArea.Navigation,"NavigationStateStore.flattenNavStack"),this.trigger(p.TriggerKeys.NavigationAndTabs))}}reduceNavStack(e,t=C.StackNavigatorId.Mobile,i=!1){if(_.log(y.LogTraceArea.Navigation,"NavigationStateStore.reduceNavStack, navigator: "+n.pii.Omit(t)),this._navigation)return this._reduceNavigationIds=e,void(this._reduceKeepTop=i);{const t=this._reduceNavRoutes(this._reactNavigationState.routes,e,i);this._reactNavigationState.routes.length=0,this._reactNavigationState.routes.push(...t),this._reactNavigationState.index=this._reactNavigationState.routes.length-1,this._reactNavigationState.routeNames.length=0,this._reactNavigationState.routeNames.push(...t.map((e=>e.name)))}let o=!1;const a=this.getCurrentNavigationStack(t,!0),s=a.length,l=r.filter(a,((t,n)=>{let a=!0;return r.each(e,(e=>{if(!i||n!==s-1)switch(e){case S.ConversationMediaViewerPanelNavigationId:t instanceof S.ConversationMediaViewerPanelContext&&(o=!0,a=!1);break;case S.SearchNavigationId:t instanceof S.SearchNavigationContext&&(o=!0,a=!1);break;case S.AlertsHubNavigationId:t instanceof S.AlertsHubNavigationContext&&(o=!0,a=!1);break;case S.PurchaseContinuationId+"credit":case S.PurchaseContinuationId+"calling":t instanceof S.PurchaseContinuationNavigationContext&&(o=!0,a=!1);break;case S.MobileHubNavigationId:t instanceof S.MobileHubNavigationContext&&(o=!0,a=!1);break;case S.JoiningGuestNavigatorId:t instanceof S.JoiningGuestScreenContext&&(o=!0,a=!1);break;case S.AddContactPanelId:t instanceof S.AddContactPanelNavigationContext&&(o=!0,a=!1);break;case S.PromptPermissionsNavigatorId:t instanceof S.PromptPermissionContext&&(o=!0,a=!1);break;case u.PollCreationPanelNavigationId:t instanceof u.PollCreationPanelNavigationContext&&(o=!0,a=!1);break;case u.PollSummaryPanelNavigationId:t instanceof u.PollSummaryPanelNavigationContext&&(o=!0,a=!1);break;case u.PollVotersListPanelNavigationId:t instanceof u.PollVotersListPanelNavigationContext&&(o=!0,a=!1);break;case S.PSTNDialerPanelId:t instanceof S.PSTNDialerNavigationContext&&(o=!0,a=!1);break;case S.CallFailurePromptId:t instanceof S.CallFailurePromptContext&&(o=!0,a=!1);break;case S.SmsFailurePromptId:t instanceof S.SmsFailurePromptContext&&(o=!0,a=!1);break;case S.TasterPostCallPanelId:t instanceof S.TasterPostCallPanelContext&&(o=!0,a=!1);break;case S.SkypeNumberListNavigationId:t instanceof S.SkypeNumberListNavigationContext&&(o=!0,a=!1);break;case S.SkypeNumberInfoScreenNavigationId:t instanceof S.SkypeNumberInfoScreenNavigationContext&&(o=!0,a=!1);break;case S.SkypeNumberFormsNavigationId:t instanceof S.SkypeNumberFormsNavigationContext&&(o=!0,a=!1);break;case S.SkypeNumberPanelPurchaseFlowNavigationId:t instanceof S.SkypeNumberPanelPurchaseFlowNavigationContext&&(o=!0,a=!1);break;case S.CallerIdCallingSettingsPanelNavigationId:t instanceof S.CallerIdCallingSettingsPanelNavigationContext&&(o=!0,a=!1);break;case S.CallerIdNumberCallingSettingsPanelNavigationId:t instanceof S.CallerIdNumberCallingSettingsPanelNavigationContext&&(o=!0,a=!1);break;case S.CallingSettingsPanelNavigationId:t instanceof S.CallingSettingsPanelNavigationContext&&(o=!0,a=!1);break;case S.KycPhoneVerifyFormPanelNavigationId:t instanceof S.KycPhoneVerifyFormPanelNavigationContext&&(o=!0,a=!1);break;case S.KycFinishVerificationPanelNavigationId:t instanceof S.KycFinishVerificationPanelNavigationContext&&(o=!0,a=!1);break;case S.NewSettingsPanelNavigationId:t instanceof S.NewSettingsPanelNavigationContext&&(o=!0,a=!1);break;case S.E911AcknowledgementPanelId:t instanceof S.E911AcknowledgementPanelNavigationContext&&(o=!0,a=!1);break;case S.PurchaseConfirmationDialogWrapperNavigationId:t instanceof S.PurchaseConfirmationDialogWrapperNavigationContext&&(o=!0,a=!1);break;case d.MeetNowLobbyNavigationId:t instanceof d.MeetNowNavigationContext&&(o=!0,a=!1);break;default:_.warn(y.LogTraceArea.Navigation,"NavigationStateStore: navigationId not handled "+e)}})),a}));_.log(y.LogTraceArea.Navigation,"NavigationStateStore: reduceNavStack: "+o),o&&(this._stackNavContext(t).setNavStack(l),this.trigger(p.TriggerKeys.NavigationAndTabs))}collapseSplitNavContext(e=C.StackNavigatorId.Mobile,t,i){_.log(y.LogTraceArea.Navigation,"NavigationStateStore.collapseSplitNavContext collapsed: "+t+" navigator: "+n.pii.Omit(e)+" causeId: "+i);const o=this._stackNavContext(e);o.isCollapsed()!==t&&(o.collapse(t),this.trigger(p.TriggerKeys.NavigationAndTabs))}isSplitNavStackCollapsed(e=C.StackNavigatorId.Mobile){return this._stackNavContext(e).isCollapsed()}isDesktopSplitNavStackCollapsed(){return this.isSplitNavStackCollapsed(v.mainContentNavigatorId)}isDesktopSplitNavStackCollapsedNoSubscription(){return this.isSplitNavStackCollapsed(v.mainContentNavigatorId)}getCurrentNavigationStackRoute(e=C.StackNavigatorId.Mobile){if(this._navigation)return this._navigation.getCurrentRoute();{const t=r.last(this.getCurrentNavigationStack(e));if(t){if(t instanceof S.MobileContentPanelNavigationContext||t instanceof S.DesktopContentPanelNavigationContext){const e=t.getConversationContext();if(e)return{key:"old-stack"+e.id,name:t.stateId,params:e.state}}return{key:"old-stack"+(null==t?void 0:t.id),name:t.stateId,params:t.state}}}}getCurrentNavigationStack(e=C.StackNavigatorId.Mobile,t=!1){const i=this._stackNavContext(e).getNavStack();return i.length||e!==C.StackNavigatorId.Mobile||(_.log(y.LogTraceArea.Navigation,"NavigationStateStore: No stack navigation context yet. Returning default."),i.push(new S.MobileHubNavigationContext({hubTab:S.HubTab.Recents,screen:S.HubTab.Recents})),this._stackNavContext(e).setNavStack(i)),this._stackNavContext(e).getNavStack(t).slice(0)}getNavigationStackSize(e=C.StackNavigatorId.Mobile){var t;return this._navigation?(null===(t=this._navigation.getState())||void 0===t?void 0:t.routes.length)||0:this.getCurrentNavigationStack(e).length}isOnTopOfNavigationStack(e,t=C.StackNavigatorId.Mobile){const i=this.getCurrentNavigationStackRoute(t);return e===S.MobileHubNavigationId?!!i&&(i.name===e||Object.values(S.HubTab).includes(i.name)):!!i&&i.name===e}getCurrentNavigationBackStack(e=C.StackNavigatorId.Mobile,t=!1){return this._stackNavContext(e).getBackStack(t).slice(0)}getCurrentStackNavigationContext(e=C.StackNavigatorId.Mobile,t=!0){const i=this._stackNavContext(e);return t?i.clone(!0):i}getCurrentModalStackNavigationContext(e=C.StackNavigatorId.DesktopModal,t=!0){const i=this._stackNavContext(e);return t?i.clone(!0):i}getCurrentSidebarStackNavigationContext(e=C.StackNavigatorId.DesktopSidebar,t=!0){return this._getCurrentStackNavigationContextNoSubscription(e,t)}getCurrentStackNavigationContextNoSubscription(e=C.StackNavigatorId.Mobile,t=!0){const i=this._stackNavContext(e);return t?i.clone(!0):i}_getCurrentStackNavigationContextNoSubscription(e=C.StackNavigatorId.Mobile,t=!0){const i=this._stackNavContext(e);return t?i.clone(!0):i}isConversationOnTopOfNavStack(e){if(this._navigation){const t=this._navigation.getCurrentRoute();return(null==t?void 0:t.name)===S.MobileContentPanelId&&(null==t?void 0:t.params).conversationId===e}const t=r.last(this.getCurrentNavigationStack());if(t&&(t instanceof S.MobileContentPanelNavigationContext||t instanceof S.DesktopContentPanelNavigationContext)){const i=t.getConversationContext();return!!i&&e===i.state.conversationId}return!1}isHubOnTopOfNavStackNoSubscription(){if(this._navigation){const e=this._navigation.getCurrentRoute();return!(!e||e.name!==S.MobileHubNavigationId)}const e=r.last(this._stackNavContext(C.StackNavigatorId.Mobile).getNavStack());return!!e&&e instanceof S.MobileHubNavigationContext}getCurrentHubTab(){var e;if(this._navigation){const t=this._navigation.getCurrentRoute();if(t&&t.name===S.MobileHubNavigationId&&t.params){return null!==(e=t.params.hubTab)&&void 0!==e?e:S.HubTab.Recents}return S.HubTab.Recents}const t=r.find(this._stackNavContext(C.StackNavigatorId.Mobile).getNavStack(),(e=>e instanceof S.MobileHubNavigationContext));return t?t.state.hubTab:S.HubTab.Recents}navigateToHubTab(e,t){if(this._usingStackNavContext,this._navigation)this._navigation.navigate(S.MobileHubNavigationId,{hubTab:e,screen:e,params:t});else{let i,o=this._stackNavContext(C.StackNavigatorId.Mobile).getNavStack();const n=r.findLastIndex(o,(e=>e instanceof S.MobileHubNavigationContext));-1!==n?(i=o[n],i.state.hubTab!==e&&(i=i.clone(!1),i.state.hubTab=e),o=o.slice(0,n)):i=new S.MobileHubNavigationContext({hubTab:e,screen:e,params:t}),o.push(i),this._stackNavContext(C.StackNavigatorId.Mobile).setNavStack(o)}_.log(y.LogTraceArea.Navigation,"NavigationStateStore: navigateToHubTab: "+e+"usingStackNavContext: "+this._usingStackNavContext),this.trigger([p.TriggerKeys.NavigationAndTabs,p.TriggerKeys.HubTab])}getCompositeMainStageNavViewMode(){const e=this.getCurrentStackNavigationContext(v.mainContentNavigatorId,!1).getNavStack();return v.mainStageViewModeForNavContext(r.last(e))}getCompositeMainStageNavViewModeNoSubscription(){const e=this._getCurrentStackNavigationContextNoSubscription(v.mainContentNavigatorId,!1).getNavStack();return v.mainStageViewModeForNavContext(r.last(e))}getCompositeCallVisible(){return this._getCompositeCallVisible()}getCompositeCallVisibleNoSubscription(){return this._getCompositeCallVisible()}shouldDisplayRightNavigation(){return this._shouldDisplayRightNavigation()}shouldDisplayRightNavigationNoSubscription(){return this._shouldDisplayRightNavigation()}isFindPanelShowing(e){const t=this._getRightBarNavigationContext();return t instanceof S.FindPanelNavigationContext||t instanceof S.InAppBrowserNavigationContext}isInAppBrowserShowingNoSubscription(){return this._getRightBarNavigationContext()instanceof S.InAppBrowserNavigationContext}isGalleryShowing(){return this._getRightBarNavigationContext()instanceof S.GalleryNavigationContext}isSubtitlesShowing(){return this._getRightBarNavigationContext()instanceof S.SubtitlesNavigationContext}isRightSideBarShowing(){return this._stackNavContext(v.rightSideBarNavigatorId).getNavStack().length>0}isSearchShowing(){return this._leftNavViewMode()===S.LeftNavViewMode.Search}isCallChatShowing(){if(this._leftNavViewMode()===S.LeftNavViewMode.ConversationInCall)return!0;const e=this._stackNavContext(v.rightSideBarNavigatorId);return r.last(e.getNavStack())instanceof S.ConversationInCallNavigationContext}isLeftPanelShowing(){return this._leftNavViewMode()!==S.LeftNavViewMode.None}initialNavigationState(){if(this._reactNavigationState.routes.length>0)return this._reactNavigationState}isUsingStackReactNavigationNoSubscription(){return!!this._navigation}setNewStartingNavigationContext(e){const t=h.default.newCauseId();_.log(y.LogTraceArea.Navigation,"NavigationActions.setNewStartingNavigationContext, causeId: "+t);{const i=v.maybeUpdateDesktopNavContext(e(),t);this._stackNavContext(v.mainContentNavigatorId).setNavStack([i])}}updateMobileHubContextForStackNavContext(e,t){var i;if(this._navigation)return void((null===(i=this._navigation.getCurrentRoute())||void 0===i?void 0:i.name)===S.MobileHubNavigationId&&(this._navigation.setParams({hubTab:e}),t&&this.trigger(p.TriggerKeys.NavigationAndTabs),this.trigger(p.TriggerKeys.HubTab)));const o=this._stackNavContext(C.StackNavigatorId.Mobile).getNavStack();if(o.length){const i=r.findLastIndex(o,(e=>e instanceof S.MobileHubNavigationContext));if(-1!==i){const n=o[i].clone(!0);n.state.hubTab=e,o[i]=n,this._stackNavContext(C.StackNavigatorId.Mobile).setNavStack(o),_.log(y.LogTraceArea.Navigation,"NavigationStateStore: updateMobileHubContextForStackNavContext, hubTab: "+e),t&&this.trigger(p.TriggerKeys.NavigationAndTabs),this.trigger(p.TriggerKeys.HubTab)}}}dangerouslyGetActiveConversationContextOrigin(e){var t;return(null===(t=this.getActiveConversationState())||void 0===t?void 0:t.origin)||y.NavigationConversationOrigin.Unknown}getActiveContextConversationIdNoSubsription(e){var t;return null===(t=this.getActiveConversationState())||void 0===t?void 0:t.conversationId}getActiveConversationId(e){var t;return null===(t=this.getActiveConversationState())||void 0===t?void 0:t.conversationId}getActiveCallConversationId(){return this.getActiveCallConversationIdNoSubscription()}getActiveCallConversationIdNoSubscription(){if(this._usingStackNavContext)if(this._navigation){const e=this._navigation.getCurrentRoute();if(e&&e.name===S.CallNavigationId)return e.params.initialConversationMri}else{const e=r.last(this._stackNavContext(C.StackNavigatorId.Mobile).getNavStack());if(e instanceof S.CallNavigationContext)return e.state.initialConversationMri}else{const e=this._getCurrentStackNavigationContextNoSubscription(v.mainContentNavigatorId,!1).getNavStack(),t=r.last(e);if(t instanceof S.CallNavigationContext)return t.state.initialConversationMri}}getActiveConversationState(){var e,t;if(!this._usingStackNavContext)return null===(t=this._getCompositeConversationContext())||void 0===t?void 0:t.state;if(!this._navigation)return null===(e=this._getStackConversationContext(this._stackNavContext(C.StackNavigatorId.Mobile)))||void 0===e?void 0:e.state;{const e=this._navigation.getCurrentRoute();if(e&&e.name===S.MobileContentPanelId)return null==e?void 0:e.params}}wrapWithTrackingForRejoinCallOperation(e){return++this._numberOfTrackedRejoinCallOperations,1===this._numberOfTrackedRejoinCallOperations&&this.trigger(p.TriggerKeys.RejoinCallOperation),e.finally((()=>{--this._numberOfTrackedRejoinCallOperations,0===this._numberOfTrackedRejoinCallOperations&&this.trigger(p.TriggerKeys.RejoinCallOperation)}))}isTrackingRejoinCallOperation(){return this._numberOfTrackedRejoinCallOperations>0}isContactPanelVisible(){const e=this.getCurrentStackNavigationContext(C.StackNavigatorId.DesktopContent,!1);if(e instanceof S.RootCompositeSplitViewContext){const t=e.getLeftNavigationContext();if(t)return t.state.viewModeHistory.peek()===S.LeftNavViewMode.Contacts}return!1}getActiveContentChannelId(){var e;const t=this.getCurrentStackNavigationContext(v.mainContentNavigatorId,!1).getNavStack();return null===(e=(null==t?void 0:t[0]).state)||void 0===e?void 0:e.channelId}getInterestPageAvailability(){const e=this.getCurrentStackNavigationContext(v.mainContentNavigatorId,!1).getNavStack(),t=null==e?void 0:e[0];if(t instanceof S.TodayTabNavigationContext)return t.state.interestPageEnabled}_leftNavViewMode(){const e=v.mainContentNavigatorId,t=this._stackNavContext(e);if(t instanceof S.RootCompositeSplitViewContext){const e=t.getLeftNavigationContext();return e?e.state.viewModeHistory.peek():void 0}if(t.getMasterContext()instanceof S.ConversationInCallNavigationContext)return S.LeftNavViewMode.ConversationInCall}_shouldSkipNextCompositeNavigation(){const e=this.getCurrentStackNavigationContext(C.StackNavigatorId.DesktopContent,!1).getNavStack();return r.last(e)instanceof S.ForcedUpgradeContext}_convertCompositeNavContextToStackNavContextStack(){return _.log(y.LogTraceArea.Navigation,"NavigationStateStore._convertCompositeNavContextToStackNavContextStack"),s.Modal.dismissAll(),s.Popup.dismissAll(),v.convertCompositeNavContextToStackNavContextStack(this._stackNavContext(C.StackNavigatorId.DesktopContent))}_convertStackNavContextToCompositeSplitNavContext(){return _.log(y.LogTraceArea.Navigation,"NavigationStateStore._convertStackNavContextToCompositeSplitNavContext"),s.Modal.dismissAll(),s.Popup.dismissAll(),v.convertStackNavContextToCompositeSplitNavContext(this._stackNavContext(C.StackNavigatorId.Mobile))}_convertNavContext(){_.log(y.LogTraceArea.Navigation,"NavigationStateStore._convertNavContext, usingStackNavContext: "+this._usingStackNavContext),this._usingStackNavContext?(this._stackNavigationContexts[C.StackNavigatorId.Mobile]=this._convertCompositeNavContextToStackNavContextStack(),delete this._stackNavigationContexts[C.StackNavigatorId.DesktopContent],delete this._stackNavigationContexts[C.StackNavigatorId.DesktopSidebar]):(this._stackNavigationContexts[C.StackNavigatorId.DesktopContent]=this._convertStackNavContextToCompositeSplitNavContext(),this._stackNavigationContexts[C.StackNavigatorId.Mobile]=new S.SimpleSplitNavigationContext({})),this.trigger()}_stackNavContext(e){if(!this._stackNavigationContexts[e]){const t=h.default.newCauseId();_.log(y.LogTraceArea.Navigation,"NavigationActions._stackNavContext, creating new context, causeId: "+t),e===C.StackNavigatorId.DesktopContent?this._stackNavigationContexts[e]=v.createRootCompositeSplitViewContext(t):this._stackNavigationContexts[e]=new S.SimpleSplitNavigationContext({})}return this._stackNavigationContexts[e]}_getCompositeCallVisible(){return this._getCompositeCallVisibleWithNavigatorId(v.mainContentNavigatorId)}_getCompositeCallVisibleWithNavigatorId(e){const t=this.getCurrentStackNavigationContext(e,!1).getNavStack();return r.last(t)instanceof S.CallNavigationContext}_shouldDisplayRightNavigation(){const e=this.getCurrentStackNavigationContext(v.mainContentNavigatorId,!1).getNavStack(),t=(0,c.default)(e);return t instanceof S.CallNavigationContext||t instanceof S.DesktopContentPanelNavigationContext||t instanceof S.WelcomeScreenContext||t instanceof S.CallingDebugPanelNavigationContext||t instanceof S.TodayTabNavigationContext||t instanceof k.ChannelViewNavigationContext}_getStackConversationContext(e){const t=r.last(e.getNavStack());if(t instanceof S.MobileContentPanelNavigationContext)return t.getConversationContext()}_getCompositeConversationContext(){const e=this.getCurrentStackNavigationContext(v.mainContentNavigatorId,!1).getNavStack(),t=r.last(e);if(t instanceof S.DesktopContentPanelNavigationContext)return t.getConversationContext()}_getRightBarNavigationContext(){const e=this._stackNavContext(v.rightSideBarNavigatorId);return r.last(e.getNavStack())}};o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"isSplitNavStackCollapsed",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"isDesktopSplitNavStackCollapsed",null),o.__decorate([l.disableWarnings],I.prototype,"isDesktopSplitNavStackCollapsedNoSubscription",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"getCurrentNavigationStackRoute",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"getCurrentNavigationStack",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"getNavigationStackSize",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"isOnTopOfNavigationStack",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"getCurrentNavigationBackStack",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"getCurrentStackNavigationContext",null),o.__decorate([(0,l.autoSubscribeWithKey)([p.TriggerKeys.ModalNavigation,p.TriggerKeys.NavigationAndTabs])],I.prototype,"getCurrentModalStackNavigationContext",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.DesktopSidebar)],I.prototype,"getCurrentSidebarStackNavigationContext",null),o.__decorate([l.disableWarnings],I.prototype,"getCurrentStackNavigationContextNoSubscription",null),o.__decorate([l.disableWarnings],I.prototype,"_getCurrentStackNavigationContextNoSubscription",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"isConversationOnTopOfNavStack",null),o.__decorate([l.disableWarnings],I.prototype,"isHubOnTopOfNavStackNoSubscription",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.HubTab)],I.prototype,"getCurrentHubTab",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"getCompositeMainStageNavViewMode",null),o.__decorate([l.disableWarnings],I.prototype,"getCompositeMainStageNavViewModeNoSubscription",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"getCompositeCallVisible",null),o.__decorate([l.disableWarnings],I.prototype,"getCompositeCallVisibleNoSubscription",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"shouldDisplayRightNavigation",null),o.__decorate([l.disableWarnings],I.prototype,"shouldDisplayRightNavigationNoSubscription",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.DesktopSidebar)],I.prototype,"isFindPanelShowing",null),o.__decorate([l.disableWarnings],I.prototype,"isInAppBrowserShowingNoSubscription",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.DesktopSidebar)],I.prototype,"isGalleryShowing",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.DesktopSidebar)],I.prototype,"isSubtitlesShowing",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.DesktopSidebar)],I.prototype,"isRightSideBarShowing",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"isSearchShowing",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"isCallChatShowing",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"isLeftPanelShowing",null),o.__decorate([l.disableWarnings],I.prototype,"isUsingStackReactNavigationNoSubscription",null),o.__decorate([l.disableWarnings],I.prototype,"dangerouslyGetActiveConversationContextOrigin",null),o.__decorate([l.disableWarnings],I.prototype,"getActiveContextConversationIdNoSubsription",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"getActiveConversationId",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"getActiveCallConversationId",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.RejoinCallOperation)],I.prototype,"isTrackingRejoinCallOperation",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"getActiveContentChannelId",null),o.__decorate([(0,l.autoSubscribeWithKey)(p.TriggerKeys.NavigationAndTabs)],I.prototype,"getInterestPageAvailability",null),I=o.__decorate([l.AutoSubscribeStore],I);const w=new I;t.default=w},453353:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionStatus=void 0;const o=i(197582),n=(o.__importStar(i(516778)),i(217041)),r=o.__importStar(i(397691)),a=(o.__importDefault(i(659938)),o.__importDefault(i(404547))),s=i(135356),l=i(815146),c=o.__importStar(i(85385)),d=o.__importDefault(i(163374)),u=o.__importStar(i(446574)),p=o.__importDefault(i(601274)),g=o.__importDefault(i(800449)),h=o.__importDefault(i(150343));var m;!function(e){e[e.DisconnectedNoNetworkingReported=1]="DisconnectedNoNetworkingReported",e[e.DisconnectedButNetworkingPossible=2]="DisconnectedButNetworkingPossible",e[e.Connected=3]="Connected",e[e.PossibleCaptivePortal=4]="PossibleCaptivePortal"}(m||(t.ConnectionStatus=m={}));let S=class extends n.StoreBase{constructor(){super(),this._actualStatus=m.DisconnectedButNetworkingPossible,this._reportedStatus=m.Connected,this._appActive=!1,u.RegisterStartupable(this,"NetworkConnectionStore",[d.default,g.default])}startup(){return d.default.subscribe((()=>{this._recalc()})),a.default.subscriptionStateChanged.subscribe((()=>{u.HasStarted(this)&&this._recalc()})),g.default.trouterChanged.subscribe((()=>{u.HasStarted(this)&&this._recalc()})),this._appActive=!0,this._recalc(),r.Resolved()}getConnectionStatus(){return this.getConnectionStatusNoSubsription()}getConnectionStatusNoSubsription(){return this._reportedStatus}isConnected(){return this._reportedStatus===m.Connected}_getChatServiceConnectionStatus(){const e=a.default.getSubscriptionState(),t=a.default.getLongPollResult();c.log(l.LogTraceArea.NetworkConnectionStore,"Chat Service subscription state: "+s.SubscriptionState[e]+"; Long poll result: "+s.LongPollResult[t]);const i=e===s.SubscriptionState.CreatedActive,o=t===s.LongPollResult.FailureErrorCode||d.default.isNetworkConnected();return this._getConnectionStatus(i,o)}_getTrouterConnectionStatus(){const e=g.default.isConnected(),t=d.default.isNetworkConnected();return c.log(l.LogTraceArea.NetworkConnectionStore,`Is trouter connected: ${e}, is network connected: ${t}`),this._getConnectionStatus(e,t)}_getConnectionStatus(e,t){return e?m.Connected:t?d.default.getPassedConnectivityCheck()?m.DisconnectedButNetworkingPossible:m.PossibleCaptivePortal:m.DisconnectedNoNetworkingReported}_recalc(){const e=h.default.getS4LMessagingFeaturesNoSubscription().ued.isExclusive,t=e?this._getTrouterConnectionStatus():this._getChatServiceConnectionStatus();c.log(l.LogTraceArea.NetworkConnectionStore,`Connection status: ${m[t]}, isUedExclusive: ${e}`),t===m.Connected&&(d.default.getPassedConnectivityCheck()||d.default.forcePassedConnectivityCheck()),t!==this._actualStatus&&(c.log(l.LogTraceArea.NetworkConnectionStore,`Status changed from ${m[this._actualStatus]} to ${m[t]}`),this._actualStatus=t,this._cancelDebounceCatchup(),this._appActive?this._checkCatchup():c.log(l.LogTraceArea.NetworkConnectionStore,"The app is not active, we do not need to report the status change"))}_checkCatchup(){this._reportedStatus===m.Connected&&this._actualStatus===m.DisconnectedButNetworkingPossible?this._debounceCatchup(5e3):this._reportedStatus===m.DisconnectedButNetworkingPossible&&this._actualStatus===m.Connected||this._actualStatus===m.DisconnectedNoNetworkingReported?this._debounceCatchup(1e3):this._catchUp()}_cancelDebounceCatchup(){this._disconnectedDebounceTimer&&(p.default.clearTimeout(this._disconnectedDebounceTimer),this._disconnectedDebounceTimer=void 0,c.log(l.LogTraceArea.NetworkConnectionStore,"_cancelDebounceCatchup"))}_debounceCatchup(e){this._cancelDebounceCatchup(),c.log(l.LogTraceArea.NetworkConnectionStore,"_debounceCatchup Scheduled: Last Status = "+m[this._reportedStatus]+", New status = "+m[this._actualStatus]),this._disconnectedDebounceTimer=p.default.setTimeout((()=>{this._disconnectedDebounceTimer=void 0,c.log(l.LogTraceArea.NetworkConnectionStore,"_debounceCatchup Fulfilled: Last Status = "+m[this._reportedStatus]+", New Status = "+m[this._actualStatus]),this._catchUp()}),e)}_catchUp(){this._reportedStatus!==this._actualStatus&&(this._reportedStatus=this._actualStatus,this._actualStatus===m.DisconnectedButNetworkingPossible&&d.default.getPassedConnectivityCheck()&&d.default.runConnectivityCheck(),this.trigger(),c.log(l.LogTraceArea.NetworkConnectionStore,"Catching up and setting state to "+m[this._actualStatus]))}test_reset(){this._cancelDebounceCatchup(),this._actualStatus=m.DisconnectedButNetworkingPossible,this._reportedStatus=m.Connected}};o.__decorate([n.autoSubscribe],S.prototype,"getConnectionStatus",null),o.__decorate([n.disableWarnings],S.prototype,"getConnectionStatusNoSubsription",null),o.__decorate([n.autoSubscribe],S.prototype,"isConnected",null),S=o.__decorate([n.AutoSubscribeStore],S),t.default=new S},778362:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(174958),r=o.__importDefault(i(331654)),a=i(217041),s=i(148540),l=o.__importStar(i(397691)),c=o.__importDefault(i(150343)),d=i(815146),u=o.__importStar(i(85385)),p=o.__importDefault(i(163374)),g=o.__importStar(i(446574)),h=o.__importDefault(i(655192)),m=o.__importDefault(i(139221));let S=class extends a.StoreBase{constructor(){super(),this._isStoreInitialized=!1,g.RegisterStartupable(this,"NetworkOperatorStore",[])}startup(){return p.default.subscribe((()=>{p.default.isNetworkingAvailable()&&(u.log(d.LogTraceArea.NetworkOperator,"ReportedConnectivityStore available, fetching codes"),this._getNetworkOperatorInfo())})),l.Resolved()}_getNetworkOperatorInfo(){return r.default.getMncMccCode().then((e=>{this._networkOperatorInfo=e,u.log(d.LogTraceArea.NetworkOperator,"MCC/MNC code: "+n.pii.Omit(JSON.stringify(e))),this.trigger()})).catch((e=>{u.warn(d.LogTraceArea.NetworkOperator,"MCC/MNC code is not available: "+h.default.errorAsString(e))})).finally((()=>{this._isStoreInitialized=!0}))}_getOperatorCode(){const e=this.getMccCode(),t=this.getMncCode();if(e&&t)return e+"-"+t}getMccCode(){const e=this._networkOperatorInfo;return e?e.mccCode:this._isStoreInitialized?void 0:m.default.getMccCode()}getMncCode(){const e=this._networkOperatorInfo;return e?e.mncCode:this._isStoreInitialized?void 0:m.default.getMncCode()}getCallConnectionType(){const e=c.default.getOEMConfig().zeroRating.mccMncList;if(!e||0===e.length)return u.log(d.LogTraceArea.NetworkOperator,"getCallConnectionType: MCC/MNC list is empty -> AllSupported"),s.ConnectionType.AllSupported;const t=this._getOperatorCode();return u.log(d.LogTraceArea.NetworkOperator,"getCallConnectionType: MCC/MNC code: "+(t?n.pii.Omit(t):"none")),t?e.indexOf(t)>=0?(u.log(d.LogTraceArea.NetworkOperator,"getCallConnectionType: MCC/MNC code: "+n.pii.Omit(t)+" in list -> NoDirectConnection"),s.ConnectionType.NoDirectConnection):(u.log(d.LogTraceArea.NetworkOperator,"getCallConnectionType: No conditions satisfied -> AllSupported"),s.ConnectionType.AllSupported):(u.log(d.LogTraceArea.NetworkOperator,"getCallConnectionType: Cannot fetch MCC/MNC code -> AllSupported"),s.ConnectionType.AllSupported)}};o.__decorate([a.autoSubscribe],S.prototype,"getMccCode",null),o.__decorate([a.autoSubscribe],S.prototype,"getMncCode",null),o.__decorate([a.autoSubscribe],S.prototype,"getCallConnectionType",null),S=o.__decorate([a.AutoSubscribeStore],S),t.default=new S},327400:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(217041);let a=class extends r.StoreBase{constructor(){super(...arguments),this._lastPendingAnimationHandle=1,this._pendingAnimations=[]}isAnimationPending(){return this._pendingAnimations.length>0}createPendingAnimation(){const e=this._lastPendingAnimationHandle++,t={handle:e,startTime:Date.now()};this._pendingAnimations.push(t),1===this._pendingAnimations.length&&(r.StoreBase.pushTriggerBlock(),this.trigger());n.head(this._pendingAnimations);return e}clearPendingAnimation(e){this._pendingAnimations=n.filter(this._pendingAnimations,(t=>t.handle!==e)),0===this._pendingAnimations.length&&(r.StoreBase.popTriggerBlock(),this.trigger())}};o.__decorate([r.autoSubscribe],a.prototype,"isAnimationPending",null),a=o.__decorate([r.AutoSubscribeStore],a),t.default=new a},251733:(e,t,i)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerKeys=void 0;const n=i(197582),r=n.__importStar(i(496486)),a=n.__importStar(i(380157)),s=n.__importStar(i(516778)),l=i(217041),c=n.__importStar(i(397691)),d=n.__importDefault(i(727484)),u=n.__importDefault(i(659938)),p=n.__importDefault(i(150343)),g=i(815146),h=n.__importStar(i(85385)),m=n.__importStar(i(704704)),S=n.__importDefault(i(201721)),_=i(340053),f=n.__importStar(i(446574)),y=n.__importDefault(i(655192)),C=n.__importDefault(i(139221)),v=i(331079),b=n.__importDefault(i(760989));t.TriggerKeys={NotificationsPrompt:"NotificationsPrompt"};let T=o=class extends l.StoreBase{constructor(){super(),this._shouldShowLimitedPhotosPrompt=!0,this._systemPermissionStatus={},this._prePermissionStatus={},f.RegisterStartupable(this,"PermissionsStore",[S.default])}startup(){const e=S.default.getUserPreferencesLocal();this._updatePrePermissionStatus(e.cameraPrePromptStatus,v.PermissionType.Camera,!1),this._updatePrePermissionStatus(e.cameraRollPrePromptStatus,v.PermissionType.CameraRoll,!1),this._updatePrePermissionStatus(e.writeCameraRollPrePromptStatus,v.PermissionType.WriteCameraRoll,!1),this._updatePrePermissionStatus(e.microphonePrePromptStatus,v.PermissionType.Microphone,!1),this._updatePrePermissionStatus(e.contactsPrePromptStatus,v.PermissionType.Contacts,!1),this._updatePrePermissionStatus(e.notificationsPrePromptStatus,v.PermissionType.Notifications,!1),this._updatePrePermissionStatus(e.locationPrePromptStatus,v.PermissionType.Location,!1),this._updatePrePermissionStatus(e.locationAlwaysPrePromptStatus,v.PermissionType.LocationAlways,!1),this._updatePrePermissionStatus(e.readPhoneStatePrePromptStatus,v.PermissionType.ReadPhoneState,!1),this._updatePrePermissionStatus(e.drawOverPermissionPrePromptStatus,v.PermissionType.DrawOver,!1),this._updatePrePermissionStatus(e.calendarPrePromptPermissionPrePromptStatus,v.PermissionType.Calendar,!1),this._updatePrePermissionStatus(e.screenRecordingPrePromptStatus,v.PermissionType.ScreenRecording,!1),this._shouldShowNotificationsPrompt=true;const t=a.default.notificationsPermissionStatus().then((e=>{const t=(a.PermissionStatus.Denied,e);p.default.isWebNotificationPromptCooldownEnabledNoSubscription()&&(this._shouldShowNotificationsPrompt=o._shouldShowPromptWhenStatusIsDeniedOrUnknown(t)),this._updateAndTriggerPermissionStatusForType(v.PermissionType.Notifications,t)})).then(r.noop);if(this._checkSystemPermissionStatus(),this._activationSubToken=u.default.subscribeForChanges("PermissionsStore",(e=>{e===s.Types.AppActivationState.Active&&this._checkSystemPermissionStatus()})),a.default.subscribePermissionStatusChange((e=>{p.default.isWebNotificationPromptCooldownEnabledNoSubscription()&&(this._shouldShowNotificationsPrompt=o._shouldShowPromptWhenStatusIsDeniedOrUnknown(e)),this._updateAndTriggerPermissionStatusForType(v.PermissionType.Notifications,e)})).then((e=>{this._unsubscribePermissionStatusChange=e})),this._shouldShowNotificationsPrompt&&!p.default.isWebNotificationPromptCooldownEnabledNoSubscription()){const t=e.promptClosedForVersion;if(t){const e=y.default.parseVersion(t),i=y.default.parseVersion(C.default.getAppVersion());i&&e&&i.major===e.major&&i.minor<=e.minor&&(this._shouldShowNotificationsPrompt=!1)}}return t}destroy(){var e;this._activationSubToken&&(this._activationSubToken.unsubscribe(),this._activationSubToken=void 0),null===(e=this._unsubscribePermissionStatusChange)||void 0===e||e.call(this)}static _shouldShowPromptWhenStatusIsDeniedOrUnknown(e){const t=S.default.getNotificationPromptClosedTimesNoSubscription();let i=e===a.PermissionStatus.Unknown||e===a.PermissionStatus.Prompt;if(e===a.PermissionStatus.Denied||(e===a.PermissionStatus.Unknown||e===a.PermissionStatus.Prompt)&&t>=3){const e=S.default.getNotificationPromptAppearTimes();let t=S.default.getNotificationPermissionDeniedTimestamp();1===t&&(t=Date.now(),S.default.setNotificationPermissionDeniedTimestamp(t)),e<=4&&Date.now()>(0,d.default)(t).add(2,"month").valueOf()?(i=!0,S.default.setNotificationPromptAppearTimes(5)):e<=3&&Date.now()>(0,d.default)(t).add(1,"month").valueOf()?(i=!0,S.default.setNotificationPromptAppearTimes(4)):e<=2&&Date.now()>(0,d.default)(t).add(2,"week").valueOf()?(i=!0,S.default.setNotificationPromptAppearTimes(3)):e<=1&&Date.now()>(0,d.default)(t).add(1,"week").valueOf()?(i=!0,S.default.setNotificationPromptAppearTimes(2)):0===e&&Date.now()>(0,d.default)(t).add(1,"day").valueOf()?(i=!0,S.default.setNotificationPromptAppearTimes(1)):i=!1}else e===a.PermissionStatus.Granted&&(S.default.setNotificationPromptClosedTimes(0),S.default.setNotificationPromptAppearTimes(0),S.default.setNotificationPermissionDeniedTimestamp(1));return i}isNotificationsPromptDismissed(){return!this._shouldShowNotificationsPrompt}shouldShowNotificationsPrompt(){return this._shouldShowNotificationsPrompt&&this.permissionStatus(v.PermissionType.Notifications)!==a.PermissionStatus.Granted}closeNotificationsPrompt(){this._shouldShowNotificationsPrompt=!1,this.trigger(t.TriggerKeys.NotificationsPrompt),p.default.isWebNotificationPromptCooldownEnabledNoSubscription()||S.default.setUserPreferencesLocal({promptClosedForVersion:C.default.getAppVersion()})}closeLimitedPhotoSelectionPrompt(){this._shouldShowLimitedPhotosPrompt=!1}shouldShowLimitedPhotoSelectionPrompt(){return this._shouldShowLimitedPhotosPrompt&&this._systemPermissionStatus[v.PermissionType.CameraRoll]===a.PermissionStatus.Limited}systemPromptHasNotBeenDisplayed(e){return this.permissionStatus(e)===a.PermissionStatus.Unknown}permissionStatus(e){return e===v.PermissionType.CameraRoll&&this._systemPermissionStatus[e]===a.PermissionStatus.Limited?a.PermissionStatus.Granted:this._systemPermissionStatus[e]||a.PermissionStatus.Unknown}getPermissionStatusFetchIfUnavailable(e,t){const i=this._systemPermissionStatus[e];return(r.isUndefined(i)||i===a.PermissionStatus.Unknown||t)&&(e===v.PermissionType.MicrophoneAndCamera?a.default.microphoneAndCameraPermissionStatus().then((t=>(this.setPermissionStatus(e,t),c.Resolved(t)))):e===v.PermissionType.Microphone?a.default.microphonePermissionStatus().then((t=>(this.setPermissionStatus(e,t),c.Resolved(t)))):e===v.PermissionType.Camera&&a.default.cameraPermissionStatus().then((t=>(this.setPermissionStatus(e,t),c.Resolved(t))))),c.Resolved(this.permissionStatus(e))}requestPermission(e,t,i){const o=`requestPermission - ${v.PermissionType[e]}`,n=this._systemPermissionStatus[e]||a.PermissionStatus.Unknown;if(!(t&&!!(t&v.PermissionPromptOptions.DontPrompt))){const r=this._prePermissionStatus[e]||a.PermissionStatus.Unknown;t&&v.PermissionPromptOptions.PromptAgainIfDenied;{const s=!!(t&&t&v.PermissionPromptOptions.SkipAugmentedWebPanel),l=!!(t&&t&v.PermissionPromptOptions.SkipPrePrompt)&&n!==a.PermissionStatus.Denied;return h.log(g.LogTraceArea.Permissions,`${o}: shouldNotPrePrompt: ${l}, preStatus: ${a.PermissionStatus[r]}, systemStatus: ${a.PermissionStatus[n]}`),this._intPromptForPermissionType(e,!l,s).then((t=>(this.setPermissionStatus(e,t.systemPermissionStatus,t.prePermissionStatus,i),t.systemPermissionStatus)))}}return h.log(g.LogTraceArea.Permissions,`${o}: dontPrompt`),c.Resolved(n)}setPermissionStatus(e,t,i,o){let n=!1;const r=[e];if(h.log(g.LogTraceArea.Permissions,`setPermissionStatus - type: ${v.PermissionType[e]}, newStatus: ${a.PermissionStatus[t]}, prevStatus: ${a.PermissionStatus[this._systemPermissionStatus[e]]}, origin: ${o&&a.PermissionOrigin[o]||"undefined"}`),this._systemPermissionStatus[e]!==t){if(this._systemPermissionStatus[e]=t,e===v.PermissionType.MicrophoneAndCamera){let e=a.PermissionStatus.Denied,i=a.PermissionStatus.Denied;t===a.PermissionStatus.Granted?(e=a.PermissionStatus.Granted,i=a.PermissionStatus.Granted):t===a.PermissionStatus.MicGrantedAndCameraDenied?e=a.PermissionStatus.Granted:t===a.PermissionStatus.MicDeniedAndCameraGranted&&(i=a.PermissionStatus.Granted),this._systemPermissionStatus[v.PermissionType.Microphone]=e,this._systemPermissionStatus[v.PermissionType.Camera]=i,r.push(v.PermissionType.Microphone),r.push(v.PermissionType.Camera),h.track(new _.PermissionsStatusChange(v.PermissionType.Microphone,e,o)),h.track(new _.PermissionsStatusChange(v.PermissionType.Camera,i,o))}else h.track(new _.PermissionsStatusChange(e,t,o));n=!0}this._updatePrePermissionStatus(i||t,e)&&(n=!0),n&&this.trigger(r)}setPrePermissionStatus(e,t){this._updatePrePermissionStatus(t,e)}updateDrawOverPrePermissionStatus(e){this._updatePrePermissionStatus(e,v.PermissionType.DrawOver);const t=S.default.getUserPreferencesLocal().drawOverPermissionPromptDisplayCount||0;S.default.setUserPreferencesLocal({drawOverPermissionPromptDisplayCount:t+1,drawOverPermissionPromptLastDisplayDate:Date.now()})}updateScreenRecordingPrePermissionStatus(){return C.default.isElectronOsx()?a.default.requestScreenRecordingPermission().then((e=>(this._updateAndTriggerPermissionStatusForType(v.PermissionType.ScreenRecording,e),e))):c.Resolved(a.PermissionStatus.Granted)}showDrawOverPermissionPrompt(){const e=p.default.getS4LCMCFeatures().androidCallMonitorConfig.permissionPromptMaxDisplayCount,t=p.default.getS4LCMCFeatures().androidCallMonitorConfig.permissionPromptResetIntervalSeconds,i=S.default.getUserPreferencesLocal().drawOverPermissionPromptLastDisplayDate||0;let o=S.default.getUserPreferencesLocal().drawOverPermissionPromptDisplayCount||0;return t>0&&Date.now()>i+1e3*t&&(h.log(g.LogTraceArea.Permissions,"Reseting drawOverPermissionPromptDisplayCount to 0"),o=0,S.default.setUserPreferencesLocal({drawOverPermissionPromptDisplayCount:o})),this._systemPermissionStatus[v.PermissionType.DrawOver]!==a.PermissionStatus.Granted&&o<e}_checkSystemPermissionStatus(){a.default.cameraRollPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(v.PermissionType.CameraRoll,e)})),a.default.writeCameraRollPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(v.PermissionType.WriteCameraRoll,e)})),a.default.contactsPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(v.PermissionType.Contacts,e)})),a.default.locationPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(v.PermissionType.Location,e)})),a.default.locationAlwaysPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(v.PermissionType.LocationAlways,e)})),a.default.drawOverPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(v.PermissionType.DrawOver,e,!1)})),a.default.readPhoneStatePermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(v.PermissionType.ReadPhoneState,e)})),a.default.backgroundExecutionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(v.PermissionType.BackgroundExecution,e)})),a.default.calendarPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(v.PermissionType.Calendar,e)})),a.default.notificationsPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(v.PermissionType.Notifications,e)}))}_updateAndTriggerPermissionStatusForType(e,t,i=!0){this._systemPermissionStatus[e]!==t&&(this._systemPermissionStatus[e]=t,t===a.PermissionStatus.Granted&&this._prePermissionStatus[e]!==a.PermissionStatus.Granted&&i&&this._updatePrePermissionStatus(a.PermissionStatus.Granted,e),this.trigger(e))}_intPromptForPermissionType(e,t,i){return(t?this._inducePrePromptForType(e):c.Resolved(a.PermissionStatus.Granted)).then((t=>t===a.PermissionStatus.Denied?{prePermissionStatus:t,systemPermissionStatus:a.PermissionStatus.Unknown}:this._induceSystemPromptForType(e,i).then((e=>({prePermissionStatus:t,systemPermissionStatus:e})))))}_inducePrePromptForType(e){let t,i;switch(h.log(g.LogTraceArea.Permissions,"PermissionsStore._inducePrePromptForType "+e),e){case v.PermissionType.Camera:t=m.getString("CapturePermissions.PermissionCamera"),i=m.getString("CapturePermissions.PermissionCameraPrePrompt");break;case v.PermissionType.CameraRoll:case v.PermissionType.WriteCameraRoll:t=m.getString("CapturePermissions.PermissionCameraRoll"),i=m.getString("CapturePermissions.PermissionCameraRollPrePrompt");break;case v.PermissionType.Microphone:t=m.getString("CapturePermissions.PermissionMicrophone"),i=m.getString("CapturePermissions.PermissionMicrophonePrePrompt");break;case v.PermissionType.Contacts:t=m.getString("CapturePermissions.PermissionContacts"),i=m.getString("CapturePermissions.PermissionContactsPrePrompt");break;case v.PermissionType.Notifications:t=m.getString("CapturePermissions.PermissionNotifications"),i=m.getString("CapturePermissions.PermissionNotificationsPrePrompt");break;case v.PermissionType.Location:case v.PermissionType.LocationAlways:t=m.getString("CapturePermissions.PermissionLocation"),i=m.getString("CapturePermissions.PermissionLocationPrePrompt");break;case v.PermissionType.Calendar:t=m.getString("CapturePermissions.PermissionCalendar"),i=m.getString("CapturePermissions.PermissionCalendarPrePrompt");break;case v.PermissionType.ReadPhoneState:t=m.getString("CapturePermissions.PermissionPhone"),i=m.getString("CapturePermissions.PermissionPhonePrePrompt")}return i?a.default.prePromptWithMessageAndTitle(i,t||""):(h.warn(g.LogTraceArea.Permissions,"PermissionsStore._inducePrePromptForType, no message found for "+e),c.Resolved(a.PermissionStatus.Granted))}_induceSystemPromptForType(e,t){let i="";if(e===v.PermissionType.MicrophoneAndCamera){i=`before prompting - Mic: ${a.PermissionStatus[this._systemPermissionStatus[v.PermissionType.Microphone]]||"Unknown"}, Cam: ${a.PermissionStatus[this._systemPermissionStatus[v.PermissionType.Microphone]]||"Unknown"}`}h.log(g.LogTraceArea.Permissions,`_induceSystemPromptForType - ${v.PermissionType[e]}, ${i}`);const o=!!S.default.getUserPreferencesLocal().wasInstructedAboutMicrophoneWebPermissions,n=!!S.default.getUserPreferencesLocal().wasInstructedAboutCameraWebPermissions,r=e=>t?a.SkipAugmentedWebPanelConfig.All:e&&!a.default.supportsGetPermissionState()?a.SkipAugmentedWebPanelConfig.InitialOnly:void 0,s=e=>{h.log(g.LogTraceArea.Permissions,`_induceSystemPromptForType - SkipAugmentedWebPanelConfig: ${void 0!==e?a.SkipAugmentedWebPanelConfig[e]:"undefined"}`)};let l;switch(e){case v.PermissionType.Camera:return l=r(n),s(l),a.default.requestCameraPermission(l);case v.PermissionType.CameraRoll:return a.default.requestCameraRollPermission();case v.PermissionType.WriteCameraRoll:return a.default.requestWriteCameraRollPermission();case v.PermissionType.Microphone:return l=r(o),s(l),a.default.requestMicrophonePermission(l);case v.PermissionType.Contacts:return a.default.requestContactsPermission();case v.PermissionType.Location:return a.default.requestLocationPermission();case v.PermissionType.LocationAlways:return a.default.requestLocationAlwaysPermission();case v.PermissionType.ReadPhoneState:return a.default.requestReadPhoneStatePermission();case v.PermissionType.Calendar:return a.default.requestCalendarPermission();case v.PermissionType.Notifications:return c.Rejected("Notifications prompting is not supported yet.");case v.PermissionType.MicrophoneAndCamera:return l=r(o&&n),s(l),a.default.requestMicrophoneAndCameraPermission(l);case v.PermissionType.DrawOver:return c.Resolved(a.PermissionStatus.Unknown);case v.PermissionType.BackgroundExecution:const t=m.getString("BatterySavePrompt.PromptText");return a.default.requestBackgroundExecutionPermission(t);case v.PermissionType.ScreenRecording:return a.default.requestScreenRecordingPermission();default:return b.default.switchStatementExhaustiveChecking(e),c.Resolved(a.PermissionStatus.Unknown)}}_updatePrePermissionStatus(e,t,i=!0){if(this._prePermissionStatus[t]===e||!f.HasStarted(S.default))return!1;if(this._prePermissionStatus[t]=e,i)switch(t){case v.PermissionType.Camera:S.default.setUserPreferencesLocal({cameraPrePromptStatus:e});break;case v.PermissionType.CameraRoll:S.default.setUserPreferencesLocal({cameraRollPrePromptStatus:e});break;case v.PermissionType.WriteCameraRoll:S.default.setUserPreferencesLocal({writeCameraRollPrePromptStatus:e});break;case v.PermissionType.Microphone:S.default.setUserPreferencesLocal({microphonePrePromptStatus:e});break;case v.PermissionType.MicrophoneAndCamera:S.default.setUserPreferencesLocal({microphonePrePromptStatus:e}),S.default.setUserPreferencesLocal({cameraPrePromptStatus:e});break;case v.PermissionType.Contacts:S.default.setUserPreferencesLocal({contactsPrePromptStatus:e});break;case v.PermissionType.Notifications:S.default.setUserPreferencesLocal({notificationsPrePromptStatus:e});break;case v.PermissionType.Location:S.default.setUserPreferencesLocal({locationPrePromptStatus:e});break;case v.PermissionType.LocationAlways:S.default.setUserPreferencesLocal({locationAlwaysPrePromptStatus:e});break;case v.PermissionType.ReadPhoneState:S.default.setUserPreferencesLocal({readPhoneStatePrePromptStatus:e});break;case v.PermissionType.DrawOver:S.default.setUserPreferencesLocal({drawOverPermissionPrePromptStatus:e});break;case v.PermissionType.BackgroundExecution:S.default.setUserPreferencesLocal({backgroundExecutionPrePromptStatus:e});break;case v.PermissionType.Calendar:S.default.setUserPreferencesLocal({calendarPrePromptPermissionPrePromptStatus:e});break;case v.PermissionType.ScreenRecording:S.default.setUserPreferencesLocal({screenRecordingPrePromptStatus:e});break;default:b.default.switchStatementExhaustiveChecking(t)}return!0}};n.__decorate([(0,l.autoSubscribeWithKey)(t.TriggerKeys.NotificationsPrompt)],T.prototype,"isNotificationsPromptDismissed",null),n.__decorate([(0,l.autoSubscribeWithKey)([t.TriggerKeys.NotificationsPrompt,v.PermissionType.Notifications])],T.prototype,"shouldShowNotificationsPrompt",null),n.__decorate([l.autoSubscribe],T.prototype,"systemPromptHasNotBeenDisplayed",null),n.__decorate([l.autoSubscribe,n.__param(0,l.key)],T.prototype,"permissionStatus",null),n.__decorate([l.autoSubscribe,n.__param(0,l.key)],T.prototype,"getPermissionStatusFetchIfUnavailable",null),T=o=n.__decorate([l.AutoSubscribeStore],T),t.default=new T},84530:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778)),a=o.__importDefault(i(847293)),s=i(217041),l=o.__importStar(i(397691)),c=o.__importDefault(i(150343)),d=o.__importStar(i(201056)),u=o.__importStar(i(766698)),p=i(419585),g=o.__importStar(i(157013)),h=i(815146),m=o.__importStar(i(637961)),S=o.__importStar(i(85385)),_=i(96425),f=o.__importStar(i(437782)),y=o.__importStar(i(446574)),C=o.__importDefault(i(655192)),v=o.__importDefault(i(601274)),b=o.__importDefault(i(220534)),T=i(123117),P=864e5,k=30*P;let A=class extends s.StoreBase{constructor(){super(),this._prefetchState={},this._ongoingRequests={},this._attemptedTokenRefresh={},this._dbPersistQueue=[],this._started=!1,this._debouncedFlushDbQueue=n.debounce((()=>{if(!this._started)return;if(this._dbPersistQueue.length<=0)return;const e=this._dbPersistQueue;this._dbPersistQueue=[],T.ImagePrefetchInfoRepository.putImagePrefetchRecords(e)}),2e3),y.RegisterStartupable(this,"PrefetchedImagesStore")}startup(){return m.default.queueIdleTask("PrefetchedImagesStore",m.TaskTypeFlags.CpuIntensive,(()=>T.ImagePrefetchInfoRepository.getAllImagePrefetchInfo().then((e=>{const t=Date.now(),i=n.partition(e,(e=>e.expiration>t));i[0].forEach((e=>{e.state===p.ImagePrefetchState.Prefetched&&(this._prefetchState[e.url]=e)})),T.ImagePrefetchInfoRepository.removeImagePrefetchInfo(i[1].map((e=>e.url))),this._started=!0,this._debouncedFlushDbQueue()})))),Promise.resolve()}isImagePrefetched(e,t=!0,i=!0){return this.getImagePrefetchState(e,t,i)===p.ImagePrefetchState.Prefetched}getImagePrefetchState(e,t=!0,i=!0){const o=this._prefetchState[e],r=o?o.state:p.ImagePrefetchState.None;if(r!==p.ImagePrefetchState.Prefetched){const i=this._stringifyState(r);S.log(h.LogTraceArea.PrefetchedImagesStore,`Image not prefetched, state: ${i}, trigger prefetch: ${t}, url: ${f.dev_unknownOmit(e)}`)}const s=c.default.getS4LMessagingFeaturesNoSubscription().nativeEmoticonCacheLoggingSampleRate,l=c.default.getS4LMessagingFeaturesNoSubscription().nativeEmoticonCacheTelemetrySampleRate,d=u.random(),m=s&&0===Math.floor(d*s),y=i&&l&&0===Math.floor(d*l);if(m||y){const t=r===p.ImagePrefetchState.Prefetched;a.default.isImageCached(e).then((i=>{if(m&&S.log(h.LogTraceArea.PrefetchedImagesStore,`Image present in native cache: ${i}, prefetched: ${t}, url: ${f.dev_unknownOmit(e)}`),y){const t=g.getBaseUrl(),o=t&&n.startsWith(e,t)?new _.QueryPrefetchedEmoticonImage(r,i,e):new _.QueryPrefetchedImage(r,i);S.track(o)}}))}return this._getImagePrefetchStateImpl(e,t)}_getImagePrefetchStateImpl(e,t){if(!this._prefetchState[e])return t&&this.prefetch(e),p.ImagePrefetchState.None;if(t){const t=this._prefetchState[e];if(Date.now()+k-t.expiration>P&&(t.expiration=Date.now()+k,this._dbPut(t)),t.state===p.ImagePrefetchState.Failed&&Date.now()-t.lastUpdate>3e5)return t.retryCount=0,this.prefetch(e),p.ImagePrefetchState.Prefetching}return this._prefetchState[e].state}_dbPut(e){n.remove(this._dbPersistQueue,(t=>t.url===e.url)),this._dbPersistQueue.push(e),this._debouncedFlushDbQueue()}_delayRetry(e){v.default.setTimeout((()=>{this.prefetch(e)}),1e3)}_stringifyState(e){return p.ImagePrefetchState[e]||e.toString()}_setRecordState(e,t){if(t!==e.state){const i=this._stringifyState(e.state),o=this._stringifyState(t);S.log(h.LogTraceArea.PrefetchedImagesStore,`Image prefetch state updated ${i}->${o}, url: ${f.dev_unknownOmit(e.url)}`),e.state=t}}prefetch(e){if(!b.default.isUrlValid(e))return S.warn(h.LogTraceArea.PrefetchedImagesStore,`${f.dev_unknownOmit(e)} is not a valid url`),l.Resolved(!1);if(this._ongoingRequests[e])return this._ongoingRequests[e];let t;return this._prefetchState[e]?(t=Object.assign({},this._prefetchState[e]),this._setRecordState(t,p.ImagePrefetchState.Prefetching),t.expiration=Date.now()+k):(t={url:e,state:p.ImagePrefetchState.None,retryCount:0,expiration:Date.now()+k},this._setRecordState(t,p.ImagePrefetchState.Prefetching),this._prefetchState[e]=t),this._dbPut(t),this._ongoingRequests[e]=r.Image.prefetch(e).then((()=>(this._setRecordState(t,p.ImagePrefetchState.Prefetched),t.lastUpdate=Date.now(),this._prefetchState[e]=t,this._dbPut(t),this.trigger(e),delete this._ongoingRequests[e],!0))).fail((i=>{this._prefetchState[e].retryCount<3?(this._setRecordState(t,p.ImagePrefetchState.Failed),++t.retryCount,t.lastUpdate=Date.now(),this._prefetchState[e]=t,this._dbPut(t),S.log(h.LogTraceArea.PrefetchedImagesStore,`Image failed (err: ${C.default.errorAsString(i)}) to load: ${f.dev_unknownOmit(e)}, nth try: ${this._prefetchState[e].retryCount}`),this._attemptedTokenRefresh[e]?(S.log(h.LogTraceArea.PrefetchedImagesStore,"Image already attempted to refresh the token before this error response.",f.dev_unknownOmit(e)),this._delayRetry(e)):(this._attemptedTokenRefresh[e]=!0,d.attemptTokenRefresh(e).always((()=>{this._delayRetry(e)})))):S.log(h.LogTraceArea.PrefetchedImagesStore,`Image failed to load: ${f.dev_unknownOmit(e)}`),this.trigger(e),delete this._ongoingRequests[e]})),this._ongoingRequests[e]}};o.__decorate([s.autoSubscribe,o.__param(0,s.key)],A.prototype,"isImagePrefetched",null),o.__decorate([s.autoSubscribe,o.__param(0,s.key)],A.prototype,"getImagePrefetchState",null),A=o.__decorate([s.AutoSubscribeStore],A),t.default=new A},690051:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(380157),a=i(217041),s=o.__importStar(i(397691)),l=i(434343),c=i(815146),d=o.__importStar(i(235256)),u=o.__importStar(i(85385)),p=o.__importDefault(i(652032)),g=o.__importDefault(i(114818)),h=o.__importDefault(i(201721)),m=o.__importDefault(i(357377)),S=i(859993),_=o.__importDefault(i(251733)),f=i(3025),y=o.__importStar(i(446574)),C=i(331079),v="IncludeInSearch",b="SyncAddressBook",T="AvatarVisibility",P="PrivacyOptionsStore";let k=class extends a.StoreBase{constructor(){super(),this._needToFetchIncludeMeInSearchOption=!0,this._needToFetchAvatarPolicy=!0,this.SyncAddressBookPrivacySettingKey="SyncAddressBook",this._refreshOptions=()=>s.all([this._fetchAvatarPolicy(),this._fetchIncludeMeInSearchPrivacyOption()]).then(n.noop),y.RegisterStartupable(this,"PrivacyOptionsStore",[p.default,h.default,_.default])}startup(){const e=!!p.default.getData(l.InternalKeys.SyncAddressBookEnabled);this._syncAddressBookEnabled=e;const t=h.default.getUserPreferencesLocal();return t.forceAddressBookSyncNextStartup&&_.default.permissionStatus(C.PermissionType.Contacts)!==r.PermissionStatus.Granted&&h.default.setUserPreferencesLocal({forceAddressBookSyncNextStartup:!1}),this._includeMeInSearchEnabled=t.includeMeInSearchEnabled,this._searchPrivacyOptions=t.searchPrivacyOptions||{searchable:!1,recommendable:!1},this._avatarPolicy=t.avatarPolicy,d.default.setRefreshOptions(P,{interval:864e5,taskTypeFlags:d.TaskTypeFlags.UsesNetworking,callback:this._refreshOptions}),s.Resolved()}refreshNow(){y.EnsureStarted(this).then((()=>{d.default.fireEarly(P)}))}_fetchIncludeMeInSearchPrivacyOption(){return this._needToFetchIncludeMeInSearchOption=!1,m.default.getIncludeMeInSearchPrivacyOption().then((e=>{e.searchable===this._includeMeInSearchEnabled&&(0,g.default)(this._searchPrivacyOptions,e)||(h.default.setUserPreferencesLocal({includeMeInSearchEnabled:e.searchable,searchPrivacyOptions:e}),this._searchPrivacyOptions=e,this._includeMeInSearchEnabled=e.searchable,this.trigger(v))})).catch((e=>{this._needToFetchIncludeMeInSearchOption=!0}))}getIncludeMeInSearchPrivacyOption(e){return e||this._needToFetchIncludeMeInSearchOption?(this._fetchIncludeMeInSearchPrivacyOption(),this._searchPrivacyOptions):this._searchPrivacyOptions}setIncludeMeInSearchPrivacyOption(e){if((0,g.default)(this._searchPrivacyOptions,e))return;const{searchable:t,recommendable:i}=e;h.default.setUserPreferencesLocal({includeMeInSearchEnabled:t,searchPrivacyOptions:e}),this._includeMeInSearchEnabled=t,this._searchPrivacyOptions=e,this.trigger(v),m.default.setIncludeMeInSearchPrivacyOption(e).catch((e=>{u.log(c.LogTraceArea.GenericUnsafe,"Failed to set IncludeMeInSearch privacy option",e),this._searchPrivacyOptions={searchable:!t,recommendable:!i},this._includeMeInSearchEnabled=!t,this.trigger(v)}))}getSyncAddressBookPrivacySetting(){return _.default.permissionStatus(C.PermissionType.Contacts)===r.PermissionStatus.Granted&&this._syncAddressBookEnabled}setSyncAddressBookPrivacySetting(e){const t=this._syncAddressBookEnabled;this._syncAddressBookEnabled=e,p.default.putData(l.InternalKeys.SyncAddressBookEnabled,e),t!==e&&this.trigger(b)}_fetchAvatarPolicy(){return this._needToFetchAvatarPolicy=!1,m.default.getAvatarPolicy().then((e=>{this._avatarPolicy!==e&&(h.default.setUserPreferencesLocal({avatarPolicy:e}),this._avatarPolicy=e,this.trigger(T))})).catch((e=>{this._needToFetchAvatarPolicy=!0}))}getAvatarPolicy(e){return e||this._needToFetchAvatarPolicy?(this._fetchAvatarPolicy(),this._avatarPolicy):this._avatarPolicy}setAvatarPolicy(e,t){if(this._avatarPolicy===e)return;const i=this._avatarPolicy;this._avatarPolicy=e,this.trigger(T),m.default.setAvatarPolicy(e).then((i=>{h.default.setUserPreferencesLocal({avatarPolicy:e}),u.track(new f.AvatarPolicyChanged(e,t,!0))})).catch((o=>{u.track(new f.AvatarPolicyChanged(e,t,!1,o.statusCode)),u.log(c.LogTraceArea.GenericUnsafe,"Failed to set AvatarPolicy privacy option",o),this._avatarPolicy=i,this.trigger(T)}))}test_reset(){this._avatarPolicy=S.OptionsServiceAvatarPolicyValueType.BUDDIES_OR_AUTHORIZED_CAN_SEE,this._needToFetchAvatarPolicy=!0,this._includeMeInSearchEnabled=!1,this._needToFetchIncludeMeInSearchOption=!0}};o.__decorate([(0,a.autoSubscribeWithKey)(v)],k.prototype,"getIncludeMeInSearchPrivacyOption",null),o.__decorate([(0,a.autoSubscribeWithKey)(b)],k.prototype,"getSyncAddressBookPrivacySetting",null),o.__decorate([(0,a.autoSubscribeWithKey)(T)],k.prototype,"getAvatarPolicy",null),k=o.__decorate([a.AutoSubscribeStore],k),t.default=new k},510856:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(217041),r=o.__importStar(i(446574));let a=class extends n.StoreBase{constructor(){super(),this._reportProblemStatus={},r.RegisterStartupable(this,"ReportProblemStore")}startup(){return Promise.resolve()}getReportProblemStore(){return this._reportProblemStatus}setReportProblemStatus(e,t,i,o){this._reportProblemStatus={screenshotUri:e,vsoTags:t,reportId:i,origin:o}}};o.__decorate([n.autoSubscribe],a.prototype,"getReportProblemStore",null),a=o.__decorate([n.AutoSubscribeStore],a),t.default=new a},163374:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(174958),r=o.__importDefault(i(55003)),a=o.__importStar(i(516778)),s=i(217041),l=o.__importDefault(i(974634)),c=o.__importStar(i(397691)),d=o.__importDefault(i(150343)),u=i(815146),p=o.__importDefault(i(637961)),g=o.__importStar(i(85385)),h=i(25083),m=o.__importStar(i(446574)),S=o.__importStar(i(240297)),_=i(442699),f={[a.Types.DeviceNetworkType.Unknown]:!0,[a.Types.DeviceNetworkType.Wifi]:!0};let y=class extends s.StoreBase{constructor(){super(),this.connectivityChangedEvent=new l.default,this._reportedConnected=!0,this._reportedNetworkType=a.Types.DeviceNetworkType.Unknown,this._passedConnectivityCheck=!0,this._connectivityCheckInProgress=!1,this._canBypassNetworkAvailability=!1,m.RegisterStartupable(this,"ReportedConnectivityStore")}startup(){let e=!1;return a.Network.connectivityChangedEvent.subscribe((t=>{e=!0,this._passedConnectivityCheck=!0,this._connectivityCheckInProgress=!1,this._fetchNetworkType(),this._reportedConnectivityChanged(t)})),this._fetchNetworkType(),a.Network.isConnected().then((t=>{e||(e=!0,this._reportedConnectivityChanged(t),t&&this._performConnectivityCheck(),p.default.updateAppState({networkingAvailable:this.isNetworkingAvailable()}))})),this.subscribe((()=>{p.default.updateAppState({networkingAvailable:this.isNetworkingAvailable()})})),c.Resolved()}isNetworkConnected(){return this._reportedConnected||this._canBypassNetworkAvailability}isNetworkingAvailable(){return this.isNetworkConnected()&&this._passedConnectivityCheck}isNetworkingAvailableNoSubscription(){return(this._reportedConnected||this._canBypassNetworkAvailability)&&this._passedConnectivityCheck}getNetworkType(){return this._reportedNetworkType}getPassedConnectivityCheck(){return this._passedConnectivityCheck}runConnectivityCheck(){this._performConnectivityCheck()}forcePassedConnectivityCheck(){this._connectivityCheckInProgress=!1,this._passedConnectivityCheck||(this._passedConnectivityCheck=!0,this.trigger())}_performConnectivityCheck(){if(this._connectivityCheckInProgress)return void g.log(u.LogTraceArea.ReportedConnectivityStore,"Captive portal check already in progress");if(!r.default.isDetectionSupported())return void g.log(u.LogTraceArea.ReportedConnectivityStore,"Captive portal check not supported");let e;this._connectivityCheckInProgress=!0,void 0!==this._fetchNetworkDefer?(g.log(u.LogTraceArea.ReportedConnectivityStore,"Captive portal waiting for network type"),e=this._fetchNetworkDefer.promise()):e=c.Resolved(this._reportedNetworkType),e.then((e=>{if(!f[e])return g.log(u.LogTraceArea.ReportedConnectivityStore,"Network does not support captive portal"),void this.forcePassedConnectivityCheck();const t=d.default.getConfigSettingsNoSubscription().captivePortalDetection;if(!t.enabled)return void this.forcePassedConnectivityCheck();g.log(u.LogTraceArea.ReportedConnectivityStore,"Performing connectivity/captive portal check with fetch");r.default.getClient(t).checkConnectivity().then((e=>{if(!this._connectivityCheckInProgress)return;g.log(u.LogTraceArea.ReportedConnectivityStore,"Captive portal check finished; connected: "+(e.connected?"Yes":"No")+"; Status code: "+e.statusCode+"; Response length: "+e.responseLength);const t=this._reportedConnected,i=this._passedConnectivityCheck;this._passedConnectivityCheck!==e.connected&&(this._passedConnectivityCheck=e.connected,e.connected&&!this._reportedConnected?this._reportedConnectivityChanged(!0):this.trigger());const o=new h.CaptivePortalCheckEvent(e.connected,t,i);g.track(o)})).catch((e=>{if(!this._connectivityCheckInProgress)return;g.log(u.LogTraceArea.ReportedConnectivityStore,"Captive portal check failed, defaulting to success",n.pii.Omit(e));const t=this._reportedConnected,i=this._passedConnectivityCheck;this.forcePassedConnectivityCheck();const o=new h.CaptivePortalCheckFailureEvent(t,i,e&&e.statusText,!(!e||!e.timedOut));g.track(o);const r=new _.DevDebug("CaptivePortalCheck",n.pii.Omit(e).toString());g.track(r)})).finally((()=>{this._connectivityCheckInProgress=!1}))})).catch((e=>{g.error(u.LogTraceArea.ReportedConnectivityStore,"Captive portal waited for network type, got error"),this._connectivityCheckInProgress=!1}))}_reportedConnectivityChanged(e){this._reportedConnected!==e&&(g.log(u.LogTraceArea.ReportedConnectivityStore,"connectivity has changed: Connected = "+e),e&&this._performConnectivityCheck(),this._reportedConnected=e,this.connectivityChangedEvent.fire(this._reportedConnected),this.trigger())}_fetchNetworkType(){const e=Date.now();this._fetchNetworkLastStartedAt=e,void 0===this._fetchNetworkDefer&&(this._fetchNetworkDefer=c.Defer()),c.all([a.Network.getType(),r.default.canBypassNetworkAvailability()]).then((([e,t])=>{this._reportedNetworkType=e,this._canBypassNetworkAvailability=t,S.setReportedNetworkType(e),g.log(u.LogTraceArea.ReportedConnectivityStore," _fetchNetworkType() type: "+a.Types.DeviceNetworkType[e])})).catch((()=>{g.log(u.LogTraceArea.ReportedConnectivityStore,"Failed to get Network type"),this._reportedNetworkType=a.Types.DeviceNetworkType.Unknown,S.setReportedNetworkType(a.Types.DeviceNetworkType.Unknown)})).finally((()=>{void 0!==this._fetchNetworkDefer&&e>=this._fetchNetworkLastStartedAt&&(this._fetchNetworkDefer.resolve(this._reportedNetworkType),this._fetchNetworkDefer=void 0)}))}test_reset(){this._reportedConnected=!0,this._reportedNetworkType=a.Types.DeviceNetworkType.Unknown,this._passedConnectivityCheck=!0,this._connectivityCheckInProgress=!1}};o.__decorate([s.autoSubscribe],y.prototype,"isNetworkConnected",null),o.__decorate([s.autoSubscribe],y.prototype,"isNetworkingAvailable",null),o.__decorate([s.autoSubscribe],y.prototype,"getNetworkType",null),o.__decorate([s.autoSubscribe],y.prototype,"getPassedConnectivityCheck",null),y=o.__decorate([s.AutoSubscribeStore],y),t.default=new y},960282:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceSize=t.TriggerKeys=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(331654)),a=o.__importDefault(i(815063)),s=o.__importStar(i(516778)),l=i(217041),c=o.__importDefault(i(659938)),d=i(154235),u=i(815146),p=o.__importStar(i(85385)),g=o.__importDefault(i(427845)),h=o.__importStar(i(437782)),m=o.__importStar(i(446574)),S=o.__importDefault(i(655192)),_=o.__importDefault(i(139221)),f=i(331079),y=o.__importDefault(i(760989));var C,v;!function(e){e[e.Orientation=0]="Orientation",e[e.ResponsiveWidth=1]="ResponsiveWidth",e[e.Width=2]="Width",e[e.Height=3]="Height",e[e.ContentSizeMultiplier=4]="ContentSizeMultiplier",e[e.SplitScreenIPad=5]="SplitScreenIPad"}(C||(t.TriggerKeys=C={})),function(e){e.Small="Small",e.Medium="Medium",e.Large="Large"}(v||(t.DeviceSize=v={}));const b=320,T="splitScreenSubscriptionKey";let P=class extends l.StoreBase{constructor(){super(),this._rawWidth={[d.MainRootViewId]:0},this._rawHeight={[d.MainRootViewId]:0},this._responsiveWidth={[d.MainRootViewId]:f.ResponsiveWidth.Medium},this._deviceOrientation={[d.MainRootViewId]:r.DeviceOrientation.Landscape},this._contentSizeMultiplier=1,this._isSplitScreenIPad=!1,this._updateSplitScreen=e=>{this._isSplitScreenIPad!==e&&(p.log(u.LogTraceArea.ResponsiveWidthStore,"iPad split screen updated: "+e),this._isSplitScreenIPad=e,this.trigger(C.SplitScreenIPad))},m.RegisterStartupable(this,"ResponsiveWidthStore")}startup(){if(s.UserInterface.getContentSizeMultiplier().then((e=>{e&&(this._contentSizeMultiplier=e)})),s.UserInterface.contentSizeMultiplierChangedEvent.subscribe((e=>{e&&e!==this._contentSizeMultiplier&&(this._contentSizeMultiplier=e,this.trigger(C.ContentSizeMultiplier))})),_.default.getIOSModel()===u.IOSModel.iPad&&(r.default.isSplitScreen().then((e=>{p.log(u.LogTraceArea.ResponsiveWidthStore,"Split screen initial value: "+e),this._updateSplitScreen(e)})),r.default.addSplitScreenEventListener(T,this._updateSplitScreen)),!this._rawWidth[d.MainRootViewId]||!this._rawHeight[d.MainRootViewId]||_.default.getPlatformType()!==u.PlatformType.iOS){const{width:e,height:t}=s.UserInterface.measureWindow();this.putWindowSize(e,t,d.MainRootViewId)}return this._activationSubToken=c.default.subscribeForChanges("ResponsiveWidthStore",(e=>{if(e===s.Types.AppActivationState.Active){const e=y.default.newCauseId();p.log(u.LogTraceArea.ResponsiveWidthStore,"App state changed, causeId: "+e),this._checkDeviceOrientation(e)}})),Promise.resolve()}putWindowSize(e,t,i){const o=[],n=y.default.newCauseId(),s=this._rawWidth[i]!==e;if(s){this._rawWidth[i]=e,p.log(u.LogTraceArea.ResponsiveWidthStore,"New width: "+e+" rootViewId: "+h.mriOrId(i)+" causeId: "+n),o.push((0,l.formCompoundKey)(i,C.Width));const t=g.default.responsiveWidthForSize(e);this._responsiveWidth[i]!==t&&(this._responsiveWidth[i]=t,p.log(u.LogTraceArea.ResponsiveWidthStore,"New Responsive Width: "+t+" rootViewId: "+h.mriOrId(i)+" causeId: "+n),o.push((0,l.formCompoundKey)(i,C.ResponsiveWidth)))}this._rawHeight[i]!==t&&(this._rawHeight[i]=t,p.log(u.LogTraceArea.ResponsiveWidthStore,"New height: "+t+" rootViewId: "+h.mriOrId(i)+" causeId: "+n),o.push((0,l.formCompoundKey)(i,C.Height)));const c=this.windowDimensionsNoSubscription(i);let d=c.width>c.height?r.DeviceOrientation.Landscape:r.DeviceOrientation.Portrait;a.default.isMobile()&&window.screen.orientation&&window.screen.width===window.outerWidth&&(d=window.screen.orientation.type.startsWith("portrait")?r.DeviceOrientation.Portrait:r.DeviceOrientation.Landscape),d!==this._deviceOrientation[i]&&(this._deviceOrientation[i]=d,p.log(u.LogTraceArea.ResponsiveWidthStore,"New orientation from width update: "+d+" window dimensions, w: "+c.width+" h: "+c.height+" rootViewId: "+h.mriOrId(i)+" causeId: "+n),o.push((0,l.formCompoundKey)(i,C.Orientation))),this.trigger(o),s&&_.default.getPlatformType()===u.PlatformType.Android&&this._checkDeviceOrientation(n)}destroy(){this._activationSubToken&&(this._activationSubToken.unsubscribe(),this._activationSubToken=void 0),r.default.removeSplitScreenEventListener(T)}getWidth(e){return this._rawWidth[e]||0}getWidthNoSubscription(e){return this._rawWidth[e]||0}getHeight(e){return this._rawHeight[e]||0}getHeightNoSubscription(e){return this._rawHeight[e]||0}getResponsiveWidth(e){return this._responsiveWidthForRootViewId(e)}isMobileScreenSize(e){return this._responsiveWidthForRootViewId(e)<=f.ResponsiveWidth.Tiny}getDeviceOrientation(e){return this._deviceOrientation[e]}isTinyScreenSizeNoSubscription(e){return this._responsiveWidthForRootViewId(e)<=f.ResponsiveWidth.Tiny}isSmallOrTinyScreenSize(e){return this._responsiveWidthForRootViewId(e)<=f.ResponsiveWidth.Small}isMinDesktopWidth(e){return this._responsiveWidthForRootViewId(e)<=f.ResponsiveWidth.MinDesktop}getContentSizeMultiplier(){return this._contentSizeMultiplier}isSmallDevice(e){return this.isSmallDeviceNoSubscription(e)}deviceSize(e){return this.isSmallDeviceNoSubscription(e)?v.Small:this.isMediumPhoneDeviceNoSubscription(e)?v.Medium:v.Large}isSplitScreenIPad(){return this._isSplitScreenIPad}isSmallDesktopHeightView(e){return this.isHeightSmallerThanThresholdNoSubscription(637,e)}isHeightSmallerThanThreshold(e,t){const i=this.getHeight(t);return i||p.log(u.LogTraceArea.ResponsiveWidthStore,"No window height dimension for rootViewId:"+h.mriOrId(t)),i<=e}isWidthSmallerThanThreshold(e,t){const i=this.getWidth(t);return i||p.log(u.LogTraceArea.ResponsiveWidthStore,"No window width dimension for rootViewId:"+h.mriOrId(t)),i<=e}isSplitScreenIPadNoSubscription(){return this._isSplitScreenIPad}isSmallDeviceNoSubscription(e){return this.isWidthSmallerThanThresholdNoSubscription(b,e)||this.isHeightSmallerThanThresholdNoSubscription(b,e)}isMediumPhoneDeviceNoSubscription(e){const t=this.windowDimensionsNoSubscription(e);return t.width&&t.height||p.log(u.LogTraceArea.ResponsiveWidthStore,"No window width or height dimension for rootViewId:"+h.mriOrId(e)),t.width>b&&t.width<=400||t.height>b&&t.height<=400}isHeightSmallerThanThresholdNoSubscription(e,t){const i=this.windowDimensionsNoSubscription(t);return i.height||p.log(u.LogTraceArea.ResponsiveWidthStore,"No window height dimension for rootViewId:"+h.mriOrId(t)),i.height<=e}isWidthSmallerThanThresholdNoSubscription(e,t){const i=this.windowDimensionsNoSubscription(t);return i.width||p.log(u.LogTraceArea.ResponsiveWidthStore,"No window width dimension for rootViewId:"+h.mriOrId(t)),i.width<=e}windowDimensionsNoSubscription(e){return e===d.MainRootViewId?s.UserInterface.measureWindow():s.UserInterface.measureWindow(e)}_checkDeviceOrientation(e){r.default.currentOrientation().then((t=>{p.log(u.LogTraceArea.ResponsiveWidthStore,`DeviceUtilities.currentOrientation: ${r.DeviceOrientation[t]}  causeId: ${e}`),t!==this._deviceOrientation[d.MainRootViewId]&&(this._deviceOrientation[d.MainRootViewId]=t,p.log(u.LogTraceArea.ResponsiveWidthStore,`New orientation from DeviceUtilities: ${r.DeviceOrientation[t]}  causeId: ${e}`),this.trigger(C.Orientation))})).catch((t=>{p.warn(u.LogTraceArea.ResponsiveWidthStore,`DeviceUtilities.currentOrientation failed: ${S.default.errorAsString(t)}  causeId: ${e}`)}))}_responsiveWidthForRootViewId(e){let t=this._responsiveWidth[e];return n.isUndefined(t)&&(t=f.ResponsiveWidth.Medium),t}};o.__decorate([(0,l.autoSubscribeWithKey)(C.Width),o.__param(0,l.key)],P.prototype,"getWidth",null),o.__decorate([l.disableWarnings],P.prototype,"getWidthNoSubscription",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.Height),o.__param(0,l.key)],P.prototype,"getHeight",null),o.__decorate([l.disableWarnings],P.prototype,"getHeightNoSubscription",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.ResponsiveWidth),o.__param(0,l.key)],P.prototype,"getResponsiveWidth",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.ResponsiveWidth),o.__param(0,l.key)],P.prototype,"isMobileScreenSize",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.Orientation),o.__param(0,l.key)],P.prototype,"getDeviceOrientation",null),o.__decorate([l.disableWarnings],P.prototype,"isTinyScreenSizeNoSubscription",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.ResponsiveWidth),o.__param(0,l.key)],P.prototype,"isSmallOrTinyScreenSize",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.ResponsiveWidth),o.__param(0,l.key)],P.prototype,"isMinDesktopWidth",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.ContentSizeMultiplier)],P.prototype,"getContentSizeMultiplier",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.Width),o.__param(0,l.key)],P.prototype,"isSmallDevice",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.Width),o.__param(0,l.key)],P.prototype,"deviceSize",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.SplitScreenIPad)],P.prototype,"isSplitScreenIPad",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.Height),o.__param(0,l.key)],P.prototype,"isSmallDesktopHeightView",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.Height),o.__param(1,l.key)],P.prototype,"isHeightSmallerThanThreshold",null),o.__decorate([(0,l.autoSubscribeWithKey)(C.Width),o.__param(1,l.key)],P.prototype,"isWidthSmallerThanThreshold",null),o.__decorate([l.disableWarnings],P.prototype,"isSplitScreenIPadNoSubscription",null),o.__decorate([l.disableWarnings],P.prototype,"isSmallDeviceNoSubscription",null),o.__decorate([l.disableWarnings],P.prototype,"isMediumPhoneDeviceNoSubscription",null),o.__decorate([l.disableWarnings],P.prototype,"isHeightSmallerThanThresholdNoSubscription",null),o.__decorate([l.disableWarnings],P.prototype,"isWidthSmallerThanThresholdNoSubscription",null),o.__decorate([l.disableWarnings],P.prototype,"windowDimensionsNoSubscription",null),P=o.__decorate([l.AutoSubscribeStore],P);const k=new P;t.default=k},117475:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importDefault(i(331654)),r=o.__importStar(i(516778)),a=i(217041),s=i(331654),l=(o.__importDefault(i(659938)),i(154235)),c=i(815146),d=o.__importStar(i(85385)),u=(o.__importDefault(i(114818)),o.__importStar(i(942724))),p=o.__importStar(i(960282)),g=o.__importDefault(i(377556)),h=o.__importStar(i(446574)),m=o.__importDefault(i(655192));var S;!function(e){e[e.StatusBarVisibility=0]="StatusBarVisibility",e[e.StatusBarHeight=1]="StatusBarHeight",e[e.SafeAreaInsets=2]="SafeAreaInsets"}(S||(S={}));let _=class extends a.StoreBase{constructor(){super(),h.RegisterStartupable(this,"SafeAreaStore",[p.default])}startup(){return this._setLeavePaddingForStatusBar(),p.default.subscribe((()=>{this._setLeavePaddingForStatusBar()}),p.TriggerKeys.Orientation),u.default.subscribe((()=>{this._setLeavePaddingForStatusBar()}),u.TriggerKeys.NavContextType),this._statusBarHeight=0,this._keepStatusBarVisible=this._shouldKeepStatusBarVisible(),Promise.resolve()}_setLeavePaddingForStatusBar(){this._leavePaddingForStatusBar=r.StatusBar.isOverlay()&&!(p.default.getDeviceOrientation(l.MainRootViewId)===s.DeviceOrientation.Landscape&&u.default.isUsingStackNavigationContext()),this.trigger(S.StatusBarVisibility)}leavePaddingForStatusBar(){return this._leavePaddingForStatusBar}statusBarHeight(){return this._topInset()}statusBarPadding(){return this._leavePaddingForStatusBar?this._topInset():0}statusBarPaddingNoSubscription(){return this._leavePaddingForStatusBar?this._topInset():0}bottomSafeAreaInset(e){return this._safeAreaInsets?Math.max(0,this._safeAreaInsets.bottom-(e||0)):0}bottomSafeAreaInsetNoSubscription(e){return this._safeAreaInsets?Math.max(0,this._safeAreaInsets.bottom-(e||0)):0}horizontalPaddingStyle(e){const t=this.horizontalInsets(e);if(t!==l.HorizontalInsetZero)return g.default.horizontalPaddingStyle(t)}horizontalInsets(e){if(!this._safeAreaInsets||!this._safeAreaInsets.left&&!this._safeAreaInsets.right)return l.HorizontalInsetZero;if(e){const t=Math.max(0,this._safeAreaInsets.left-e.left),i=Math.max(0,this._safeAreaInsets.right-e.right);return t||i?{left:t,right:i}:l.HorizontalInsetZero}return this._safeAreaInsets}keepStatusBarVisible(){return this._keepStatusBarVisible}keepStatusBarVisibleNoSubscription(){return this._keepStatusBarVisible}hasNonZeroSafeAreaInsets(){return this._hasNonZeroSafeAreaInsets()}hasNonZeroSafeAreaInsetsNoSubscription(){return this._hasNonZeroSafeAreaInsets()}_refreshSafeAreaInsets(){d.log(c.LogTraceArea.GenericUnsafe,"SafeAreaStore _refreshSafeAreaInsets"),n.default.safeAreaInsets().then((e=>{e&&(d.log(c.LogTraceArea.GenericUnsafe,"SafeAreaStore safeAreaInsets: "+m.default.asString(e)),this._safeAreaInsets=e,this._keepStatusBarVisible=this._shouldKeepStatusBarVisible(),this.trigger(S.SafeAreaInsets))})).catch((e=>{d.warn(c.LogTraceArea.GenericUnsafe,"SafeAreaStore safeAreaInsets failed: "+m.default.errorAsString(e))}))}_topInset(){return(this._safeAreaInsets?this._safeAreaInsets.top:0)||this._statusBarHeight}_shouldKeepStatusBarVisible(){return!r.StatusBar.isOverlay()||this._hasNonZeroSafeAreaInsets()&&this._topInset()>this._defaultStatusBarHeight()+10}_hasNonZeroSafeAreaInsets(){return!!this._safeAreaInsets&&!!(this._safeAreaInsets.left||this._safeAreaInsets.top||this._safeAreaInsets.right||this._safeAreaInsets.bottom)}_defaultStatusBarHeight(){return 0}};o.__decorate([(0,a.autoSubscribeWithKey)(S.StatusBarVisibility)],_.prototype,"leavePaddingForStatusBar",null),o.__decorate([(0,a.autoSubscribeWithKey)([S.StatusBarHeight,S.SafeAreaInsets])],_.prototype,"statusBarHeight",null),o.__decorate([(0,a.autoSubscribeWithKey)([S.StatusBarVisibility,S.StatusBarHeight,S.SafeAreaInsets])],_.prototype,"statusBarPadding",null),o.__decorate([a.disableWarnings],_.prototype,"statusBarPaddingNoSubscription",null),o.__decorate([(0,a.autoSubscribeWithKey)(S.SafeAreaInsets)],_.prototype,"bottomSafeAreaInset",null),o.__decorate([a.disableWarnings],_.prototype,"bottomSafeAreaInsetNoSubscription",null),o.__decorate([(0,a.autoSubscribeWithKey)(S.SafeAreaInsets)],_.prototype,"horizontalPaddingStyle",null),o.__decorate([(0,a.autoSubscribeWithKey)(S.SafeAreaInsets)],_.prototype,"horizontalInsets",null),o.__decorate([(0,a.autoSubscribeWithKey)(S.StatusBarHeight)],_.prototype,"keepStatusBarVisible",null),o.__decorate([a.disableWarnings],_.prototype,"keepStatusBarVisibleNoSubscription",null),o.__decorate([(0,a.autoSubscribeWithKey)(S.SafeAreaInsets)],_.prototype,"hasNonZeroSafeAreaInsets",null),o.__decorate([a.disableWarnings],_.prototype,"hasNonZeroSafeAreaInsetsNoSubscription",null),_=o.__decorate([a.AutoSubscribeStore],_),t.default=new _},421334:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=(o.__importStar(i(516778)),i(217041)),r=i(815146),a=o.__importStar(i(85385)),s=o.__importStar(i(446574));let l=class extends n.StoreBase{constructor(){super(),this._screenReaderEnabled=!1,s.RegisterStartupable(this,"ScreenReaderStatusStore")}startup(){return this._screenReaderEnabled=!1,Promise.resolve()}isMobileScreenReaderEnabled(){return this._screenReaderEnabled}isMobileScreenReaderEnabledNoSubscription(){return this._screenReaderEnabled}_reportScreenReaderStatus(e){this._screenReaderEnabled!==e&&(a.log(r.LogTraceArea.GenericUnsafe,"ScreenReaderDetectionStore Change: isEnabled = "+e),this._screenReaderEnabled=e,this.trigger())}};o.__decorate([n.autoSubscribe],l.prototype,"isMobileScreenReaderEnabled",null),o.__decorate([n.disableWarnings],l.prototype,"isMobileScreenReaderEnabledNoSubscription",null),l=o.__decorate([n.AutoSubscribeStore],l),t.default=new l},506082:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SecondaryWindowLoginType=t.TriggerKeys=t.StartupUIState=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=o.__importStar(i(397691)),s=o.__importDefault(i(150343)),l=i(815146),c=o.__importDefault(i(71380)),d=o.__importStar(i(85385)),u=o.__importDefault(i(114818)),p=o.__importStar(i(446574)),g=o.__importDefault(i(922119));var h,m,S;!function(e){e[e.SplashDisplayed=0]="SplashDisplayed",e[e.LoginDisplayed=1]="LoginDisplayed",e[e.StartupComplete=2]="StartupComplete"}(h||(t.StartupUIState=h={})),function(e){e[e.CallingStatusKey=0]="CallingStatusKey",e[e.UIDisplayedKey=1]="UIDisplayedKey",e[e.LoginSessionKey=2]="LoginSessionKey",e[e.StartupUIStateKey=3]="StartupUIStateKey",e[e.SecondaryWindowLoginStateKey=4]="SecondaryWindowLoginStateKey"}(m||(t.TriggerKeys=m={})),function(e){e[e.MSALogin=0]="MSALogin",e[e.QuickSignOn=1]="QuickSignOn"}(S||(t.SecondaryWindowLoginType=S={}));let _=class extends r.StoreBase{constructor(){super(),this._isUIDisplayed=!1,this._telemetryServiceResumed=!1,this._telemetryServiceDebounce=n.debounce((()=>{this._telemetryServiceResumed=!0,g.default.resume()}),s.default.getS4LFeatures().scheduler.telemetryServiceResumeTimeout),this._inCall=!1,this._inCallEstablishment=!1,this._loggedInThisSession=!1,this._startupUIState=h.SplashDisplayed,this.subscribe((()=>{c.default.updateAppState({uiDisplayed:this._isUIDisplayed})}),m.UIDisplayedKey),this.subscribe((()=>{c.default.updateAppState({inCall:this._inCall,inCallEstablishment:this._inCallEstablishment})}),m.CallingStatusKey)}test_reset(){this._isUIDisplayed=!1,this._inCall=!1,this._inCallEstablishment=!1,this._loggedInThisSession=!1}internal_uiIsDisplayed(){this._isUIDisplayed=!0,this.trigger(m.UIDisplayedKey)}internal_userLoggedIn(){this._loggedInThisSession=!0,this.trigger(m.LoginSessionKey)}internal_getLoginDisplayedParameters(){return this._loginDisplayedParameters}isUIDisplayed(){return this._isUIDisplayed}isLoginSession(){return this._loggedInThisSession}isInCallEstablishment(){return this._isInCallEstablishmentNoSubscription()}_isInCallEstablishmentNoSubscription(){return this._inCallEstablishment}isInCall(){return this._isInCallNoSubscription()}_isInCallNoSubscription(){return this._inCall||this._inCallEstablishment}internal_setCallStatus(e){const t=e!==this._inCall;e!==this._inCall&&(d.log(l.LogTraceArea.Startup,"ServiceStateStore: Setting inCall to "+e),this._inCall=e,this._maybeResolveCallingPromises()),t&&this.trigger(m.CallingStatusKey)}internal_setCallEstablishmentStatus(e,t){e!==this._inCallEstablishment&&(d.log(l.LogTraceArea.Startup,"ServiceStateStore: Set inCallEstablishment to "+e+" reason: "+t),this._inCallEstablishment=e,s.default.getS4LFeatures().scheduler.enableTelemetryServiceThrottling&&(e?(this._telemetryServiceResumed=!1,g.default.pause(),this._telemetryServiceDebounce()):(this._telemetryServiceDebounce.cancel(),this._telemetryServiceResumed||(this._telemetryServiceResumed=!0,g.default.resume()))),this._maybeResolveCallingPromises(),this.trigger(m.CallingStatusKey))}_maybeResolveCallingPromises(){if(this._whenNotInCall&&!this._isInCallNoSubscription()){const e=this._whenNotInCall;this._whenNotInCall=void 0,e.resolve(void 0)}if(this._whenNotInCallEstablishment&&!this._isInCallEstablishmentNoSubscription()){const e=this._whenNotInCallEstablishment;this._whenNotInCallEstablishment=void 0,e.resolve(void 0)}}performWhenNotInCallEstablishment(){return this._isInCallEstablishmentNoSubscription()?(this._whenNotInCallEstablishment||(this._whenNotInCallEstablishment=a.Defer()),this._whenNotInCallEstablishment.promise()):a.Resolved()}performWhenNotInCall(){return this._isInCallNoSubscription()?(this._whenNotInCall||(this._whenNotInCall=a.Defer()),this._whenNotInCall.promise()):a.Resolved()}startupAfterUIStarted(e){this.performAfterUIStarted((()=>{p.EnsureStarted(e)}))}performAfterUIStarted(e){if(this.isUIDisplayed())e();else{const t=this.subscribe((()=>{e(),this.unsubscribe(t)}),m.UIDisplayedKey)}}getStartupUIState(){return this._startupUIState}internal_setStartupUIState(e,t){e===this._startupUIState&&(0,u.default)(t,this._loginDisplayedParameters)||(d.log(l.LogTraceArea.Startup,"ServiceStateStore: Setting statup UI state to "+e),this._startupUIState=e,this._loginDisplayedParameters=t,this.trigger(m.StartupUIStateKey))}getSecondaryWindowLoginState(){return this._secondaryWindowLoginState}internal_setSecondaryWindowLoginState(e,t){d.log(l.LogTraceArea.Startup,"ServiceStateStore: Setting secondary window login by "+e),this._secondaryWindowLoginState={loginType:e,state:t},this.trigger(m.SecondaryWindowLoginStateKey)}internal_resetSecondaryWindowLoginState(){this._secondaryWindowLoginState=void 0}};o.__decorate([(0,r.autoSubscribeWithKey)(m.UIDisplayedKey)],_.prototype,"isUIDisplayed",null),o.__decorate([(0,r.autoSubscribeWithKey)(m.LoginSessionKey)],_.prototype,"isLoginSession",null),o.__decorate([(0,r.autoSubscribeWithKey)(m.CallingStatusKey)],_.prototype,"isInCallEstablishment",null),o.__decorate([(0,r.autoSubscribeWithKey)(m.CallingStatusKey)],_.prototype,"isInCall",null),o.__decorate([r.disableWarnings],_.prototype,"internal_setCallStatus",null),o.__decorate([r.disableWarnings],_.prototype,"internal_setCallEstablishmentStatus",null),o.__decorate([(0,r.autoSubscribeWithKey)(m.StartupUIStateKey)],_.prototype,"getStartupUIState",null),o.__decorate([r.disableWarnings],_.prototype,"internal_setStartupUIState",null),o.__decorate([(0,r.autoSubscribeWithKey)(m.SecondaryWindowLoginStateKey)],_.prototype,"getSecondaryWindowLoginState",null),o.__decorate([r.disableWarnings],_.prototype,"internal_setSecondaryWindowLoginState",null),_=o.__decorate([r.AutoSubscribeStore],_);const f=new _;if("undefined"!=typeof window){window.ServiceStateStore=f}t.default=f},322094:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SideBar=void 0;const o=i(197582),n=i(217041),r=o.__importDefault(i(150343)),a=i(154235),s=i(20107),l=o.__importDefault(i(201721)),c=o.__importStar(i(446574));var d;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(d||(t.SideBar=d={}));let u=class extends n.StoreBase{constructor(){super(),this._leftSideBarWidth=a.SideBarWidths.base,this._rightSideBarWidth=a.SideBarWidths.base,this._rightSideBarFloating=!1,c.RegisterStartupable(this,"SideBarWidthStore",[l.default])}startup(){return this._leftEnabled=this._resizingEnabled(d.Left),this._leftSideBarWidth=this._currentSideBarWidth(d.Left),this._rightEnabled=this._resizingEnabled(d.Right),this._rightSideBarWidth=this._currentSideBarWidth(d.Right),r.default.subscribe((()=>{const e=this._resizingEnabled(d.Left),t=this._resizingEnabled(d.Right);e===this._leftEnabled&&t===this._rightEnabled||(this._leftEnabled=e,this.putWidth(d.Left,this._currentSideBarWidth(d.Left),!1),this._rightEnabled=t,this.putWidth(d.Right,this._currentSideBarWidth(d.Right),!1),this.trigger())})),Promise.resolve()}putWidth(e,t,i=!0){let o=!1;e===d.Left?this._leftSideBarWidth!==t&&(this._leftSideBarWidth=t,o=i,l.default.setUserPreferencesLocal({leftPanelExpandedWidth:t})):e===d.Right&&this._rightSideBarWidth!==t&&(this._rightSideBarWidth=t,o=i,l.default.setUserPreferencesLocal({rightPanelExpandedWidth:t})),o&&this.trigger()}putRightSideBarFloating(e){this._rightSideBarFloating!==e&&(this._rightSideBarFloating=e,this.trigger())}getWidth(e=d.Left,t=!0){return this._intGetWidth(e,t)}getWidthNoSubscription(e=d.Left,t=!0){return this._intGetWidth(e,t)}resizingEnabled(e){return e===d.Left?this._leftEnabled:e===d.Right&&this._rightEnabled}rightSideBarFloating(){return this._rightSideBarFloating}rightSideBarFloatingNoSubscription(){return this._rightSideBarFloating}_intGetWidth(e,t=!0){switch(e){case d.Left:return this._leftSideBarWidth;case d.Right:return t||!this._rightSideBarFloating?this._rightSideBarWidth:0}return a.SideBarWidths.base}_resizingEnabled(e){return e===d.Left?r.default.getS4LUiFeatures().leftSideBarResizeMode>s.SideBarResizeMode.None:!!d.Right}_currentSideBarWidth(e){return e===d.Left?this._leftEnabled&&l.default.getUserPreferencesLocal().leftPanelExpandedWidth||a.SideBarWidths.base:e===d.Right&&this._rightEnabled&&l.default.getUserPreferencesLocal().rightPanelExpandedWidth||a.SideBarWidths.base}};o.__decorate([n.autoSubscribe],u.prototype,"getWidth",null),o.__decorate([n.disableWarnings],u.prototype,"getWidthNoSubscription",null),o.__decorate([n.autoSubscribe],u.prototype,"resizingEnabled",null),o.__decorate([n.autoSubscribe],u.prototype,"rightSideBarFloating",null),o.__decorate([n.disableWarnings],u.prototype,"rightSideBarFloatingNoSubscription",null),u=o.__decorate([n.AutoSubscribeStore],u);const p=new u;t.default=p},316026:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=o.__importDefault(i(150343)),s=o.__importDefault(i(859545)),l=i(815146),c=o.__importStar(i(85385)),d=o.__importStar(i(201721)),u=o.__importDefault(i(247286)),p=o.__importStar(i(446574));let g=class extends r.StoreBase{constructor(){super(),this._didUserDismiss=!1,this._updateConfigValueIfRequired=()=>{const e=a.default.getS4LCMCFeaturesNoSubscription().speechConsentFlowConfig;if(!e)return this._maxSuggestionShownCount=void 0,void(this._maxCallsBetweenConsentSuggestion=void 0);this._maxSuggestionShownCount=e.maxSuggestionsShownCount,this._maxCallsBetweenConsentSuggestion=e.callsBetweenConsentSuggestion,c.log(l.LogTraceArea.InCallBotService,"Config value for max suggestion count: "+this._maxSuggestionShownCount+" and for calls between consent suggestion: "+this._maxCallsBetweenConsentSuggestion)},this._updateCallCountWithTranslator=()=>{const e=d.default.getUserPreferencesLocal();this._didUserDismiss=!!e.speechSuggestionDismissed,this._currentConsent=d.default.getSpeechConsentForTranslator()},p.RegisterStartupable(this,"SpeechConsentStatusStore",[d.default])}startup(){return this._currentCallCountWithTranslator=void 0,this._updateConfigValueIfRequired(),this._updateCallCountWithTranslator(),this._appConfigStoreSub||(this._appConfigStoreSub=a.default.subscribe(this._updateConfigValueIfRequired)),this._userPrefStoreSub||(this._userPrefStoreSub=d.default.subscribe(this._updateCallCountWithTranslator,d.LocalPreferencesTriggerKeys.speechConsentSuggestion)),Promise.resolve()}showSpeechConsentSuggestingInConversation(){if(!this._speechConsentFlowSuggestionEnabled()||void 0!==this._currentConsent||this._didUserDismiss||n.isUndefined(this._maxSuggestionShownCount)||n.isUndefined(this._maxCallsBetweenConsentSuggestion)||n.isUndefined(this._currentCallCountWithTranslator))return!1;const e=this._maxCallsBetweenConsentSuggestion*this._maxSuggestionShownCount;if(0===this._currentCallCountWithTranslator||this._currentCallCountWithTranslator>e)return!1;if(1===this._currentCallCountWithTranslator)return c.log(l.LogTraceArea.InCallBotService,"Showing speech consent suggestion after first translated call"+this._currentCallCountWithTranslator),!0;const t=this._currentCallCountWithTranslator%this._maxCallsBetweenConsentSuggestion==1;return c.log(l.LogTraceArea.InCallBotService,"Showing speech consent suggestion: "+t+" for translated calls count: "+this._currentCallCountWithTranslator),t}hideSpeechConsentSuggestion(){c.log(l.LogTraceArea.InCallBotService,"Hide speech consent suggestion"),this._didUserDismiss=!0,d.default.setUserPreferencesLocal({speechSuggestionDismissed:!0}),this.trigger()}setSpeechConsentValue(e){c.log(l.LogTraceArea.InCallBotService,"Setting consent for speech for translation to "+e),d.default.setSpeechConsentForTranslator(e),this.hideSpeechConsentSuggestion()}getSpeechConsentValue(){return!!this._currentConsent}incrementCountForTranslatedCalls(){this._speechConsentFlowSuggestionEnabled()&&n.isUndefined(this._currentConsent)&&(this._currentCallCountWithTranslator=d.default.getUserPreferencesLocalNoSubscription().callsWithTranslatorCount||0,this._currentCallCountWithTranslator++,d.default.setUserPreferencesLocal({callsWithTranslatorCount:this._currentCallCountWithTranslator}),c.log(l.LogTraceArea.InCallBotService,"Calls with translator: "+this._currentCallCountWithTranslator),this._enableSpeechSuggestionToBeShown(),this.trigger())}lastTimeShowingSuggestion(){return!n.isUndefined(this._maxCallsBetweenConsentSuggestion)&&!n.isUndefined(this._maxSuggestionShownCount)&&(this._currentCallCountWithTranslator=d.default.getUserPreferencesLocalNoSubscription().callsWithTranslatorCount||0,Math.floor(this._currentCallCountWithTranslator/this._maxCallsBetweenConsentSuggestion)===this._maxSuggestionShownCount-1&&this._currentCallCountWithTranslator%this._maxCallsBetweenConsentSuggestion==1)}_enableSpeechSuggestionToBeShown(){this._didUserDismiss=!1,d.default.setUserPreferencesLocal({speechSuggestionDismissed:!1})}_speechConsentFlowSuggestionEnabled(){return a.default.getS4LCMCFeaturesNoSubscription().enableSpeechConsentFlow&&s.default.call().canProvideSpeechConsent&&!u.default.isChild()}test_resetState(){d.default.setCallsWithTranslatorCount(void 0),d.default.setSpeechConsentForTranslator(void 0),d.default.setUserPreferencesLocal({speechSuggestionDismissed:void 0}),this._userPrefStoreSub&&(d.default.unsubscribe(this._userPrefStoreSub),this._userPrefStoreSub=void 0),this._appConfigStoreSub&&(a.default.unsubscribe(this._appConfigStoreSub),this._appConfigStoreSub=void 0),this.startup(),this.trigger()}test_setCallCountWithTranslatror(e){this._currentCallCountWithTranslator=e}};o.__decorate([r.autoSubscribe],g.prototype,"showSpeechConsentSuggestingInConversation",null),o.__decorate([r.autoSubscribe],g.prototype,"getSpeechConsentValue",null),g=o.__decorate([r.AutoSubscribeStore],g),t.default=new g},218902:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PillStatus=void 0;const o=i(197582),n=i(217041),r=o.__importStar(i(44717)),a=o.__importDefault(i(389659)),s=i(815146),l=o.__importStar(i(85385)),c=o.__importStar(i(704704)),d=o.__importStar(i(453353)),u=o.__importStar(i(974884)),p=e=>{l.log(s.LogTraceArea.ConnectivityStatusBar,e)};var g;!function(e){e[e.NO_CONNECTION=0]="NO_CONNECTION",e[e.CONNECTING=1]="CONNECTING",e[e.UPDATING=2]="UPDATING",e[e.INFO=3]="INFO",e[e.CAPTIVE_PORTAL=4]="CAPTIVE_PORTAL",e[e.SEARCH=5]="SEARCH"}(g||(t.PillStatus=g={}));let h=class extends n.StoreBase{constructor(){super(),this._isMsgStoreLoading=!1,this._isUnread=!1,this._updateConvSyncStatus=e=>()=>{const t=u.default.isConversationSyncing(e);this._isConversationSyncing!==t&&(this._isConversationSyncing=t,this.trigger())},this._updateLoadingState=()=>{const e=this._isMsgStoreLoading,t=!!this._messageStreamStore&&this._messageStreamStore.isLoadingItemsFromNetwork();this._isMsgStoreLoading=!!t,e!==t&&this.trigger()},this._updateConnectionStatus=()=>{const e=d.default.getConnectionStatusNoSubsription();e!==this._connectionStatus&&(this._connectionStatus=e,this.trigger())},this._updateConvListSyncingStatus=()=>{const e=u.default.isSyncingConversationListNoSubscription();this._isConversationListSyncing!==e&&(this._isConversationListSyncing=e,this.trigger())},this._networkConnectionStoreSubscriptionToken=d.default.subscribe(this._updateConnectionStatus),this._updateConnectionStatus(),this._syncStatusStoreSubscriptionToken=u.default.subscribe(this._updateConvListSyncingStatus,u.TriggerKeys.ConversationList),this._updateConvListSyncingStatus()}destroy(){this._syncStatusStoreSubscriptionToken&&(u.default.unsubscribe(this._syncStatusStoreSubscriptionToken),this._syncStatusStoreSubscriptionToken=void 0),this._networkConnectionStoreSubscriptionToken&&(d.default.unsubscribe(this._networkConnectionStoreSubscriptionToken),this._networkConnectionStoreSubscriptionToken=void 0)}showAsUnread(){return this._isUnread}getContent(e,t){return(()=>{const i=this.getPillStatus();if(e){switch(i){case g.CAPTIVE_PORTAL:case g.NO_CONNECTION:return c.getString("ConnectivityStatusBar.NoInternetConnection");case g.CONNECTING:return c.getString("ConnectivityStatusBar.Connecting");case g.UPDATING:return c.getString("Global.LoadingStatus")}return c.getString("ConnectivityStatusBar.Connected")}switch(i){case g.CAPTIVE_PORTAL:case g.NO_CONNECTION:return c.getString("ConnectivityStatusBar.NoInternetConnection");case g.CONNECTING:return c.getString("ConnectivityStatusBar.Connecting");case g.UPDATING:return c.getString("ConnectivityStatusBar.UpdatingConversation")}return this._getTextForInfo(t)})()}getPillStatus(){return this._connectionStatus===d.ConnectionStatus.PossibleCaptivePortal?g.CAPTIVE_PORTAL:this._isConnected()?this._isMsgStoreLoading||this._isConversationListSyncing||this._isConversationSyncing?g.UPDATING:g.INFO:this._connectionStatus===d.ConnectionStatus.DisconnectedNoNetworkingReported?g.NO_CONNECTION:g.CONNECTING}setMessageStreamStore(e){e!==this._messageStreamStore?(this._msgStoreSubscription&&this._messageStreamStore&&(p("setMessageStreamStore: clearing subscription"),this._messageStreamStore.unsubscribe(this._msgStoreSubscription),this._msgStoreSubscription=void 0),this._messageStreamStore=e,this._messageStreamStore&&(p("setMessageStreamStore: creating new subscription"),this._msgStoreSubscription=this._messageStreamStore.subscribe(this._updateLoadingState)),this._updateLoadingState()):p("setMessageStreamStore: The store instance is the same, returning")}setTopPartiallyVisibleMessage(e){e&&this._topVisibleMessage!==e&&(this._topVisibleMessage=e,void 0===this._isConversationSyncing&&(u.default.subscribe(this._updateConvSyncStatus(e.conversationId)),this._updateConvSyncStatus(e.conversationId)()),this.trigger())}setUnread(e){e!==this._isUnread&&(this._isUnread=e,this.trigger())}_getTextForInfo(e){let t="";return this._topVisibleMessage&&(t=a.default.getDisplayDateString(this._topVisibleMessage.createdTime)),this._isUnread&&(t=e&&r.isPhoneMri(e)?c.getString("MessageStream.UnreadSmsMarkerStickerTemplated",{timestamp:t}):c.getString("MessageStream.UnreadMarkerStickerTemplated",{timestamp:t})),t}_isConnected(){return this._connectionStatus===d.ConnectionStatus.Connected}};o.__decorate([n.disableWarnings],h.prototype,"destroy",null),o.__decorate([n.autoSubscribe],h.prototype,"showAsUnread",null),o.__decorate([n.autoSubscribe],h.prototype,"getContent",null),o.__decorate([n.autoSubscribe],h.prototype,"getPillStatus",null),h=o.__decorate([n.AutoSubscribeStore],h),t.default=h},974884:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerKeys=void 0;const o=i(197582),n=i(174958),r=i(217041),a=o.__importDefault(i(404547)),s=o.__importDefault(i(556587)),l=i(815146),c=o.__importStar(i(85385)),d=o.__importStar(i(446574)),u=o.__importDefault(i(139221)),p=o.__importDefault(i(601274));var g;!function(e){e[e.AnySync=0]="AnySync",e[e.AnyMessages=1]="AnyMessages",e[e.ConversationList=2]="ConversationList"}(g||(t.TriggerKeys=g={}));let h=class extends r.StoreBase{constructor(){super(250),this._isSyncingConversationList=!1,this._isSyncingMessages=!1,this._pendingConversationTriggers={},d.RegisterStartupable(this,"SyncStatusStore",[a.default])}startup(){return a.default.disconnected.subscribe((()=>{this.trigger(),this._checkSyncingMessages(),this._checkSyncingConversationList()})),a.default.reconnected.subscribe((()=>{this.trigger(),this._checkSyncingMessages(),this._checkSyncingConversationList()})),s.default.syncStarted.subscribe((()=>{this.trigger(g.AnySync)})),s.default.syncComplete.subscribe((()=>{const e=Date.now().valueOf()-u.default.getAppInitTime();c.log(l.LogTraceArea.LowBandwidth,"<NFR> || Warm_Startup || Latency || "+e),this.trigger(g.AnySync),this._checkSyncingMessages(),this._checkSyncingConversationList()})),s.default.conversationListSyncStarted.subscribe((()=>{this._checkSyncingConversationList()})),s.default.conversationListSyncComplete.subscribe((()=>{this._checkSyncingConversationList()})),s.default.startedSyncingConversation.subscribe((e=>{this._ensureRemovedTimeout(e),c.log(l.LogTraceArea.SyncStatus,"SyncStatusStore startedSyncingConversation Scheduled: conversationId = "+n.pii.Mri(e)),this._pendingConversationTriggers[e]=p.default.setTimeout((()=>{this._ensureRemovedTimeout(e),c.log(l.LogTraceArea.SyncStatus,"SyncStatusStore startedSyncingConversation Fulfilled: conversationId = "+n.pii.Mri(e)),this.trigger(e),this._checkSyncingMessages()}),3e3)})),s.default.finishedSyncingConversation.subscribe((e=>{this._pendingConversationTriggers[e]?c.log(l.LogTraceArea.SyncStatus,"SyncStatusStore finishedSyncingConversation Dropped: conversationId = "+n.pii.Mri(e)):(c.log(l.LogTraceArea.SyncStatus,"SyncStatusStore finishedSyncingConversation Fulfilled: conversationId = "+n.pii.Mri(e)),this.trigger(e),this._checkSyncingMessages())})),Promise.resolve()}_ensureRemovedTimeout(e){return!!this._pendingConversationTriggers[e]&&(p.default.clearTimeout(this._pendingConversationTriggers[e]),delete this._pendingConversationTriggers[e],!0)}_checkSyncingConversationList(){const e=this._isSyncingConversationList;this._isSyncingConversationList=a.default.isConnected()&&s.default.isConversationListDirty(),e!==this._isSyncingConversationList&&this.trigger(g.ConversationList)}_checkSyncingMessages(){const e=this._isSyncingMessages;this._isSyncingMessages=a.default.isConnected()&&s.default.isSyncingMessages(),e!==this._isSyncingMessages&&this.trigger(g.AnyMessages)}_isConversationSyncingFromService(e){return a.default.isConnected()&&(s.default.isSyncingMessagesForConversation(e)||s.default.isSyncingThreadDetailsForConversation(e))}isSyncingAnything(){return a.default.isConnected()&&s.default.isCurrentlySyncing()}isSyncingMessages(){return this._isSyncingMessages}isSyncingConversationList(){return this.isSyncingConversationListNoSubscription()}isSyncingConversationListNoSubscription(){return this._isSyncingConversationList}isConversationSyncing(e){return!this._pendingConversationTriggers[e]&&this._isConversationSyncingFromService(e)}};o.__decorate([(0,r.autoSubscribeWithKey)(g.AnySync)],h.prototype,"isSyncingAnything",null),o.__decorate([(0,r.autoSubscribeWithKey)(g.AnyMessages)],h.prototype,"isSyncingMessages",null),o.__decorate([(0,r.autoSubscribeWithKey)(g.ConversationList)],h.prototype,"isSyncingConversationList",null),o.__decorate([r.disableWarnings],h.prototype,"isSyncingConversationListNoSubscription",null),o.__decorate([r.autoSubscribe,o.__param(0,r.key)],h.prototype,"isConversationSyncing",null),h=o.__decorate([r.AutoSubscribeStore],h),t.default=new h},266872:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(331654)),a=o.__importStar(i(516778)),s=i(217041),l=o.__importStar(i(397691)),c=o.__importDefault(i(659938)),d=o.__importDefault(i(150343)),u=i(815146),p=o.__importStar(i(326544)),g=o.__importStar(i(85385)),h=o.__importDefault(i(201721)),m=o.__importDefault(i(341994)),S=o.__importDefault(i(363091)),_=o.__importStar(i(446574)),f=o.__importDefault(i(206315)),y=i(206197),C=o.__importStar(i(972830)),v=i(444314),b=i(63671);let T=class extends s.StoreBase{constructor(){super(),this._colorTheme=y.Theme.Delphi,this._evaluatePreferencesUpdates=()=>{let e=this._getUserPreferredTheme();this.isHighContrastEnabled()&&!C.isAccessibleTheme(e)&&(e=C.matchingAccessibleTheme(e));const t=this._setThemeNoDB(e,!1),i=this._setUseSystemTheme(this._getUseSystemTheme()),o=this._setFlipBubbleColors(this._getUserFlipBubblesColorPreference());(t||i||o)&&this.trigger()},this._handleHighContrastChange=e=>{g.log(u.LogTraceArea.Theme,"ThemeStore._handleHighContrastChange isEnabled: "+e),this._isHighContrastEnabled=e;const t=this._getUserPreferredTheme();C.isAccessibleTheme(t)||(e?this._setThemeNoDB(this._highContrastThemeForCurrentOSTheme()):this._setThemeNoDB(t))},this._osThemeChangeCallback=e=>{g.log(u.LogTraceArea.Theme,"ThemeStore._osThemeChangeCallback osTheme: "+e);const t=this._useSystemTheme?C.convertThemeToDelphiTheme(this._colorTheme):this._colorTheme;if(this._osTheme!==e&&(this._osTheme=e),this.isHighContrastEnabled()&&!C.isAccessibleTheme(t))this._setThemeNoDB(this._highContrastThemeForCurrentOSTheme());else if(this._useSystemTheme){const e=C.convertOSThemeToTheme(t,this._osTheme);e&&this._setUserAppearancePreferences({colorTheme:this.convertThemeEnumToString(e),useSystemTheme:!0})}this.trigger()},_.RegisterStartupable(this,"ThemeStore",[p.default,h.default,m.default])}startup(){this._isHighContrastEnabled=a.Accessibility.isHighContrastEnabled(),this._useSystemTheme=this._getUseSystemTheme(),this._flipBubbleColors=this._getUserFlipBubblesColorPreference();const e=this._getUserPreferencesRemote();this._themeSetFromRemotePrefs=e&&void 0!==e.colorTheme;let t=this._getUserPreferredTheme();if(this.isHighContrastEnabled()&&!C.isAccessibleTheme(t)&&(t=y.Theme.Accessible),this._colorTheme=t,C.isColorfulTheme(this._colorTheme)){const e=C.isDarkTheme(this._colorTheme)?y.Theme.MonoDark:y.Theme.Mono;this._colorTheme=e,n.defer((()=>this.setTheme(e)))}g.log(u.LogTraceArea.Theme,"ThemeStore.startup theme: "+t+" useSystemTheme: "+this._useSystemTheme+" flipBubbleColors: "+this._flipBubbleColors);const i=f.default.themeColorsForTheme(this._colorTheme);this._useCompactLayout=!!i.useCompactLayout,this._useInitialsForConversationIcon=!!i.useInitialsForConversationIcon,m.default.subscribe(this._evaluatePreferencesUpdates),h.default.subscribe(this._evaluatePreferencesUpdates),p.default.isSetupWizardCompleted()||(this._firstRunStoreSubscriptionToken=p.default.subscribe((()=>{p.default.isSetupWizardCompleted()&&(this._evaluatePreferencesUpdates(),this._firstRunStoreSubscriptionToken&&p.default.unsubscribe(this._firstRunStoreSubscriptionToken))}),p.TriggerKeys.SetupWizard)),this._updateAppTheme(this._colorTheme),this._subscribeHighContrastChanged(),n.defer((()=>{this.trigger()}));let o=!1;b.osThemeStore.subscribe((()=>{o=!0;const e=b.osThemeStore.getOSTheme();this._osThemeChangeCallback(e)}));const s=b.osThemeStore.getOSTheme();return o||(o=!0,this._osThemeChangeCallback(s)),c.default.subscribeForChanges("ThemeStore",(e=>{if(!S.default.isGuestUser()&&e===a.Types.AppActivationState.Background){let e;e=this._useSystemTheme?r.AppThemeType.System:this.isDarkThemeNoSubscription()?r.AppThemeType.Dark:r.AppThemeType.Light,r.default.storeAppThemeInfo(e),v.LocalStorage.setItem(v.StorageKeys.IsDarkThemeActiveKey,JSON.stringify(C.isDarkTheme(this._colorTheme)))}})),l.Resolved()}toggleLightOrDarkTheme(){const e=C.matchingLightOrDarkTheme(this._colorTheme);this.setTheme(e,!1)}setTheme(e,t){const i=!!t&&C.systemThemeEnabled();this._setUseSystemTheme(i);this._setUserAppearancePreferences({colorTheme:this.convertThemeEnumToString(e),useSystemTheme:!!this._useSystemTheme}),this._updateAppTheme(e)}setPreviewTheme(e){e!==this._previewTheme&&(this._previewTheme=e,this.trigger())}colorTheme(){return this.colorThemeNoSubscription()}previewTheme(){return this._previewTheme}previewThemeNoSubscription(){return this._previewTheme}themeForOSTheme(e){return C.convertOSThemeToTheme(e||this._colorTheme,this._osTheme)}themeForOSThemeNoSubscription(e){return C.convertOSThemeToTheme(e||this._colorTheme,this._osTheme)}colorThemeNoSubscription(){return this._colorTheme}wasThemeChanged(){const e=h.default.getUserPreferencesLocal().colorTheme;return!n.isUndefined(e)&&!n.isEmpty(e)}isAccessibleTheme(){return this.isAccessibleThemeNoSubscription()}isAccessibleThemeNoSubscription(){return C.isAccessibleTheme(this._colorTheme)}isDelphiTheme(){return this.isDelphiThemeNoSubscription()}isDelphiThemeNoSubscription(){return C.isDelphiTheme(this._colorTheme)}shouldOverrideColors(){return this.shouldOverrideColorsNoSubscription()}shouldOverrideColorsNoSubscription(){return this._colorTheme===y.Theme.Mono||this._colorTheme===y.Theme.MonoDark||this._colorTheme===y.Theme.Delphi||this._colorTheme===y.Theme.DelphiDark}isDarkTheme(){return this.isDarkThemeNoSubscription()}isDarkThemeNoSubscription(){return C.isDarkTheme(this._colorTheme)}isHighContrastEnabled(){return this._isHighContrastEnabled}isCompactLayout(){return this._useCompactLayout}shouldUseInitialsForConversationIcon(){return this._useInitialsForConversationIcon}themeStyles(){return f.default.themeStylesForTheme(this._colorTheme)}themeStylesNoSubscription(){return f.default.themeStylesForTheme(this._colorTheme)}themeColors(){return f.default.themeColorsForTheme(this._colorTheme)}themeColorsNoSubscription(){return f.default.themeColorsForTheme(this._colorTheme)}shouldUseSystemTheme(){return this._useSystemTheme}shouldUseSystemThemeNoSubscription(){return this._useSystemTheme}getSystemTheme(){return this._osTheme===r.OSTheme.Dark?y.Theme.DelphiDark:y.Theme.Delphi}getSystemThemeNoSubscription(){return this._osTheme===r.OSTheme.Dark?y.Theme.DelphiDark:y.Theme.Delphi}setFlipBubbleColors(e){e!==this._flipBubbleColors&&(d.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences&&m.default.setUserAppearancePreferencesForCurrentPlatform({flipBubbleColors:e}),h.default.setUserPreferencesLocal({flipBubbleColors:e}))}flipBubbleColors(){return this._flipBubbleColors}convertStringToThemeEnum(e){switch(e){case"accessible":return y.Theme.Accessible;case"mono":return y.Theme.Mono;case"dark":return y.Theme.AccessibleDark;case"colorfuldark":return y.Theme.ColorfulDark;case"monodark":return y.Theme.MonoDark;case"delphiDark":case"classicDark":return y.Theme.DelphiDark;case"default":return y.Theme.Colorful;default:return y.Theme.Delphi}}convertThemeEnumToString(e){switch(e){case y.Theme.Accessible:return"accessible";case y.Theme.Mono:return"mono";case y.Theme.AccessibleDark:return"dark";case y.Theme.ColorfulDark:return"colorfuldark";case y.Theme.MonoDark:return"monodark";case y.Theme.ClassicDarkDeprecated:case y.Theme.DelphiDark:return"delphiDark";case y.Theme.Colorful:return"default";default:case y.Theme.ClassicDeprecated:case y.Theme.Delphi:return"delphi"}}shouldSetSystemThemeInOnboarding(){const e=!this._themeSetFromRemotePrefs&&C.systemThemeEnabled()&&void 0!==this._osTheme&&this._osTheme!==r.OSTheme.Unknown;return g.log(u.LogTraceArea.Theme,`shouldSetSystemThemeInOnboarding(): ${e}`),e}_updateAppTheme(e){this._useSystemTheme?r.default.setAppTheme("system"):C.isDarkTheme(e)?r.default.setAppTheme("dark"):r.default.setAppTheme("light")}_setUserAppearancePreferences(e){n.isUndefined(e.useSystemTheme)||e.useSystemTheme===this._useSystemTheme||r.default.setUseSystemTheme(e.useSystemTheme),d.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences&&m.default.setUserAppearancePreferencesForCurrentPlatform(e),h.default.setUserPreferencesLocal(e)}_getUserPreferredTheme(){const e=h.default.getUserPreferencesLocal(),t=this._getUserPreferencesRemote();let i=this.convertStringToThemeEnum(e.colorTheme),o=e.useSystemTheme;return t&&t.colorTheme&&(i=this.convertStringToThemeEnum(t.colorTheme),o=t.useSystemTheme),o&&(i=C.convertOSThemeToTheme(i,this._osTheme)||i),i}_getUserFlipBubblesColorPreference(){const e=h.default.getUserPreferencesLocal(),t=this._getUserPreferencesRemote();return t&&!n.isUndefined(t.flipBubbleColors)?t.flipBubbleColors:!!e.flipBubbleColors}_getUserPreferencesRemote(){return d.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences?m.default.getUserAppearancePreferencesForCurrentPlatform():{}}_getUseSystemTheme(){if(!C.systemThemeEnabled())return!1;const e=h.default.getUserPreferencesLocal(),t=this._getUserPreferencesRemote();return t&&!n.isUndefined(t.useSystemTheme)?t.useSystemTheme:!!e.useSystemTheme}_setUseSystemTheme(e){return this._useSystemTheme!==e&&(this._useSystemTheme=e,this.trigger(),!0)}_setFlipBubbleColors(e){return this._flipBubbleColors!==e&&(this._flipBubbleColors=e,!0)}_setThemeNoDB(e,t=!0){if(g.log(u.LogTraceArea.Theme,"ThemeStore.setThemeNoDB theme: "+e),this._colorTheme!==e){this._colorTheme=e,this._getUseSystemTheme()&&this._useSystemTheme&&this._previewTheme||(this._previewTheme=void 0);const i=f.default.themeColorsForTheme(e);return this._useCompactLayout=!!i.useCompactLayout,this._useInitialsForConversationIcon=!!i.useInitialsForConversationIcon,t&&this.trigger(),!0}return!1}_subscribeHighContrastChanged(){a.Accessibility.highContrastChangedEvent.subscribe(this._handleHighContrastChange)}_highContrastThemeForCurrentOSTheme(){return this._osTheme===r.OSTheme.Dark?y.Theme.AccessibleDark:y.Theme.Accessible}};o.__decorate([s.disableWarnings],T.prototype,"setPreviewTheme",null),o.__decorate([s.autoSubscribe],T.prototype,"colorTheme",null),o.__decorate([s.autoSubscribe],T.prototype,"previewTheme",null),o.__decorate([s.disableWarnings],T.prototype,"previewThemeNoSubscription",null),o.__decorate([s.autoSubscribe],T.prototype,"themeForOSTheme",null),o.__decorate([s.disableWarnings],T.prototype,"themeForOSThemeNoSubscription",null),o.__decorate([s.disableWarnings],T.prototype,"colorThemeNoSubscription",null),o.__decorate([s.autoSubscribe],T.prototype,"wasThemeChanged",null),o.__decorate([s.autoSubscribe],T.prototype,"isAccessibleTheme",null),o.__decorate([s.autoSubscribe],T.prototype,"isDelphiTheme",null),o.__decorate([s.autoSubscribe],T.prototype,"shouldOverrideColors",null),o.__decorate([s.autoSubscribe],T.prototype,"isDarkTheme",null),o.__decorate([s.disableWarnings],T.prototype,"isDarkThemeNoSubscription",null),o.__decorate([s.autoSubscribe],T.prototype,"isHighContrastEnabled",null),o.__decorate([s.autoSubscribe],T.prototype,"isCompactLayout",null),o.__decorate([s.autoSubscribe],T.prototype,"shouldUseInitialsForConversationIcon",null),o.__decorate([s.autoSubscribe],T.prototype,"themeStyles",null),o.__decorate([s.disableWarnings],T.prototype,"themeStylesNoSubscription",null),o.__decorate([s.autoSubscribe],T.prototype,"themeColors",null),o.__decorate([s.disableWarnings],T.prototype,"themeColorsNoSubscription",null),o.__decorate([s.autoSubscribe],T.prototype,"shouldUseSystemTheme",null),o.__decorate([s.disableWarnings],T.prototype,"shouldUseSystemThemeNoSubscription",null),o.__decorate([s.autoSubscribe],T.prototype,"getSystemTheme",null),o.__decorate([s.disableWarnings],T.prototype,"getSystemThemeNoSubscription",null),o.__decorate([s.autoSubscribe],T.prototype,"flipBubbleColors",null),T=o.__decorate([s.AutoSubscribeStore],T),t.default=new T},604252:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OSThemeStore=void 0;const o=i(197582),n=i(217041),r=o.__importStar(i(331654));let a=class extends n.StoreBase{constructor(){super(),this._osTheme=r.OSTheme.Light,this._applyOSTheme=e=>{this._osTheme=e,this.trigger()},r.default.osThemeChanged.subscribe(this._applyOSTheme),r.default.getOSTheme().then(this._applyOSTheme)}getOSTheme(){return this._osTheme}};t.OSThemeStore=a,o.__decorate([n.autoSubscribe],a.prototype,"getOSTheme",null),t.OSThemeStore=a=o.__decorate([n.AutoSubscribeStore],a)},63671:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.osThemeStore=void 0;const o=new(i(604252).OSThemeStore);t.osThemeStore=o},517518:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TokenStore=t.TriggerKeys=void 0,t.getScopedMsaAccessTokenTriggerKey=D;const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=o.__importStar(i(397691)),s=o.__importDefault(i(150343)),l=i(434343),c=i(815146),d=o.__importStar(i(85385)),u=o.__importDefault(i(652032)),p=i(467036),g=o.__importDefault(i(510335)),h=i(245127),m=o.__importDefault(i(201721)),S=o.__importStar(i(363091)),_=o.__importStar(i(446574)),f=o.__importDefault(i(983423)),y=o.__importDefault(i(655192)),C=i(444314),v=o.__importStar(i(351057)),b=o.__importDefault(i(794246)),T=o.__importStar(i(535775)),P=i(59263),k=o.__importDefault(i(241254)),A=i(938827),I=o.__importStar(i(657969)),w=i(691937),x=i(838384);var N;function D(e){switch(e){case h.MsaAccessTokenScope.OneService:return N.OneServiceScopedMsaAccessToken;case h.MsaAccessTokenScope.UserInternal:return N.UserInternalScopedMsaAccessToken;default:return N.AnyScopedMsaAccessToken}}!function(e){e[e.SkypeTokenKey=0]="SkypeTokenKey",e[e.RefreshTokenKey=1]="RefreshTokenKey",e[e.CdnTokenKey=2]="CdnTokenKey",e[e.AmsTokenKey=3]="AmsTokenKey",e[e.MSAAccessToken=4]="MSAAccessToken",e[e.OneServiceScopedMsaAccessToken=5]="OneServiceScopedMsaAccessToken",e[e.UserInternalScopedMsaAccessToken=6]="UserInternalScopedMsaAccessToken",e[e.AnyScopedMsaAccessToken=7]="AnyScopedMsaAccessToken"}(N||(t.TriggerKeys=N={}));let M=class extends r.StoreBase{constructor(){super(),this._scopedMsaAccessTokenMap=new Map,this._cdnCookieSet=!1,this._amsCookieSet=!1,_.RegisterStartupable(this,"TokenStore",[u.default,m.default]),g.default.registerForLogout(this,"TokenStore"),s.default.subscribe((()=>{const e=k.default.isCoBaSiEnabled(),t=k.default.getNoPaVersion();v.updateMsaConfigInformation(t,e)}))}shouldForceLogoutOnStartup(){return this._forceLogoutAfterStartup}feedStartupInfoForOneAuthStack(e,t){e&&(this._startupSkypeToken=e),this._startupOneAuthInformation=t,d.log(c.LogTraceArea.TokenStore,`TokenStore startup info with OneAuth:\n            hasStartupSkypeToken: ${!!this._startupSkypeToken},\n            hasOneAuthAccountInfo: ${!!t}`)}feedStartupInfoForLegacyAuthStack(e,t,i,o){if(e&&(this._startupSkypeToken=e),t){const e=new I.default(t,void 0,i);this._startupRefreshToken=e,this._storeMsaRefreshTokenExpiration(e.isPhoneAuthRefreshToken())}o&&this._storeWamAccountId(o),d.log(c.LogTraceArea.TokenStore,`TokenStore startup info:\n            hasStartupSkypeToken: ${!!this._startupSkypeToken}, hasMsaRefreshToken: ${!!t}, tokenPath: ${i}`)}startup(){return this._startUpScenario=new T.default(T.ScenarioName.TokenStoreInitialization),this._startUpScenario.start(),d.log(c.LogTraceArea.TokenStore,"startup started"),this._initializeTokenStore().finally((()=>{d.log(c.LogTraceArea.TokenStore,"startup finished"),this._startUpScenario.finish()}))}_initializeTokenStore(){var e;const{isOneAuthStage1Enabled:t,isOneAuthStage2Enabled:i}=v.isOneAuthAvailable(),o=null===(e=this._startupOneAuthInformation)||void 0===e?void 0:e.accountInformation.accountId;return(o?a.Resolved(o):v.getCurrentLoggedInAccountIdFromCache()).always((e=>{if(d.log(c.LogTraceArea.TokenStore,`OneAuth isOneAuthStage1Enabled: ${t},\n                isOneAuthStage2Enabled: ${i},\n                oneAuthLoggedInAccountId: ${e}`),e){const o=this._getSkypeTokenPutPromise(this._startupSkypeToken,!1),r=f.default.getLoginMethod().then((e=>this._setLoginMethod(e)));return t?(d.log(c.LogTraceArea.TokenStore,"OneAuth enabled and user signed in with OneAuth"),a.all([r,o]).then((()=>this._initializeWithOneAuthState(e,i)))):(d.log(c.LogTraceArea.TokenStore,"OneAuth not enabled but user signed in with OneAuth - migrate back!"),a.all([r,o,this._initializeWithLegacyAuthStateFromOneAuth()]).then(n.noop))}return f.default.getLoginMethod().then((t=>a.all([this._startupSkypeToken||f.default.getInitialSkypeToken(),e?void 0:this._startupRefreshToken||this._getInitialRefreshToken(t),a.Resolved(t)]))).then((([e,o,n])=>{const{mobileKeychainSkypeTokenMigrated:r,mobileKeychainMSATokenMigrated:s}=m.default.getUserPreferencesLocal(),l=this._getSkypeTokenPutPromise(e,!1),u=this._getRefreshTokenPutPromise(o,n,!1);return a.all([u,l]).then((()=>{if(d.log(c.LogTraceArea.TokenStore,`OneAuth isOneAuthStage1Enabled: ${t},\n                            isOneAuthStage2Enabled: ${i},\n                            hasMsaRefreshToken: ${!!o}`),n===c.LoginMethods[c.LoginMethods.PhoneAuth])return this._initializeWithPhoneAuth(null==o?void 0:o.rawToken,e,n);return t&&o?this._migrateLegacyAuthAccountToOneAuth(o,e,n,i):this._initializeWithLegacyAuthState(null==o?void 0:o.rawToken,e,n)}))})).fail((e=>d.error(c.LogTraceArea.TokenStore,"Failure during startup: "+y.default.errorAsString(e))))}))}_getInitialRefreshToken(e){return f.default.getInitialRawRefreshToken(e).then((t=>t?new I.default(t,e,void 0):void 0)).catch((()=>a.Resolved(void 0)))}getAccountId(e){var t;switch(e){case c.LoginMethods.OneAuth:return(null===(t=this.getAccountInformation())||void 0===t?void 0:t.accountId)||this._fallbackOneAuthAccountId;case c.LoginMethods.WAM:return this.checkIfSignedInWithWAM()?this._wamAccountId:void 0;default:return}}_initializeWithPhoneAuth(e,t,i){d.log(c.LogTraceArea.TokenStore,"_initializeWithPhoneAuth started"),this._setRefreshToken(e,i),this._isOneAuthStackUsed=!1,this._useCDNTokenFromDB(t),this.useSkypeToken(t,!1),this._setLoginMethod(i),this._postStartupLogging(),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.InitializedWithPhoneAuthStack)}_initializeWithOneAuthState(e,t){this._fallbackOneAuthAccountId=e,d.log(c.LogTraceArea.TokenStore,`oneAuth _initializeWithOneAuthState - accountId: ${e}, _startupOneAuthInformation: ${!!this._startupOneAuthInformation}`),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.InitializedWithOneAuthStarted);const i=t?void 0:f.default.getInitialRawRefreshToken(this._loginMethod);return a.all([this._startupOneAuthInformation||v.acquireCredentialsSilently(e),this._startupSkypeToken||f.default.getInitialSkypeToken(),i]).then((([e,t,i])=>{if(d.log(c.LogTraceArea.TokenStore,`oneAuth - hasSkypeToken: ${!!t}, hasOneAuthAccountInfo: ${!!e}`),e){const{accountInformation:o,credentials:n}=e;return this._setOneAuthStackAsActive(o),i&&this._setRefreshToken(i,this._loginMethod),this.useMSAAccessToken(n.accessToken,n.expiration),this._useCDNTokenFromDB(t),this.useSkypeToken(t,!1),this._postStartupLogging(),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.InitializedWithOneAuthFinished),a.Resolved()}return d.error(c.LogTraceArea.TokenStore,"oneAuth _initializeWithOneAuthState error. Account info not returned from OneAuth!"),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.InitializedWithOneAuthFailed),this._initializeWithLegacyAuthStateFromOneAuth()})).catch((e=>h.OneAuthTransientErrorStatuses.includes(e.status)?(d.warn(c.LogTraceArea.TokenStore,"oneAuth _initializeWithOneAuthState error. Issue is transient! Initializing TokenStore without MSA token!"),this._initializeWithOneAuthWithoutMsaToken()):(d.error(c.LogTraceArea.TokenStore,"oneAuth _initializeWithOneAuthState error. Falling back to legacy auth stack if possible!"),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.InitializedWithOneAuthFailed),this._initializeWithLegacyAuthStateFromOneAuth())))}_initializeWithOneAuthWithoutMsaToken(){return(this._startupSkypeToken?a.Resolved(this._startupSkypeToken):f.default.getInitialSkypeToken()).then((e=>{this._useCDNTokenFromDB(e),this.useSkypeToken(e,!1)})).always((()=>{this._setOneAuthStackAsActive()}))}_initializeWithOneAuthFromLegacyAuthState(e,t,i,o,n,r){d.log(c.LogTraceArea.TokenStore,`oneAuth _initializeOneAuthLoggedInState -\n            hasAccountCredentials: ${!!t},\n            hasSkypeToken: ${!!i},\n            hasAccountInformation: ${!!e},\n            hasMsaRefreshToken: ${!!n}\n            isOneAuthStage2Enabled: ${r}`),this._setOneAuthStackAsActive(e),!r&&n&&this._setRefreshToken(n,this._loginMethod),this.useMSAAccessToken(t.accessToken,t.expiration),this._useCDNTokenFromDB(i),this.useSkypeToken(i,!1),this._setLoginMethod(o),this._postStartupLogging(),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.InitializedWithOneAuthFromLegacyAuthStack)}_initializeWithLegacyAuthStateFromOneAuth(){return d.log(c.LogTraceArea.TokenStore,"oneAuth _initializeWithLegacyAuthStateFromOneAuth"),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.MigrateBackToLegacyAuthStackStarted),this._loginMethod===c.LoginMethods[c.LoginMethods.OneAuth]?(d.warn(c.LogTraceArea.TokenStore,"App entry is with OneAuth, cant initialize with legacy auth stack!"),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.MigrateBackToLegacyAuthStackFailed),this._setForceLogout(),a.Resolved()):f.default.getLoginMethod().then((e=>a.all([this._startupSkypeToken||f.default.getInitialSkypeToken(),f.default.getInitialRawRefreshToken(e),a.Resolved(e)]).then((([e,t,i])=>{if(t)return d.log(c.LogTraceArea.TokenStore,"MSA token found, back migration successful"),this._clearOneAuthState(),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.MigrateBackToLegacyAuthStackFinished),this._initializeWithLegacyAuthState(t,e,i);d.log(c.LogTraceArea.TokenStore,"No MSA token found, back migration successful"),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.MigrateBackToLegacyAuthStackFailed),this._setForceLogout()})).catch((e=>{d.log(c.LogTraceArea.TokenStore,"Something went wrong in back migration - logging out"),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.MigrateBackToLegacyAuthStackFailed),this._setForceLogout()}))))}_initializeWithLegacyAuthState(e,t,i){d.log(c.LogTraceArea.TokenStore,"oneAuth _initializeWithLegacyAuthState"),this._isOneAuthStackUsed=!1,this._setRefreshToken(e,i),this._useCDNTokenFromDB(t),this.useSkypeToken(t,!1),this._setMsaCookiePartition(),this._setLoginMethod(i),this._setAccountQsoCookies(),this._loadWamAccountIdFromLocalStorage(),this._postStartupLogging(),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.InitializedWithLegacyAuthStack)}_setOneAuthStackAsActive(e){this._isOneAuthStackUsed=!0,e&&(this._oneAuthAccountInformation=e,v.setCurrentLoggedInAccountIdToCache(e.accountId))}_migrateLegacyAuthAccountToOneAuth(e,t,i,o){return d.log(c.LogTraceArea.TokenStore,`oneAuth _migrateLegacyAuthAccountToOneAuth - hasSkypeToken: ${!!t}, loginMethod: ${i}`),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.MigrationToOneAuthStarted),v.migrateAccountToOneAuth(e.rawToken).then((n=>(d.log(c.LogTraceArea.TokenStore,"OneAuth migration successful, verifying credentials..."),v.acquireCredentialsSilently(n.accountInformation.accountId).then((()=>(d.log(c.LogTraceArea.TokenStore,"Successfully verified credentials!"),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.MigrationToOneAuthFinished),this._initializeWithOneAuthFromLegacyAuthState(n.accountInformation,n.credentials,t,i,e.rawToken,o)))).catch((e=>(d.log(c.LogTraceArea.TokenStore,"Account rejected by OneAuth after migration!"),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.MigrationToOneAuthRejected),a.Rejected(e))))))).catch((o=>(d.log(c.LogTraceArea.TokenStore,"OneAuth migration error",o),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.MigrationToOneAuthFailed),this._initializeWithLegacyAuthState(e.rawToken,t,i))))}_setForceLogout(){d.log(c.LogTraceArea.SISU,"OneAuth setting force logout to true"),this._startUpScenario.markStepCompleted(P.TokenStoreInitializationSteps.ForceLogoutSet),this._forceLogoutAfterStartup=!0}_clearOneAuthState(){d.log(c.LogTraceArea.TokenStore,"Clearing OneAuth data from TokenStore"),this._msaAccessToken=void 0,this._oneAuthAccountInformation=void 0,v.clearOneAuthCache()}_postStartupLogging(){if(d.log(c.LogTraceArea.TokenStore,"TokenStore Started - "+(this.hasUsableSkypeToken()?"Usable Skypetoken":"Non-usable Skypetoken")+" - "+(this._skypeToken?"expiration: "+new Date(this._skypeToken.expiration):"no token")),this._msaAccessToken){const e=this._msaAccessToken?`Access token expiration - ${this._msaAccessToken.expiration} ms`:"Access token expiration unknown!";d.log(c.LogTraceArea.TokenStore,e)}else this._refreshToken&&C.LocalStorage.getItem(C.StorageKeys.RefreshTokenExpiration).then((e=>{const t=e?`Refresh token expiration - ${e} ms`:"Refresh token expiration unknown!";d.log(c.LogTraceArea.TokenStore,t)}))}_useCDNTokenFromDB(e){const t=u.default.getData(l.InternalKeys.CdnToken);e&&!e.isTokenExpired()&&t&&(this._cdnToken=t,this._cdnCookieSet=!0)}_getSkypeTokenPutPromise(e,t){return this._startupSkypeToken||t?(d.log(c.LogTraceArea.TokenStore,"Setting SkypeToken to Keychain..."),f.default.setSkypeToken(e)):(d.log(c.LogTraceArea.TokenStore,`Not setting SkypeToken to Keychain, hasSkypeToken: ${!!e}, moveInternalSkypeTokenIntoKeychain: ${!!t}`),a.Resolved())}_getRefreshTokenPutPromise(e,t,i){}_setRefreshToken(e,t){var i,o;d.log(c.LogTraceArea.TokenStore,"Setting RefreshToken..."),this._refreshToken=e?new I.default(e,t):void 0,(null===(i=this._refreshToken)||void 0===i?void 0:i.rawToken)&&!this._refreshToken.isPhoneAuthRefreshToken()&&f.default.provideSsoToken(null===(o=this._refreshToken)||void 0===o?void 0:o.rawToken)}getAccountInformation(){return this._oneAuthAccountInformation}logout(e,t,i){return d.log(c.LogTraceArea.TokenStore,`Logging out - removing tokens from keychain (causeId: ${e}, isNonInteractive: ${t}, dbWillBeWiped: ${i})`),f.default.provideSsoToken(void 0),C.LocalStorage.removeItem(C.StorageKeys.RefreshTokenExpiration),f.default.clearTokensFromKeychain()}performWhenValidSkypeTokenArrives(){if(this.hasUsableSkypeTokenNoSubscription())return d.log(c.LogTraceArea.TokenStore,"Valid Skype Token available"),a.Resolved();this._waitingForValidSkypeToken||(this._waitingForValidSkypeToken=a.Defer());const e=a.Defer();return this._waitingForValidSkypeToken.promise().then((()=>{e.resolve(void 0)})),d.log(c.LogTraceArea.TokenStore,"Awaiting a valid Skype Token..."),e.promise()}performWhenCdnTokenArrives(){if(this._cdnToken)return a.Resolved();this._waitingForCdnToken||(this._waitingForCdnToken=a.Defer());const e=a.Defer();return this._waitingForCdnToken.promise().then((()=>{e.resolve(void 0)})),e.promise()}useCdnToken(e){if((this._cdnCookieSet!==e.cookie||this._cdnToken!==e.token)&&(this._cdnToken=e.token,this._cdnCookieSet=e.cookie,u.default.putData(l.InternalKeys.CdnToken,e.token),this.trigger(N.CdnTokenKey),this._waitingForCdnToken)){const e=this._waitingForCdnToken;this._waitingForCdnToken=void 0,e.resolve(void 0)}}usingCdnCookie(){return this._cdnCookieSet}getCdnToken(){return this._cdnToken}skypeTokenInvalid(e,t=!1){if(d.log(c.LogTraceArea.TokenStore,"Invalidating SkypeToken!"),t)return d.log(c.LogTraceArea.TokenStore,"Skypetoken force refresh requested!"),void this.useSkypeToken(void 0);this._skypeToken?this._skypeToken.rawToken===e?this.useSkypeToken(void 0):d.log(c.LogTraceArea.TokenStore,"Skypetoken reported invalid, but it doesn't match our stored one -- ignoring!"):d.log(c.LogTraceArea.TokenStore,"Skypetoken reported invalid, but we already knew that -- ignoring!")}useSkypeToken(e,t=!0){var i;if(this._skypeToken&&e&&this._skypeToken.rawToken===e.rawToken)return void d.warn(c.LogTraceArea.TokenStore,"Current stored SkypeToken is the same as the new one. Not storing!");this._skypeToken=e,this._skypeToken&&t&&f.default.setSkypeToken(e);const o=null===(i=this._skypeToken)||void 0===i?void 0:i.getCidFromSkypeToken();if(o){const e=parseInt(o,16).toString();d.log(c.LogTraceArea.TokenStore,`Setting MSACID and MSACIDHEX from Skypetoken - ${e} ${o}`),S.default.internal_feedInfo(void 0,void 0,e,o)}else if(S.default.getUserAccountType()===S.UserAccountType.PhoneAuth){const{phoneAuthenticationTelemetryMsaCids:e}=s.default.dangerouslyGetS4LSisuFeatures(),{fakeMsaCid:t,fakeMsaCidHex:i}=(0,w.getPhoneAuthPredefinedMsaCidForTelemetryDsr)(e);d.warn(c.LogTraceArea.TokenStore,`Setting MSACID and MSACIDHEX for phone-only account from pre-defined list of MSA users (for telemetry DSR) - ${t} ${i}`),S.default.internal_feedInfo(void 0,void 0,void 0,void 0,void 0,void 0,{cid:t,cidHex:i})}document.cookie="skypeToken="+(this._skypeToken?this._skypeToken.rawToken:"")+";secure",this.trigger(N.SkypeTokenKey),this.hasUsableSkypeToken()&&this._waitingForValidSkypeToken&&(d.log(c.LogTraceArea.TokenStore,"Got a valid Skype Token"),this._waitingForValidSkypeToken.resolve(void 0),this._waitingForValidSkypeToken=void 0)}useRefreshToken(e,t,i){var o;if((null===(o=this._refreshToken)||void 0===o?void 0:o.rawToken)===e)return;const n=t===I.RefreshTokenType.PhoneAuth,r=n?c.KeychainTokenType.PhoneAuthRefresh:c.KeychainTokenType.MSARefresh;if(e){const o=(0,x.isTokenReasonableAsHeader)(e),n=`TokenStore got a bad ${I.RefreshTokenType[t]} Refresh Token`;o||(d.log(c.LogTraceArea.TokenStore,n),d.track(new p.TokenIssueEvent(r,p.TokenIssueType.InvalidToken,i)))}else{const t="Empty MSA refresh token passed to TokenStore.useRefreshToken()";f.default.isValidMSARefreshToken(e)||(d.log(c.LogTraceArea.TokenStore,t),d.track(new p.TokenIssueEvent(r,p.TokenIssueType.EmptyToken,i)))}this._setRefreshToken(e,this.getLoginMethod()),this._storeMsaRefreshTokenExpiration(n),n?f.default.setPhoneAuthRefreshToken(e):f.default.setMSAToken(e),this.trigger(N.RefreshTokenKey)}updateAccountAndCredentialInformation(e,t){d.log(c.LogTraceArea.TokenStore,"updateAccountAndCredentialInformation - Updating OneAuth account information"),this._oneAuthAccountInformation=e,this.useMSAAccessToken(t.accessToken,t.expiration)}useMSAAccessToken(e,t){this._msaAccessToken!==e?e?(d.log(c.LogTraceArea.TokenStore,"Creating and setting new MSA access token"),this._msaAccessToken=new b.default(e,t),this.trigger(N.MSAAccessToken)):d.error(c.LogTraceArea.TokenStore,"Tried to set an empty token"):d.warn(c.LogTraceArea.TokenStore,"Tried to set the same MSA token that was already used")}getScopedMsaAccessToken(e){return this._scopedMsaAccessTokenMap.get(e)}getScopedMsaAccessTokenNoSubscription(e){return this._scopedMsaAccessTokenMap.get(e)}useScopedMsaAccessToken(e,t){this._scopedMsaAccessTokenMap.set(e,t),this.trigger(D(e)),this.trigger(N.AnyScopedMsaAccessToken)}invalidateScopedMsaAccessToken(e){this._scopedMsaAccessTokenMap.delete(e),this.trigger(D(e)),this.trigger(N.AnyScopedMsaAccessToken)}hasUsableSkypeToken(){return!!this._skypeToken&&!this._skypeToken.isTokenExpired()}hasUsableSkypeTokenNoSubscription(){return!!this._skypeToken&&!this._skypeToken.isTokenExpired()}getSkypeToken(){return this._skypeToken?this._skypeToken.clone():void 0}getRawSkypeToken(){return this._skypeToken?this._skypeToken.rawToken:void 0}getRawSkypeTokenNoSubscription(){return this._skypeToken?this._skypeToken.rawToken:void 0}getRefreshToken(){return this._refreshToken}getMsaAccessToken(){var e;return null===(e=this._msaAccessToken)||void 0===e?void 0:e.rawToken}setAMSCookieSet(e){this._amsCookieSet!==e&&(this._amsCookieSet=e,this.trigger(N.AmsTokenKey))}getAmsCookieSet(){return this._amsCookieSet}_setMsaCookiePartition(){0}getMsaCookiePartition(){return this._msaCookiePartition}_setLoginMethod(e){this._loginMethod=e}getLoginMethod(){return this._loginMethod}checkIfSignedInWithWAM(){return!!this._loginMethod&&this._loginMethod===c.LoginMethods[c.LoginMethods.WAM]}isSignedInWithOneAuth(){return d.log(c.LogTraceArea.TokenStore,`Getting login method ${this._loginMethod}`),this._loginMethod===c.LoginMethods[c.LoginMethods.OneAuth]}isOneAuthStackUsed(){return!!this._isOneAuthStackUsed}_setAccountQsoCookies(){0}checkAreMsaDATicketsAvailable(){return!0}checkAccountQsoCookies(){return!0}_storeMsaRefreshTokenExpiration(e){const t=e?30:90,i=new Date(Date.now()+t*A.DAY).getTime();C.LocalStorage.setItem(C.StorageKeys.RefreshTokenExpiration,JSON.stringify(i))}_loadWamAccountIdFromLocalStorage(){return o.__awaiter(this,void 0,void 0,(function*(){if(!this.checkIfSignedInWithWAM()||this._wamAccountId)return;const e=C.LocalStorage.getItemSync(C.StorageKeys.WamAccountId);if(void 0===e)try{const e=yield f.default.tryGetWamAccountIdForCurrentAccount();e?this._storeWamAccountId(e):d.error(c.LogTraceArea.TokenStore,"No wamAccount Id found for current account")}catch(e){d.error(c.LogTraceArea.TokenStore,"Unable to fetch wamAccountId for current account")}else this._wamAccountId=e}))}_storeWamAccountId(e){this.checkIfSignedInWithWAM()&&(this._wamAccountId=e,C.LocalStorage.setItemSync(C.StorageKeys.WamAccountId,e))}};t.TokenStore=M,o.__decorate([r.disableWarnings],M.prototype,"performWhenValidSkypeTokenArrives",null),o.__decorate([(0,r.autoSubscribeWithKey)(N.CdnTokenKey)],M.prototype,"usingCdnCookie",null),o.__decorate([(0,r.autoSubscribeWithKey)(N.CdnTokenKey)],M.prototype,"getCdnToken",null),o.__decorate([(0,r.autoSubscribeWithKey)([N.OneServiceScopedMsaAccessToken,N.UserInternalScopedMsaAccessToken,N.AnyScopedMsaAccessToken])],M.prototype,"getScopedMsaAccessToken",null),o.__decorate([r.disableWarnings],M.prototype,"getScopedMsaAccessTokenNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(N.SkypeTokenKey)],M.prototype,"hasUsableSkypeToken",null),o.__decorate([r.disableWarnings],M.prototype,"hasUsableSkypeTokenNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(N.SkypeTokenKey)],M.prototype,"getSkypeToken",null),o.__decorate([(0,r.autoSubscribeWithKey)(N.SkypeTokenKey)],M.prototype,"getRawSkypeToken",null),o.__decorate([r.disableWarnings],M.prototype,"getRawSkypeTokenNoSubscription",null),o.__decorate([(0,r.autoSubscribeWithKey)(N.RefreshTokenKey)],M.prototype,"getRefreshToken",null),o.__decorate([(0,r.autoSubscribeWithKey)(N.AmsTokenKey)],M.prototype,"getAmsCookieSet",null),t.TokenStore=M=o.__decorate([r.AutoSubscribeStore],M),t.default=new M},984263:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(217041),r=i(154235),a=o.__importDefault(i(114818)),s={displayText:"",rect:{x:0,y:0,height:0,width:0},rootViewId:r.MainRootViewId};let l=class extends n.StoreBase{constructor(){super(...arguments),this._toolTipConfig=s}getToolTipConfig(e){return this._toolTipConfig.rootViewId===e?this._toolTipConfig:s}setToolTipConfig(e){(0,a.default)(this._toolTipConfig,e)||(this._toolTipConfig=e,this.trigger())}clearToolTipConfig(){this.setToolTipConfig(s)}};o.__decorate([n.autoSubscribe],l.prototype,"getToolTipConfig",null),l=o.__decorate([n.AutoSubscribeStore],l),t.default=new l},659938:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppActivationStateListener=void 0;const o=i(197582),n=o.__importDefault(i(55331)),r=o.__importStar(i(516778)),a=i(815146),s=o.__importStar(i(85385));class l{constructor(){this._debounceTimeoutIdHashMap={}}subscribeForChanges(e,t){const i=i=>{if(t){let o=`App activation state changed to: ${r.Types.AppActivationState[i.newState]} - notify: ${e}`;i.shouldDebounce&&(o+=`, debounced by ${i.debounceTime} ms`),s.log(a.LogTraceArea.Lifecycle,o),t(i.newState)}};return r.App.activationStateChangedEvent.subscribe((t=>{const o={newState:t,shouldDebounce:this.isDebounceEnabled(),debounceTime:599};if(o.shouldDebounce&&o.debounceTime&&o.debounceTime>0){if(!e||""===e)return void i({newState:t,shouldDebounce:!1});this._debounceTimeoutIdHashMap[e]&&(n.default.clearTimeout(this._debounceTimeoutIdHashMap[e]),delete this._debounceTimeoutIdHashMap[e]),this._debounceTimeoutIdHashMap[e]=n.default.setTimeout((()=>{delete this._debounceTimeoutIdHashMap[e],i(o)}),o.debounceTime)}else i({newState:t,shouldDebounce:!1})}))}isDebounceEnabled(){return!1}}t.AppActivationStateListener=l,t.default=new l},677790:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deeplinkOfJoinConversationKeyword=t.StartupL2Source=t.StartupOrigin=t.StartupOption=t.SkypeActivateEvents=void 0,t.setAppStartOriginAsync=function(e,t,i,n){return o.__awaiter(this,void 0,void 0,(function*(){if(t===s.StartUp)r.LocalStorage.setItem(r.StorageKeys.StartSourceInfo,JSON.stringify({sessionId:e,startupOption:t,launchSource:i,launchSourceL2:n}));else{const o=yield d();if(!(null==o?void 0:o.startupOption))return;r.LocalStorage.setItem(r.StorageKeys.StartSourceInfo,JSON.stringify(Object.assign(Object.assign({},o),{sessionId:e,startupOption:t,resumeSource:i,resumeSourceL2:n})))}}))},t.getAppStartOrigin=d;const o=i(197582),n=o.__importDefault(i(655192)),r=i(444314);var a,s,l,c;function d(){return r.LocalStorage.getItem(r.StorageKeys.StartSourceInfo).toEs6Promise().then((e=>e?n.default.parseJsonErrorToUndefined(e):void 0))}!function(e){e[e.InvalidEvent=-1]="InvalidEvent",e[e.LaunchByClickingAppIcon=0]="LaunchByClickingAppIcon",e[e.AutoStartWhenLogin=1020]="AutoStartWhenLogin"}(a||(t.SkypeActivateEvents=a={})),function(e){e.StartUp="StartUp",e.Resume="Resume",e.Pause="Pause"}(s||(t.StartupOption=s={})),function(e){e.AppIcon="AppIcon",e.Taskbar="Taskbar",e.StartMenu="StartMenu",e.TrayIcon="TrayIcon",e.AutoStart="AutoStart",e.Update="Update",e.Notification="Notification",e.DeepLink="DeepLink",e.ShortCut="ShortCut",e.MicrosoftStore="MicrosoftStore",e.Unknown="Unknown"}(l||(t.StartupOrigin=l={})),function(e){e.L2SourceJoinConversation="Join Conversation",e.L2SourceMeetnowConversation="Meetnow",e.L2SourceGroupConversation="GroupJoin",e.L2SourceInviteConversation="Invite",e.L2SourceOther="Other",e.L2SourceCalling="Calling"}(c||(t.StartupL2Source=c={})),t.deeplinkOfJoinConversationKeyword="join"},952408:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CalledBeforeStartupError=t.beforeStartup=t.Startupable=void 0,t.makeStartupable=f,t.test_setTestOverride=function(e){g=e};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778)),a=i(197582),s=o.__importDefault(i(150343)),l=o.__importStar(i(446574)),c="startup";let d,u=!1,p=!1,g=!0;function h(){return s.default.getS4LFeatures().beforeStartupDecorator.enabled&&!0}function m(e,t){try{return e()}finally{t()}}function S(e){const t=e;return t.__beforeStartupMetadata=t.__beforeStartupMetadata||{},t}function _(e,t){return e.__beforeStartupMetadata[t]||(e.__beforeStartupMetadata[t]={}),e.__beforeStartupMetadata[t]}function f(e){return t=>{const i=S(t.prototype);return i.__beforeStartupMetadata.__decorated=!0,h()&&n.each(Object.getOwnPropertyNames(i),(o=>{if(n.isFunction(t.prototype[o])&&"constructor"!==o&&o!==c){const t=i.__beforeStartupMetadata[o];t&&t.hasbeforeStartupDecorator||(0,a.__decorate)([C(e)],i,o,null)}else if(n.isFunction(t.prototype[o])&&o===c){const e=i.__beforeStartupMetadata[o];e&&e.isStartup||(0,a.__decorate)([y],i,o,null)}})),t}}function y(e,t,i){if(!h())return i;_(S(e),t).isStartup=!0;const o=i.value;return i.value=function(...e){if(!h())return o.apply(this,e);const t=u;u=!0;return m((()=>o.apply(this,e)),(()=>{u=t}))},i}function C(e){return(e,t,i)=>{if(!h())return i;S(e);const o=i.value;return i.value=function(...e){if(h()){l.HasStarted(this),r.App.getActivationState(),r.Types.AppActivationState.Active}return o.apply(this,e)},i}}t.Startupable=f(!0);t.beforeStartup=(e,t,i)=>{if(!h())return i;const o=S(e);_(o,t).hasbeforeStartupDecorator=!0;const n=i.value;return i.value=function(...e){if(!h())return n.apply(this,e);const t=p,i=d;p=!0,d=o;return m((()=>n.apply(this,e)),(()=>{p=t,d=i}))},i};class v extends Error{constructor(e,t,i){super(`Trying to call ${t} on ${e} before started with ${i||"[no context]"}.`)}}t.CalledBeforeStartupError=v},637224:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrencySymbol=function(e){return r[e]||e},t.getFormattedRate=function(e,t,i,o=0){const r=Math.max(i,o),a=Math.min(i,o);{const i=n.getLocale();return e.toLocaleString(i,{style:"currency",currency:t,maximumFractionDigits:r,minimumFractionDigits:a})}};const o=i(197582),n=(i(252665),o.__importStar(i(704704))),r={AED:"د.إ",AFN:"؋",ALL:"L",ANG:"ƒ",AOA:"Kz",ARS:"$",AUD:"$",AWG:"ƒ",AZN:"₼",BAM:"KM",BBD:"$",BDT:"৳",BGN:"лв",BHD:".د.ب",BIF:"FBu",BMD:"$",BND:"$",BOB:"Bs.",BRL:"R$",BSD:"$",BTC:"฿",BTN:"Nu.",BWP:"P",BYR:"p.",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"Fr.",CLP:"$",CNY:"¥",COP:"$",CRC:"₡",CUC:"$",CUP:"₱",CVE:"$",CZK:"Kč",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"دج",EEK:"kr",EGP:"£",ERN:"Nfk",ETB:"Br",ETH:"Ξ",EUR:"€",FJD:"$",FKP:"£",GBP:"£",GEL:"₾",GGP:"£",GHC:"₵",GHS:"GH₵",GIP:"£",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"₪",IMP:"£",INR:"₹",IQD:"ع.د",IRR:"﷼",ISK:"kr",JEP:"£",JMD:"J$",JPY:"¥",KES:"KSh",KGS:"лв",KHR:"៛",KMF:"CF",KPW:"₩",KRW:"₩",KYD:"$",KZT:"₸",LAK:"₭",LBP:"£",LKR:"₨",LRD:"$",LSL:"M",LTC:"Ł",LTL:"Lt",LVL:"Ls",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"ден",MMK:"K",MNT:"₮",MOP:"MOP$",MUR:"₨",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"₦",NIO:"C$",NOK:"kr",NPR:"₨",NZD:"$",OMR:"﷼",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"₱",PKR:"₨",PLN:"zł",PYG:"Gs",QAR:"﷼",RMB:"￥",RON:"lei",RSD:"Дин.",RUB:"₽",RWF:"R₣",SAR:"﷼",SBD:"$",SCR:"₨",SDG:"ج.س.",SEK:"kr",SGD:"$",SHP:"£",SLL:"Le",SOS:"S",SRD:"$",SSP:"£",STD:"Db",SVC:"$",SYP:"£",SZL:"E",THB:"฿",TJS:"SM",TMT:"T",TND:"د.ت",TOP:"T$",TRL:"₤",TRY:"₺",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"₴",UGX:"USh",USD:"$",UYU:"$U",UZS:"лв",VEF:"Bs",VND:"₫",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"Ƀ",XCD:"$",XOF:"CFA",XPF:"₣",YER:"﷼",ZAR:"R",ZWD:"Z$"}},763786:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=i(434343),s=o.__importStar(i(235256)),l=o.__importDefault(i(652032)),c=o.__importStar(i(446574)),d=o.__importDefault(i(139221));t.default=new class{constructor(){this._doCleanup=()=>{if(l.default.getData(a.InternalKeys.LastDBCleanupVersion)===d.default.getAppVersion())return;const e=[],t=n.map(a.InternalKeys,(e=>e)),i=l.default.getKeys();let o;return n.each(i,(i=>{n.includes(t,i)||e.push(i)})),o=e.length>0?l.default.deleteKeys(e):r.Resolved(),o.then((()=>l.default.putData(a.InternalKeys.LastDBCleanupVersion,d.default.getAppVersion())))},c.RegisterStartupable(this,"DatabaseCleanupService",[s.default,l.default])}startup(){return s.default.setRefreshOptions("DBCleanup",{interval:6048e5,callback:this._doCleanup,taskTypeFlags:s.TaskTypeFlags.CpuIntensive}),Promise.resolve()}}},389659:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importDefault(i(727484)),r=o.__importDefault(i(294712)),a=o.__importDefault(i(510285)),s=o.__importDefault(i(884110)),l=o.__importDefault(i(570660)),c=o.__importStar(i(496486)),d=o.__importStar(i(252665)),u=o.__importStar(i(704704));n.default.extend(r.default),n.default.extend(l.default),n.default.extend(s.default),n.default.extend(a.default);class p{static add(e,t=0,i=0,o=0,n=0,r=0){return e+1e3*(t*p._secondsPerYear+i*p._secondsPerDay+o*p._secondsPerHour+n*p._secondsPerMinute+r)}static fromUnixMilliseconds(e){return new Date(e)}static getMidnight(e){const t=p.fromUnixMilliseconds(e);return t.setHours(0,0,0,0),t.getTime()}static isSameDay(e,t){const i=p.fromUnixMilliseconds(e),o=p.fromUnixMilliseconds(t);return i.getDate()===o.getDate()&&i.getMonth()===o.getMonth()&&i.getFullYear()===o.getFullYear()}static getDisplayDateStringShort(e){const t=d.getDateShort(p.fromUnixMilliseconds(e));return n.default.unix(e/1e3).calendar(null,{sameDay:"["+u.getString("DateTimeRelative.Today")+"]",nextDay:"["+u.getString("DateTimeRelative.Tomorrow")+"]",nextWeek:"["+t+"]",lastDay:"["+u.getString("DateTimeRelative.Yesterday")+"]",lastWeek:"["+t+"]",sameElse:"["+t+"]"})}static getDisplayDateString(e){const t=p.fromUnixMilliseconds(e),i=d.getDayName(t),o=d.getDateLong(t);return n.default.unix(e/1e3).calendar(null,{sameDay:"["+u.getString("DateTimeRelative.Today")+"]",nextDay:"["+u.getString("DateTimeRelative.Tomorrow")+"]",nextWeek:"["+i+"]",lastDay:"["+u.getString("DateTimeRelative.Yesterday")+"]",lastWeek:"["+i+"]",sameElse:"["+o+"]"})}static getDisplayDateStringFull(e){return d.getDateLong(p.fromUnixMilliseconds(e))}static getDisplayDateStringDayMonthYearFormat(e){return d.getDateShort(p.fromUnixMilliseconds(e))}static getDisplayDateTimeString(e){const t=p.fromUnixMilliseconds(e),i=d.getTimeShort(t),o=d.getDateShort(t),r=d.getDayName(t);return n.default.unix(e/1e3).calendar(null,{sameDay:"["+u.getString("DateTimeRelative.TodayAt",{time:i})+"]",nextDay:"["+u.getString("DateTimeRelative.TomorrowAt",{time:i})+"]",nextWeek:"["+u.getString("DateTimeRelative.DayAtTime",{day:r,time:i})+"]",lastDay:"["+u.getString("DateTimeRelative.YesterdayAt",{time:i})+"]",lastWeek:"["+u.getString("DateTimeRelative.DayAtTime",{day:r,time:i})+"]",sameElse:"["+o+"]"})}static getAbsoluteDisplayDateTimeString(e){const t=p.fromUnixMilliseconds(e),i=d.getTimeShort(t),o=d.getDateShort(t);return"["+u.getString("DateTimeRelative.DayAtTime",{day:o,time:i})+"]"}static getDisplayDateTimeMixedString(e,t=!1){const i=p.fromUnixMilliseconds(e),o=d.getTimeShort(i),r=d.getDateShort(i),a=d.getDayName(i),s=t?a:d.getDayAbbreviatedName(i);return n.default.unix(e/1e3).calendar(null,{sameDay:"["+o+"]",nextDay:"["+u.getString("DateTimeRelative.TomorrowAt",{time:o})+"]",nextWeek:"["+u.getString("DateTimeRelative.DayAtTime",{day:a,time:o})+"]",lastDay:"["+s+"]",lastWeek:"["+s+"]",sameElse:"["+r+"]"})}static getDisplayTimeString(e){return d.getTimeShort(p.fromUnixMilliseconds(e))}static getRelativeDisplayDateTimeString(e){return n.default.updateLocale("en",{relativeTime:{future:u.getString("DateTimeRelative.Future",{time:"%s"}),past:u.getString("DateTimeRelative.Past",{time:"%s"}),s:u.getString("DateTimeRelative.Seconds"),ss:u.getString("DateTimeRelative.Seconds"),m:u.getString("DateTimeRelative.Minute"),mm:u.getString("DateTimeRelative.Minutes",{count:"%d"}),h:u.getString("DateTimeRelative.Hour"),hh:u.getString("DateTimeRelative.Hours",{count:"%d"}),d:u.getString("DateTimeRelative.Day"),dd:u.getString("DateTimeRelative.Days",{count:"%d"}),M:u.getString("DateTimeRelative.Month"),MM:u.getString("DateTimeRelative.Months",{count:"%d"}),y:u.getString("DateTimeRelative.OverAYear"),yy:u.getString("DateTimeRelative.OverAYear")}}),n.default.unix(e/1e3).fromNow()}static getLongMonthAndYearString(e){return d.getMonthAndYear(p.fromUnixMilliseconds(e))}static getElapsedTimePartsFromS(e){if(!isFinite(e))return{hours:0,minutes:0,seconds:0};const t=e%3600,i=t%60;return{hours:Math.floor(e/3600),minutes:Math.floor(t/60),seconds:Math.floor(i)}}static getElapsedTimeStringFromS(e){const t=this.getElapsedTimePartsFromS(e),i=(t.seconds>9?"":"0")+t.seconds;if(t.hours>0){const e=(t.minutes>9?"":"0")+t.minutes;return t.hours+":"+e+":"+i}return t.minutes+":"+i}static getElapsedTimeStringFromMs(e){const t=Math.round(e/1e3);return this.getElapsedTimeStringFromS(t)}static getElapsedTimeStringInMsFromMs(e){const t=e%1e3,i=Math.floor(e/1e3);return this.getElapsedTimeStringFromS(i)+"."+t}static getUnixMillisecondsTimestamp(e){return new Date(e).getTime()}static getFormattedDuration(e,t=!1){let i="";const o=Math.floor(e/86400),n=86400*o,r=Math.floor((e-n)/3600),a=3600*r,s=Math.floor((e-n-a)/60),l=e-n-a-60*s,c=r>=1,d=s>=1,p=l>=0;return o>=1?i=u.getString(t?"DateTimeDuration.AccessibleDays":"DateTimeDuration.Days",{days:o}):c&&d&&p?i=u.getString(t?"DateTimeDuration.AccessibleHoursMinutesSeconds":"DateTimeDuration.HoursMinutesSeconds",{hours:r,minutes:s,seconds:l}):c&&d?i=u.getString(t?"DateTimeDuration.AccessibleHoursMinutes":"DateTimeDuration.HoursMinutes",{hours:r,minutes:s}):c&&p?i=u.getString(t?"DateTimeDuration.AccessibleHoursSeconds":"DateTimeDuration.HoursSeconds",{hours:r,seconds:l}):d&&p?i=u.getString(t?"DateTimeDuration.AccessibleMinutesSeconds":"DateTimeDuration.MinutesSeconds",{minutes:s,seconds:l}):d?i=u.getString(t?"DateTimeDuration.AccessibleMinutes":"DateTimeDuration.Minutes",{minutes:s}):p?i=u.getString(t?"DateTimeDuration.AccessibleSeconds":"DateTimeDuration.Seconds",{seconds:l}):c&&(i=u.getString(t?"DateTimeDuration.AccessibleHours":"DateTimeDuration.Hours",{hours:r})),i}static isTimestampValid(e){return(0,n.default)(e,["YYYY-MM-DD","YYYY-MM-DDTHH:mm:ssSSSZ"],!1).isValid()}static isTimestampPassed(e,t=!0){const i=c.attempt((()=>this.getUnixMillisecondsTimestamp(e)));if(c.isError(i))return t;return Date.now()>i}static isDateTimePassed(e){return Date.now()>e}static isNowWithinDateTimes(e,t){const i=Date.now();return e<i&&i<t}static getPostedTime(e,t=!1){const i=Math.floor((Date.now()-e)/1e3);if(i<60)return t?u.getString("HighlightsItemView.MediaPostedJustNowLowerCase"):u.getString("HighlightsItemView.MediaPostedJustNow");const o=Math.floor(i/60);if(o<60)return u.getString("HighlightsItemView.MediaPostedMinutes",{count:o});const n=Math.floor(i/3600);if(n<24)return u.getString("HighlightsItemView.MediaPostedHours",{count:n});const r=Math.floor(i/86400);return u.getString("HighlightsItemView.MediaPostedDays",{count:r})}static getDaysDifferenceToNow(e){const t=Math.floor((Date.now()-e)/1e3);return Math.floor(t/86400)}static roundToNextHour(e){const t=p.fromUnixMilliseconds(e);return t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.getTime()}static convertDateToUTC(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}static getAbbreviatedDatetimeString(e){const t=p.fromUnixMilliseconds(e);return u.getString("DateTimeRelative.AbbreviatedDateTime",{day:d.getDayAbbreviatedName(t),monthDate:d.getMonthAndDateAbbreviatedName(t),year:d.getYear(t),time:p.getDisplayTimeString(e)})}static getConditionalDateTimeString(e){const t=-1*p.getDaysDifferenceToNow(e);return t<=2&&t>=0?p.getDisplayDateTimeString(e):p.getAbbreviatedDatetimeString(e)}static getLastSyncTime(e){const t=Math.floor((Date.now()-e)/1e3);if(t<60)return u.getString("UserSettingsPanel.SyncedJustNow");const i=Math.floor(t/60);if(i<60)return u.getString("UserSettingsPanel.SyncedMinutesAgo",{count:i});const o=Math.floor(t/3600);if(o<24)return u.getString("UserSettingsPanel.SyncedHoursAgo",{count:o});const n=Math.floor(t/86400);return 1===n?u.getString("UserSettingsPanel.SyncedYesterday"):n<31?u.getString("UserSettingsPanel.SyncedDaysAgo",{count:n}):p.getDisplayDateStringShort(e)}static convertPeriodToMiliseconds(e){if(!e)return;const[t,i]=c.split(e,"."),o=Number(t);return c.includes(this.getSupportedDayJsPeriods(),i)&&c.isInteger(o)?(0,n.default)(0).add(o,i).valueOf():void 0}static getSupportedDayJsPeriods(){return["years","quarters","months","weeks","days","hours","minutes","seconds"]}}p._secondsPerMinute=60,p._secondsPerHour=60*p._secondsPerMinute,p._secondsPerDay=24*p._secondsPerHour,p._secondsPerYear=365*p._secondsPerDay,p.getFullDateTimeString=e=>{const t=p.fromUnixMilliseconds(e);return u.getString("DateTimeRelative.DayAtTime",{day:d.getDateLong(t),time:d.getTimeShort(t)})},t.default=p},36615:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(743726),r=o.__importStar(i(775463)),a=(o.__importStar(i(397691)),o.__importStar(i(446574)));t.default=new class{constructor(){a.RegisterStartupable(this,"EntropyService")}startup(){return n.Entropy.getCryptoStrongRandomValues(48).then((e=>{r.initPrng(e)}))}}},287413:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionReporter=void 0;const o=i(197582),n=i(167606),r=o.__importStar(i(85385)),a=o.__importDefault(i(655192));let s;t.ExceptionReporter=class{constructor(){this._handlers=[],window.onerror=(e,t,i,o,...s)=>{let l="",c="";s&&s[0]&&(l=s[0].stack||l,c=s[0].name||c);const d={errorMessage:e.toString(),source:t,fileNumber:i,columnNumber:o,errorName:c,stackTrace:l};let u=!1;if(this._handlers.forEach((e=>{try{null!==e&&e(d)}catch(e){r.error(n.LogTraceArea.ExceptionHandling,"Error handling Exception: "+a.default.errorAsString(e))}})),null!==this._primaryHandler)try{this._primaryHandler(d),u=!0}catch(e){r.error(n.LogTraceArea.ExceptionHandling,"Error handling Exception: "+a.default.errorAsString(e))}return u}}_wrapGlobalHandler(e,t){let i="";e.stack&&(i=e.stack||i);const o={errorMessage:e.message,source:"",fileNumber:-1,columnNumber:-1,errorName:e.name,stackTrace:i};this._handlers.forEach((e=>{try{null!==e&&e(o)}catch(e){r.error(n.LogTraceArea.ExceptionHandling,"Error handling Exception: "+a.default.errorAsString(e))}})),null!==this._primaryHandler&&this._primaryHandler(o).then((()=>{s})).catch((e=>{r.error(n.LogTraceArea.ExceptionHandling,"Error handling Exception: "+a.default.errorAsString(e))}))}setPrimaryHandler(e){null!==e&&(this._primaryHandler=e)}registerAlertView(e){this._handlers.push((t=>{e()&&window.alert("DEBUG ALERT: Uncaught Exception\n"+t.errorMessage+"\n"+t.source+" ("+t.fileNumber+","+t.columnNumber+")")}))}registerConsoleView(){this._handlers.push((e=>{r.error(n.LogTraceArea.ExceptionHandling,"DEBUG ALERT: Uncaught Exception\n"+e.errorMessage+"\n"+e.source+" ("+e.fileNumber+","+e.columnNumber+")\nStack:\n"+e.stackTrace)}))}unregister(){this._handlers=[]}}},252665:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setLocale=function(e){let t=a.normalizeLocale(e);if(t===l)return;let o=function(e){let t;switch(e){case"ar-ae":t=i(914779);break;case"ar-eg":t=i(724922);break;case"ar-iq":t=i(241602);break;case"ar-kw":t=i(78449);break;case"ar-sa":t=i(317019);break;case"ar-us":t=i(904245);break;case"az-az":t=i(423584);break;case"bg-bg":t=i(198038);break;case"ca-es":t=i(456521);break;case"cs-cz":t=i(407504);break;case"da-dk":t=i(525005);break;case"de-at":t=i(117160);break;case"de-ch":t=i(996947);break;case"de-de":t=i(163254);break;case"el-gr":t=i(517110);break;case"en-ae":t=i(370754);break;case"en-af":t=i(539954);break;case"en-al":t=i(548675);break;case"en-at":t=i(942089);break;case"en-au":t=i(759720);break;case"en-bd":t=i(509612);break;case"en-be":t=i(101721);break;case"en-bg":t=i(878933);break;case"en-bh":t=i(284306);break;case"en-br":t=i(609327);break;case"en-ca":t=i(924269);break;case"en-ch":t=i(596608);break;case"en-cn":t=i(41475);break;case"en-co":t=i(256942);break;case"en-de":t=i(641544);break;case"en-dk":t=i(434126);break;case"en-ee":t=i(448730);break;case"en-eg":t=i(75131);break;case"en-es":t=i(925709);break;case"en-fi":t=i(501943);break;case"en-fr":t=i(883708);break;case"en-gb":t=i(520711);break;case"en-ge":t=i(19537);break;case"en-gr":t=i(233982);break;case"en-hk":t=i(382722);break;case"en-id":t=i(262248);break;case"en-ie":t=i(510174);break;case"en-il":t=i(850425);break;case"en-in":t=i(48496);break;case"en-iq":t=i(370295);break;case"en-it":t=i(309454);break;case"en-jo":t=i(448229);break;case"en-jp":t=i(980509);break;case"en-kh":t=i(436922);break;case"en-kr":t=i(72709);break;case"en-kw":t=i(653766);break;case"en-lb":t=i(479053);break;case"en-lk":t=i(101004);break;case"en-lt":t=i(315520);break;case"en-lv":t=i(717695);break;case"en-mx":t=i(790403);break;case"en-my":t=i(923916);break;case"en-ng":t=i(311809);break;case"en-nl":t=i(826016);break;case"en-no":t=i(94708);break;case"en-nz":t=i(308281);break;case"en-ph":t=i(883434);break;case"en-pk":t=i(280733);break;case"en-pl":t=i(802623);break;case"en-pt":t=i(429284);break;case"en-qa":t=i(331351);break;case"en-ro":t=i(527472);break;case"en-rs":t=i(228716);break;case"en-ru":t=i(400422);break;case"en-sa":t=i(587535);break;case"en-se":t=i(368771);break;case"en-sg":t=i(498184);break;case"en-si":t=i(729508);break;case"en-th":t=i(462256);break;case"en-u":t=i(455741);break;case"en-vn":t=i(261906);break;case"en-za":t=i(196759);break;case"es-ar":t=i(435724);break;case"es-cl":t=i(670179);break;case"es-co":t=i(254367);break;case"es-cr":t=i(841692);break;case"es-ec":t=i(346008);break;case"es-es":t=i(412927);break;case"es-gt":t=i(744636);break;case"es-mx":t=i(977827);break;case"es-pe":t=i(384234);break;case"es-us":t=i(377918);break;case"es-uy":t=i(848345);break;case"es-ve":t=i(10552);break;case"et-ee":t=i(604152);break;case"fa-ir":t=i(12090);break;case"fi-fi":t=i(337537);break;case"fr-be":t=i(241234);break;case"fr-ca":t=i(701376);break;case"fr-ch":t=i(454735);break;case"fr-dz":t=i(867156);break;case"fr-fr":t=i(574027);break;case"fr-us":t=i(468249);break;case"he-il":t=i(914136);break;case"hi-in":t=i(196802);break;case"hr-hr":t=i(919569);break;case"hu-hu":t=i(234381);break;case"id-id":t=i(449745);break;case"it-ch":t=i(470161);break;case"it-it":t=i(980927);break;case"ja-jp":t=i(971133);break;case"ja-us":t=i(692282);break;case"ka-ge":t=i(46617);break;case"ko-kr":t=i(404089);break;case"lt-lt":t=i(635581);break;case"lv-lv":t=i(367193);break;case"mk-mk":t=i(166884);break;case"ms-my":t=i(39893);break;case"nb-no":t=i(646718);break;case"nl-be":t=i(935184);break;case"nl-nl":t=i(736094);break;case"pl-gb":t=i(611400);break;case"pl-pl":t=i(839964);break;case"pt-br":t=i(968558);break;case"pt-pt":t=i(703263);break;case"ro-md":t=i(474916);break;case"ro-ro":t=i(836670);break;case"ru-am":t=i(698277);break;case"ru-az":t=i(877934);break;case"ru-by":t=i(937462);break;case"ru-gb":t=i(666924);break;case"ru-ge":t=i(270382);break;case"ru-il":t=i(958761);break;case"ru-kz":t=i(708595);break;case"ru-lv":t=i(136200);break;case"ru-md":t=i(565821);break;case"ru-ru":t=i(214001);break;case"ru-ua":t=i(217519);break;case"ru-us":t=i(621450);break;case"sk-sk":t=i(917743);break;case"sl-si":t=i(805947);break;case"sr-latn-rs":t=i(663076);break;case"sv-se":t=i(489893);break;case"th-th":t=i(98585);break;case"tr-az":t=i(476858);break;case"tr-tr":t=i(620844);break;case"uk-ua":t=i(736501);break;case"uk-us":t=i(293091);break;case"vi-jp":t=i(477970);break;case"vi-us":t=i(484169);break;case"vi-vn":t=i(660831);break;case"zh-cn":t=i(273883);break;case"zh-hk":t=i(621832);break;case"zh-tw":t=i(456163)}return t}(t);o||("zh-hant"===t.substring(0,7)?o=i(456163):(o=function(e){switch(e){case"sa":return i(317019);case"de":return i(163254);case"us":return i(281318);case"es":return i(412927);case"ee":return i(604152);case"fr":return i(574027);case"il":return i(914136);case"in":return i(196802);case"it":return i(980927);case"jp":return i(971133);case"nl":return i(736094);case"br":return i(968558);case"tr":return i(620844);case"ru":return i(214001);case"cn":return i(273883);case"bg":return i(198038);case"hr":return i(919569);case"cz":return i(407504);case"dk":return i(525005);case"fi":return i(337537);case"gr":return i(517110);case"hu":return i(234381);case"id":return i(449745);case"kr":return i(404089);case"lv":return i(367193);case"lt":return i(635581);case"my":return i(39893);case"no":return i(646718);case"pl":return i(839964);case"ro":return i(836670);case"rs":return i(663076);case"sk":return i(917743);case"si":return i(805947);case"se":return i(489893);case"th":return i(98585);case"ua":return i(736501);case"vn":return i(660831)}return}(t.substring(3,5)),o||(o=function(e){let t;switch(e){case"ar":t=i(317019);break;case"de":t=i(163254);break;case"en":t=i(281318);break;case"es":case"gl":case"eu":t=i(412927);break;case"et":t=i(604152);break;case"fr":t=i(574027);break;case"he":case"iw":t=i(914136);break;case"hi":t=i(196802);break;case"it":t=i(980927);break;case"ja":t=i(971133);break;case"nl":t=i(736094);break;case"pt":t=i(968558);break;case"tr":t=i(620844);break;case"ru":t=i(214001);break;case"zh":t=i(273883);break;case"bg":t=i(198038);break;case"ca":t=i(456521);break;case"hr":t=i(919569);break;case"cs":t=i(407504);break;case"da":t=i(525005);break;case"fi":t=i(337537);break;case"el":t=i(517110);break;case"hu":t=i(234381);break;case"id":t=i(449745);break;case"ko":t=i(404089);break;case"lv":t=i(367193);break;case"lt":t=i(635581);break;case"ms":t=i(39893);break;case"nb":t=i(646718);break;case"pl":t=i(839964);break;case"ro":t=i(836670);break;case"sr":t=i(663076);break;case"sk":t=i(917743);break;case"sl":t=i(805947);break;case"sv":t=i(489893);break;case"th":t=i(98585);break;case"uk":t=i(736501);break;case"vi":t=i(660831)}return t}(t.substring(0,2)))));o?c=o:(t="en-us",c=i(281318));u={},d=new r.default(t),l=t},t.getDateLong=function(e){return m(e,c.Date.LongDateFormat)},t.getDateShort=function(e){return m(e,c.Date.ShortDateFormat)},t.getTimeLong=function(e){return m(e,c.Time.LongTimeFormat)},t.getTimeShort=function(e){return m(e,c.Time.ShortTimeFormat)},t.getDayName=function(e){return m(e,"{dddd}")},t.getDayAbbreviatedName=function(e){return m(e,"{ddd}")},t.getDayAndMonth=function(e){return m(e,c.Date.DayAndMonthFormat)},t.getMonthAndYear=function(e){return m(e,"{MMMM} {yyyy}")},t.getMonthAndDateAbbreviatedName=function(e){return m(e,"{MMM} {d}")},t.getYear=function(e){return m(e,"{yyyy}")},t.getDayAndMonthLong=function(e){return m(e,"{MMMM} {d}")},t.toStringWithFormattedDecimalSeparator=function(e,t,i){let o=e.toString();i&&(o=n.round(e,i).toString());if(t){const e=o.split(h);e[1]=function(e,t){let i=e;for(let o=e.length;o<t;o+=1)i+="0";return i}(e[1]||"",t),o=e.join(h)}return o.replace(h,c.Number.DecimalSeparator)},t.getISO8601Date=function(e){return m(e,"{yyyy}{MM}{dd}")},t.getISO8601Time=function(e){return m(e,"{HH}{mm}{ss}")};const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(226554)),a=o.__importStar(i(147286)),s=o.__importStar(i(704704));let l="en-us",c=i(281318),d=new r.default("en-us"),u={};const p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h=".";function m(e,t){return u[t]||(u[t]=d.compile(t)),u[t]({d:e.getDate(),dd:n.padStart(e.getDate().toString(),2,"0"),ddd:s.getStringUnsafe("DayAbbreviatedName."+p[e.getDay()]),dddd:s.getStringUnsafe("DayLongName."+p[e.getDay()]),h:S(e),hh:n.padStart(S(e).toString(),2,"0"),H:e.getHours(),HH:n.padStart(e.getHours().toString(),2,"0"),m:e.getMinutes(),mm:n.padStart(e.getMinutes().toString(),2,"0"),M:e.getMonth()+1,MM:n.padStart((e.getMonth()+1).toString(),2,"0"),MMM:s.getStringUnsafe("MonthAbbreviatedName."+g[e.getMonth()]),MMMM:s.getStringUnsafe("MonthLongName."+g[e.getMonth()]),s:e.getSeconds(),ss:n.padStart(e.getSeconds().toString(),2,"0"),tt:e.getHours()/12>=1?c.Time.PMFormat:c.Time.AMFormat,yy:n.padStart(e.getFullYear().toString(),4,"0").substring(2),yyyy:n.padStart(e.getFullYear().toString(),4,"0")})}function S(e){const t=e.getHours()%12;return 0===t?12:t}},71380:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Priority=t.TaskTypeFlags=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(167606)),a=i(167606),s=o.__importStar(i(397691)),l=o.__importStar(i(446574)),c=o.__importDefault(i(601274));var d,u;!function(e){e[e.CpuIntensive=1]="CpuIntensive",e[e.UsesNetworking=2]="UsesNetworking"}(d||(t.TaskTypeFlags=d={})),function(e){e[e.Low=1]="Low",e[e.Normal=2]="Normal",e[e.High=3]="High",e[e.Critical=4]="Critical"}(u||(t.Priority=u={}));const p={uiDisplayed:!1,inCall:!1,inCallEstablishment:!1,networkingAvailable:!1,busyTaskDelay:250,afterUiShownDelay:2500};t.default=new class{constructor(){this._tasks=[],this._issState=p,this._nextTaskExecutionTime=Number.MAX_VALUE,this._checkState=()=>{if(this.test_isInExternalUnitTest()){const e=this._tasks;return this._tasks=[],void n.each(e,(e=>e.callback()))}this._idleScheduler&&(c.default.clearTimeout(this._idleScheduler),this._idleScheduler=void 0),this._issState.uiDisplayed&&0!==this._tasks.length&&(this._checkStateTimer&&(c.default.clearExpiration(this._checkStateTimer),this._checkStateTimer=void 0),this._idleScheduler=c.default.setTimeout((()=>{const e=Date.now();let t=!1,i=!1;n.each(this._tasks,(o=>{if(e<this._nextTaskExecutionTime&&o.flags&d.CpuIntensive)return i=!0,!0;const s=o.flags&(d.UsesNetworking|d.CpuIntensive);return!!(this._issState.inCallEstablishment&&o.priority<u.Critical)||(!!(this._issState.inCall&&s&&o.priority<u.High)||(!(this._issState.networkingAvailable||!(o.flags&d.UsesNetworking))||(n.pull(this._tasks,o),r.log(a.LogTraceArea.IdleSchedulingService,"Executing Idle Task: "+o.name+", was queued for: "+(Date.now()-o.queuedAt)+"ms priority: "+u[o.priority]),o.callback(),t=!0,o.flags&d.CpuIntensive&&this._bumpBusyTimer(),!1)))})),this._idleScheduler=void 0,t?n.defer(this._checkState):i&&(this._checkStateTimer=c.default.setExpiration(this._checkState,this._nextTaskExecutionTime))}),0))},l.RegisterStartupable(this,"IdleSchedulingService")}test_resetParams(){this._tasks=[],this._nextTaskExecutionTime=Number.MAX_VALUE,this._issState=p}startup(){return this._checkState(),s.Resolved()}updateAppState(e){return!!this._update(e)}updateOptions(e){return!!this._update(e)}test_update(e){const t=this._update(e),i=n.fromPairs(n.intersectionWith(n.toPairs(e),n.toPairs(t),n.isEqual));return n.isEmpty(i)?void 0:i}_update(e){const t=n.fromPairs(n.differenceWith(n.toPairs(e),n.toPairs(this._issState),n.isEqual)),i=n.extend({},this._issState,e);if(r.log(a.LogTraceArea.IdleSchedulingService,`oldState: ${JSON.stringify(this._issState)} partialState: ${JSON.stringify(e)} diffState: ${JSON.stringify(t)}`),!n.isEmpty(t))return this._issState=i,n.each(t,((e,t)=>{if("uiDisplayed"===t)this._nextTaskExecutionTime=Date.now()+this._issState.afterUiShownDelay})),this._checkState(),t}indicateBusyOperation(){this._bumpBusyTimer(),this._checkState()}_bumpBusyTimer(){this._nextTaskExecutionTime=Math.max(this._nextTaskExecutionTime,Date.now()+this._issState.busyTaskDelay)}queueIdleTask(e,t,i,o=u.Normal){const r={name:e,flags:t,callback:i,queuedAt:Date.now(),priority:o},a=n.sortedLastIndexBy(this._tasks,r,(e=>-e.priority));this._tasks.splice(a,0,r),this._checkState()}test_isInExternalUnitTest(){return!1}}},85385:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.warn=t.log=t.error=t.debug=t.output=t.devWarningEvent=t.devErrorEvent=void 0,t.getLogHistory=function(){return(0,r.getLogHistory)()},t.track=d,t.flush=function(){let e=a.Resolved();l.default.isInitialized()&&(e=l.default.flush());return e},t.throttleTrack=function(e){return n.throttle(u,e)},t.setLocalTracingMasks=function(e){(0,r.setLocalTracingMasks)(e)},t.setEcsOptions=function(e,t){(0,r.setEcsOptions)(e,t)},t.setShouldFindPotentialPii=function(e){(0,r.setShouldFindPotentialPii)(e)},t.piiTrustMeThisIsSafe=function(e){return(0,r.piiTrustMeThisIsSafe)(e)},t.isTraceEnabled=function(e){return(0,r.isTraceEnabled)(e)};const o=i(197582),n=(o.__importStar(i(174958)),o.__importStar(i(496486))),r=i(167606),a=o.__importStar(i(397691)),s=o.__importDefault(i(139221)),l=o.__importDefault(i(922119));var c=i(167606);function d(e){l.default.addEvent(e)}Object.defineProperty(t,"devErrorEvent",{enumerable:!0,get:function(){return c.devErrorEvent}}),Object.defineProperty(t,"devWarningEvent",{enumerable:!0,get:function(){return c.devWarningEvent}}),Object.defineProperty(t,"output",{enumerable:!0,get:function(){return c.output}}),t.debug=r.debug,t.error=r.error,t.log=r.log,t.warn=r.warn;const u=e=>{d(e)};(0,r.setEnableDebug)((()=>s.default.isDebug()));console.log=function(...e){(0,r.log)(r.LogTraceArea.GenericUnsafe,...e)},console.warn=function(...e){(0,r.warn)(r.LogTraceArea.GenericUnsafe,...e)},console.debug=function(...e){(0,r.debug)((()=>e))},console.error=function(...e){(0,r.error)(r.LogTraceArea.GenericUnsafe,...e)},(0,r.updateLogLevels)()},147286:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizeParamForGender=function(e){if(e===o.eGender.Male)return"male";if(e===o.eGender.Female)return"female";return"other"},t.normalizeLocale=function(e){0;return e.toLowerCase()};i(197582).__importStar(i(496486));const o=i(331079)},704704:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tests_getRawString=t.localeChangedEvent=t.languageChangedEvent=t.getLocale=t.getLanguageFromLocale=t.clearStringCache=void 0,t.cacheLanguage=f,t.getResetLanguageOptionString=function(){const e=y(m.getLocale()),t=y(g.default.getSystemLanguage()),i=m.getString("SettingsLanguages.ResetLanguageOption");return t&&t===e||!t&&"en"===e?i:t?`${i} - ${m.getString("ResetLanguageOption."+t)}`:`${i} - ${h.SettingsLanguages.ResetLanguageOption}`},t.setSystemLocale=function(e){C!==e&&m.setSystemLocale(e).then((()=>P()))},t.resetLocaleToSystem=function(){return m.resetLocaleToSystem().then((()=>P()))},t.setLocale=function(e){return m.setLocale(e,b(e)).then((()=>P()))},t.getStringUnsafe=v,t.getString=function(e,t){return v(e,t)},t.getParts=function(e,t,i){if("auto-auto"===m.getLocale())return[e+"^"+JSON.stringify(t)];return m.getParts(e,t,i)},t.isLocaleSupported=function(e){return-1!==a.indexOf(Object.keys(S),e)},t.isEnglishLanguage=function(){return"en"===m.getLanguageFromLocale().toLowerCase().trim()},t.isRTLLanguage=b,t.forceRTL=function(e){n.International.forceRTL(e),T&&n.International.allowRTL(e);d.I18nManager.forceRTL(e),T&&d.I18nManager.allowRTL(e)};const o=i(197582),n=o.__importStar(i(516778)),r=o.__importDefault(i(277590)),a=o.__importStar(i(496486)),s=o.__importDefault(i(627212)),l=o.__importStar(i(397691)),c=o.__importDefault(i(974634)),d=i(537180),u=o.__importStar(i(147286)),p=o.__importDefault(i(655192)),g=o.__importDefault(i(139221)),h=i(596588),m=new r.default({normalizeLocale:u.normalizeLocale,getLocaleInfoFromLocale:function(e){const t=r.default.fallbackLocale(e,Object.keys(S),"en-US");if("en-US"===t)return l.Resolved({newLocale:t,localizedStringTable:h});if(t in _)return l.Resolved({newLocale:t,localizedStringTable:_[t]});const i=S[t],o="resources/strings/";return s.default.readAssetFile(o+i).catch((()=>s.default.readAssetFile("strings/"+i))).then((e=>{const i=p.default.parseJsonErrorable(e);return a.isError(i)?l.Rejected(i):(f(t,i),{newLocale:t,localizedStringTable:i})}))},defaultStringTable:h}),S={"ar-SA":"LocalizedStrings_ar.json","bg-BG":"LocalizedStrings_bg.json","ca-ES":"LocalizedStrings_ca.json","cs-CZ":"LocalizedStrings_cs.json","da-DK":"LocalizedStrings_da.json","de-DE":"LocalizedStrings_de.json","el-GR":"LocalizedStrings_el.json","en-GB":"LocalizedStrings_en-GB.json","en-US":"LocalizedStrings_en.json","es-ES":"LocalizedStrings_es.json","es-MX":"LocalizedStrings_es-MX.json","et-EE":"LocalizedStrings_et.json","fi-FI":"LocalizedStrings_fi.json","fr-CA":"LocalizedStrings_fr-CA.json","fr-FR":"LocalizedStrings_fr.json","he-IL":"LocalizedStrings_he.json","hi-IN":"LocalizedStrings_hi.json","hr-HR":"LocalizedStrings_hr.json","hu-HU":"LocalizedStrings_hu.json","id-ID":"LocalizedStrings_id.json","it-IT":"LocalizedStrings_it.json","ja-JP":"LocalizedStrings_ja.json","ko-KR":"LocalizedStrings_ko.json","lt-LT":"LocalizedStrings_lt.json","lv-LV":"LocalizedStrings_lv.json","ms-MY":"LocalizedStrings_ms.json","nb-NO":"LocalizedStrings_nb.json","nl-NL":"LocalizedStrings_nl.json","pl-PL":"LocalizedStrings_pl.json","pt-BR":"LocalizedStrings_pt-BR.json","pt-PT":"LocalizedStrings_pt.json","qps-ploc":"LocalizedStrings_qps-ploc.json","qps-ploca":"LocalizedStrings_qps-ploca.json","qps-plocm":"LocalizedStrings_qps-plocm.json","ro-RO":"LocalizedStrings_ro.json","ru-RU":"LocalizedStrings_ru.json","sk-SK":"LocalizedStrings_sk.json","sl-SI":"LocalizedStrings_sl.json","sr-Latn-RS":"LocalizedStrings_sr-Latn.json","sv-SE":"LocalizedStrings_sv.json","th-TH":"LocalizedStrings_th.json","tr-TR":"LocalizedStrings_tr.json","uk-UA":"LocalizedStrings_uk.json","vi-VN":"LocalizedStrings_vi.json","zh-CN":"LocalizedStrings_zh-CN.json","zh-TW":"LocalizedStrings_zh-TW.json"};const _={en:h,"en-US":h};function f(e,t){_[e]=t}function y(e){const t=e.substring(0,2);switch(t){case"es":case"gl":case"eu":return"es";case"he":case"iw":return"he";case"ar":case"bg":case"ca":case"cs":case"da":case"de":case"el":case"en":case"et":case"fi":case"fr":case"hi":case"hr":case"hu":case"id":case"it":case"ja":case"ko":case"lt":case"lv":case"ms":case"nb":case"nl":case"pl":case"pt":case"qp":case"ro":case"ru":case"sk":case"sl":case"sr":case"sv":case"th":case"tr":case"uk":case"vi":return t;default:return""}}let C;function v(e,t){return"auto-auto"===m.getLocale()?e+"^"+JSON.stringify(t):m.getString(e,t)}function b(e){let t;return e?(t=e.toLowerCase().trim(),0===t.indexOf("he")||0===t.indexOf("ar")):(t=m.getLanguageFromLocale().toLowerCase().trim(),"he"===t||"ar"===t)}t.clearStringCache=m.clearStringCache,t.getLanguageFromLocale=m.getLanguageFromLocale,t.getLocale=m.getLocale,t.languageChangedEvent=new c.default,t.localeChangedEvent=new c.default,t.tests_getRawString=m.tests_getRawString;const T=!0;function P(){if(T){const e=b();d.I18nManager.allowRTL(e),d.I18nManager.forceRTL(e),n.International.allowRTL(e),n.International.forceRTL(e)}else d.I18nManager.allowRTL(!0),n.International.allowRTL(!0);t.languageChangedEvent.fire(m.getLanguageFromLocale()),t.localeChangedEvent.fire(m.getLocale())}},503411:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MiniToastMessage=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=i(167606),a=o.__importStar(i(516778)),s=o.__importDefault(i(974634)),l=o.__importStar(i(85385));class c{constructor(e){this.params=e}}t.MiniToastMessage=c;t.default=new class{constructor(){this._bottomMarginEntries=[],this.showToastEvent=new s.default,this._currentMessages=[],this._keyCount=0,this._bottomMargin=0,this._defaultBottomMargin=0,this._baseBottomMargin=0}scheduleMessage(e){this._currentMessages.push(new c(e)),this._showToastMessage()}scheduleTextMessage(e,t,i){const o=t||"key"+this._keyCount++;this.scheduleMessage({key:o,textMessage:e,rootViewId:i})}removeToastMessage(e){this._displayedMessage&&this._displayedMessage.params.key===e?this.toastDismissed(e,!0):n.remove(this._currentMessages,(t=>t.params.key===e))}toastDismissed(e,t=!1){(!e||this._displayedMessage&&this._displayedMessage.params.key===e)&&(this._displayedMessage=void 0),this._showToastMessage(t)}setBottomMarginDefault(e){l.log(r.LogTraceArea.GenericUnsafe,"MiniToastService:setBottomMarginDefault - "+e),this._defaultBottomMargin=e,this._updateBottomMargin()}addOrUpdateBottomMargin(e,t){l.log(r.LogTraceArea.GenericUnsafe,"MiniToastService:addOrUpdateBottomMargin - "+e),this._addMarginListEntry({key:e,bottomMargin:t}),this._updateBottomMargin()}removeBottomMargin(e){const t=n.findIndex(this._bottomMarginEntries,(t=>t.key===e));-1!==t&&(l.log(r.LogTraceArea.GenericUnsafe,"MiniToastService:removeBottomMargin - "+e),this._bottomMarginEntries.splice(t,1),this._updateBottomMargin())}setBottomMarginBase(e){this._baseBottomMargin=e}_addMarginListEntry(e){const t=n.findIndex(this._bottomMarginEntries,(t=>t.key===e.key));-1!==t?(l.log(r.LogTraceArea.GenericUnsafe,"MiniToastService: Modified old entry - "+e.key),this._bottomMarginEntries[t]=e):(l.log(r.LogTraceArea.GenericUnsafe,"MiniToastService: Pushed new entry - "+e.key),this._bottomMarginEntries.push(e))}_updateBottomMargin(){const e=n.last(this._bottomMarginEntries),t=e?e.bottomMargin:this._defaultBottomMargin;this._bottomMargin!==t&&(l.log(r.LogTraceArea.GenericUnsafe,"MiniToastService: updating bottom margin "+t),this._bottomMargin=t,this._displayedMessage&&this.showToastEvent.fire(this._displayedMessage,this._totalBottomInset()))}_showToastMessage(e=!1){const t=n.head(this._currentMessages),i=a.App.getActivationState()===a.Types.AppActivationState.Active;(this._displayedMessage||t||e)&&i&&!this._displayedMessage&&(this.showToastEvent.fire(t,this._totalBottomInset()),this._currentMessages.shift(),this._displayedMessage=t)}_totalBottomInset(){return this._baseBottomMargin+this._bottomMargin}}},558399:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(397691)),r=i(167606),a=o.__importDefault(i(150343)),s=i(355344),l=i(736300),c=o.__importStar(i(85385)),d=i(815146),u=o.__importStar(i(446574)),p=o.__importDefault(i(655192)),g=i(444314);t.default=new class{constructor(){this._msixBackgroundTasksEnabled=!1,this._appConfigStoreSubscribeCallback=()=>{const{enableMsixBackgroundTasks:e}=a.default.dangerouslyGetS4LSisuFeatures();!e&&this._msixBackgroundTasksEnabled?(this.maybeUnregisterAllMsixBackgroundTasks(),this._msixBackgroundTasksEnabled=e):e&&!this._msixBackgroundTasksEnabled&&(this._msixBackgroundTasksEnabled=e,this.maybeRegisterMsixBackgroundTasks(l.allMsixBackgroundTasks.filter((e=>e.backgroundTaskTriggerType===l.BackgroundTaskTriggerType.TimeTrigger))).catch((e=>{c.warn(r.LogTraceArea.Startup,"Something went wrong when trying to register MSIX background tasks",e)})))},u.RegisterStartupable(this,"MsixBackgroundTasksLifecycleManager")}startup(){this._msixBackgroundTasksEnabled=a.default.dangerouslyGetS4LSisuFeatures().enableMsixBackgroundTasks;a.default.dangerouslyGetS4LSisuFeatures().tokenRefreshRefreshThresholdInDays;return n.Resolved()}maybeRegisterMsixBackgroundTasks(e){return n.Resolved()}maybeUnregisterAllMsixBackgroundTasks(){return n.Resolved()}_registerTimeTriggeredTokenRefreshBackgroundTask(e,t){return n.all([g.LocalStorage.getItem(g.StorageKeys.RefreshTokenExpiration),g.LocalStorage.getItem(g.StorageKeys.LoginMethod)]).toEs6Promise().then((([i,o])=>{const n=p.default.parseJsonWithDefault(i,void 0);if(o===d.LoginMethods[d.LoginMethods.Guest]||o===d.LoginMethods[d.LoginMethods.WAM])return c.log(r.LogTraceArea.Startup,`Skipping time triggered token refresh background task registration because of login method (login method: ${o})`),Promise.resolve();c.log(r.LogTraceArea.Startup,`Will compute token refresh background task payload based on Skype Token time to expiration:(${n} ms).`);const a={intervalInMins:l.BackgroundTaskUtils.computeTimeTriggeredTokenRefreshTaskInterval(n)};return e.find((e=>e===t.backgroundTaskName))?g.LocalStorage.getItem(g.StorageKeys.TokenRefreshBackgroundTaskTimeTriggerInfo).toEs6Promise().then((e=>{const i=p.default.parseJsonWithDefault(e,-1);return-1!==i&&a.intervalInMins===i?(c.warn(r.LogTraceArea.Startup,`Background task with name ${t.backgroundTaskName} already registered with same payload (payload: ${a.intervalInMins}). Skipping registration...`),Promise.resolve()):(c.warn(r.LogTraceArea.Startup,`Background task with name ${t.backgroundTaskName} already registered but need to update payload! `+(-1!==i?`(old payload: ${i}, new payload: ${a.intervalInMins}). `:`(no previous known payload, new payload: ${a.intervalInMins})`)+"Updating registration..."),window.electronApi.ipcProvider.backgroundTasks.unregisterBackgroundTaskWithName.invoke(t.backgroundTaskName).then((e=>(c.track(new s.MSIXBackgroundTaskEvent(!!e,s.BackgroundTaskAction.Unregister,t.backgroundTaskName,l.BackgroundTaskTriggerType[t.backgroundTaskTriggerType],a.intervalInMins)),e?(g.LocalStorage.removeItem(g.StorageKeys.TokenRefreshBackgroundTaskTimeTriggerInfo),this._registerTask(t,a)):(c.warn(r.LogTraceArea.Startup,`Failed to update registration for task with name ${t.backgroundTaskName} (could not unregister old task)`),Promise.resolve())))))})):this._registerTask(t,a)}))}_registerTask(e,t){return window.electronApi.ipcProvider.backgroundTasks.registerBackgroundTask.invoke({backgroundTaskName:e.backgroundTaskName,backgroundTaskEntryPoint:e.backgroundTaskEntryPoint,backgroundTaskTrigger:{triggerType:e.backgroundTaskTriggerType,timeTriggerInterval:t.intervalInMins}}).then((i=>(c.track(new s.MSIXBackgroundTaskEvent(!!i,s.BackgroundTaskAction.Register,e.backgroundTaskName,l.BackgroundTaskTriggerType[e.backgroundTaskTriggerType],t.intervalInMins)),i?(c.log(r.LogTraceArea.Startup,`Successfully registered MSIX background task with name: ${e.backgroundTaskName} & type: ${l.BackgroundTaskTriggerType[e.backgroundTaskTriggerType]} & payload: ${t.intervalInMins}`),g.LocalStorage.setItem(g.StorageKeys.TokenRefreshBackgroundTaskTimeTriggerInfo,JSON.stringify(t.intervalInMins)).toEs6Promise()):(c.warn(r.LogTraceArea.Startup,`Failed to register MSIX background task with name: ${e.backgroundTaskName} & type: ${l.BackgroundTaskTriggerType[e.backgroundTaskTriggerType]} & payload: ${t.intervalInMins}`),Promise.resolve()))))}}},92179:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SampledScenarios=void 0,t.setSampledScenarios=function(e){t.SampledScenarios=e};const o=i(197582),n=i(167606),r=(i(815063),o.__importStar(i(496486))),a=(o.__importDefault(i(150343)),o.__importStar(i(85385))),s=i(96575),l=i(946685);o.__importDefault(i(139221));t.SampledScenarios={};t.default=new class{constructor(){this._perfTrackerList=new Map}createTracker(e,t,i,o=!1,r=!1){if(!this._isScenarioTrackingEnabled(t))return;const c=new l.PerfTracker(t,i,e,o);if(r&&this._perfTrackerList.size>0){let i=!1;if(this._perfTrackerList.forEach((e=>{e.getScenarioName()!==t||(i=!0)})),i)return void a.warn(n.LogTraceArea.Responsiveness,"createTracker "+s.ScenarioName[t]+" | Tracker ["+e+"]  for tracking "+s.ScenarioName+" already exists.")}this._perfTrackerList.set(e,c),a.log(n.LogTraceArea.Responsiveness,"createTracker "+s.ScenarioName[t]+" | Tracker ["+e+"] created.")}removeTracker(e){if(!this._isGlobalTrackingEnabled())return;const t=this._perfTrackerList.get(e);t?t.cancelTimeout():a.log(n.LogTraceArea.Responsiveness,"removeTracker | Tracker ["+e+"] not found.");const i=this._perfTrackerList.delete(e);a.log(n.LogTraceArea.Responsiveness,"removeTracker | Tracker ["+e+"] was "+(i?"deleted":"not deleted"))}markPress(e,t,i=!1){if(!this._isGlobalTrackingEnabled())return;const o=this._perfTrackerList.get(e);o?o.markPress(t,i).then((t=>{a.log(n.LogTraceArea.Responsiveness,"markPress | Tracker ["+e+"]  - last press delay : "+t)})):a.log(n.LogTraceArea.Responsiveness,"markPress | Tracker ["+e+"] not found.")}markActionDone(e){if(!this._isGlobalTrackingEnabled())return;const t=this._perfTrackerList.get(e);t?t.markActionDone():a.log(n.LogTraceArea.Responsiveness,"markActionDone | Tracker ["+e+"] not found.")}cancelTimeout(e){if(!this._isGlobalTrackingEnabled())return;const t=this._perfTrackerList.get(e);t?t.cancelTimeout():a.log(n.LogTraceArea.Responsiveness,"cancelTimeout | Tracker ["+e+"] not found.")}createTrackerAndMarkPressTime(e,t,i,o,r=!1){this.createTracker(e,t,o,r),a.log(n.LogTraceArea.Responsiveness,"createTracker <-> markPress"),this.markPress(e,i)}markActionDoneAndRemoveTracker(e){this.markActionDone(e),this.removeTracker(e)}createOneShotTrackerAndMarkPressTime(e,t,i,o,n=!1){this.createTracker(e,t,o,n),this.markPress(e,i,!0),this.removeTracker(e)}_isSampleRatePositive(e){if(r.isEmpty(t.SampledScenarios))return a.debug((()=>"SampledScenarios not populated. Disable now.")),!1;const i=s.ScenarioName[e],o=t.SampledScenarios[i];return a.debug((()=>"Scenario "+i+" sample rate : "+o)),!!(r.isNumber(o)&&o>0)&&(a.log(n.LogTraceArea.Responsiveness,"Scenario sample rate available and enabled for some percentage. Enable now"),!0)}_isGlobalTrackingEnabled(){return!1}_isScenarioTrackingEnabled(e){return this._isGlobalTrackingEnabled()&&this._isSampleRatePositive(e)}}},946685:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PerfTracker=void 0;const o=i(197582),n=o.__importDefault(i(331654)),r=i(815063),a=i(167606),s=o.__importStar(i(397691)),l=i(96575),c=i(699754),d=o.__importDefault(i(760989)),u=(o.__importDefault(i(150343)),o.__importStar(i(85385))),p=o.__importDefault(i(139221));t.PerfTracker=class{constructor(e,t,i=d.default.newCauseId(),o=!1){this._pressTimeMarked=!1,this._scenarioName=e,this._trackerId=i,this._telemetryScenario=new c.ResponsivenessTelemetryScenario(e,t,o)}markPress(e,t=!1){if(!this._isScenarioTrackingEnabled())return s.Rejected();u.debug((()=>"markPress "+l.ScenarioName[this._scenarioName]+" ["+this._trackerId+"]")),this._pressTimeMarked=!0;const i=Math.floor(e.nativeEvent.timestamp);this._telemetryScenario.startResponsivenessScenario(),p.default.getUITestsConfigOption(r.UITestsConfigOptions.IsUiResponsivenessModeOn)?u.log(a.LogTraceArea.Responsiveness,"UI Responsiveness CiFx mode ON"):u.log(a.LogTraceArea.Responsiveness,"UI Responsiveness CiFx mode OFF");const o=Date.now();this._pressTimestamp=o;return(e.nativeEvent.timestamp?n.default.getUptimeMillis().then((e=>{if(e<i)return this._closeScenarioWithError(c.ResponsivenessScenarioStep.DelayComputationError),s.Rejected();return e-i})):s.Resolved(o-e.timeStamp)).then((e=>(u.log(a.LogTraceArea.Responsiveness,l.ScenarioName[this._scenarioName]+" ["+this._trackerId+"] Native Press: "+i+" | JS Press: "+o+" | PressDelay: "+e),this._telemetryScenario.markStep(c.ResponsivenessScenarioStep.OnJsPress,e),t&&this._closeScenario(),e)))}markActionDone(){if(!this._isScenarioTrackingEnabled())return;u.debug((()=>"markActionDone "+l.ScenarioName[this._scenarioName]+" ["+this._trackerId+"]"));const e=Date.now();if(e<this._pressTimestamp)return void this._closeScenarioWithError(c.ResponsivenessScenarioStep.DelayComputationError);const t=e-this._pressTimestamp;u.log(a.LogTraceArea.Responsiveness,l.ScenarioName[this._scenarioName]+" ["+this._trackerId+"] ActionDoneDelay: "+t),this._telemetryScenario.markStep(c.ResponsivenessScenarioStep.ActionDone,t),this._closeScenario()}setTraceOnly(e){this._telemetryScenario.traceOnly(e)}getScenarioName(){return this._scenarioName}cancelTimeout(){this._telemetryScenario.cancelTimeoutTimer()}_closeScenario(){this._isScenarioTrackingEnabled()&&(u.debug((()=>"close scenario "+l.ScenarioName[this._scenarioName]+" ["+this._trackerId+"]")),this._telemetryScenario.markStep(c.ResponsivenessScenarioStep.ActionClosed),this._telemetryScenario.cancelTimeoutTimer())}_closeScenarioWithError(e){this._isScenarioTrackingEnabled()&&(u.debug((()=>"close scenario with error"+l.ScenarioName[this._scenarioName]+" ["+this._trackerId+"]")),this._telemetryScenario.markStep(e),this._telemetryScenario.cancelTimeoutTimer())}_isScenarioTrackingEnabled(){return!1}}},892135:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reloadApp=function(e){a.log(r.LogTraceArea.Startup,`Reloading app (causeId ${e})`),n.default.reload()},t.exitApp=function(e){a.log(r.LogTraceArea.Startup,`Exiting app (causeId ${e})`),n.default.exit()};const o=i(197582),n=o.__importDefault(i(92759)),r=i(167606),a=o.__importStar(i(167606))},437782:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mriOrId=function(e){return e&&o.pii.Mri(e)},t.trustMeThisJsonIsSafe=function(e){return(0,n.piiTrustMeThisIsSafe)(JSON.stringify(e))},t.dev_unknownOmit=function(e){if(e)return o.pii.Omit(e);return""};const o=i(174958),n=i(167606)},138285:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setupEnvironment=function(e){h.default.initialize(),s.Options.development=!1,s.Options.preventTryCatchInRender=!0,s.Options.onCallbackError=(e,t,i)=>{var o;const n=null!==(o=t.displayName)&&void 0!==o?o:t.name;p.error(a.LogTraceArea.Error,`ReSub callback error { callback: ${n}, arguments: [${i}] }: ${e instanceof Error&&e.stack||e}`),p.track(new m.ResubCallbackErrorEvent(e,n,i))},c.config.catchExceptions=!1,c.config.exceptionHandler=e=>{if(e)throw p.error(a.LogTraceArea.ExceptionHandling,g.default.errorAsString(e)),e},c.config.unhandledErrorHandler=e=>{p.warn(a.LogTraceArea.ExceptionHandling,"Unhandled rejected SyncTask. Error: ",g.default.errorAsString(e))},h.default.debugLog=p.debug;const t=new u.ExceptionReporter;t.registerAlertView(e),t.registerConsoleView();t.setPrimaryHandler(r.default.handleException);const i=h.default;s.Options.setTimeout=n.bind(i.setTimeout,i),s.Options.clearTimeout=n.bind(i.clearTimeout,i),s.Options.shouldComponentUpdateComparator=n.bind(d.default.comparator,d.default),l.SimpleWebRequestOptions.MaxSimultaneousRequests=5,l.SimpleWebRequestOptions.setTimeout=n.bind(h.default.setTimeout,h.default),l.SimpleWebRequestOptions.clearTimeout=n.bind(h.default.clearTimeout,h.default),!1};const o=i(197582),n=o.__importStar(i(496486)),r=(o.__importDefault(i(55331)),o.__importDefault(i(940028))),a=i(167606),s=(o.__importStar(i(775463)),o.__importStar(i(516778)),i(217041)),l=i(662783),c=o.__importStar(i(397691)),d=o.__importDefault(i(296114)),u=o.__importStar(i(287413)),p=o.__importStar(i(85385)),g=o.__importDefault(i(655192)),h=o.__importDefault(i(601274)),m=i(747896)},446574:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DetailedInstrumentationSink=t.NormalInstrumentationSink=void 0,t.setNormalInstrumentationSink=function(e){t.NormalInstrumentationSink=e},t.setDetailedInstrumentationSink=function(e){t.DetailedInstrumentationSink=e},t.RegisterStartupable=function(e,t,i=[]){if(n.find(c,(t=>t.startupable===e)))return;0;const o={startupable:e,name:t,dependencies:i.map(l),startupPromise:void 0,isComplete:!1};c.push(o)},t.HasStarted=p,t.EnsureStartedExclusive=function(e,t=!1){const i=n.map(e,(i=>{const o=h(i);if(!o)return a.Rejected("Object not registered for startup: "+f(i));const r=n.find(o.dependencies,(t=>!n.includes(e,t)));return r?a.Rejected("Missing startup dependency: "+f(r)):m(i,t)}));return a.all(i).then(n.noop)},t.EnsureStartedOnly=function(e,t,i=!1){const o=h(e=l(e));if(!o)return a.Rejected("Object not registered for startup: "+f(e));const r=n.find(o.dependencies,(e=>!n.includes(t,e)||!p(e)));if(r)return a.Rejected("Missing startup dependency: "+f(r));return m(e,i)},t.EnsureStarted=function(e){return g(e,!1)},t.test_reset=function(){n.each(c,(e=>{e.isComplete=!1,e.startupPromise=void 0}))};const o=i(197582),n=o.__importStar(i(496486)),r=i(217041),a=o.__importStar(i(397691)),s=o.__importDefault(i(655192));function l(e){return"function"==typeof e?e():e}const c=[];let d=[];const u=!1;function p(e){e=l(e);return n.find(c,(t=>t.startupable===e)).isComplete}function g(e,t){if(n.isArrayLike(e)&&"function"!=typeof e){const i=e.map(l);if(u){if(0===i.length)return a.Resolved();if(1===i.length)return g(i[0],t);return g(i.pop(),t).then((()=>g(i,t)))}return a.all(n.map(i,(e=>m(e,t)))).then(n.noop)}return m(l(e),t)}function h(e){const t=n.find(c,(t=>t.startupable===e));return t}function m(e,i){const o=h(e);if(!o)return a.Rejected("Object not registered for startup: "+f(e));if(o.isComplete)return a.Resolved();if(o.startupPromise)return o.startupPromise;const l=a.Defer();o.startupPromise=l.promise();const p=Date.now();let m;return function(){0===_&&(S=setInterval((()=>{const e=n.map(n.filter(c,(e=>!e.isComplete&&!!e.startupPromise)),(e=>e.name));t.NormalInstrumentationSink&&e.length>0&&(0,t.NormalInstrumentationSink)("Still Starting Up: "+e.join(", "))}),2e3));_++}(),g(o.dependencies,i).then((()=>{t.DetailedInstrumentationSink&&(m=Date.now(),u||(0,t.DetailedInstrumentationSink)("Starting: "+o.name+(o.dependencies.length>0?", Deps Finish: "+(m-p)+"ms":"")));const i=n.attempt((()=>{const t=e.startup();return t instanceof Promise?a.fromThenable(t):t}));return n.isError(i)?a.Rejected(i):i})).finally((()=>{_--,0===_&&(clearInterval(S),S=void 0)})).then((()=>{if(o.isComplete=!0,o.startupPromise=void 0,t.DetailedInstrumentationSink){const e=Date.now()-m;(0,t.DetailedInstrumentationSink)("Finish: "+o.name+": "+e+"ms")}i&&e instanceof r.StoreBase&&d.push(e),function(){if(0===_&&d.length>0){r.StoreBase.pushTriggerBlock();const e=d;d=[],n.each(e,(e=>{const t=e;n.isFunction(t.trigger)&&t.trigger()})),r.StoreBase.popTriggerBlock()}}(),l.resolve(void 0)}),(e=>{t.DetailedInstrumentationSink&&(0,t.DetailedInstrumentationSink)("Startup Error: "+o.name+": "+s.default.errorAsString(e)),l.reject(e)})),l.promise()}let S,_=0;function f(e){const t=n.find(c,(t=>t.startupable===e));if(t)return t.name;const i=/function (.{1,})\(/.exec(e.constructor.toString());return i&&i.length>1?i[1]:""}},655192:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(174958),r=o.__importStar(i(496486)),a=i(167606),s=o.__importStar(i(85385)),l=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,c=/[A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,d=RegExp("(?:[✀-➿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[︎️]?(?:[̀-ͯ︠-︣⃐-⃰]|\ud83c[\udffb-\udfff])?(?:‍(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[︎️]?(?:[̀-ͯ︠-︣⃐-⃰]|\ud83c[\udffb-\udfff])?)*");class u{static deburrLocaleUpperCase(e){return e?u.deburr(e.toLocaleUpperCase()).toLocaleUpperCase():e}static deburrUpperCase(e){return e?u.toUpper(u.deburr(u.toUpper(e))):e}static deburrLocaleLowerCase(e){return e?u.deburr(e.toLocaleLowerCase()):e}static deburrLowerCase(e,t=!1){return e?u.deburr(e.toLowerCase(),t):e}static deburr(e,t=!1){return e?t?u.normalizeGreekFast(r.deburr(e)):u.normalizeGreek(r.deburr(e)):e}static normalizeGreek(e){return e=e.replace(/ά/g,"α").replace(/Ά/g,"Α").replace(/έ/g,"ε").replace(/Έ/g,"Ε").replace(/ή/g,"η").replace(/Ή/g,"Η").replace(/ί|ΐ|ϊ/g,"ι").replace(/Ί|Ϊ/g,"Ι").replace(/ό/g,"ο").replace(/Ό/g,"Ο").replace(/ύ|ΰ|ϋ/g,"υ").replace(/Ύ|Ϋ/g,"Υ").replace(/ώ/g,"ω").replace(/Ώ/g,"Ω").replace(/ς/g,"σ")}static normalizeGreekFast(e){const t=[];for(let i=0;i<e.length;i++){let o=e[i];switch(o){case"ά":o="α";break;case"Ά":o="Α";break;case"έ":o="ε";break;case"Έ":o="Ε";break;case"ή":o="η";break;case"Ή":o="Η";break;case"ί":case"ΐ":case"ϊ":o="ι";break;case"Ί":case"Ϊ":o="Ι";break;case"ό":o="ο";break;case"Ό":o="Ο";break;case"ύ":case"ΰ":case"ϋ":o="υ";break;case"Ύ":case"Ϋ":o="Υ";break;case"ώ":o="ω";break;case"Ώ":o="Ω";break;case"ς":o="σ"}t.push(o)}return t.join("")}static escapeReservedRegexCharacters(e){return e.replace(l,"\\$&")}static formatV(e,t,i){return i=i||this.asString,e=this._formatInternal(e,t,i),1===t.length&&"object"==typeof t[0]&&(e=this._formatInternal(e,t[0],i)),e}static format(e,...t){return this.formatV(e,t)}static formatUri(e,...t){return this.formatV(e,t,(e=>encodeURIComponent(this.asString(e))))}static _isSurogate(e){return e>=55296&&e<=57343}static _assertMissingPairSurrogate(e,t){}static _symbolsOffset(e,t,i){const o=e.length;let n=0,r=t;for(;!(n===i||r>o);){const t=e.charCodeAt(r);u._isSurogate(t)&&(++r>=o||!u._isSurogate(e.charCodeAt(r)))&&u._assertMissingPairSurrogate(e,r-1),r++,n++}return r}static countSymbols(e){let t=e.length;const i=e.length;for(let o=0;o<i;o++)u._isSurogate(e.charCodeAt(o))&&(++o>=i&&!u._isSurogate(e.charCodeAt(o))&&u._assertMissingPairSurrogate(e,o-1),t--);return t}static getFirstEmoji(e){const t=e.match(d);return t?t[0]:null}static substr(e,t,i){const o=u._symbolsOffset(e,0,t),n=u._symbolsOffset(e,o,i);return e.substring(o,n)}static _formatInternal(e,t,i){for(const o in t)t.hasOwnProperty(o)&&(e=e.replace("{"+o+"}",i(t[o])));return e}static asString(e){if(null===e)return"null";if(void 0===e)return"undefined";const t=typeof e;return"string"===t?e:"number"===t||"boolean"===t?String(e):"function"===t?"":JSON.stringify(e)}static errorAsString(e,t=!1){let i;return i=e&&e.code&&e.message?e.code+":"+e.message:e instanceof Error?e.toString():e&&e.errorMessage?e.errorMessage:u.asString(e),t?i:n.pii.Omit(i)}static shorten(e,t=0){if(!e||0===t)return e;let i=e;return i.length>t&&(i=u.substr(i,0,t-3)+"…"),i}static parseVersion(e){if(!e)return;const t=e.split(".");return{major:parseInt(t[0],10)||0,minor:parseInt(t[1],10)||0,build:parseInt(t[2],10)||0,revision:parseInt(t[3],10)||0}}static compareVersions(e,t){if(e===t)return 0;if(!e)return-1;if(!t)return 1;const i=u.parseVersion(e),o=u.parseVersion(t);return i.major>o.major?1:i.major<o.major?-1:i.minor>o.minor?1:i.minor<o.minor?-1:i.build>o.build?1:i.build<o.build?-1:i.revision>o.revision?1:i.revision<o.revision?-1:0}static startsWithUnicodeLetter(e){return!!e&&c.test(e[0])}static getFirstCharFromDeburredString(e){if(!this.startsWithUnicodeLetter(e))return;const t=this.deburrLocaleUpperCase(e[0]);return t?t[0]:void 0}static parseJsonErrorable(e){return r.attempt((()=>JSON.parse(e)))}static parseJsonWithDefault(e,t){if(!e)return t;const i=this.parseJsonErrorable(e);return r.isError(i)?(s.error(a.LogTraceArea.GenericUnsafe,"Error parsing JSON: "+this.errorAsString(i)+" , Content: "+n.pii.Omit(e)),t):i}static parseJsonErrorToUndefined(e){return this.parseJsonWithDefault(e,void 0)}static toUpper(e){return r.toUpper(e)}static _replacePlaceholder(e,t,i){const o=[];return r.each(e,(e=>{if("string"==typeof e){const n=e.split("{"+t+"}");2===n.length?(o.push(n[0]),o.push(i),o.push(n[1])):o.push(e)}else o.push(e)})),o}static getParts(e,t){let i=[e];return r.each(t,((e,t)=>{i=this._replacePlaceholder(i,t,e)})),i}static safeDecodeURIComponent(e){const t=r.attempt((()=>decodeURIComponent(e)));if(!r.isError(t))return t;s.error(a.LogTraceArea.GenericUnsafe,`${t.message}: ${e}`)}static parseArguments(e){const t=[];let i,o,n=!1;for(let a=0;a<e.length;a++){const s=e.charAt(a);r.isUndefined(i)?s===s.trim()&&("'"===s||'"'===s?(o=s,i=a+1):i=a):n||"\\"!==s?!n&&(s!==s.trim()&&r.isUndefined(o)||s===o)?(t.push(e.substring(i,a)),i=void 0,o=void 0):n=!1:n=!0}return!r.isUndefined(i)&&r.isUndefined(o)&&t.push(e.substring(i)),r.map(t,(e=>e.replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\(.)/g,"$1")))}static stringToBuffer(e){const t=new ArrayBuffer(e.length),i=new Uint8Array(t);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}static bufferToString(e){return String.fromCharCode.apply(null,e)}}t.default=u},722538:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=i(434343),a=o.__importDefault(i(652032)),s=o.__importStar(i(446574));t.default=new class{constructor(){this._currentSkewMs=0,s.RegisterStartupable(this,"TimeService",[a.default])}startup(){if(0===this._currentSkewMs){const e=a.default.getDataExclusive(r.InternalKeys.ClockSkew);e&&(this._currentSkewMs=e)}return Promise.resolve()}getRawClientTimeMs(){return Date.now()}getServerTimeMs(){return Date.now()+this._currentSkewMs}putCurrentServiceTime(e,t){if(n.isNaN(e)||n.isUndefined(e))return;const i=Math.round(e-t/2-Date.now());Math.abs(i-this._currentSkewMs)>6e4&&(this._currentSkewMs=i,a.default.putData(r.InternalKeys.ClockSkew,this._currentSkewMs))}}},249118:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){class i extends a.ComponentBase{_buildState(e,i){return t(e,i)}render(){return r.createElement(e,Object.assign(Object.assign({},this.state),{ref:this.props.forwardedRef}),this.props.children)}}return r.forwardRef(((e,t)=>(0,n.jsx)(i,Object.assign({},e,{forwardedRef:t}))))};const o=i(197582),n=i(785893),r=o.__importStar(i(667294)),a=i(217041)},526849:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WithResub=void 0;const o=i(197582);var n=i(249118);Object.defineProperty(t,"WithResub",{enumerable:!0,get:function(){return o.__importDefault(n).default}})},36607:(e,t)=>{var i,o,n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.FullTextTermResolution=t.QueryLogicalOperator=t.QueryOperator=t.QuerySortOrder=void 0,function(e){e[e.None=0]="None",e[e.Forward=1]="Forward",e[e.Reverse=2]="Reverse"}(i||(t.QuerySortOrder=i={})),function(e){e.Between="BETWEEN",e.Equal="=",e.IsNull="IS NULL",e.IsNotNull="IS NOT NULL",e.In="IN",e.Greater=">",e.GreaterEqual=">=",e.Less="<",e.LessEqual="<=",e.Like="LIKE"}(o||(t.QueryOperator=o={})),function(e){e.And="AND",e.Or="OR"}(n||(t.QueryLogicalOperator=n={})),function(e){e[e.And=0]="And",e[e.Or=1]="Or"}(r||(t.FullTextTermResolution=r={}))},315703:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DbSchema=t.Indexes=void 0;const o=i(434343);t.Indexes={Profiles_PhoneNumber:{name:o.Indexes.Profiles_PhoneNumber,keyPath:"_phoneNumbersForDbIndex",multiEntry:!0},Messages_ConversationId_CreatedTime:{name:o.Indexes.Messages_ConversationId_CreatedTime,keyPath:["conversationId","createdTime"]},Messages_ConversationId_CountsType_CreatedTime:{name:o.Indexes.Messages_ConversationId_CountsType_CreatedTime,keyPath:["conversationId","_countsType","createdTime"]},Messages_ConversationId_IsMyMessage_CreatedTime:{name:o.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime,keyPath:["conversationId","_isMyMessage","createdTime"]},Conversations_IsHighlight_ForceToRecents_Timestamp:{name:o.Indexes.Conversations_IsHighlight_ForceToRecents_Timestamp,keyPath:["_isHighlight","_forceToRecents","conv._timestamp"]},Conversations_IsHighlight_HasUnread:{name:o.Indexes.Conversations_IsHighlight_HasUnread,keyPath:["_isHighlight","counts.hasUnread"]},Conversations_NeedsSync:{name:o.Indexes.Conversations_NeedsSync,keyPath:"_needsSync"},Conversations_SearchTerms:{name:o.Indexes.Conversations_SearchTerms,keyPath:"conv._searchTerms",fullText:!0},Agents_Important:{name:o.Indexes.Agents_Important,keyPath:"isImportant"},Agents_Whitelisted:{name:o.Indexes.Agents_Whitelisted,keyPath:"isWhitelisted"},Telemetry_Priority_Timestamp:{name:o.Indexes.Telemetry_Priority_Timestamp,keyPath:["priority","timestamp"]},Alerts_ConvId:{name:o.Indexes.Alerts_ConvId,keyPath:"message.conversationId"},Alerts_Read_Timestamp:{name:o.Indexes.Alerts_Read_Timestamp,keyPath:["isRead","alertTime"]}},t.DbSchema={Profiles:{name:o.Stores.Profiles,primaryKeyPath:"mri",indexes:[t.Indexes.Profiles_PhoneNumber]},Messages:{name:o.Stores.Messages,primaryKeyPath:["conversationId","cuid"],indexes:[t.Indexes.Messages_ConversationId_CreatedTime,t.Indexes.Messages_ConversationId_CountsType_CreatedTime,t.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime]},ProfileMinis:{name:o.Stores.ProfileMinis,primaryKeyPath:"mri",indexes:[]},Connectors:{name:o.Stores.Connectors,primaryKeyPath:"mri",indexes:[]},ConsumedConciergeBotMessages:{name:o.Stores.ConsumedConciergeBotMessages,primaryKeyPath:["conversationId","messageCuid"],indexes:[]},ContentChannel:{name:o.Stores.ContentChannel,primaryKeyPath:"id",indexes:[]},ContentChannelMessage:{name:o.Stores.ContentChannelMessage,primaryKeyPath:["channelId","horizonId"],indexes:[]},ContentChannelNotification:{name:o.Stores.ContentChannelNotification,primaryKeyPath:"id",indexes:[]},EngagementMessagesQueueStore:{name:o.Stores.EngagementMessagesQueueStore,primaryKeyPath:"id",indexes:[]},EngagementPullCampaigns:{name:o.Stores.EngagementPullCampaigns,primaryKeyPath:"campaignId",indexes:[]},FeaturedAgents:{name:o.Stores.FeaturedAgents,primaryKeyPath:"agentId",indexes:[]},PopCards:{name:o.Stores.PopCards,primaryKeyPath:"guid",indexes:[]},Conversations:{name:o.Stores.Conversations,primaryKeyPath:"conv.id",indexes:[t.Indexes.Conversations_IsHighlight_ForceToRecents_Timestamp,t.Indexes.Conversations_IsHighlight_HasUnread,t.Indexes.Conversations_NeedsSync,t.Indexes.Conversations_SearchTerms]},InternalData:{name:o.Stores.InternalData,primaryKeyPath:"id",indexes:[]},PersistentActions:{name:o.Stores.PersistentActions,primaryKeyPath:"id",indexes:[]},LocalNotifications:{name:o.Stores.LocalNotifications,primaryKeyPath:"id",indexes:[]},FileCacheMetadata:{name:o.Stores.FileCacheMetadata,primaryKeyPath:["cacheName","id"],indexes:[]},Drafts:{name:o.Stores.Drafts,primaryKeyPath:"conversationId",indexes:[]},MediaDrafts:{name:o.Stores.MediaDrafts,primaryKeyPath:"conversationId",indexes:[]},Agents:{name:o.Stores.Agents,primaryKeyPath:"agentId",indexes:[t.Indexes.Agents_Important,t.Indexes.Agents_Whitelisted]},CallLogs:{name:o.Stores.CallLogs,primaryKeyPath:"callId",indexes:[]},FileTracker:{name:o.Stores.FileTracker,primaryKeyPath:"id",indexes:[]},ImagePrefetchInfo:{name:o.Stores.ImagePrefetchInfo,primaryKeyPath:"url",indexes:[]},IntegrationConsents:{name:o.Stores.IntegrationConsents,primaryKeyPath:["integrationId","consentType"],indexes:[]},LocalAddressBookContacts:{name:o.Stores.LocalAddressBookContacts,primaryKeyPath:"id",indexes:[]},Telemetry:{name:o.Stores.Telemetry,primaryKeyPath:"id",indexes:[t.Indexes.Telemetry_Priority_Timestamp]},Alerts:{name:o.Stores.Alerts,primaryKeyPath:"guid",indexes:[t.Indexes.Alerts_ConvId,t.Indexes.Alerts_Read_Timestamp]}}},487063:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.breakAndNormalizeSearchPhrase=c,t.getFullTextIndexWordsForItem=function(e,t){return c((0,r.getValueForSingleKeypath)(t,e))},t.handleFullTextResults=function(e,t,i,n){return Promise.all(t).then((t=>{const s=(0,o.attempt)((()=>(0,o.map)(t,(t=>(0,o.keyBy)(t,(t=>(0,r.getSerializedKeyForKeypath)(t,e.primaryKeyPath)))))));if((0,o.isError)(s))return Promise.reject(s);if(i===a.FullTextTermResolution.Or){const e=(0,o.values)((0,o.assign)({},...s));return n?(0,o.take)(e,n):e}if(i===a.FullTextTermResolution.And){const[e,...t]=s,i=(0,o.pickBy)(e,((e,i)=>(0,o.every)(t,(e=>i in e)))),r=(0,o.values)(i);return n?(0,o.take)(r,n):r}return Promise.reject("Undefined full text term resolution type")}))};const o=i(496486),n=i(217003),r=i(671891),a=i(36607),s=/\S+/g,l=n.Ranges.LETTERS_DIGITS_AND_DIACRITICS.invert();function c(e){const t=(0,o.words)((0,o.deburr)(e).toLowerCase(),s),i=(0,o.map)((0,o.mapKeys)(t),((e,t)=>(0,n.trim)(t,l)));return(0,o.filter)(i,(e=>!!(0,o.trim)(e)))}},381451:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDbAdapter=void 0;const o=i(589478),n=i(85385),r=i(815146),a=i(726657),s=i(36607),l=i(952869),c=i(487063);t.IndexedDbAdapter=class{constructor(e,t,i){if(this._dbErrorHandler=e,this._verbose=t,this._handleVersionChange=e=>{(0,n.log)(r.LogTraceArea.GenericUnsafe,"IndexedDB version changed",e.oldVersion,e.newVersion),null===e.newVersion&&this.close()},i)this._dbFactory=i;else{const e=(0,a.getWindow)();this._dbFactory=e._indexedDB||e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,(0,a.checkSupport)(this._dbFactory)}}initialize(e,t){if(this._db)throw new Error("DAL IndexedDB is already open");const i=Date.now(),s=this._dbFactory.open(e,o.SchemaVersion);return s.onupgradeneeded=e=>{t&&t(e,s.result)},(0,a.requestToPromise)(s).then((e=>{this._db=e,this._db.onversionchange=this._handleVersionChange,(0,n.log)(r.LogTraceArea.GenericUnsafe,`DAL open IndexedDB successfully (${Date.now()-i}ms)`)})).catch((e=>((0,n.error)(r.LogTraceArea.GenericUnsafe,"DAL open IndexedDB failed",e),Promise.reject("DAL cannot open IndexedDB "+e))))}close(){this._db&&(this._db.close(),this._db=void 0)}createStoreAndIndexes(e,t){var i;const o=e.createObjectStore(t.name,{keyPath:t.primaryKeyPath});null===(i=t.indexes)||void 0===i||i.forEach((e=>{e.fullText?null==o||o.createIndex(e.name,(0,l.getIndexIdentifier)(e),{unique:!1,multiEntry:!0}):null==o||o.createIndex(e.name,e.keyPath,{unique:e.unique})}))}openTransaction(e,t){var i;if(!this._db)throw new Error("DAL cannot open transaction, database is closed");return null===(i=this._db)||void 0===i?void 0:i.transaction(e,t)}openIndex(e,t){const i=e.index(t.name);if(!i)throw new Error(`DAL cannot find index: ${t.name}`);return i}get(e,t,i){const o=Date.now(),s=this.openTransaction([e.name],"readonly").objectStore(e.name),c=i&&this.openIndex(s,i)||s;return(0,a.requestToPromise)(c.get(t)).then((t=>(0,l.removeFullTextMetadataAndReturn)(e,t))).catch(this._dbErrorHandler).finally((()=>{this._verbose&&(0,n.log)(r.LogTraceArea.GenericUnsafe,`DAL get ${e.name} (${Date.now()-o}ms), 1 key`)}))}getMany(e,t,i){const o=Date.now(),c=this.openTransaction([e.name],"readonly").objectStore(e.name),d=(null==i?void 0:i.index)&&this.openIndex(c,null==i?void 0:i.index)||c;if(!(null==i?void 0:i.offset)&&!(null==i?void 0:i.reverseOrSortOrder))return(0,a.requestToPromise)(d.getAll(t,null==i?void 0:i.limit)).then((t=>t.map((t=>(0,l.removeFullTextMetadataAndReturn)(e,t))))).catch(this._dbErrorHandler).finally((()=>{this._verbose&&(0,n.log)(r.LogTraceArea.GenericUnsafe,`DAL getMany (all) ${e.name} (${Date.now()-o}ms), ${(0,a.itemsCount)(t)} key(s)`)}));const u=!0===(null==i?void 0:i.reverseOrSortOrder)||(null==i?void 0:i.reverseOrSortOrder)===s.QuerySortOrder.Reverse,p=d.openCursor(t,u?"prev":"next");return(0,l.getFromCursorRequest)(p,i.limit,i.offset).then((t=>t.map((t=>(0,l.removeFullTextMetadataAndReturn)(e,t))))).catch(this._dbErrorHandler).finally((()=>{this._verbose&&(0,n.log)(r.LogTraceArea.GenericUnsafe,`DAL getMany (cursor) ${e.name} (${Date.now()-o}ms), ${(0,a.itemsCount)(t)} key(s)`)}))}put(e,t){const i=Date.now(),o=(0,a.arrayify)(t);if(0===o.length)return Promise.resolve(void 0);const s=this.openTransaction([e.name],"readwrite"),d=[],u=s.objectStore(e.name);return o.forEach((t=>{e.indexes.forEach((e=>{e.fullText&&(t[(0,l.getIndexIdentifier)(e)]=(0,c.getFullTextIndexWordsForItem)(e.keyPath,t))})),d.push((0,a.requestToPromise)(u.put(t)))})),Promise.all(d).then((()=>{})).catch(this._dbErrorHandler).finally((()=>{this._verbose&&(0,n.log)(r.LogTraceArea.GenericUnsafe,`DAL put ${e.name} (${Date.now()-i}ms), ${(0,a.itemsCount)(o)} object(s)`)}))}remove(e,t){const i=Date.now(),o=(0,a.formListOfKeys)(t,e.primaryKeyPath),s=this.openTransaction([e.name],"readwrite").objectStore(e.name);return Promise.all(o.map((e=>(0,a.requestToPromise)(s.delete(e))))).then((()=>{})).catch(this._dbErrorHandler).finally((()=>{this._verbose&&(0,n.log)(r.LogTraceArea.GenericUnsafe,`DAL remove ${e.name} (${Date.now()-i}ms), ${(0,a.itemsCount)(t)} key(s)`)}))}count(e,t,i){const o=Date.now(),s=this.openTransaction([e.name],"readonly").objectStore(e.name),l=i&&this.openIndex(s,i)||s;return(0,a.requestToPromise)(l.count(t)).catch(this._dbErrorHandler).finally((()=>{this._verbose&&(0,n.log)(r.LogTraceArea.GenericUnsafe,`DAL count ${e.name} (${Date.now()-o}ms), ${(0,a.itemsCount)(t)} key(s)`)}))}fullTextSearch(e,t,i,o=s.FullTextTermResolution.And,l){const d=Date.now(),u=(0,c.breakAndNormalizeSearchPhrase)(i);if(0===u.length)return Promise.resolve([]);const p=u.map((i=>{const o=i.substr(0,i.length-1)+String.fromCharCode(i.charCodeAt(i.length-1)+1),n=IDBKeyRange.bound(i,o,!1,!0);return this.getMany(e,n,{limit:l,index:t})}));return(0,c.handleFullTextResults)(e,p,o,l).catch(this._dbErrorHandler).finally((()=>{this._verbose&&(0,n.log)(r.LogTraceArea.GenericUnsafe,`DAL fullTextSearch ${e.name} (${Date.now()-d}ms), ${(0,a.itemsCount)(u)} term(s)`)}))}clear(e){const t=Date.now(),i=this.openTransaction([e.name],"readwrite").objectStore(e.name);return(0,a.requestToPromise)(i.clear()).catch(this._dbErrorHandler).finally((()=>{this._verbose&&(0,n.log)(r.LogTraceArea.GenericUnsafe,`DAL clear ${e.name} (${Date.now()-t}ms)`)}))}}},952869:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.iterateOverCursorRequest=c,t.getFromCursorRequest=function(e,t,i){const o=[];return c(e,(e=>{o.push(e.value)}),t,i).then((()=>o))},t.onUpgradeNeeded=function(e,t){const i=(e.currentTarget||e.target).transaction;if(!i)throw new Error("onupgradeneeded: target transaction is null!");if(e.oldVersion<n.SchemaVersion){(0,s.log)(l.LogTraceArea.GenericUnsafe,"onUpgradeNeeded() IndexedDB Old version detected ("+e.oldVersion+"), clearing all data");for(let e=0;e<t.objectStoreNames.length;e++){const i=t.objectStoreNames.item(e);i&&t.deleteObjectStore(i)}}else for(let e=0;e<t.objectStoreNames.length;e++){const i=t.objectStoreNames.item(e);i&&!r.DbSchema[i]&&((0,s.log)(l.LogTraceArea.GenericUnsafe,"onUpgradeNeeded() IndexedDB Delete dead store ("+i+")"),t.deleteObjectStore(i))}Object.keys(r.DbSchema).forEach((e=>{var n;let s;const l=r.DbSchema[e];if((0,o.includes)(t.objectStoreNames,l.name))s=i.objectStore(l.name),(0,o.each)(s.indexNames,(e=>{const t=s.index(e);let i=!1;const n=(0,o.find)(l.indexes,(t=>t.name===e));(!n||!(0,o.isObject)(n)||typeof t.keyPath!=typeof n.keyPath||"string"==typeof t.keyPath&&t.keyPath!==n.keyPath||Array.isArray(t.keyPath)&&(t.keyPath.length!==n.keyPath.length||t.keyPath.some(((e,t)=>e!==n.keyPath[t]))))&&(i=!0),i&&s.deleteIndex(e)}));else{let e=l.primaryKeyPath;(0,a.isCompoundKeyPath)(e)&&(e="nsp_pk"),s=t.createObjectStore(l.name,{keyPath:e})}null===(n=l.indexes)||void 0===n||n.forEach((e=>{if(!(0,o.includes)(s.indexNames,e.name)){const t=e.keyPath;s.createIndex(e.name,t,{unique:e.unique})}}))}))},t.removeFullTextMetadataAndReturn=function(e,t){t&&e.indexes.forEach((e=>{e.fullText&&delete t[d(e)]}));return t},t.getIndexIdentifier=d;const o=i(496486),n=i(589478),r=i(315703),a=i(726657),s=i(85385),l=i(815146);function c(e,t,i,o){return new Promise(((n,r)=>{let a=0;e.onsuccess=e=>{const r=e.target.result;if(r)if(o)r.advance(o),o=0;else{if(t(r),a++,i&&a===i)return void n();r.continue()}else n()},e.onerror=e=>{r(e)}}))}function d(e){return a.IndexPrefix+e.name}},671891:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SQLITE_MAX_SQL_LENGTH_IN_BYTES=t.SQLITE_MAX_NUMBER_OF_VARIABLES=void 0,t.getTableInfoFromQuery=function(e){var t,i,o;const n=[],r=(null===(t=null==e?void 0:e.rows)||void 0===t?void 0:t.length)||0;for(let t=0;t<r;t++)try{n.push(null===(i=null==e?void 0:e.rows)||void 0===i?void 0:i.item(t))}catch(i){new Error("Error parsing database entry in getTableInfoFromQuery: "+(null===(o=null==e?void 0:e.rows)||void 0===o?void 0:o.item(t)))}return n},t.getCountFromQuery=function(e){var t;try{return(0,n.toNumber)(null===(t=null==e?void 0:e.rows)||void 0===t?void 0:t.item(0).cnt)}catch(e){new Error("Error counting database records in getCountFromQuery: "+(null==e?void 0:e.message))}return 0},t.prepareJsonWhereClause=function(e,t,i){let o="";if(t===a.QueryOperator.Between){if(!(0,n.isArray)(i)||2!==i.length)throw Error("The keyOrKeys should be an array of two items for the BETWEEN operator");o=` json_extract(nsp_data, '$.${e}') ${t} ? AND ?`}else o=t===a.QueryOperator.IsNull||t===a.QueryOperator.IsNotNull?` json_extract(nsp_data, '$.${e}') ${t}`:t===a.QueryOperator.In?` json_extract(nsp_data, '$.${e}') ${t} (${m((0,n.isArray)(i)?i.length:1)})`:` json_extract(nsp_data, '$.${e}') ${t} ?`;return o},t.prepareJsonOrderByClauseContent=function(e){return`json_extract(nsp_data, '$.${e}')`},t.getJsonResultsFromQuery=p,t.getJsonResultFromQuery=function(e){var t,i;if(null===(t=null==e?void 0:e.rows)||void 0===t?void 0:t.length)return s.default.parseJsonWithDefault(null===(i=null==e?void 0:e.rows)||void 0===i?void 0:i.item(0).nsp_data,{});return},t.handleJsonQuery=function(e,t,i,o,n){if((null==n?void 0:n.reverseOrSortOrder)!==a.QuerySortOrder.None){const e=!0===(null==n?void 0:n.reverseOrSortOrder)||(null==n?void 0:n.reverseOrSortOrder)===a.QuerySortOrder.Reverse?" DESC":" ASC";t+=" ORDER BY ",i.forEach(((i,o)=>{o&&(t+=", "),t+=i+e}))}(null==n?void 0:n.limit)&&(t+=" LIMIT "+(null==n?void 0:n.limit.toString()));(null==n?void 0:n.offset)&&(t+=" OFFSET "+(null==n?void 0:n.offset.toString()));return e.executeAsync(t,o).then((e=>p(e)))},t.getResultsFromQuery=g,t.getResultFromQuery=h,t.generateParamPlaceholder=m,t.formListOfSerializedKeys=function(e,t){return(0,n.map)((0,r.formListOfKeys)(e,t),(e=>S(e,t)))},t.serializeKeyToString=S,t.serializeValueToOrderableString=_,t.serializeNumberToOrderableString=f,t.getSerializedKeyForKeypath=y,t.getValueForSingleKeypath=C,t.getKeyForKeypath=v,t.serializeDatas=function(e,t){return(0,n.attempt)((()=>{const i=[];return(0,n.map)(t,(t=>{const o=JSON.stringify(t);return i.push(y(t,e.primaryKeyPath),o),e.indexes.forEach((e=>{e.multiEntry||e.fullText||i.push(y(t,e.keyPath))})),o})),i}))},t.handleQuery=function(e,t,i,o,n){if((null==n?void 0:n.reverseOrSortOrder)!==a.QuerySortOrder.None){t+=" ORDER BY "+i+(!0===(null==n?void 0:n.reverseOrSortOrder)||(null==n?void 0:n.reverseOrSortOrder)===a.QuerySortOrder.Reverse?" DESC":" ASC")}(null==n?void 0:n.limit)&&(t+=" LIMIT "+(null==n?void 0:n.limit.toString()));(null==n?void 0:n.offset)&&(t+=" OFFSET "+(null==n?void 0:n.offset.toString()));return e.executeAsync(t,o).then((e=>g(e)))},t.prepareJsonExtractStatement=function(e){return`(json_extract(nsp_data, '$.${e}')`},t.getIndexIdentifier=b,t.prepareFullTextStatements=function(e,i,o,r){const a={},s={};for(const e of o){const t=(0,n.attempt)((()=>y(e,i.primaryKeyPath)));if((0,n.isError)(t)){r.push(Promise.reject(t));continue}let o=-1;for(const n of i.indexes){let i;if(o++,n.fullText){if(i=[(0,l.getFullTextIndexWordsForItem)(n.keyPath,e).join(" ")],i.length>0){s[o]||(s[o]=[]);const e=s[o];for(const o of i)e.push(o),e.push(t)}a[o]||(a[o]=[]),a[o].push(t)}}}const c=[];return(0,n.each)(a,((o,n)=>{const r=i.indexes[Number(n)];for(let n=0;n<o.length;n+=t.SQLITE_MAX_NUMBER_OF_VARIABLES){const a=Math.min(t.SQLITE_MAX_NUMBER_OF_VARIABLES,o.length-n),s=`DELETE FROM ${b(i,r)} WHERE nsp_refpk IN (${m(a)})`,l=e.executeAsync(s,o.splice(0,a)).then(h);c.push(l)}})),r.push(Promise.all(c).then((()=>{const o=[];return(0,n.each)(s,((r,a)=>{const s=i.indexes[Number(a)],l=Math.floor(t.SQLITE_MAX_NUMBER_OF_VARIABLES/2);for(let t=0;t<r.length/2;t+=l){const a=Math.min(l,r.length/2-t),c=(0,n.fill)(new Array(a),m(2)),d=`INSERT INTO ${b(i,s)} (nsp_key, nsp_refpk) VALUES (${c.join("),(")})`,u=e.executeAsync(d,r.splice(0,2*a)).then(h);o.push(u)}})),Promise.all(o)}))),r};const o=i(197582),n=i(496486),r=i(726657),a=i(36607),s=o.__importDefault(i(655192)),l=i(487063),c="%&",d="0000000000000000";function u(e,t){let i=String(e);const o=t-i.length;return o>0&&o<d.length&&(i=d.substr(0,o)+i),i}function p(e){var t,i,o;const n=[],r=(null===(t=null==e?void 0:e.rows)||void 0===t?void 0:t.length)||0;for(let t=0;t<r;t++)try{n.push(s.default.parseJsonWithDefault(null===(i=null==e?void 0:e.rows)||void 0===i?void 0:i.item(t).nsp_data,{}))}catch(i){new Error("Error parsing database entry in getResultsFromQuery: "+(null===(o=null==e?void 0:e.rows)||void 0===o?void 0:o.item(t).nsp_data))}return n}function g(e){var t,i,o;const n=[],r=(null===(t=null==e?void 0:e.rows)||void 0===t?void 0:t.length)||0;for(let t=0;t<r;t++)try{n.push(s.default.parseJsonWithDefault(null===(i=null==e?void 0:e.rows)||void 0===i?void 0:i.item(t).nsp_data,{}))}catch(i){new Error("Error parsing database entry in getResultsFromQuery: "+(null===(o=null==e?void 0:e.rows)||void 0===o?void 0:o.item(t).nsp_data))}return n}function h(e){var t,i;if(null===(t=null==e?void 0:e.rows)||void 0===t?void 0:t.length)return s.default.parseJsonWithDefault(null===(i=null==e?void 0:e.rows)||void 0===i?void 0:i.item(0).nsp_data,{})}function m(e){if(0===e)throw new Error("Must provide at least one parameter to SQL statement");return(0,n.repeat)("?,",e).slice(0,-1)}function S(e,t){if((0,r.isCompoundKeyPath)(t)){if((0,n.isArray)(e))return(0,n.map)(e,(e=>_(e))).join(c);throw new Error("serializeKeyToString called with a compound keypath ("+JSON.stringify(t)+") but a non-compound key ("+JSON.stringify(e)+")")}if((0,n.isArray)(e))throw new Error("serializeKeyToString called with a non-compound keypath ("+JSON.stringify(t)+") but a compound key ("+JSON.stringify(e)+")");return _(e)}function _(e){if("number"==typeof e)return"A"+f(e);if((0,n.isDate)(e))return"B"+f(e.getTime());if("string"==typeof e)return"C"+e;const t=(0,n.isObject)(e)?Object.getPrototypeOf(e).constructor:typeof e;throw new Error("Type '"+t+"' unsupported at this time.  Only numbers, Dates, and strings are currently supported.")}function f(e){if(0===e||isNaN(e)||!isFinite(e))return String(e);var t=!0;e<0&&(t=!1,e=-e);var i=Math.floor(Math.log(e)/Math.LN10);return e/=Math.pow(10,i),t?u(1024+i,4)+String(e):"-"+u(1024-i,4)+String(10-e)}function y(e,t){const i=v(e,t);if(void 0!==i)return S(i,t)}function C(e,t){return(0,n.get)(e,t,void 0)}function v(e,t){const i=(0,r.arrayify)(t),o=(0,n.map)(i,(t=>C(e,t)));if(!(0,n.some)(o,(e=>(0,n.isNull)(e)||(0,n.isUndefined)(e))))return(0,n.isArray)(t)?o:o[0]}function b(e,t){return e.name+"_"+t.name}t.SQLITE_MAX_NUMBER_OF_VARIABLES=999,t.SQLITE_MAX_SQL_LENGTH_IN_BYTES=1e6},726657:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IndexPrefix=void 0,t.getWindow=function(){if("object"==typeof window&&window.document)return window;if(self&&void 0===self.document)return self;throw(0,n.error)(r.LogTraceArea.GenericUnsafe,"getWindow() The window is undefined."),new Error("The window is undefined.")},t.getBrowserInfo=a,t.checkSupport=function(e){if(!e)throw(0,n.error)(r.LogTraceArea.GenericUnsafe,"constructor() No support for IndexedDB in this browser"),new Error("No support for IndexedDB in this browser");if("undefined"!=typeof navigator){const e=a();if("Safari"===e.name&&Number(e.version)<10)throw(0,n.error)(r.LogTraceArea.GenericUnsafe,"checkSupport() Safari versions before 10.0 don't properly implement IndexedDB"),new Error("Safari versions before 10.0 don't properly implement IndexedDB");if(-1!==navigator.userAgent.indexOf("Mobile Crosswalk"))throw(0,n.error)(r.LogTraceArea.GenericUnsafe,"checkSupport() Android Crosswalk's IndexedDB implementation is very slow"),new Error("Android Crosswalk's IndexedDB implementation is very slow")}},t.requestToPromise=function(e){return new Promise(((t,i)=>{e.onsuccess=()=>{t(e.result)},e.onerror=e=>{i(e)}}))},t.isCompoundKeyPath=s,t.arrayify=l,t.formListOfKeys=function(e,t){if(s(t)){if(!(0,o.isArray)(e))throw new Error("formListOfKeys called with a compound keypath ("+JSON.stringify(t)+") but a non-compound keyOrKeys ("+JSON.stringify(e)+")");return(0,o.isArray)(e[0])?e:[e]}return l(e)},t.itemsCount=function(e){return Array.isArray(e)?e.length:1};const o=i(496486),n=i(85385),r=i(815146);function a(){const e=navigator.userAgent;let t,i=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],{name:"IE",version:t[1]||""}):"Chrome"===i[1]&&(t=e.match(/\b(OPR|Edge)\/(\d+)/i),null!==t)?{name:"OPR"===t[1]?"Opera":t[1],version:t[2]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(t=e.match(/version\/(\d+)/i))&&i.splice(1,1,t[1]),{name:i[0],version:i[1]})}function s(e){return(0,o.isArray)(e)&&e.length>1}function l(e){return(0,o.isArray)(e)?e:[e]}t.IndexPrefix="nsp_i_"},991030:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dbErrorHandler=void 0;const o=i(197582),n=i(174958),r=i(120695),a=i(815146),s=i(85385),l=o.__importStar(i(892135)),c=o.__importDefault(i(655192));t.dbErrorHandler=e=>{var t,i,o,d,u,p,g;let h,m=-1;return(null===(t=e.target)||void 0===t?void 0:t.error)?(h=`IDBRequest: ${e.target.error.name}: ${e.target.error.message}`,m=-2):(null===(o=null===(i=e.target)||void 0===i?void 0:i.transaction)||void 0===o?void 0:o.error)?(h=`IDBTransaction: ${e.target.transaction.error.name}: ${e.target.transaction.error.message}`,m=-3):(null===(d=e.target)||void 0===d?void 0:d.source)?(h=`IDBStore: ${e.target.source.name}, ${e.target.source.keyPath}, indexes: ${Array.from(e.target.source.indexNames).join(", ")}`,m=-4):(h=c.default.errorAsString(e),m=-5),h=n.pii.Omit(`DAL Web DatabaseError: ${h}`),(0,s.error)(a.LogTraceArea.SQLiteClient,h),(0,s.track)(new r.DatabaseErrorEvent({webSqlCode:m,sqliteCode:-1,sanitizedErrorMessage:h,isNewDAL:!0})),"TransactionInactiveError"!==(null==e?void 0:e.name)&&"TimeoutError"!==(null==e?void 0:e.name)&&"TimeoutError"!==(null===(g=null===(p=null===(u=null==e?void 0:e.target)||void 0===u?void 0:u.transaction)||void 0===p?void 0:p.error)||void 0===g?void 0:g.name)||l.reloadApp("client-database-db-error"),Promise.reject(e)}},123117:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationsRepository=t.AlertsRepository=t.CallLogsRepository=t.InternalDataRepository=t.IntegrationConsentsRepository=t.PersistentActionsRepository=t.TelemetryRepository=t.LocalNotificationsRepository=t.ImagePrefetchInfoRepository=t.FileCacheMetadataRepository=t.MediaDraftsRepository=t.FileTrackerRepository=t.AgentsRepository=t.DraftsRepository=t.LocalAddressBookContactsRepository=t.MessagesRepository=t.ContentChannelNotificationRepository=t.ContentChannelMessageRepository=t.ContentChannelRepository=t.MiniProfileRepository=t.PopCardsRepository=t.FeaturedAgentsRepository=t.EngagementPullCampaignsRepository=t.EngagementMessagesQueueRepository=t.ContactsRepository=t.ConsumedConciergeBotMessagesRepository=t.ConnectorIntegrationsRepository=void 0,t.initializeStructuredStorage=function(e){return o.__awaiter(this,arguments,void 0,(function*(e,t={verbose:!1}){if(a)throw new Error("Structured storage is already initialized");a=yield(0,n.resolveStructuredStorage)(e,t)}))},t.initializeKeyValueStorage=function(){return o.__awaiter(this,void 0,void 0,(function*(){if(s)throw new Error("KeyValue storage is already initialized");s=yield(0,n.resolveKeyValueStorage)()}))},t.closeStructuredStorage=function(){a&&a.close()},t.isStructuredStorageInitialized=function(){return!!a};const o=i(197582),n=i(518470),r=i(971622);let a,s;function l(){if(!a)throw new Error("DAL not initialized");return a}t.ConnectorIntegrationsRepository=new r.ConnectorIntegrationsRepositoryProxy(l),t.ConsumedConciergeBotMessagesRepository=new r.ConsumedConciergeBotMessagesRepositoryProxy(l),t.ContactsRepository=new r.ContactsRepositoryProxy(l),t.EngagementMessagesQueueRepository=new r.EngagementMessagesQueueRepositoryProxy(l),t.EngagementPullCampaignsRepository=new r.EngagementPullCampaignsRepositoryProxy(l),t.FeaturedAgentsRepository=new r.FeaturedAgentsRepositoryProxy(l),t.PopCardsRepository=new r.PopCardsRepositoryProxy(l),t.MiniProfileRepository=new r.MiniProfileRepositoryProxy(l),t.ContentChannelRepository=new r.ContentChannelRepositoryProxy(l),t.ContentChannelMessageRepository=new r.ContentChannelMessageRepositoryProxy(l),t.ContentChannelNotificationRepository=new r.ContentChannelNotificationRepositoryProxy(l),t.MessagesRepository=new r.MessagesRepositoryProxy(l),t.LocalAddressBookContactsRepository=new r.LocalAddressBookContactsRepositoryProxy(l),t.DraftsRepository=new r.DraftsRepositoryProxy(l),t.AgentsRepository=new r.AgentsRepositoryProxy(l),t.FileTrackerRepository=new r.FileTrackerRepositoryProxy(l),t.MediaDraftsRepository=new r.MediaDraftsRepositoryProxy(l),t.FileCacheMetadataRepository=new r.FileCacheMetadataRepositoryProxy(l),t.ImagePrefetchInfoRepository=new r.ImagePrefetchInfoRepositoryProxy(l),t.LocalNotificationsRepository=new r.LocalNotificationsRepositoryProxy(l),t.TelemetryRepository=new r.TelemetryRepositoryProxy(l),t.PersistentActionsRepository=new r.PersistentActionsRepositoryProxy(l),t.IntegrationConsentsRepository=new r.IntegrationConsentsRepositoryProxy(l),t.InternalDataRepository=new r.InternalDataRepositoryProxy(l),t.CallLogsRepository=new r.CallLogsRepositoryProxy(l),t.AlertsRepository=new r.AlertsRepositoryProxy(l),t.ConversationsRepository=new r.ConversationsRepositoryProxy(l)},706612:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AgentsRepositoryProxy=t.AgentsRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(655121)),a=o.__importDefault(i(434343)),s=i(36607),l=i(315703);class c{constructor(e,t){this._storageGetter=e,this._name=t}getAgentDescription(e){return this._storageGetter().findById(this._name,e).then((e=>r.default.fromDatabaseObject(e)))}getAgentDescriptions(e){return this._storageGetter().findMultiple(this._name,e).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}getImportantAgents(){return this._storageGetter().findMultiple(this._name,1,{index:l.Indexes.Agents_Important,reverseOrSortOrder:s.QuerySortOrder.None}).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}getWhitelistedAgents(){return this._storageGetter().findMultiple(this._name,1,{index:l.Indexes.Agents_Whitelisted,reverseOrSortOrder:s.QuerySortOrder.None}).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}putAgentDescriptions(e){return this._storageGetter().createOrUpdate(this._name,e)}}t.AgentsRepository=c;t.AgentsRepositoryProxy=class{constructor(e){this._name="Agents",this._repo=new c(e,this._name)}getAgentDescription(e){return this._isReadFromNewDalAllowed()?this._repo.getAgentDescription(e):a.default.getAgentDescription(e).toEs6Promise()}getAgentDescriptions(e){return this._isReadFromNewDalAllowed()?this._repo.getAgentDescriptions(e):a.default.getAgentDescriptions(e).toEs6Promise()}getImportantAgents(){return this._isReadFromNewDalAllowed()?this._repo.getImportantAgents():a.default.getImportantAgents().toEs6Promise()}getWhitelistedAgents(){return this._isReadFromNewDalAllowed()?this._repo.getWhitelistedAgents():a.default.getWhitelistedAgents().toEs6Promise()}putAgentDescriptions(e){return this._isWriteToNewDalAllowed()?this._repo.putAgentDescriptions(e):a.default.putAgentDescriptions(e).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALAgentsRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALAgentsRepo.write}}},414575:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertsRepositoryProxy=t.AlertsRepository=void 0;const o=i(197582),n=i(496486),r=i(677982),a=o.__importStar(i(434343)),s=i(36607),l=i(315703),c=o.__importDefault(i(910520));class d{constructor(e,t){this._storageGetter=e,this._name=t}getMostRecentAlertTime(){const e=this._storageGetter().findRange(this._name,[0,0],[0,Number.MAX_VALUE],{index:l.Indexes.Alerts_Read_Timestamp,reverseOrSortOrder:s.QuerySortOrder.Reverse,limit:1}),t=this._storageGetter().findRange(this._name,[1,0],[1,Number.MAX_VALUE],{index:l.Indexes.Alerts_Read_Timestamp,reverseOrSortOrder:s.QuerySortOrder.Reverse,limit:1});return Promise.all([e,t]).then((([e,t])=>{const i=(0,n.maxBy)((0,n.compact)(e.concat(t)),(e=>e.alertTime));return i?i.alertTime:0}))}countUnreadAlertsSinceTime(e){return this._storageGetter().count(this._name,[0,e],[0,Number.MAX_VALUE],{index:l.Indexes.Alerts_Read_Timestamp,lowRangeExclusive:!0})}countAlerts(){return this._storageGetter().count(this._name)}getAlerts(){return this._storageGetter().findMultiple(this._name,void 0,{reverseOrSortOrder:s.QuerySortOrder.None}).then((e=>e.map((e=>c.default.fromDatabaseObject(e)))))}putAlerts(e){return this._storageGetter().createOrUpdate(this._name,e)}removeAlerts(e){const t=e.map((e=>e.guid));return this._storageGetter().remove(this._name,t)}getAlertsForConversation(e){return this._storageGetter().findMultiple(this._name,e,{index:l.Indexes.Alerts_ConvId,reverseOrSortOrder:s.QuerySortOrder.None}).then((e=>e.map((e=>c.default.fromDatabaseObject(e)))))}getAlertsByIsReadAndTimestampRange(e,t,i){return this._storageGetter().findRange(this._name,[e?1:0,t],[e?1:0,i],{index:l.Indexes.Alerts_Read_Timestamp,reverseOrSortOrder:s.QuerySortOrder.None}).then((e=>e.map((e=>c.default.fromDatabaseObject(e)))))}}t.AlertsRepository=d;t.AlertsRepositoryProxy=class{constructor(e){this._name="Alerts",this._repo=new d(e,this._name)}getMostRecentAlertTime(){return this._isReadFromNewDalAllowed()?this._repo.getMostRecentAlertTime():a.default.getMostRecentAlertTime().toEs6Promise()}countUnreadAlertsSinceTime(e){return this._isReadFromNewDalAllowed()?this._repo.countUnreadAlertsSinceTime(e):a.default.countUnreadAlertsSinceTime(e).toEs6Promise()}countAlerts(){return this._isReadFromNewDalAllowed()?this._repo.countAlerts():a.default.countAlerts().toEs6Promise()}getAlerts(){return this._isReadFromNewDalAllowed()?this._repo.getAlerts():a.default.getAlerts().toEs6Promise()}putAlerts(e){return this._isWriteToNewDalAllowed()?this._repo.putAlerts(e):a.default.putAlerts(e).toEs6Promise()}removeAlerts(e){return this._isWriteToNewDalAllowed()?this._repo.removeAlerts(e):a.default.removeAlerts(e).toEs6Promise()}getAlertsForConversation(e){return this._isReadFromNewDalAllowed()?this._repo.getAlertsForConversation(e):a.default.openTransaction([a.Stores.Alerts],!1).then((t=>t.getAlertsForConversation(e))).toEs6Promise()}getAlertsByIsReadAndTimestampRange(e,t,i){return this._isReadFromNewDalAllowed()?this._repo.getAlertsByIsReadAndTimestampRange(e,t,i):a.default.openTransaction([a.Stores.Alerts],!1).then((o=>o.getAlertsByIsReadAndTimestampRange(e,t,i))).toEs6Promise()}_isReadFromNewDalAllowed(){return r.AppConfigStore.getConfigSettingsNoSubscription().enableDALAlertsRepo.read}_isWriteToNewDalAllowed(){return r.AppConfigStore.getConfigSettingsNoSubscription().enableDALAlertsRepo.write}}},284489:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CallLogsRepositoryProxy=t.CallLogsRepository=void 0;const o=i(197582),n=i(496486),r=i(677982),a=o.__importStar(i(434343));class s{constructor(e,t){this._storageGetter=e,this._name=t}getCallLogs(e){return this._storageGetter().findMultiple(this._name,e).then((e=>(0,n.compact)(e)))}putCallLogs(e){return this._storageGetter().createOrUpdate(this._name,e)}}t.CallLogsRepository=s;t.CallLogsRepositoryProxy=class{constructor(e){this._name="CallLogs",this._repo=new s(e,this._name)}getCallLogs(e){return this._isReadFromNewDalAllowed()?this._repo.getCallLogs(e):a.default.getCallLogs(e).toEs6Promise()}putCallLogs(e){return this._isWriteToNewDalAllowed()?this._repo.putCallLogs(e):a.default.openTransaction([a.Stores.CallLogs],!0).then((t=>t.putCallLogs(e))).toEs6Promise()}_isReadFromNewDalAllowed(){return r.AppConfigStore.getConfigSettingsNoSubscription().enableDALCallLogsRepo.read}_isWriteToNewDalAllowed(){return r.AppConfigStore.getConfigSettingsNoSubscription().enableDALCallLogsRepo.write}}},829234:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectorIntegrationsRepositoryProxy=t.ConnectorIntegrationsRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343));class a{constructor(e,t){this._storageGetter=e,this._name=t}getConnectorMetadata(e){return this._storageGetter().findById(this._name,e)}getConnectorsMetadata(e){return this._storageGetter().findMultiple(this._name,e)}getAllConnectorMetadata(){return this._storageGetter().findMultiple(this._name)}putConnectorsMetadata(e){return this._storageGetter().createOrUpdate(this._name,e)}}t.ConnectorIntegrationsRepository=a;t.ConnectorIntegrationsRepositoryProxy=class{constructor(e){this._name="Connectors",this._repo=new a(e,this._name)}getConnectorMetadata(e){return this._isReadFromNewDalAllowed()?this._repo.getConnectorMetadata(e):r.default.getConnectorMetadata(e).toEs6Promise()}getConnectorsMetadata(e){return this._isReadFromNewDalAllowed()?this._repo.getConnectorsMetadata(e):r.default.getConnectorsMetadata(e).toEs6Promise()}getAllConnectorMetadata(){return this._isReadFromNewDalAllowed()?this._repo.getAllConnectorMetadata():r.default.getAllConnectorMetadata().toEs6Promise()}putConnectorsMetadata(e){return this._isWriteToNewDalAllowed()?this._repo.putConnectorsMetadata(e):r.default.putConnectorsMetadata(e).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALConnectorsRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALConnectorsRepo.write}}},537488:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConsumedConciergeBotMessagesRepositoryProxy=t.ConsumedConciergeBotMessagesRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343));class a{constructor(e,t){this._storageGetter=e,this._name=t}getAllConsumedBotMessages(){return this._storageGetter().findMultiple(this._name)}putConsumedBotMessages(e){return this._storageGetter().createOrUpdate(this._name,e)}}t.ConsumedConciergeBotMessagesRepository=a;t.ConsumedConciergeBotMessagesRepositoryProxy=class{constructor(e){this._name="ConsumedConciergeBotMessages",this._repo=new a(e,this._name)}getAllConsumedBotMessages(){return this._isReadFromNewDalAllowed()?this._repo.getAllConsumedBotMessages():r.default.getAllConsumedBotMessages().toEs6Promise()}putConsumedBotMessages(e){return this._isWriteToNewDalAllowed()?this._repo.putConsumedBotMessages(e):r.default.putConsumedBotMessages(e).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALConsumedBotMessagesRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALConsumedBotMessagesRepo.write}}},373809:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContactsRepositoryProxy=t.ContactsRepository=void 0;const o=i(197582),n=i(496486),r=o.__importDefault(i(483658)),a=o.__importDefault(i(150343)),s=o.__importDefault(i(434343)),l=i(315703),c=i(96575),d=o.__importDefault(i(535775));class u{constructor(e,t){this._storageGetter=e,this._name=t}getUserProfileByMri(e){return this._storageGetter().findById(this._name,e).then((e=>r.default.fromDatabaseObject(e)))}getUserProfilesByMris(e){return this._storageGetter().findMultiple(this._name,e).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}getUserProfilesByPhoneNumber(e){return this._storageGetter().findRange(this._name,e,e,{index:l.Indexes.Profiles_PhoneNumber}).then((e=>(0,n.compact)(e))).then((e=>(0,n.uniqWith)(e,((e,t)=>e.mri===t.mri)))).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}getAllUserProfiles(){return this._storageGetter().findMultiple(this._name).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}putUserProfiles(e){return this._storageGetter().createOrUpdate(this._name,e)}}t.ContactsRepository=u;t.ContactsRepositoryProxy=class{constructor(e){this._storageGetter=e,this._name="Profiles",this._getRecordsCountOnce=(0,n.once)((e=>this._getRecordsCount(e))),this._repo=new u(e,this._name)}getUserProfileByMri(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=this._isReadFromNewDalAllowed(),i=yield this._createTelemetryTracker(!t,c.ScenarioName.GetUserProfileByMri);return i.start(),t?this._repo.getUserProfileByMri(e).then((e=>(i.finish(),e))):s.default.getUserProfileByMri(e).toEs6Promise().then((e=>(i.finish(),e)))}))}getUserProfilesByMris(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=this._isReadFromNewDalAllowed(),i=yield this._createTelemetryTracker(!t,c.ScenarioName.GetUserProfilesByMris);return i.start(),t?this._repo.getUserProfilesByMris(e).then((e=>(i.finish(),e))):s.default.getUserProfilesByMris(e).toEs6Promise().then((e=>(i.finish(),e)))}))}getUserProfilesByPhoneNumber(e){return s.default.getUserProfilesByPhoneNumber(e).toEs6Promise()}getAllUserProfiles(){return this._isReadFromNewDalAllowed()?this._repo.getAllUserProfiles():s.default.getAllUserProfiles().toEs6Promise()}putUserProfiles(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=this._isWriteToNewDalAllowed(),i=yield this._createTelemetryTracker(!t,c.ScenarioName.PutUserProfiles);return i.start(),t?this._repo.putUserProfiles(e).then((()=>{i.finish()})):s.default.putUserProfiles(e).toEs6Promise().then((()=>{i.finish()}))}))}_createTelemetryTracker(e,t){return o.__awaiter(this,void 0,void 0,(function*(){const i=yield this._getRecordsCountOnce(e),o=e?"ClientDatabase":"ContactsRepository",n={count:yield i(),providerName:s.default.getProviderName()||""};return new d.default(t,o,n)}))}_getRecordsCount(e){return()=>e?s.default.getAll().toEs6Promise():this._storageGetter().count(this._name)}_isReadFromNewDalAllowed(){return a.default.getConfigSettingsNoSubscription().enableDALContactsRepo.read}_isWriteToNewDalAllowed(){return a.default.getConfigSettingsNoSubscription().enableDALContactsRepo.write}}},34042:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContentChannelMessageRepositoryProxy=t.ContentChannelMessageLegacyRepository=t.ContentChannelMessageRepository=void 0;const o=i(197582),n=i(677982),r=o.__importStar(i(434343)),a=i(815146),s=i(85385),l="ContentChannelMessageRepository";class c{constructor(e,t){this._storage=e,this._name=t}getMessages(e,t,i){return this._storage().findRange(this._name,[e,t],[e,i]).then((e=>e||[]),(o=>((0,s.error)(a.LogTraceArea.GenericUnsafe,`[${l}]: Error getting messages for channel ${e}, for horizons ${t}..${i}`,o),[])))}updateMessages(e){return this._storage().createOrUpdate(this._name,e).catch((t=>{(0,s.error)(a.LogTraceArea.GenericUnsafe,`[${l}]: Error updating messages`,e.map((e=>e.id)),t)}))}}t.ContentChannelMessageRepository=c;class d{getMessages(e,t,i){return o.__awaiter(this,void 0,void 0,(function*(){return(yield r.default.openTransaction([r.Stores.ContentChannelMessage],!1)).getContentChannelMessages(e,t,i)}))}updateMessages(e){return o.__awaiter(this,void 0,void 0,(function*(){return(yield r.default.openTransaction([r.Stores.ContentChannelMessage],!0)).putContentChannelMessages(e)}))}}t.ContentChannelMessageLegacyRepository=d;t.ContentChannelMessageRepositoryProxy=class{constructor(e){this._name="ContentChannelMessage",this._repository=new c(e,this._name),this._legacyRepository=new d}getMessages(e,t,i){return this._isReadEnabled()?this._repository.getMessages(e,t,i):this._legacyRepository.getMessages(e,t,i)}updateMessages(e){return this._isWriteEnabled()?this._repository.updateMessages(e):this._legacyRepository.updateMessages(e)}_isReadEnabled(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALContentChannelMessageRepo.read}_isWriteEnabled(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALContentChannelMessageRepo.write}}},780919:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContentChannelNotificationRepositoryProxy=t.ContentChannelNotificationLegacyRepository=t.ContentChannelNotificationRepository=void 0;const o=i(197582),n=o.__importDefault(i(150343)),r=o.__importStar(i(434343)),a=i(815146),s=i(85385);class l{constructor(e,t){this._storage=e,this._name=t}getAllNotifications(){return this._storage().findMultiple(this._name).then((e=>e||[]),(e=>((0,s.error)(a.LogTraceArea.GenericUnsafe,`[${l.name}]: Error getting all content channels notifications.`,e),[])))}updateNotifications(e){return this._storage().createOrUpdate(this._name,e).catch((t=>{(0,s.error)(a.LogTraceArea.GenericUnsafe,`[${l.name}]: Error updating content channels notifications.`,e.map((e=>e.id)),t)}))}removeAllNotifications(){return this._storage().clear(this._name).catch((e=>{(0,s.error)(a.LogTraceArea.GenericUnsafe,`[${l.name}]: Error removing all content channels notifications.`,e)}))}}t.ContentChannelNotificationRepository=l;class c{getAllNotifications(){return o.__awaiter(this,void 0,void 0,(function*(){return(yield r.default.openTransaction([r.Stores.ContentChannelNotification],!1)).getAllContentChannelNotifications()}))}updateNotifications(e){return o.__awaiter(this,void 0,void 0,(function*(){(yield r.default.openTransaction([r.Stores.ContentChannelNotification],!0)).putContentChannelNotifications(e)}))}removeAllNotifications(){return o.__awaiter(this,void 0,void 0,(function*(){(yield r.default.openTransaction([r.Stores.ContentChannelNotification],!0)).removeAllContentChannelNotifications()}))}}t.ContentChannelNotificationLegacyRepository=c;t.ContentChannelNotificationRepositoryProxy=class{constructor(e){this._name="ContentChannelNotification",this._repository=new l(e,this._name),this._legacyRepository=new c}getAllNotifications(){return this._getReadRepository().getAllNotifications()}updateNotifications(e){return this._getWriteRepository().updateNotifications(e)}removeAllNotifications(){return this._getWriteRepository().removeAllNotifications()}_getReadRepository(){return n.default.getConfigSettingsNoSubscription().enableDALContentChannelRepo.read?this._repository:this._legacyRepository}_getWriteRepository(){return n.default.getConfigSettingsNoSubscription().enableDALContentChannelRepo.write?this._repository:this._legacyRepository}}},953660:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContentChannelRepositoryProxy=t.ContentChannelLegacyRepository=t.ContentChannelRepository=void 0;const o=i(197582),n=i(677982),r=o.__importStar(i(434343)),a=i(815146),s=i(85385),l="ContentChannelRepository";class c{constructor(e,t){this._storage=e,this._name=t}getChannelById(e){return this._storage().findById(this._name,e).catch((t=>{(0,s.error)(a.LogTraceArea.GenericUnsafe,`[${l}]: Error getting channel by id ${e}`,t)}))}getAllChannels(){return this._storage().findMultiple(this._name).catch((e=>((0,s.error)(a.LogTraceArea.GenericUnsafe,`[${l}]: Error getting all channels`,e),[])))}updateChannels(e){return this._storage().createOrUpdate(this._name,e).then((()=>this._storage().findMultiple(this._name,e.map((e=>e.id))))).catch((t=>((0,s.error)(a.LogTraceArea.GenericUnsafe,`[${l}]: Error updating channels`,e.map((e=>e.id)),t),[])))}updateSyncedHorizon(e,t){return o.__awaiter(this,void 0,void 0,(function*(){try{const i=yield this._storage().findById(this._name,e);if(i){const e=Object.assign({},i);void 0!==t.firstSyncedHorizonId&&(e.firstSyncedHorizonId=t.firstSyncedHorizonId),void 0!==t.lastSyncedHorizonId&&(e.lastSyncedHorizonId=t.lastSyncedHorizonId),yield this._storage().createOrUpdate(this._name,e)}}catch(i){(0,s.error)(a.LogTraceArea.GenericUnsafe,`[${l}]: Error updating synced horizon for ${e}`,t,i)}}))}removeChannels(e){return this._storage().remove(this._name,e).catch((t=>{(0,s.error)(a.LogTraceArea.GenericUnsafe,`[${l}]: Error removing channels`,e,t)}))}}t.ContentChannelRepository=c;class d{getChannelById(e){return o.__awaiter(this,void 0,void 0,(function*(){return(yield r.default.openTransaction([r.Stores.ContentChannel],!1)).getContentChannelById(e)}))}getAllChannels(){return o.__awaiter(this,void 0,void 0,(function*(){return(yield r.default.openTransaction([r.Stores.ContentChannel],!1)).getAllContentChannels()}))}updateChannels(e){return o.__awaiter(this,void 0,void 0,(function*(){return(yield r.default.openTransaction([r.Stores.ContentChannel],!0)).putContentChannels(e)}))}updateSyncedHorizon(e,t){return o.__awaiter(this,void 0,void 0,(function*(){return(yield r.default.openTransaction([r.Stores.ContentChannel],!0)).putSyncedHorizons(e,t)}))}removeChannels(e){return o.__awaiter(this,void 0,void 0,(function*(){return(yield r.default.openTransaction([r.Stores.ContentChannel],!0)).removeContentChannels(e)}))}}t.ContentChannelLegacyRepository=d;t.ContentChannelRepositoryProxy=class{constructor(e){this._name="ContentChannel",this._repository=new c(e,this._name),this._legacyRepository=new d}getChannelById(e){return this._isReadEnabled()?this._repository.getChannelById(e):this._legacyRepository.getChannelById(e)}getAllChannels(){return this._isReadEnabled()?this._repository.getAllChannels():this._legacyRepository.getAllChannels()}updateChannels(e){return this._isWriteEnabled()?this._repository.updateChannels(e):this._legacyRepository.updateChannels(e)}updateSyncedHorizon(e,t){return this._isWriteEnabled()?this._repository.updateSyncedHorizon(e,t):this._legacyRepository.updateSyncedHorizon(e,t)}removeChannels(e){return this._isWriteEnabled()?this._repository.removeChannels(e):this._legacyRepository.removeChannels(e)}_isReadEnabled(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALContentChannelRepo.read}_isWriteEnabled(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALContentChannelRepo.write}}},216866:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationsRepositoryProxy=t.ConversationsRepository=void 0;const o=i(197582),n=i(496486),r=o.__importStar(i(214189)),a=i(96575),s=i(677982),l=o.__importStar(i(434343)),c=i(36607),d=i(315703),u=o.__importDefault(i(535775));class p{constructor(e,t){this._storageGetter=e,this._name=t}getConversationMeta(e){return this._storageGetter().findById(this._name,e).then((e=>r.default.fromDatabaseObject(e)))}getConversationMetas(e){return this._storageGetter().findMultiple(this._name,e).then((e=>{const t={};return e.forEach((e=>{const i=r.default.fromDatabaseObject(e);t[i.conv.id]=i})),t}))}getAllConversationMetas(e,t){return this._storageGetter().findMultiple(this._name,void 0,{reverseOrSortOrder:c.QuerySortOrder.Forward,limit:e,offset:t}).then((e=>(0,n.compact)(e).map((e=>r.default.fromDatabaseObject(e)))))}getCountOfUnreadConversations(e){return this._storageGetter().count(this._name,e?1:0,1,{index:d.Indexes.Conversations_IsHighlight_HasUnread})}getRecentNonHighlightConversationMetas(e,t){const i=Date.now()-t;return this._storageGetter().findRange(this._name,[0,0,i],[0,1,Number.MAX_VALUE],{index:d.Indexes.Conversations_IsHighlight_ForceToRecents_Timestamp,reverseOrSortOrder:c.QuerySortOrder.None}).then((t=>{const o=t.filter((e=>e.conv._timestamp>=i)).length;return o>=e?t:this._storageGetter().findRange(this._name,[0,0,0],[0,0,i],{index:d.Indexes.Conversations_IsHighlight_ForceToRecents_Timestamp,highRangeExclusive:!0,reverseOrSortOrder:c.QuerySortOrder.Reverse,limit:e-o}).then((e=>t.concat(e)))})).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}getAllNonHighlightConversationMetas(){return this._storageGetter().findRange(this._name,[0,0,0],[0,1,Number.MAX_VALUE],{index:d.Indexes.Conversations_IsHighlight_ForceToRecents_Timestamp,reverseOrSortOrder:c.QuerySortOrder.Reverse}).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}getConversationMetasBySearchTerm(e,t,i){if(0===e.length)return Promise.reject("Empty search term");const o=t?c.FullTextTermResolution.Or:c.FullTextTermResolution.And;return this._storageGetter().fullTextSearch(this._name,e,{index:d.Indexes.Conversations_SearchTerms,resolution:o,limit:i}).then((e=>(0,n.compact)(e).map((e=>r.default.fromDatabaseObject(e)))))}getNeedsSyncConversations(){return this._storageGetter().findMultiple(this._name,1,{index:d.Indexes.Conversations_NeedsSync,reverseOrSortOrder:c.QuerySortOrder.None}).then((e=>(0,n.compact)(e).map((e=>r.default.fromDatabaseObject(e)))))}putConversationMetas(e){const t=Array.isArray(e)?e:[e];return this._storageGetter().createOrUpdate(this._name,t)}removeConversationMetas(e){const t=e.map((e=>e.conv.id));return this._storageGetter().remove(this._name,t)}}t.ConversationsRepository=p;t.ConversationsRepositoryProxy=class{constructor(e){this._storageGetter=e,this._name="Conversations",this._getRecordsCountOnce=(0,n.once)((e=>this._getRecordsCount(e))),this._repo=new p(e,this._name)}getConversationMeta(e){return this._isReadFromNewDalAllowed()?this._repo.getConversationMeta(e):l.default.getConversationMeta(e).toEs6Promise()}getConversationMetas(e){return this._isReadFromNewDalAllowed()?this._repo.getConversationMetas(e):l.default.getConversationMetas(e).toEs6Promise()}getAllConversationMetas(e,t){return o.__awaiter(this,void 0,void 0,(function*(){const i=this._isReadFromNewDalAllowed(),o=yield this._createTelemetryTracker(!i,a.ScenarioName.GetAllConversationMetas);return o.start(),i?this._repo.getAllConversationMetas(e,t).then((e=>(o.finish(),e))):l.default.getAllConversationMetas(e,t).toEs6Promise().then((e=>(o.finish(),e)))}))}getCountOfUnreadConversations(e){return this._isReadFromNewDalAllowed()?this._repo.getCountOfUnreadConversations(e):l.default.getCountOfUnreadConversations(e).toEs6Promise()}getRecentNonHighlightConversationMetas(e,t=r.ConversationHistoryTimeSpanImportant){return this._isReadFromNewDalAllowed()?this._repo.getRecentNonHighlightConversationMetas(e,t):l.default.getRecentNonHighlightConversationMetas(e,t).toEs6Promise()}getAllNonHighlightConversationMetas(){return this._isReadFromNewDalAllowed()?this._repo.getAllNonHighlightConversationMetas():l.default.getAllNonHighlightConversationMetas().toEs6Promise()}getConversationMetasBySearchTerm(e,t,i){return this._isReadFromNewDalAllowed()?this._repo.getConversationMetasBySearchTerm(e,t,i):l.default.getConversationMetasBySearchTerm(e,t,i).toEs6Promise()}getNeedsSyncConversations(){return this._isReadFromNewDalAllowed()?this._repo.getNeedsSyncConversations():l.default.openTransaction([l.Stores.Conversations],!1).then((e=>e.getNeedsSyncConversations().then((e=>e)))).toEs6Promise()}putConversationMetas(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=this._isWriteToNewDalAllowed(),i=yield this._createTelemetryTracker(!t,a.ScenarioName.PutConversationMetas);return i.start(),t?this._repo.putConversationMetas(e).then((e=>(i.finish(),e))):l.default.putConversationMetas(e).toEs6Promise().then((e=>(i.finish(),e)))}))}removeConversationMetas(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=this._isWriteToNewDalAllowed(),i=yield this._createTelemetryTracker(!t,a.ScenarioName.RemoveConversationMetas);return i.start(),t?this._repo.removeConversationMetas(e).then((e=>(i.finish(),e))):l.default.openTransaction([l.Stores.Conversations],!1).then((t=>t.removeConversationMetas(e).then((e=>e)))).toEs6Promise().then((e=>(i.finish(),e)))}))}_getRecordsCount(e){return()=>e?l.default.getAll().toEs6Promise():this._storageGetter().count(this._name)}_createTelemetryTracker(e,t){return o.__awaiter(this,void 0,void 0,(function*(){const i=yield this._getRecordsCountOnce(e),o=e?"ClientDatabase":"ConversationsRepository",n={count:yield i(),providerName:l.default.getProviderName()||""};return new u.default(t,o,n)}))}_isReadFromNewDalAllowed(){return s.AppConfigStore.getConfigSettingsNoSubscription().enableDALConversationsRepo.read}_isWriteToNewDalAllowed(){return s.AppConfigStore.getConfigSettingsNoSubscription().enableDALConversationsRepo.write}}},775482:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DraftsRepositoryProxy=t.DraftsRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343)),a=i(36607);class s{constructor(e,t){this._storageGetter=e,this._name=t}getAllDraftMessages(){return this._storageGetter().findMultiple(this._name,void 0,{reverseOrSortOrder:a.QuerySortOrder.None})}putDraftMessage(e){return this._storageGetter().createOrUpdate(this._name,e)}deleteDraftMessage(e){return this._storageGetter().remove(this._name,e)}}t.DraftsRepository=s;t.DraftsRepositoryProxy=class{constructor(e){this._name="Drafts",this._repo=new s(e,this._name)}getAllDraftMessages(){return this._isReadFromNewDalAllowed()?this._repo.getAllDraftMessages():r.default.getAllDraftMessages().toEs6Promise()}putDraftMessage(e){return this._isWriteToNewDalAllowed()?this._repo.putDraftMessage(e):r.default.putDraftMessage(e).toEs6Promise()}deleteDraftMessage(e){return this._isWriteToNewDalAllowed()?this._repo.deleteDraftMessage(e):r.default.deleteDraftMessage(e).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALDraftsRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALDraftsRepo.write}}},885147:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EngagementMessagesQueueRepositoryProxy=t.EngagementMessagesQueueRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343)),a=i(36607);class s{constructor(e,t){this._storageGetter=e,this._name=t}getAllEngagementMessagesInQueue(){return this._storageGetter().findMultiple(this._name,void 0,{reverseOrSortOrder:a.QuerySortOrder.None})}putEngagementMessagesToQueue(e){return this._storageGetter().createOrUpdate(this._name,e)}removeEngagementMessageFromQueue(e){return this._storageGetter().remove(this._name,e)}clearEngagementQueueOfMessages(){return this._storageGetter().clear(this._name)}}t.EngagementMessagesQueueRepository=s;t.EngagementMessagesQueueRepositoryProxy=class{constructor(e){this._name="EngagementMessagesQueueStore",this._repo=new s(e,this._name)}getAllEngagementMessagesInQueue(){return this._isReadFromNewDalAllowed()?this._repo.getAllEngagementMessagesInQueue():r.default.getAllEngagementMessagesInQueue().toEs6Promise()}putEngagementMessagesToQueue(e){return this._isWriteToNewDalAllowed()?this._repo.putEngagementMessagesToQueue(e):r.default.putEngagementMessagesToQueue(e).toEs6Promise()}removeEngagementMessageFromQueue(e){return this._isWriteToNewDalAllowed()?this._repo.removeEngagementMessageFromQueue(e):r.default.removeEngagementMessageFromQueue(e).toEs6Promise()}clearEngagementQueueOfMessages(){return this._isWriteToNewDalAllowed()?this._repo.clearEngagementQueueOfMessages():r.default.clearEngagementQueueOfMessages().toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALEngagementMessagesQueueRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALEngagementMessagesQueueRepo.write}}},437924:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EngagementPullCampaignsRepositoryProxy=t.EngagementPullCampaignsRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343));class a{constructor(e,t){this._storageGetter=e,this._name=t}getAllCampaigns(){return this._storageGetter().findMultiple(this._name)}putCampaigns(e){return this._storageGetter().createOrUpdate(this._name,e)}removeCampaigns(e){const t=e.map((e=>e.campaignId));return this._storageGetter().remove(this._name,t)}}t.EngagementPullCampaignsRepository=a;t.EngagementPullCampaignsRepositoryProxy=class{constructor(e){this._name="EngagementPullCampaigns",this._repo=new a(e,this._name)}getAllCampaigns(){return this._isReadFromNewDalAllowed()?this._repo.getAllCampaigns():r.default.getAllCampaigns().toEs6Promise()}putCampaigns(e){return this._isWriteToNewDalAllowed()?this._repo.putCampaigns(e):r.default.putCampaigns(e).toEs6Promise()}removeCampaigns(e){return this._isWriteToNewDalAllowed()?this._repo.removeCampaigns(e):r.default.removeCampaigns(e).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALEngagementPullCampaignsRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALEngagementPullCampaignsRepo.write}}},933452:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FeaturedAgentsRepositoryProxy=t.FeaturedAgentsRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343)),a=o.__importDefault(i(655121));class s{constructor(e,t){this._storageGetter=e,this._name=t}getAllFeaturedAgents(){return this._storageGetter().findMultiple(this._name).then((e=>e.map((e=>a.default.fromDatabaseObject(e)))))}replaceFeaturedAgents(e){return this._storageGetter().clear(this._name).then((()=>this._storageGetter().createOrUpdate(this._name,e)))}}t.FeaturedAgentsRepository=s;t.FeaturedAgentsRepositoryProxy=class{constructor(e){this._name="FeaturedAgents",this._repo=new s(e,this._name)}getAllFeaturedAgents(){return this._isReadFromNewDalAllowed()?this._repo.getAllFeaturedAgents():r.default.getAllFeaturedAgents().toEs6Promise()}replaceFeaturedAgents(e){return this._isWriteToNewDalAllowed()?this._repo.replaceFeaturedAgents(e):r.default.replaceFeaturedAgents(e).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALFeaturedAgentsRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALFeaturedAgentsRepo.write}}},854900:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileCacheMetadataRepositoryProxy=t.FileCacheMetadataRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343));class a{constructor(e,t){this._storageGetter=e,this._name=t}getAllFileCacheMetadata(){return this._storageGetter().findMultiple(this._name)}putFileCacheMetadata(e){return this._storageGetter().createOrUpdate(this._name,e)}removeFileCacheMetadata(e,t){const i=(Array.isArray(t)?t:[t]).map((t=>[e,t]));return this._storageGetter().remove(this._name,i)}}t.FileCacheMetadataRepository=a;t.FileCacheMetadataRepositoryProxy=class{constructor(e){this._name="FileCacheMetadata",this._repo=new a(e,this._name)}getAllFileCacheMetadata(){return this._isReadFromNewDalAllowed()?this._repo.getAllFileCacheMetadata():r.default.getAllFileCacheMetadata().toEs6Promise()}putFileCacheMetadata(e){return this._isWriteToNewDalAllowed()?this._repo.putFileCacheMetadata(e):r.default.putFileCacheMetadata(e).toEs6Promise()}removeFileCacheMetadata(e,t){return this._isWriteToNewDalAllowed()?this._repo.removeFileCacheMetadata(e,t):r.default.removeFileCacheMetadata(e,t).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALFileCacheMetadataRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALFileCacheMetadataRepo.write}}},302248:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileTrackerRepositoryProxy=t.FileTrackerRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343));class a{constructor(e,t){this._storageGetter=e,this._name=t}getAllFileTrackerMetadata(){return this._storageGetter().findMultiple(this._name)}putFileTrackerMetadata(e){return this._storageGetter().createOrUpdate(this._name,e)}removeFileTrackerMetadata(e){return this._storageGetter().remove(this._name,e)}}t.FileTrackerRepository=a;t.FileTrackerRepositoryProxy=class{constructor(e){this._name="FileTracker",this._repo=new a(e,this._name)}getAllFileTrackerMetadata(){return this._isReadFromNewDalAllowed()?this._repo.getAllFileTrackerMetadata():r.default.getAllFileTrackerMetadata().toEs6Promise()}putFileTrackerMetadata(e){return this._isWriteToNewDalAllowed()?this._repo.putFileTrackerMetadata(e):r.default.putFileTrackerMetadata(e).toEs6Promise()}removeFileTrackerMetadata(e){return this._isWriteToNewDalAllowed()?this._repo.removeFileTrackerMetadata(e):r.default.removeFileTrackerMetadata(e).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALFileTrackerRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALFileTrackerRepo.write}}},935928:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImagePrefetchInfoRepositoryProxy=t.ImagePrefetchInfoRepository=void 0;const o=i(197582),n=i(496486),r=i(677982),a=o.__importDefault(i(434343)),s=i(36607);class l{constructor(e,t){this._storageGetter=e,this._name=t}getAllImagePrefetchInfo(){return this._storageGetter().findMultiple(this._name,void 0,{reverseOrSortOrder:s.QuerySortOrder.None}).then((e=>(0,n.compact)(e)))}putImagePrefetchRecords(e){return this._storageGetter().createOrUpdate(this._name,e)}removeImagePrefetchInfo(e){return this._storageGetter().remove(this._name,e)}}t.ImagePrefetchInfoRepository=l;t.ImagePrefetchInfoRepositoryProxy=class{constructor(e){this._name="ImagePrefetchInfo",this._repo=new l(e,this._name)}getAllImagePrefetchInfo(){return this._isReadFromNewDalAllowed()?this._repo.getAllImagePrefetchInfo():a.default.getAllImagePrefetchInfo().toEs6Promise()}putImagePrefetchRecords(e){return this._isWriteToNewDalAllowed()?this._repo.putImagePrefetchRecords(e):a.default.putImagePrefetchRecords(e).toEs6Promise()}removeImagePrefetchInfo(e){return this._isWriteToNewDalAllowed()?this._repo.removeImagePrefetchInfo(e):a.default.removeImagePrefetchInfo(e).toEs6Promise()}_isReadFromNewDalAllowed(){return r.AppConfigStore.getConfigSettingsNoSubscription().enableDALImagePrefetchInfoRepo.read}_isWriteToNewDalAllowed(){return r.AppConfigStore.getConfigSettingsNoSubscription().enableDALImagePrefetchInfoRepo.write}}},124978:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationConsentsRepositoryProxy=t.IntegrationConsentsRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343));class a{constructor(e,t){this._storageGetter=e,this._name=t}getIntegrationConsent(e,t){return this._storageGetter().findById(this._name,[e,t])}putIntegrationConsent(e){return this._storageGetter().createOrUpdate(this._name,e)}}t.IntegrationConsentsRepository=a;t.IntegrationConsentsRepositoryProxy=class{constructor(e){this._name="IntegrationConsents",this._repo=new a(e,this._name)}getIntegrationConsent(e,t){return this._isReadFromNewDalAllowed()?this._repo.getIntegrationConsent(e,t):r.default.getIntegrationConsent(e,t).toEs6Promise()}putIntegrationConsent(e){return this._isWriteToNewDalAllowed()?this._repo.putIntegrationConsent(e):r.default.putIntegrationConsent(e).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALIntegrationConsentsRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALIntegrationConsentsRepo.write}}},53441:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InternalDataRepositoryProxy=t.InternalDataRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343));class a{constructor(e,t){this._storageGetter=e,this._name=t}internal_getInternalData(e){return this._storageGetter().findById(this._name,e).then((e=>e||null))}internal_getAllInternalData(){return this._storageGetter().findMultiple(this._name)}internal_putInternalData(e,t){return this._storageGetter().createOrUpdate(this._name,{id:e,value:t})}internal_deleteInternalData(e){return this._storageGetter().remove(this._name,e)}}t.InternalDataRepository=a;t.InternalDataRepositoryProxy=class{constructor(e){this._name="InternalData",this._repo=new a(e,this._name)}internal_getInternalData(e){return this._isReadFromNewDalAllowed()?this._repo.internal_getInternalData(e):r.default.internal_getInternalData(e).toEs6Promise()}internal_getAllInternalData(){return this._isReadFromNewDalAllowed()?this._repo.internal_getAllInternalData():r.default.internal_getAllInternalData().toEs6Promise()}internal_putInternalData(e,t){return this._isWriteToNewDalAllowed()?this._repo.internal_putInternalData(e,t):r.default.internal_putInternalData(e,t).toEs6Promise()}internal_deleteInternalData(e){return this._isWriteToNewDalAllowed()?this._repo.internal_deleteInternalData(e):r.default.internal_deleteInternalData(e).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALInternalDataRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALInternalDataRepo.write}}},38894:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalAddressBookContactsRepositoryProxy=t.LocalAddressBookContactsRepository=void 0;const o=i(197582),n=i(336897),r=i(677982),a=o.__importDefault(i(434343)),s=i(36607);class l{constructor(e,t){this._storageGetter=e,this._name=t}getAllLocalAddressBookContacts(){return this._storageGetter().findMultiple(this._name,void 0,{reverseOrSortOrder:s.QuerySortOrder.None}).then((e=>e.map((e=>n.AddressBookContact.fromDatabaseObject(e)))))}putLocalAddressBookContacts(e){return this._storageGetter().createOrUpdate(this._name,e)}replaceAllLocalAddressBookContacts(e){return this._storageGetter().clear(this._name).then((()=>this._storageGetter().createOrUpdate(this._name,e)))}removeAllLocalAddressBookContacts(){return this._storageGetter().clear(this._name)}}t.LocalAddressBookContactsRepository=l;t.LocalAddressBookContactsRepositoryProxy=class{constructor(e){this._name="LocalAddressBookContacts",this._repo=new l(e,this._name)}getAllLocalAddressBookContacts(){return this._isReadFromNewDalAllowed()?this._repo.getAllLocalAddressBookContacts():a.default.getAllLocalAddressBookContacts().toEs6Promise()}putLocalAddressBookContacts(e){return this._isWriteToNewDalAllowed()?this._repo.putLocalAddressBookContacts(e):a.default.putLocalAddressBookContacts(e).toEs6Promise()}replaceAllLocalAddressBookContacts(e){return this._isWriteToNewDalAllowed()?this._repo.replaceAllLocalAddressBookContacts(e):a.default.replaceAllLocalAddressBookContacts(e).toEs6Promise()}removeAllLocalAddressBookContacts(){return this._isWriteToNewDalAllowed()?this._repo.removeAllLocalAddressBookContacts():a.default.removeAllLocalAddressBookContacts().toEs6Promise()}_isReadFromNewDalAllowed(){return r.AppConfigStore.getConfigSettingsNoSubscription().enableDALLocalAddressBookContactsRepo.read}_isWriteToNewDalAllowed(){return r.AppConfigStore.getConfigSettingsNoSubscription().enableDALLocalAddressBookContactsRepo.write}}},240951:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalNotificationsRepositoryProxy=t.LocalNotificationsRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343));class a{constructor(e,t){this._storageGetter=e,this._name=t}getLocalNotifications(){return this._storageGetter().findMultiple(this._name)}putLocalNotifications(e){return this._storageGetter().createOrUpdate(this._name,e)}removeLocalNotifications(e){const t=e.map((e=>e.id));return this._storageGetter().remove(this._name,t)}}t.LocalNotificationsRepository=a;t.LocalNotificationsRepositoryProxy=class{constructor(e){this._name="LocalNotifications",this._repo=new a(e,this._name)}getLocalNotifications(){return this._isReadFromNewDalAllowed()?this._repo.getLocalNotifications():r.default.getLocalNotifications().toEs6Promise()}putLocalNotifications(e){return this._isWriteToNewDalAllowed()?this._repo.putLocalNotifications(e):r.default.putLocalNotifications(e).toEs6Promise()}removeLocalNotifications(e){return this._isWriteToNewDalAllowed()?this._repo.removeLocalNotifications(e):r.default.removeLocalNotifications(e).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALLocalNotificationsRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALLocalNotificationsRepo.write}}},216622:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MediaDraftsRepositoryProxy=t.MediaDraftsRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343)),a=i(36607);class s{constructor(e,t){this._storageGetter=e,this._name=t}getAllMediaDrafts(){return this._storageGetter().findMultiple(this._name,void 0,{reverseOrSortOrder:a.QuerySortOrder.None})}putMediaDrafts(e){return this._storageGetter().createOrUpdate(this._name,e)}deleteMediaDraft(e){return this._storageGetter().remove(this._name,e)}}t.MediaDraftsRepository=s;t.MediaDraftsRepositoryProxy=class{constructor(e){this._name="MediaDrafts",this._repo=new s(e,this._name)}getAllMediaDrafts(){return this._isReadFromNewDalAllowed()?this._repo.getAllMediaDrafts():r.default.getAllMediaDrafts().toEs6Promise()}putMediaDrafts(e){return this._isWriteToNewDalAllowed()?this._repo.putMediaDrafts(e):r.default.putMediaDrafts(e).toEs6Promise()}deleteMediaDraft(e){return this._isWriteToNewDalAllowed()?this._repo.deleteMediaDraft(e):r.default.deleteMediaDraft(e).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALMediaDraftsRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALMediaDraftsRepo.write}}},538980:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessagesRepositoryProxy=t.MessagesRepository=void 0;const o=i(197582),n=i(496486),r=o.__importDefault(i(997226)),a=i(315703),s=i(36607),l=i(63939),c=o.__importDefault(i(609913)),d=i(677982),u=i(96575),p=o.__importDefault(i(535775)),g=o.__importDefault(i(434343));class h{constructor(e,t){this._storageGetter=e,this._name=t}getAllMessages(e,t){return this._storageGetter().findMultiple(this._name,void 0,{reverseOrSortOrder:s.QuerySortOrder.Forward,limit:e,offset:t}).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}getMessagesInConversation(e){const t=[e,""],i=[(0,l.increaseLastCharCode)(e),""];return this._storageGetter().findRange(this._name,t,i,{reverseOrSortOrder:s.QuerySortOrder.None,highRangeExclusive:!0}).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}getMessageByCuid(e,t){const i=[e,t];return this._storageGetter().findById(this._name,i).then((e=>r.default.fromDatabaseObject(e)))}getMessagesByCuidForConversations(e){const t=[];return(0,n.each)(e,((e,i)=>{(0,n.each)(e,(e=>{t.push(this.getMessageByCuid(i,e))}))})),Promise.all(t).then((e=>(0,n.compact)(e)))}getMessagesForConversationBeforeTime(e,t,i,o){const n=[e,0],l=[e,t];return this._storageGetter().findRange(this._name,n,l,{index:a.Indexes.Messages_ConversationId_CreatedTime,highRangeExclusive:o,reverseOrSortOrder:s.QuerySortOrder.Reverse,limit:i}).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}getMessagesNotSentByMe(e,t,i,o){const n=[e,0,0],l=[e,0,t];return this._storageGetter().findRange(this._name,n,l,{index:a.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime,highRangeExclusive:o,reverseOrSortOrder:s.QuerySortOrder.Reverse,limit:i}).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}getMessagesSentByMeSinceTime(e,t,i,o){const n=[e,1,t],l=[e,1,Number.MAX_VALUE];return this._storageGetter().findRange(this._name,n,l,{index:a.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime,highRangeExclusive:o,reverseOrSortOrder:s.QuerySortOrder.Reverse,limit:i}).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}getMessagesForConversationAfterTime(e,t,i,o){const n=[e,t],l=[e,Number.MAX_VALUE];return this._storageGetter().findRange(this._name,n,l,{index:a.Indexes.Messages_ConversationId_CreatedTime,lowRangeExclusive:o,highRangeExclusive:!0,reverseOrSortOrder:s.QuerySortOrder.Forward,limit:i}).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}getMessagesForConversationAndTimeRange(e,t,i,o,n){let l=s.QuerySortOrder.None;o?l=s.QuerySortOrder.Reverse:!o&&n&&(l=s.QuerySortOrder.Forward);const c=[e,t],d=[e,i];return this._storageGetter().findRange(this._name,c,d,{index:a.Indexes.Messages_ConversationId_CreatedTime,reverseOrSortOrder:l,limit:n}).then((e=>e.map((e=>r.default.fromDatabaseObject(e)))))}removeMessages(e){const t=e.map((e=>[e.conversationId,e.cuid]));return this._storageGetter().remove(this._name,t)}getCountOfMessagesForConversationAfterTimeNormalPri(e,t,i){const o=void 0===i?void 0:2*i,n=[e,t],l=[e,Number.MAX_VALUE];return this._storageGetter().findRange(this._name,n,l,{index:a.Indexes.Messages_ConversationId_CreatedTime,lowRangeExclusive:!0,highRangeExclusive:!0,reverseOrSortOrder:s.QuerySortOrder.Forward,limit:o}).then((e=>{const t=e.map((e=>r.default.fromDatabaseObject(e))),o=c.default.updateCallEventMessages(t).filter((e=>1===e.getCountsType())).length;return void 0===i?o:Math.min(i,o)}))}getCountOfMessagesForConversationAfterTimeHighPri(e,t){const i=[e,2,t],o=[e,2,Number.MAX_VALUE];return this._storageGetter().count(this._name,i,o,{index:a.Indexes.Messages_ConversationId_CountsType_CreatedTime,lowRangeExclusive:!0,highRangeExclusive:!0})}getCountOfMessagesForConversationISentSinceTime(e,t){const i=[e,1,t],o=[e,1,Number.MAX_VALUE];return this._storageGetter().count(this._name,i,o,{index:a.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime,highRangeExclusive:!0})}getMessagesByCuid(e,t){return Promise.all(t.map((t=>this.getMessageByCuid(e,t)))).then((e=>(0,n.compact)(e)))}putMessages(e){return this._storageGetter().createOrUpdate(this._name,e)}}t.MessagesRepository=h;t.MessagesRepositoryProxy=class{constructor(e){this._storageGetter=e,this._name="Messages",this._getRecordsCountOnce=(0,n.once)((e=>this._getRecordsCount(e))),this._repo=new h(e,this._name)}getAllMessages(e,t){return this._isReadFromNewDalAllowed()?this._repo.getAllMessages(e,t):g.default.getAllMessages(e,t).toEs6Promise()}getMessagesInConversation(e){return this._isReadFromNewDalAllowed()?this._repo.getMessagesInConversation(e):g.default.getMessagesInConversation(e).toEs6Promise()}getMessageByCuid(e,t){return this._isReadFromNewDalAllowed()?this._repo.getMessageByCuid(e,t):g.default.getMessageByCuid(e,t).toEs6Promise()}getMessagesByCuidForConversations(e){return this._isReadFromNewDalAllowed()?this._repo.getMessagesByCuidForConversations(e):g.default.getMessagesByCuidForConversations(e).toEs6Promise()}getMessagesForConversationBeforeTime(e,t,i,o){return this._isReadFromNewDalAllowed()?this._repo.getMessagesForConversationBeforeTime(e,t,i,o):g.default.getMessagesForConversationBeforeTime(e,t,i,o).toEs6Promise()}getMessagesNotSentByMe(e,t,i,o){return this._isReadFromNewDalAllowed()?this._repo.getMessagesNotSentByMe(e,t,i,o):g.default.getMessagesNotSentByMe(e,t,i,o).toEs6Promise()}getMessagesSentByMeSinceTime(e,t,i,o){return this._isReadFromNewDalAllowed()?this._repo.getMessagesSentByMeSinceTime(e,t,i,o):g.default.getMessagesSentByMeSinceTime(e,t,i,o).toEs6Promise()}getMessagesForConversationAfterTime(e,t,i,n){return o.__awaiter(this,void 0,void 0,(function*(){const o=this._isReadFromNewDalAllowed(),r=yield this._createTelemetryTracker(!o,u.ScenarioName.GetMessagesForConversationAfterTime);return r.start(),o?this._repo.getMessagesForConversationAfterTime(e,t,i,n).then((e=>(r.finish(),e))):g.default.getMessagesForConversationAfterTime(e,t,i,n).toEs6Promise().then((e=>(r.finish(),e)))}))}getMessagesForConversationAndTimeRange(e,t,i,n,r){return o.__awaiter(this,void 0,void 0,(function*(){const o=this._isReadFromNewDalAllowed(),a=yield this._createTelemetryTracker(!o,u.ScenarioName.GetMessagesForConversationAndTimeRange);return a.start(),o?this._repo.getMessagesForConversationAndTimeRange(e,t,i,n,r).then((e=>(a.finish(),e))):g.default.getMessagesForConversationAndTimeRange(e,t,i,n,r).toEs6Promise().then((e=>(a.finish(),e)))}))}removeMessages(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=this._isWriteToNewDalAllowed(),i=yield this._createTelemetryTracker(!t,u.ScenarioName.RemoveMessages);return i.start(),t?this._repo.removeMessages(e).then((()=>{i.finish()})):null===g.default||void 0===g.default?void 0:g.default.removeMessages(e).toEs6Promise().then((()=>{i.finish()}))}))}getCountOfMessagesForConversationAfterTimeNormalPri(e,t,i){return o.__awaiter(this,void 0,void 0,(function*(){return this._isReadFromNewDalAllowed()?this._repo.getCountOfMessagesForConversationAfterTimeNormalPri(e,t,i):null===g.default||void 0===g.default?void 0:g.default.getCountOfMessagesForConversationAfterTimeNormalPri(e,t,i).toEs6Promise()}))}getCountOfMessagesForConversationAfterTimeHighPri(e,t){return this._isReadFromNewDalAllowed()?this._repo.getCountOfMessagesForConversationAfterTimeHighPri(e,t):null===g.default||void 0===g.default?void 0:g.default.getCountOfMessagesForConversationAfterTimeHighPri(e,t).toEs6Promise()}getCountOfMessagesForConversationISentSinceTime(e,t){return this._isReadFromNewDalAllowed()?this._repo.getCountOfMessagesForConversationISentSinceTime(e,t):null===g.default||void 0===g.default?void 0:g.default.getCountOfMessagesForConversationISentSinceTime(e,t).toEs6Promise()}getMessagesByCuid(e,t){return this._isReadFromNewDalAllowed()?this._repo.getMessagesByCuid(e,t):null===g.default||void 0===g.default?void 0:g.default.getMessagesByCuid(e,t).toEs6Promise()}putMessages(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=this._isWriteToNewDalAllowed(),i=yield this._createTelemetryTracker(!t,u.ScenarioName.PutMessages);return i.start(),t?this._repo.putMessages(e).then((()=>{i.finish()})):null===g.default||void 0===g.default?void 0:g.default.putMessages(e).toEs6Promise().then((()=>{i.finish()}))}))}_createTelemetryTracker(e,t){return o.__awaiter(this,void 0,void 0,(function*(){const i=yield this._getRecordsCountOnce(e),o=e?"ClientDatabase":"MessagesRepository",n={count:yield i(),providerName:g.default.getProviderName()||""};return new p.default(t,o,n)}))}_getRecordsCount(e){return()=>e?g.default.getAll().toEs6Promise():this._storageGetter().count(this._name)}_isReadFromNewDalAllowed(){return d.AppConfigStore.getConfigSettingsNoSubscription().enableDALMessagesRepo.read}_isWriteToNewDalAllowed(){return d.AppConfigStore.getConfigSettingsNoSubscription().enableDALMessagesRepo.write}}},674684:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MiniProfileRepositoryProxy=t.MiniProfileRepository=void 0;const o=i(197582),n=i(496486),r=o.__importDefault(i(150343)),a=o.__importStar(i(434343)),s=o.__importDefault(i(776239)),l=i(96575),c=o.__importDefault(i(535775));class d{constructor(e,t){this._storageGetter=e,this._name="ProfileMinis",this._name=t}getDisplayableUser(e){return this._storageGetter().findById(this._name,e).then((e=>s.default.fromDatabaseObject(e)))}getAllDisplayableUsers(){return this._storageGetter().findMultiple(this._name).then((e=>e.map((e=>s.default.fromDatabaseObject(e)))))}putDisplayableUsers(e){return this._storageGetter().createOrUpdate(this._name,e.map((e=>e.getDatabaseRepresentation())))}}t.MiniProfileRepository=d;t.MiniProfileRepositoryProxy=class{constructor(e){this._storageGetter=e,this._name="ProfileMinis",this._getRecordsCountOnce=(0,n.once)((e=>this._getRecordsCount(e))),this._repo=new d(this._storageGetter,this._name)}getDisplayableUser(e){return this._isReadFromNewDalAllowed()?this._repo.getDisplayableUser(e):a.default.getDisplayableUser(e).toEs6Promise()}getAllDisplayableUsers(){return o.__awaiter(this,void 0,void 0,(function*(){const e=this._isReadFromNewDalAllowed(),t=yield this._createTelemetryTracker(e,l.ScenarioName.GetAllDisplayableUsers);return t.start(),e?this._repo.getAllDisplayableUsers().then((e=>(t.finish(),e))):a.default.getAllDisplayableUsers().toEs6Promise().then((e=>(t.finish(),e)))}))}putDisplayableUsers(e){return o.__awaiter(this,void 0,void 0,(function*(){const t=this._isWriteToNewDalAllowed(),i=yield this._createTelemetryTracker(t,l.ScenarioName.PutDisplayableUsers);return i.start(),t?this._repo.putDisplayableUsers(e).then((e=>(i.finish(),e))):a.default.openTransaction([a.Stores.ProfileMinis],!0).then((t=>t.putDisplayableUsers(e))).toEs6Promise().then((e=>(i.finish(),e)))}))}_isReadFromNewDalAllowed(){return r.default.getConfigSettingsNoSubscription().enableDALMiniProfileRepo.read}_isWriteToNewDalAllowed(){return r.default.getConfigSettingsNoSubscription().enableDALMiniProfileRepo.write}_getRecordsCount(e){return()=>e?this._storageGetter().count(this._name):a.default.getAll().toEs6Promise()}_createTelemetryTracker(e,t){return o.__awaiter(this,void 0,void 0,(function*(){const i=yield this._getRecordsCountOnce(e),o=e?"MiniProfileRepository":"ClientDatabase",n={count:yield i(),providerName:a.default.getProviderName()||""};return new c.default(t,o,n)}))}}},603193:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PersistentActionsRepositoryProxy=t.PersistentActionsRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343));class a{constructor(e,t){this._storageGetter=e,this._name=t}getPersistentActions(){return this._storageGetter().findMultiple(this._name)}putPersistentAction(e){return this._storageGetter().createOrUpdate(this._name,e)}removePersistentAction(e){return this._storageGetter().remove(this._name,e)}}t.PersistentActionsRepository=a;t.PersistentActionsRepositoryProxy=class{constructor(e){this._name="PersistentActions",this._repo=new a(e,this._name)}getPersistentActions(){return this._isReadFromNewDalAllowed()?this._repo.getPersistentActions():r.default.getPersistentActions().toEs6Promise()}putPersistentAction(e){return this._isWriteToNewDalAllowed()?this._repo.putPersistentAction(e):r.default.putPersistentAction(e).toEs6Promise()}removePersistentAction(e){return this._isWriteToNewDalAllowed()?this._repo.removePersistentAction(e):r.default.removePersistentAction(e).toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALPersistentActionsRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALPersistentActionsRepo.write}}},455141:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PopCardsRepositoryProxy=t.PopCardsRepository=void 0;const o=i(197582),n=i(677982),r=o.__importDefault(i(434343));class a{constructor(e,t){this._storageGetter=e,this._name=t}getAllPopCards(){return this._storageGetter().findMultiple(this._name)}putPopCards(e){return this._storageGetter().createOrUpdate(this._name,e)}removePopCard(e){return this._storageGetter().remove(this._name,e)}clearAllPopCards(){return this._storageGetter().clear(this._name)}}t.PopCardsRepository=a;t.PopCardsRepositoryProxy=class{constructor(e){this._name="PopCards",this._repo=new a(e,this._name)}getAllPopCards(){return this._isReadFromNewDalAllowed()?this._repo.getAllPopCards():r.default.getAllPopCards().toEs6Promise()}putPopCards(e){return this._isWriteToNewDalAllowed()?this._repo.putPopCards(e):r.default.putPopCards(e).toEs6Promise()}removePopCard(e){return this._isWriteToNewDalAllowed()?this._repo.removePopCard(e):r.default.removePopCard(e).toEs6Promise()}clearAllPopCards(){return this._isWriteToNewDalAllowed()?this._repo.clearAllPopCards():r.default.clearAllPopCards().toEs6Promise()}_isReadFromNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALPopCardsRepo.read}_isWriteToNewDalAllowed(){return n.AppConfigStore.getConfigSettingsNoSubscription().enableDALPopCardsRepo.write}}},311301:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryRepositoryProxy=t.TelemetryRepository=void 0;const o=i(197582),n=i(315703),r=i(677982),a=i(36607),s=o.__importDefault(i(434343));class l{constructor(e,t){this._storageGetter=e,this._name=t}getTelemetryEvents(e,t){return this._storageGetter().findMultiple(this._name,void 0,{index:n.Indexes.Telemetry_Priority_Timestamp,reverseOrSortOrder:a.QuerySortOrder.None,limit:e,offset:t})}putTelemetryEvents(e){return this._storageGetter().createOrUpdate(this._name,e)}deleteTelemetryEvents(e){return this._storageGetter().remove(this._name,e)}countTelemetryEvents(){return this._storageGetter().count(this._name)}}t.TelemetryRepository=l;t.TelemetryRepositoryProxy=class{constructor(e){this._name="Telemetry",this._repo=new l(e,this._name)}getTelemetryEvents(e,t){return this._isReadFromNewDalAllowed()?this._repo.getTelemetryEvents(e,t):s.default.getTelemetryEvents(e,t).toEs6Promise()}putTelemetryEvents(e){return this._isWriteToNewDalAllowed()?this._repo.putTelemetryEvents(e):s.default.putTelemetryEvents(e).toEs6Promise()}deleteTelemetryEvents(e){return this._isWriteToNewDalAllowed()?this._repo.deleteTelemetryEvents(e):s.default.deleteTelemetryEvents(e).toEs6Promise()}countTelemetryEvents(){return this._isReadFromNewDalAllowed()?this._repo.countTelemetryEvents():s.default.countTelemetryEvents().toEs6Promise()}_isReadFromNewDalAllowed(){return r.AppConfigStore.getConfigSettingsNoSubscription().enableDALTelemetryRepo.read}_isWriteToNewDalAllowed(){return r.AppConfigStore.getConfigSettingsNoSubscription().enableDALTelemetryRepo.write}}},971622:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContentChannelMessageRepositoryProxy=t.ContentChannelRepositoryProxy=void 0;const o=i(197582);o.__exportStar(i(829234),t),o.__exportStar(i(537488),t),o.__exportStar(i(373809),t);var n=i(953660);Object.defineProperty(t,"ContentChannelRepositoryProxy",{enumerable:!0,get:function(){return n.ContentChannelRepositoryProxy}});var r=i(34042);Object.defineProperty(t,"ContentChannelMessageRepositoryProxy",{enumerable:!0,get:function(){return r.ContentChannelMessageRepositoryProxy}}),o.__exportStar(i(780919),t),o.__exportStar(i(437924),t),o.__exportStar(i(885147),t),o.__exportStar(i(933452),t),o.__exportStar(i(455141),t),o.__exportStar(i(538980),t),o.__exportStar(i(38894),t),o.__exportStar(i(775482),t),o.__exportStar(i(706612),t),o.__exportStar(i(302248),t),o.__exportStar(i(216622),t),o.__exportStar(i(854900),t),o.__exportStar(i(935928),t),o.__exportStar(i(240951),t),o.__exportStar(i(674684),t),o.__exportStar(i(311301),t),o.__exportStar(i(603193),t),o.__exportStar(i(124978),t),o.__exportStar(i(53441),t),o.__exportStar(i(284489),t),o.__exportStar(i(414575),t),o.__exportStar(i(216866),t)},63939:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.increaseLastCharCode=function(e){return e.substring(0,e.length-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1)}},518470:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveStructuredStorage=function(e,t){return o.__awaiter(this,arguments,void 0,(function*(e,{verbose:t}){const i=new n.IndexedDbAdapter(a.dbErrorHandler,t);return yield i.initialize(e),new r.IndexedDbStorage(i)}))},t.resolveKeyValueStorage=function(){return o.__awaiter(this,void 0,void 0,(function*(){throw new Error("Not implemented")}))};const o=i(197582),n=i(381451),r=i(638608),a=i(991030)},638608:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDbStorage=void 0;const o=i(315703);t.IndexedDbStorage=class{constructor(e){this._adapter=e}close(){this._adapter.close()}findById(e,t,i){const n=o.DbSchema[e];return this._adapter.get(n,t,i)}findMultiple(e,t,i){const n=o.DbSchema[e];return this._adapter.getMany(n,t,i)}findRange(e,t,i,n){const r=o.DbSchema[e],a=IDBKeyRange.bound(t,i,null==n?void 0:n.lowRangeExclusive,null==n?void 0:n.highRangeExclusive);return this._adapter.getMany(r,a,n)}createOrUpdate(e,t){const i=o.DbSchema[e];return this._adapter.put(i,t)}remove(e,t){const i=o.DbSchema[e];return this._adapter.remove(i,t)}count(e,t,i,n){const r=o.DbSchema[e];let a;return t&&i&&(a=IDBKeyRange.bound(t,i,null==n?void 0:n.lowRangeExclusive,null==n?void 0:n.highRangeExclusive)),this._adapter.count(r,a)}fullTextSearch(e,t,i){const n=o.DbSchema[e];if(!i.index)throw new Error("Error in fullTextSearch: Please specify the index");return this._adapter.fullTextSearch(n,i.index,t,i.resolution,i.limit)}clear(e){const t=o.DbSchema[e];return this._adapter.clear(t)}}},82485:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterStartupable=t.StorageKeys=t.LocalStorage=t.Instrumentation=void 0;const o=i(197582).__importStar(i(85385));t.Instrumentation=o;var n=i(444314);Object.defineProperty(t,"LocalStorage",{enumerable:!0,get:function(){return n.LocalStorage}}),Object.defineProperty(t,"StorageKeys",{enumerable:!0,get:function(){return n.StorageKeys}});var r=i(446574);Object.defineProperty(t,"RegisterStartupable",{enumerable:!0,get:function(){return r.RegisterStartupable}})},303559:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StorageKeys=t.storage=t.LocalStorage=void 0,t.constructStorageKey=function(e){return e};const o=i(397913),n=i(397691),r=i(167606),a=i(460854);Object.defineProperty(t,"StorageKeys",{enumerable:!0,get:function(){return a.StorageKeys}});const s=i(85385);class l{constructor(){this._storage=new o.MMKV,(0,s.log)(r.LogTraceArea.GenericUnsafe,"LocalStorage","LocalStorage initialized")}getItemSync(e){return this._storage.getString(e)}setItemSync(e,t){this._storage.set(e,t)}removeItemSync(e){this._storage.delete(e)}clearSync(){this._storage.clearAll()}getItem(e){const t=this._storage.getString(e);return(0,n.Resolved)(t)}setItem(e,t){return(0,n.Resolved)(this._storage.set(e,t))}removeItem(e){return(0,n.Resolved)(this._storage.delete(e))}clear(){return(0,n.Resolved)(this._storage.clearAll())}}t.LocalStorage=l;const c=new l;t.storage=c},444314:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StorageKeys=t.constructStorageKey=t.LocalStorage=void 0;var o=i(303559);Object.defineProperty(t,"LocalStorage",{enumerable:!0,get:function(){return o.storage}}),Object.defineProperty(t,"constructStorageKey",{enumerable:!0,get:function(){return o.constructStorageKey}});var n=i(460854);Object.defineProperty(t,"StorageKeys",{enumerable:!0,get:function(){return n.StorageKeys}})},460854:(e,t)=>{var i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.StorageKeys=t.IndexedDBKeys=void 0,function(e){e.DbName="skypexDb",e.StoreName="skypexStore"}(i||(t.IndexedDBKeys=i={})),function(e){e.AppUpdateStatus="AppUpdateStatus",e.CampaignReferrer="CampaignReferrer",e.EcsDefaultConfig="ecsDefaultConfig",e.FirstTimeSignIn="FirstTimeSignIn",e.ForgottenAccounts="ForgottenAccounts",e.GuestLogoutInformation="GuestLogoutInformation",e.GuestSessionInformation="GuestSessionInformation",e.IsDarkThemeActiveKey="IsDarkThemeActive",e.LastAppActiveTimeKeyId="skypexLastAppActiveTimeKeyId",e.LocalStorageDbNukeValueKey="dbNukeNames",e.LocalStorageQuickSignOnDisplayNameKey="qsoDisplayName",e.LocalStorageQuickSignOnErrorKey="qsoError",e.LocalStorageQuickSignOnSkypeIdKey="qsoSkypeId",e.LocalStorageQuickSignOnUserCidKey="qsoUserCid",e.LoginMethod="LoginMethod",e.LogoutToken="LogoutToken",e.RXStorageMigrationCompleted="RXStorageMigrationCompleted",e.MsaPartition="MsaPartition",e.QsoAccountHasCookies="QsoAccountHasCookies",e.RecentAssetTimestampKeyId="skypexRecentAssetTimestampKeyId",e.RefreshTokenExpiration="RefreshTokenExpiration",e.SigninName="SigninName",e.SignInReminderLastShownTimeKey="SignInReminderLastShownTime",e.SignOutReminderLastShownTimeKey="SignOutReminderLastShownTime",e.OneAuthAccountId="OneAuthAccountId",e.QsoAccountAvatarUrls="QsoAccountAvatarUrls",e.SwitchAccountInfo="SwitchAccountInfo",e.SkypeId="skypexSkypeId",e.WamAccountId="WamAccountId",e.StartupUrl="StartupUrl",e.TokenRefreshBackgroundTaskTimeTriggerInfo="TokenRefreshBackgroundTaskTimeTriggerInfo",e.TokenRefreshExpirationThresholdInDays="TokenRefreshExpirationThresholdInDays",e.UpgradeAlertLastDisplayDateKey="UpgradeAlertLastDisplayDate",e.UserActivityClientVersion="skypexUserActivityClientVersion",e.UserActivityElapsedTime="skypexUserActivityElapsedTime",e.UserActivityWhatsNewRedDotClicked="skypexUserActivityWhatsNewRedDotClicked",e.UserActivityWhatsNewShowedTimes="skypexUserActivityWhatsNewShowedTimes",e.UserActivityWhatsNewTooltipDiscarded="skypexUserActivityWhatsNewTooltipDiscarded",e.VerboseDB="VerboseDBFlag",e.FreBuildVersion="FreBuildVersion",e.LocalStorageUserCorrelationIdKey="userCorrelationId",e.MyBotTooltipFlag="MyBotToolToolFlag",e.ServiceWorkerParameter="ServiceWorkerParameter",e.AttributionInfo="AttributionInfo",e.StartSourceInfo="StartSourceInfo",e.UserExplicitLogout="UserExplicitLogout",e.AccountId="AccountId",e.LastAutoSignInTime="LastAutoSignInTime",e.EnableWAMAutoSignInOldUserTime="EnableWAMAutoSignInOldUserTime",e.ContentChannelsUpsellCardContentNextCycle="ContentChannelsUpsellCardContentNextCycle",e.ContentChannelsBannerDismiss="ContentChannelsBannerDismiss",e.MSNMarketLastFetchTimestamp="MSNMarketLastFetchTimestamp",e.MSNSuggestedMarket="MSNSuggestedMarket",e.MSNSupportedMarkets="MSNSupportedMarkets",e.MSNSupportedMarketsFetchTimestamp="MSNMarketLastFetchTimestamp",e.PhoneAuthLinkedMsaAccountId="PhoneAuthLinkedMsaAccountId",e.PhoneAuthLinkedMsaAlias="PhoneAuthLinkedMsaAlias",e.PeregrineMUID="PeregrineMUID",e.PeregrineMUIDExpirationTime="PeregrineMUIDExpirationTime",e.BingMUID="BingMUID",e.ChinaPrivacyPopupShown="ChinaPrivacyPopupShown",e.PnhEncryptionKeyGenerationTime="PnhEncryptionKeyGenerationTime"}(o||(t.StorageKeys=o={}))},392506:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const o=i(197582);o.__exportStar(i(326741),t);var n=i(326741);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.__importDefault(n).default}})},326741:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582).__importStar(i(85385)),n=i(667748);t.default=new class{constructor(){this._serviceWorkerInited=!1}shouldRegisterServiceWorker(e){e?this._tryInitServiceWorker():this._tryUnregisterServiceWorer()}_onServiceWorkerMessage(e){"error"===e.data.type&&o.track(new n.ServiceWorkerErrorCaughtEvent(e.data.error))}_tryInitServiceWorker(){this._serviceWorkerInited||("serviceWorker"in navigator&&(navigator.serviceWorker.register(`${window.location.origin}/sw.js`,{scope:`${window.location.origin}/`}).then((e=>{o.track(new n.ServiceWorkerStateChangedEvent("RegistrationSucceeded"))}),(e=>{o.track(new n.ServiceWorkerStateChangedEvent("RegistrationFailed"))})),navigator.serviceWorker.ready.then((e=>{navigator.serviceWorker.addEventListener("message",this._onServiceWorkerMessage),o.track(new n.ServiceWorkerStateChangedEvent("RegistrationReady"))}))),this._serviceWorkerInited=!0)}_tryUnregisterServiceWorer(){"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.getRegistrations().then((e=>{e.forEach((e=>{e.unregister().then((e=>{e?(navigator.serviceWorker.removeEventListener("message",this._onServiceWorkerMessage),o.track(new n.ServiceWorkerStateChangedEvent("UnregistrationSucceeded"))):o.track(new n.ServiceWorkerStateChangedEvent("UnregistrationFaild"))}))}))}))}}},331403:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(397691)),r=o.__importDefault(i(760989)),a=i(444314),s=o.__importStar(i(85385)),l=i(815146),c=o.__importDefault(i(655192));t.default=class{static getCorrelationId(){return a.LocalStorage.getItem(a.StorageKeys.LocalStorageUserCorrelationIdKey).then((e=>(e||(e=r.default.newGuid(),a.LocalStorage.setItem(a.StorageKeys.LocalStorageUserCorrelationIdKey,e)),n.Resolved(e))),(e=>(s.error(l.LogTraceArea.Startup,"DB error fetching userCorrelationId: "+c.default.errorAsString(e)),n.Rejected(e))))}}},747896:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResubCallbackErrorEvent=void 0;const o=i(197582),n=i(174958),r=o.__importDefault(i(655192)),a=i(240297);class s extends a.TelemetryEventBase{constructor(e){super(),this._diagnostic=e}getEventName(){return"diagnostic"}getAttributes(){const e=super.getAttributes();return e.Diagnostic=this._diagnostic,e}}t.ResubCallbackErrorEvent=class extends s{constructor(e,t,i){super("resub_callback_error"),this._error=r.default.errorAsString(e,!1),this._callback=t,this._arguments=i.map(n.pii.Omit).toString()}getAttributes(){const e=super.getAttributes();return e.Error=this._error,e.Callback=this._callback,e.Arguments=this._arguments,e}}},812726:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NativeTelemetryEvent=void 0;const o=i(240297);class n extends o.TelemetryEventBase{constructor(e){super(),this._event=e}getEventName(){return this._event.name}getAttributes(){const e=super.getAttributes();for(const t in this._event.actions)if(this._event.actions.hasOwnProperty(t)){const i=this._event.actions[t];e[t]=i}return e}}t.NativeTelemetryEvent=n},240297:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryEventBase=t.TelemetryEventLoggedOutPolicy=t.TelemetryTraceMode=t.AttributesToOmitPii=t.EnablePiiAssertionInMaster=t.ReportedNetworkType=t.ExperimentMappings=t.TelemetryFilteringEnabled=t.ShouldSendOptionalData=t.SampledPerfEvents=t.SampledEvents=t.TelemetryIsAnonymous=t.TelemetryConfigExpiration=t.TelemetryETag=t.TelemetryConfig=void 0,t.setTelemetryConfig=function(e){t.TelemetryConfig=e},t.setTelemetryETag=function(e){t.TelemetryETag=e},t.setTelemetryConfigExpiration=function(e){t.TelemetryConfigExpiration=e},t.setTelemetryIsAnonymous=function(e){t.TelemetryIsAnonymous=e},t.setSampledEvents=function(e){t.SampledEvents=e},t.setSampledPerfEvents=function(e){t.SampledPerfEvents=e},t.setShouldSendOptionalData=function(e){t.ShouldSendOptionalData=e},t.setTelemetryFilteringEnabled=function(e){t.TelemetryFilteringEnabled=e},t.setExperimentMappings=function(e){t.ExperimentMappings=e},t.setReportedNetworkType=function(e){t.ReportedNetworkType=e},t.setEnablePiiAssertionInMaster=function(e){t.EnablePiiAssertionInMaster=e},t.setAttributesToOmitPii=function(e){t.AttributesToOmitPii=e};const o=i(197582),n=o.__importStar(i(636076)),r=o.__importStar(i(496486)),a=i(815063),s=o.__importStar(i(516778)),l=o.__importStar(i(363091)),c=o.__importDefault(i(139221)),d=o.__importDefault(i(760989));var u,p;t.TelemetryConfig={},t.TelemetryETag="",t.TelemetryConfigExpiration=0,t.TelemetryIsAnonymous=!1,t.SampledEvents={},t.SampledPerfEvents={},t.ShouldSendOptionalData=!1,t.TelemetryFilteringEnabled=!1,t.ReportedNetworkType=s.Types.DeviceNetworkType.Unknown,t.EnablePiiAssertionInMaster=!1,t.AttributesToOmitPii={},function(e){e[e.None=0]="None",e[e.EventName=1]="EventName",e[e.Full=2]="Full"}(u||(t.TelemetryTraceMode=u={})),function(e){e[e.SendNow=0]="SendNow",e[e.WaitForUserId=1]="WaitForUserId"}(p||(t.TelemetryEventLoggedOutPolicy=p={}));t.TelemetryEventBase=class{constructor(e){this._experimentConfigIds=e,this._eventCreationTime=Date.now(),this._activationState=s.App.getActivationState()}getAriaTenantTokenOverride(){}shouldSend(){const e=t.SampledEvents[this.getEventName()];return!r.isNumber(e)||d.default.sampleForPercentage(e)}getCorrelationAttributes(){return{}}getAttributes(){return this._getBaseAttributes()}_getBaseAttributes(){const e=s.Types.DeviceNetworkType[t.ReportedNetworkType];let i;void 0!==t.ExperimentMappings&&(i=t.ExperimentMappings.getExperimentIdsForEventName(this.getEventName().toLowerCase()));const o=l.default.getUserAccountTypeNoSubscription(),n={Skype_InitiatingUser_IsGuest:l.default.isGuestUser(),Skype_InitiatingUser_Username:t.TelemetryIsAnonymous?"":l.default.getSkypeId(),ShellType:c.default.getAppShellTypeName(),PlatformType:a.PlatformType[c.default.getPlatformType()],Version:c.default.getAppVersion(),Platform_Uiversion:c.default.getUIVersionWithPartnerID(),Platform_Id:c.default.getSkypePlatformId(),"DeviceInfo.Make":c.default.getSystemManufacturer()||"","DeviceInfo.Model":c.default.getSystemModel(),ecs_etag:t.TelemetryETag,NetworkType:e,session_id:c.default.getSessionId(),"AppInfo.ExperimentIds":i||"",ActivationState:s.Types.AppActivationState[this._activationState],UserType:l.UserAccountType[o],ChatEndpointId:c.default.getChatEndpointId()||""};this._experimentConfigIds&&(n.ExperimentConfigIds=this._experimentConfigIds),void 0!==t.TelemetryConfigExpiration&&(n.ecs_expiration=t.TelemetryConfigExpiration),this.shouldExcludeUserIdentificationInfo()&&(n.Skype_InitiatingUser_Username=""),t.TelemetryFilteringEnabled&&t.ShouldSendOptionalData&&(n.Telemetry_Consent=!0),c.default.isCorporateInstallation()&&(n.CorpInstallTag=c.default.getCorporateInstallationTag());const r=l.default.getPhoneAuthUserAccountIdHex();return r&&(n.PhoneAuthUserId=r),o===l.UserAccountType.PhoneAuth&&(n.Skype_InitiatingUser_IsGuest=!0),n}shouldExcludeUserIdentificationInfo(){return!1}shouldExcludeDeviceIdentificationInfo(){return!1}getPiiAttributes(){return{}}getEventPriority(){return n.AWTEventPriority.Normal}getEventTraceMode(){return u.None}getLoggedOutSendingPolicy(){return p.WaitForUserId}}},664013:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryFilteringService=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(85385)),a=o.__importDefault(i(500127)),s=o.__importStar(i(240297));class l{constructor(){this._initialized=!1}initialize(){this._initialized||(this._initTelemetryMetadata(),this._initialized=!0)}filterOptionalTelemetry(e){var t;if(s.ShouldSendOptionalData)return e;const i=this._telemetryMetadata.get(e.getEventName().toLowerCase());if(!i)return r.debug((()=>`[TelemetryFilteringService] Filtered out event '${e.getEventName()}' because it does not have metadata`)),null;const o=n.clone(e),a=o.getAttributes();let l;if(i.variation){const e=a[i.variation.key];e&&(l=i.variation.variants.get(String(e)))}if(!(l?l.required:i.required))return r.debug((()=>{let e=`[TelemetryFilteringService] Filtered out event '${o.getEventName()}' because it is not required;`;if(i.variation){e+=` variant=${a[i.variation.key]}`}return e})),null;const c=this._createOptionalAttributeFilter(i,l,null===(t=i.variation)||void 0===t?void 0:t.variants),d=c(a),u=c(o.getPiiAttributes()),p=c(o.getCorrelationAttributes());return o.getAttributes=()=>d,o.getPiiAttributes=()=>u,o.getCorrelationAttributes=()=>p,o}_createOptionalAttributeFilter(e,t,i){return o=>(Object.keys(o).forEach((n=>{t&&i&&this._isAttributeRequired(n,t,i,!0)||this._isAttributeRequired(n,e,this._telemetryMetadata,!1)||delete o[n]})),o)}_isAttributeRequired(e,t,i,o){if(null==t?void 0:t.requiredFields.has(e))return!0;if(null==t?void 0:t.optionalFields.has(e))return!1;const n=!!(null==t?void 0:t.extends)&&i.get(o?t.extends:t.extends.toLowerCase());return!!n&&this._isAttributeRequired(e,n,i,o)}_initTelemetryMetadata(e=a.default){this._telemetryMetadata=new Map,e.forEach((e=>{var t,i,o;const n={requiredFields:new Set(null!==(t=e.fields)&&void 0!==t?t:[]),optionalFields:new Set(null!==(i=e.optionalFields)&&void 0!==i?i:[]),required:e.required,extends:e.extends};if(e.variation){n.variation={key:e.variation.key,variants:new Map};(null!==(o=e.variation.variants)&&void 0!==o?o:[]).forEach((e=>{var t,i,o;const r={requiredFields:new Set(null!==(t=e.fields)&&void 0!==t?t:[]),optionalFields:new Set(null!==(i=e.optionalFields)&&void 0!==i?i:[]),extends:e.extends,required:e.required};null===(o=n.variation)||void 0===o||o.variants.set(e.name,r)}))}this._telemetryMetadata.set(e.name.toLowerCase(),n)}))}}t.TelemetryFilteringService=l,t.default=new l},710505:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.assertPiiScrubbed=function(e){0},t.scrubPiiFromAttributes=function(e){if(0===Object.keys(l.AttributesToOmitPii).length)return e;const t=e.getEventName().toLowerCase(),i=l.AttributesToOmitPii[t];if(!i)return e;s.log(a.LogTraceArea.GenericUnsafe,`[TelemetryPiiHelper][scrubPiiFromAttributes] Processing ${t}`);const o=(0,n.clone)(e),r=c(t,i,o.getAttributes()),d=c(t,i,o.getCorrelationAttributes());return o.getAttributes=()=>r,o.getCorrelationAttributes=()=>d,o};const o=i(197582),n=i(496486),r=i(174958),a=i(167606),s=o.__importStar(i(85385)),l=i(240297);new Set(["Skype_InitiatingUser_Username"]);const c=(e,t,i)=>Object.keys(i).reduce(((o,n)=>{if(t.includes(n)&&"string"==typeof i[n]&&i[n]){const t=r.pii.Omit(i[n]);s.log(a.LogTraceArea.GenericUnsafe,"[TelemetryPiiHelper][omitPii]",`PII scrubbed for event=${e}, attribute=${n}, value=${t}`),o[n]=t}else o[n]=i[n];return o}),{})},922119:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(898743)),a=o.__importStar(i(397691)),s=o.__importDefault(i(912970)),l=i(812726),c=o.__importStar(i(240297)),d=o.__importDefault(i(664013)),u=i(710505);t.default=new class{constructor(){this._initialized=!1,this._initializeDeferral=a.Defer(),this._preStartupEventQueue=[],this._userIdPopulatedDefer=a.Defer()}isInitialized(){return this._initialized}initialize(e,t){this._sinks=e,a.all(n.map(this._sinks,(e=>e.initializeAndPause(t)))).always((()=>{if(this._initialized=!0,this._initializeDeferral.resolve(void 0),c.TelemetryConfig){const e=this._preStartupEventQueue;this._preStartupEventQueue=[],n.each(e,(e=>this.addEvent(e)))}})),r.default.onTelemetryEvent((e=>{this.addEvent(new l.NativeTelemetryEvent(e))}))}startUsingUserId(){if(this.isInitialized()){if(n.each(this._sinks,(e=>e.startUsingUserId())),this._userIdPopulatedDefer){const e=this._userIdPopulatedDefer;this._userIdPopulatedDefer=void 0,e.resolve(void 0)}}else this._initializeDeferral.promise().then((()=>{this.startUsingUserId()}))}waitUntilUserIdPopulated(){return this._userIdPopulatedDefer?this._userIdPopulatedDefer.promise():a.Resolved()}performWhenServiceInitialized(){return this.isInitialized()?a.Resolved():this._initializeDeferral.promise()}flush(){return this.isInitialized()?a.all(n.map(this._sinks,(e=>e.flush()))).then(n.noop):this._initializeDeferral.promise().then((()=>this.flush()))}pause(){this.isInitialized()?n.each(this._sinks,(e=>e.pause())):this._initializeDeferral.promise().then((()=>{this.pause()}))}resume(){this.isInitialized()?n.each(this._sinks,(e=>e.resume())):this._initializeDeferral.promise().then((()=>{this.resume()}))}setTelemetryConfig(e,t,i,o,r,a,l){if(c.setTelemetryConfig(e),c.setTelemetryETag(t),c.setTelemetryConfigExpiration(e.sendEcsExpirationTime?i:void 0),c.setTelemetryIsAnonymous(o),c.setSampledEvents(r),c.setSampledPerfEvents(a),c.setExperimentMappings(new s.default(l)),this.isInitialized()){const e=this._preStartupEventQueue;this._preStartupEventQueue=[],n.each(e,(e=>this.addEvent(e)))}}addEvent(e){if(!c.TelemetryConfig||!this.isInitialized())return void this._preStartupEventQueue.push(e);const t=e.shouldSend(),i=(0,u.scrubPiiFromAttributes)(e);(0,u.assertPiiScrubbed)(i);const o=d.default.filterOptionalTelemetry(i);n.each(this._sinks,((e,n)=>{if(e.supportsEventSampling()&&!t)return;const r=e.supportsTelemetryFiltering()?o:i;r&&e.respondsTo(r)&&e.consumeEvent(r)}))}test_getInitializeDeferral(){return this._initializeDeferral}test_reset(){this._sinks=[],this._preStartupEventQueue=[],this._initialized=!1,this._initializeDeferral=a.Defer()}test_preStartupEventQueue(){return this._preStartupEventQueue}}},950715:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(397691)),r=o.__importDefault(i(660335));o.__importDefault(i(389659)),o.__importDefault(i(601274));t.default=class{constructor(){this._combinedEventDescription="",this._updateAppCenterTimerActive=!1,this._eventDate=Date.now()}initializeAndPause(e){return n.Resolved()}startUsingUserId(){return n.Resolved()}respondsTo(e){return!0}supportsEventSampling(){return!1}supportsTelemetryFiltering(){return!0}consumeEvent(e){this._addAppCenterMetaData(e)}flush(){return this._writeToAppCenterMetadata(),n.Resolved()}pause(){}resume(){}_addAppCenterMetaData(e){0}_writeToAppCenterMetadata(){""!==this._combinedEventDescription&&(r.default.addCrashMetaData({applicationTrace:this._combinedEventDescription}),this._combinedEventDescription=""),this._updateAppCenterTimerActive=!1}}},712284:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(791262)),r=i(636076),a=o.__importStar(i(496486)),s=o.__importStar(i(167606)),l=o.__importStar(i(516778)),c=o.__importStar(i(397691)),d=o.__importDefault(i(659938)),u=o.__importDefault(i(150343)),p=o.__importDefault(i(91859)),g=o.__importDefault(i(434343)),h=o.__importStar(i(631607)),m=i(120695),S=o.__importStar(i(704704)),_=o.__importDefault(i(363091)),f=o.__importDefault(i(655192)),y=o.__importDefault(i(139221)),C=i(240297),v=o.__importStar(i(442699)),b=o.__importDefault(i(803123)),T=o.__importDefault(i(601274)),P=o.__importDefault(i(760989)),k="UserInfo.Id",A="MSACID",I="MSACIDHEX";t.default=class{constructor(){this._ariaLoggers={},this._ready=!1,this._pendingEvents=[],this._wasInitializedAnonymously=!1,this._isAnonymous=void 0,this._anonymousEventQueue=[],this._dbPutEventQueue=[],this._deviceIdContext={},this._userIdContext={},this._sendPost=(e,t,i,o,n,r)=>{this._ariaRestClient.sendTelemetryEvents(e,t,i,o,n)},this.consumeEvent=e=>{if(!this._ready)return void this._pendingEvents.push(e);if(this._isAnonymous&&e.getLoggedOutSendingPolicy()===C.TelemetryEventLoggedOutPolicy.WaitForUserId)return void this._pendingEvents.push(e);const t=this._ariaEventPropertiesForEvent(e);t&&this._logAriaEvent(t,e.getAriaTenantTokenOverride())},this._delayedDbPut=e=>{if(b.default.handleEvents(e),this._wasInitializedAnonymously){e=a.clone(e);const t=a.remove(e,(e=>this._isAnonymousEvent(e)));this._anonymousEventQueue.push(...t)}if(0===e.length)return c.Resolved();let t=!1;!t&&a.some(e,(e=>"awt_stats"!==e.name&&e.priority===r.AWTEventPriority.High))&&(t=!0),this._dbPutEventQueue.push(...e),this._dbPutDeferral||(this._dbPutDeferral=c.Defer(),t||T.default.setTimeout((()=>{this._writeToDb()}),500));const i=this._dbPutDeferral;return t&&this._writeToDb(),i.promise()},this._getTelemetryEvents=()=>{if(!g.default.isInitialized())return c.Resolved(this._anonymousEventQueue);const e=u.default.getS4LTelemetryFeaturesNoSubscription().ariaMaxEvents;return g.default.countTelemetryEvents().then((t=>{const i=t-(e||t);return g.default.getTelemetryEvents(e||void 0,i>0?i:void 0).then((e=>{s.log(s.LogTraceArea.GenericUnsafe,`Fetched ${e.length} events from DB`);const i=u.default.getS4LTelemetryFeaturesNoSubscription().ariaEventsReportIfGreater;if(i&&e.length>=i){const i=a.first(e);s.log(s.LogTraceArea.GenericUnsafe,`There's ${t} events in the DB!`),this.consumeEvent(new m.AriaGetEventsLimitReached(t,i?i.timestamp:0))}const o=[];return o.push(...this._anonymousEventQueue),o.push(...e),o}))}))},this._removeFromDb=e=>{const t=[];return a.each(e,(e=>{const i=a.remove(this._anonymousEventQueue,(t=>t.id===e.id));0===a.remove(this._dbPutEventQueue,(t=>t.id===e.id)).length&&0===i.length&&t.push(e.id)})),0===t.length?c.Resolved():g.default.isInitialized()?g.default.deleteTelemetryEvents(t):c.Resolved()},this._ariaRestClient=new p.default}initializeAndPause(e){const t=y.default.getAriaTenantToken(),i={httpXHROverride:{sendPOST:this._sendPost},canSendStatEvent:this._canSendStatEvent,clockSkewRefreshDurationInMins:u.default.getS4LTelemetryFeatures().clockSkewRefreshDurationInMins};r.AWTLogManager.initialize(t,i),r.AWTLogManager.setTransmitProfile(r.AWT_BEST_EFFORT),r.AWTLogManager.pauseTransmission();const o={getEvents:this._getTelemetryEvents,putEvents:this._delayedDbPut,deleteEvents:this._removeFromDb};n.AWTCustomStorage.initialize(o);const a=r.AWTLogManager.getLogger(t);return this._ariaLoggers[t]=a,this._defaultAriaLogger=a,S.localeChangedEvent.subscribe((e=>{r.AWTLogManager.getSemanticContext().setAppLanguage(e)})),d.default.subscribeForChanges("AriaSink",(e=>{e===l.Types.AppActivationState.Background&&this._writeToDb()})),this._wasInitializedAnonymously=e,this._setAnonymousMode(e)}_canSendStatEvent(e){const t=C.SampledEvents[e];return!a.isNumber(t)||P.default.sampleForPercentage(t)}startUsingUserId(){return this._setAnonymousMode(!1)}respondsTo(e){return!0}supportsEventSampling(){return!0}supportsTelemetryFiltering(){return!0}_logAriaEvent(e,t){if(t){let i=this._ariaLoggers[t];i||(i=r.AWTLogManager.getLogger(t),this._ariaLoggers[t]=i),i.logEvent(e)}else this._defaultAriaLogger.logEvent(e)}_ariaEventPropertiesForEvent(e){let t=!1;const i=new r.AWTEventProperties,o=e.getEventName();let n=e.getEventPriority();if(i.setName(o),i.setEventPriority(n),t=t||this._addTelemetryAttributes(i,e.getAttributes()),t=t||this._addTelemetryAttributes(i,e.getCorrelationAttributes()),t=t||this._addTelemetryPiiAttributes(i,e.getPiiAttributes()),e.shouldExcludeDeviceIdentificationInfo()||(t=t||this._addTelemetryPiiAttributes(i,this._deviceIdContext)),e.shouldExcludeUserIdentificationInfo()||(t=t||this._addTelemetryPiiAttributes(i,this._userIdContext)),!t)return i;this.consumeEvent(new v.DevDebug("BrokenTelemetry","Event Name: "+e.getEventName()+", Data: "+JSON.stringify(e)))}flush(){const e=c.Defer();return r.AWTLogManager.flush((()=>e.resolve(void 0))),e.promise()}pause(){r.AWTLogManager.pauseTransmission()}resume(){r.AWTLogManager.resumeTransmision()}_addTelemetryAttributes(e,t){let i=!1;return a.each(t,((t,o)=>{const n=this._convertTelemetryValueToString(t);h.isSerializable(n)||(i=!0),e.setProperty(o,n)})),i}_addTelemetryPiiAttributes(e,t){let i=!1;return a.each(t,((t,o)=>{const n=this._convertTelemetryValueToString(t.value);h.isSerializable({value:n,piiKind:t.piiKind})||(i=!0),e.setPropertyWithPii(o,n,t.piiKind)})),i}_convertTelemetryValueToString(e){return!0===e?"Y":!1===e?"N":a.isNumber(e)?e.toString():e}_isAnonymousEvent(e){const t=e.properties[k];return!t||(a.isNumber(t)||a.isBoolean(t)||a.isString(t)?!t:!t.value)}_writeToDb(){if(!this._dbPutDeferral)return;if(!g.default.isInitialized())return;const e=this._dbPutDeferral,t=this._dbPutEventQueue;this._dbPutDeferral=void 0,0!==this._dbPutEventQueue.length?(this._dbPutEventQueue=[],g.default.putTelemetryEvents(t).then((()=>{e.resolve(void 0)}),(()=>{e.reject()}))):e.resolve(void 0)}_setContextData(e){const t=r.AWTLogManager.getSemanticContext(),i=_.default.isGuestUser();t.setAppVersion(y.default.getAppVersion()),t.setAppLanguage(S.getLocale()),t.setUserLanguage(y.default.getSystemLocale()),t.setDeviceOsName(y.default.getPlatformTypeName()),t.setDeviceOsVersion(y.default.getOSVersion()),this._deviceIdContext["DeviceInfo.Id"]={value:y.default.getDeviceId(),piiKind:r.AWTPiiKind.NotSet};const o=y.default.getBrowserName();o&&(this._deviceIdContext["DeviceInfo.BrowserName"]={value:o,piiKind:r.AWTPiiKind.NotSet});const n=y.default.getBrowserVersion();return n&&(this._deviceIdContext["DeviceInfo.BrowserVersion"]={value:n,piiKind:r.AWTPiiKind.NotSet}),this._userIdContext[k]={value:this._resolveUserId(e),piiKind:i?r.AWTPiiKind.NotSet:r.AWTPiiKind.Identity},e||i?(this._userIdContext[A]={value:"",piiKind:r.AWTPiiKind.NotSet},this._userIdContext[I]={value:"",piiKind:r.AWTPiiKind.NotSet},c.Resolved()):c.all([_.default.getUserCidAsync().then((e=>(this._userIdContext[A]={value:e,piiKind:r.AWTPiiKind.NotSet},e))),_.default.getUserCidHexAsync().then((e=>(this._userIdContext[I]={value:f.default.toUpper(e),piiKind:r.AWTPiiKind.NotSet},e)))]).then((([e,t])=>this._maybeResolveCidForPhoneAuthUser(e,t)))}_setAnonymousMode(e){return this._setContextPromise?this._setContextPromise.then((()=>{this._setAnonymousMode(e)})):e===this._isAnonymous?c.Resolved():(this._isAnonymous=e,this._ready=!1,this._setContextPromise=this._setContextData(this._isAnonymous).thenAsync((()=>{this._ready=!0,this._setContextPromise=void 0;const e=this._pendingEvents;this._pendingEvents=[],a.each(e,this.consumeEvent)})),this._setContextPromise)}_resolveUserId(e){let t="";if(!e){const e=_.default.getPhoneAuthUserAccountIdHex();t=_.default.isPhoneAuthUser()&&e?e:_.default.getSkypeId()}return t}_maybeResolveCidForPhoneAuthUser(e,t){_.default.isPhoneAuthUser()&&(e&&t||_.default.getPhoneAuthUserTelemetryCidPayloadAsync().then((e=>{if(e){const t=e.cid,i=e.cidHex;this._userIdContext[A]={value:t,piiKind:r.AWTPiiKind.NotSet},this._userIdContext[I]={value:f.default.toUpper(i),piiKind:r.AWTPiiKind.NotSet}}})))}}},500870:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(397691)),r=o.__importDefault(i(150343)),a=o.__importDefault(i(267641));t.default=class{constructor(){this._enabled=!1,this._appConfigStoreSubscribeCallback=()=>{this._enabled=r.default.getEngagementFeatures().clientTriggeredEngagement.enabled}}initializeAndPause(e){return r.default.subscribe(this._appConfigStoreSubscribeCallback),this._appConfigStoreSubscribeCallback(),n.Resolved(void 0)}respondsTo(e){if(!this._enabled)return!1;const t=e.getEventName();return a.default.isSubscribedToEventName(t)}supportsEventSampling(){return!1}supportsTelemetryFiltering(){return!1}consumeEvent(e){this._enabled&&a.default.processEvent({eventName:e.getEventName(),attributes:e.getAttributes()})}startUsingUserId(){return n.Resolved(void 0)}flush(){return n.Resolved(void 0)}pause(){}resume(){}}},112900:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.test_overrideEventTraceMode=function(e){const t=e?l.TelemetryTraceMode.Full:l.TelemetryTraceMode.None;c=t};const o=i(197582),n=i(174958),r=i(167606),a=o.__importStar(i(397691)),s=o.__importStar(i(85385)),l=i(240297);let c;t.default=class{initializeAndPause(e){return s.log(r.LogTraceArea.ConsoleSink,"initialized and paused"),a.Resolved()}startUsingUserId(){return s.log(r.LogTraceArea.ConsoleSink,"start using user id"),a.Resolved()}respondsTo(e){return!0}supportsEventSampling(){return!1}supportsTelemetryFiltering(){return!1}consumeEvent(e){let t="";switch(c||e.getEventTraceMode()){case l.TelemetryTraceMode.None:break;case l.TelemetryTraceMode.EventName:t="consuming event "+e.getEventName();break;case l.TelemetryTraceMode.Full:t="consuming event "+e.getEventName()+"\nattributes "+n.pii.Omit(JSON.stringify(e.getAttributes()))+"\npiiAttributes "+n.pii.Omit(JSON.stringify(e.getPiiAttributes()))+"\ncorrelationAttributes "+n.pii.Omit(JSON.stringify(e.getCorrelationAttributes()));break;default:t="error: unsupported trace mode "+l.TelemetryTraceMode[e.getEventTraceMode()]}0!==t.length&&s.log(r.LogTraceArea.ConsoleSink,t)}flush(){return s.log(r.LogTraceArea.ConsoleSink,"flush"),a.Resolved()}pause(){s.log(r.LogTraceArea.ConsoleSink,"paused")}resume(){s.log(r.LogTraceArea.ConsoleSink,"resumed")}}},79879:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(397691)),r=o.__importDefault(i(776890));t.default=class{constructor(){this.consumeEvent=e=>{this._nestSinkDeletgate.consumeEvent(e)},this._nestSinkDeletgate=new r.default}initializeAndPause(e){return this._nestSinkDeletgate.initializeAndPause(e),n.Resolved()}startUsingUserId(){return this._nestSinkDeletgate.startUsingUserId(),n.Resolved()}respondsTo(e){return this._nestSinkDeletgate.respondsTo(e)}supportsEventSampling(){return this._nestSinkDeletgate.supportsEventSampling()}supportsTelemetryFiltering(){return this._nestSinkDeletgate.supportsTelemetryFiltering()}flush(){return this._nestSinkDeletgate.flush()}pause(){return this._nestSinkDeletgate.pause()}resume(){return this._nestSinkDeletgate.resume()}}},843952:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleDialogButtonAlignment=void 0,function(e){e[e.VerticalStack=0]="VerticalStack",e[e.HorizontalStack=1]="HorizontalStack"}(i||(t.SimpleDialogButtonAlignment=i={}))},22336:(e,t)=>{var i,o,n;Object.defineProperty(t,"__esModule",{value:!0}),t.AlertTypeFilter=t.HighlightsFollowAlertState=t.AlertType=t.AlertMenuItemCommand=t.AlertsConstants=void 0,t.AlertsConstants={DaysOfAlertsToDisplay:7},t.AlertMenuItemCommand={all:"all",highPriority:"highpriority",reactions:"reactions",markAllRead:"markallread",settings:"settings"},function(e){e[e.HighPriorityMessage=1]="HighPriorityMessage",e[e.Reaction=2]="Reaction",e[e.AdditionalReaction=3]="AdditionalReaction",e[e.HighlightsFollowRequest=4]="HighlightsFollowRequest",e[e.HighlightComment=5]="HighlightComment",e[e.OnboardingX=6]="OnboardingX",e[e.Engagement=7]="Engagement",e[e.CoachMarks=8]="CoachMarks",e[e.Notice=9]="Notice",e[e.HighlightsSkypeChannel=10]="HighlightsSkypeChannel",e[e.HighlightsSkypeChannelSecondary=11]="HighlightsSkypeChannelSecondary",e[e.NotificationPermission=12]="NotificationPermission",e[e.ScheduledCall=13]="ScheduledCall",e[e.MissedCallbackReminder=14]="MissedCallbackReminder",e[e.OldFriendBack=15]="OldFriendBack"}(i||(t.AlertType=i={})),function(e){e[e.Follow=1]="Follow",e[e.AcceptedByOther=2]="AcceptedByOther",e[e.Removed=3]="Removed",e[e.AcceptedByMe=4]="AcceptedByMe"}(o||(t.HighlightsFollowAlertState=o={})),function(e){e[e.All=0]="All",e[e.HighPriorityMessages=1]="HighPriorityMessages",e[e.Reactions=2]="Reactions"}(n||(t.AlertTypeFilter=n={}))},922069:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.AppRatingMetricList=t.AppRatingMetric=void 0,function(e){e[e.CALL=0]="CALL",e[e.MESSAGE_SENT=1]="MESSAGE_SENT",e[e.MESSAGE_READ=2]="MESSAGE_READ",e[e.NEW_CONTACT=3]="NEW_CONTACT",e[e.MESSAGE_TOTAL=4]="MESSAGE_TOTAL"}(i||(t.AppRatingMetric=i={}));t.AppRatingMetricList=class{constructor(){this.total=0,this.list=[]}}},584559:(e,t)=>{var i,o,n,r,a,s,l,c,d;Object.defineProperty(t,"__esModule",{value:!0}),t.BarcodeScanReason=t.MediaType=t.MediaPickerMode=t.BingEmotions=t.CaptureFirstRunLevel=t.MediaEditorFirstRunLevel=t.LensStyle=t.FlashMode=t.CameraMode=void 0,function(e){e[e.Front=1]="Front",e[e.Back=2]="Back",e[e.None=3]="None"}(i||(t.CameraMode=i={})),function(e){e[e.On=0]="On",e[e.Off=1]="Off"}(o||(t.FlashMode=o={})),function(e){e[e.None=0]="None",e[e.Sepia=1]="Sepia",e[e.Grayscale=2]="Grayscale",e[e.Red=3]="Red",e[e.Orange=4]="Orange",e[e.Yellow=5]="Yellow",e[e.Green=6]="Green",e[e.Blue=7]="Blue",e[e.Purple=8]="Purple"}(n||(t.LensStyle=n={})),function(e){e[e.None=0]="None",e[e.Conversation=1]="Conversation",e[e.Hub=2]="Hub"}(r||(t.MediaEditorFirstRunLevel=r={})),function(e){e[e.None=0]="None",e[e.CaptureOnly=1]="CaptureOnly",e[e.All=2]="All"}(a||(t.CaptureFirstRunLevel=a={})),function(e){e[e.Anger=0]="Anger",e[e.Disgust=1]="Disgust",e[e.Fear=2]="Fear",e[e.Happiness=3]="Happiness",e[e.Neutral=4]="Neutral",e[e.Sadness=5]="Sadness",e[e.Surprise=6]="Surprise"}(s||(t.BingEmotions=s={})),function(e){e[e.Default=0]="Default",e[e.Inline=1]="Inline",e[e.InlinePeekaboo=2]="InlinePeekaboo"}(l||(t.MediaPickerMode=l={})),function(e){e[e.PhotoOnly=0]="PhotoOnly",e[e.All=1]="All"}(c||(t.MediaType=c={})),function(e){e[e.JoinLink=0]="JoinLink",e[e.QrSignIn=1]="QrSignIn",e[e.Kyc=2]="Kyc"}(d||(t.BarcodeScanReason=d={}))},154235:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeNotificationToastInfo=t.CustomActionSheetBorderRadius=t.BlueGradient=t.ListItemAccessibilityTrait=t.BottomInsetDefault=t.HorizontalInsetDefaultModernize=t.HorizontalInsetDefault=t.HorizontalInsetZero=t.InsetZero=t.SXMenuNavigationDirection=t.SXMenuItemSelectableType=t.SXMenuIcon=t.ListItem=t.SXActivityIndicatorSize=t.ImageResizeModeEnum=t.SXButtonStyle=t.SXButtonIconPosition=t.SXButtonSize=t.SXModalAnimationType=t.TabBarHeight=t.OverflowItemSizes=t.NewChatMenuItemSizes=t.RowPaddingModernize=t.RowPaddingClassic=t.SideBarScreenSplits=t.SideBarWidths=t.FontWeight=t.HeaderSize=t.TextThemeColor=t.TextEditTextStyle=t.LinkTextStyle=t.BodyTextSize=t.WhiteboardViewId=t.ClipsScreenPickerViewId=t.ClipsControlsViewId=t.FloatingCameraViewId=t.CallDebugRootViewId=t.CallMonitorViewId=t.CallNotificationViewId=t.ShareFileViewId=t.SettingsWindowRootViewId=t.ScreenShareViewId=t.MainRootViewId=t.RootViewType=t.MaxContentSizeMultiplier=void 0;const o=i(197582).__importStar(i(516778)),n=i(26703),r=i(16549);var a,s,l,c,d,u,p,g,h,m,S,_,f,y,C,v,b;t.MaxContentSizeMultiplier=1.353,function(e){e[e.Unknown=0]="Unknown",e[e.MainWindow=1]="MainWindow",e[e.SplitViewContent=2]="SplitViewContent",e[e.CallMonitor=3]="CallMonitor",e[e.ShareWith=4]="ShareWith",e[e.NativeWindow=5]="NativeWindow",e[e.ScreenSharingToolbar=6]="ScreenSharingToolbar",e[e.EmbeddedModal=7]="EmbeddedModal"}(a||(t.RootViewType=a={})),t.MainRootViewId="__MAIN_ROOT_VIEW_ID__",t.ScreenShareViewId="__SCREEN_SHARE_VIEW_ID__",t.SettingsWindowRootViewId="__SETTINGS_WINDOW_ROOT_VIEW_ID__",t.ShareFileViewId="__SHARE_FILE_VIEW_ID__",t.CallNotificationViewId="__CALL_NOTIFICATION_VIEW_ID__",t.CallMonitorViewId="__CALL_MONITOR_VIEW_ID__",t.CallDebugRootViewId="__CALL_DEBUG_VIEW_ID__",t.FloatingCameraViewId="__FLOATING_CAMERA_VIEW_ID__",t.ClipsControlsViewId="__CLIPS_CONTROLS_VIEW_ID__",t.ClipsScreenPickerViewId="__CLIPS_SCREEN_PICKER_VIEW_ID__",t.WhiteboardViewId="__WHITEBOARD_VIEW_ID__",function(e){e[e.Default=0]="Default",e[e.BigDeprecated=1]="BigDeprecated",e[e.SmallDeprecated=2]="SmallDeprecated"}(s||(t.BodyTextSize=s={})),function(e){e[e.BodyText=0]="BodyText",e[e.BodyTextSmall=1]="BodyTextSmall",e[e.BodyTextBold=2]="BodyTextBold",e[e.Caption=3]="Caption"}(l||(t.LinkTextStyle=l={})),function(e){e[e.Caption=0]="Caption",e[e.BodyText=1]="BodyText",e[e.BodyTextBold=2]="BodyTextBold",e[e.MessagingHeader=3]="MessagingHeader",e[e.MessagingHeaderSmall=4]="MessagingHeaderSmall"}(c||(t.TextEditTextStyle=c={})),function(e){e[e.Default=0]="Default",e[e.Primary=1]="Primary",e[e.Secondary=2]="Secondary",e[e.Disabled=3]="Disabled",e[e.Destructive=4]="Destructive"}(d||(t.TextThemeColor=d={})),function(e){e[e.h0=0]="h0",e[e.h1=1]="h1",e[e.h2=2]="h2",e[e.h3=3]="h3",e[e.h4=4]="h4",e[e.h5=5]="h5"}(u||(t.HeaderSize=u={})),function(e){e.thin="100",e.extraLight="200",e.light="300",e.regular="400",e.medium="500",e.semiBold="600",e.bold="700",e.heavy="800",e.black="900"}(p||(t.FontWeight=p={})),t.SideBarWidths={compact:300,base:322,max:380,maxRight:425,min:290,miniCanvasRight:440},t.SideBarScreenSplits={defaultSplitScreenWidth:1300,extendedSplitScreenWidth:1500,defaultSidebarWidth:500,extendedSidebarWidth:700,minScreenWidth:1150},t.RowPaddingClassic={left:10,leftDesktop:8,leftDesktopSearch:12,right:10,rightDesktop:15,rightSearch:10,rightDesktopSearch:10,top:1,bottom:1},t.RowPaddingModernize={left:16,leftDesktop:8,leftDesktopSearch:12,right:16,rightDesktop:8,rightSearch:10,rightDesktopSearch:10,top:1,bottom:1},t.NewChatMenuItemSizes={defaultWidth:105,height:52,paddingVertical:16},t.OverflowItemSizes={minHeight:110,iconSize:60,captionLineHeight:16,verticalPadding:10,numberOfLines:3},function(e){e[e.Default=0]="Default",e[e.Android=1]="Android",e[e.Tablet=2]="Tablet",e[e.iosLandscape=3]="iosLandscape",e[e.CompactDesktop=4]="CompactDesktop"}(g||(t.TabBarHeight=g={})),function(e){e[e.Default=0]="Default",e[e.Bottom=1]="Bottom",e[e.None=2]="None"}(h||(t.SXModalAnimationType=h={})),function(e){e[e.Large=0]="Large",e[e.Medium=1]="Medium",e[e.Small=2]="Small"}(m||(t.SXButtonSize=m={})),function(e){e[e.Start=0]="Start",e[e.End=1]="End",e[e.Top=2]="Top"}(S||(t.SXButtonIconPosition=S={})),function(e){e[e.ColorFill=0]="ColorFill",e[e.ColorStroke=1]="ColorStroke",e[e.LightFill=2]="LightFill",e[e.DarkFill=3]="DarkFill",e[e.LightStroke=4]="LightStroke",e[e.DarkStroke=5]="DarkStroke",e[e.LightNoBackground=6]="LightNoBackground",e[e.DarkNoBackground=7]="DarkNoBackground",e[e.ThemeFill=8]="ThemeFill",e[e.ThemeStroke=9]="ThemeStroke",e[e.ThemeNoBackground=10]="ThemeNoBackground",e[e.GradientFill=11]="GradientFill",e[e.BlueFill=12]="BlueFill",e[e.Custom=13]="Custom",e[e.AgnosticGradientFill=14]="AgnosticGradientFill"}(_||(t.SXButtonStyle=_={})),function(e){e.auto="auto",e.cover="cover",e.contain="contain",e.repeat="repeat",e.stretch="stretch"}(f||(t.ImageResizeModeEnum=f={})),function(e){e[e.ExtraSmall=0]="ExtraSmall",e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Large=3]="Large"}(y||(t.SXActivityIndicatorSize=y={})),t.ListItem=(0,n.lazyProperties)({small:()=>({shortHeight:50,shortHeightStyle:o.Styles.createViewStyle({minHeight:50}),regularHeight:60,regularHeightStyle:o.Styles.createViewStyle({minHeight:60})})}),function(e){e.CopyLink="CopyLink",e.AddSkypeContacts="SkypeContacts",e.Outlook="Outlook",e.Gmail="Gmail",e.NewGmail="NewGmail",e.SMS="SMS",e.BlurBackground="BlurBackground",e.ScreenshareOff="ScreenshareOff",e.Screenshare="Screenshare",e.ScreenSharingRequestControl="ScreenSharingRequestControl",e.ScreenSharingStopControl="ScreenSharingStopControl",e.ViewSwitch="ViewSwitch",e.Snapshot="Snapshot",e.React="React",e.CustomReact="CustomReact",e.SkypeContacts="SkypeContacts",e.ContactGroupPair="ContactGroupPair",e.Settings="Settings",e.HoldCall="HoldCall",e.ResumeCall="ResumeCall",e.Record="Record",e.Subtitles="Subtitles",e.SubtitlesOff="SubtitlesOff",e.SubtitlesSettings="SubtitlesSettings",e.VideoEnable="VideoEnable",e.VideoOff="VideoOff",e.MicrophoneOff="MicrophoneOff",e.Facebook="Facebook",e.Mail="Mail",e.RaiseHand="RaiseHand",e.LowerHand="LowerHand",e.Skype="Skype",e.Picture="Picture",e.Bing="Bing",e.Twincam="Twincam",e.StopTwincam="StopTwincam",e.Block="Block",e.Bookmark="Bookmark",e.Calendar="Calendar",e.Checkmark="Checkmark",e.Clear="Clear",e.Copy="Copy",e.Delete="Delete",e.Dismiss="Dismiss",e.Edit="Edit",e.Favorite="Favorite",e.Forward="Forward",e.HideMark="HideMark",e.Leave="Leave",e.Open="Open",e.OpenFolder="OpenFolder",e.Profile="Profile",e.ReadMark="ReadMark",e.Reply="Reply",e.ReplySelection="ReplySelection",e.Save="Save",e.SaveTo="SaveTo",e.SelectAll="SelectAll",e.UnhideMark="UnhideMark",e.UnreadMark="UnreadMark",e.Quote="Quote",e.Warning="Warning",e.SearchSelection="Search",e.Translate="Translate",e.Pin="Pin",e.PinOff="PinOff",e.Notification="Notification",e.NotificationOff="NotificationOff",e.Unfollow="Unfollow",e.Chat="Chat",e.Channel="Channel",e.VideoChat="VideoChat",e.PeopleAdd="PeopleAdd",e.MeetNow="MeetNow",e.Link="Link",e.PeopleCommunity="PeopleCommunity",e.LockClosed="LockClosed",e.PhoneChat="PhoneChat",e.SlideSearch="SlideSearch",e.ArrowExit="ArrowExit",e.Broom="Broom",e.Eye="Eye",e.EyeOff="EyeOff",e.Glasses="Glasses",e.GlassesOff="GlassesOff",e.PersonAdd="PersonAdd",e.PersonCircle="PersonCircle",e.PersonEdit="PersonEdit",e.Prohibited="Prohibited",e.Speaker="Speaker",e.SpeakerOff="SpeakerOff",e.Star="Star",e.StarOff="StarOff",e.Sparkle="Sparkle",e.ImageMultiple="ImageMultiple",e.Designer="Designer"}(C||(t.SXMenuIcon=C={})),function(e){e[e.Checkbox=1]="Checkbox",e[e.Toggle=2]="Toggle"}(v||(t.SXMenuItemSelectableType=v={})),function(e){e[e.None=0]="None",e[e.Up=1]="Up",e[e.Down=2]="Down"}(b||(t.SXMenuNavigationDirection=b={})),t.InsetZero={left:0,right:0,top:0,bottom:0},t.HorizontalInsetZero={left:0,right:0},t.HorizontalInsetDefault={left:t.RowPaddingClassic.left,right:t.RowPaddingClassic.right},t.HorizontalInsetDefaultModernize={left:t.RowPaddingModernize.left,right:t.RowPaddingModernize.right},t.BottomInsetDefault=10,t.ListItemAccessibilityTrait=o.Types.AccessibilityTrait.Group,t.BlueGradient=[r.Color.blueLight,r.Color.blueMedium,r.Color.blueDark,r.Color.blueDark],t.CustomActionSheetBorderRadius=3,t.CompositeNotificationToastInfo={horizontal:10,vertical:5,color:r.Color.gray400}},410098:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderType=t.PopupWidth=void 0,t.PopupWidth=350,function(e){e[e.Default=0]="Default",e[e.Slim=1]="Slim"}(i||(t.HeaderType=i={}))},419585:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ImagePrefetchState=t.BACKGROUND_EFFECT_FILE_PREFIX=void 0,t.BACKGROUND_EFFECT_FILE_PREFIX="BACKGROUND_EFFECT_",function(e){e[e.Prefetching=0]="Prefetching",e[e.Prefetched=1]="Prefetched",e[e.Failed=2]="Failed",e[e.None=3]="None"}(i||(t.ImagePrefetchState=i={}))},761393:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultHeightForMediaGallery=t.DefaultWidthForMediaGallery=t.DefaultHeightForInviteShare=t.CompactHeight=t.CompactWidth=t.DefaultSplitViewWidthForNewProfile=t.DefaultSplitViewWidth=t.DefaultSplitSettingsWidth=t.DefaultSplitMasterWidth=t.DefaultMobileModalSizeForQRCodeSignIn=t.DefaultWidthForNewProfile=t.DefaultHeightForNewProfile=t.DefaultWidth=t.DefaultHeight=void 0,t.DefaultHeight=660,t.DefaultWidth=480,t.DefaultHeightForNewProfile=724,t.DefaultWidthForNewProfile=450,t.DefaultMobileModalSizeForQRCodeSignIn=t.DefaultWidth+100,t.DefaultSplitMasterWidth=250,t.DefaultSplitSettingsWidth=455,t.DefaultSplitViewWidth=700,t.DefaultSplitViewWidthForNewProfile=t.DefaultSplitMasterWidth+t.DefaultSplitSettingsWidth,t.CompactWidth=400,t.CompactHeight=500,t.DefaultHeightForInviteShare=751,t.DefaultWidthForMediaGallery=792,t.DefaultHeightForMediaGallery=669},739403:(e,t)=>{var i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.DetailsPanelHeaderSizes=t.DetailsPanelOrigin=t.DetailsPanelViewMode=void 0,function(e){e[e.None=0]="None",e[e.User=1]="User",e[e.Group=2]="Group",e[e.Bot=3]="Bot",e[e.Connector=4]="Connector",e[e.Channel=5]="Channel"}(i||(t.DetailsPanelViewMode=i={})),function(e){e[e.Unknown=0]="Unknown",e[e.AddToContact=1]="AddToContact"}(o||(t.DetailsPanelOrigin=o={})),t.DetailsPanelHeaderSizes={scrollOffsetMobile:100,scrollOffsetDesktop:148,avatarOffsetPixels:20,headerReplacementPadding:65,headerReplacementPaddingModal:24,headerPadding:20}},413686:(e,t)=>{var i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.DialogNavExit=t.DialogNavOrigin=void 0,function(e){e[e.Unknown=0]="Unknown",e[e.Settings=1]="Settings",e[e.KeyboardShortcut=2]="KeyboardShortcut",e[e.Onboarding=3]="Onboarding",e[e.PopCard=4]="PopCard",e[e.GroupConvSettings=5]="GroupConvSettings",e[e.ThemeDialogPage=6]="ThemeDialogPage",e[e.NoCallsItem=7]="NoCallsItem",e[e.SyncAddressBookSearchItem=8]="SyncAddressBookSearchItem",e[e.LocalContactsTab=9]="LocalContactsTab",e[e.ChatsEmptyState=10]="ChatsEmptyState",e[e.DeepLink=11]="DeepLink",e[e.ChatsFinishSetupPrompt=12]="ChatsFinishSetupPrompt",e[e.DesktopActionPicker=13]="DesktopActionPicker",e[e.UserProfilePage=14]="UserProfilePage",e[e.RecentChatsBanner=15]="RecentChatsBanner",e[e.ContactPermissionAd=16]="ContactPermissionAd"}(i||(t.DialogNavOrigin=i={})),function(e){e[e.Unknown=0]="Unknown",e[e.CancelOrBack=1]="CancelOrBack",e[e.Submit=2]="Submit",e[e.Skip=3]="Skip",e[e.AllowAccessNextButton=4]="AllowAccessNextButton",e[e.Close=5]="Close"}(o||(t.DialogNavExit=o={}))},988074:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Checking=0]="Checking",e[e.Error=1]="Error",e[e.UpdateAvailable=2]="UpdateAvailable",e[e.NoUpdates=3]="NoUpdates",e[e.UpdateDownloaded=4]="UpdateDownloaded"}(i||(i={})),t.default=i},815146:(e,t,i)=>{var o,n,r,a,s,l,c,d,u,p,g,h,m,S,_,f,y,C,v,b,T,P,k,A,I,w,x,N,D,M,L,R,E,B,O,F,V,U,j,H,W,z,G,K,q,Q,X,$,J,Y,Z,ee,te,ie,oe,ne,re,ae,se,le,ce,de,ue,pe,ge,he,me,Se,_e,fe,ye,Ce,ve,be,Te;Object.defineProperty(t,"__esModule",{value:!0}),t.CoachMarkOrigin=t.KeyboardShortcut=t.ItemCommandActionCategory=t.PresenceChangeNotificationResult=t.MessageProcessResult=t.KeychainTokenType=t.KeychainFailureType=t.LogoutReason=t.RedirectToLoginReason=t.SkypeCdnTokenFailureOrigin=t.BrowserOrigin=t.ChatServiceConnectionType=t.WarmCallNotificationDisposition=t.ProfileType=t.AlertTypeForTelemetry=t.CaptureMode=t.ConversationStatus=t.NavigationConversationTelemetryMetric=t.NavigationConversationOrigin=t.CaptureNavFrom=t.SearchResultsListGroup=t.BotsOriginatingPanel=t.BotsInteraction=t.SearchResultsListOrigin=t.SearchPanelInitiator=t.ContactsLevel=t.SearchItemType=t.SearchType=t.SuggestionsAuthStep=t.BingPermissionsEntryPoint=t.BingEntryPoint=t.BrowserShareAction=t.ChatEventOrigin=t.MessageOrigin=t.DownloadTransferSource=t.PostingTransferSource=t.MessagingFailureReason=t.PostSource=t.ContactInviteOrigin=t.UnarchiveConversationOrigin=t.ArchiveConversationOrigin=t.ContactInviteType=t.AppEntryPoint=t.BackgroundCategories=t.BackgroundEffect=t.EdgeShorelineBrowserName=t.EdgeShorelinePanelName=t.EdgeBrowserNameType=t.IOSModel=t.AppShellType=void 0,t.QuickCallSource=t.SearchAccessoryOrigin=t.SkypeNumberPurchaseModelFlow=t.AvatarPickerAction=t.ReportContextListOptions=t.ReportCategory=t.MyProfileFetchOrigin=t.LocationUpdateReason=t.TranslationAction=t.AudioPlayerOrigin=t.BalanceStatePanelSection=t.PaymentFlowStep=t.CreditPaymentFlowStep=t.SkypeToPhonePaymentFlowStep=t.ConnectivityAlertType=t.MediaDownloadIntent=t.PersonAllowed=t.NotificationTypeAppLaunched=t.SharePanelEntryOrigin=t.ReencodeState=t.PlatformType=t.LogTraceArea=t.RSVersion=t.SettingsOrigin=t.AvatarChangeError=t.AvatarPolicyChangeOrigin=t.ProfileOpenOrigin=t.AvatarPickerOrigin=t.NavigationAddToCallOrigin=t.VSOTag=t.DialerNavigationSource=t.ContactNickNameUpdateOrigin=t.MoodMessageUpdateOrigin=t.NameUpdateLocation=t.AvatarUpdateLocation=t.NavigationMediaViewerOrigin=t.EmoticonAvatarsBackgrounds=t.OnboardingTaskState=t.OnboardingTaskType=t.NavigationCallOrigin=t.E2EERejectionReason=t.E2EEAcceptOrigin=t.E2EEInviteOrigin=t.FxSceneDeviceSupported=t.AvatarMenuButtons=t.AvatarChangeType=t.AvatarDataSource=t.StorageItemKeys=t.InteractiveWAMLoginKeys=t.LoginMethods=void 0,t.CantSendSmsWarningType=t.BalancePanelSource=void 0,function(e){e[e.Browser=1]="Browser",e[e.ReactNative=2]="ReactNative",e[e.Electron=3]="Electron",e[e.Arc=4]="Arc",e[e.FireOS=5]="FireOS"}(o||(t.AppShellType=o={})),function(e){e[e.None=0]="None",e[e.iPad=1]="iPad",e[e.iPhone=2]="iPhone",e[e.iPodTouch=3]="iPodTouch"}(n||(t.IOSModel=n={})),function(e){e.edgeCanaryShoreline="EdgeCanary(Shoreline)",e.edgeDevShoreline="EdgeDev(Shoreline)",e.edgeBetaShoreline="EdgeBeta(Shoreline)",e.edgeStableShoreline="EdgeStable(Shoreline)"}(r||(t.EdgeBrowserNameType=r={})),t.EdgeShorelinePanelName="Edge Side Panel",t.EdgeShorelineBrowserName="EdgeShorelineBrowserName",function(e){e.Off="Off",e.Blur="Blur",e.BackgroundImage="BackgroundImage"}(a||(t.BackgroundEffect=a={})),t.BackgroundCategories=["myBackgrounds","featured","new","holidays","fun","professional","colors","textures","nature","movies","cultural","pride","animated","bing","skypebackgroundimage"],function(e){e[e.Opened=1]="Opened",e[e.Foregrounded=2]="Foregrounded",e[e.QuickAction=3]="QuickAction",e[e.URI=4]="URI",e[e.PushNotification=5]="PushNotification",e[e.ChatNotification=6]="ChatNotification",e[e.CallNotification=7]="CallNotification",e[e.ContentChannelNotification=8]="ContentChannelNotification"}(s||(t.AppEntryPoint=s={})),function(e){e[e.SMS=0]="SMS",e[e.Email=1]="Email",e[e.ShareUrl=2]="ShareUrl",e[e.SearchPublicDirectory=3]="SearchPublicDirectory",e[e.Cancelled=4]="Cancelled"}(l||(t.ContactInviteType=l={})),function(e){e[e.ContextMenu=0]="ContextMenu",e[e.KeyboardShortcut=1]="KeyboardShortcut",e[e.ProfilePanel=2]="ProfilePanel",e[e.NotificationSettings=3]="NotificationSettings",e[e.ConversationHeader=4]="ConversationHeader"}(c||(t.ArchiveConversationOrigin=c={})),function(e){e[e.ConversationUpdate=0]="ConversationUpdate",e[e.ContextMenu=1]="ContextMenu",e[e.NavigateToConversationFromProfile=2]="NavigateToConversationFromProfile",e[e.NavigateToConversationFromSearch=3]="NavigateToConversationFromSearch",e[e.ProfilePanel=4]="ProfilePanel",e[e.UndoPill=5]="UndoPill",e[e.Unknown=6]="Unknown",e[e.NotificationSettings=7]="NotificationSettings",e[e.ConversationHeader=8]="ConversationHeader"}(d||(t.UnarchiveConversationOrigin=d={})),function(e){e[e.Unknown=0]="Unknown",e[e.RecentsPlusButton=1]="RecentsPlusButton",e[e.AddressBookSearchResult=2]="AddressBookSearchResult",e[e.NoSearchResults=3]="NoSearchResults",e[e.ShareProfile=4]="ShareProfile",e[e.CallPanelSearch=5]="CallPanelSearch",e[e.CallCard=6]="CallCard",e[e.PeoplePanelLink=7]="PeoplePanelLink",e[e.InviteSharePanel=8]="InviteSharePanel",e[e.SearchItem=9]="SearchItem",e[e.ConversationHeader=10]="ConversationHeader",e[e.PublicDirectory=11]="PublicDirectory",e[e.ConnectWithPeople=12]="ConnectWithPeople",e[e.PstnChatWindow=13]="PstnChatWindow",e[e.CallFailurePrompt=14]="CallFailurePrompt",e[e.SmsFailurePrompt=15]="SmsFailurePrompt",e[e.EmptyRecentList=16]="EmptyRecentList",e[e.MessageStream=17]="MessageStream"}(u||(t.ContactInviteOrigin=u={})),function(e){e[e.Capture=1]="Capture",e[e.DragDrop=2]="DragDrop",e[e.DragDropFromConversationToRecentLists=3]="DragDropFromConversationToRecentLists",e[e.FilePicker=4]="FilePicker",e[e.MediaPicker=5]="MediaPicker",e[e.QuickCapture=6]="QuickCapture",e[e.ShareWith=7]="ShareWith",e[e.MessageComposer=8]="MessageComposer",e[e.AudioMessageComposer=9]="AudioMessageComposer",e[e.Screenshot=10]="Screenshot",e[e.Logs=11]="Logs",e[e.Gallery=12]="Gallery",e[e.ShareToSkype=13]="ShareToSkype",e[e.FeedbackString=14]="FeedbackString",e[e.CancelFailedPost=15]="CancelFailedPost",e[e.SlashCommand=16]="SlashCommand",e[e.MessagePanel=17]="MessagePanel",e[e.CallReactionPressed=18]="CallReactionPressed",e[e.CallStage=19]="CallStage",e[e.ReactionsMessageComposer=20]="ReactionsMessageComposer",e[e.MessageOptionsDelete=21]="MessageOptionsDelete",e[e.SwiftReply=22]="SwiftReply",e[e.SharePreview=23]="SharePreview",e[e.LocationPicker=24]="LocationPicker",e[e.SwiftCardPicker=25]="SwiftCardPicker",e[e.PartListMessage=26]="PartListMessage",e[e.CallEmoticonReaction=27]="CallEmoticonReaction",e[e.P2PCallNotification=28]="P2PCallNotification",e[e.ReplyFromNotification=29]="ReplyFromNotification",e[e.InviteFakeMessage=30]="InviteFakeMessage",e[e.EphemeralMessage=31]="EphemeralMessage",e[e.ShareSwiftMessage=32]="ShareSwiftMessage",e[e.ForwardSwift=33]="ForwardSwift",e[e.ShareUrl=34]="ShareUrl",e[e.SwiftImBack=35]="SwiftImBack",e[e.UnansweredCallPanel=36]="UnansweredCallPanel",e[e.DeepLink=37]="DeepLink",e[e.CallMoments=38]="CallMoments",e[e.StartChattingCard=39]="StartChattingCard",e[e.CapturePreview=40]="CapturePreview",e[e.CallRecording=41]="CallRecording",e[e.StickerSearch=42]="StickerSearch",e[e.GifSearch=43]="GifSearch",e[e.SnapshotNotification=44]="SnapshotNotification",e[e.ScheduledCall=45]="ScheduledCall",e[e.CellularSmsMessageFromNative=46]="CellularSmsMessageFromNative",e[e.CellularSmsMessageFromMessagePanel=47]="CellularSmsMessageFromMessagePanel",e[e.CellularSmsMessageFromNativeDelete=48]="CellularSmsMessageFromNativeDelete",e[e.EngagementShareableContent=49]="EngagementShareableContent",e[e.Poll=50]="Poll",e[e.ScheduledCallFakeMessage=51]="ScheduledCallFakeMessage",e[e.MediaPreview=52]="MediaPreview",e[e.DeclineAndMessageMenu=53]="DeclineAndMessageMenu",e[e.Bookmarks=54]="Bookmarks",e[e.ForwardAlbum=55]="ForwardAlbum",e[e.DirectShare=56]="DirectShare",e[e.StreamItemCommand=57]="StreamItemCommand",e[e.Clipboard=58]="Clipboard",e[e.TooltipExpressionPicker=59]="TooltipExpressionPicker",e[e.TooltipReactionsCallBar=60]="TooltipReactionsCallBar",e[e.GuestNameUpdate=61]="GuestNameUpdate",e[e.SendCredit=62]="SendCredit",e[e.TwincamSync=63]="TwincamSync",e[e.SkypeClipsRecord=64]="SkypeClipsRecord",e[e.MagicBotSettings=65]="MagicBotSettings",e[e.Whiteboard=66]="Whiteboard",e[e.ImageCreator=67]="ImageCreator"}(p||(t.PostSource=p={})),function(e){e[e.None=0]="None",e[e.AMSFailure=1]="AMSFailure",e[e.ChatServiceFailure=2]="ChatServiceFailure",e[e.Offline=3]="Offline",e[e.CacheFailure=4]="CacheFailure"}(g||(t.MessagingFailureReason=g={})),function(e){e[e.AMSCreate=0]="AMSCreate",e[e.AMSUploadThumbnail=1]="AMSUploadThumbnail",e[e.AMSUploadContent=2]="AMSUploadContent",e[e.AMSForward=3]="AMSForward",e[e.AMSGetStatus=4]="AMSGetStatus",e[e.ChatService=5]="ChatService",e[e.Azure=6]="Azure",e[e.URLPreview=7]="URLPreview",e[e.CreateConversation=8]="CreateConversation",e[e.ChatServiceUpdateProperties=9]="ChatServiceUpdateProperties"}(h||(t.PostingTransferSource=h={})),function(e){e[e.AmsDownload=0]="AmsDownload",e[e.AMSGetStatus=1]="AMSGetStatus"}(m||(t.DownloadTransferSource=m={})),function(e){e[e.LongPoll=0]="LongPoll",e[e.ChatSync=1]="ChatSync",e[e.PushNotification=2]="PushNotification",e[e.LocalChange=3]="LocalChange",e[e.Trouter=4]="Trouter"}(S||(t.MessageOrigin=S={})),function(e){e[e.LongPoll=0]="LongPoll"}(_||(t.ChatEventOrigin=_={})),function(e){e[e.ShareCardFromPage=0]="ShareCardFromPage",e[e.ShareUrlFromPage=1]="ShareUrlFromPage",e[e.ShareCardFromBrowser=2]="ShareCardFromBrowser",e[e.ShareUrlFromBrowser=3]="ShareUrlFromBrowser",e[e.ShareCurrentUrlFromBrowser=4]="ShareCurrentUrlFromBrowser",e[e.ShareCardFromAddin=5]="ShareCardFromAddin",e[e.ShareUrlFromAddin=6]="ShareUrlFromAddin"}(f||(t.BrowserShareAction=f={})),function(e){e[e.FindPanelCategory=0]="FindPanelCategory",e[e.FindPanelSearch=1]="FindPanelSearch",e[e.Url=2]="Url"}(y||(t.BingEntryPoint=y={})),function(e){e[e.BingConsentDialog=0]="BingConsentDialog",e[e.BingSettings=1]="BingSettings"}(C||(t.BingPermissionsEntryPoint=C={})),function(e){e[e.ConsentDeferred=0]="ConsentDeferred",e[e.ConsentGranted=1]="ConsentGranted"}(v||(t.SuggestionsAuthStep=v={})),function(e){e[e.ZeroInput=0]="ZeroInput",e[e.ShortQuery=1]="ShortQuery",e[e.LongQuery=2]="LongQuery",e[e.ZeroInputWithMagicBot=3]="ZeroInputWithMagicBot",e[e.ZeroInputWithChannel=4]="ZeroInputWithChannel"}(b||(t.SearchType=b={})),function(e){e[e.History=0]="History",e[e.Suggest=1]="Suggest",e[e.Trending=2]="Trending",e[e.SearchInConversation=3]="SearchInConversation"}(T||(t.SearchItemType=T={})),function(e){e[e.Default=0]="Default",e[e.Few=1]="Few"}(P||(t.ContactsLevel=P={})),function(e){e[e.Unknown=0]="Unknown",e[e.RecentsListSearchButton=1]="RecentsListSearchButton",e[e.ContactsPanel=2]="ContactsPanel",e[e.ElectronMenu=3]="ElectronMenu",e[e.QuickCallPanel=4]="QuickCallPanel",e[e.CallsTabPanel=5]="CallsTabPanel",e[e.PhoneTabPanel=6]="PhoneTabPanel",e[e.KeyboardShortcut=7]="KeyboardShortcut",e[e.SuperComposer=8]="SuperComposer",e[e.LandingScreen=9]="LandingScreen",e[e.InAppBrowserHeader=10]="InAppBrowserHeader",e[e.ContentChannelsStore=11]="ContentChannelsStore"}(k||(t.SearchPanelInitiator=k={})),function(e){e[e.AddContact=0]="AddContact",e[e.AddingParticipantsToGroup=1]="AddingParticipantsToGroup",e[e.ActiveNowPanel=2]="ActiveNowPanel",e[e.ContactsPanel=3]="ContactsPanel",e[e.ContactsPanelV2=4]="ContactsPanelV2",e[e.DiscoverPanel=5]="DiscoverPanel",e[e.FindBots=6]="FindBots",e[e.MoreContactsPanel=7]="MoreContactsPanel",e[e.NewChat=8]="NewChat",e[e.NewGroup=9]="NewGroup",e[e.NewPrivateChat=10]="NewPrivateChat",e[e.QuickCallPanel=11]="QuickCallPanel",e[e.SearchPanel=12]="SearchPanel",e[e.SendCreditSearchPeople=13]="SendCreditSearchPeople",e[e.ShareWithPanel=14]="ShareWithPanel",e[e.SuperComposer=15]="SuperComposer",e[e.NewCellularSmsConversation=16]="NewCellularSmsConversation",e[e.QuickCallPanelModal=17]="QuickCallPanelModal",e[e.ListSearchPickerPanel=18]="ListSearchPickerPanel",e[e.CallsTabPanel=19]="CallsTabPanel",e[e.PhoneTabPanel=20]="PhoneTabPanel",e[e.ContentChannels=21]="ContentChannels",e[e.SayHiPopup=22]="SayHiPopup"}(A||(t.SearchResultsListOrigin=A={})),function(e){e[e.ClickPlusMenu=0]="ClickPlusMenu",e[e.NavigateToBotStore=1]="NavigateToBotStore",e[e.CloseBotStore=2]="CloseBotStore",e[e.ViewBotProfile=3]="ViewBotProfile",e[e.CloseBotProfile=4]="CloseBotProfile",e[e.ClickChatWithBot=5]="ClickChatWithBot",e[e.ClickShareBot=6]="ClickShareBot",e[e.SearchBotInRecents=7]="SearchBotInRecents",e[e.ClickMoreForCategory=8]="ClickMoreForCategory",e[e.MessageBot=9]="MessageBot",e[e.BlockBot=10]="BlockBot",e[e.DeleteBot=11]="DeleteBot",e[e.AutoAddBot=12]="AutoAddBot",e[e.ShareMagicBotLink=13]="ShareMagicBotLink",e[e.SearchIncorrectName=14]="SearchIncorrectName"}(I||(t.BotsInteraction=I={})),function(e){e[e.BotsDetailsPanel=0]="BotsDetailsPanel",e[e.GetStarted=1]="GetStarted",e[e.AddBotToContacts=2]="AddBotToContacts",e[e.SendMessage=3]="SendMessage"}(w||(t.BotsOriginatingPanel=w={})),function(e){e[e.AddressBook=0]="AddressBook",e[e.AddressBookWithAlphaHeaders=1]="AddressBookWithAlphaHeaders",e[e.AllPeople=2]="AllPeople",e[e.AllPeopleWithoutAddressBook=3]="AllPeopleWithoutAddressBook",e[e.Bots=4]="Bots",e[e.ContactsPrivacyNoticeBanner=5]="ContactsPrivacyNoticeBanner",e[e.FavoriteContacts=6]="FavoriteContacts",e[e.GroupChats=7]="GroupChats",e[e.InviteLink=8]="InviteLink",e[e.SyncAddressBookBanner=9]="SyncAddressBookBanner",e[e.SyncAddressBookLink=10]="SyncAddressBookLink",e[e.Messages=11]="Messages",e[e.PublicDirectory=12]="PublicDirectory",e[e.UpcomingCalls=13]="UpcomingCalls",e[e.RecentCalls=14]="RecentCalls",e[e.RecentCallsExtended=15]="RecentCallsExtended",e[e.SuggestedFrequentConversations=16]="SuggestedFrequentConversations",e[e.SuggestedRecentConversations=17]="SuggestedRecentConversations",e[e.SuggestedRecentConversationsWithEstablishedPrivateConversations=18]="SuggestedRecentConversationsWithEstablishedPrivateConversations",e[e.CombinedContacts=19]="CombinedContacts",e[e.CombinedContactsWithoutAlphaHeaders=20]="CombinedContactsWithoutAlphaHeaders",e[e.CombinedContactsWithoutAddressBookOrAlphaHeaders=21]="CombinedContactsWithoutAddressBookOrAlphaHeaders",e[e.CombinedContactsWithoutAddressBook=22]="CombinedContactsWithoutAddressBook",e[e.SkypeContacts=23]="SkypeContacts",e[e.PstnDialpad=24]="PstnDialpad",e[e.PhoneNumberVerificationLink=25]="PhoneNumberVerificationLink",e[e.ActiveNow=26]="ActiveNow",e[e.ShareGroup=27]="ShareGroup",e[e.AddContactLink=28]="AddContactLink",e[e.SearchFeedbackLink=29]="SearchFeedbackLink",e[e.AllPeopleWithPhoneNumbers=30]="AllPeopleWithPhoneNumbers",e[e.GroupMember=31]="GroupMember",e[e.ConnectWithPeople=32]="ConnectWithPeople",e[e.MagicBot=33]="MagicBot",e[e.BingSuggest=34]="BingSuggest",e[e.BingTrending=35]="BingTrending",e[e.ShareMagicBot=36]="ShareMagicBot",e[e.ShareChannel=37]="ShareChannel",e[e.ContentChannels=38]="ContentChannels",e[e.SayHiPopup=39]="SayHiPopup"}(x||(t.SearchResultsListGroup=x={})),function(e){e[e.Home=0]="Home",e[e.Conversation=1]="Conversation"}(N||(t.CaptureNavFrom=N={})),function(e){e[e.Unknown=0]="Unknown",e[e.PlusButton=1]="PlusButton",e[e.Recents=2]="Recents",e[e.Search=3]="Search",e[e.PeoplePanel=4]="PeoplePanel",e[e.AppStart=5]="AppStart",e[e.BotDetails=6]="BotDetails",e[e.Call=7]="Call",e[e.CallComplete=8]="CallComplete",e[e.Gallery=9]="Gallery",e[e.GroupProfile=10]="GroupProfile",e[e.UserProfile=11]="UserProfile",e[e.AlertsPanel=12]="AlertsPanel",e[e.InAppNotification=13]="InAppNotification",e[e.SystemNotification=14]="SystemNotification",e[e.DeepLink=15]="DeepLink",e[e.ShareToSkype=16]="ShareToSkype",e[e.CompositeNavRedirectToRecentConv=17]="CompositeNavRedirectToRecentConv",e[e.CompositeNavCloseShareWithPanel=18]="CompositeNavCloseShareWithPanel",e[e.CompositeNavCloseLocationPicker=19]="CompositeNavCloseLocationPicker",e[e.CompositeNavCloseLocationViewer=20]="CompositeNavCloseLocationViewer",e[e.NavToDefaultConv=21]="NavToDefaultConv",e[e.CapturePanel=22]="CapturePanel",e[e.DesktopCloseCapturePanel=23]="DesktopCloseCapturePanel",e[e.DesktopCloseCapturePreviewPanel=24]="DesktopCloseCapturePreviewPanel",e[e.LinkForNewGroupWithBot=25]="LinkForNewGroupWithBot",e[e.LinkForNewGroupWithUser=26]="LinkForNewGroupWithUser",e[e.Announcement=27]="Announcement",e[e.MediaPicker=28]="MediaPicker",e[e.QuoteLink=29]="QuoteLink",e[e.SwiftCardLink=30]="SwiftCardLink",e[e.FeedbackMechanism=31]="FeedbackMechanism",e[e.SlashCommand=32]="SlashCommand",e[e.HeaderButtonNewGroupWithUser=33]="HeaderButtonNewGroupWithUser",e[e.KeyboardShortcutNewGroupWithUser=34]="KeyboardShortcutNewGroupWithUser",e[e.PopCards=35]="PopCards",e[e.AppMenu=36]="AppMenu",e[e.EngagementNotice=37]="EngagementNotice",e[e.PSTNDialer=38]="PSTNDialer",e[e.SmsControl=39]="SmsControl",e[e.SMSNumberSwitch=40]="SMSNumberSwitch",e[e.CallOrInvitePrompt=41]="CallOrInvitePrompt",e[e.NewPrivateConversation=42]="NewPrivateConversation",e[e.SwiftForwardComplete=43]="SwiftForwardComplete",e[e.Campaign=44]="Campaign",e[e.InviteLink=45]="InviteLink",e[e.ElectronUri=46]="ElectronUri",e[e.OnUrlChange=47]="OnUrlChange",e[e.LinkerUtil=48]="LinkerUtil",e[e.InitialUrl=49]="InitialUrl",e[e.NewChat=50]="NewChat",e[e.NewGroup=51]="NewGroup",e[e.NewModeratedGroup=52]="NewModeratedGroup",e[e.UserProfileNewGroupWithUser=53]="UserProfileNewGroupWithUser",e[e.BotProfileNewGroupWithBot=54]="BotProfileNewGroupWithBot",e[e.NewGroupWithUserAndBot=55]="NewGroupWithUserAndBot",e[e.KeyboardShortcutAddPeopleToGroup=56]="KeyboardShortcutAddPeopleToGroup",e[e.HeaderButtonAddUserToGroup=57]="HeaderButtonAddUserToGroup",e[e.NewPrivateChat=58]="NewPrivateChat",e[e.SuperComposer=59]="SuperComposer",e[e.InviteMorePeopleAfterJoinButton=60]="InviteMorePeopleAfterJoinButton",e[e.MediaBar=61]="MediaBar",e[e.MessageComposer=62]="MessageComposer",e[e.HomeScreen=63]="HomeScreen",e[e.TabSwitcher=64]="TabSwitcher",e[e.KeyboardShortcut=65]="KeyboardShortcut",e[e.SystemNotificationMissedCall=66]="SystemNotificationMissedCall",e[e.SystemNotificationMissedP2PCall=67]="SystemNotificationMissedP2PCall",e[e.SystemNotificationChatReply=68]="SystemNotificationChatReply",e[e.SystemNotificationScheduledCall=69]="SystemNotificationScheduledCall",e[e.GoLiveNotification=70]="GoLiveNotification",e[e.NativeContactIntent=71]="NativeContactIntent",e[e.SharedContactCard=72]="SharedContactCard",e[e.NewSms=73]="NewSms",e[e.ArchivedConversations=74]="ArchivedConversations",e[e.UpcomingCallsPanel=75]="UpcomingCallsPanel",e[e.PeopleRecommendationsDiscoverPanel=76]="PeopleRecommendationsDiscoverPanel",e[e.PeopleRecommendationsUserCard=77]="PeopleRecommendationsUserCard",e[e.CallParticipantActionMenu=78]="CallParticipantActionMenu",e[e.KeyboardShortcutRecents=79]="KeyboardShortcutRecents",e[e.PresenceChangeNotification=80]="PresenceChangeNotification",e[e.OldFriendBackNotification=81]="OldFriendBackNotification",e[e.BookmarkMessage=82]="BookmarkMessage",e[e.DragDropFromConversationToRecentLists=83]="DragDropFromConversationToRecentLists",e[e.CreateMeetNowConversation=84]="CreateMeetNowConversation",e[e.MeetNowChat=85]="MeetNowChat",e[e.MeetNowCall=86]="MeetNowCall",e[e.MeetNowJoinFlow=87]="MeetNowJoinFlow",e[e.OverflowMenu=88]="OverflowMenu",e[e.MeetNowJoinLobby=89]="MeetNowJoinLobby",e[e.MeetNowCreatorPanel=90]="MeetNowCreatorPanel",e[e.GuestUpsellPanel=91]="GuestUpsellPanel",e[e.MeetNowCreatorPopup=92]="MeetNowCreatorPopup",e[e.OfficeLens=93]="OfficeLens",e[e.EdgeWorkspace=94]="EdgeWorkspace"}(D||(t.NavigationConversationOrigin=D={})),function(e){e[e.PreAnimation=0]="PreAnimation",e[e.Animation=1]="Animation",e[e.Rendered=2]="Rendered"}(M||(t.NavigationConversationTelemetryMetric=M={})),function(e){e[e.Invalid=0]="Invalid",e[e.Accepted=1]="Accepted",e[e.AcceptPendingSender=2]="AcceptPendingSender",e[e.AcceptPendingRecipient=3]="AcceptPendingRecipient"}(L||(t.ConversationStatus=L={})),function(e){e[e.Default=0]="Default",e[e.PhotoOnly=1]="PhotoOnly",e[e.VideoOnly=2]="VideoOnly",e[e.QR=3]="QR"}(R||(t.CaptureMode=R={})),function(e){e[e.Quote=0]="Quote",e[e.Mention=1]="Mention",e[e.Reaction=2]="Reaction",e[e.Onboarding=3]="Onboarding",e[e.Engagement=4]="Engagement",e[e.CoachMarks=5]="CoachMarks",e[e.Notice=6]="Notice",e[e.Unknown=7]="Unknown",e[e.ScheduledCall=8]="ScheduledCall",e[e.OldFriendBack=9]="OldFriendBack"}(E||(t.AlertTypeForTelemetry=E={})),function(e){e[e.My=0]="My",e[e.User=1]="User",e[e.Bot=2]="Bot",e[e.Group=3]="Group"}(B||(t.ProfileType=B={})),function(e){e[e.Wasted=-1]="Wasted",e[e.AlreadyRunning=0]="AlreadyRunning",e[e.FollowedByNonWarmPush=1]="FollowedByNonWarmPush",e[e.FollowedByForegrounding=10]="FollowedByForegrounding",e[e.FollowedByCall=100]="FollowedByCall"}(O||(t.WarmCallNotificationDisposition=O={})),function(e){e[e.Unknown=0]="Unknown",e[e.ChatServiceV1=1]="ChatServiceV1",e[e.MessagingApi=2]="MessagingApi"}(F||(t.ChatServiceConnectionType=F={})),function(e){e[e.AuthActionLink=0]="AuthActionLink",e[e.AudioVideoSettings=1]="AudioVideoSettings",e[e.EngagementNotice=2]="EngagementNotice",e[e.LinkNode=3]="LinkNode",e[e.AttributionNode=4]="AttributionNode",e[e.BotSettings=5]="BotSettings",e[e.ConsentModal=6]="ConsentModal",e[e.FindPanel=7]="FindPanel",e[e.SuggestionsLearnMore=8]="SuggestionsLearnMore",e[e.NotebookLink=9]="NotebookLink",e[e.DeepLinkRequest=10]="DeepLinkRequest",e[e.SyncAddressBookDialogPrivacyStatement=11]="SyncAddressBookDialogPrivacyStatement",e[e.PopCard=12]="PopCard",e[e.SwiftActionView=13]="SwiftActionView",e[e.SwiftQuickReplyView=14]="SwiftQuickReplyView",e[e.LinkerUtil=15]="LinkerUtil",e[e.TPUMRequest=16]="TPUMRequest",e[e.CloseAccount=17]="CloseAccount",e[e.LocationNode=18]="LocationNode",e[e.AdaptiveCard=19]="AdaptiveCard",e[e.ConnectorProfile=20]="ConnectorProfile",e[e.CreditExpiration=21]="CreditExpiration",e[e.SuggestionsConsentLearnMore=22]="SuggestionsConsentLearnMore",e[e.JoinLink=23]="JoinLink",e[e.ReadReceiptsSettingsDescription=24]="ReadReceiptsSettingsDescription",e[e.SearchSuggestionsSettings=25]="SearchSuggestionsSettings",e[e.AddinMenu=26]="AddinMenu",e[e.Plugins=27]="Plugins",e[e.NetworkConnectionAlert=28]="NetworkConnectionAlert",e[e.FileSharingLimits=29]="FileSharingLimits",e[e.PrivacyProfile=30]="PrivacyProfile",e[e.PeopleYouMayKnowNoticeDialog=31]="PeopleYouMayKnowNoticeDialog",e[e.TelemetryConsentDialog=32]="TelemetryConsentDialog",e[e.SubscriptionDataSection=33]="SubscriptionDataSection",e[e.MeControl=34]="MeControl",e[e.WebLauncher=35]="WebLauncher",e[e.MeProfile=36]="MeProfile",e[e.HotkeysSettingsDescription=37]="HotkeysSettingsDescription",e[e.UserProfileOnboarding=38]="UserProfileOnboarding",e[e.GuestUpsellPanel=39]="GuestUpsellPanel",e[e.TelemetryConsentSettingsDescription=40]="TelemetryConsentSettingsDescription",e[e.CallPanel=41]="CallPanel",e[e.PurchaseRedirect=42]="PurchaseRedirect",e[e.EmptyStateCTA=43]="EmptyStateCTA",e[e.AgeGroupRestrictions=44]="AgeGroupRestrictions",e[e.BingBackgroundReplaceImage=45]="BingBackgroundReplaceImage",e[e.TodayTabNewsArticle=46]="TodayTabNewsArticle",e[e.NewsChannel=47]="NewsChannel",e[e.NewsBot=48]="NewsBot",e[e.DeepLinkNode=49]="DeepLinkNode",e[e.SearchInConversation=50]="SearchInConversation",e[e.NativeAd=51]="NativeAd"}(V||(t.BrowserOrigin=V={})),function(e){e[e.CdnTokenFetching=0]="CdnTokenFetching",e[e.CdnCookieSetting=1]="CdnCookieSetting"}(U||(t.SkypeCdnTokenFailureOrigin=U={})),function(e){e[e.Unknown=0]="Unknown",e[e.SplashScreen=1]="SplashScreen",e[e.NoSkypeIdFound=2]="NoSkypeIdFound",e[e.NoSkypeIdFoundMeetNowAutoSignInFallback=3]="NoSkypeIdFoundMeetNowAutoSignInFallback",e[e.SkypeIdDbError=4]="SkypeIdDbError",e[e.NoMSARefreshTokenFound=5]="NoMSARefreshTokenFound",e[e.NoMSAAccessTokenFound=6]="NoMSAAccessTokenFound",e[e.MSARefreshInvalidGrant=7]="MSARefreshInvalidGrant",e[e.SkypeTokenSilentLoginInvalidGrant=8]="SkypeTokenSilentLoginInvalidGrant",e[e.SkypeTokenSilentLoginFailed=9]="SkypeTokenSilentLoginFailed",e[e.QuickSignOnActive=10]="QuickSignOnActive",e[e.SingleSignOnActive=11]="SingleSignOnActive",e[e.GuestJoinUnavailable=12]="GuestJoinUnavailable",e[e.BackgroundSignIn=13]="BackgroundSignIn",e[e.NewMeetNowFlow=14]="NewMeetNowFlow",e[e.GuestUpsellSignIn=15]="GuestUpsellSignIn",e[e.AgeGroupRestrictions=16]="AgeGroupRestrictions",e[e.NoOneAuthMSAAccessTokenFound=17]="NoOneAuthMSAAccessTokenFound",e[e.UnableToFetchAccountInformationFromOneAuth=18]="UnableToFetchAccountInformationFromOneAuth",e[e.OneAuthInvalidGrant=19]="OneAuthInvalidGrant",e[e.SwitchAccount=20]="SwitchAccount",e[e.OneAuthForceLogout=21]="OneAuthForceLogout"}(j||(t.RedirectToLoginReason=j={})),function(e){e[e.Unknown=0]="Unknown",e[e.DatabaseError=1]="DatabaseError",e[e.UrlRequested=2]="UrlRequested",e[e.CommandLineRequested=3]="CommandLineRequested",e[e.UnauthorizedMurphyUser=4]="UnauthorizedMurphyUser",e[e.LoginRestarted=5]="LoginRestarted",e[e.SkypeIdMismatch=6]="SkypeIdMismatch",e[e.DesktopMenu=7]="DesktopMenu",e[e.Settings=8]="Settings",e[e.AccountSettings=9]="AccountSettings",e[e.CloseAccount=10]="CloseAccount",e[e.LandingPageSwitchAccount=11]="LandingPageSwitchAccount",e[e.GuestSessionEnded=12]="GuestSessionEnded",e[e.MeControl=13]="MeControl",e[e.CompositeNavigationFooter=14]="CompositeNavigationFooter",e[e.Onboarding=15]="Onboarding",e[e.AgeGroupRestrictions=16]="AgeGroupRestrictions",e[e.DesktopOverflowMenu=17]="DesktopOverflowMenu",e[e.WAMAutoSignInDialogSwitchAccount=18]="WAMAutoSignInDialogSwitchAccount",e[e.SwitchAccounts=19]="SwitchAccounts",e[e.PhoneAuthRefreshFailed=20]="PhoneAuthRefreshFailed",e[e.UnexpectedPhoneAuthRefreshError=21]="UnexpectedPhoneAuthRefreshError",e[e.SignOutFromAllDevices=22]="SignOutFromAllDevices"}(H||(t.LogoutReason=H={})),function(e){e[e.FailedToSave=0]="FailedToSave",e[e.FailedToRead=1]="FailedToRead",e[e.Retry=2]="Retry"}(W||(t.KeychainFailureType=W={})),function(e){e[e.MSARefresh=0]="MSARefresh",e[e.Skype=1]="Skype",e[e.PhoneAuthRefresh=2]="PhoneAuthRefresh",e[e.PhoneAuthLinkedMsa=3]="PhoneAuthLinkedMsa",e[e.QsoAccounts=4]="QsoAccounts",e[e.IntegrationAuthToken=5]="IntegrationAuthToken"}(z||(t.KeychainTokenType=z={})),function(e){e[e.DeletedMessage=0]="DeletedMessage",e[e.EditedMessage=1]="EditedMessage",e[e.MutatedMessage=2]="MutatedMessage",e[e.CallMessage=3]="CallMessage",e[e.MyMessage=4]="MyMessage",e[e.ChatNotificationsDisabled=5]="ChatNotificationsDisabled",e[e.InAppNotificationsDisabled=6]="InAppNotificationsDisabled",e[e.CameFromSyncOrLocal=7]="CameFromSyncOrLocal",e[e.RecentlyNotified=8]="RecentlyNotified",e[e.Filtered=9]="Filtered",e[e.FromBlockedUser=10]="FromBlockedUser",e[e.MandatoryElectronUpdate=11]="MandatoryElectronUpdate",e[e.EngagementNotificationSuppressed=12]="EngagementNotificationSuppressed",e[e.IsForegroundedInConversation=13]="IsForegroundedInConversation",e[e.SystemMessagePermissionsUnknown=14]="SystemMessagePermissionsUnknown",e[e.SystemMessagePermissionsDenied=15]="SystemMessagePermissionsDenied",e[e.SystemMessageFailure=16]="SystemMessageFailure",e[e.NotifiedInApp=17]="NotifiedInApp",e[e.NotifiedSystemMessage=18]="NotifiedSystemMessage",e[e.ThreadActivitySuppressed=19]="ThreadActivitySuppressed",e[e.DoNotDisturbEnabled=20]="DoNotDisturbEnabled",e[e.SiblingConversationInTabActive=21]="SiblingConversationInTabActive",e[e.LastReactionUserNotFound=22]="LastReactionUserNotFound",e[e.ChatNotificationsDisabledTemporarily=23]="ChatNotificationsDisabledTemporarily",e[e.ScheduledCallInvitationUnknown=24]="ScheduledCallInvitationUnknown",e[e.DoNotDisturbCallNotificationEnabled=25]="DoNotDisturbCallNotificationEnabled",e[e.ScheduleCallNotificationsDisabled=26]="ScheduleCallNotificationsDisabled",e[e.InAppScheduleCallNotificationsDisabled=27]="InAppScheduleCallNotificationsDisabled",e[e.UnknownConversation=28]="UnknownConversation",e[e.TranslationSettingsSuppressed=29]="TranslationSettingsSuppressed",e[e.OriginalForTranslatedConversationSuppressed=30]="OriginalForTranslatedConversationSuppressed",e[e.TrouterMessageWhileInBackground=31]="TrouterMessageWhileInBackground",e[e.BingControl=32]="BingControl"}(G||(t.MessageProcessResult=G={})),function(e){e[e.DoNotDisturbEnabled=0]="DoNotDisturbEnabled",e[e.FromBlockedUser=1]="FromBlockedUser",e[e.IsForegroundedInConversation=2]="IsForegroundedInConversation",e[e.MandatoryElectronUpdate=3]="MandatoryElectronUpdate",e[e.NotifiedSystemMessage=4]="NotifiedSystemMessage",e[e.NotifyOnPresenceDisabled=5]="NotifyOnPresenceDisabled",e[e.SiblingConversationInTabActive=6]="SiblingConversationInTabActive",e[e.SystemMessageFailure=7]="SystemMessageFailure",e[e.SystemMessagePermissionsDenied=8]="SystemMessagePermissionsDenied",e[e.SystemMessagePermissionsUnknown=9]="SystemMessagePermissionsUnknown",e[e.UnknownConversation=10]="UnknownConversation"}(K||(t.PresenceChangeNotificationResult=K={})),function(e){e[e.Main=0]="Main",e[e.Secondary=1]="Secondary",e[e.Destructive=2]="Destructive",e[e.React=3]="React"}(q||(t.ItemCommandActionCategory=q={})),function(e){e[e.OpenNotificationPanel=0]="OpenNotificationPanel",e[e.OpenAppSettings=1]="OpenAppSettings",e[e.OpenHelpInABrowser=2]="OpenHelpInABrowser",e[e.OpenDialpad=3]="OpenDialpad",e[e.StartNewConversation=4]="StartNewConversation",e[e.NewGroup=5]="NewGroup",e[e.OpenContactsPanel=6]="OpenContactsPanel",e[e.SendFeedback=7]="SendFeedback",e[e.OpenThemePicker=8]="OpenThemePicker",e[e.NavigateToRecents=9]="NavigateToRecents",e[e.NavigateToHistory=10]="NavigateToHistory",e[e.ShowConversationProfile=11]="ShowConversationProfile",e[e.AddPeopleToConversation=12]="AddPeopleToConversation",e[e.SendFile=13]="SendFile",e[e.StartVideoCall=14]="StartVideoCall",e[e.StartAudioCall=15]="StartAudioCall",e[e.ToggleGallery=16]="ToggleGallery",e[e.MarkAsUnread=17]="MarkAsUnread",e[e.ToggleLeftPanel=18]="ToggleLeftPanel",e[e.HangupOrRejectCall=19]="HangupOrRejectCall",e[e.ToggleMicrophone=20]="ToggleMicrophone",e[e.ToggleCamera=21]="ToggleCamera",e[e.AcceptIncomingCall=22]="AcceptIncomingCall",e[e.AddPeopleToCall=23]="AddPeopleToCall",e[e.Search=24]="Search",e[e.SearchInConversation=25]="SearchInConversation",e[e.ToggleTheme=26]="ToggleTheme",e[e.EditMessage=27]="EditMessage",e[e.EnableMultipleSelectMessages=28]="EnableMultipleSelectMessages",e[e.TakeCallSnapshot=29]="TakeCallSnapshot",e[e.ArchiveConversation=30]="ArchiveConversation",e[e.OpenMainWindow=31]="OpenMainWindow",e[e.Refresh=32]="Refresh",e[e.ZoomIn=33]="ZoomIn",e[e.ZoomOut=34]="ZoomOut",e[e.ResetZoom=35]="ResetZoom",e[e.OpenKeyboardShortcuts=36]="OpenKeyboardShortcuts",e[e.FocusMessageComposer=37]="FocusMessageComposer",e[e.AnnounceMuteStatus=38]="AnnounceMuteStatus",e[e.AnnounceSelfVideoOnOffStatus=39]="AnnounceSelfVideoOnOffStatus",e[e.NavigateToPreviousConversation=40]="NavigateToPreviousConversation",e[e.NavigateToNextConversation=41]="NavigateToNextConversation",e[e.ResizeVideoPreview=42]="ResizeVideoPreview",e[e.FocusScreenSharingToolbar=43]="FocusScreenSharingToolbar",e[e.Quit=44]="Quit",e[e.CallDebugPanel=45]="CallDebugPanel",e[e.OpenSxPlayground=46]="OpenSxPlayground"}(Q||(t.KeyboardShortcut=Q={})),function(e){e[e.Unknown=1]="Unknown",e[e.LandingPage=2]="LandingPage",e[e.NotificationsPanel=3]="NotificationsPanel",e[e.TabletOnboardingWizard=4]="TabletOnboardingWizard",e[e.TabletInviteLink=5]="TabletInviteLink"}(X||(t.CoachMarkOrigin=X={})),function(e){e[e.LiveLogin=0]="LiveLogin",e[e.WAM=1]="WAM",e[e.Guest=3]="Guest",e[e.QSO=4]="QSO",e[e.OneAuth=5]="OneAuth",e[e.PhoneAuth=6]="PhoneAuth"}($||(t.LoginMethods=$={})),function(e){e[e.MSA=0]="MSA"}(J||(t.InteractiveWAMLoginKeys=J={})),function(e){e[e.SigninName=0]="SigninName",e[e.LogoutToken=1]="LogoutToken",e[e.FirstTimeSignIn=2]="FirstTimeSignIn",e[e.ForgottenAccounts=3]="ForgottenAccounts",e[e.RefreshTokenExpiration=4]="RefreshTokenExpiration",e[e.LoginMethod=5]="LoginMethod",e[e.VerboseDBFlag=6]="VerboseDBFlag",e[e.NukeSdkDbFlag=7]="NukeSdkDbFlag",e[e.GuestLogoutInformation=8]="GuestLogoutInformation",e[e.CampaignReferrer=9]="CampaignReferrer",e[e.UserCacheEnabled=10]="UserCacheEnabled",e[e.SignInReminderLastShownTimeKey=11]="SignInReminderLastShownTimeKey",e[e.SignOutReminderLastShownTimeKey=12]="SignOutReminderLastShownTimeKey",e[e.AppUpdateStatus=13]="AppUpdateStatus",e[e.StartupUrl=14]="StartupUrl",e[e.EngagementBannerLastShownTimeKey=15]="EngagementBannerLastShownTimeKey",e[e.GuestSessionInformation=16]="GuestSessionInformation",e[e.MsaPartition=17]="MsaPartition",e[e.QsoAccountHasCookies=18]="QsoAccountHasCookies",e[e.TokenRefreshBackgroundTaskTimeTriggerInfo=19]="TokenRefreshBackgroundTaskTimeTriggerInfo",e[e.TokenRefreshExpirationThresholdInDays=20]="TokenRefreshExpirationThresholdInDays",e[e.FreBuildVersion=21]="FreBuildVersion"}(Y||(t.StorageItemKeys=Y={})),function(e){e[e.Unknown=0]="Unknown",e[e.FileUpload=1]="FileUpload",e[e.Camera=2]="Camera",e[e.CameraRoll=3]="CameraRoll",e[e.DragAndDrop=4]="DragAndDrop"}(Z||(t.AvatarDataSource=Z={})),function(e){e[e.AddOrUpdate=0]="AddOrUpdate",e[e.Remove=1]="Remove"}(ee||(t.AvatarChangeType=ee={})),function(e){e[e.TakePhoto=0]="TakePhoto",e[e.UploadPhoto=1]="UploadPhoto",e[e.ViewPhoto=2]="ViewPhoto",e[e.RemovePhoto=3]="RemovePhoto",e[e.Cancel=4]="Cancel"}(te||(t.AvatarMenuButtons=te={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}(ie||(t.FxSceneDeviceSupported=ie={})),function(e){e[e.UserProfile=0]="UserProfile",e[e.NewActionButton=1]="NewActionButton",e[e.ConversationEnd=2]="ConversationEnd",e[e.InvitationExpire=3]="InvitationExpire",e[e.DeviceSwitch=4]="DeviceSwitch"}(oe||(t.E2EEInviteOrigin=oe={})),function(e){e[e.Invitation=0]="Invitation",e[e.DeviceSwitch=1]="DeviceSwitch"}(ne||(t.E2EEAcceptOrigin=ne={})),function(e){e[e.DecryptionFailed=0]="DecryptionFailed",e[e.ConversationEnding=1]="ConversationEnding",e[e.DeviceSwitchDeclining=2]="DeviceSwitchDeclining",e[e.InvitationDeclining=3]="InvitationDeclining",e[e.IdentityLost=4]="IdentityLost",e[e.EncryptionFailed=5]="EncryptionFailed"}(re||(t.E2EERejectionReason=re={})),function(e){e[e.Unknown=0]="Unknown",e[e.AddressBookContactListItem=1]="AddressBookContactListItem",e[e.AddressBookHelper=2]="AddressBookHelper",e[e.BotProfileContent=3]="BotProfileContent",e[e.CallCard=4]="CallCard",e[e.CallControls=5]="CallControls",e[e.CallingOptionsHelper=6]="CallingOptionsHelper",e[e.CallManager=7]="CallManager",e[e.CallOrInvitePrompt=8]="CallOrInvitePrompt",e[e.CallsTabCallIcon=9]="CallsTabCallIcon",e[e.CallsTabQuickCallPanel=10]="CallsTabQuickCallPanel",e[e.CallsTab=11]="CallsTab",e[e.PhoneTab=12]="PhoneTab",e[e.CommandInvokerService=13]="CommandInvokerService",e[e.ContactsPanel=14]="ContactsPanel",e[e.ConversationHeader=15]="ConversationHeader",e[e.DeepLink=16]="DeepLink",e[e.DesktopCallNotification=17]="DesktopCallNotification",e[e.DesktopContentPanel=18]="DesktopContentPanel",e[e.GoLive=19]="GoLive",e[e.GroupProfile=20]="GroupProfile",e[e.IncomingRing=21]="IncomingRing",e[e.JoinCall=22]="JoinCall",e[e.InviteLink=23]="InviteLink",e[e.LocalNotificationAction=24]="LocalNotificationAction",e[e.MessageStream=25]="MessageStream",e[e.PhoneInviteListItem=26]="PhoneInviteListItem",e[e.Profile=27]="Profile",e[e.PstnDialpad=28]="PstnDialpad",e[e.PstnDialpadSearchResult=29]="PstnDialpadSearchResult",e[e.PstnDialpadPasted=30]="PstnDialpadPasted",e[e.PstnDialpadTyped=31]="PstnDialpadTyped",e[e.PstnDialpadPrefilled=32]="PstnDialpadPrefilled",e[e.PstnDialpadSaveContact=33]="PstnDialpadSaveContact",e[e.QuickCallPanelCall=34]="QuickCallPanelCall",e[e.QuickCallPanelNewCall=35]="QuickCallPanelNewCall",e[e.SearchItem=36]="SearchItem",e[e.SearchPanel=37]="SearchPanel",e[e.SettingsTestCall=38]="SettingsTestCall",e[e.SkypeUserListItem=39]="SkypeUserListItem",e[e.StartEmergencyCall=40]="StartEmergencyCall",e[e.StartNewGroupCallAndConv=41]="StartNewGroupCallAndConv",e[e.SystemMessageJoinCall=42]="SystemMessageJoinCall",e[e.SystemMessageStartCall=43]="SystemMessageStartCall",e[e.UserProfileContent=44]="UserProfileContent",e[e.ConversationListItem=45]="ConversationListItem",e[e.GoLiveSlashCommand=46]="GoLiveSlashCommand",e[e.CallMonitor=47]="CallMonitor",e[e.PipView=48]="PipView",e[e.NativeContactIntent=49]="NativeContactIntent",e[e.UnansweredCallPanel=50]="UnansweredCallPanel",e[e.UpcomingCallsPanel=51]="UpcomingCallsPanel",e[e.UWPSplitedViewEscalation=52]="UWPSplitedViewEscalation",e[e.MeetNow=53]="MeetNow",e[e.JoinLobby=54]="JoinLobby",e[e.CreateLobby=55]="CreateLobby",e[e.DeeplinkWithCallTrue=56]="DeeplinkWithCallTrue",e[e.LegacyJoinLobby=57]="LegacyJoinLobby",e[e.LegacyCreateLobby=58]="LegacyCreateLobby",e[e.TwincamQr=59]="TwincamQr",e[e.TwincamStop=60]="TwincamStop",e[e.EdgeTelLink=61]="EdgeTelLink"}(ae||(t.NavigationCallOrigin=ae={})),function(e){e.NewBingChat="new_bing_chat",e.ConversationChat="conversation_chat",e.NewCall="new_call"}(se||(t.OnboardingTaskType=se={})),function(e){e.Started="Started",e.Completed="Completed",e.Disabled="Disabled",e.Invalid="Invalid"}(le||(t.OnboardingTaskState=le={})),function(e){e.Yellow="yellow",e.Orange="orange",e.Pink="pink",e.Blue="blue",e.Teal="teal",e.Indigo="indigo",e.Green="green"}(ce||(t.EmoticonAvatarsBackgrounds=ce={})),function(e){e[e.Unknown=0]="Unknown",e[e.CallSharedPhoto=1]="CallSharedPhoto",e[e.CallCard=2]="CallCard",e[e.Gallery=3]="Gallery",e[e.MessageStream=4]="MessageStream"}(de||(t.NavigationMediaViewerOrigin=de={})),function(e){e[e.UserCard=0]="UserCard",e[e.LandingScreen=1]="LandingScreen",e[e.UserProfileOnboarding=2]="UserProfileOnboarding"}(ue||(t.AvatarUpdateLocation=ue={})),function(e){e[e.UserCard=0]="UserCard",e[e.LandingScreen=1]="LandingScreen",e[e.UserProfileOnboarding=2]="UserProfileOnboarding"}(pe||(t.NameUpdateLocation=pe={})),function(e){e[e.UserCard=0]="UserCard",e[e.LandingScreen=1]="LandingScreen",e[e.MeControl=2]="MeControl",e[e.NavigationHeader=3]="NavigationHeader"}(ge||(t.MoodMessageUpdateOrigin=ge={})),function(e){e[e.UserCard=0]="UserCard",e[e.LocalAddressBook=1]="LocalAddressBook",e[e.AddPSTNContact=2]="AddPSTNContact"}(he||(t.ContactNickNameUpdateOrigin=he={})),function(e){e[e.QuickCallPanel=0]="QuickCallPanel",e[e.QuickCallPanelAddToCall=1]="QuickCallPanelAddToCall",e[e.QuickCallPanelNewCall=2]="QuickCallPanelNewCall",e[e.QuickCallPanelFab=3]="QuickCallPanelFab",e[e.CallFailedInvalidNumber=4]="CallFailedInvalidNumber",e[e.ChatPanelHeader=5]="ChatPanelHeader",e[e.DesktopNavigation=6]="DesktopNavigation",e[e.DesktopNavigationSearchBox=7]="DesktopNavigationSearchBox",e[e.RootCompositeNavigationView=8]="RootCompositeNavigationView",e[e.CreditExpiration=9]="CreditExpiration",e[e.DeepLink=10]="DeepLink",e[e.BrowseIntent=11]="BrowseIntent",e[e.CallIntent=12]="CallIntent",e[e.MobileHubHeader=13]="MobileHubHeader",e[e.NativeContactIntent=14]="NativeContactIntent",e[e.SavePhoneNumber=15]="SavePhoneNumber",e[e.StartCallButton=16]="StartCallButton",e[e.LandingPage=17]="LandingPage",e[e.CallOrInviteMenu=18]="CallOrInviteMenu",e[e.EdgeTelLink=19]="EdgeTelLink",e[e.FreeCallUpsell=20]="FreeCallUpsell"}(me||(t.DialerNavigationSource=me={})),function(e){e.S4LSearch="S4LSearch",e.S4LPainList="S4LPainList",e.S4LNoLogs="S4LNoLogs",e.S4LBugBash="bug_bash"}(Se||(t.VSOTag=Se={})),function(e){e[e.Unknown=0]="Unknown",e[e.KeyboardShortcut=1]="KeyboardShortcut",e[e.OverflowMenu=2]="OverflowMenu",e[e.Ribbon=3]="Ribbon",e[e.RosterView=4]="RosterView",e[e.GoLiveInformationView=5]="GoLiveInformationView",e[e.CallControls=6]="CallControls"}(_e||(t.NavigationAddToCallOrigin=_e={})),function(e){e[e.UserCard=0]="UserCard",e[e.ShareProfile=1]="ShareProfile",e[e.ProfilePicturePanel=2]="ProfilePicturePanel",e[e.LandingScreen=3]="LandingScreen",e[e.ConversationInfoPanel=4]="ConversationInfoPanel",e[e.GroupProfileHeader=5]="GroupProfileHeader",e[e.MeControl=6]="MeControl",e[e.Onboarding=7]="Onboarding",e[e.MeProfile=8]="MeProfile",e[e.UserProfileOnboarding=9]="UserProfileOnboarding",e[e.MeetNowLobby=10]="MeetNowLobby",e[e.PhoneAuth=11]="PhoneAuth"}(fe||(t.AvatarPickerOrigin=fe={})),function(e){e[e.AddToContact=0]="AddToContact",e[e.AppSettings=1]="AppSettings",e[e.AvatarClick=2]="AvatarClick",e[e.BotChatSettingsPanel=3]="BotChatSettingsPanel",e[e.DeepLink=4]="DeepLink",e[e.GroupChatSettingsPanel=5]="GroupChatSettingsPanel",e[e.MeControl=6]="MeControl",e[e.Menu=7]="Menu",e[e.SignOut=8]="SignOut",e[e.LinkPhone=9]="LinkPhone",e[e.Unknown=10]="Unknown"}(ye||(t.ProfileOpenOrigin=ye={})),function(e){e[e.AvatarPicker=0]="AvatarPicker",e[e.ProfilePicturePanel=1]="ProfilePicturePanel"}(Ce||(t.AvatarPolicyChangeOrigin=Ce={})),function(e){e[e.NetworkError=0]="NetworkError",e[e.NoError=1]="NoError",e[e.SizeLimitReached=2]="SizeLimitReached",e[e.UnsupportedImageType=3]="UnsupportedImageType",e[e.ResizeReencodeError=4]="ResizeReencodeError",e[e.HttpError=5]="HttpError"}(ve||(t.AvatarChangeError=ve={})),function(e){e[e.Profile=0]="Profile",e[e.DesktopOverflowMenu=1]="DesktopOverflowMenu",e[e.Mobile=2]="Mobile",e[e.Shortcut=3]="Shortcut",e[e.MeControl=4]="MeControl"}(be||(t.SettingsOrigin=be={})),function(e){e[e.Redstone1=14393]="Redstone1",e[e.Redstone2=15063]="Redstone2",e[e.Redstone3=16299]="Redstone3",e[e.Redstone4=17134]="Redstone4",e[e.Redstone5WithCameraPermissionFix=17677]="Redstone5WithCameraPermissionFix",e[e.Redstone5=17763]="Redstone5",e[e.NineteenH1=18362]="NineteenH1",e[e.NineteenH2=18363]="NineteenH2",e[e.TwentyH1=19041]="TwentyH1",e[e.TwentyH2=19042]="TwentyH2",e[e.TwentyOneH1=19043]="TwentyOneH1",e[e.TwentyOneH2=22e3]="TwentyOneH2"}(Te||(t.RSVersion=Te={}));var Pe=i(167606);Object.defineProperty(t,"LogTraceArea",{enumerable:!0,get:function(){return Pe.LogTraceArea}});var ke,Ae,Ie,we,xe,Ne,De,Me,Le,Re,Ee,Be,Oe,Fe,Ve,Ue,je,He,We,ze,Ge,Ke,qe=i(815063);Object.defineProperty(t,"PlatformType",{enumerable:!0,get:function(){return qe.PlatformType}}),function(e){e[e.Success=0]="Success",e[e.Fail=1]="Fail",e[e.Cancel=2]="Cancel"}(ke||(t.ReencodeState=ke={})),function(e){e[e.MessageActionMenu=0]="MessageActionMenu",e[e.InAppBrowserActionMenu=1]="InAppBrowserActionMenu",e[e.LocationActionMenu=2]="LocationActionMenu",e[e.DocumentActionMenu=3]="DocumentActionMenu",e[e.CapturePhotoOrVideo=4]="CapturePhotoOrVideo",e[e.BotActionMenu=5]="BotActionMenu",e[e.AddInMenu=6]="AddInMenu",e[e.MultiSelect=7]="MultiSelect",e[e.External=8]="External",e[e.UserProfile=9]="UserProfile",e[e.MessageComposer=10]="MessageComposer",e[e.TodayTab=11]="TodayTab",e[e.WindowsSharePanel=12]="WindowsSharePanel",e[e.ContentChannelStream=13]="ContentChannelStream",e[e.ImageCreator=14]="ImageCreator"}(Ae||(t.SharePanelEntryOrigin=Ae={})),function(e){e[e.MissedCall=0]="MissedCall",e[e.GoLive=1]="GoLive",e[e.Photo=2]="Photo",e[e.Video=3]="Video",e[e.File=4]="File",e[e.Text=5]="Text",e[e.Mention=6]="Mention",e[e.Quote=7]="Quote",e[e.Reaction=8]="Reaction",e[e.Sticker=9]="Sticker",e[e.Location=10]="Location",e[e.ScheduledCallInvite=11]="ScheduledCallInvite",e[e.Poll=12]="Poll",e[e.CallbackReminder=13]="CallbackReminder",e[e.PresenceChangeNotification=14]="PresenceChangeNotification",e[e.MediaAlbum=15]="MediaAlbum",e[e.OldFriendBackNotification=16]="OldFriendBackNotification"}(Ie||(t.NotificationTypeAppLaunched=Ie={})),function(e){e[e.Allowed=1]="Allowed",e[e.Blocked=2]="Blocked",e[e.NotContact=3]="NotContact"}(we||(t.PersonAllowed=we={})),function(e){e[e.PictureViewer=1]="PictureViewer",e[e.VideoViewer=2]="VideoViewer",e[e.Prefetch=3]="Prefetch",e[e.AutoDownload=4]="AutoDownload"}(xe||(t.MediaDownloadIntent=xe={})),function(e){e[e.NoNetwork=1]="NoNetwork",e[e.CaptivePortal=2]="CaptivePortal"}(Ne||(t.ConnectivityAlertType=Ne={})),function(e){e.ProductFetchFailed="product_fetch_failed",e.RecommendationLoadSuccess="recommendation_api_success",e.PromotionFetchFailed="promotions_fetch_failed",e.ProductCheckFailed="product_check_failed",e.ProductMapCount="product_map_count",e.ProductNotMapped="product_not_mapped",e.CallingDestinationsFailed="calling_destinations_failed"}(De||(t.SkypeToPhonePaymentFlowStep=De={})),function(e){e.ProductFetchFailed="product_fetch_failed",e.ProductFetchCountMismatch="product_fetch_count_mismatch",e.CurrencyConversionFailed="currency_conversion_failed",e.ProductCheckFailed="product_check_failed"}(Me||(t.CreditPaymentFlowStep=Me={})),function(e){e.TransactionStarted="transaction_started",e.CreateOrder="create_order",e.PaymentStatusChanged="payment_status_changed",e.PaymentApplicationUsernameMismatch="payment_application_username_mismatch",e.FailureProductDetailsEmpty="failure_product_details_empty",e.IosOrderCreateFailed="ios_order_create_failed",e.IosTransactionProcessingFailure="IOS_transaction_processing_failure",e.ProcessingIosOrderCompleted="processing_ios_order_completed",e.ProcessingIosOrderFailed="processing_ios_order_failed",e.CancellingIosOrderCompleted="cancelling_ios_order_completed",e.CancellingIosOrderFailed="cancelling_ios_order_failed",e.LegacyIosOrderNotHandled="legacy_ios_order_not_handled",e.TransactionFinished="transaction_finished",e.IosOrderCreated="ios_order_created",e.FinishTransactionFailed="finish_transaction_failed",e.StratusIosOrderAlreadyCreated="ios_order_already_created",e.StratusIosOrderRenewed="ios_order_renewed",e.StratusIosOrderAlreadyRenewed="ios_order_already_renewed",e.StratusIosOrderRefunded="ios_order_refunded",e.StratusIosOrderAlreadyRefunded="ios_order_already_refunded",e.StratusIosOrderCancelled="ios_order_cancelled",e.StratusIosReceiptProcessed="ios_receipt_processed",e.StratusIosInvalidSkypeNumberService="ios_invalid_skype_number_service",e.StratusIosRetrying="ios_order_retrying",e.StratusIosStoppedRetrying="ios_order_stopped_retrying",e.StratusIosMaxTriesStoppedRetrying="ios_order_maxtries_stopped_retrying",e.PurchaseIntentionGetEmpty="purchase_intention_get_empty",e.PurchaseIntentionPostFailed="purchase_intention_post_failed",e.PurchaseIntentionDeleteFailed="purchase_intention_delete_failed",e.SkypeOrderCreated="skype_order_created",e.SkypeOrderCreateFailed="skype_order_create_failed",e.SkypeOrderCreateLimitReachedRetry="skype_order_create_limit_reached_retry",e.SkypeOrderCreateLimitReachedError="skype_order_create_limit_reached_error",e.MisconfiguredProduct="misconfigured_product",e.ProductFetchFailed="product_fetch_failed",e.CreditOfferFetchFailed="offers_credit_fetch_failed",e.SubscriptionsOfferFetchFailed="offers_subscriptions_fetch_failed",e.BillingInformationFetchFailed="offers_billing_information_fetch_failed",e.OffersProcessingFailed="offers_processing_failed",e.RecommendationLoadSuccess="recommendation_api_success",e.PromotionFetchFailed="promotions_fetch_failed",e.ProductFetchCountMismatch="product_fetch_count_mismatch",e.CurrencyConversionFailed="currency_conversion_failed",e.CallingDestinationsFailed="calling_destinations_failed",e.BillingPeriodsFetchFailed="billing_periods_fetch_failed",e.BillingInformationsFetchFailed="billing_informations_fetch_failed",e.OfferHrefNotFound="offer_href_not_found",e.ProductCheckFailed="product_check_failed",e.PurchaseOptionFetchFailed="purchase_option_fetch_failed",e.ProductMapCountMismatch="product_map_count_mismatch",e.ProductMapCount="product_map_count",e.ProductNotMapped="product_not_mapped",e.ProductFetchTimedOut="product_fetch_timed_out",e.WebflowRedirect="webflow_redirect",e.BuyClick="buy_click",e.BillingPeriodRendered="billing_period_block_rendered",e.BillingPeriodSelected="billing_period_selected",e.DialogPopup="dialog_popup",e.DialogPopupContinue="dialog_popup_continue",e.DialogPopupCancelClick="dialog_popup_cancel_click",e.DialogPhoneVerificationShowDisclaimer="dialog_phone_verification_show_disclaimer",e.DialogPhoneVerificationSkipDisclaimer="dialog_phone_verification_skip_disclaimer",e.DialogKycVerificationShowDisclaimer="dialog_kyc_verification_show_disclaimer",e.DialogKycVerificationSkipDisclaimer="dialog_kyc_verification_skip_disclaimer",e.OrderStatus="order_status",e.PaymentInstrumentFailed="payment_instrument_failed",e.PaymentInstrumentFixClick="payment_instrument_fix_click",e.Payment3dsNeeded="payment_3ds_needed",e.Payment3dsAuthOpening="payment_3ds_auth_opening",e.Payment3dsAuthOpened="payment_3ds_auth_opened",e.Payment3dsAuthClosed="payment_3ds_auth_closed",e.Payment3dsAuthError="payment_3ds_auth_error",e.Payment3dsAuthComplete="payment_3ds_auth_complete",e.Payment3dsAuthResultSuccess="payment_3ds_auth_result_success",e.Payment3dsAuthResultFail="payment_3ds_auth_result_fail",e.Payment3dsNoSkypetoken="payment_3ds_no_skypetoken",e.InitConnectionFailed="initialize_connection_failed",e.ReInitConnection="reinitialize_connection",e.TransactionStartFailed="transaction_started_failed",e.GPlayBillingError="gplay_billing_error",e.GPlayOrderCreateFailed="gplay_order_create_failed",e.GPlayOrderCreated="gplay_order_created",e.GPlayProductDetailsUnsupported="gplay_product_details_unsupported",e.StratusGPlayOrderAlreadyCreated="gplay_order_already_created",e.StratusGPlayOrderRenewed="gplay_order_renewed",e.StratusGPlayOrderAlreadyRenewed="gplay_order_already_renewed",e.StratusGPlayOrderRefunded="gplay_order_refunded",e.StratusGPlayOrderAlreadyRefunded="gplay_order_already_refunded",e.StratusGPlayOrderCancelled="gplay_order_cancelled",e.StratusGPlayReceiptProcessed="gplay_receipt_processed",e.StratusGPlayInvalidSkypeNumberService="gplay_invalid_skype_number_service",e.StratusGPlayTransactionProcessingFailure="gplay_transaction_processing_failure",e.StratusGPlayRetryingOld="gplay_transaction_retrying_old",e.StratusGPlayRetrying="gplay_transaction_retrying",e.StratusGPlayStoppedRetrying="gplay_transaction_stopped_retrying",e.StratusGPlayMaxTriesStoppedRetrying="gplay_transaction_maxtries_stopped_retrying",e.ShowPanel="show_panel",e.ClosePanel="close_panel",e.LoadCreditSuccess="load_credit_success",e.ShowCreditSuccess="show_credit_success",e.LoadCreditFail="load_credit_fail",e.ShowSubscriptionsSuccess="show_subscriptions_success",e.SubscriptionsEmpty="subscriptions_empty",e.SkypeNumberLoaded="skype_number_loaded",e.ClickBuyCredit="buy_credit",e.ClickBuySubscription="buy_subscription",e.ClickBuySkypeNumber="buy_skype_number",e.OrderCreatedSuccess="order_created_success",e.OrderCreatedFail="order_created_fail",e.PurchaseSuccess="purchase_success",e.PurchaseFail="purchase_fail",e.OrderDelivered="order_delivered"}(Le||(t.PaymentFlowStep=Le={})),function(e){e[e.Subscriptions=0]="Subscriptions"}(Re||(t.BalanceStatePanelSection=Re={})),function(e){e.SwiftCard="SwiftCard",e.AudioNode="AudioNode"}(Ee||(t.AudioPlayerOrigin=Ee={})),function(e){e[e.Requested=0]="Requested",e[e.Accepted=1]="Accepted",e[e.Declined=2]="Declined",e[e.Cancelled=3]="Cancelled",e[e.Disabled=4]="Disabled"}(Be||(t.TranslationAction=Be={})),function(e){e[e.PermissionUpdate=0]="PermissionUpdate",e[e.BingConsentUpdate=1]="BingConsentUpdate",e[e.Bing=2]="Bing",e[e.LocationPicker=3]="LocationPicker",e[e.SlashCommand=4]="SlashCommand",e[e.E911Startup=5]="E911Startup",e[e.E911NetworkChange=6]="E911NetworkChange",e[e.E911ConsentUpdate=7]="E911ConsentUpdate",e[e.Startup=8]="Startup"}(Oe||(t.LocationUpdateReason=Oe={})),function(e){e[e.UsersStore=0]="UsersStore",e[e.ABCHStore=1]="ABCHStore"}(Fe||(t.MyProfileFetchOrigin=Fe={})),function(e){e[e.Spam=0]="Spam",e[e.Fraud=1]="Fraud",e[e.ChildExploitation=2]="ChildExploitation",e[e.Pornography=3]="Pornography",e[e.Terrorism=4]="Terrorism",e[e.HateSpeech=5]="HateSpeech",e[e.Harm=6]="Harm",e[e.SelfHarm=7]="SelfHarm",e[e.Harassment=8]="Harassment",e[e.FalseInfo=9]="FalseInfo",e[e.Infringement=10]="Infringement",e[e.MalwareOrVirus=11]="MalwareOrVirus",e[e.NonConsensualIntimateImagery=12]="NonConsensualIntimateImagery",e[e.SexuallyInappropriate=13]="SexuallyInappropriate",e[e.FeedbackBotChat=14]="FeedbackBotChat",e[e.FeedbackBotImage=15]="FeedbackBotImage"}(Ve||(t.ReportCategory=Ve={})),function(e){e[e.ContactRequest=0]="ContactRequest",e[e.DeleteContact=1]="DeleteContact",e[e.BlockContact=2]="BlockContact",e[e.Message=3]="Message",e[e.PictureMessage=4]="PictureMessage",e[e.VideoMessage=5]="VideoMessage",e[e.AudioMessage=6]="AudioMessage",e[e.FileMessage=7]="FileMessage",e[e.BingImage=8]="BingImage",e[e.Profile=9]="Profile",e[e.SearchReportContextListOptions=10]="SearchReportContextListOptions",e[e.ProfilePicture=11]="ProfilePicture",e[e.ImageCreator=12]="ImageCreator"}(Ue||(t.ReportContextListOptions=Ue={})),function(e){e[e.EmoticonAvatarSelected=0]="EmoticonAvatarSelected",e[e.ImageAvatarSelected=1]="ImageAvatarSelected",e[e.MeetNowAvatarSelected=2]="MeetNowAvatarSelected",e[e.ImageUploadError=3]="ImageUploadError",e[e.StickerAvatarSelected=4]="StickerAvatarSelected"}(je||(t.AvatarPickerAction=je={})),function(e){e[e.SkypeNumberWebPanel=0]="SkypeNumberWebPanel",e[e.SkypeNumberList=1]="SkypeNumberList",e[e.StartNativePurchaseExperience=2]="StartNativePurchaseExperience"}(He||(t.SkypeNumberPurchaseModelFlow=He={})),function(e){e.ConversationList="ConversationList",e.DesktopNavigationSearchBox="DesktopNavigationSearchBox",e.Contacts="Contacts"}(We||(t.SearchAccessoryOrigin=We={})),function(e){e.RewardsUpsell="RewardsUpsell",e.FreeCallUpsell="FreeCallUpsell"}(ze||(t.QuickCallSource=ze={})),function(e){e.ContactInviteHeader="ContactInviteHeader.fromCTA",e.DesktopNavigationHeader="DesktopNavigationHeader.fromTopLeftCorner",e.LandingPage="LandingPage",e.MeControl="MeControl",e.MySettingsPanel="MySettingsPanel.fromCTA",e.MySettingsPanelCombinedSettings="MySettingsPanel.fromCombinedSettings",e.PhoneTabButtonSectionSkypeCredit="PhoneTab.ButtonSection.SkypeCredit",e.PhoneTabButtonSectionSkypeToPhone="PhoneTab.ButtonSection.SkypeToPhone",e.PhoneTabCreditBar="PhoneTab.CreditBar",e.PstnCallItem="PstnCallItem.fromCTA",e.CallsPanel="CallsPanel",e.CallsPanelBanner="CallsPanelBanner",e.CallsPanelTop="CallsPanelTop",e.DialerPanel="DialerPanel.UserEntitlements.navigateBalanceState",e.SkypeToPhoneBanner="SkypeToPhoneBanner.Generic",e.BuyCreditFlow="BuyCreditFlow",e.Deeplink="Deeplink.navigateBalanceState",e.PurchaseContinuationPanel="PurchaseContinuationPanel.fallbackToBalanceState",e.SendCreditPanel="SendCreditPanel",e.SettingsHub="SettingsHub.CreditExpiration.navigateBalanceState"}(Ge||(t.BalancePanelSource=Ge={})),function(e){e[e.US=0]="US",e[e.NotSupportedDestination=1]="NotSupportedDestination",e[e.InvalidNumber=2]="InvalidNumber",e[e.Other=3]="Other"}(Ke||(t.CantSendSmsWarningType=Ke={}))},406719:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentLocation=void 0,function(e){e[e.CallsPanel=0]="CallsPanel",e[e.CallsPanelBanner=1]="CallsPanelBanner",e[e.DialerPanel=2]="DialerPanel",e[e.CallsPanelTop=3]="CallsPanelTop"}(i||(t.ExperimentLocation=i={}))},223715:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderButtonType=void 0,function(e){e[e.Action=0]="Action",e[e.Notifications=1]="Notifications",e[e.NotificationsSettings=2]="NotificationsSettings",e[e.Feedback=3]="Feedback",e[e.Contacts=4]="Contacts",e[e.Call=5]="Call",e[e.Profile=6]="Profile",e[e.MeetNow=7]="MeetNow",e[e.NameAndMoodText=8]="NameAndMoodText"}(i||(t.HeaderButtonType=i={}))},87881:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.KeychainKeys=void 0,function(e){e.DesktopSkypeTokenKey="Skype for Desktop",e.DesktopMSATokenDefaultKey="Skype for Desktop MSA",e.MobileSkypeTokenKey="Skype4Life-SkypeToken",e.MobileMSATokenKey="Skype4Life-MSA",e.PhoneAuthRefreshTokenKey="Skype4Life-PhoneAuthRefreshToken",e.PhoneAuthLinkedMsaRefreshTokenKey="Skype4Life-PhoneAuthLinkedMsaRefreshToken",e.PnhAesKey="Skype4Life-PnhAesKey",e.PnhAuthKey="Skype4Life-PnhAuthKey"}(i||(t.KeychainKeys=i={}))},678032:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultLocale=function(e){return i[e]||""};const i={am:"et",ar:"sa",bg:"bg",bn:"in",ca:"es",cs:"cz",cy:"gb",da:"dk",de:"de",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",fi:"fl",fil:"ph",fr:"fr",gl:"es",gu:"in",he:"il",hi:"in",hr:"hr",hu:"hu",id:"id",is:"is",it:"it",ja:"jp",kk:"kz",kn:"in",ko:"kr",ku:"arab-iq",lt:"lt",lv:"lv",ml:"in",mr:"in",ms:"my",nb:"no",nl:"nl",nn:"no",or:"in",pl:"pl",pt:"PT","pt-pt":"pt","pt-br":"br",ro:"ro",ru:"ru",sk:"sk",sl:"si",sr:"cyrl-rs","sr-cyrl":"cyrl-rs","sr-latn":"latn-rs",sv:"se",sw:"ke",ta:"in",te:"in",th:"th",tr:"tr",uk:"ua",ur:"pk",vi:"vn",zh:"cn","zh-hant":"tw","zh-cht":"tw","zh-hk":"tw","zh-mo":"tw"}},527703:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.EncryptedContent=t.UnblockContext=t.BlockContext=t.PNHEvents=void 0,function(e){e[e.IncomingUnknown=0]="IncomingUnknown",e[e.IncomingContactListChange=6]="IncomingContactListChange",e[e.IncomingProfileChange=20]="IncomingProfileChange",e[e.IncomingAvatarChange=21]="IncomingAvatarChange",e[e.IncomingS4BCall=105]="IncomingS4BCall",e[e.IncomingNGCCall=107]="IncomingNGCCall",e[e.IncomingP2PCall=108]="IncomingP2PCall",e[e.IncomingNGCGroupCall=109]="IncomingNGCGroupCall",e[e.IncomingNGCStopRinger=110]="IncomingNGCStopRinger",e[e.IncomingNGCPSTNCall=111]="IncomingNGCPSTNCall",e[e.IncomingGoLiveStart=112]="IncomingGoLiveStart",e[e.IncomingGoLiveStop=113]="IncomingGoLiveStop",e[e.IncomingWarmCall=117]="IncomingWarmCall",e[e.IncomingNGCEncryptedCall=118]="IncomingNGCEncryptedCall",e[e.IncomingChatMessage=200]="IncomingChatMessage",e[e.IncomingChatGroupMessage=201]="IncomingChatGroupMessage",e[e.IncomingChatMention=203]="IncomingChatMention",e[e.IncomingChatHearts=204]="IncomingChatHearts",e[e.MessageP2PFromV2=211]="MessageP2PFromV2",e[e.ThreadActivityP2PFromV2=212]="ThreadActivityP2PFromV2",e[e.ConversationUpdateP2PFromV2=213]="ConversationUpdateP2PFromV2",e[e.UedP2PFromV2=214]="UedP2PFromV2",e[e.ThreadActivity=222]="ThreadActivity",e[e.Ued=299]="Ued",e[e.IncomingChatVideo=301]="IncomingChatVideo",e[e.IncomingChatPhoto=302]="IncomingChatPhoto",e[e.IncomingChatAudio=303]="IncomingChatAudio",e[e.IncomingChatVideoCloud=305]="IncomingChatVideoCloud",e[e.IncomingChatFile=306]="IncomingChatFile",e[e.IncomingConsumptionHorizonChange=308]="IncomingConsumptionHorizonChange",e[e.IncomingTPUMConciergeMessage=404]="IncomingTPUMConciergeMessage",e[e.EmergencyRestoreEndpoints=405]="EmergencyRestoreEndpoints",e[e.SceUserServicesChange=601]="SceUserServicesChange",e[e.IncomingContactRequest=801]="IncomingContactRequest",e[e.IncomingContactAccept=802]="IncomingContactAccept",e[e.IncomingContactInviteListChange=803]="IncomingContactInviteListChange",e[e.IncomingContactBlockChange=804]="IncomingContactBlockChange",e[e.IncomingUpsPresence=1200]="IncomingUpsPresence",e[e.ContentChannelNotification=2041]="ContentChannelNotification",e[e.ContentChannelSync=2042]="ContentChannelSync"}(i||(t.PNHEvents=i={})),t.BlockContext="block",t.UnblockContext="unblock",t.EncryptedContent="(encrypted content)"},773151:(e,t)=>{var i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.RowSize=t.RecentsSortBy=void 0,function(e){e[e.Time=0]="Time",e[e.Unread=1]="Unread",e[e.Active=2]="Active"}(i||(t.RecentsSortBy=i={})),function(e){e[e.Default=0]="Default",e[e.Compact=1]="Compact",e[e.ExtraCompact=2]="ExtraCompact"}(o||(t.RowSize=o={}))},16549:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonAgnosticGradientFillColorsMappings=t.AgnosticGradientFillButtonColors=t.GradientStopColorsByMainColor=t.Color=void 0;const o=i(79710);var n;!function(e){e.transparent="rgba(0, 0, 0, 0)",e.whiteOverlay20="rgba(255, 255, 255, 0.2)",e.whiteOverlay30="rgba(255, 255, 255, 0.3)",e.whiteOverlay40="rgba(255, 255, 255, 0.4)",e.whiteOverlay50="rgba(255, 255, 255, 0.5)",e.whiteOverlay70="rgba(255, 255, 255, 0.7)",e.whiteOverlay80="rgba(255, 255, 255, 0.8)",e.whiteOverlay90="rgba(255, 255, 255, 0.9)",e.white="#FFFFFF",e.gray50Overlay50="rgba(241, 241, 244, 0.5)",e.gray50overlay95="rgba(241, 241, 244, 0.95)",e.gray50="#F1F1F4",e.gray550="#3B3A39",e.gray100Overlay30="rgba(229, 228, 232, 0.3)",e.gray100Overlay80="rgba(229, 228, 232, 0.8)",e.gray100="#E5E4E8",e.gray200Overlay10="rgba(213, 217, 222, 0.1)",e.gray200Overlay20="rgba(213, 217, 222, 0.2)",e.gray200Overlay60="rgba(213, 217, 222, 0.6)",e.gray200Overlay80="rgba(213, 217, 222, 0.8)",e.gray200="#D5D9DE",e.gray300Overlay10="rgba(138, 141, 145, 0.1)",e.gray300Overlay70="rgba(138, 141, 145, 0.7)",e.gray300Overlay80="rgba(138, 141, 145, 0.8)",e.gray300="#8A8D91",e.gray400Overlay10="rgba(43, 44, 51, 0.1)",e.gray400Overlay20="rgba(43, 44, 51, 0.2)",e.gray400Overlay40="rgba(43, 44, 51, 0.4)",e.gray400Overlay50="rgba(43, 44, 51, 0.5)",e.gray400Overlay70="rgba(43, 44, 51, 0.7)",e.gray400Overlay80="rgba(43, 44, 51, 0.8)",e.gray400overlay95="rgba(43, 44, 51, 0.95)",e.gray400="#2B2C33",e.gray500="#6E6E6E",e.gray600="#090909",e.blackOverlay10="rgba(0, 0, 0, 0.1)",e.blackOverlay20="rgba(0, 0, 0, 0.2)",e.blackOverlay35="rgba(0, 0, 0, 0.35)",e.blackOverlay40="rgba(0, 0, 0, 0.4)",e.blackOverlay50="rgba(0, 0, 0, 0.5)",e.blackOverlay60="rgba(0, 0, 0, 0.6)",e.blackOverlay65="rgba(0, 0, 0, 0.65)",e.blackOverlay70="rgba(0, 0, 0, 0.7)",e.blackOverlay80="rgba(0, 0, 0, 0.8)",e.black="#000000",e.blueOverlay10="rgba(22, 134, 217, 0.1)",e.blueOverlay30="rgba(22, 134, 217, 0.3)",e.blueOverlay50="rgba(22, 134, 217, 0.5)",e.blueOverlay70="rgba(22, 134, 217, 0.7)",e.blue="#1686D9",e.shadow="rgba(69, 72, 82, 0.2)",e.yellow="#F0C01E",e.orange="#EC7758",e.orangeAccessible="#CA5010",e.orangeGradient="#FF8C00",e.rose="#F7B7A6",e.fuschia="#E362A6",e.mint="#8FD3C5",e.pink="#E262A6",e.red="#F44336",e.redIOS="#ff3b30",e.greenIOS="#4cd964",e.greenOverlay10="rgba(76, 175, 80, 0.1)",e.green="#4CAF50",e.greenLight="#4DD965",e.raiseHandOrange="#FFAA44",e.swiftCardsImageOverlay="rgba(1, 1, 24, 0.05)",e.dialPadHoverDark="#3E3F45",e.markupRed="#D10000",e.markupRedOrange="#F00A00",e.markupOrange="#FB5D00",e.markupYellowOrange="#FFC200",e.markupYellow="#FFEC00",e.markupYellowGreen="#A0D200",e.markupGreen="#1B8014",e.markupBlueGreen="#00706A",e.markupBlue="#0000D8",e.markupBlueViolet="#4D2279",e.markupViolet="#3C0058",e.markupRedViolet="#A00054",e.hotTrendingBlue="#3D6CDC",e.callStageDark="#1F1F1F",e.callStageLight="#2B2B2B",e.sxStatusBarDefault="#1F1F1F",e.sxBlue="#00aff0",e.desktopUpgradeNotificationGreen="#F5F9EC",e.desktopUpgradeNotificationGreenHover="#DFE8CC",e.desktopMandatoryUpgradeNotificationRed="#FAD7D6",e.desktopMandatoryUpgradeNotificationRedHover="#F5B9B8",e.leftNavRowSelectionColor="#FFFFFF",e.leftNavRowHoverColor="#EAEAEA",e.rightCloseSeparator="#484644",e.darkThemeBackground="#19191B",e.darkThemeBackgroundOverlay85="rgba(25, 25, 27, 0.85)",e.darkThemeSecondaryTextColor="#ACACAC",e.darkThemeSecondaryBackground="#202023",e.classicDarkBubbleOther="#1E2224",e.classicDarkBubbleTextOther="#CCCCCC",e.classicDarkBubbleSelf="#2B333B",e.classicDarkBubbleTextSelf="#CCCCCC",e.classicDarkPrimaryBackground="#1F1F1F",e.classicDarkSecondaryBackground="#1F1F1F",e.classicDarkMessageStreamBackground="#000000",e.darkMessageComposerContentBackground="rgba(90, 92, 115, 0.3)",e.darkThemeSisuTextColor="#E5E4E8",e.defaultThemeSisuTextColor="#2B2C33",e.accessibleBackground="#606060",e.available="#4DD965",e.away="#FFBA00",e.coachMarkBackground="#1479c7",e.adaptiveCardDarkThemeBorder="#404040",e.adaptiveCardSubtleAccent="rgba(22, 134, 217, 0.5)",e.adaptiveCardSubtleGood="rgba(76, 175, 80, 0.8)",e.adaptiveCardSubtleWarning="rgba(240, 192, 30, 0.8)",e.adaptiveCardSubtleAttention="rgba(244, 67, 54, 0.8)",e.searchResultBackgroundColor="#0000FF",e.pesPickerBackgroundLight="#FBFBFB",e.pesPickerBackgroundDark="#242424",e.delphiBubbleColorOther="#F2F6F9",e.delphiBubbleColorSelf="#DBF4FD",e.delphiBubbleColorSelfModernize="#DBF1FF",e.delphiBubbleColorBot="#F2F6F9",e.delphiBubbleText="#252423",e.delphiSecondaryBackgroundColor="#F0F4F8",e.delphiSecondaryRowHighlightColor="#C7EDFC",e.delphiSecondaryRowHoverColor="rgba(199, 237, 252, 0.5)",e.delphiMessageComposerBackgroundColor="#F1F1F4",e.delphiPrimaryTextColor="#252423",e.delphiDarkBubbleColorOther="#1E2224",e.delphiDarkBubbleColorSelf="#2B333B",e.delphiDarkBubbleColorBot="#1E2224",e.delphiDarkBubbleText="#D5D9DE",e.delphiDarkPrimaryTextColor="#D5D9DE",e.delphiDarkSecondaryTextColor="#8A8D91",e.blueLight="#00BCF2",e.blueMedium="#009AE3",e.blueDark="#0078d4",e.blueDarker="#016BB3",e.blueDarkOverlay50="rgba(0, 120, 212, 0.5)",e.purpleLight="#C182D1",e.purpleDark="#C239B3",e.purpleDarkOverlay50="rgba(194, 57, 179, 0.5)",e.blurpleLight="#8378DE",e.blurpleDark="#49409A",e.blurpleDarkOverlay50="rgba(73, 64, 154, 0.5)",e.pinkLight="#EE9889",e.pinkDark="#FF6767",e.pinkDarkOverlay50="rgba(255, 103, 103, 0.5)",e.orangeLight="#FFAA44",e.orangeDark="#F7894A",e.orangeDarkOverlay50="rgba(247, 137, 74, 0.5)",e.todoTaskFolderIconColor="#465EFC",e.todoSharedFolderIconColor="rgb(138,141,145)",e.syncAddressBookHeader="#0284DC",e.docFile="#2b579a",e.xlsFile="#217346",e.pptFile="#d24726",e.oneNoteFile="#80397b",e.powerSavingCallingBG1="#05091C",e.powerSavingCallingBG2="#051B2D",e.teamsBackground="#5357AE",e.avatarRed="#CC0700",e.avatarRedLight="#FFBBB7",e.avatarRedLighter="#FFEBE6",e.avatarOrange="#D4380D",e.avatarOrangeLight="#FFC8A3",e.avatarOrangeLighter="#FFF7F0",e.avatarBrown="#BD6100",e.avatarBrownLight="#FFBF73",e.avatarBrownLighter="#FFFBF0",e.avatarOlive="#618C03",e.avatarOliveLight="#D3F261",e.avatarOliveLighter="#FEFFF0",e.avatarGreen="#00853E",e.avatarGreenLight="#C2F29D",e.avatarGreenLighter="#F8FFF0",e.avatarTeal="#157E82",e.avatarTealLight="#B5F5EC",e.avatarTealLighter="#F0FFFB",e.avatarCyan="#0090B8",e.avatarCyanLight="#C7EEFF",e.avatarCyanLighter="#F0FCFF",e.avatarBlue="#185ABD",e.avatarBlueLight="#B9D6F0",e.avatarBlueLighter="#F0F9FF",e.avatarBlueviolet="#585DC1",e.avatarBluevioletLight="#C3CAFA",e.avatarBluevioletLighter="#F0F3FF",e.avatarPurple="#7719AA",e.avatarPurpleLight="#E6D1F2",e.avatarPurpleLighter="#FBF0FF",e.avatarFuchsia="#C239B3",e.avatarFuchsiaLight="#EDCEE5",e.avatarFuchsiaLighter="#FFF0FA",e.avatarViolet="#C41D7F",e.avatarVioletLight="#FFDBEA",e.avatarVioletLighter="#FFF0F5"}(n||(t.Color=n={}));const r={gradientcolor1:n.blueLight,gradientcolor2:n.blueDark},a={gradientcolor1:n.purpleLight,gradientcolor2:n.purpleDark},s={gradientcolor1:n.orangeLight,gradientcolor2:n.orangeDark},l={gradientcolor1:n.blurpleLight,gradientcolor2:n.blurpleDark},c={gradientcolor1:n.pinkLight,gradientcolor2:n.pinkDark},d={gradientcolor1:n.greenLight,gradientcolor2:n.green};var u;t.GradientStopColorsByMainColor={[n.blue]:r,[n.blueDark]:r,[n.mint]:r,[n.orange]:s,[n.orangeDark]:s,[n.yellow]:s,[n.fuschia]:a,[n.purpleLight]:a,[n.purpleDark]:a,[n.pink]:c,[n.pinkDark]:c,[n.rose]:c,[n.blurpleLight]:l,[n.blurpleDark]:l,[n.green]:d},function(e){e[e.blue=1]="blue",e[e.mediumBlue=2]="mediumBlue",e[e.darkBlue=3]="darkBlue",e[e.orange=4]="orange",e[e.green=5]="green",e[e.darkGreen=6]="darkGreen",e[e.darkPurple=7]="darkPurple"}(u||(t.AgnosticGradientFillButtonColors=u={})),t.ButtonAgnosticGradientFillColorsMappings={[u.blue]:[n.blueDark,n.blueLight],[u.darkBlue]:[n.blueDarker,n.blueDark],[u.orange]:[n.orangeDark,n.orangeLight],[u.green]:[n.greenLight,n.green],[u.darkGreen]:[o.SkypeColor.greenGradientLightPrimaryStop1,o.SkypeColor.greenGradientLightPrimaryStop0],[u.mediumBlue]:[o.SkypeColor.blueGradientLightPrimaryStop1,o.SkypeColor.blueGradientLightPrimaryStop0],[u.darkPurple]:[o.SkypeColor.purpleGradientLightPrimaryStop1,o.SkypeColor.purpleGradientLightPrimaryStop0]}},641400:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IconSize=t.SkypeIcon=t.IconCollection=void 0,t.getIcon=function(e,t,i,n={}){const{gradientcolor1:r=i,gradientcolor2:a=i}=Object.assign(Object.assign({},o.GradientStopColorsByMainColor[i]),n),{viewBox:l="0 0 24 24",width:c=t,height:d=t}=n,u={viewBox:l,width:c,height:d,fill:i,gradientcolor1:r,gradientcolor2:a};return s(e).default(u)},t.resolveIcons=function(){return{add:s(r.Plus).default,addCircle:s(r.AddCircle).default,alert:s(r.AlertOn).default,alertOff:s(r.AlertOff).default,arrowCounterclockwise:s(r.ArrowCounterclockwise).default,arrowDownload:s(r.Download).default,arrowExpand:s(r.ArrowExpand).default,arrowForward:s(r.ForwardItem).default,arrowLeft:s(r.Left).default,arrowRight:s(r.Right).default,arrowReply:s(r.Reply).default,arrowStepBack:s(r.ArrowStepBack).default,call:s(r.Call).default,checkmark:s(r.Checkmark).default,checkmarkCircle:s(r.CheckmarkCircle).default,chevronDown:s(r.DownChevron).default,chevronLeft:s(r.LeftChevron).default,chevronRight:s(r.RightChevron).default,chevronUp:s(r.UpChevron).default,compose:s(r.Compose).default,copy:s(r.Copy).default,designer:s(r.Designer).default,dialpad:s(r.Dialpad).default,dismiss:s(r.ClosePanel).default,dismissCircle:s(r.DismissCircle).default,dismissCircleFilled:s(r.DismissCircleInverted).default,doorArrowLeft:s(r.DoorArrowLeft).default,edit:s(r.Topic).default,filter:s(r.FilterMenu).default,glasses:s(r.Glasses).default,glassesOff:s(r.GlassesOff).default,globe:s(r.Globe).default,globeFilled:s(r.GlobeFilled).default,imageMultiple:s(r.ImageMultiple).default,imageSparkle:s(r.ImageSparkle).default,info:s(r.Info).default,lightbulb:s(r.Lightbulb).default,location:s(r.Location).default,moreCircle:s(r.MoreCircle).default,moreHorizontal:s(r.More).default,moreVertical:s(r.MoreVertical).default,open:s(r.OpenOutside).default,people:s(r.ContactGroupTwoPersonas).default,search:s(r.Search).default,send:s(r.Send).default,sendFilled:s(r.SendFilled).default,settings:s(r.Settings).default,shareiOS:s(r.ShareiOS).default,speaker:s(r.Speaker).default,speakerOff:s(r.SpeakerOff).default,squareDismiss:s(r.SquareDismiss).default,star:s(r.Star).default,starOff:s(r.StarOff).default,translate:s(r.Translate).default,warning:s(r.Warning).default}};const o=i(16549);var n,r,a;function s(e){switch(e){case r.Blank:return i(867885);case r.SkypeIcon:return i(526019);case r.MSOutlook:return i(820976);case r.MSXbox:return i(229165);case r.MSOneDrive:return i(337945);case r.MSOffice:return i(769946);case r.Bing:return i(679604);case r.BingFull:return i(311955);case r.MSTeams:return i(245531);case r.CallStart:return i(831081);case r.CallEnd:return i(906098);case r.Video:return i(953432);case r.VideoFilled:return i(885125);case r.VideoFilledInvertedGradient:return i(79976);case r.VideoOff:return i(14582);case r.Dialpad:return i(679944);case r.DialpadFilledInvertedGradient:return i(935818);case r.Microphone:return i(407780);case r.MicrophoneOff:return i(307189);case r.MicrophoneActivity:return i(67393);case r.MicrophoneSpark:return i(614506);case r.More:return i(901590);case r.ScreenShare:return i(409581);case r.ScreenShareGradient:return i(161083);case r.ScreenShareOff:return i(706717);case r.ScreenShareStopGradient:return i(114783);case r.CallMissed:return i(788278);case r.CallIn:return i(332680);case r.CallOut:return i(643183);case r.CallError:return i(550012);case r.Favourite:return i(799883);case r.FavouriteFilled:return i(370504);case r.CallDisabled:return i(972354);case r.Landline:return i(235504);case r.ShareiOS:return i(592583);case r.Clippy:return i(313890);case r.Mention:return i(167447);case r.Call:return i(764303);case r.CallAdd:return i(638920);case r.CallAddGradient:return i(322516);case r.CallQualityIndicator:return i(677466);case r.Contact:return i(754431);case r.ContactAdd:return i(859462);case r.PersonAddGradient:return i(249345);case r.SkypeAddressbook:return i(524572);case r.ContactCard:return i(103389);case r.ContactGroupAdd:return i(946174);case r.ContactGroup:return i(276441);case r.BlockNotification:return i(348612);case r.ContactGroupCall:return i(756114);case r.ContactGroupTwoPersonas:return i(23090);case r.ContactGroupTwoPersonasGradient:return i(117916);case r.Bot:return i(982173);case r.BotAdd:return i(49865);case r.Message:case r.Chat:return i(947100);case r.MessageGradient:return i(763701);case r.Videomail:return i(29848);case r.File:return i(823958);case r.FileAudio:return i(886899);case r.Folder:return i(78472);case r.Menu:return i(773489);case r.MenuList:return i(518671);case r.Location:return i(784770);case r.MyLocation:return i(15899);case r.EmoticonStroke:return i(352289);case r.EmoticonNotPresent:return i(220817);case r.Checkmark:return i(452622);case r.CheckmarkCircle:return i(990402);case r.CheckmarkStarburst:return i(50550);case r.UnreadMark:return i(629233);case r.ForwardItem:return i(19470);case r.SwitchCamera:return i(801683);case r.Badge:return i(738150);case r.MSWord:return i(443466);case r.MSWordIllustration:return i(161817);case r.MSExcel:return i(886480);case r.MSExcelIllustration:return i(698059);case r.MSPowerPoint:return i(553014);case r.MSPowerPointIllustration:return i(712938);case r.MSVisio:return i(660183);case r.MSOneNote:return i(929380);case r.FileMultiple:return i(707431);case r.PhoneLaptop:return i(131114);case r.QuoteClose:return i(782349);case r.Media:return i(407352);case r.Send:return i(440619);case r.SendFilled:return i(119846);case r.Share:return i(702998);case r.MoreVertical:return i(176939);case r.MoreCircle:return i(473745);case r.QuickLook:return i(904152);case r.Undo:return i(639636);case r.SkypeTranslator:return i(894736);case r.Translate:return i(201126);case r.ShareAndroid:return i(981962);case r.QuoteOpen:return i(743869);case r.VolumeMax:return i(398430);case r.VolumeMid:return i(552861);case r.VolumeMin:return i(456821);case r.VolumeOff:return i(811461);case r.Search:return i(4950);case r.Headset:return i(685322);case r.Bluetooth:return i(401310);case r.Camera:return i(711426);case r.Topic:return i(904318);case r.Play:return i(1274);case r.PlayFilled:return i(873310);case r.PlayGradient:return i(18729);case r.PauseOffCircle:return i(637638);case r.PauseCircle:return i(665160);case r.Pause:return i(12443);case r.PauseGradient:return i(493503);case r.Mail:return i(930431);case r.MailOff:return i(8127);case r.Ok:return i(305038);case r.Cancel:return i(520652);case r.Plus:return i(28551);case r.AddCircle:return i(983291);case r.Down:return i(21609);case r.Up:return i(356619);case r.DownChevron:return i(169468);case r.UpChevron:return i(225547);case r.LeftChevron:return i(744743);case r.Nub:return i(559335);case r.RightChevron:return i(67007);case r.Picture:return i(431608);case r.Save:return i(909183);case r.Backspace:return i(908223);case r.NavigationBack:return i(570202);case r.AddText:return i(579185);case r.NavigationForward:return i(543740);case r.Move:return i(869124);case r.HeartOutline:return i(731359);case r.ScreenCapture:return i(654e3);case r.FlashOn:return i(583675);case r.FlashOff:return i(909361);case r.SkypeCredit:return i(931205);case r.QR:return i(134754);case r.Globe:return i(420965);case r.GlobeFilled:return i(50884);case r.SubscriptionRegion:return i(512981);case r.SubscriptionWorld:return i(93285);case r.GlobeCredit:return i(906410);case r.CreditGlobe:return i(453296);case r.Money:return i(279605);case r.Error:return i(457878);case r.Warning:return i(989297);case r.Info:return i(79181);case r.Question:return i(413101);case r.Refresh:return i(972029);case r.Privacy:return i(188137);case r.Settings:return i(712420);case r.SkypeMobile:return i(630487);case r.Notification:return i(360040);case r.NotificationOff:return i(112453);case r.InfoStroke:return i(902765);case r.Link:return i(600866);case r.LinkDismiss:return i(479407);case r.LocationPin:return i(966986);case r.Pinning:case r.Pin:return i(813093);case r.PinOff:return i(643409);case r.Reload:return i(293182);case r.MagicWand:return i(991527);case r.Alert:return i(621949);case r.AlertOn:return i(542406);case r.AlertOff:return i(340621);case r.AppStore:return i(899942);case r.CallAnimSmall1:return i(959875);case r.CallAnimSmall4:return i(533237);case r.PresenceOnline:return i(270716);case r.PresenceOnlineGradient:return i(631974);case r.PresenceBlocked:return i(341976);case r.Download:return i(38225);case r.Card:return i(394225);case r.Lightbulb:return i(18712);case r.Filter:return i(224553);case r.FilterMenu:return i(653355);case r.Clear:return i(129336);case r.Connecting:return i(862808);case r.Sticker:return i(962604);case r.StickerDeleted:return i(822639);case r.ClosePanel:return i(794361);case r.Calendar:return i(84781);case r.Bookmark:return i(47613);case r.Bookmarked:return i(38358);case r.CallList:return i(542727);case r.PresenceDND:return i(119022);case r.PresenceInvisible:return i(963823);case r.PresenceAway:return i(470352);case r.PresenceBusy:return i(336473);case r.Compose:return i(596679);case r.CallRecord:return i(298407);case r.CallRecordGradient:return i(693559);case r.CallRecordStroke:return i(246275);case r.CallRecordDot:return i(874934);case r.MobileOk:return i(980725);case r.MobileSending:return i(255060);case r.MobileSms:return i(282674);case r.MobileError:return i(733589);case r.Gallery1:return i(374882);case r.SwitchVideoCamera:return i(735532);case r.PrivateCallFill:return i(841820);case r.PrivateSessionKey:return i(595166);case r.PrivateChatFill:return i(149599);case r.Lock:case r.LockClosed:return i(6597);case r.Delete:return i(877683);case r.SettingsAudio:return i(368629);case r.Birthday:return i(775281);case r.Stop:return i(714514);case r.ContactsGroup:return i(604047);case r.PeopleAdd:return i(586755);case r.BookContacts:return i(525685);case r.People:return i(753326);case r.PersonCircle:return i(120894);case r.PersonEdit:return i(965840);case r.PersonVoice:return i(958222);case r.PersonNote:return i(397931);case r.Copy:return i(929992);case r.Gif:return i(460774);case r.MobileSmsNew:return i(434066);case r.MessageUnread:return i(396049);case r.MessageRead:return i(278661);case r.SkypeInvite:return i(285178);case r.RotateOrientation:return i(3149);case r.CallInFilled:return i(172024);case r.TV:return i(921984);case r.CallOutFilled:return i(717933);case r.CallMissedFilled:return i(460159);case r.CallBlockedFilled:return i(494774);case r.CallErrorFilled:return i(837747);case r.Reply:return i(310303);case r.QuestionCircle:return i(714907);case r.SkypeNumber:return i(717163);case r.CameraTest:return i(887563);case r.ClosedCaption:return i(903683);case r.ClosedCaptionOff:return i(103241);case r.ClosedCaptionFilled:return i(933144);case r.SwitchAccount:return i(881814);case r.SelectAll:return i(728135);case r.SkypeOut:return i(188264);case r.CallOptions:return i(51887);case r.Expand:return i(682191);case r.Contract:return i(85920);case r.Office:return i(913133);case r.Snapshot:return i(258821);case r.Recent:return i(799965);case r.Hide:return i(522162);case r.MissingPreview:return i(143798);case r.Paste:return i(723169);case r.MeetNow:return i(14759);case r.MeetNowFilled:return i(228954);case r.ModeratedChat:return i(52879);case r.SoundWave:return i(287182);case r.GPS:return i(237667);case r.LiveLocation:return i(222687);case r.PanelBottomFilled:return i(241434);case r.PanelLeftFilled:return i(673462);case r.PanelFloatingFilled:return i(161149);case r.Repeat:return i(606433);case r.ListClock:return i(582209);case r.LanguageSwitch:return i(650062);case r.CallWarning:return i(620528);case r.Robot:return i(647706);case r.Wand:return i(990961);case r.FilePDF:return i(694661);case r.FilePDFIllustration:return i(779910);case r.FileAVI:case r.FileVideo:return i(355290);case r.FileAVIIllustration:case r.FileVideoIllustration:return i(963933);case r.FileAudioIllustration:return i(887243);case r.DownArrow:return i(237732);case r.FileIllustration:return i(375973);case r.FileZip:return i(152513);case r.FileZipIllustration:return i(271368);case r.FilePicture:return i(266156);case r.FilePictureIllustration:return i(112880);case r.ArrowExit:return i(49338);case r.ArrowSortDownLines:return i(624147);case r.Bin:return i(525510);case r.Broom:return i(140962);case r.Maximize:return i(4754);case r.Minimize:return i(468728);case r.Glasses:return i(524505);case r.GlassesOff:return i(123809);case r.Prohibited:return i(788787);case r.Speaker:return i(429125);case r.SpeakerOff:return i(971477);case r.SquareDismiss:return i(138289);case r.Star:return i(774189);case r.StarOff:return i(285775);case r.ArrowCounterclockwise:return i(400498);case r.ArrowStepBack:return i(551604);case r.ArrowExpand:return i(256513);case r.ImageMultiple:return i(276001);case r.CallsInverted:return i(79264);case r.CallsInvertedGradient:return i(646073);case r.ChatsInverted:return i(852917);case r.ChatsInvertedGradient:return i(958976);case r.CameraInverted:return i(558680);case r.ContactsGroupInverted:return i(124630);case r.AlertFillNewFont:return i(879286);case r.AlertFillNewFontGradient:return i(346836);case r.BookContactsFill:return i(706270);case r.BookContactsFillInvertedGradient:return i(385270);case r.StickersCamera:return i(209898);case r.ReactionAdd:return i(325423);case r.AdMaskNeg:return i(875496);case r.GuestAccountExpired:return i(587610);case r.GuestAccount:return i(697918);case r.GridView:return i(668458);case r.FocusedView3:return i(419688);case r.ContentView:return i(88026);case r.Schedule:return i(418815);case r.CircleBigNeg:return i(541366);case r.PreviousNext:return i(901793);case r.CallerID:return i(993997);case r.Poll:return i(990362);case r.CategoryTrending:return i(803157);case r.CategoryHappy:return i(354176);case r.CategorySad:return i(579765);case r.CategoryYes:return i(382675);case r.CategoryNo:return i(736596);case r.CategoryCute:return i(484639);case r.MessageVideo:return i(22625);case r.ClosedCaptionSettings:return i(984008);case r.OpenOutside:return i(175422);case r.Exclaimation:return i(94363);case r.CallMerge:return i(301);case r.OriginalSize:case r.ViewSwitcher:return i(665795);case r.Presenter:return i(943770);case r.Audience:return i(909391);case r.GalleryLarge:return i(378677);case r.Gallery:return i(966827);case r.FitToWindow:return i(632698);case r.StartIncomingVideo:return i(812522);case r.Left:return i(370222);case r.Right:return i(579654);case r.ScreenSharingRequestControl:return i(198923);case r.ScreenSharingStopControl:return i(394478);case r.GifPlay:return i(916912);case r.BackgroundReplacement:return i(445188);case r.RaiseHand:return i(785992);case r.LowerHand:return i(419930);case r.LowerHandGradient:return i(37693);case r.RaiseHandCrossed:return i(825144);case r.Format:return i(27793);case r.Bold:return i(546696);case r.Italic:return i(835427);case r.Strikethrough:return i(143117);case r.CodeSnippet:return i(651911);case r.Cut:return i(600810);case r.EmojiAdd:return i(698463);case r.EmojiAddGradient:return i(355218);case r.TwincamMid:return i(474684);case r.TwincamMidGradient:return i(142584);case r.TwincamMidOff:return i(364157);case r.TwincamMidOffGradient:return i(84910);case r.TopPanelExpand:return i(647558);case r.TopPanelCollapse:return i(433700);case r.CallTransfer:return i(849961);case r.CallRemoteNdiRecord:return i(583237);case r.AddImage:return i(569808);case r.Click:return i(504277);case r.Tap:return i(377362);case r.TodayTabInverted:return i(364885);case r.TodayTabInvertedGradient:return i(766567);case r.TabAdd:return i(878487);case r.Eye:return i(295571);case r.SignOut:return i(277046);case r.Highlight:return i(461926);case r.News:return i(734808);case r.HeartCircle:return i(15128);case r.DismissCircle:return i(206231);case r.DismissCircleInverted:return i(546225);case r.DoorArrowLeft:return i(381744);case r.History:return i(16371);case r.SearchSite:return i(63349);case r.Briefcase:return i(702527);case r.Color:return i(717220);case r.DeviceMeetingRoomRemote:return i(387044);case r.EmojiLaugh:return i(439898);case r.Games:return i(890441);case r.HatGraduation:return i(577775);case r.Health:return i(894677);case r.Language:return i(507710);case r.Luggage:return i(101738);case r.Pen:return i(722958);case r.PeopleCommunity:return i(835092);case r.SportSoccer:return i(103044);case r.Sparkle:return i(225444);case r.ImageSparkle:return i(518437);case r.DesignerColored:return i(43358);case r.Designer:return i(292433);case r.ToText:return i(27793);case r.ToTextFilled:return i(996048);case r.PinFilled:return i(356305);case r.PersonDelete:return i(364189);case r.StarEdit:return i(305821);case r.ContactPermission:return i(151391);case r.LinkYourPhone:return i(520472);case r.PersonAvailable:return i(398375);case r.Phone:return i(754620);case r.Outlook:return i(245146);case r.Google:return i(735780);case r.Medal:return i(115219);case r.Channel:return i(873389);case r.PhoneChat:return i(331703);case r.VideoRecording:return i(223535);case r.ReOrderDots:return i(476188);case r.PersonSquare:return i(875204);case r.ScreenAndCamera:return i(771386);case r.VideoClipMultiple:return i(640409);case r.SIM:return i(482079);case r.SlideSearch:return i(104256);case r.EyeOff:return i(385315);case r.CloudArrowDown:return i(30894);case r.VideoChat:return i(858116);case r.Whiteboard:return i(434998);case r.TextBulletList:return i(865770);case r.TextNumberList:return i(436837);case r.TextIndent:return i(359437);case r.TextCollapse:return i(298880);case r.ArrowUndo:return i(774656);case r.ArrowRedo:return i(833853);default:return i(867885)}}!function(e){e[e.Skype=1]="Skype"}(n||(t.IconCollection=n={})),function(e){e[e.Blank=0]="Blank",e[e.SkypeIcon=1]="SkypeIcon",e[e.MSOutlook=2]="MSOutlook",e[e.MSXbox=3]="MSXbox",e[e.MSOneDrive=4]="MSOneDrive",e[e.MSOffice=5]="MSOffice",e[e.Bing=6]="Bing",e[e.BingFull=7]="BingFull",e[e.MSTeams=8]="MSTeams",e[e.CallStart=9]="CallStart",e[e.CallEnd=10]="CallEnd",e[e.Video=11]="Video",e[e.VideoFilled=12]="VideoFilled",e[e.VideoFilledInvertedGradient=13]="VideoFilledInvertedGradient",e[e.VideoOff=14]="VideoOff",e[e.Dialpad=15]="Dialpad",e[e.DialpadFilledInvertedGradient=16]="DialpadFilledInvertedGradient",e[e.Microphone=17]="Microphone",e[e.MicrophoneOff=18]="MicrophoneOff",e[e.More=19]="More",e[e.ScreenShare=20]="ScreenShare",e[e.ScreenShareGradient=21]="ScreenShareGradient",e[e.ScreenShareOff=22]="ScreenShareOff",e[e.ScreenShareStopGradient=23]="ScreenShareStopGradient",e[e.CallMissed=24]="CallMissed",e[e.CallIn=25]="CallIn",e[e.CallOut=26]="CallOut",e[e.CallError=27]="CallError",e[e.Favourite=28]="Favourite",e[e.FavouriteFilled=29]="FavouriteFilled",e[e.CallDisabled=30]="CallDisabled",e[e.Landline=31]="Landline",e[e.ShareiOS=32]="ShareiOS",e[e.Clippy=33]="Clippy",e[e.Mention=34]="Mention",e[e.Call=35]="Call",e[e.CallAdd=36]="CallAdd",e[e.CallAddGradient=37]="CallAddGradient",e[e.CallQualityIndicator=38]="CallQualityIndicator",e[e.Contact=39]="Contact",e[e.ContactAdd=40]="ContactAdd",e[e.PersonAddGradient=41]="PersonAddGradient",e[e.SkypeAddressbook=42]="SkypeAddressbook",e[e.ContactCard=43]="ContactCard",e[e.ContactGroupAdd=44]="ContactGroupAdd",e[e.ContactGroup=45]="ContactGroup",e[e.BlockNotification=46]="BlockNotification",e[e.ContactGroupCall=47]="ContactGroupCall",e[e.ContactGroupTwoPersonas=48]="ContactGroupTwoPersonas",e[e.ContactGroupTwoPersonasGradient=49]="ContactGroupTwoPersonasGradient",e[e.Bot=50]="Bot",e[e.BotAdd=51]="BotAdd",e[e.Message=52]="Message",e[e.MessageGradient=53]="MessageGradient",e[e.Videomail=54]="Videomail",e[e.File=55]="File",e[e.FileAudio=56]="FileAudio",e[e.Folder=57]="Folder",e[e.Menu=58]="Menu",e[e.MenuList=59]="MenuList",e[e.Location=60]="Location",e[e.MyLocation=61]="MyLocation",e[e.EmoticonStroke=62]="EmoticonStroke",e[e.EmoticonNotPresent=63]="EmoticonNotPresent",e[e.Checkmark=64]="Checkmark",e[e.CheckmarkCircle=65]="CheckmarkCircle",e[e.CheckmarkStarburst=66]="CheckmarkStarburst",e[e.UnreadMark=67]="UnreadMark",e[e.ForwardItem=68]="ForwardItem",e[e.SwitchCamera=69]="SwitchCamera",e[e.Badge=70]="Badge",e[e.MSWord=71]="MSWord",e[e.MSExcel=72]="MSExcel",e[e.MSPowerPoint=73]="MSPowerPoint",e[e.MSVisio=74]="MSVisio",e[e.MSOneNote=75]="MSOneNote",e[e.FileMultiple=76]="FileMultiple",e[e.PhoneLaptop=77]="PhoneLaptop",e[e.QuoteClose=78]="QuoteClose",e[e.Media=79]="Media",e[e.Send=80]="Send",e[e.SendFilled=81]="SendFilled",e[e.Share=82]="Share",e[e.MoreVertical=83]="MoreVertical",e[e.MoreCircle=84]="MoreCircle",e[e.QuickLook=85]="QuickLook",e[e.Undo=86]="Undo",e[e.SkypeTranslator=87]="SkypeTranslator",e[e.Translate=88]="Translate",e[e.ShareAndroid=89]="ShareAndroid",e[e.QuoteOpen=90]="QuoteOpen",e[e.VolumeMax=91]="VolumeMax",e[e.VolumeMid=92]="VolumeMid",e[e.VolumeMin=93]="VolumeMin",e[e.VolumeOff=94]="VolumeOff",e[e.Search=95]="Search",e[e.Headset=96]="Headset",e[e.Bluetooth=97]="Bluetooth",e[e.Camera=98]="Camera",e[e.Topic=99]="Topic",e[e.Play=100]="Play",e[e.PlayFilled=101]="PlayFilled",e[e.PauseOffCircle=102]="PauseOffCircle",e[e.PauseCircle=103]="PauseCircle",e[e.Pause=104]="Pause",e[e.PlayGradient=105]="PlayGradient",e[e.PauseGradient=106]="PauseGradient",e[e.Mail=107]="Mail",e[e.MailOff=108]="MailOff",e[e.Ok=109]="Ok",e[e.Cancel=110]="Cancel",e[e.Plus=111]="Plus",e[e.AddCircle=112]="AddCircle",e[e.Down=113]="Down",e[e.Up=114]="Up",e[e.DownChevron=115]="DownChevron",e[e.UpChevron=116]="UpChevron",e[e.LeftChevron=117]="LeftChevron",e[e.RightChevron=118]="RightChevron",e[e.Picture=119]="Picture",e[e.Save=120]="Save",e[e.Backspace=121]="Backspace",e[e.NavigationBack=122]="NavigationBack",e[e.AddText=123]="AddText",e[e.NavigationForward=124]="NavigationForward",e[e.Move=125]="Move",e[e.HeartOutline=126]="HeartOutline",e[e.ScreenCapture=127]="ScreenCapture",e[e.FlashOn=128]="FlashOn",e[e.FlashOff=129]="FlashOff",e[e.SkypeCredit=130]="SkypeCredit",e[e.QR=131]="QR",e[e.Globe=132]="Globe",e[e.GlobeFilled=133]="GlobeFilled",e[e.SubscriptionRegion=134]="SubscriptionRegion",e[e.SubscriptionWorld=135]="SubscriptionWorld",e[e.GlobeCredit=136]="GlobeCredit",e[e.CreditGlobe=137]="CreditGlobe",e[e.Money=138]="Money",e[e.Error=139]="Error",e[e.Warning=140]="Warning",e[e.Info=141]="Info",e[e.Question=142]="Question",e[e.Refresh=143]="Refresh",e[e.Privacy=144]="Privacy",e[e.Settings=145]="Settings",e[e.SkypeMobile=146]="SkypeMobile",e[e.Notification=147]="Notification",e[e.NotificationOff=148]="NotificationOff",e[e.InfoStroke=149]="InfoStroke",e[e.Link=150]="Link",e[e.LinkDismiss=151]="LinkDismiss",e[e.LocationPin=152]="LocationPin",e[e.Pinning=153]="Pinning",e[e.Pin=154]="Pin",e[e.PinOff=155]="PinOff",e[e.Reload=156]="Reload",e[e.MagicWand=157]="MagicWand",e[e.Alert=158]="Alert",e[e.AlertOn=159]="AlertOn",e[e.AlertOff=160]="AlertOff",e[e.CallAnimSmall1=161]="CallAnimSmall1",e[e.CallAnimSmall4=162]="CallAnimSmall4",e[e.PresenceOnline=163]="PresenceOnline",e[e.PresenceOnlineGradient=164]="PresenceOnlineGradient",e[e.PresenceBlocked=165]="PresenceBlocked",e[e.Download=166]="Download",e[e.Card=167]="Card",e[e.Lightbulb=168]="Lightbulb",e[e.Filter=169]="Filter",e[e.FilterMenu=170]="FilterMenu",e[e.Clear=171]="Clear",e[e.Connecting=172]="Connecting",e[e.Sticker=173]="Sticker",e[e.StickerDeleted=174]="StickerDeleted",e[e.ClosePanel=175]="ClosePanel",e[e.Calendar=176]="Calendar",e[e.Bookmark=177]="Bookmark",e[e.Bookmarked=178]="Bookmarked",e[e.CallList=179]="CallList",e[e.PresenceDND=180]="PresenceDND",e[e.PresenceInvisible=181]="PresenceInvisible",e[e.PresenceAway=182]="PresenceAway",e[e.PresenceBusy=183]="PresenceBusy",e[e.Compose=184]="Compose",e[e.CallRecord=185]="CallRecord",e[e.CallRecordGradient=186]="CallRecordGradient",e[e.CallRecordStroke=187]="CallRecordStroke",e[e.CallRecordDot=188]="CallRecordDot",e[e.MobileOk=189]="MobileOk",e[e.MobileSending=190]="MobileSending",e[e.MobileSms=191]="MobileSms",e[e.MobileError=192]="MobileError",e[e.Gallery1=193]="Gallery1",e[e.SwitchVideoCamera=194]="SwitchVideoCamera",e[e.PrivateCallFill=195]="PrivateCallFill",e[e.PrivateSessionKey=196]="PrivateSessionKey",e[e.PrivateChatFill=197]="PrivateChatFill",e[e.Lock=198]="Lock",e[e.Delete=199]="Delete",e[e.SettingsAudio=200]="SettingsAudio",e[e.Birthday=201]="Birthday",e[e.Stop=202]="Stop",e[e.ContactsGroup=203]="ContactsGroup",e[e.PeopleAdd=204]="PeopleAdd",e[e.People=205]="People",e[e.PersonCircle=206]="PersonCircle",e[e.PersonEdit=207]="PersonEdit",e[e.PersonVoice=208]="PersonVoice",e[e.PersonNote=209]="PersonNote",e[e.Copy=210]="Copy",e[e.Gif=211]="Gif",e[e.MobileSmsNew=212]="MobileSmsNew",e[e.MessageUnread=213]="MessageUnread",e[e.MessageRead=214]="MessageRead",e[e.SkypeInvite=215]="SkypeInvite",e[e.RotateOrientation=216]="RotateOrientation",e[e.CallInFilled=217]="CallInFilled",e[e.TV=218]="TV",e[e.CallOutFilled=219]="CallOutFilled",e[e.CallMissedFilled=220]="CallMissedFilled",e[e.CallBlockedFilled=221]="CallBlockedFilled",e[e.CallErrorFilled=222]="CallErrorFilled",e[e.Reply=223]="Reply",e[e.QuestionCircle=224]="QuestionCircle",e[e.SkypeNumber=225]="SkypeNumber",e[e.CameraTest=226]="CameraTest",e[e.ClosedCaption=227]="ClosedCaption",e[e.ClosedCaptionOff=228]="ClosedCaptionOff",e[e.ClosedCaptionFilled=229]="ClosedCaptionFilled",e[e.SwitchAccount=230]="SwitchAccount",e[e.SelectAll=231]="SelectAll",e[e.SkypeOut=232]="SkypeOut",e[e.CallOptions=233]="CallOptions",e[e.Expand=234]="Expand",e[e.Contract=235]="Contract",e[e.Office=236]="Office",e[e.Snapshot=237]="Snapshot",e[e.Recent=238]="Recent",e[e.Hide=239]="Hide",e[e.MissingPreview=240]="MissingPreview",e[e.Paste=241]="Paste",e[e.MeetNow=242]="MeetNow",e[e.MeetNowFilled=243]="MeetNowFilled",e[e.ModeratedChat=244]="ModeratedChat",e[e.SoundWave=245]="SoundWave",e[e.GPS=246]="GPS",e[e.LiveLocation=247]="LiveLocation",e[e.PanelBottomFilled=248]="PanelBottomFilled",e[e.PanelLeftFilled=249]="PanelLeftFilled",e[e.PanelFloatingFilled=250]="PanelFloatingFilled",e[e.Repeat=251]="Repeat",e[e.ListClock=252]="ListClock",e[e.CallWarning=253]="CallWarning",e[e.Robot=254]="Robot",e[e.Wand=255]="Wand",e[e.ArrowExit=256]="ArrowExit",e[e.ArrowSortDownLines=257]="ArrowSortDownLines",e[e.Bin=258]="Bin",e[e.Broom=259]="Broom",e[e.Maximize=260]="Maximize",e[e.Minimize=261]="Minimize",e[e.Glasses=262]="Glasses",e[e.GlassesOff=263]="GlassesOff",e[e.Prohibited=264]="Prohibited",e[e.Speaker=265]="Speaker",e[e.SpeakerOff=266]="SpeakerOff",e[e.SquareDismiss=267]="SquareDismiss",e[e.Star=268]="Star",e[e.StarOff=269]="StarOff",e[e.CallsInverted=270]="CallsInverted",e[e.CallsInvertedGradient=271]="CallsInvertedGradient",e[e.ChatsInverted=272]="ChatsInverted",e[e.ChatsInvertedGradient=273]="ChatsInvertedGradient",e[e.CameraInverted=274]="CameraInverted",e[e.ContactsGroupInverted=275]="ContactsGroupInverted",e[e.AlertFillNewFont=276]="AlertFillNewFont",e[e.AlertFillNewFontGradient=277]="AlertFillNewFontGradient",e[e.BookContacts=278]="BookContacts",e[e.BookContactsFill=279]="BookContactsFill",e[e.BookContactsFillInvertedGradient=280]="BookContactsFillInvertedGradient",e[e.StickersCamera=281]="StickersCamera",e[e.ReactionAdd=282]="ReactionAdd",e[e.AdMaskNeg=283]="AdMaskNeg",e[e.GuestAccountExpired=284]="GuestAccountExpired",e[e.GuestAccount=285]="GuestAccount",e[e.GridView=286]="GridView",e[e.FocusedView3=287]="FocusedView3",e[e.ContentView=288]="ContentView",e[e.Schedule=289]="Schedule",e[e.CircleBigNeg=290]="CircleBigNeg",e[e.PreviousNext=291]="PreviousNext",e[e.CallerID=292]="CallerID",e[e.Poll=293]="Poll",e[e.CategoryTrending=294]="CategoryTrending",e[e.CategoryHappy=295]="CategoryHappy",e[e.CategorySad=296]="CategorySad",e[e.CategoryYes=297]="CategoryYes",e[e.CategoryNo=298]="CategoryNo",e[e.CategoryCute=299]="CategoryCute",e[e.MessageVideo=300]="MessageVideo",e[e.ClosedCaptionSettings=301]="ClosedCaptionSettings",e[e.OpenOutside=302]="OpenOutside",e[e.Exclaimation=303]="Exclaimation",e[e.CallMerge=304]="CallMerge",e[e.ViewSwitcher=305]="ViewSwitcher",e[e.Presenter=306]="Presenter",e[e.Audience=307]="Audience",e[e.GalleryLarge=308]="GalleryLarge",e[e.Gallery=309]="Gallery",e[e.FitToWindow=310]="FitToWindow",e[e.OriginalSize=311]="OriginalSize",e[e.StartIncomingVideo=312]="StartIncomingVideo",e[e.LanguageSwitch=313]="LanguageSwitch",e[e.Left=314]="Left",e[e.Right=315]="Right",e[e.Nub=316]="Nub",e[e.ScreenSharingRequestControl=317]="ScreenSharingRequestControl",e[e.ScreenSharingStopControl=318]="ScreenSharingStopControl",e[e.GifPlay=319]="GifPlay",e[e.BackgroundReplacement=320]="BackgroundReplacement",e[e.RaiseHand=321]="RaiseHand",e[e.LowerHand=322]="LowerHand",e[e.LowerHandGradient=323]="LowerHandGradient",e[e.RaiseHandCrossed=324]="RaiseHandCrossed",e[e.Format=325]="Format",e[e.Bold=326]="Bold",e[e.Italic=327]="Italic",e[e.Strikethrough=328]="Strikethrough",e[e.CodeSnippet=329]="CodeSnippet",e[e.Cut=330]="Cut",e[e.EmojiAdd=331]="EmojiAdd",e[e.EmojiAddGradient=332]="EmojiAddGradient",e[e.TwincamMid=333]="TwincamMid",e[e.TwincamMidGradient=334]="TwincamMidGradient",e[e.TwincamMidOff=335]="TwincamMidOff",e[e.TwincamMidOffGradient=336]="TwincamMidOffGradient",e[e.TopPanelExpand=337]="TopPanelExpand",e[e.TopPanelCollapse=338]="TopPanelCollapse",e[e.CallTransfer=339]="CallTransfer",e[e.CallRemoteNdiRecord=340]="CallRemoteNdiRecord",e[e.AddImage=341]="AddImage",e[e.MicrophoneActivity=342]="MicrophoneActivity",e[e.MicrophoneSpark=343]="MicrophoneSpark",e[e.Click=344]="Click",e[e.Tap=345]="Tap",e[e.TodayTabInverted=346]="TodayTabInverted",e[e.TodayTabInvertedGradient=347]="TodayTabInvertedGradient",e[e.TabAdd=348]="TabAdd",e[e.Eye=349]="Eye",e[e.EyeOff=350]="EyeOff",e[e.SignOut=351]="SignOut",e[e.Highlight=352]="Highlight",e[e.AppStore=353]="AppStore",e[e.News=354]="News",e[e.HeartCircle=355]="HeartCircle",e[e.DismissCircle=356]="DismissCircle",e[e.DismissCircleInverted=357]="DismissCircleInverted",e[e.DoorArrowLeft=358]="DoorArrowLeft",e[e.History=359]="History",e[e.SearchSite=360]="SearchSite",e[e.Briefcase=361]="Briefcase",e[e.Color=362]="Color",e[e.DeviceMeetingRoomRemote=363]="DeviceMeetingRoomRemote",e[e.EmojiLaugh=364]="EmojiLaugh",e[e.Games=365]="Games",e[e.HatGraduation=366]="HatGraduation",e[e.Health=367]="Health",e[e.Language=368]="Language",e[e.Luggage=369]="Luggage",e[e.Pen=370]="Pen",e[e.PeopleCommunity=371]="PeopleCommunity",e[e.SportSoccer=372]="SportSoccer",e[e.FileAudioIllustration=373]="FileAudioIllustration",e[e.FilePDF=374]="FilePDF",e[e.FilePDFIllustration=375]="FilePDFIllustration",e[e.MSExcelIllustration=376]="MSExcelIllustration",e[e.MSWordIllustration=377]="MSWordIllustration",e[e.MSPowerPointIllustration=378]="MSPowerPointIllustration",e[e.FileVideo=379]="FileVideo",e[e.FileVideoIllustration=380]="FileVideoIllustration",e[e.DownArrow=381]="DownArrow",e[e.FileIllustration=382]="FileIllustration",e[e.FileAVI=383]="FileAVI",e[e.FileAVIIllustration=384]="FileAVIIllustration",e[e.Sparkle=385]="Sparkle",e[e.ImageSparkle=386]="ImageSparkle",e[e.ImageMultiple=387]="ImageMultiple",e[e.DesignerColored=388]="DesignerColored",e[e.Designer=389]="Designer",e[e.ToText=390]="ToText",e[e.ToTextFilled=391]="ToTextFilled",e[e.PinFilled=392]="PinFilled",e[e.PersonDelete=393]="PersonDelete",e[e.StarEdit=394]="StarEdit",e[e.FileZip=395]="FileZip",e[e.FileZipIllustration=396]="FileZipIllustration",e[e.ContactPermission=397]="ContactPermission",e[e.LinkYourPhone=398]="LinkYourPhone",e[e.PersonAvailable=399]="PersonAvailable",e[e.Phone=400]="Phone",e[e.Outlook=401]="Outlook",e[e.Google=402]="Google",e[e.FilePicture=403]="FilePicture",e[e.FilePictureIllustration=404]="FilePictureIllustration",e[e.FilePictureBig=405]="FilePictureBig",e[e.Medal=406]="Medal",e[e.VideoRecording=407]="VideoRecording",e[e.PhoneChat=408]="PhoneChat",e[e.Channel=409]="Channel",e[e.LockClosed=410]="LockClosed",e[e.Chat=411]="Chat",e[e.ReOrderDots=412]="ReOrderDots",e[e.ScreenAndCamera=413]="ScreenAndCamera",e[e.PersonSquare=414]="PersonSquare",e[e.VideoClipMultiple=415]="VideoClipMultiple",e[e.SIM=416]="SIM",e[e.SlideSearch=417]="SlideSearch",e[e.CloudArrowDown=418]="CloudArrowDown",e[e.VideoChat=419]="VideoChat",e[e.Whiteboard=420]="Whiteboard",e[e.ArrowCounterclockwise=421]="ArrowCounterclockwise",e[e.ArrowStepBack=422]="ArrowStepBack",e[e.ArrowExpand=423]="ArrowExpand",e[e.TextBulletList=424]="TextBulletList",e[e.TextNumberList=425]="TextNumberList",e[e.TextIndent=426]="TextIndent",e[e.TextCollapse=427]="TextCollapse",e[e.ArrowUndo=428]="ArrowUndo",e[e.ArrowRedo=429]="ArrowRedo"}(r||(t.SkypeIcon=r={})),function(e){e[e.size6=6]="size6",e[e.size8=8]="size8",e[e.size10=10]="size10",e[e.size12=12]="size12",e[e.size14=14]="size14",e[e.size15=15]="size15",e[e.size16=16]="size16",e[e.size18=18]="size18",e[e.size20=20]="size20",e[e.size24=24]="size24",e[e.size28=28]="size28",e[e.size30=30]="size30",e[e.size32=32]="size32",e[e.size36=36]="size36",e[e.size40=40]="size40",e[e.default=44]="default",e[e.size48=48]="size48",e[e.size58=58]="size58",e[e.size60=60]="size60",e[e.size64=64]="size64",e[e.size67=67]="size67",e[e.size80=80]="size80",e[e.size96=96]="size96",e[e.size100=100]="size100",e[e.size120=120]="size120",e[e.size128=128]="size128"}(a||(t.IconSize=a={}))},229179:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ScheduleCallAlertTypes=void 0,function(e){e[e.Received=1]="Received",e[e.InvitationAccepted=2]="InvitationAccepted",e[e.InvitationDeclined=3]="InvitationDeclined",e[e.Canceled=4]="Canceled",e[e.Edited=5]="Edited"}(i||(t.ScheduleCallAlertTypes=i={}))},79710:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SkypeColor=void 0,function(e){e.orangeLightTint50="#FDEFE7",e.orangeLightTint40="#FAD2BD",e.orangeLightTint30="#F6B18E",e.orangeLightTint20="#F2915E",e.orangeLightTint10="#ED6B26",e.orangeLightPrimary="#84340A",e.orangeLightPrimary50p="rgba(132, 52, 10, 0.5)",e.orangeLightShade10="#6D2B09",e.orangeLightShade20="#3D1805",e.orangeDarkTint40="#331505",e.orangeDarkTint30="#552207",e.orangeDarkTint20="#6D2B09",e.orangeDarkTint10="#B4470E",e.orangeDarkPrimary="#F2915E",e.orangeDarkPrimary50p="rgba(rgba(242, 145, 94, 0.5)",e.orangeDarkShade10="#F2915E",e.orangeDarkShade20="#F6B18E",e.orangeDarkShade30="#F8C2A5",e.orange100="#552207",e.orange150="#6D2B09",e.orange250="#9C3E0C",e.orange550="#F2915E",e.orange600="#F4A176",e.orange700="#F8C2A5",e.orange750="#FAD2BD",e.orange800="#FCE2D4",e.orangeGradientLightPrimaryStop0="#552207",e.orangeGradientLightPrimaryStop1="#9C3E0C",e.orangeGradientLightSecondaryStop0="#B4470E",e.orangeGradientLightSecondaryStop1="#ED6B26",e.orangeGradientLightTertiaryStop0="#FDEFE7",e.orangeGradientLightTertiaryStop1="#F6B18E",e.orangeGradientDarkPrimaryStop0="#F2915E",e.orangeGradientDarkPrimaryStop1="#ED6B26",e.orangeGradientDarkSecondaryStop0="#ED6B26",e.orangeGradientDarkSecondaryStop1="#B4470E",e.orangeGradientDarkTertiaryStop0="#552207",e.orangeGradientDarkTertiaryStop1="#B4470E",e.yellowLightShade20="#423000",e.yellowLightShade10="#755500",e.yellowLightPrimary="#8F6800",e.yellowLightPrimary50p="rgba(143, 104, 0, 0.5)",e.yellowLightTint10="#DB9F00",e.yellowLightTint20="#F6BD28",e.yellowLightTint30="#FCCE55",e.yellowLightTint40="#FFEBB8",e.yellowLightTint50="#FFF3D6",e.yellowDarkTint40="#271D02",e.yellowDarkTint30="#5C4300",e.yellowDarkTint20="#755500",e.yellowDarkTint10="#BD8900",e.yellowDarkPrimary="#FCCE55",e.yellowDarkPrimary50p="rgba(252, 206, 85, 0.5)",e.yellowDarkShade10="#FCCE55",e.yellowDarkShade20="#FFDD84",e.yellowDarkShade30="#FFE49E",e.yellow100="#5C4300",e.yellow150="#755500",e.yellow250="#A87A00",e.yellow550="#FCCE55",e.yellow600="#FED66D",e.yellow700="#FFE49E",e.yellow750="#FFEBB8",e.yellow800="#FFF1CC",e.yellowGradientLightPrimaryStop0="#5C4300",e.yellowGradientLightPrimaryStop1="#755500",e.yellowGradientLightSecondaryStop0="#755500",e.yellowGradientLightSecondaryStop1="#BD8900",e.yellowGradientLightTertiaryStop0="#FFF6E0",e.yellowGradientLightTertiaryStop1="#FFDD84",e.yellowGradientDarkPrimaryStop0="#FCCE55",e.yellowGradientDarkPrimaryStop1="#EDB00C",e.yellowGradientDarkSecondaryStop0="#DB9F00",e.yellowGradientDarkSecondaryStop1="#8F6800",e.yellowGradientDarkTertiaryStop0="#423000",e.yellowGradientDarkTertiaryStop1="#8F6800",e.greenLightTint50="#DEFCE5",e.greenLightTint40="#BCF7CA",e.greenLightTint30="#80E89B",e.greenLightTint20="#53DB7C",e.greenLightTint10="#36C967",e.greenLightPrimary="#147B49",e.greenLightPrimary50p="rgba(20, 123, 73, 0.5)",e.greenLightShade10="#106B43",e.greenLightShade20="#0A5C41",e.greenDarkTint40="#04251A",e.greenDarkTint30="#0B5639",e.greenDarkTint20="#106B43",e.greenDarkTint10="#23A85B",e.greenDarkPrimary="#43D170",e.greenDarkPrimary50p="rgba(67, 209, 112, 0.5)",e.greenDarkShade10="#53DB7C",e.greenDarkShade20="#80E89B",e.greenDarkShade30="#9CF0B1",e.green100="#0B5639",e.green150="#106B43",e.green250="#1D9957",e.green550="#53DB7C",e.green600="#68E38B",e.green700="#9CF0B1",e.green750="#B1F6C1",e.green800="#CBFBD6",e.greenGradientLightPrimaryStop0="#0A5C41",e.greenGradientLightPrimaryStop1="#178C54",e.greenGradientLightSecondaryStop0="#106B43",e.greenGradientLightSecondaryStop1="#23A85B",e.greenGradientLightTertiaryStop0="#DEFCE5",e.greenGradientLightTertiaryStop1="#9CF0B1",e.greenGradientDarkPrimaryStop0="#53DB7C",e.greenGradientDarkPrimaryStop1="#2DBD5F",e.greenGradientDarkSecondaryStop0="#36C967",e.greenGradientDarkSecondaryStop1="#147B49",e.greenGradientDarkTertiaryStop0="#084934",e.greenGradientDarkTertiaryStop1="#147B49",e.tealLightTint50="#E0FAF6",e.tealLightTint40="#B2FAF0",e.tealLightTint30="#61F5DF",e.tealLightTint20="#11E8C8",e.tealLightTint10="#09A58F",e.tealLightPrimary="#047261",e.tealLightPrimary50p="rgba(4, 114, 97, 0.5)",e.tealLightShade10="#024B40",e.tealLightShade20="#01372F",e.tealDarkTint40="#012822",e.tealDarkTint30="#024B40",e.tealDarkTint20="#035E50",e.tealDarkTint10="#069882",e.tealDarkPrimary="#0BDABB",e.tealDarkPrimary50p="rgba(11, 218, 187, 0.5)",e.tealDarkShade10="#11E8C8",e.tealDarkShade20="#61F5DF",e.tealDarkShade30="#8BF8E8",e.teal100="#024B40",e.teal150="#035E50",e.teal250="#068471",e.teal550="#11E8C8",e.teal600="#36F2D6",e.teal700="#8BF8E8",e.teal750="#AEFAEF",e.teal800="#C8F9F2",e.tealGradientLightPrimaryStop0="#012822",e.tealGradientLightPrimaryStop1="#047261",e.tealGradientLightSecondaryStop0="#035E50",e.tealGradientLightSecondaryStop1="#09A58F",e.tealGradientLightTertiaryStop0="#E0FAF6",e.tealGradientLightTertiaryStop1="#8BF8E8",e.tealGradientDarkPrimaryStop0="#11E8C8",e.tealGradientDarkPrimaryStop1="#0CBBA1",e.tealGradientDarkSecondaryStop0="#08C9AC",e.tealGradientDarkSecondaryStop1="#068471",e.tealGradientDarkTertiaryStop0="#01372F",e.tealGradientDarkTertiaryStop1="#068471",e.blueLightTint50="#E0FAFF",e.blueLightTint40="#A7EEFC",e.blueLightTint30="#4AD8F7",e.blueLightTint20="#00BCF2",e.blueLightTint10="#099ADE",e.blueLightPrimary="#0E72CF",e.blueLightPrimary50p="rgba(14, 114, 207, 0.5)",e.blueLightShade10="#0F4699",e.blueLightShade20="#0C2F66",e.blueDarkTint40="#081E40",e.blueDarkTint30="#0E3B82",e.blueDarkTint20="#0F4699",e.blueDarkTint10="#0E72CF",e.blueDarkPrimary="#00BCF2",e.blueDarkPrimary50p="rgba(0, 188, 242, 0.5)",e.blueDarkShade10="#00BCF2",e.blueDarkShade20="#4AD8F7",e.blueDarkShade30="#75E4FA",e.blue100="#0E3B82",e.blue150="#0F4699",e.blue250="#0F61BF",e.blue550="#00BCF2",e.blue600="#1DCAF5",e.blue700="#75E4FA",e.blue750="#A7EEFC",e.blue800="#CCF7FF",e.blueGradientLightPrimaryStop0="#0F4699",e.blueGradientLightPrimaryStop1="#0E72CF",e.blueGradientLightSecondaryStop0="#1054AD",e.blueGradientLightSecondaryStop1="#099ADE",e.blueGradientLightTertiaryStop0="#E0FAFF",e.blueGradientLightTertiaryStop1="#A7EEFC",e.blueGradientDarkPrimaryStop0="#1DCAF5",e.blueGradientDarkPrimaryStop1="#099ADE",e.blueGradientDarkSecondaryStop0="#05ABE8",e.blueGradientDarkSecondaryStop1="#0E72CF",e.blueGradientDarkTertiaryStop0="#0B2C60",e.blueGradientDarkTertiaryStop1="#0E72CF",e.indigoLightTint50="#EDECF8",e.indigoLightTint40="#CDCBEB",e.indigoLightTint30="#ACA9DB",e.indigoLightTint20="#9B97D3",e.indigoLightTint10="#8A85CC",e.indigoLightPrimary="#47419B",e.indigoLightPrimary50p="rgba(71, 65, 155, 0.5)",e.indigoLightShade10="#262353",e.indigoLightShade20="#16142F",e.indigoDarkTint40="#211E48",e.indigoDarkTint30="#1E1B41",e.indigoDarkTint20="#262353",e.indigoDarkTint10="#3F3988",e.indigoDarkPrimary="#ACA9DB",e.indigoDarkPrimary50p="rgba(172, 169, 219, 0.5)",e.indigoDarkShade10="#8A85CC",e.indigoDarkShade20="#ACA9DB",e.indigoDarkShade30="#BCB9E4",e.indigo100="#1E1B41",e.indigo150="#262353",e.indigo250="#373277",e.indigo550="#8A85CC",e.indigo600="#9B97D3",e.indigo700="#BCB9E4",e.indigo750="#CDCBEB",e.indigo800="#DFDEF2",e.indigoGradientLightPrimaryStop0="#262353",e.indigoGradientLightPrimaryStop1="#6761BD",e.indigoGradientLightSecondaryStop0="#3F3988",e.indigoGradientLightSecondaryStop1="#8A85CC",e.indigoGradientLightTertiaryStop0="#EDECF8",e.indigoGradientLightTertiaryStop1="#BCB9E4",e.indigoGradientDarkPrimaryStop0="#BCB9E4",e.indigoGradientDarkPrimaryStop1="#8A85CC",e.indigoGradientDarkSecondaryStop0="#9B97D3",e.indigoGradientDarkSecondaryStop1="#47419B",e.indigoGradientDarkTertiaryStop0="#16142F",e.indigoGradientDarkTertiaryStop1="#544DAC",e.purpleLightTint50="#FCF0FF",e.purpleLightTint40="#ECB7F6",e.purpleLightTint30="#D160EA",e.purpleLightTint20="#C741E8",e.purpleLightTint10="#BC29E3",e.purpleLightPrimary="#79139E",e.purpleLightPrimary50p="rgba(121, 19, 158, 0.5)",e.purpleLightShade10="#6A138E",e.purpleLightShade20="#2D0237",e.purpleDarkTint40="#2D0237",e.purpleDarkTint30="#441369",e.purpleDarkTint20="#501376",e.purpleDarkTint10="#A01CC4",e.purpleDarkPrimary="#D160EA",e.purpleDarkPrimary50p="rgba(209, 96, 234, 0.5)",e.purpleDarkShade10="#D87BED",e.purpleDarkShade20="#ECB7F6",e.purpleDarkShade30="#F6E2FA",e.purple100="#38135B",e.purple150="#441369",e.purple250="#5E1383",e.purple550="#BC29E3",e.purple600="#C741E8",e.purple700="#D87BED",e.purple750="#F5BEFF",e.purple800="#F6E2FA",e.purpleGradientLightPrimaryStop0="#5E1383",e.purpleGradientLightPrimaryStop1="#A01CC4",e.purpleGradientLightSecondaryStop0="#6A138E",e.purpleGradientLightSecondaryStop1="#A01CC4",e.purpleGradientLightTertiaryStop0="#FCF0FF",e.purpleGradientLightTertiaryStop1="#F2B2FF",e.purpleGradientDarkPrimaryStop0="#F5BEFF",e.purpleGradientDarkPrimaryStop1="#D87BED",e.purpleGradientDarkSecondaryStop0="#D87BED",e.purpleGradientDarkSecondaryStop1="#C741E8",e.purpleGradientDarkTertiaryStop0="#2A1047",e.purpleGradientDarkTertiaryStop1="#6D1598",e.pinkLightTint50="#FCF2FA",e.pinkLightTint40="#F5C1E1",e.pinkLightTint30="#EE95CC",e.pinkLightTint20="#E665B5",e.pinkLightTint10="#E43AA2",e.pinkLightPrimary="#9C0D64",e.pinkLightPrimary50p="rgba(156, 13, 100, 0.5)",e.pinkLightShade10="#6C0946",e.pinkLightShade20="#3D0528",e.pinkDarkTint40="#2F0E22",e.pinkDarkTint30="#550737",e.pinkDarkTint20="#6C0946",e.pinkDarkTint10="#B40E74",e.pinkDarkPrimary="#EE95CC",e.pinkDarkPrimary50p="rgba(238, 149, 204, 0.5)",e.pinkDarkShade10="#E665B5",e.pinkDarkShade20="#EE95CC",e.pinkDarkShade30="#F2ABD7",e.pink100="#550737",e.pink150="#6C0946",e.pink250="#9C0D64",e.pink550="#E665B5",e.pink600="#EB7FC1",e.pink700="#F2ABD7",e.pink750="#F5C1E1",e.pink800="#F9D7EC",e.pinkGradientLightPrimaryStop0="#550737",e.pinkGradientLightPrimaryStop1="#B40E74",e.pinkGradientLightSecondaryStop0="#9C0D64",e.pinkGradientLightSecondaryStop1="#DA1B90",e.pinkGradientLightTertiaryStop0="#FCF2FA",e.pinkGradientLightTertiaryStop1="#F2ABD7",e.pinkGradientDarkPrimaryStop0="#F2ABD7",e.pinkGradientDarkPrimaryStop1="#E665B5",e.pinkGradientDarkSecondaryStop0="#E453AC",e.pinkGradientDarkSecondaryStop1="#CD0E83",e.pinkGradientDarkTertiaryStop0="#3D0528",e.pinkGradientDarkTertiaryStop1="#9C0D64",e.gray25="#F8F8F8",e.gray50="#F1F1F1",e.gray100="#E1E1E1",e.gray200="#C8C8C8",e.gray300="#ACACAC",e.gray400="#919191",e.gray500="#6E6E6E",e.gray600="#404040",e.gray700="#303030",e.gray800="#292929",e.gray900="#212121",e.gray925="#1F1F1F",e.gray950="#141414",e.white="#FFFFFF",e.white20p="rgba(255, 255, 255, 0.2)",e.white60p="rgba(255, 255, 255, 0.6)",e.white0p="rgba(255, 255, 255, 0)",e.black="#000000",e.gray92560p="rgba(31, 31, 31, 0.6)",e.black6p="rgba(0, 0, 0, 0.06)",e.black0p="rgba(0, 0, 0, 0)",e.disabledLight="#235809",e.disabledDark="#3FF23F",e.hyperlinkLight="#5800B3",e.hyperlinkDark="#FFFF00",e.highlightLight="#1E30FF",e.highlightDark="#1AEBFF",e.classicBubbleLight="#D4F8FF",e.classicBubbleDark="#2B333B",e.successLight="#4CAF50",e.successDark="#4DD965",e.warningLight="#835C00",e.warningDark="#FFB900",e.dangerLight="#E00B00",e.dangerDark="#FE0B00",e.dangerBackgroundLight="#F9D9D9",e.dangerBackgroundDark="#250909",e.presenceInvisibleLight="#8A8886",e.presenceInvisibleDark="#979593",e.darkCloudsColor="#012c3e",e.darkCloudsColorInputBackground="#011821",e.colorfulBackgroundGradientStop0="rgba(199, 26, 244, 0.4)",e.colorfulBackgroundGradientStop1="rgba(0, 188, 242, 0.4)",e.colorfulBackgroundGradientStop2="rgba(72, 221, 107, 0.4)",e.presenceOnlineLightStop0="#37813B",e.presenceOnlineLightStop1="#4CAF50",e.presenceOnlineDarkStop0="#36C967",e.presenceOnlineDarkStop1="#46A44B",e.presenceAwayLightStop0="#E67700",e.presenceAwayLightStop1="#FF9900",e.presenceAwayDarkStop0="#FFAA44",e.presenceAwayDarkStop1="#F08500",e.presenceDndLightStop0="#D60B00",e.presenceDndLightStop1="#EB0C00",e.presenceDndDarkStop0="#FF5A52",e.presenceDndDarkStop1="#E00B00",e.todayLightStop0="#F6FCFF",e.todayLightStop1="#E1FFFB",e.todayLightStop2="#DBF0FF",e.todayDarkStop0="#1B1919",e.todayDarkStop1="#26272B",e.todayDarkStop2="#2B2C31",e.bingLightStop0="#D6E9F4",e.bingLightStop1="#9DD1EF",e.bingDarkStop0="#163832",e.bingDarkStop1="#253051",e.bingDarkStop2="#2C2438",e.SecondaryDanger40="#250909",e.SecondaryDanger500="#f9d9d9",e.SecondarySuccess40="#0d2e0d",e.SecondarySuccess500="#e7f2da",e.SecondaryWarning40="#463100",e.SecondaryWarning500="#fbf6d9",e.NeutralWhite="#ffffff",e.NeutralBlack="#000000"}(i||(t.SkypeColor=i={}))},339278:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},928722:(e,t)=>{var i,o,n;Object.defineProperty(t,"__esModule",{value:!0}),t.StackNavigationType=t.StackNavigationDirection=t.StackNavigatorId=t.DesktopNavigationType=void 0,function(e){e[e.Stack=0]="Stack",e[e.StackCollapsible=1]="StackCollapsible"}(i||(t.DesktopNavigationType=i={})),t.StackNavigatorId={Mobile:"mobile",DesktopContent:"desktopcontent",DesktopModal:"desktopmodal",DesktopSidebar:"desktopsidebar"},function(e){e[e.Push=1]="Push",e[e.Present=2]="Present"}(o||(t.StackNavigationDirection=o={})),function(e){e[e.Push=1]="Push",e[e.PopToRoot=2]="PopToRoot",e[e.Replace=3]="Replace"}(n||(t.StackNavigationType=n={}))},606720:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.BarStyleTheme=void 0,function(e){e[e.Default=0]="Default",e[e.Light=1]="Light",e[e.Dark=2]="Dark"}(i||(t.BarStyleTheme=i={}))},935086:(e,t)=>{var i,o,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Rate=t.ComponentName=t.SelectedMessagesActionType=t.QuotesTriggerType=void 0,function(e){e[e.ActionMenu=0]="ActionMenu",e[e.Selection=1]="Selection",e[e.Swipe=2]="Swipe",e[e.KeyboardCopyPaste=3]="KeyboardCopyPaste"}(i||(t.QuotesTriggerType=i={})),function(e){e[e.Forward=0]="Forward",e[e.Remove=1]="Remove",e[e.Copy=2]="Copy",e[e.Cancel=3]="Cancel"}(o||(t.SelectedMessagesActionType=o={})),function(e){e.Calling="Calling",e.Views="Splitview",e.Hotkeys="Hotkey",e.Unknown="Unknown",e.Privacy="Privacy"}(n||(t.ComponentName=n={}));class r{constructor(){this._total=0,this._count=0,this._max=0,this._min=0,this._sample=1}getCount(){return this._count}average(){return this._total&&this._count?Math.round(this._total/this._count*100)/100:0}max(){return this._max}min(){return this._min}push(e){e&&(this._total>r.maxValue&&(this._total/=2,this._count/=2,this._sample*=2),this._count%this._sample==0&&(this._total+=e,this._count++,this._max<=e&&(this._max=e),(this._min>=e||0===this._min)&&(this._min=e)))}isEmpty(){return 0===this._count}}t.Rate=r,r.maxValue=Number.MAX_VALUE/2},206197:(e,t)=>{var i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.TextStyleCategories=t.Theme=void 0,function(e){e[e.Colorful=1]="Colorful",e[e.Accessible=2]="Accessible",e[e.Mono=3]="Mono",e[e.AccessibleDark=4]="AccessibleDark",e[e.ColorfulDark=7]="ColorfulDark",e[e.MonoDark=8]="MonoDark",e[e.ClassicDeprecated=9]="ClassicDeprecated",e[e.ClassicDarkDeprecated=10]="ClassicDarkDeprecated",e[e.Delphi=11]="Delphi",e[e.DelphiDark=12]="DelphiDark"}(i||(t.Theme=i={})),function(e){e[e.Subtitle=0]="Subtitle",e[e.Caption=1]="Caption",e[e.SelectedCaption=2]="SelectedCaption",e[e.CaptionSmall=3]="CaptionSmall",e[e.SelectedCaptionSmall=4]="SelectedCaptionSmall",e[e.RowTitle=5]="RowTitle",e[e.Body=6]="Body",e[e.BodyBold=7]="BodyBold",e[e.CardTitle=8]="CardTitle",e[e.CardTitleSmall=9]="CardTitleSmall",e[e.PanelHeader=10]="PanelHeader",e[e.PanelHeaderLandscape=11]="PanelHeaderLandscape",e[e.CallHeaderSubtitleV2=12]="CallHeaderSubtitleV2",e[e.MessagingHeader=13]="MessagingHeader",e[e.MessagingHeaderSmall=14]="MessagingHeaderSmall",e[e.BodyBig=15]="BodyBig",e[e.BodyBigBold=16]="BodyBigBold",e[e.BodySmall=17]="BodySmall",e[e.BodySmallBold=18]="BodySmallBold",e[e.ModernizeChatSmallHeaderTitle=19]="ModernizeChatSmallHeaderTitle",e[e.ModernizeChatSmallHeaderTitleMobile=20]="ModernizeChatSmallHeaderTitleMobile",e[e.NativeHeaderMobile=21]="NativeHeaderMobile",e[e.NativeHeaderMobileSamll=22]="NativeHeaderMobileSamll"}(o||(t.TextStyleCategories=o={}))},845270:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.UrlType=void 0,function(e){e[e.Unknown=0]="Unknown",e[e.Web=1]="Web",e[e.Email=2]="Email",e[e.Skype=3]="Skype",e[e.Tel=4]="Tel",e[e.CallTo=5]="CallTo",e[e.VoipAudio=6]="VoipAudio",e[e.VoipVideo=7]="VoipVideo",e[e.Messaging=8]="Messaging",e[e.SkypeWin=9]="SkypeWin",e[e.Winshell=10]="Winshell",e[e.OneNote=11]="OneNote"}(i||(t.UrlType=i={}))},461967:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.UrlNavigationAction=void 0,function(e){e.CreateWebPartnerFlow="createmeetnow",e.JoinWebPartnerFlow="joinmeetnow"}(i||(t.UrlNavigationAction=i={}))},20107:(e,t)=>{var i,o,n,r,a;Object.defineProperty(t,"__esModule",{value:!0}),t.ECSResponseConfigIdKeys=t.AdsListGroupType=t.AdsType=t.AdsProvider=t.RightSidebarSize=t.SideBarResizeMode=void 0,function(e){e[e.None=0]="None",e[e.Resize=1]="Resize",e[e.ResizeOnCommit=2]="ResizeOnCommit"}(i||(t.SideBarResizeMode=i={})),function(e){e.Fullscreen="fullscreen",e.Large="large",e.Regular="regular"}(o||(t.RightSidebarSize=o={})),function(e){e.Msn="msn",e.MeetNow="meetnow",e.Xandr="xandr"}(n||(t.AdsProvider=n={})),function(e){e.ListItem="listItem",e.ListItemNarrow="listItemNarrow",e.PanelBanner="panelBanner"}(r||(t.AdsType=r={})),function(e){e.Favourites="favourites",e.Recents="recents",e.MagicBot="magicbot",e.None="none"}(a||(t.AdsListGroupType=a={})),t.ECSResponseConfigIdKeys=["Ads","AsyncMediaClient","ConsumerEntitlement","DebugabilitySquad","Headers","Join","MDN_TRAP","OEM_Operator_Squad","PeopleSearch","S4L_Caap","S4L_Clips","S4L_CMC","S4L_Commerce","S4L_Config","S4L_Contacts","S4L_Engagement","S4L_Feedback","S4L_Integrations","S4L_MeetNow","S4L_Messaging","S4L_NativePlatforms","S4L_Onboarding","S4L_Search","S4L_SISU","S4L_Stratus","S4L_Telemetry","S4L_UI","S4L_Whiteboard","S4L","SkypeAudioLibrary","SkypeEngagement","SkypePersonalization","SkypeRealTimeMedia","SkypeRootTools","SkypeTelemetry","TrouterJScriptClient"]},412671:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},938827:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582);o.__exportStar(i(412671),t),o.__exportStar(i(928722),t),o.__exportStar(i(79710),t),o.__exportStar(i(339278),t),o.__exportStar(i(947786),t)},947786:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SECOND=t.MINUTE=t.HOUR=t.DAY=void 0,t.DAY=864e5,t.HOUR=36e5,t.MINUTE=6e4,t.SECOND=1e3},408441:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SXPlaygroundScreenId=void 0,function(e){e.Avatar="Avatar",e.Button="Button",e.Controls="Controls",e.Gradient="Gradient",e.Grid="Grid",e.Icons="Icons",e.ListItem="ListItem",e.SegmentedControl="SegmentedControl",e.Theme="Theme",e.Typography="Typography",e.Layout="Layout",e.SkypeButtons="SkypeButtons",e.SkypeAnimations="SkypeAnimations",e.SkypeIcons="SkypeIcons",e.SkypeText="SkypeText",e.SkypeLink="SkypeLink",e.SkypeEntityAvatars="SkypeEntityAvatars"}(i||(t.SXPlaygroundScreenId=i={}))},331079:(e,t)=>{var i,o,n,r,a,s,l,c,d,u,p,g,h,m,S,_,f,y,C;Object.defineProperty(t,"__esModule",{value:!0}),t.MediaViewSize=t.MediaBarCustomAction=t.TextToHighlightType=t.CallDirectionType=t.PermissionPromptOptions=t.PermissionSubType=t.PermissionType=t.AudioState=t.UploadFileType=t.ThreadMemberAccessType=t.LocationType=t.ResponsiveWidth=t.ReactionsTextType=t.ReactionsTextStyle=t.PhoneNumberTypes=t.AvatarSize=t.eGender=t.MessageNotificationClass=t.NumberShim=void 0,function(e){e[e.MAX_SAFE_INTEGER=9007199254740991]="MAX_SAFE_INTEGER"}(i||(t.NumberShim=i={})),function(e){e[e.SystemInformational=0]="SystemInformational",e[e.Normal=1]="Normal",e[e.OneOnOne=2]="OneOnOne",e[e.MentionedOrQuoted=3]="MentionedOrQuoted"}(o||(t.MessageNotificationClass=o={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.Male=1]="Male",e[e.Female=2]="Female"}(n||(t.eGender=n={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(r||(t.AvatarSize=r={})),function(e){e[e.Home=0]="Home",e[e.Office=1]="Office",e[e.Mobile=2]="Mobile",e[e.Other=3]="Other"}(a||(t.PhoneNumberTypes=a={})),function(e){e[e.Default=0]="Default",e[e.Sticker=1]="Sticker",e[e.Snapshot=2]="Snapshot",e[e.Animation=3]="Animation",e[e.CallEvent=4]="CallEvent"}(s||(t.ReactionsTextStyle=s={})),function(e){e[e.Default=0]="Default",e[e.CallEventMuted=1]="CallEventMuted",e[e.CallEventKickedOut=2]="CallEventKickedOut",e[e.CallEventTransfer=3]="CallEventTransfer",e[e.CallEventKickedOutOwn=4]="CallEventKickedOutOwn"}(l||(t.ReactionsTextType=l={})),function(e){e[e.MinDesktop=0]="MinDesktop",e[e.Tiny=1]="Tiny",e[e.Small=2]="Small",e[e.Medium=3]="Medium",e[e.Large=4]="Large"}(c||(t.ResponsiveWidth=c={})),function(e){e[e.None=1]="None",e[e.Current=2]="Current",e[e.Custom=3]="Custom",e[e.Search=4]="Search",e[e.NearBy=5]="NearBy"}(d||(t.LocationType=d={})),function(e){e[e.Admin=0]="Admin",e[e.User=1]="User"}(u||(t.ThreadMemberAccessType=u={})),function(e){e[e.File=1]="File",e[e.Picture=2]="Picture",e[e.Thumbnail=3]="Thumbnail",e[e.Video=4]="Video",e[e.VideoMessage=5]="VideoMessage",e[e.Audio=6]="Audio",e[e.AudioMessage=7]="AudioMessage",e[e.GroupAvatar=8]="GroupAvatar",e[e.Excel=9]="Excel",e[e.OneNote=10]="OneNote",e[e.Powerpoint=11]="Powerpoint",e[e.Word=12]="Word",e[e.PDF=13]="PDF",e[e.AVI=14]="AVI",e[e.Zip=15]="Zip",e[e.ImageCreatorPicture=16]="ImageCreatorPicture"}(p||(t.UploadFileType=p={})),function(e){e[e.None=0]="None",e[e.IncomingRing=1]="IncomingRing",e[e.Call=2]="Call"}(g||(t.AudioState=g={})),function(e){e[e.Camera=0]="Camera",e[e.CameraRoll=1]="CameraRoll",e[e.WriteCameraRoll=2]="WriteCameraRoll",e[e.Microphone=3]="Microphone",e[e.Contacts=4]="Contacts",e[e.Notifications=5]="Notifications",e[e.Location=6]="Location",e[e.LocationAlways=7]="LocationAlways",e[e.ReadPhoneState=8]="ReadPhoneState",e[e.DrawOver=9]="DrawOver",e[e.MicrophoneAndCamera=10]="MicrophoneAndCamera",e[e.BackgroundExecution=11]="BackgroundExecution",e[e.Calendar=12]="Calendar",e[e.ScreenRecording=13]="ScreenRecording"}(h||(t.PermissionType=h={})),function(e){e[e.None=0]="None",e[e.NotificationPush=1]="NotificationPush",e[e.NotificationLocal=2]="NotificationLocal"}(m||(t.PermissionSubType=m={})),function(e){e[e.PromptAgainIfDenied=1]="PromptAgainIfDenied",e[e.SkipPrePrompt=2]="SkipPrePrompt",e[e.DontPrompt=4]="DontPrompt",e[e.SkipAugmentedWebPanel=8]="SkipAugmentedWebPanel"}(S||(t.PermissionPromptOptions=S={})),function(e){e[e.Outgoing=0]="Outgoing",e[e.Incoming=1]="Incoming",e[e.Missed=2]="Missed"}(_||(t.CallDirectionType=_={})),function(e){e[e.DisplayName=0]="DisplayName",e[e.Participant=1]="Participant",e[e.PhoneNumber=2]="PhoneNumber",e[e.SkypeId=3]="SkypeId"}(f||(t.TextToHighlightType=f={})),function(e){e[e.LaunchCamera=0]="LaunchCamera",e[e.LaunchSearch=1]="LaunchSearch",e[e.LaunchEmoticon=2]="LaunchEmoticon",e[e.LaunchKeyboard=3]="LaunchKeyboard",e[e.MentionBing=4]="MentionBing",e[e.LaunchBingToolbox=5]="LaunchBingToolbox",e[e.CloseKeyboard=6]="CloseKeyboard",e[e.LaunchSticker=7]="LaunchSticker",e[e.LaunchGif=8]="LaunchGif",e[e.ImageGeneration=9]="ImageGeneration"}(y||(t.MediaBarCustomAction=y={})),function(e){e[e.Thumbnail=0]="Thumbnail",e[e.ThumbnailUncropped=1]="ThumbnailUncropped",e[e.ThumbnailBlurred=2]="ThumbnailBlurred",e[e.MobilePreview=3]="MobilePreview",e[e.Full=4]="Full"}(C||(t.MediaViewSize=C={}))},962220:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(808467),s=i(154235),l=o.__importDefault(i(406699)),c=i(815146),d=o.__importStar(i(85385)),u=i(26703),p=o.__importStar(i(704704)),g=i(25083),h=o.__importStar(i(848203)),m=o.__importDefault(i(660401)),S=o.__importDefault(i(20758)),_=i(262725),f=o.__importDefault(i(760989)),y=o.__importStar(i(972830)),C=(0,u.lazyProperties)({container:()=>r.Styles.createViewStyle({padding:20,marginTop:10,flex:1}),description:()=>r.Styles.createTextStyle({paddingTop:20}),radioSet:()=>r.Styles.createViewStyle({marginVertical:20}),textStyle:()=>r.Styles.createTextStyle({marginRight:40})});class v extends a.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._submitted=!1,this._onChangeSelection=e=>{const t=parseInt(e,10);this.setState({selectedOption:t})},this._onConfirm=()=>{const e=f.default.newCauseId();d.log(c.LogTraceArea.GenericUnsafe,"CaptivePortalQuestionnaire._onConfirm, causeId: "+e),this._submitted=!0,this._goBack(e)}}static getHeaderText(){return p.getString("ConnectivityStatusBar.CaptivePortalDismissHeader")}_getHeaderText(e){return v.getHeaderText()}componentWillUnmount(){super.componentWillUnmount();const e=this._submitted&&this.state.selectedOption||g.CaptivePortalQuestionnaireOption.NoAnswer;l.default.answerCaptivePortalQuestionnaire(e)}render(){const e=[{key:g.CaptivePortalQuestionnaireOption.Invalid.toString(),text:p.getString("ConnectivityStatusBar.CaptivePortalDismissOptionInvalid")},{key:g.CaptivePortalQuestionnaireOption.Useless.toString(),text:p.getString("ConnectivityStatusBar.CaptivePortalDismissOptionUseless")},{key:g.CaptivePortalQuestionnaireOption.DontUnderstand.toString(),text:p.getString("ConnectivityStatusBar.CaptivePortalDismissOptionNotUnderstand")},{key:g.CaptivePortalQuestionnaireOption.Other.toString(),text:p.getString("ConnectivityStatusBar.CaptivePortalDismissOptionOther")}],t=y.currentTheme(this._getContext(),this.props.route.params.colorThemeOverride),i=this.props.navigation?void 0:(0,n.jsxs)(_.Header,{size:s.HeaderSize.h2,children:[p.getString("ConnectivityStatusBar.CaptivePortalDismissHeader")," "]});return(0,n.jsxs)(r.View,{style:C.container,children:[i,(0,n.jsx)(_.BodyText,{style:C.description,children:p.getString("ConnectivityStatusBar.CaptivePortalDismissQuestion")}),(0,n.jsx)(h.default,{style:C.radioSet,radioButtons:e,selectedKey:this.state.selectedOption?this.state.selectedOption.toString():void 0,textStyle:[S.default.bodyFontStyle(t),C.textStyle],dividerType:h.DividerType.None,onSelected:this._onChangeSelection,fullWidth:!0}),(0,n.jsx)(m.default,{buttonSize:s.SXButtonSize.Medium,title:p.getString("Global.OkLabel"),allowTextWrap:!0,onPress:this._onConfirm})]})}}t.default=v},924906:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DetailsPanel=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(808467),s=o.__importDefault(i(513606)),l=o.__importDefault(i(556587)),c=o.__importStar(i(44717)),d=o.__importDefault(i(920200)),u=o.__importDefault(i(615364)),p=i(739403),g=i(815146),h=o.__importDefault(i(887683)),m=o.__importStar(i(704704)),S=o.__importDefault(i(740794)),_=o.__importDefault(i(942724)),f=o.__importDefault(i(960282)),y=o.__importDefault(i(117475)),C=o.__importDefault(i(377556)),v=o.__importDefault(i(421334)),b=i(375258),T=i(16549),P=o.__importDefault(i(827361)),k=o.__importDefault(i(812537)),A=o.__importDefault(i(760989)),I=o.__importStar(i(972830)),w=o.__importDefault(i(995123)),x=i(605804),N=i(573978),D=i(601505),M=i(264277),L=i(85385),R=i(533020),E=i(715405),B=i(677982),O=i(318315),F="DetailsPanel";class V extends a.BaseNavigationViewPresentedInModal{constructor(e){super(e),this._scrollOffset=0,this._scrollTop=0,this._setScrollViewRef=e=>{this._scrollView=e||void 0},this._onCloseButtonFocus=()=>{this._scrollToTop()},this._onScrollToOffsetRequested=e=>!!(this._scrollView&&e>0&&this._scrollTop<e)&&(this._scrollView.setScrollTop(e-this._scrollTop),this._onScroll(e,0),!0),this._onShareChannel=()=>{if(!this.state.channel)return;const e=this.state.channel;(0,R.shareChannel)(this._getContext(),this._getRootViewId(),e.shortId,e.id,e.name,e.avatarUrl)},this._handleToggleFollowChannel=()=>{if(!this.state.channel)return;const e=this.state.channel,t=(0,E.generateCorrelationVector)();e.isFollowed?this._channelFollowStore.unfollowChannel(e.id,e.market,t).then((i=>(0,L.track)((0,M.successfulUnfollow)(e.id,i.statusCode,x.ContentChannelTelemetryOrigin.Profile,t))),(i=>{(0,L.error)(g.LogTraceArea.GenericUnsafe,`${[F]} Error leaving channel ${e.id}: ${i}`),(0,L.track)((0,M.failedUnfollow)(e.id,null==i?void 0:i.statusCode,x.ContentChannelTelemetryOrigin.Profile,t))})):this._channelFollowStore.followChannel(e,t).then((i=>{(0,L.track)((0,M.successfulFollow)(e.id,i.statusCode,x.ContentChannelTelemetryOrigin.Profile,t))}),(i=>{(0,L.error)(g.LogTraceArea.GenericUnsafe,`${[F]} Error joining channel ${e.id}: ${i}`),(0,L.track)((0,M.failedFollow)(e.id,null==i?void 0:i.statusCode,x.ContentChannelTelemetryOrigin.Profile,t))}))},this._handleToggleFavoriteChannel=()=>{(0,D.handleFavorite)(this.state.channel.id,this.state.channel.market,!!this.state.channel.isFavorite,x.ContentChannelTelemetryOrigin.Profile)},this._handleToggleMuteChannel=()=>{var e;(null===(e=this.state.channel)||void 0===e?void 0:e.isMuted)?this._channelNotificationStore.unmuteChannel(this.state.channel.id):this._channelNotificationStore.muteChannel(this.state.channel.id)},this._onChatSettingsClicked=()=>{S.default.showChatSettingsPanel(this.state.otherPartyMri,this.props.route.params.mri,this._getRootViewId())},this._onScroll=(e,t)=>{this._scrollOffset||(this._scrollOffset=this._getContext().isPresentedInDesktopSubview?p.DetailsPanelHeaderSizes.scrollOffsetDesktop:p.DetailsPanelHeaderSizes.scrollOffsetMobile),this._scrollTop=e;const i=e>this._scrollOffset;this.state.showHeader!==i&&this.setState({showHeader:i})},this._onCloseButtonPress=e=>{e&&e.stopPropagation();const t=A.default.newCauseId();(0,L.log)(g.LogTraceArea.Navigation,`[${F}] _onCloseButtonPress,  causeId: ${t}`),this._goBack(t)},e.route.params.channelId&&(this._channelsStore=(0,N.getContentChannelsStore)(),this._channelFollowStore=(0,O.getFollowStore)(),this._channelNotificationStore=(0,O.getNotificationsStore)())}_buildState(e,t){const i={};let o;const n=this._getRootViewId();let r=p.DetailsPanelViewMode.None;const{enableContentChannelsPushNotifications:a}=B.AppConfigStore.getS4LUiFeatures();if(e.route.params.channelId)r=p.DetailsPanelViewMode.Channel,i.channel=this._channelsStore.getChannelWithFetch(e.route.params.channelId);else if(c.isThread(e.route.params.mri)){const t=(0,u.default)().getConversation(e.route.params.mri);i.otherPartyMri=t&&t.isOneOnOne()?t.getOtherPartyMri():void 0,i.otherPartyMri||(o=t?t.isOneOnOne()?"Conversation getOtherPartyMri returned undefined, viewmode: ":"Conversation is not OneOnOne, viewmode: ":"Conversation is undefined, viewmode: ")}else i.otherPartyMri=e.route.params.mri,i.otherPartyMri||(o="Non thread mri props is undefined, viewmode: ");if(e.route.params.mri&&(r=c.isGroupConversation(e.route.params.mri)?p.DetailsPanelViewMode.Group:c.isAgent(e.route.params.mri)?p.DetailsPanelViewMode.Bot:c.isConnector(e.route.params.mri)?p.DetailsPanelViewMode.Connector:p.DetailsPanelViewMode.User),o){const e=o+r;(0,L.log)(g.LogTraceArea.Profile,e)}return i.deviceOrientation=f.default.getDeviceOrientation(n),i.viewMode=r,i.isUsingStackNavigationContext=_.default.isUsingStackNavigationContext(),i.showScreenReaderHeader=v.default.isMobileScreenReaderEnabled(),i.statusBarHeight=this._getContext().isPresentedInDesktopSubview?0:y.default.statusBarPadding(),i.enableChannelsPushNotifications=a,t&&(i.showHeader=!1),i}componentDidMount(){super.componentDidMount(),this.state.viewMode!==p.DetailsPanelViewMode.Channel&&l.default.forceThreadDetailsFetchIfNeeded(this.props.route.params.mri)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),(!this.state.isUsingStackNavigationContext&&this.props.route.params.mri!==e.route.params.mri||this.props.route.params.channelId!==e.route.params.channelId)&&this._scrollToTop(),this.state.statusBarHeight!==t.statusBarHeight&&!this.state.showHeader&&this._scrollView&&this._scrollView.setScrollTop(0)}render(){const e=this._isHeaderOpaqueStyle(),t=e,i=this._getCloseButtonTitle(),{headerIconColor:o,iconHoverColor:a}=I.themeColors(this._getContext(),this.props.route.params.colorThemeOverride),s=this.state.isUsingStackNavigationContext?{closeButtonType:b.CloseButtonType.Close,color:t?o:T.Color.white,title:i}:{closeButtonType:this.props.route.params.isAloneInNavStack?b.CloseButtonType.Close:b.CloseButtonType.Back,color:t?o:T.Color.white,hoverColor:t?a:T.Color.whiteOverlay80,onPress:this._onCloseButtonPress,onFocus:this._onCloseButtonFocus,title:this.props.route.params.isAloneInNavStack?i:m.getString("Global.BackButtonTitle")},l=(0,n.jsx)(b.SimplePanelHeader,{floating:!this.state.showScreenReaderHeader,panelName:e?this._getHeaderText(this.state):void 0,useTransparentBackground:!e,hideBottomBorder:!e,leftButton:s,ignorePointerEvents:!e,delayHeaderFocus:!1}),{primaryBackgroundColorStyle:c}=I.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),d=[P.default.flexOne,c];let u;this.state.statusBarHeight&&!this.state.showScreenReaderHeader&&(d.push(C.default.marginTopStyle(this.state.statusBarHeight),P.default.overflowVisible),u=C.default.marginTopStyle(-1*this.state.statusBarHeight));let p=this._renderPanelContent();return u&&(p=(0,n.jsx)(r.View,{style:u,children:p})),(0,n.jsxs)(r.View,{style:[P.default.flexOne,c],children:[l,(0,n.jsx)(r.ScrollView,{ref:this._setScrollViewRef,style:d,onScroll:this._onScroll,keyboardShouldPersistTaps:!0,children:p})]})}_getCloseButtonTitle(){switch(this.state.viewMode){case p.DetailsPanelViewMode.User:return m.getString("DetailsPanelHeader.CloseUserProfileButtonTitle");case p.DetailsPanelViewMode.Bot:case p.DetailsPanelViewMode.Connector:return m.getString("DetailsPanelHeader.CloseBotProfileButtonTitle");case p.DetailsPanelViewMode.Group:return m.getString("DetailsPanelHeader.CloseGroupProfileButtonTitle");case p.DetailsPanelViewMode.Channel:return m.getString("DetailsPanelHeader.CloseChannelProfileButtonTitle");default:return m.getString("Global.CloseButtonTitle")}}_scrollToTop(){this._scrollView&&(this._scrollView.setScrollTop(0,!1),this._onScroll(0,0))}_renderPanelContent(){switch(this.state.viewMode){case p.DetailsPanelViewMode.Bot:return(0,n.jsx)(s.default,{botMri:this.props.route.params.mri,showConversationSettings:this.props.route.params.showConversationSettings,origin:this.props.route.params.origin,onBotAdded:this.props.route.params.onBotAdded,openMagicBotToolboxByDefault:this.props.route.params.openMagicBotToolboxByDefault});case p.DetailsPanelViewMode.Group:return(0,n.jsx)(h.default,{conversationId:this.props.route.params.mri,onScrollInParentRequested:this._onScrollToOffsetRequested});case p.DetailsPanelViewMode.User:return(0,n.jsx)(k.default,{userMri:this.state.otherPartyMri,conversationMri:this.props.route.params.mri,origin:this.props.route.params.origin,showSettings:this.props.route.params.showConversationSettings,onChatSettingsClicked:this._onChatSettingsClicked});case p.DetailsPanelViewMode.Connector:return(0,n.jsx)(d.default,{mri:this.props.route.params.mri,conversationId:this.props.route.params.conversationId,onCloseProfile:this._onCloseButtonPress});case p.DetailsPanelViewMode.Channel:if(void 0===this.state.channel)return;return(0,n.jsx)(w.default,{channelId:this.state.channel.id,name:this.state.channel.name,description:this.state.channel.description,isFollowed:this.state.channel.isFollowed,avatarUrl:this.state.channel.avatarUrl,author:this.state.channel.author,isVerified:this.state.channel.isVerified,isDeleted:this.state.channel.isDeleted,isMuted:this.state.enableChannelsPushNotifications?this.state.channel.isMuted:void 0,isFavorite:this.state.channel.isFavorite,onToggleFollowChannel:this._handleToggleFollowChannel,onToggleFavoriteChannel:this._handleToggleFavoriteChannel,onToggleMuteChannel:this._handleToggleMuteChannel,onShareChannel:this._onShareChannel});default:return}}_getHeaderText(e){return e.viewMode===p.DetailsPanelViewMode.User||e.viewMode===p.DetailsPanelViewMode.Bot||e.viewMode===p.DetailsPanelViewMode.Group?m.getString("DetailsPanelHeader.UserProfileTitle"):e.viewMode===p.DetailsPanelViewMode.Channel?m.getString("DetailsPanelHeader.ChannelProfileTitle"):void 0}_isHeaderOpaqueStyle(){return!!this.state.showScreenReaderHeader||!!this.state.showHeader}}t.DetailsPanel=V,t.default=V},42091:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({top:e=0,children:t}){return(0,o.jsx)(n.View,{style:n.StyleSheet.flatten([r.absoluteContainer,{top:e}]),children:t})};const o=i(785893),n=i(537180);const r=n.StyleSheet.create({absoluteContainer:{position:"absolute",top:0,left:0,right:0,zIndex:2}})},385855:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.COLLAPSIBLE_HEADER_SEARCH_MAX_HEIGHT=void 0,t.default=function({accessory:e,value:i,valueFrom:o,valueTo:s,placeholder:l,onPress:c}){return(0,n.jsx)(a.default,{children:(0,n.jsx)(r.SearchRowCollapsible,{value:i,valueFrom:o,valueTo:s,maxHeight:t.COLLAPSIBLE_HEADER_SEARCH_MAX_HEIGHT,variant:"onAccent",children:(0,n.jsx)(r.SearchInputButton,{variant:"onAccent",accessory:e,onPress:c,placeholder:l})})})};const o=i(197582),n=i(785893),r=i(885838),a=o.__importDefault(i(42091));t.COLLAPSIBLE_HEADER_SEARCH_MAX_HEIGHT=52},719155:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(667294),a=i(85755),s=o.__importStar(i(85385)),l=i(815146),c=o.__importStar(i(732946)),d=o.__importDefault(i(760989)),u=o.__importStar(i(704704)),p=i(770169),g=i(526849);t.default=(0,g.WithResub)((function({isConversationCreationInProgress:e,recentlyCreatedMeetNow:t,statusPillInstance:i,statusPillMaxWidth:o}){const[g,h]=(0,r.useState)(c.ConversationStatusPillState.Invisible),m=(0,r.useRef)(null);(0,r.useEffect)((()=>{var i,o;if(e&&g===c.ConversationStatusPillState.Invisible)h(c.ConversationStatusPillState.ShowConversationCreateInProgress),null===(i=m.current)||void 0===i||i.touch();else if(!e&&g!==c.ConversationStatusPillState.Invisible){const e=t?c.ConversationStatusPillState.ShowConversationCreated:c.ConversationStatusPillState.ShowConversationCreationFailed;e!==g&&(h(e),null===(o=m.current)||void 0===o||o.touch())}}),[e,t,g]);const S=()=>{const e=d.default.newCauseId();s.log(l.LogTraceArea.Navigation,"ConversationCreatingInBackgroundPill onPillDismissed, causeId: "+e),h(c.ConversationStatusPillState.Invisible)},_=()=>{const e=d.default.newCauseId();s.log(l.LogTraceArea.Navigation,"ConversationCreatingInBackgroundPill nOpenCreateConversationLobbyRequested, causeId: "+e),h(c.ConversationStatusPillState.Invisible),a.MeetNowHelpers.maybeShowCreatorLobbyForMostRecentlyCreatedMeeting(e)},f=(e,t,r,a,s)=>(0,n.jsx)(p.StatusPillView,{ref:m,statusPillInstance:i,customContent:e,maxWidth:o,onClickOverride:t,customAutoHideBehaviour:{autoHideDisabled:r,customAutoHideTimeout:a,onAutoHidden:s},disableAbsolutePosition:!0,shouldRespectAccentColor:!0});switch(g){case c.ConversationStatusPillState.ShowConversationCreateInProgress:return f(u.getString("MeetNow.CreatingMeetingInBackgroundLabel"),S,!0);case c.ConversationStatusPillState.ShowConversationCreated:return f(u.getString("MeetNow.CreatedMeetingInBackgroundLabel"),_,!1,6e3,S);case c.ConversationStatusPillState.ShowConversationCreationFailed:return f(u.getString("MeetNow.FailedToCreateMeetingInBackgroundLabel"),_,!1,6e3,S)}return null}),(e=>Object.assign(Object.assign({},e),{isConversationCreationInProgress:c.default.isMeetingCreatingInBackground(),recentlyCreatedMeetNow:c.default.getMostRecentlyCreatedMeetNow()})))},937771:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({accessory:e,placeholder:t,onPress:i}){return(0,o.jsx)(n.SearchRow,{variant:"onAccent",children:(0,o.jsx)(n.SearchInputButton,{variant:"onAccent",accessory:e,onPress:i,placeholder:t})})};const o=i(785893),n=i(885838)},871955:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(331654),s=o.__importDefault(i(972946)),l=o.__importStar(i(859745)),c=o.__importStar(i(516778)),d=i(667294),u=o.__importStar(i(187140)),p=o.__importDefault(i(917381)),g=o.__importDefault(i(852789)),h=o.__importDefault(i(659938)),m=o.__importDefault(i(150343)),S=o.__importDefault(i(13816)),_=i(192478),f=o.__importDefault(i(804144)),y=o.__importDefault(i(141547)),C=i(315742),v=o.__importDefault(i(633958)),b=o.__importDefault(i(331824)),T=i(154235),P=o.__importDefault(i(330617)),k=o.__importDefault(i(574489)),A=o.__importDefault(i(566153)),I=o.__importStar(i(170881)),w=o.__importDefault(i(438752)),x=i(22478),N=i(815146),D=i(406719),M=o.__importStar(i(800662)),L=o.__importDefault(i(261914)),R=o.__importDefault(i(932836)),E=o.__importDefault(i(457468)),B=o.__importStar(i(85385)),O=o.__importDefault(i(114818)),F=o.__importDefault(i(309055)),V=o.__importDefault(i(831890)),U=i(26703),j=o.__importStar(i(704704)),H=o.__importDefault(i(58042)),W=o.__importDefault(i(719155)),z=o.__importDefault(i(503411)),G=o.__importDefault(i(740794)),K=o.__importStar(i(812822)),q=i(113002),Q=o.__importDefault(i(450312)),X=o.__importStar(i(185201)),$=o.__importStar(i(511592)),J=o.__importDefault(i(679405)),Y=o.__importDefault(i(515888)),Z=o.__importDefault(i(960282)),ee=o.__importDefault(i(117475)),te=(o.__importDefault(i(791384)),i(375258)),ie=i(928722),oe=o.__importDefault(i(218902)),ne=i(770169),re=i(16549),ae=o.__importDefault(i(139221)),se=i(641400),le=(o.__importDefault(i(827361)),o.__importDefault(i(48076))),ce=i(206197),de=o.__importDefault(i(760989)),ue=o.__importDefault(i(632145)),pe=o.__importDefault(i(261349)),ge=(o.__importDefault(i(337249)),o.__importDefault(i(139825))),he=o.__importDefault(i(92179)),me=i(96575),Se=o.__importStar(i(972830)),_e=i(844086),fe=i(479845),ye=o.__importDefault(i(247286)),Ce=o.__importDefault(i(201721)),ve=o.__importDefault(i(341994)),be=i(217274),Te=o.__importDefault(i(942724)),Pe=i(375369),ke=i(295939),Ae=o.__importDefault(i(248765)),Ie=i(842029),we=[K.HubTab.Recents,K.HubTab.Calls,K.HubTab.People,K.HubTab.Today,K.HubTab.Notifications],xe=(0,U.lazyProperties)({hub:()=>c.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),headerStyle:()=>c.Styles.createViewStyle({height:70}),headerStyleSmall:()=>c.Styles.createViewStyle({height:60}),headerLandscapeStyle:()=>c.Styles.createViewStyle({height:44}),tabShadow:()=>c.Styles.createViewStyle({left:0,right:0,height:1}),contentContainer:()=>c.Styles.createViewStyle({flex:1,flexDirection:"column-reverse"}),contentInnerContainer:()=>c.Styles.createViewStyle({flex:1,alignItems:"stretch"}),tabWrapper:()=>c.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),headerWrapper:()=>c.Styles.createViewStyle({flex:0,overflow:"visible"}),fab:()=>c.Styles.createViewStyle({position:"absolute",bottom:15,right:15}),stackedFab:()=>c.Styles.createViewStyle({marginTop:10})});class Ne extends _.BaseNavigationView{constructor(e){super(e),this._statusPillInstance=new oe.default,this._miniToastKey=r.uniqueId("MobileHub"),this._todayTabPanelWebview=(0,d.createRef)(),this._skipUpdatingHeaderTab=!1,this._skypeToPhoneCardExperimentSettings={location:D.ExperimentLocation.CallsPanel,name:"DialpadFab",layoutOption:"default"},this._resetTransitionTransformValue=new c.Animated.Value(0),this._resetTransitionOpacityValue=new c.Animated.Value(1),this._resetSearchTransitionStyle=c.Styles.createAnimatedViewStyle({opacity:this._resetTransitionOpacityValue,transform:[{translateY:this._resetTransitionTransformValue}]}),this._contentTransformValue=new c.Animated.Value(0),this._contentOpacityValue=new c.Animated.Value(1),this._contentAnimatedStyle=c.Styles.createAnimatedViewStyle({opacity:this._contentOpacityValue,transform:[{translateX:this._contentTransformValue}]}),this._fabOpacityValue=new c.Animated.Value(1),this._fabOpacityStyle=c.Styles.createAnimatedViewStyle({opacity:this._fabOpacityValue}),this._coachMarkContext={coachMarkArea:C.CoachMarkAreaType.MobileHub},this._hubHeaderPanelRef=()=>this._hubHeaderPanel,this._onWhatsNewTooltipPress=e=>{e.stopPropagation(),e.preventDefault();const t=de.default.newCauseId();G.default.navigateToMeControl(this._getRootViewId(),t,ie.StackNavigationDirection.Present)},this._onConversationListLayout=e=>{this._statusPillMaxWidth=e.width-4},this._onConversationListPanel=e=>{this._conversationsListPanel=e||void 0},this._onHubHeaderPanel=e=>{this._hubHeaderPanel=e||void 0},this._onAppStateChange=e=>{this._handleAppStateChange(e)},this._tabConfig=e=>{switch(e){case K.HubTab.Recents:return this._getWrappedRecentsTabConfig();case K.HubTab.Calls:return this._getCallsTabConfig();case K.HubTab.People:return this._getContactsTabConfig();case K.HubTab.Notifications:return this._getNotificationsTabConfig();case K.HubTab.Today:return this._getTodayTabConfig();case K.HubTab.MeetNowChats:case K.HubTab.MeetNowCalls:case K.HubTab.Phone:return}},this._goToRecent=()=>{this._onBottomTabPress(K.HubTab.Recents,void 0)},this._onBottomTabPress=(e,t,i)=>{var o;if(this._getContext().isPresentedInDesktopLeftNav&&I.dismissAll(),i){this._tabChangeTrackerId&&he.default.cancelTimeout(this._tabChangeTrackerId),this._tabChangeTrackerId=de.default.newCauseId();const t={tab:e};he.default.createTrackerAndMarkPressTime(this._tabChangeTrackerId,me.ScenarioName.ResponsivenessSelectHubTab,i,t)}if(w.default.disableTooltip(x.EngagementTooltipType.Profile),this.state.currentTab!==e){const t=this._convertTabEnumToIndex(e),i=this._convertTabEnumToIndex(this.state.currentTab),o=20*(t>i?1:-1),n=r.clone(this.state.tabRenderFlags);n[e]=!0;const a=!(0,O.default)(n,this.state.tabRenderFlags);if(this._skipUpdatingHeaderTab=a,e===K.HubTab.Today&&(0,Ie.handleOpeningTodayTab)(),this.isComponentMounted()){const r=()=>{if(this._swipableTabView&&i!==t){const e=l.Common.Duration.Tiny,i=()=>{this._skipUpdatingHeaderTab=!1,this._updateHeaderTab(this.state.currentTab,!0),this._contentTransformValue.setValue(o),this._contentOpacityValue.setValue(.4),this._fabOpacityValue.setValue(1),this._swipableTabView&&this._swipableTabView.goToTab(t,!1),l.parallel([l.timing.shotgun({value:this._contentTransformValue,toValue:0,duration:e,useNativeDriver:!0}),l.timing.shotgun({value:this._contentOpacityValue,toValue:1,duration:e,useNativeDriver:!0})]).start()};if(a){this._fabOpacityValue.setValue(0);const t=!0;l.parallel([l.timing.easeOut({value:this._contentTransformValue,toValue:-o,duration:e,useNativeDriver:t}),l.timing.easeOut({value:this._contentOpacityValue,toValue:0,duration:e,useNativeDriver:t})]).start((e=>{e.finished&&i()}))}else this._contentOpacityValue.setValue(0),i()}};a?this.setState({tabRenderFlags:n,currentTab:e},r):this.setState({currentTab:e},r)}0,this.state.isTablet&&e===K.HubTab.Today&&(Ae.default.start(),G.default.navigateToTodayTabDesktopFeed(!0,!0))}else switch(e){case K.HubTab.Recents:0===(0,Pe.getHubTabScrollStore)("recents").getValue()&&(0,ke.getRecentsFilterStore)().setFilterMode("all"),this._conversationsListPanel&&this._conversationsListPanel.scrollToTop();break;case K.HubTab.Calls:this._quickCallPanel&&this._quickCallPanel.scrollToTop();break;case K.HubTab.People:this._contactsPanel&&this._contactsPanel.scrollToTop();break;case K.HubTab.Notifications:this._notificationsPanel&&this._notificationsPanel.scrollToTop();break;case K.HubTab.Today:this._todayTabPanelWebview&&(null===(o=this._todayTabPanelWebview.current)||void 0===o||o.scrollToTop())}},this._onTabChangeEnd=(e,t)=>{if(this.isComponentMounted()){this._tabChangeTrackerId&&(he.default.markActionDoneAndRemoveTracker(this._tabChangeTrackerId),this._tabChangeTrackerId=void 0);const t=this._convertIndexToTabEnum(e),i=(0,fe.getTelemetryTabName)(t);B.track(new X.NavigationTab(i));const o=ae.default.isUsingExperimentalNav();o&&this.isComponentMounted()&&this.state.currentTab!==t&&(B.log(N.LogTraceArea.MobileHub,"MobileHub: setting currentTab to "+t),this.setState({currentTab:t})),r.defer((()=>{G.default.updateHubNavigationContext(t,!o)}))}w.default.disableTooltip(x.EngagementTooltipType.Profile)},this.handleFocusEvent=e=>(B.log(N.LogTraceArea.GenericUnsafe,"MobileHub.handleFocusEvent"),e===M.FocusEvent.OpenCallSideBar&&(this._focusCenterControl(),!0)),this._renderCallsTabContent=()=>(0,n.jsx)(Y.default,{ref:this._onQuickCallPanelRef,hideHeader:!0,hideSearchBar:!1,topInset:50,bottomPadding:160,isMobileTab:!0}),this.toggleNavigation=e=>{this.setState({hideHeaderAndTabNavigation:e})},this._renderTodayTabContent=()=>this.state.isTablet?this._renderTodayTabForTablet():this._renderTodayTabForMobile(),this._renderTodayTabForMobile=()=>{const{props:{route:{params:{params:e}}}}=this,t=null==e?void 0:e.openInterestsManagerOnLoad;return(0,n.jsx)(be.TodayTabMobilePanel,{getIsActiveTab:()=>this.state.currentTab===K.HubTab.Today,ref:this._todayTabPanelWebview,toggleNavigation:this.toggleNavigation,openInterestsManagerOnLoad:t})},this._renderTodayTabForTablet=()=>(0,n.jsx)(be.TodayTabNavigationPanel,{isTablet:!0}),this._onContactsTabCountUpdated=e=>{if(!this.isComponentMounted())return;const t=1===e;t!==this.state.showShadowForPeopleTab&&this.setState({showShadowForPeopleTab:t})},this._onSwipableTabViewRef=e=>{this._swipableTabView=e},this._onPrimaryFABPress=e=>{const t=R.default.actionButtonForHubTab(this.state.currentTab,this.state.disableHighBandwidthOperations);t&&this._isCTAExperiment()&&V.default.registerCallButtonClickAction(this._skypeToPhoneCardExperimentSettings),this._intFABPress(e,t,this._getRootViewId())},this._onQuickCallPanelRef=e=>{this._quickCallPanel=e||void 0},this._onContactsPanelV2Ref=e=>{this._contactsPanel=e||void 0},this._onNotificationsPanelRef=e=>{this._notificationsPanel=e||void 0},this._onContentWrapperRef=e=>{this._wrappedContentTransitionView=e||void 0},this._goBack=e=>(B.log(N.LogTraceArea.MobileHub,"MobileHub._goBack: causeId: "+e),this.state.onTopOfNavStack,!1),this._initialTab=e.route.params.hubTab,$.default.transitionInfoEvent().subscribe((e=>{$.default.isHubSearchTransition()&&e.progress?this._setAnimatedValues(e.progress,0):e.fromRoute&&e.fromRoute.type===$.RouteType.Hub&&this._clearAnimatedValues()})),this._navigationStateStoreToken=Q.default.subscribe((()=>this._onNavigationStateStoreHubTabChange()),q.TriggerKeys.HubTab)}_buildState(e,t){var i;const{enableContentChannels:o}=m.default.getS4LUiFeatures(),n=ye.default.isChildOrMinor(),s={enableRecentsFilterPills:o&&Te.default.isUsingStackNavigationContext()&&!n};s.shouldSkipRendering=F.default.shouldSkipMobileHub(),t&&(s.unreadAlertsCount=0,s.activeConversationsCount=0),s.disableHighBandwidthOperations=E.default.isUsingGogoNetwork();const l=this._getRootViewId();s.onTopOfNavStack=Q.default.isOnTopOfNavigationStack(K.MobileHubNavigationId),s.deviceOrientation=Z.default.getDeviceOrientation(l),s.leavePaddingForStatusBar=c.StatusBar.isOverlay()&&s.deviceOrientation===a.DeviceOrientation.Portrait,s.statusBarHeight=ee.default.statusBarHeight(),s.bottomSafeAreaInset=ee.default.bottomSafeAreaInset(),s.useCompactLayout=Z.default.isSmallDevice(l);const d=m.default.getEngagementFeatures().whatsNewSetting;s.isWhatsNewTooltipEnabled=d.enabled&&d.coachmarkEnabled,s.showWhatsNewTooltip=ue.default.showTooltip()&&S.default.isAppUpdated(),s.onTopOfNavStack&&(s.unreadAlertsCount=g.default.getUnreadAlertsCount(),s.activeConversationsCount=k.default.getActiveRecentsConversationCount()),!t&&ae.default.isUsingExperimentalNav()||(s.currentTab=e.route.params.hubTab),s.isTablet=le.default.isTablet(),s.windowHeight=Z.default.getHeight(l),s.unreadConversationIds=r.keys(k.default.getConversationsWithUnreadCounts());const u=m.default.getS4LCommerceFeatures().todayTab.enabled,p=ye.default.isChildOrMinor();return s.showTodayTab=!p&&u&&Ce.default.getTodayTabToggledButtonSwitchedOn(),s.showTodayTabBadge=ve.default.shouldShowTodayBadge(),t?(s.tabRenderFlags=Object.assign({[e.route.params.hubTab]:!0},null!==(i=e.route.params.params)&&void 0!==i?i:{}),s.showShadowForPeopleTab=!1,s.hideHeaderAndTabNavigation=!1):s.deviceOrientation!==this.state.deviceOrientation&&(s.tabRenderFlags=this._resetTabRenderFlags(s)),s}_renderHeaderWithOptions(e){const t=this.state.deviceOrientation===a.DeviceOrientation.Landscape;let i;return i=e.heightOverride?c.Styles.createViewStyle({height:e.heightOverride},!1):t?xe.headerLandscapeStyle:this.state.useCompactLayout?xe.headerStyleSmall:xe.headerStyle,(0,n.jsx)(H.default,{ref:this._onHubHeaderPanel,style:i,currentHubTab:this.state.currentTab,unreadAlertsCount:e.hideAlertsButton?void 0:this.state.unreadAlertsCount,deviceOrientation:this.state.deviceOrientation,animatedTransitionStyle:e.contentTransitionStyle,hideAlertsButton:e.hideAlertsButton,disableHighBandwidthOperations:this.state.disableHighBandwidthOperations,shouldTrackUnreadAlerts:e.shouldTrackUnreadAlerts})}_getBookmarkTooltip(){return this.state.showBookmarkTooltip?(0,n.jsx)(y.default,{title:j.getString("BookmarksTooltips.BookmarksCanBeFoundHere"),accessibilityLabel:j.getString("BookmarksTooltips.BookmarksCanBeFoundHere"),anchor:this._hubHeaderPanelRef}):void 0}_getWhatsNewTooltip(){return this.state.isWhatsNewTooltipEnabled&&this.state.showWhatsNewTooltip?(0,n.jsx)(pe.default,{title:j.getString("Onboarding.LandingScreenWithCardsCardTitle1"),accessibilityLabel:j.getString("Onboarding.LandingScreenWithCardsCardTitle1"),anchor:this._hubHeaderPanelRef,onPress:this._onWhatsNewTooltipPress}):void 0}_renderConnectivityStatusPill(){return(0,n.jsx)(ne.StatusPillView,{disableAbsolutePosition:!0,statusPillInstance:this._statusPillInstance,connectionStatusOnly:!0})}_getRecentsTabConfig(e){return Object.assign(Object.assign({},e.params),{accessibilityLabel:this._tabAccessibilityLabel(K.HubTab.Recents),renderContent:()=>{if(e.hideContent)return;const t=e.wrapperStyle,i=this.state.currentTab===K.HubTab.Recents,o=(0,n.jsx)(A.default,{ref:this._onConversationListPanel,useMobileView:!0,showFilterIcon:!0,isScrollToTopTarget:i&&this._scrollsToTop(),isActiveTab:i,topInset:this._topScrollInset(),bottomPadding:e.bottomPadding,hideSearchBar:e.hideSearchBar});return e.contentWrapper?e.contentWrapper(o):(0,n.jsx)(c.View,{style:t,onLayout:this._onConversationListLayout,children:o},"conversation-list")}})}_placeholderTabConfig(){return{renderContent:()=>{}}}_tabAccessibilityLabel(e){let t="";const i=this._convertTabEnumToIndex(e)+1;if(e===K.HubTab.Recents)t+=j.getString("Hub.RecentsTabScreenReaderLabel",{count:this.state.activeConversationsCount});return t+=" "+j.getString("AccessibilityLabel.TabControlLabel")+" "+j.getString("AccessibilityLabel.TabCountLabel",{currentTab:i,totalTabs:this._totalTabs()}),t}render(){if(this.state.shouldSkipRendering)return null;const{primaryBackgroundColorStyle:e}=Se.themeStyles(this._getContext()),t=[xe.hub,e];const i=this._additionalContainerStyles();return i&&t.push(i),(0,n.jsx)(v.default,{goBack:this._goBack,children:(0,n.jsx)(c.Animated.View,{style:t,children:(0,n.jsx)(C.CoachMarkContext.Provider,{value:this._coachMarkContext,children:this._renderContent()})},"panel")})}_renderContent(){const e=this._getTabs(),t=r.compact(r.map(e,this._tabConfig));this._getContext().isRTL&&r.reverse(t);const i=this._isPresentedInTabletLeftNav(),o=r.includes(e,K.HubTab.Notifications),a=this.state.hideHeaderAndTabNavigation&&this.state.currentTab===K.HubTab.Today||this.props.route.params.hideHeader?void 0:this._renderHeaderWithOptions({heightOverride:te.HeaderHeight,contentTransitionStyle:this._contentAnimatedStyle,hideAlertsButton:i||this.state.isTablet||o,shouldTrackUnreadAlerts:o}),l=this.state.hideHeaderAndTabNavigation&&this.state.currentTab===K.HubTab.Today?void 0:(0,n.jsx)(L.default,{tabs:e,currentHubTab:this.state.currentTab,showSpinnerWhenSyncing:!0,activeConversationsCount:r.includes(e,K.HubTab.Recents)?this.state.activeConversationsCount:void 0,unreadAlertsCount:r.includes(e,K.HubTab.Notifications)?this.state.unreadAlertsCount:void 0,showTodayTabBadge:r.includes(e,K.HubTab.Today)?this.state.showTodayTabBadge:void 0,onTabPress:this._onBottomTabPress});let d;if(a){const e=this._getContext().isPresentedInDesktopLeftNav?void 0:(0,n.jsx)(J.default,{},"networkConnectionAlert");let t;if(!i||this.state.currentTab===K.HubTab.Recents){const e=c.Styles.createViewStyle({position:"absolute",top:te.HeaderHeight,alignSelf:"center"},!1);t=(0,n.jsx)(c.View,{style:e,children:this._renderConnectivityStatusPill()},"connectionStatusWrapper")}d=[(0,n.jsxs)(c.View,{style:xe.headerWrapper,children:[a,this._getBookmarkTooltip(),this._getWhatsNewTooltip(),e,(0,n.jsx)(W.default,{statusPillInstance:this._statusPillInstance,statusPillMaxWidth:this._statusPillMaxWidth})]},"headerWrapper"),t]}const u=[xe.contentContainer],p=[xe.contentInnerContainer];return(0,n.jsx)(_e.KeyboardAvoidingView,{enabled:this.state.isTablet,children:(0,n.jsxs)(ge.default,{ref:this._onContentWrapperRef,style:u,shouldGroupAccessibilityChildren:this._getContext().isPresentedInDesktopLeftNav,children:[(0,n.jsxs)(c.View,{style:p,children:[(0,n.jsxs)(c.Animated.View,{style:[xe.contentInnerContainer,this._contentAnimatedStyle],children:[(0,n.jsx)(s.default,{ref:this._onSwipableTabViewRef,startingTabIndex:this._convertTabEnumToIndex(this._initialTab),tabConfigs:t,tabHeight:0,swipeDisabled:!0,tabsHidden:!0,hideTabUnderline:!0,isRTL:this._getContext().isRTL,contentOnly:!0,onTabChangeEnd:this._onTabChangeEnd,initialTabCountToRender:e.length}),this._renderFABContent()]}),l]}),d]})})}_getTabs(){const e=r.clone(we);if(!this.state.showTodayTab){const t=e.indexOf(K.HubTab.Today);-1!==t&&e.splice(t,1)}if(!this.state.isTablet){const t=e.indexOf(K.HubTab.Notifications);-1!==t&&e.splice(t,1)}return e}componentDidMount(){super.componentDidMount(),this._activationSubToken=h.default.subscribeForChanges("MobileHub",this._onAppStateChange),this._indexToTabEnumMap=this._generateIndexToTabEnumMap(),this._tabEnumToIndexMap=this._generateTabEnumToIndexMap(),this._focusCenterControl(!1),this._updateHeaderTab(this.state.currentTab),this._addBottomMargin(),this._isPresentedInTabletLeftNav()&&M.register(M.FocusEvent.OpenCallSideBar,this),ue.default.maybeSetTooltipVisibility(!0),ue.default.maybeSetRedDotVisibility(!0),l.NativeUtils.markAnimatedValue(this._contentTransformValue,0),l.NativeUtils.markAnimatedValue(this._contentOpacityValue,1)}_shouldComponentUpdate(e,t,i,o,n,r){return e?i.deviceOrientation!==n.deviceOrientation||i.useCompactLayout!==n.useCompactLayout||i.leavePaddingForStatusBar!==n.leavePaddingForStatusBar||i.statusBarHeight!==n.statusBarHeight||i.windowHeight!==n.windowHeight||i.shouldSkipRendering!==n.shouldSkipRendering||i.onTopOfNavStack!==n.onTopOfNavStack:super._shouldComponentUpdate(e,t,i,o,n,r)}_componentWillUpdate(e,t,i,o,n){super._componentWillUpdate(e,t,i,o,n);const a=this._getTabs();if(r.includes(a,K.HubTab.Recents)){const e=r.includes(o.unreadConversationIds,o.selectedConversationId)||r.includes(t.unreadConversationIds,t.selectedConversationId);if(t.activeConversationsCount!==o.activeConversationsCount&&!e){const e=j.getString("Hub.RecentsTabScreenReaderLabel",{count:t.activeConversationsCount||0});c.Accessibility.announceForAccessibility(e)}}if(t.unreadAlertsCount!==o.unreadAlertsCount&&r.includes(a,K.HubTab.Notifications)){const e=j.getString("Hub.UnreadCounterScreenReaderLabel",{count:t.unreadAlertsCount||0});c.Accessibility.announceForAccessibility(e)}t.shouldSkipRendering!==o.shouldSkipRendering&&B.log(N.LogTraceArea.MobileHub,"MobileHub.UNSAFE_componentWillUpdate: shouldSkipRendering "+t.shouldSkipRendering)}_componentDidUpdate(e,t,i){super._componentDidUpdate(e,t,i),t.currentTab!==this.state.currentTab&&this._updateHeaderTab(this.state.currentTab,!0),this.state.onTopOfNavStack!==t.onTopOfNavStack&&(this.state.onTopOfNavStack?this._addBottomMargin():z.default.removeBottomMargin(this._miniToastKey)),this.state.onTopOfNavStack&&!t.onTopOfNavStack&&this._hubHeaderPanel&&this._hubHeaderPanel.focusCenterControl(),t.currentTab!==K.HubTab.Today||t.showTodayTab||this.isComponentMounted()&&this._goToRecent(),r.delay((()=>{this.isComponentMounted()&&this.setState({showBookmarkTooltip:f.default.shouldDisplayTooltipOnMobile(this.state.onTopOfNavStack)})}),1e3)}componentWillUnmount(){super.componentWillUnmount(),this._activationSubToken&&(this._activationSubToken.unsubscribe(),this._activationSubToken=void 0),this._statusPillInstance&&this._statusPillInstance.destroy(),this._navigationStateStoreToken&&(Q.default.unsubscribe(this._navigationStateStoreToken),this._navigationStateStoreToken=void 0),this._selectedConversationIdToken&&(this._selectedConversationIdToken.unsubscribe(),this._selectedConversationIdToken=void 0),z.default.removeBottomMargin(this._miniToastKey),M.unregister(M.FocusEvent.OpenCallSideBar,this),w.default.disableTooltip(x.EngagementTooltipType.Profile)}_addBottomMargin(){z.default.addOrUpdateBottomMargin(this._miniToastKey,b.default.tabBarHeight(T.TabBarHeight.Default)+Math.max(10,this.state.bottomSafeAreaInset+10))}_focusCenterControl(e=!0){const t=()=>{this.isComponentMounted()&&this._hubHeaderPanel&&this._hubHeaderPanel.focusCenterControl()};e?r.delay(t,100):t()}_resetTabRenderFlags(e){const t={};return t[r.isUndefined(e.currentTab)?this.state.currentTab:e.currentTab]=!0,t[K.HubTab.Recents]=!0,t}_onNavigationStateStoreHubTabChange(){if(this.isComponentMounted()){const e=Q.default.getCurrentHubTab();B.log(N.LogTraceArea.MobileHub,"MobileHub._onNavigationStateStoreHubTabChange "+e),this._swipableTabView&&e!==this.state.currentTab&&this._swipableTabView.goToTab(this._convertTabEnumToIndex(e),!1)}w.default.disableTooltip(x.EngagementTooltipType.Profile)}_updateHeaderTab(e,t=!1){this._skipUpdatingHeaderTab||t&&this._isPresentedInTabletLeftNav()&&this._focusCenterControl()}_getContactsTabConfig(){return this.state.tabRenderFlags[K.HubTab.People]?{renderContent:()=>(0,n.jsx)(P.default,{ref:this._onContactsPanelV2Ref,hideHeader:!0,hideSearchBar:!1,topInset:50,bottomPadding:80,isHidden:this.state.currentTab!==K.HubTab.People||!this.state.onTopOfNavStack,onTabCountUpdated:this._onContactsTabCountUpdated})}:this._placeholderTabConfig()}_getCallsTabConfig(){return this.state.tabRenderFlags[K.HubTab.Calls]?{renderContent:this._renderCallsTabContent}:this._placeholderTabConfig()}_getNotificationsTabConfig(){return this.state.tabRenderFlags[K.HubTab.Notifications]?{renderContent:()=>(0,n.jsx)(p.default,{ref:this._onNotificationsPanelRef,hideHeader:!0,onClose:this._goToRecent})}:this._placeholderTabConfig()}_getTodayTabConfig(){return this.state.tabRenderFlags[K.HubTab.Today]?{renderContent:this._renderTodayTabContent}:this._placeholderTabConfig()}_getWrappedRecentsTabConfig(){if(!this.state.tabRenderFlags[K.HubTab.Recents])return this._placeholderTabConfig();const e={wrapperStyle:this._wrapperStyle(),bottomPadding:80,hideSearchBar:!0,params:{}};return this._getRecentsTabConfig(e)}_renderFABContent(){if(this.state.currentTab===K.HubTab.Notifications)return;const e=R.default.actionButtonForHubTab(this.state.currentTab,this.state.disableHighBandwidthOperations);return e?(0,n.jsx)(c.Animated.View,{style:[xe.fab,this._fabOpacityStyle],ignorePointerEvents:!0,children:(0,n.jsx)(u.default,{style:xe.stackedFab,size:u.ActionButtonSize.FAB,icon:e.icon,iconSize:se.IconSize.size24,iconColor:this._getContext().theme!==ce.Theme.AccessibleDark?re.Color.white:void 0,accessibilityLabel:e.title,reverseGradientColor:!0,disabled:e.disabled,disabledOpacity:e.disabled?1:void 0,onPress:this._onPrimaryFABPress})}):void 0}_intFABPress(e,t,i){t&&t.onPressCallback&&t.onPressCallback(i,e)}_wrapperStyle(){return[xe.tabWrapper]}_setAnimatedValues(e,t){if(this._wrappedContentTransitionView){const i=c.Styles.createAnimatedViewStyle({opacity:e.interpolate({inputRange:[t-1,t,t+.5,t+1],outputRange:[1,1,0,0]}),transform:[{translateY:e.interpolate({inputRange:[t-1,t,t+1],outputRange:[0,0,-100]})}]});this._wrappedContentTransitionView.setAnimatedStyle(i)}}_clearAnimatedValues(){this._wrappedContentTransitionView&&this._wrappedContentTransitionView.setAnimatedStyle(this._resetSearchTransitionStyle)}_scrollsToTop(){return!!this.state.onTopOfNavStack&&!1}_topScrollInset(){const e=this._isPresentedInTabletLeftNav();return this.state.enableRecentsFilterPills?50:e?0:50}_totalTabs(){return 4}_additionalContainerStyles(){0}_handleAppStateChange(e){if(!this.isComponentMounted())return;B.log(N.LogTraceArea.MobileHub,"MobileHub._handleAppStateChange, reset tab render flags");const t=this._resetTabRenderFlags(this.state);(0,O.default)(this.state.tabRenderFlags,t)||this.setState({tabRenderFlags:t})}_generateIndexToTabEnumMap(){let e=r.clone(this._getTabs());return e=this._getContext().isRTL?r.reverse(e):e,b.default.generateIndexToTabEnumMap(e)}_generateTabEnumToIndexMap(){let e=r.clone(this._getTabs());return e=this._getContext().isRTL?r.reverse(e):e,b.default.generateTabEnumToIndexMap(e)}_convertIndexToTabEnum(e){return this._indexToTabEnumMap||(this._indexToTabEnumMap=this._generateIndexToTabEnumMap()),this._indexToTabEnumMap[e]}_convertTabEnumToIndex(e){this._tabEnumToIndexMap||(this._tabEnumToIndexMap=this._generateTabEnumToIndexMap());const t=r.isUndefined(e)?K.HubTab.Recents:e;return this._tabEnumToIndexMap[t]}_isCTAExperiment(){return this.state.currentTab===K.HubTab.Calls}_pauseWhenNotVisible(){return!0}_componentId(){return"MobileHub"}}t.default=Ne},479845:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MobileHub=void 0,t.getTelemetryTabName=Ie;const o=i(197582),n=i(785893),r=i(667294),a=i(537180),s=i(217041),l=i(379707),c=i(331654),d=i(757361),u=i(701025),p=i(919640),g=o.__importDefault(i(150343)),h=i(641400),m=o.__importDefault(i(917381)),S=o.__importDefault(i(566153)),_=o.__importDefault(i(515888)),f=o.__importDefault(i(330617)),y=o.__importDefault(i(958868)),C=i(315742),v=o.__importDefault(i(340724)),b=o.__importStar(i(812822)),T=o.__importStar(i(704704)),P=i(736267),k=o.__importDefault(i(574489)),A=o.__importDefault(i(852789)),I=i(16549),w=o.__importDefault(i(932836)),x=i(433343),N=o.__importDefault(i(314297)),D=o.__importDefault(i(974884)),M=o.__importDefault(i(92179)),L=o.__importDefault(i(760989)),R=o.__importDefault(i(632145)),E=o.__importDefault(i(920147)),B=i(96575),O=o.__importDefault(i(960615)),F=o.__importDefault(i(20758)),V=o.__importStar(i(185201)),U=o.__importStar(i(85385)),j=o.__importDefault(i(438752)),H=i(22478),W=i(815146),z=o.__importDefault(i(130626)),G=o.__importDefault(i(551728)),K=o.__importDefault(i(247286)),q=o.__importDefault(i(679405)),Q=o.__importDefault(i(201721)),X=o.__importDefault(i(341994)),$=o.__importDefault(i(48076)),J=o.__importDefault(i(960282)),Y=i(307800),Z=i(18858),ee=o.__importDefault(i(463171)),te=i(503308),ie=i(217274),oe=i(239394),ne=o.__importDefault(i(793778)),re=i(375369),ae=i(295939),se=i(842029),le=o.__importDefault(i(248765)),ce={[b.HubTab.Recents]:"recents",[b.HubTab.Today]:"today"},de=a.StyleSheet.create({badge:{maxWidth:100,borderWidth:2,fontWeight:"bold",fontSize:F.default.controlFontSize.smallBadge,lineHeight:F.default.controlFontSize.smallBadge+4,textAlign:"center",textAlignVertical:"center",borderRadius:F.default.controlFontSize.smallBadge},badgeTransparent:{backgroundColor:"rgba(0,0,0,0)"},tabWrapper:{flex:1},tabBarIconUnfocused:{opacity:.8}});class ue extends s.ComponentBase{_buildState(){return{shouldShowMyBotFloatToolTip:ne.default.shouldShowMyBotFloatToolTip()}}render(){return(0,n.jsx)(pe,{navigation:this.props.navigation,route:this.props.route,shouldShowMyBotFloatToolTip:this.state.shouldShowMyBotFloatToolTip})}}function pe({shouldShowMyBotFloatToolTip:e}){const t=(0,P.useCommonContext)(),i=(0,d.useIsFocused)(),o=(0,r.useRef)(null),s=(0,r.useRef)(null);(0,d.useScrollToTop)(o);const l=e?(0,n.jsx)(oe.MyBotFloatTooltip,{title:T.getString("MyBotConversation.HightlightedTooltip"),anchor:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.getMyBotRef()},offsetY:ne.default.getToolTipOffset(),parentRef:()=>null===s.current?void 0:s.current}):void 0;return(0,n.jsxs)(a.View,{style:de.tabWrapper,ref:s,children:[t.isPresentedInDesktopLeftNav?null:(0,n.jsx)(q.default,{}),(0,n.jsx)(S.default,{ref:o,useMobileView:!0,showFilterIcon:!0,isScrollToTopTarget:!1,isActiveTab:i,topInset:50,bottomPadding:0,hideSearchBar:!0}),l,(0,n.jsx)(N.default,{icon:h.SkypeIcon.Compose,accessibilityLabel:T.getString("HubHeaderPanel.NewConversationTitle"),onPress:()=>w.default.onSuperComposerClick(t.rootViewId)})]})}class ge extends s.ComponentBase{_buildState(){const{enableNewCallsTabPanel:e,emoticonForEmptyCallsTab:t}=g.default.getS4LMessagingFeatures();return{enableNewCallsTabPanel:e,emoticonForEmptyState:t,showEmptyIllustration:ee.default.getCallsEmpty()}}render(){return(0,n.jsx)(he,{navigation:this.props.navigation,route:this.props.route,enableNewCallsTabPanel:this.state.enableNewCallsTabPanel,emoticonForEmptyState:this.state.emoticonForEmptyState,showEmptyIllustration:this.state.showEmptyIllustration})}}function he({enableNewCallsTabPanel:e,showEmptyIllustration:t,emoticonForEmptyState:i}){const o=(0,P.useCommonContext)(),s=(0,r.useRef)(null),l=(0,r.useRef)(null);const c=e?(0,n.jsx)(Y.CallsTabPanel,{ref:s,showEmptyStateIllustration:t,emptyStateEmoticon:i}):(0,n.jsx)(_.default,{ref:l,hideHeader:!0,hideSearchBar:!0,topInset:50,bottomPadding:160,isMobileTab:!0});return(0,n.jsxs)(a.View,{style:de.tabWrapper,children:[o.isPresentedInDesktopLeftNav?null:(0,n.jsx)(q.default,{}),c,(0,n.jsx)(N.default,{icon:h.SkypeIcon.Dialpad,accessibilityLabel:T.getString("PeopleList.PstnDialpadLabel"),onPress:()=>w.default.onDialpadButtonClick(o.rootViewId)})]})}class me extends s.ComponentBase{_buildState(){const{emoticonForEmptyPhoneTab:e}=g.default.getS4LMessagingFeatures();return{emoticonForEmptyState:e,showEmptyIllustration:ee.default.getPhoneCallsEmpty()}}render(){return(0,n.jsx)(Se,{navigation:this.props.navigation,route:this.props.route,showEmptyIllustration:this.state.showEmptyIllustration,emoticonForEmptyState:this.state.emoticonForEmptyState})}}function Se({showEmptyIllustration:e,emoticonForEmptyState:t}){const i=(0,P.useCommonContext)(),o=(0,r.useRef)(null);return(0,n.jsxs)(a.View,{style:de.tabWrapper,children:[(0,n.jsx)(q.default,{}),(0,n.jsx)(Z.PhoneTabPanel,{ref:o,showEmptyStateIllustration:e,emptyStateEmoticon:t}),(0,n.jsx)(N.default,{icon:h.SkypeIcon.Dialpad,accessibilityLabel:T.getString("PeopleList.PstnDialpadLabel"),onPress:()=>w.default.onDialpadButtonClick(i.rootViewId)})]})}const _e=(e,t)=>{const i=T.getString("Hub.CallsTabTitle"),o=e?v.default.tabAccessibilityLabel(i,1,5):v.default.tabAccessibilityLabel(i,1,4);return{tabBarIcon:e=>Ae(e,h.SkypeIcon.VideoFilledInvertedGradient,h.SkypeIcon.Video,t),tabBarLabel:T.getString("Hub.CallsTabTitle"),tabBarAccessibilityLabel:o}},fe=e=>{const t=T.getString("Hub.PhoneTabTitle"),i=v.default.tabAccessibilityLabel(t,2,5);return{tabBarIcon:t=>Ae(t,h.SkypeIcon.DialpadFilledInvertedGradient,h.SkypeIcon.Dialpad,e),tabBarLabel:T.getString("Hub.PhoneTabTitle"),tabBarAccessibilityLabel:i}},ye=(e,t,i,o)=>{const n=T.getString("Hub.MyFeedTabTitle");return{tabBarIcon:e=>Ae(e,h.SkypeIcon.TodayTabInvertedGradient,h.SkypeIcon.TodayTabInverted,o),tabBarLabel:n,tabBarAccessibilityLabel:i?v.default.tabAccessibilityLabel(n,4,5):v.default.tabAccessibilityLabel(n,3,4),tabBarBadge:e?"":void 0,tabBarBadgeStyle:t}};class Ce extends s.ComponentBase{render(){return(0,n.jsx)(ve,{navigation:this.props.navigation,route:this.props.route})}}function ve(e){const t=(0,P.useCommonContext)(),i=(0,d.useIsFocused)(),o=(0,r.useRef)(null);return(0,n.jsxs)(a.View,{style:de.tabWrapper,children:[t.isPresentedInDesktopLeftNav?null:(0,n.jsx)(q.default,{}),(0,n.jsx)(f.default,{ref:o,hideHeader:!0,hideSearchBar:!0,topInset:50,bottomPadding:80,isHidden:!i}),(0,n.jsx)(N.default,{icon:h.SkypeIcon.ContactAdd,accessibilityLabel:T.getString("Hub.AddContactsLabelGrouped"),onPress:()=>w.default.onPeoplePlusButtonClickForNewMobileHub(t.rootViewId)})]})}const be=(e,t)=>{const i=T.getString("Hub.ContactsTabTitle"),o=e?v.default.tabAccessibilityLabel(i,3,5):v.default.tabAccessibilityLabel(i,2,4);return{tabBarIcon:e=>Ae(e,h.SkypeIcon.BookContactsFillInvertedGradient,h.SkypeIcon.BookContacts,t),tabBarLabel:T.getString("Hub.ContactsTabTitle"),tabBarAccessibilityLabel:o}};function Te(){const e=(0,r.useRef)(null),t=(0,P.useCommonContext)();return(0,n.jsxs)(a.View,{style:de.tabWrapper,children:[t.isPresentedInDesktopLeftNav?null:(0,n.jsx)(q.default,{}),(0,n.jsx)(m.default,{ref:e,hideHeader:!0})]})}const Pe=(e,t,i,o)=>{const n=T.getString("Notifications.Notify"),r=v.default.combinedAccessibilityLabel(n,T.getString("Hub.NotificationCounterScreenReaderLabel",{count:e}));return{tabBarIcon:e=>Ae(e,h.SkypeIcon.AlertFillNewFontGradient,h.SkypeIcon.Alert,o),tabBarLabel:n,tabBarAccessibilityLabel:i?v.default.tabAccessibilityLabel(r||n,4,5):v.default.tabAccessibilityLabel(r||n,3,4),tabBarBadge:e||void 0,tabBarBadgeStyle:t}};function ke(e){const t=(0,r.useRef)(),i=(0,d.useNavigation)(),o=(0,P.useCommonContext)(),{route:{params:s}}=e,l=$.default.isTablet();(0,r.useEffect)((()=>i.addListener("tabPress",(()=>{var e;U.log(W.LogTraceArea.MobileHub,"TodayTab: Today tab screen is focused: "+i.isFocused()),i.isFocused()&&(null===(e=t.current)||void 0===e||e.scrollToTop())}))),[i,t]);const c=()=>e.route.name===b.HubTab.Today;return(0,n.jsxs)(a.View,{style:de.tabWrapper,children:[o.isPresentedInDesktopLeftNav?null:(0,n.jsx)(q.default,{}),l?(0,n.jsx)(ie.TodayTabNativePanel,{ref:t,openInterestsManagerOnLoad:null==s?void 0:s.openInterestsManagerOnLoad,getIsActiveTab:c,isTablet:!0}):(0,n.jsx)(ie.TodayTabMobilePanel,{ref:t,openInterestsManagerOnLoad:null==s?void 0:s.openInterestsManagerOnLoad,getIsActiveTab:c})]})}function Ae(e,t,i,o){let r={};if(o){const[e,t]=o;r={gradientcolor1:e,gradientcolor2:t}}const s=(0,h.getIcon)(e.focused?t:i,e.size,e.color,r);return e.focused?s:(0,n.jsx)(a.View,{style:de.tabBarIconUnfocused,children:s})}function Ie(e){switch(e){case b.HubTab.Recents:return"Recents";case b.HubTab.Calls:return"Calls";case b.HubTab.Phone:return"Phone";case b.HubTab.People:return"People";case b.HubTab.Notifications:return"Notifications";case b.HubTab.Today:return"Today"}return"Unknown"}const we={coachMarkArea:C.CoachMarkAreaType.MobileHub},xe=(0,l.createBottomTabNavigator)();function Ne({activeConversationsCount:e,unreadAlertsCount:t,isSyncing:i,todayEnabled:o,shouldShowTodayBadge:s,shouldShowNotificationsInHeader:l,shouldShowTodayTab:c,isLandscape:g,enableNewCallsTabPanel:m}){const{mode:S,themeColors:_,userColor:f,gradients:y}=(0,P.useCommonContext)(),k=(0,d.useIsFocused)(),A=S.isAccessible?_.tabIndicatorColor:(0,x.iconColorForColor)(f.primaryAccent),w=y.secondary,N=_.surfaceAccent,D=(0,r.useRef)(),F=(0,u.useSafeAreaFrame)(),K=(0,u.useSafeAreaInsets)(),q=(0,p.getDefaultHeaderHeight)(F,!1,K.top);ne.default.setToolTipOffset(q),(0,r.useEffect)((()=>{R.default.maybeSetTooltipVisibility(!0),R.default.maybeSetRedDotVisibility(!0)}),[]),(0,d.useFocusEffect)((0,r.useCallback)((()=>{var e;const t=null===(e=a.StatusBar.pushStackEntry)||void 0===e?void 0:e.call(a.StatusBar,{backgroundColor:N});return()=>{var e;null===(e=a.StatusBar.popStackEntry)||void 0===e||e.call(a.StatusBar,t)}}),[N]));const Q=(0,r.useMemo)((()=>a.StyleSheet.flatten([de.badge,a.StyleSheet.create({borderColor:{borderColor:_.primaryBackgroundColor}}).borderColor])),[_.primaryBackgroundColor]);return(0,n.jsxs)(C.CoachMarkContext.Provider,{value:we,children:[(0,n.jsx)(E.default,{headerHeight:q,isFocused:k}),(0,n.jsxs)(xe.Navigator,{screenOptions:({route:e})=>({headerShadowVisible:!1,headerShown:!0,title:"",headerStyle:{backgroundColor:_.surfaceAccent,height:void 0},headerLeft:()=>(0,n.jsx)(z.default,Object.assign({isLandscapeLayout:g},e)),headerRight:()=>(0,n.jsx)(G.default,Object.assign({isLandscapeLayout:g},e)),tabBarActiveTintColor:A,tabBarInactiveTintColor:_.headerIconColor,tabBarStyle:{borderColor:_.dividerPrimary},tabBarButton:e=>(0,n.jsx)(a.Pressable,Object.assign({},e,{onPress:t=>{var i,o;D.current&&M.default.cancelTimeout(D.current),D.current=L.default.newCauseId();const n=(null===(i=e.to)||void 0===i?void 0:i.split("/").pop())||"unknown",r={tab:n};U.track(new te.PressAction(te.PressScenario.HubTab,B.ScenarioName.ResponsivenessSelectHubTab,n)),M.default.createTrackerAndMarkPressTime(D.current,B.ScenarioName.ResponsivenessSelectHubTab,t,r),n===b.HubTab.Today&&(0,se.handleOpeningTodayTab)();const a=ce[n];"recents"===a&&0===(0,re.getHubTabScrollStore)(a).getValue()&&(0,ae.getRecentsFilterStore)().setFilterMode("all"),"today"===a&&le.default.start(),null===(o=e.onPress)||void 0===o||o.call(e,t)},children:e.children}))}),initialRouteName:b.HubTab.Recents,screenListeners:e=>({focus:()=>{D.current&&(M.default.markActionDoneAndRemoveTracker(D.current),D.current=void 0)},state:()=>{const t=Ie(e.route.name);U.track(new V.NavigationTab(t)),U.log(W.LogTraceArea.MobileHub,"MobileHub: setting currentTab to "+t),j.default.disableTooltip(H.EngagementTooltipType.Profile)}}),children:[(0,n.jsx)(xe.Screen,{name:b.HubTab.Recents,component:ue,options:()=>((e,t,i,o,r,a)=>{const s=T.getString("Hub.RecentsTabTitle"),l=v.default.combinedAccessibilityLabel(T.getString("Hub.RecentsTabTitle"),T.getString("Hub.UnreadCounterScreenReaderLabel",{count:t})),c=v.default.tabAccessibilityLabel(l||s,0,r?5:4);return{tabBarBadge:e?(0,n.jsx)(O.default,{size:12,color:I.Color.transparent,indicatorColor:o.secondaryTextColor,largeIndicator:!0}):t||void 0,tabBarBadgeStyle:e?de.badgeTransparent:i,tabBarIcon:e=>Ae(e,h.SkypeIcon.ChatsInvertedGradient,h.SkypeIcon.Message,a),tabBarLabel:s,tabBarAccessibilityLabel:c}})(i,e,Q,_,m,w)}),(0,n.jsx)(xe.Screen,{name:b.HubTab.Calls,component:ge,options:_e(m,w)}),m&&(0,n.jsx)(xe.Screen,{name:b.HubTab.Phone,component:me,options:fe(w)}),(0,n.jsx)(xe.Screen,{name:b.HubTab.People,component:Ce,options:be(m,w)}),c?(0,n.jsx)(xe.Screen,{name:b.HubTab.Today,component:ke,options:ye(s,Q,m,w)}):null,!o&&!l&&(0,n.jsx)(xe.Screen,{name:b.HubTab.Notifications,component:Te,options:Pe(t,Q,m,w)})]})]})}class De extends y.default{_buildState(){const{todayTab:e}=g.default.getS4LCommerceFeatures(),{enableNewCallsTabPanel:t}=g.default.getS4LMessagingFeatures(),i=$.default.isTablet(),o=K.default.isChildOrMinor(),n=e.enabled&&!o,r=n&&!o&&Q.default.getTodayTabToggledButtonSwitchedOn(),a=J.default.getDeviceOrientation(this._getRootViewId())===c.DeviceOrientation.Landscape;return{shouldShowTodayBadge:X.default.shouldShowTodayBadge(),isSyncing:D.default.isSyncingConversationList()||D.default.isSyncingMessages(),activeConversationsCount:k.default.getActiveRecentsConversationCount(),unreadAlertsCount:A.default.getUnreadAlertsCount(),todayEnabled:n,shouldShowNotificationsInHeader:!i,shouldShowTodayTab:r,isLandscape:a,enableNewCallsTabPanel:t}}render(){return(0,n.jsx)(Ne,{isSyncing:this.state.isSyncing,activeConversationsCount:this.state.activeConversationsCount,unreadAlertsCount:this.state.unreadAlertsCount,todayEnabled:this.state.todayEnabled,shouldShowNotificationsInHeader:this.state.shouldShowNotificationsInHeader,shouldShowTodayTab:this.state.shouldShowTodayTab,shouldShowTodayBadge:this.state.shouldShowTodayBadge,isLandscape:this.state.isLandscape,enableNewCallsTabPanel:this.state.enableNewCallsTabPanel})}}t.MobileHub=De},462347:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AboutPanelNavigation=void 0;const o=i(197582),n=i(785893),r=o.__importDefault(i(971648));t.AboutPanelNavigation=e=>(0,n.jsx)(r.default,{showHeader:!e.navigation}),t.default=t.AboutPanelNavigation},539097:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderTemplateId=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importDefault(i(972946)),s=i(614080),l=o.__importStar(i(516778)),c=i(192478),d=o.__importDefault(i(98794)),u=o.__importDefault(i(984339)),p=i(26703),g=o.__importDefault(i(11252)),h=o.__importStar(i(704704)),m=o.__importDefault(i(740794)),S=o.__importDefault(i(942724)),_=i(375258),f=i(641400),y=o.__importDefault(i(827361)),C=o.__importDefault(i(720340)),v=i(262725),b=o.__importDefault(i(760989)),T=o.__importStar(i(972830)),P=o.__importDefault(i(817672)),k=(0,p.lazyProperties)({container:()=>y.default.flexOne,title:()=>l.Styles.createTextStyle({paddingTop:30,paddingBottom:10,marginHorizontal:20}),row:()=>l.Styles.createViewStyle({flexDirection:"row",alignItems:"center",alignSelf:"stretch",justifyContent:"flex-end",paddingHorizontal:20,paddingVertical:10}),searchButtonContainer:()=>y.default.flexOne,inputContainer:()=>l.Styles.createViewStyle({alignSelf:"stretch"}),resetButton:()=>l.Styles.createViewStyle({alignSelf:"center",borderWidth:1,borderRadius:5,paddingHorizontal:5,marginRight:15}),featureName:()=>l.Styles.createTextStyle({flex:1}),resetAllButtonStyle:()=>l.Styles.createTextStyle({width:60}),backgroundStyleResetTextStyles:()=>l.Styles.createTextStyle({}),backgroundStyleResetButtonStyles:()=>l.Styles.createButtonStyle({})});t.HeaderTemplateId="header";const A="boolean";class I extends c.BaseNavigationView{constructor(){super(...arguments),this._allowReset=!0,this._includeNumbers=!1,this._renderItem=e=>{if(e.template===t.HeaderTemplateId)return this._renderSectionTitle(e.categoryName);const{secondaryTextColorStyle:i,primaryTextColorStyle:o,rowHoverViewStyle:r}=this._getContext().themeStyles,a=[T.isUsingDarkTheme(this._getContext())?i:o],s=r,c=e.onReset?(0,n.jsx)(l.Button,{style:[k.resetButton,k.backgroundStyleResetButtonStyles],onPress:e.onReset,title:"Reset",children:(0,n.jsx)(l.Text,{style:k.backgroundStyleResetTextStyles,children:"Reset"})}):void 0,d=e.template===A?(0,n.jsx)(g.default,{disable:!e.onPress,falseLabel:h.getString("ToggleSwitch.SelectionToggleOff"),trueLabel:h.getString("ToggleSwitch.SelectionToggleOn"),isOn:!!e.featureValue}):(0,n.jsx)(l.Text,{children:e.featureValue});return(0,n.jsxs)(l.View,{style:[k.row,e.key===this.state.itemKeyHovering?s:void 0],onPress:e.onPress,onMouseEnter:e.onHoverStart,onMouseLeave:e.onHoverEnd,children:[(0,n.jsx)(l.View,{style:k.featureName,children:(0,n.jsx)(l.Text,{style:a,children:e.featureName})}),c,d]})},this._searchInputRefCallback=e=>{this._searchInputRef=e||void 0},this._onInputChange=e=>{this.setState({inputText:e})},this._onPressClose=()=>{const e=b.default.newCauseId();m.default.navigateBack(e,this._getContext())}}_buildState(e,t){const i=this._getSubscribedState(),o={listItems:this._generateConfigItems(i),overridenListItems:this._generateOverrideItems(i),isUsingStackNavigationContext:S.default.isUsingStackNavigationContext()};return t&&(o.inputText=""),o}_generateListOfItemsRecursive(e,t,i,o,n){const a=i.join("|"),s="boolean"==typeof o,l="number"==typeof o,c=this._allowReset&&(void 0===n||void 0!==r.get(n,[t,a]));if(r.isObject(o))r.each(o,((o,r)=>{const a=i.concat(r);this._generateListOfItemsRecursive(e,t,a,o,n)}));else if(s||this._includeNumbers&&l||c){const n=t+"|"+a,r=i.join(".");e.push({height:50,key:n,featureName:r,featureValue:o,categoryName:t,template:s?A:"number",onPress:s?this._onListItemClickBuilder(t,i,!o):void 0,onHoverStart:()=>this._onHover(n),onHoverEnd:()=>this._onHover(void 0),onReset:c?this._onResetPressBuilder(t,i):void 0})}}_createHeaderItem(e){return{key:e,height:60,categoryName:e,template:t.HeaderTemplateId,featureName:""}}_onHover(e){this.setState({itemKeyHovering:e})}_renderSectionTitle(e){return(0,n.jsx)(v.Subtitle,{style:k.title,children:e})}_renderSearchHeader(){let e;return e=this.state.isUsingStackNavigationContext?(0,n.jsx)(d.default,{ref:this._searchInputRefCallback,initialValue:1,showButtonWhenInactive:!0,placeholderText:h.getString("SearchInputControl.PlaceHolderTextShort"),rawSearchQuery:this.state.inputText,onInputTextChange:this._onInputChange}):(0,n.jsx)(l.View,{style:k.searchButtonContainer,children:(0,n.jsx)(u.default,{ref:this._searchInputRefCallback,showButtonWhenInactive:!0,placeholderText:h.getString("SearchInputControl.PlaceHolderTextShort"),rawSearchQuery:this.state.inputText,autoFocus:!0,forceInputValueUpdate:!0,onInputTextChange:this._onInputChange})}),e}focus(){this.isComponentMounted()&&this._searchInputRef&&this._searchInputRef.focusInput()}_getResetAllButton(){return{onPress:()=>this._onResetAll(),text:"Reset all"}}_renderHeader(){if(this.props.navigation)return null;const e={icon:f.SkypeIcon.NavigationBack,title:h.getString("Global.CloseButtonTitle"),onPress:this._onPressClose};return(0,n.jsx)(_.SimplePanelHeader,{panelName:this._getPanelName(),leftButton:e})}_getFilteredListItems(e){const i=this.state.inputText.toLowerCase();if(!i)return e;const o=r.filter(e,(e=>r.includes(e.featureName.toLowerCase(),i)||e.template===t.HeaderTemplateId||r.includes(e.categoryName.toLowerCase(),i)));return r.filter(o,(e=>e.template!==t.HeaderTemplateId||r.some(o,(i=>i.categoryName===e.categoryName&&i.template!==t.HeaderTemplateId))))}_getAllTabConfig(){return{renderTabTitle:()=>(0,n.jsx)(C.default,{title:h.getString("DesktopSearchResultsFilter.All")}),renderContent:()=>(0,n.jsx)(s.VirtualListView,{itemList:this._getFilteredListItems(this.state.listItems),renderItem:this._renderItem})}}_getOverridenTabConfig(){return{renderTabTitle:()=>(0,n.jsx)(C.default,{title:"Overridden"}),renderContent:()=>(0,n.jsx)(l.View,{style:k.container,children:(0,n.jsx)(s.VirtualListView,{itemList:this._getFilteredListItems(this.state.overridenListItems),renderItem:this._renderItem})})}}render(){const e=this._getAllTabConfig(),t=[e,this._getOverridenTabConfig()];return(0,n.jsxs)(l.View,{style:[k.container,this._getContext().themeStyles.primaryBackgroundColorStyle],children:[this._renderHeader(),(0,n.jsxs)(l.View,{style:k.container,children:[(0,n.jsx)(l.View,{style:k.inputContainer,children:this._renderSearchHeader()}),this.state.overridenListItems.length?(0,n.jsx)(a.default,{tabConfigs:t,tabHeight:40,isRTL:l.International.isRTL()}):e.renderContent()]}),(0,n.jsx)(P.default,{button:this._getResetAllButton()})]})}}t.default=I},427232:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importDefault(i(331654)),a=o.__importStar(i(496486)),s=i(614080),l=o.__importStar(i(516778)),c=o.__importDefault(i(395298)),d=o.__importDefault(i(150343)),u=i(808467),p=o.__importDefault(i(369347)),g=i(465522),h=i(843890),m=(o.__importDefault(i(340724)),o.__importDefault(i(266311))),S=i(154235),_=o.__importDefault(i(186325)),f=i(815146),y=o.__importDefault(i(560099)),C=o.__importDefault(i(970035)),v=o.__importStar(i(704704)),b=i(26703),T=o.__importDefault(i(998929)),P=o.__importDefault(i(341994)),k=o.__importDefault(i(740794)),A=o.__importDefault(i(912201)),I=o.__importDefault(i(328416)),w=o.__importDefault(i(117475)),x=o.__importDefault(i(506082)),N=i(884853),D=i(375258),M=i(16549),L=o.__importDefault(i(139221)),R=i(641400),E=o.__importDefault(i(52066)),B=o.__importDefault(i(577267)),O=o.__importDefault(i(827361)),F=i(262725),V=o.__importDefault(i(145271)),U=o.__importDefault(i(497910)),j=o.__importStar(i(972830)),H=(0,b.lazyProperties)({panel:()=>l.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>l.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible",flexGrow:1}),settingsBlockContainerDesktop:()=>l.Styles.createViewStyle({paddingHorizontal:20}),controlRowNoDivider:()=>l.Styles.createViewStyle({marginVertical:4,flexDirection:"row",alignItems:"center",justifyContent:"space-between",minHeight:60}),label:()=>l.Styles.createTextStyle({flex:1,paddingRight:10}),caption:()=>l.Styles.createTextStyle({marginTop:4,marginBottom:12}),title:()=>l.Styles.createTextStyle({paddingTop:30,paddingBottom:10}),settingsContainer:()=>l.Styles.createViewStyle({paddingBottom:10,paddingTop:2,flex:1}),countryPickerButton:()=>l.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10}),pickerText:()=>l.Styles.createTextStyle({maxWidth:250}),pickerChevron:()=>l.Styles.createViewStyle({marginLeft:4,marginTop:2}),countrySelectorPickerContainer:()=>l.Styles.createViewStyle({flexDirection:"row",minHeight:30,alignItems:"center",alignSelf:"stretch"}),link:()=>l.Styles.createTextStyle({color:M.Color.blue,textDecorationLine:"underline"}),warningLabel:()=>l.Styles.createTextStyle({paddingBottom:10}),emergencyCallingSection:()=>l.Styles.createViewStyle({paddingTop:4,flex:1}),countrySelectorPopupContainer:()=>l.Styles.createViewStyle({height:350,width:300}),menuItemContainer:()=>l.Styles.createButtonStyle({minHeight:40,alignItems:"center",justifyContent:"space-between",flexDirection:"row",borderLeftWidth:2,borderStyle:"solid",borderColor:M.Color.transparent,height:40}),countryListItemName:()=>l.Styles.createTextStyle({flexDirection:"row",flex:1}),countryListItemCode:()=>l.Styles.createTextStyle({flex:0,textAlign:"right"}),menuItemText:()=>l.Styles.createTextStyle({marginHorizontal:20})}),W=e=>({key:e.country,height:40,template:G.COUNTRY}),z="countrySelectorPopup",G={COUNTRY:"dcs_country"},K=[{x:0,y:0,label:v.getString("AdvancedCallingSettingsPanel.NdiWatermarkLocationTopLeft")},{x:.5,y:0,label:v.getString("AdvancedCallingSettingsPanel.NdiWatermarkLocationTopMiddle")},{x:1,y:0,label:v.getString("AdvancedCallingSettingsPanel.NdiWatermarkLocationTopRight")},{x:0,y:1,label:v.getString("AdvancedCallingSettingsPanel.NdiWatermarkLocationBottomLeft")},{x:.5,y:1,label:v.getString("AdvancedCallingSettingsPanel.NdiWatermarkLocationBottomMiddle")},{x:1,y:1,label:v.getString("AdvancedCallingSettingsPanel.NdiWatermarkLocationBottomRight")}];class q extends u.BaseNavigationViewPresentedInModal{static getHeaderText(){return v.getString("AdvancedCallingSettingsPanel.HeaderText")}constructor(e){super(e),this._onWatermarkLocationSelected=e=>{A.default.setWatermarkLocation(e)},this._onLeanMoreNdiPress=()=>{l.Linking.openUrl(this.state.learnMoreNdiLink)},this._onToggleIsNdiEnabled=(e,t)=>{A.default.setNdiEnabled(t),this.setState({isNdiEnabled:t})},this._onCountryPickerButtonRef=e=>{this._countryPickerButton=e||void 0},this._onPressTermsOfServiceHandler=()=>{k.default.navigateToSsoWebFlow(this.state.termsOfServiceGoLink,"userInfo.emergencyCalling",v.getString("TermsOfServiceWebFlow.Title"),this._getRootViewId())},this._onCountryPickerClick=()=>{const e={getAnchor:()=>this._countryPickerButton,renderPopup:(e,t,i,o)=>{const{popoverBackgroundColor:r,popupBorderColor:a}=j.themeColors(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsx)(B.default,{anchorPosition:e,anchorOffset:t,popupWidth:i,popupHeight:o,fillColor:r,strokeColor:j.isUsingDarkTheme(this._getContext(),this.props.route.params.colorThemeOverride)?a:void 0,skipPopupAutoFocus:!0,children:(0,n.jsx)(l.View,{style:H.countrySelectorPopupContainer,children:(0,n.jsx)(l.View,{style:O.default.flexOne,children:(0,n.jsx)(s.VirtualListView,{itemList:this._getCountriesListItems(),renderItem:this._renderCountryListItem,animateChanges:!1,keyboardShouldPersistTaps:!0,accessibilityLabel:v.getString("PSTNCountryList.CountryList")})})})})},positionPriorities:["bottom","top"],dismissIfShown:!0,rootViewId:this._getRootViewId()};m.default.showPopup(e,z)},this._onCountrySelected=e=>{P.default.setEmergencyCallDefaultCountry(e),this.setState({emergencyCallDefaultCountry:e}),this.setState({isEmergencyCallEligibleCountry:this._isEmergencyCallEligibleCountry(e)}),m.default.dismissPopup(z,this._getRootViewId()),this._countryPickerButton&&this._countryPickerButton.requestFocus()},this._renderCountryListItem=e=>e.template===G.COUNTRY?this._renderCountryItem(e):[],this._renderCountryItem=e=>{const t=this.state.countries[e.key];return(0,n.jsx)(Q,{onSelect:this._onCountrySelected,country:t})},this._isEmergencyCallEligibleCountry=e=>{const t=d.default.getS4LEntitlementFeatures().SCE.Dialpad.EmergencyCall.allowedCountries;return!!e&&t.indexOf(e)>-1};const t=L.default.isRTL()?"desc":"asc";this._watermarkLocationList=a.orderBy(K,["y","x"],["asc",t]).map((e=>({value:e.x.toString()+","+e.y.toString(),label:e.label})))}_buildState(e,t){const i=d.default.getS4LCMCFeatures(),o=P.default.getEmergencyCallDefaultCountry(),n={showNdiSettings:i.enableNDISetting&&p.default.NdiHookupService.isSupported(),isNdiEnabled:A.default.isNdiEnabled(),watermarkLocation:A.default.getWatermarkLocation(),isInACall:x.default.isInCall(),learnMoreNdiLink:d.default.getS4LCMCFeaturesNoSubscription().learnMoreNDILink,broadcastTermsOfServiceUrl:d.default.getS4LCMCFeaturesNoSubscription().broadcastTermsOfServiceUrl,safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:w.default.horizontalPaddingStyle(S.HorizontalInsetZero),countries:I.default.getCountries(),emergencyCallDefaultCountry:o,termsOfServiceGoLink:d.default.getConfigSettings().mySettings.termsOfServiceGoLink,isEmergencyCallEligibleCountry:this._isEmergencyCallEligibleCountry(o)};return t&&(n.isEmergencyCallSettingSupported=!1),n}componentDidMount(){super.componentDidMount(),r.default.supportsNativeEmergencyCalling().catch((()=>!1)).then((e=>{this.setState({isEmergencyCallSettingSupported:!e})}))}render(){const e=[H.settingsBlockContainer];this._getContext().isPresentedInGenericDesktopModal&&e.push(H.settingsBlockContainerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?D.CloseButtonType.Close:D.CloseButtonType.Back},i=this.props.navigation?void 0:(0,n.jsx)(D.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t}),o=v.getString("AdvancedCallingSettingsPanel.ContentCreatorsSectionTitleUpperLabel"),r=v.getString("AdvancedCallingSettingsPanel.EmergencyCallWarningTitleUpperLabel"),a=this.state.showNdiSettings?(0,n.jsx)(N.SectionTitle,{title:o,titleStyles:H.title}):void 0,s=L.default.getPlatformType()!==f.PlatformType.iOS&&L.default.getPlatformType()!==f.PlatformType.Android?(0,n.jsx)(N.SectionTitle,{title:r,titleStyles:H.title}):void 0,{primaryBackgroundColorStyle:c}=j.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(l.View,{style:[H.panel,c],children:[i,(0,n.jsx)(l.ScrollView,{style:O.default.flexOne,children:(0,n.jsxs)(l.View,{style:e,children:[this._getAutoAnswerSetting(),a,this._getNdiSetting(),s,this._getEmergencyCallSettings()]})})]})}_getHeaderText(e){return q.getHeaderText()}_wrapLinkWithAccessibilityView(e,t){return e}_getAutoAnswerSetting(){if(h.CallingCapabilities.autoAnswerSupported())return(0,n.jsxs)(l.View,{children:[(0,n.jsx)(N.SectionTitle,{title:v.getString("AdvancedCallingSettingsPanel.AutomaticCallAnswerSectionTitleUpperLabel"),titleStyles:H.title}),(0,g.getAutoAnswerSettings)(this.props)]})}_getNdiSwitch(){const e=v.getString("AdvancedCallingSettingsPanel.EnableNdiButtonLabel"),t=(0,g.renderLabels)(e,void 0,!1);return(0,n.jsx)(c.default,{style:H.controlRowNoDivider,isOn:this.state.isNdiEnabled,accessibilityLabel:e,onChange:this._onToggleIsNdiEnabled,children:t},"ndiEnabled")}_getNdiExplanation(){return(0,n.jsx)(F.BodyText,{style:H.label,children:v.getString("AdvancedCallingSettingsPanel.EnableNdiExplanation")},"ndiExplanation")}_getNdiLink(){const e=this.state.learnMoreNdiLink,t=v.getString("AdvancedCallingSettingsPanel.EnableNdiLinkTitle"),i=(0,n.jsx)(F.BodyText,{style:H.label,children:(0,n.jsx)(E.default,{url:"#",title:e,style:O.default.pointerCursor,blue:!0,onPress:this._onLeanMoreNdiPress,children:t})},"ndiLink");return this._wrapLinkWithAccessibilityView(i,t)}_getRegisteredTrademarkExplanation(){return(0,n.jsx)(F.Caption,{style:[H.label,H.caption],children:v.getString("AdvancedCallingSettingsPanel.NdiRegisteredTrademarkExplanation")},"ndiRegisteredTrademarkExplanation")}_getNdiSetting(){if(this.state.showNdiSettings)return(0,n.jsxs)(l.View,{children:[this._getNdiSwitch(),this._getNdiExplanation(),this._getNdiLink(),this._getRegisteredTrademarkExplanation(),this._getWatermarkLocationPicker(),(0,n.jsx)(_.default,{marginTop:8})]})}_getWatermarkLocationPicker(){if(this.state.isNdiEnabled)return(0,n.jsx)(V.default,{title:v.getString("AdvancedCallingSettingsPanel.NdiSkypeWatermarkLocationLabel"),disabled:!this.state.isNdiEnabled,items:this._watermarkLocationList,onValueChange:this._onWatermarkLocationSelected,selectedValue:this.state.watermarkLocation.toString()})}_getEmergencyCallSettings(){if(!this.state.isEmergencyCallSettingSupported)return;const e=this.state.emergencyCallDefaultCountry?(0,n.jsx)(F.RowTitle,{accessibilityHidden:!0,children:v.getString("UserSettingsPanel.EmergencyCallDefaultLocationLabel")}):void 0,t=(0,n.jsxs)(l.View,{style:H.countrySelectorPickerContainer,children:[e,(0,n.jsx)(l.Button,{ref:this._onCountryPickerButtonRef,style:[H.countryPickerButton,O.default.noncollapsibleView],accessibilityLabel:this._getSelectedCountryAccessibilityLabel(),accessibilityTraits:[l.Types.AccessibilityTrait.Button,l.Types.AccessibilityTrait.HasPopup],onPress:this._onCountryPickerClick,children:(0,n.jsxs)(y.default,{style:H.countrySelectorPickerContainer,children:[(0,n.jsx)(F.BodyText,{bold:!0,style:H.pickerText,children:this._getSelectedItemLabel()}),(0,n.jsx)(C.default,{icon:R.SkypeIcon.DownChevron,size:R.IconSize.size15,color:M.Color.gray300,style:H.pickerChevron})]})})]});let i;return i=this.state.emergencyCallDefaultCountry?this.state.isEmergencyCallEligibleCountry?(0,n.jsxs)(l.View,{style:O.default.flexOne,children:[(0,n.jsx)(F.RowTitle,{style:H.warningLabel,textThemeColor:F.TextThemeColor.Destructive,children:v.getString("PSTNDialerPanel.EmergencyCallingLimitedLabel")},"EmergencyCallingLimitedLabel"),(0,n.jsxs)(F.BodyText,{style:H.label,children:[v.getString("PstnUtils.EmergencyCallWarning")," ",v.getParts("UserSettingsPanel.TermsOfServiceWarning",{termsOfServiceLink:(0,n.jsx)(l.Text,{style:H.link,onPress:this._onPressTermsOfServiceHandler,children:v.getString("IntegrationConsentModal.TermsOfServiceLabel")},"fairUsagePolicyLinkId")})]},"EmergencyCallWarning"),(0,n.jsx)(F.BodyText,{style:H.label,children:v.getString("UserSettingsPanel.AlternativeAccessWarning")},"AlternativeAccessWarning"),t]}):(0,n.jsxs)(l.View,{style:O.default.flexOne,children:[(0,n.jsx)(F.RowTitle,{style:H.warningLabel,textThemeColor:F.TextThemeColor.Destructive,children:v.getString("PSTNDialerPanel.EmergencyCallingNoCallingLabel")},"EmergencyCallingNoCallingLabel"),(0,n.jsx)(F.BodyText,{style:H.label,children:v.getString("UserSettingsPanel.EmergencyCallingLabel")},"EmergencyCallingLabel"),t]}):(0,n.jsxs)(l.View,{style:O.default.flexOne,children:[(0,n.jsx)(F.BodyText,{style:H.label,children:v.getString("UserSettingsPanel.EmergencyCallCheckDefaultLocationLabel")},"EmergencyCallCheckDefaultLocationLabel"),t]}),(0,n.jsxs)(l.View,{style:H.emergencyCallingSection,children:[(0,n.jsx)(l.View,{style:H.settingsContainer,children:(0,n.jsx)(l.View,{accessibilityTraits:l.Types.AccessibilityTrait.Text,importantForAccessibility:l.Types.ImportantForAccessibility.Yes,children:i})}),(0,n.jsx)(_.default,{},"emergencyCallSettingsDivider")]})}_getSelectedCountryAccessibilityLabel(){if(this.state.emergencyCallDefaultCountry){const e=a.find(this.state.countries,(e=>e.country===this.state.emergencyCallDefaultCountry));return e&&v.getString("UserSettingsPanel.DefaultCountryAccessibilityLabel",{countryTitle:e.countryName})}return v.getString("UserSettingsPanel.SetDefaultCountryAccessibilityLabel")}_getSelectedItemLabel(){if(this.state.emergencyCallDefaultCountry){const e=a.find(this.state.countries,(e=>e.country===this.state.emergencyCallDefaultCountry));return e&&e.countryName}return v.getString("UserSettingsPanel.SetEmergencyCallDefaultLocationLabel")}_getCountriesListItems(){return a.map(this.state.countries,W)}}t.default=q;class Q extends U.default{constructor(){super(...arguments),this._onPress=()=>{this.props.onSelect(this.props.country.country)}}render(){const e=[H.menuItemText,this._themeStyles.secondaryTextColorStyle];return(0,n.jsxs)(T.default.Button,{style:H.menuItemContainer,onPress:this._onPress,accessibilityTraits:l.Types.AccessibilityTrait.Button,accessibilityLabel:`${this.props.country.countryName} +${this.props.country.countryCode}`,importantForAccessibility:l.Types.ImportantForAccessibility.Yes,children:[(0,n.jsx)(F.BodyText,{style:[e,H.countryListItemName],numberOfLines:1,children:this.props.country.countryName}),(0,n.jsxs)(F.BodyText,{style:[e,H.countryListItemCode],children:["+",this.props.country.countryCode]})]})}}},340716:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertsHubNavigation=void 0;const o=i(197582),n=i(785893),r=o.__importDefault(i(917381));t.AlertsHubNavigation=e=>(0,n.jsx)(r.default,{hideHeader:!!e.navigation}),t.default=t.AlertsHubNavigation},504798:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(179075)),l=o.__importStar(i(124821)),c=o.__importStar(i(44717)),d=i(154235),u=o.__importDefault(i(543915)),p=o.__importDefault(i(555436)),g=o.__importDefault(i(958868)),h=o.__importDefault(i(601976)),m=i(815146),S=o.__importStar(i(85385)),_=o.__importStar(i(704704)),f=o.__importDefault(i(72750)),y=o.__importDefault(i(740794)),C=o.__importDefault(i(655192)),v=o.__importDefault(i(660401)),b=i(16549),T=o.__importDefault(i(760989)),P=i(717413),k=i(216678),A=i(854642),I=i(627414),w=o.__importDefault(i(932541));class x extends g.default{constructor(){super(...arguments),this._onKeyPress=e=>u.default.maybeHandleKeyPress(e,(()=>this._onPressUnblockButton(e))),this._onPressUnblockButton=e=>{e.stopPropagation(),this.setState({isUnblocking:!0}),p.default.unblockContact(this.props.userMri,I.BlockConversationSource.BlockedUsersListPanel).then((()=>{(0,P.isMagicBotConversation)(this.props.userMri)&&k.AIConsentService.checkAndRequestConsentIfNecessary(A.AIConsentOrigin.UnblockMagicBot,w.default)})).fail((()=>{this.isComponentMounted()&&this.setState({isUnblocking:!1})})).finally((()=>{let e=_.getString("SkypeUserListItem.DisplayNameLabel",{displayName:this.state.displayName});e+=_.getString("UserSettingsPanel.UnblockButtonTitle"),a.Accessibility.announceForAccessibility(e)})),this.props.onPress&&this.props.onPress(e)}}_buildState(e,t){const i=h.default.getDisplayableProfile(e.userMri),o={displayName:i&&i.getDisplayName()};return t&&(o.isUnblocking=!1),o}render(){const e={backgroundColor:b.Color.gray100,textColor:b.Color.gray400,indicatorColor:b.Color.gray400};return(0,n.jsx)(v.default,{buttonStyle:d.SXButtonStyle.Custom,buttonSize:d.SXButtonSize.Small,title:_.getString("UserSettingsPanel.UnblockButtonTitle"),showActivityIndicator:this.state.isUnblocking,allowTextWrap:!0,onPress:this._onPressUnblockButton,buttonConfig:e,onKeyPress:this._onKeyPress})}}class N extends f.default{constructor(){super(...arguments),this._onPressRightButton=()=>{this._headerBackButtonRef&&this._headerBackButtonRef.requestFocus()}}_getUsersMris(){const e=l.getBlockedUsersOrConvOwners();return r.sortBy(e,(e=>{const t=h.default.getDisplayName(e);return t&&C.default.deburrLocaleLowerCase(t)}))}_onItemPress(e,t){const i=T.default.newCauseId();if(S.log(m.LogTraceArea.Navigation,"BlockedUsersListPanel._onItemPress, causeId: "+i),c.isAgent(t)){const e=s.default.getAgentDescriptionForMri(t);if(e&&e.isUnknown)return}y.default.showDetailsPanelWithParams({mri:t,rootViewId:this._getRootViewId(),causeId:i})}_getRightControlButton(e){return(0,n.jsx)(x,{userMri:e,onPress:this._onPressRightButton})}_getHeaderText(e){return N.getHeaderText()}static getHeaderText(){return _.getString("UserSettingsPanel.BlockedContactsTitle")}}t.default=N},465522:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AutoAnswerSettings=void 0,t.renderLabels=j,t.getAutoAnswerSettings=W;const o=i(197582),n=i(785893),r=o.__importDefault(i(331654)),a=o.__importStar(i(516778)),s=i(962234),l=i(619429),c=i(967338),d=o.__importDefault(i(395298)),u=o.__importDefault(i(150343)),p=i(808467),g=i(198319),h=o.__importDefault(i(879248)),m=o.__importDefault(i(369347)),S=o.__importDefault(i(921428)),_=i(843890),f=o.__importDefault(i(340724)),y=i(154235),C=o.__importDefault(i(186325)),v=i(815146),b=o.__importStar(i(85385)),T=i(26703),P=o.__importStar(i(704704)),k=o.__importDefault(i(201721)),A=o.__importDefault(i(740794)),I=o.__importDefault(i(450312)),w=o.__importDefault(i(453353)),x=o.__importDefault(i(117475)),N=o.__importDefault(i(421334)),D=i(884853),M=i(375258),L=o.__importDefault(i(827361)),R=i(262725),E=o.__importDefault(i(497910)),B=o.__importDefault(i(760989)),O=i(483877),F=o.__importDefault(i(599526)),V=o.__importStar(i(972830)),U=(0,T.lazyProperties)({panel:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>a.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible",flexGrow:1}),settingsBlockContainerDesktop:()=>a.Styles.createViewStyle({paddingHorizontal:20}),controlRowNoDivider:()=>a.Styles.createViewStyle({marginVertical:4,flexDirection:"row",alignItems:"center",justifyContent:"space-between",minHeight:60}),titleMediumSemiLarge:()=>a.Styles.createTextStyle({flex:1,marginRight:12,marginTop:4,marginBottom:2}),subtitleMediumSemiLarge:()=>a.Styles.createTextStyle({flex:1,marginRight:12,marginTop:2,marginBottom:4})});function j(e,t,i){const o=(0,n.jsx)(R.RowTitle,{style:U.titleMediumSemiLarge,numberOfLines:2,disabled:i,children:e}),r=t?(0,n.jsx)(R.Caption,{style:U.subtitleMediumSemiLarge,children:t}):void 0;return(0,n.jsxs)(a.View,{style:L.default.flexOne,children:[o,r]})}class H extends E.default{constructor(){super(...arguments),this._onToggleAutoAnswerCalls=(e,t)=>{k.default.setUserPreferencesLocal({autoAnswerCalls:t})},this._onToggleAutoAnswerCallsWithVideo=(e,t)=>{k.default.setUserPreferencesLocal({autoAnswerCallsWithVideo:t})}}_buildState(e,t){const i=k.default.getUserPreferencesLocal();return{autoAnswerCalls:!!i.autoAnswerCalls,autoAnswerCallsWithVideo:!!i.autoAnswerCallsWithVideo}}render(){return(0,n.jsxs)(a.View,{children:[this._getAutoAnswerSetting(),this._getAutoAnswerWithVideoSetting()]})}_getAutoAnswerSetting(){const e=this._renderLabels(P.getString("UserSettingsPanel.AutoAnswerCalls"));return(0,n.jsxs)(a.View,{children:[(0,n.jsx)(d.default,{style:[U.controlRowNoDivider],isOn:this.state.autoAnswerCalls,accessibilityLabel:P.getString("UserSettingsPanel.AutoAnswerCalls"),onChange:this._onToggleAutoAnswerCalls,children:e},"autoAnswerCalls"),(0,n.jsx)(C.default,{marginTop:2})]})}_getAutoAnswerWithVideoSetting(){const e=!this.state.autoAnswerCalls;if(e)return;const t=this._renderLabels(P.getString("UserSettingsPanel.AutoAnswerCallsWithVideo"),void 0,e);return(0,n.jsxs)(a.View,{children:[(0,n.jsx)(d.default,{style:[U.controlRowNoDivider],isOn:this.state.autoAnswerCallsWithVideo,disable:e,accessibilityLabel:P.getString("UserSettingsPanel.AutoAnswerCallsWithVideo"),onChange:this._onToggleAutoAnswerCallsWithVideo,children:t},"autoAnswerCallsWithVideo"),(0,n.jsx)(C.default,{marginTop:2})]})}_renderLabels(e,t,i){return j(e,t,i)}}function W(e){if(_.CallingCapabilities.autoAnswerSupported())return(0,n.jsx)(H,Object.assign({},e))}t.AutoAnswerSettings=H;class z extends p.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._ecoModeItems=[{label:P.getString("CallingSettingsPanel.EcoModeOff"),value:l.EcoMode[l.EcoMode.Off]},{label:P.getString("CallingSettingsPanel.EcoModeMobileNetwork"),value:l.EcoMode[l.EcoMode.MobileNetwork]},{label:P.getString("CallingSettingsPanel.EcoModeAllNetworks"),value:l.EcoMode[l.EcoMode.AllNetworks]}],this._fetchSettings=()=>{S.default.fetch(),h.default.maybeRefreshCallerIdData()},this._onAdvancedCallingSettingsButtonPressed=()=>{m.default.CallNavigationHelper.navigateToAdvancedCallingSettingsPanel(!1,this._getRootViewId())},this._onSubtitlesCallingSettingsButtonPressed=()=>{m.default.CallNavigationHelper.navigateToSubtitlesCallingSettingsPanel(!1,!1,this._getRootViewId())},this._onEcoModeChange=e=>{let t;switch(e){case l.EcoMode[l.EcoMode.AllNetworks]:t=l.EcoMode.AllNetworks;break;case l.EcoMode[l.EcoMode.MobileNetwork]:t=l.EcoMode.MobileNetwork;break;default:t=l.EcoMode.Off}k.default.setUserPreferencesLocal({callingEcoMode:t}),m.default.CallingStore.setupIntKey(l.SlimcoreSetupKeys.EnableEcoMode,t),b.track(new c.EcoModeSettingsEvent(this.state.isInCall,this.state.callingEcoMode,t,s.MicrophoneSettingsOrigin.AVSettings))},this._onEcoModeSelected=e=>e===l.EcoMode[this.state.callingEcoMode],this._toggleCallMonitor=(e,t)=>{k.default.setUserPreferencesLocal({disableCallMonitor:!t})},this._onCallerIdPressed=()=>{const e=B.default.newCauseId();b.log(v.LogTraceArea.Navigation,"CallingSettingsPanel._onCallerIdPressed,  causeId: "+e),A.default.navigateToCallerIdSettingsPanel(this._getRootViewId(),e)},this._onCallForwardingPressed=()=>{const e=B.default.newCauseId();b.log(v.LogTraceArea.Navigation,"CallingSettingsPanel._onCallForwardingPressed,  causeId: "+e),this.state.callForwardingFeature&&A.default.navigateToSsoWebFlow(this.state.callForwardingFeature.goTarget,"userInfo.calling-settings",P.getString("CallingSettingsPanel.CallForwardingLabel"),this._getRootViewId())}}static getHeaderText(){return P.getString("UserSettingsPanel.CallSettingsTitle")}_buildState(e,t){const i=k.default.getUserPreferencesLocal(),o=u.default.getS4LCMCFeatures(),n=u.default.getS4LCommerceFeatures(),r={isOnline:w.default.isConnected(),isInCall:m.default.CallingStore.hasConnectedCalls(),isNDISettingSupported:o.enableNDISetting&&m.default.NdiHookupService.isSupported(),callForwardingFeature:S.default.callForwardingFeature(),isCallerIdFeatureEnabled:n.callingSettingsPanel.callerId.enabled,callerIdDataStatus:h.default.getCallerIdDataStatus(),isCallerIdEnabled:h.default.isCallerIdEnabled(),callerIdPrimaryNumber:h.default.getCallerIdPrimaryNumber(),enableCallMonitor:!i.disableCallMonitor,safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:x.default.horizontalPaddingStyle(y.HorizontalInsetZero),isMobileScreenReaderEnabled:N.default.isMobileScreenReaderEnabled(),enableEcoMode:o.enableEcoMode,callingEcoMode:i.callingEcoMode,isCallMonitorEnabled:u.default.isCallMonitorEnabled()};return t&&(r.isEmergencyCallSettingSupported=!1),r}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),t.isOnline&&!this.state.isOnline&&this._fetchSettings()}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this._navigationStateStoreToken=I.default.subscribe(this._fetchSettings),this._fetchSettings()}componentDidMount(){super.componentDidMount(),r.default.supportsNativeEmergencyCalling().catch((()=>!1)).then((e=>{this.setState({isEmergencyCallSettingSupported:!e})}))}componentWillUnmount(){super.componentWillUnmount(),this._navigationStateStoreToken&&(I.default.unsubscribe(this._navigationStateStoreToken),this._navigationStateStoreToken=void 0)}_getCallerIdStatusLabel(){return this.state.callerIdDataStatus===g.CallerIdDataStatus.Pending?"":this.state.isCallerIdEnabled&&this.state.callerIdPrimaryNumber?"+"+this.state.callerIdPrimaryNumber.number:P.getString("CallingSettingsPanel.Disabled")}_getCallForwardingStatusLabel(){return this.state.callForwardingFeature&&this.state.callForwardingFeature.fetched?this.state.callForwardingFeature.active?P.getString("CallingSettingsPanel.Enabled"):P.getString("CallingSettingsPanel.Disabled"):""}_useAdvancedCallingPanel(){return this.state.isNDISettingSupported||this.state.isEmergencyCallSettingSupported}render(){const e=[U.settingsBlockContainer];this._getContext().isPresentedInGenericDesktopModal&&e.push(U.settingsBlockContainerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?M.CloseButtonType.Close:M.CloseButtonType.Back},i=this.props.route.params.isAloneInNavStack&&!this.state.isMobileScreenReaderEnabled&&this._getContext().isPresentedInSplitView||this.props.navigation?void 0:(0,n.jsx)(M.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t,delayHeaderFocus:!1}),{primaryBackgroundColorStyle:o}=V.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(a.View,{style:[U.panel,o],children:[i,(0,n.jsx)(a.ScrollView,{style:L.default.flexOne,children:(0,n.jsxs)(a.View,{style:e,children:[(0,n.jsx)(D.SectionTitle,{title:P.getString("UserSettingsPanel.CallSettingsTitleUpper")}),this._renderCallerID(),this._renderCallForwarding(),this._getAutoAnswerSettings(),this._getCallMonitorSettings(),this._getSubtitleCallingSettings(),this.state.enableEcoMode&&this._getEcoModeSettings(),this._getAdvancedCallingSettings()]})})]})}_getHeaderText(e){return z.getHeaderText()}_renderCallForwarding(){if(!this.state.callForwardingFeature||!this.state.callForwardingFeature.clientEnabled)return;const e=this._getCallForwardingStatusLabel(),t=f.default.combinedAccessibilityLabel(P.getString("CallingSettingsPanel.CallForwardingLabel"),e);return(0,n.jsx)(O.WideButton,{label:P.getString("CallingSettingsPanel.CallForwardingLabel"),accessibilityLabel:t,labelRight:e,onPressed:this._onCallForwardingPressed,labelNumberOfLines:3})}_renderCallerID(){if(!this.state.isCallerIdFeatureEnabled)return;const e=this._getCallerIdStatusLabel(),t=f.default.combinedAccessibilityLabel(P.getString("CallingSettingsPanel.CallerID"),e);return(0,n.jsx)(O.WideButton,{label:P.getString("CallingSettingsPanel.CallerID"),accessibilityLabel:t,labelRight:e,showSpinner:this.state.callerIdDataStatus===g.CallerIdDataStatus.Pending,onPressed:this._onCallerIdPressed})}_getAutoAnswerSettings(){if(!this._useAdvancedCallingPanel())return W(this.props)}_getAdvancedCallingSettings(){if(this._useAdvancedCallingPanel())return this._getWideButton({label:P.getString("CallingSettingsPanel.AdvancedSettingsButtonLabel"),accessibilityLabel:P.getString("CallingSettingsPanel.AdvancedSettingsButtonLabel"),key:"advancedCallingSettings",onPressed:this._onAdvancedCallingSettingsButtonPressed})}_getSubtitleCallingSettings(){return this._getWideButton({label:P.getString("CallingSettingsPanel.SubtitlesButtonLabel"),accessibilityLabel:P.getString("CallingSettingsPanel.SubtitlesButtonLabel"),key:"subtitlesCallingSettings",onPressed:this._onSubtitlesCallingSettingsButtonPressed})}_getWideButton(e){return(0,n.jsx)(O.WideButton,Object.assign({},e,{buttonStyles:y.ListItem.small.shortHeightStyle}))}_getCallMonitorSettings(){if(!_.CallingCapabilities.callMonitorSupported()||!this.state.isCallMonitorEnabled)return;const e=this._renderLabels(P.getString("UserSettingsPanel.EnableCallMonitor"));return(0,n.jsxs)(a.View,{children:[(0,n.jsx)(d.default,{style:[U.controlRowNoDivider],isOn:this.state.enableCallMonitor,accessibilityLabel:P.getString("UserSettingsPanel.EnableCallMonitor"),onChange:this._toggleCallMonitor,children:e}),(0,n.jsx)(C.default,{marginTop:2})]})}_getEcoModeSettings(){return(0,n.jsx)(F.default,{id:"callingEcoMode",items:this._ecoModeItems,rowTitle:P.getString("CallingSettingsPanel.EcoModeTitle"),caption:P.getString("CallingSettingsPanel.EcoModeCaption"),isItemSelected:this._onEcoModeSelected,onHandleItemSelection:this._onEcoModeChange,selectedItemLabel:this._getEcoModeSelectedItemLabel(),style:this.props.route.params.style})}_getEcoModeSelectedItemLabel(){const e=this._ecoModeItems.find((e=>e.value===l.EcoMode[this.state.callingEcoMode]));return e?e.label:""}_renderLabels(e,t,i){return j(e,t,i)}}t.default=z},183552:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(284841),l=o.__importDefault(i(555436)),c=i(134894),d=o.__importDefault(i(601976)),u=i(815146),p=o.__importDefault(i(453761)),g=o.__importDefault(i(970035)),h=o.__importStar(i(85385)),m=i(26703),S=o.__importStar(i(704704)),_=o.__importDefault(i(72750)),f=o.__importDefault(i(740794)),y=o.__importDefault(i(421334)),C=o.__importDefault(i(655192)),v=o.__importStar(i(888500)),b=o.__importDefault(i(139221)),T=i(641400),P=o.__importStar(i(179582)),k=o.__importDefault(i(760989)),A=o.__importStar(i(972830)),I=(0,m.lazyProperties)({moreButton:()=>a.Styles.createViewStyle({paddingRight:5,height:20})}),w="deleteContact",x="viewProfile";class N extends _.default{constructor(){super(...arguments),this._getConnectedUserMenuItems=()=>{const e=[];return e.push({text:S.getString("UserProfilePanel.DeleteContactLabel"),command:w},{text:S.getString("UserProfilePanel.ViewProfileLabel"),command:x}),e},this._onHandleConnectedUserMenuOptions=(e,t)=>{const i=k.default.newCauseId();switch(h.log(u.LogTraceArea.Navigation,"ConnectedUsersListPanel._onHandleConnectedUserMenuOptions, causeId: "+i),e){case w:l.default.removeContact(t,c.DeleteContactOrigin.ManageConnectedPeople).then((()=>{const e=d.default.getDisplayableProfile(t),i=e&&e.getDisplayName();a.Accessibility.announceForAccessibility(S.getString("UserSettingsPanel.ContactRemovedAccessibilityLabel",{displayName:i}))}));break;case x:f.default.showDetailsPanelWithParams({mri:t,causeId:i,rootViewId:this._getRootViewId()});case v.SXActionMenuCancel:}}}static getHeaderText(){return S.getString("UserSettingsPanel.ProfileVisiblityTitle")}_buildState(e,t){return Object.assign(Object.assign({},super._buildState(e,t)),{isMobileScreenReaderEnabled:y.default.isMobileScreenReaderEnabled()})}_getUsersMris(){return(0,s.chain)(r.values(l.default.getFilteredAllContactProfiles("",{excludeBots:!0})),(0,s.sortBy)((e=>C.default.deburrLowerCase(e.getDisplayName()))),(0,s.map)((e=>e.getMri())),(0,s.compact)())}_onItemPress(e,t,i){const o={anchor:()=>i,buttons:this._getConnectedUserMenuItems(),positionPriorities:["bottom"],destructiveButtonIndex:0};v.default.showWithActionMenuConfig({options:o,callback:e=>this._onHandleConnectedUserMenuOptions(e,t),rootViewId:this._getRootViewId(),invokingEvent:e})}_getRightControlButton(e){if(this.state.isMobileScreenReaderEnabled)return;const{primaryIconColor:t,secondaryTextColor:i,primaryTextColor:o}=A.themeColors(this._getContext(),this.props.route.params.colorThemeOverride);if(b.default.isElectronWindows())return(0,n.jsx)(g.default,{icon:T.SkypeIcon.More,size:T.IconSize.size24,color:t});const r=d.default.getDisplayableProfile(e),s=r&&r.getDisplayName(),l=[a.Types.AccessibilityTrait.Button,a.Types.AccessibilityTrait.MenuItem],c=S.getString("Global.ContactMoreButtonAccessibilityLabel",{displayName:s});return(0,n.jsx)(p.default,{title:S.getString("Global.MoreButtonTitle"),onPress:t=>this._onItemPress(t,e),size:T.IconSize.size24,color:i,hoverColor:o,style:I.moreButton,icon:P.moreIcon(),accessibilityTraits:l,accessibilityLabel:c},"moreButton")}_getHeaderText(e){return N.getHeaderText()}}t.default=N},348495:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(914868)),s=i(26703),l=o.__importStar(i(704704)),c=o.__importDefault(i(740794)),d=i(483877),u=(0,s.lazyProperties)({titleMediumSemiLarge:()=>r.Styles.createTextStyle({flex:1,marginRight:12})});class p extends a.default{constructor(){super(...arguments),this._onPress=()=>{c.default.navigateToSendDiagnosticLogs(this._getRootViewId())}}static getHeaderText(){return l.getString("UserSettingsPanel.DiagnosticToolsTitle")}_getHeaderText(e){return p.getHeaderText()}_renderContent(){return(0,n.jsx)(d.WideButton,{label:l.getString("SendDiagnosticLogsDialog.SendDiagnosticLogs"),labelStyle:u.titleMediumSemiLarge,onPressed:this._onPress},"diagnosticTools")}}t.default=p},872766:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(539097)),a=o.__importDefault(i(150343)),s=o.__importDefault(i(835325));class l extends r.default{_getPanelName(){return"Manage feature flags"}_getSubscribedState(){return{ecsConfig:a.default.getMergedEcsConfig(),overrides:s.default.getOverrides()}}_generateConfigItems(e){return this._generateListOfItems(e.ecsConfig,e.overrides)}_generateOverrideItems(e){return this._generateListOfItems(e.overrides)}_onResetAll(){s.default.resetAllOverrides()}_generateListOfItems(e,t){const i=[];return n.each(e,((e,o)=>{i.push(this._createHeaderItem(o));const r=i.length;n.each(e,((e,n)=>{this._generateListOfItemsRecursive(i,o,[n],e,t)})),i.length===r&&i.pop()})),i}_onListItemClickBuilder(e,t,i){return()=>{s.default.setOverride(e,t,i)}}_onResetPressBuilder(e,t){return i=>{s.default.clearOverride(e,t),i.stopPropagation()}}}t.default=l},82760:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(331654),a=i(808467),s=o.__importStar(i(85385)),l=o.__importStar(i(94534)),c=i(64430),d=o.__importStar(i(704704)),u=o.__importDefault(i(196634)),p=o.__importDefault(i(760989)),g=i(815146),h=o.__importDefault(i(791384)),m=o.__importDefault(i(942724)),S=o.__importDefault(i(960282)),_=o.__importDefault(i(117475)),f="reset-language-option";class y extends a.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._setAppLanguage=e=>{let t;s.track(new c.LanguageUIChangedEvent(d.getLocale(),e)),e&&e!==f?(l.setLocale(e),t=d.getString(e)):(l.resetLocaleToSystem(),t=d.getResetLanguageOptionString()),h.default.maybeAnnounceForAccessibility(d.getString("SettingsLanguages.LanguageSelectedAnnouncement",{newLanguage:t}),1e3)},this._goBackUtil=()=>{const e=p.default.newCauseId();s.log(g.LogTraceArea.Navigation,"LanguagePickerPanel._onDoneButtonPress,  causeId: "+e),this._goBack(e)},this._getHeaderText=()=>y.getHeaderText()}static getHeaderText(){return d.getString("SettingsLanguages.LanguageLabel")}_buildState(){const e=d.getLocale();let t=0;const i=[{item:null,label:d.getResetLanguageOptionString(),key:f,index:0,separators:{highlight:()=>{},unhighlight:()=>{},updateProps:(e,t)=>{}}}];return{languages:l.sortedLanguageInfo.reduce(((o,n,r)=>(n.code===e&&(t=r),i.push({item:null,label:l.getLanguageTitle(n.code),key:n.code,index:r,separators:{highlight:()=>{},unhighlight:()=>{},updateProps:(e,t)=>{}}}),i)),[]),initialItemKey:e,initialItemIndex:t,isPortrait:S.default.getDeviceOrientation(this.context.rootViewId)===r.DeviceOrientation.Portrait,statusBarPadding:_.default.statusBarPadding(),isSmallDevice:S.default.isSmallDevice(this.context.rootViewId),isMobileScreenSize:S.default.isMobileScreenSize(this.context.rootViewId),isUsingStackNavigationContext:m.default.isUsingStackNavigationContext()}}render(){return(0,n.jsx)(u.default,{action:this._setAppLanguage,items:this.state.languages,initialItemKey:this.state.initialItemKey,initialItemIndex:this.state.initialItemIndex,headerText:d.getString("SettingsLanguages.LanguageLabel"),isAloneInNavStack:this.props.route.params.isAloneInNavStack,goBack:this._goBackUtil,searchEnabled:!0,isPortrait:this.state.isPortrait,statusBarPadding:this.state.statusBarPadding,isSmallDevice:this.state.isSmallDevice,isMobileScreenSize:this.state.isMobileScreenSize,isUsingStackNavigationContext:this.state.isUsingStackNavigationContext})}}t.default=y},805180:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(614080),s=o.__importStar(i(516778)),l=i(808467),c=i(154235),d=i(815146),u=o.__importDefault(i(970035)),p=o.__importStar(i(85385)),g=o.__importStar(i(94534)),h=i(64430),m=i(26703),S=o.__importStar(i(704704)),_=o.__importDefault(i(998929)),f=o.__importDefault(i(201721)),y=o.__importDefault(i(960282)),C=o.__importDefault(i(117475)),v=o.__importDefault(i(421334)),b=o.__importDefault(i(791384)),T=i(375258),P=i(641400),k=o.__importDefault(i(827361)),A=i(262725),I=o.__importDefault(i(760989)),w=o.__importStar(i(972830)),x=o.__importDefault(i(817672)),N=(0,m.lazyProperties)({panel:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),languageOption:()=>(0,m.lazyProperties)({row:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"flex-start",marginHorizontal:10,borderBottomWidth:1,height:60}),compositeRow:()=>s.Styles.createViewStyle({marginHorizontal:20}),selectedIcon:()=>s.Styles.createViewStyle({margin:5,minWidth:P.IconSize.size15})})});class D extends l.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._renderItem=e=>{const{dividerBorderColorStyle:t}=w.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),{primaryTextColor:i}=w.themeColors(this._getContext(),this.props.route.params.colorThemeOverride),o=[N.languageOption.row,k.default.pointerCursor,k.default.noncollapsibleView,t,this._getContext().isPresentedInDesktopSubview?N.languageOption.compositeRow:void 0,this.state.isMobileScreenSize?c.ListItem.small.regularHeightStyle:c.ListItem.small.shortHeightStyle],r=(0,n.jsx)(u.default,{icon:P.SkypeIcon.Ok,size:P.IconSize.size15,color:i,style:N.languageOption.selectedIcon});let a=!1;switch(e.template){case"reset-language-row":a=!this.state.currentLocale;const t=S.getResetLanguageOptionString(),i=t+(a?", "+S.getString("Global.SelectedAccessibilityLabel"):"");return(0,n.jsxs)(_.default.Button,{style:o,onPress:this._onResetLanguagePress,accessibilityLabel:i,children:[a?r:void 0,(0,n.jsx)(A.BodyText,{bold:a,style:k.default.flexNegativeOne,children:t})]},"language_reset");case"language-row":a=e.key===this.state.currentLocale;const s=g.getLanguageTitle(e.key),l=s+(a?", "+S.getString("Global.SelectedAccessibilityLabel"):""),c=[k.default.flexNegativeOne];return"ar-SA"===e.key&&c.push(k.default.noWrap),(0,n.jsxs)(_.default.Button,{style:o,onPress:()=>{this._onLanguagePress(e.key)},accessibilityLabel:l,children:[a?r:void 0,(0,n.jsx)(A.BodyText,{bold:a,style:c,children:s})]},"language"+e.key);default:return I.default.switchStatementExhaustiveChecking(e.template)}},this._onDoneButtonRef=e=>{this._doneButtonRef=e||void 0},this._onDoneButtonPress=()=>{const e=I.default.newCauseId();p.log(d.LogTraceArea.Navigation,"LanguagePickerPanel._onDoneButtonPress,  causeId: "+e),this._getContext().isPresentedInDesktopSubview?this._setAppLanguage():(this._setAppLanguage(),this._goBack(e))},this._setAppLanguage=()=>{p.track(new h.LanguageUIChangedEvent(S.getLocale(),this.state.currentLocale)),this.state.currentLocale?g.setLocale(this.state.currentLocale):g.resetLocaleToSystem()},this._onResetLanguagePress=e=>{e.preventDefault();const t=S.getString("SettingsLanguages.ResetLanguageOption");b.default.maybeAnnounceForAccessibility(S.getString("SettingsLanguages.LanguageSelectedAnnouncement",{language:t}),1e3),this.setState({currentLocale:""})},this._onLanguagePress=e=>{const t=g.getLanguageTitle(e);b.default.maybeAnnounceForAccessibility(S.getString("SettingsLanguages.LanguageSelectedAnnouncement",{language:t}),1e3),this.setState({currentLocale:e})}}static getHeaderText(){return S.getString("SettingsLanguages.LanguageLabel")}_buildState(e,t){const i=[{key:"reset-language-row",template:"reset-language-row",height:60,accessibilityTrait:s.Types.AccessibilityTrait.Button}];r.each(g.sortedLanguageInfo,(e=>{i.push({key:e.code,template:"language-row",height:60,accessibilityTrait:s.Types.AccessibilityTrait.Button})}));const o=this._getRootViewId(),n=f.default.getUserPreferencesLocal(),a={isMobileScreenSize:y.default.isMobileScreenSize(o),safeAreaHorizontalInsets:C.default.horizontalInsets(c.HorizontalInsetDefault),isMobileScreenReaderEnabled:v.default.isMobileScreenReaderEnabled(),items:i,userLocale:n.locale?S.getLocale():""};return t&&(a.currentLocale=a.userLocale),a}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._doneButtonRef&&this._doneButtonRef.requestFocus&&this.state.currentLocale!==t.currentLocale&&this._doneButtonRef.requestFocus()}_getActionDoneButton(){return{onPress:this._onDoneButtonPress,disabled:this.state.currentLocale===this.state.userLocale,text:S.getString("Global.ApplyButtonTitle"),accessibilityLabel:S.getString("Global.ApplyButtonTitle"),setButtonRef:this._onDoneButtonRef}}render(){let e;if(!(this.props.route.params.isAloneInNavStack&&!this.state.isMobileScreenReaderEnabled&&this._getContext().isPresentedInSplitView)&&!this.props.navigation){const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?T.CloseButtonType.Close:T.CloseButtonType.Back};e=(0,n.jsx)(T.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t,delayHeaderFocus:!1})}const{primaryBackgroundColorStyle:t}=w.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(s.View,{style:[N.panel,t],children:[e,(0,n.jsx)(a.VirtualListView,{itemList:this.state.items,renderItem:this._renderItem,animateChanges:!0,horizontalPadding:this.state.safeAreaHorizontalInsets,accessibilityLabel:this._getHeaderText(this.state)}),(0,n.jsx)(x.default,{button:this._getActionDoneButton()})]})}_getHeaderText(e){return D.getHeaderText()}}t.default=D},360095:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(537180),a=i(667294),s=o.__importStar(i(704704)),l=i(154235),c=i(641400),d=i(825419),u=o.__importDefault(i(600684)),p=o.__importDefault(i(218905)),g=i(447606),h=o.__importDefault(i(958868)),m=i(82485),S=i(217437),_=o.__importDefault(i(247286)),f=r.StyleSheet.create({view:{flexDirection:"row",justifyContent:"flex-end",alignSelf:"stretch",alignItems:"center"},text:{paddingLeft:5,paddingRight:5,flexDirection:"row"}}),y=({rootViewId:e,phoneNumber:t})=>{const[i,o]=(0,a.useState)(void 0),[p,h]=(0,a.useState)(!1);(0,a.useEffect)((()=>{t&&i!==t&&(o(t),p&&(m.Instrumentation.track(new S.MsaPhoneAccrualEvent(S.MsaPhoneAccrualAction.MsaPhoneNumberAdded)),h(!1)))}),[t,i,p]);const _=null!=t?t:s.getString("MyUserInfo.MicrosoftAccountPhoneSet"),y=s.getString("MyUserInfo.MicrosoftAccountPhone"),C=`${y} ${_}`;return(0,n.jsx)(u.default,{icon:c.SkypeIcon.CallStart,label:y,accessibilityLabel:C,shorterControlHeight:!1,onPress:()=>{t||(h(!0),m.Instrumentation.track(new S.MsaPhoneAccrualEvent(S.MsaPhoneAccrualAction.MsaPhoneNumberClicked)),(0,g.startPhoneNumberVerification)(e))},treatAsLink:!1,children:(0,n.jsx)(r.View,{style:f.view,children:(0,n.jsx)(d.BodyText,{style:f.text,selectable:!1,textThemeColor:l.TextThemeColor.Secondary,children:_})})},_)};class C extends h.default{constructor(){super(...arguments),this._getMsaPhoneNumber=()=>{const e=this.state.entries;return p.default.getMSAPhoneNumber(e)}}_buildState(){return{entries:p.default.getEntries(),isUserChild:_.default.isChild()}}render(){return this.state.isUserChild?null:(0,n.jsx)(y,{rootViewId:this._getRootViewId(),phoneNumber:this._getMsaPhoneNumber()})}}t.default=C},152378:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importStar(i(218905)),l=o.__importDefault(i(395298)),c=o.__importDefault(i(150343)),d=i(808467),u=(o.__importDefault(i(340724)),i(154235)),p=o.__importDefault(i(543915)),g=o.__importDefault(i(186325)),h=i(815146),m=o.__importDefault(i(970035)),S=o.__importStar(i(85385)),_=i(26703),f=o.__importStar(i(50350)),y=o.__importStar(i(704704)),C=o.__importDefault(i(503411)),v=o.__importDefault(i(363091)),b=o.__importDefault(i(740794)),T=i(483753),P=o.__importDefault(i(963897)),k=i(447606),A=o.__importStar(i(808164)),I=o.__importDefault(i(690051)),w=i(342561),x=o.__importDefault(i(960282)),N=o.__importDefault(i(117475)),D=o.__importDefault(i(377556)),M=i(884853),L=o.__importDefault(i(95114)),R=i(375258),E=o.__importDefault(i(655192)),B=o.__importStar(i(888500)),O=o.__importDefault(i(799585)),F=i(16549),V=i(641400),U=o.__importDefault(i(827361)),j=i(262725),H=o.__importDefault(i(497910)),W=o.__importStar(i(972830)),z=o.__importDefault(i(220534)),G=o.__importDefault(i(760989)),K=i(483877),q=o.__importDefault(i(247286)),Q=(0,_.lazyProperties)({panel:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),entry:()=>(0,_.lazyProperties)({container:()=>a.Styles.createViewStyle({paddingVertical:10,flexDirection:"row",alignItems:"center",justifyContent:"space-between",flex:1}),status:()=>a.Styles.createTextStyle({marginLeft:10,flex:1,textAlign:"right"})}),includeInSearch:()=>(0,_.lazyProperties)({row:()=>a.Styles.createViewStyle({marginVertical:4,flexDirection:"row",alignItems:"center",justifyContent:"space-between",flex:1})}),listItemContainer:()=>(0,_.lazyProperties)({row:()=>a.Styles.createViewStyle({flex:1,paddingHorizontal:20})}),searchExplanationRow:()=>a.Styles.createViewStyle({flexDirection:"row",marginTop:15,marginBottom:25,flex:1}),explanationNoMargins:()=>a.Styles.createViewStyle({marginTop:0,marginBottom:10}),iconFont:()=>a.Styles.createViewStyle({paddingHorizontal:15}),searchTextExplanationColumn:()=>a.Styles.createViewStyle({flex:1,paddingRight:15}),manageAccountBanner:()=>a.Styles.createTextStyle({flex:1,paddingHorizontal:15,paddingVertical:10,borderBottomWidth:1,borderTopWidth:1,color:F.Color.gray500,borderStyle:"solid",fontSize:14}),bannerNoBackground:()=>a.Styles.createTextStyle({backgroundColor:F.Color.transparent}),bannerBackground:()=>a.Styles.createTextStyle({backgroundColor:F.Color.blueOverlay10})});class X extends H.default{constructor(){super(...arguments),this._renderVerificationStatus=()=>{let e;const t=[Q.entry.status];return this.props.entry.VerifiedState===s.VerificationState.Verified&&this.props.entry.Searchable?e=y.getString("ManageSearchInfoPanel.SearchVisibilityStateEnabled"):this.props.entry.VerifiedState===s.VerificationState.Verified?e=y.getString("ManageSearchInfoPanel.SearchVisibilityStateDisabled"):(e=y.getString("ManageSearchInfoPanel.SearchVisibilityStateUnverified"),t.push(this._themeStyles.destructiveTextColorStyle)),(0,n.jsx)(j.BodyText,{style:t,numberOfLines:2,ref:this._onVerificationStatusTextRef,children:e})},this._onVerificationStatusTextRef=e=>{this._verificationStatusText=e||void 0}}_buildState(e,t){const i={};return t&&(i.isLoading=!1),i}render(){let e,t;this.state.isLoading?e=(0,n.jsx)(O.default,{size:u.SXActivityIndicatorSize.ExtraSmall,tintColor:this._themeColors.primaryIconColor}):this.props.isEditable&&(e=this._renderVerificationStatus());const i={style:U.default.flexOne,numberOfLines:2},o=this.getLabel();return t=this.props.isEditable?(0,n.jsx)(j.BodyText,Object.assign({bold:!0},i,{children:o})):(0,n.jsx)(j.Subtitle,Object.assign({},i,{children:o})),this.onPress?(0,n.jsxs)(a.Button,{accessibilityLabel:o,style:Q.entry.container,onPress:this.onPress,disabled:!this.props.isEditable,children:[t,e]}):(0,n.jsxs)(a.View,{style:Q.entry.container,children:[t,e]})}}class $ extends X{constructor(){super(...arguments),this.onPress=e=>{e.stopPropagation();const t={anchor:()=>this._verificationStatusText,useTheme:!0,positionPriorities:["bottom","top"],popupOffset:{x:60,y:5},hideDivider:!0};B.default.showWithOptions({id:$._menuId,config:t,getMenuItems:this._getMenuItems,handleMenuCommand:this._onHandleMenuCommand,destructiveButtonIndex:1,rootViewId:this._getRootViewId(),invokingEvent:e})},this._getMenuItems=()=>{const e=[];return this.props.entry.VerifiedState!==s.VerificationState.Verified&&this.props.canVerifyPhone?e.push({text:y.getString("ManageSearchInfoPanel.PhoneVerificationActionVerify"),command:"verify"}):this.props.entry.VerifiedState===s.VerificationState.Verified&&(this.props.entry.Searchable?e.push({text:y.getString("ManageSearchInfoPanel.PhoneVerificationActionDisable"),command:"disable"}):e.push({text:y.getString("ManageSearchInfoPanel.PhoneVerificationActionEnable"),command:"enable"})),e},this._onHandleMenuCommand=e=>{switch(e){case"disable":this.setState({isLoading:!0});const t=this.props.entry.Phone;s.default.hidePhoneNumberInSearch(t).then((()=>{P.default.isUserPhoneVerified().then((()=>P.default.removePhoneFromProfile(t.Number,t.CountryIsoCode,t.CountryCallingCode).then(r.noop)))}),(t=>{this._logServiceError(e,t)})).finally((()=>{S.track(new w.PhoneNumberDiscoverabilityPrivacyEvent(!1,w.PhoneDiscoverabilityOrigin.ApplicationSettings)),this._updateVerificationState(y.getString("ManageSearchInfoPanel.SearchVisibilityStateDisabled"))}));break;case"enable":this.setState({isLoading:!0}),s.default.showPhoneNumberInSearch(this.props.entry.Phone,this.props.entry.Source).then(r.noop,(t=>{this._logServiceError(e,t)})).finally((()=>{S.track(new w.PhoneNumberDiscoverabilityPrivacyEvent(!0,w.PhoneDiscoverabilityOrigin.ApplicationSettings)),this._updateVerificationState(y.getString("ManageSearchInfoPanel.SearchVisibilityStateEnabled"))}));break;case"verify":(0,k.startPhoneNumberVerificationFromManageSearchPanel)(this._getRootViewId(),this.props.entry.Phone.Number);break;case"cancel":case B.SXActionMenuCancel:break;default:G.default.switchStatementExhaustiveChecking(e)}},this._updateVerificationState=e=>{this.isComponentMounted()&&(this.setState({isLoading:!1}),C.default.scheduleMessage({key:"phoneSearchableText",textMessage:e,rootViewId:this._getRootViewId()}))}}getLabel(){const e=this.props.entry.Phone,t=A.default.parse(e.Number,e.CountryCallingCode);return t?A.default.format(t,A.PhoneNumberFormat.NATIONAL):e.Number}_logServiceError(e,t){S.log(h.LogTraceArea.ManageSearchInfo,"Service error while trying to "+e+" phone number. Error: "+E.default.errorAsString(t))}}$._menuId=B.default.menuId();class J extends X{getLabel(){return this.props.entry.EmailAddress}}class Y extends d.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._onLinkPress=()=>{0},this._onPressProfileVisiblityButton=()=>{b.default.navigateToConnectedUsersList(this._getRootViewId())},this._onChangeIncludeMeInSearch=(e,t)=>{this.state.includeMeInSearchEnabled!==t&&(I.default.setIncludeMeInSearchPrivacyOption({searchable:t,recommendable:!1}),S.track(new w.AppearInSearchEvent(t,this.props.route.params.origin)),t&&P.default.isUserPhoneVerified().then((e=>{if(e){const e=s.default.getEntries();r.each(e,((e,t)=>{e instanceof s.PhoneABCHEntry&&(e.VerifiedState!==s.VerificationState.Verified||e.Searchable||"Msa"!==e.Source||s.default.showPhoneNumberInSearch(e.Phone,e.Source).then(r.noop,(e=>{S.log(h.LogTraceArea.ManageSearchInfo,"Service error while trying to make phone number searchable. Error: "+E.default.errorAsString(e))})))}))}})))},this._onAddPhoneNumberPress=()=>{(0,k.startPhoneNumberVerificationFromManageSearchPanel)(this._getRootViewId())},this.getExplanationStyles=()=>[Q.searchExplanationRow,Q.explanationNoMargins],this._renderAppearInSearchResultsExplanation=()=>{const e=z.default.appendLanguageUrlParameter(c.default.getConfigSettingsNoSubscription().privacyUrl.splitSearchSuggestionsSettingsUrl);return this._renderSuggestionsAndSearchExplanationWithLearnMoreLink(e)},this._renderSuggestionsAndSearchExplanationWithLearnMoreLink=e=>{const t=!1,i=y.getString("AudioVideoSettings.LearnMore");let o;const r=(0,n.jsxs)(T.Link,{url:e,onPress:this._onLearnMorePressedForSearch,children:[" ",i]},"suggestionsLearnMoreLink");return(0,n.jsxs)(a.View,{children:[(0,n.jsx)(a.View,{style:this.getExplanationStyles(),children:(0,n.jsx)(a.View,{style:Q.searchTextExplanationColumn,accessibilityLabel:o?o.label:void 0,accessibilityTraits:o?o.traits:void 0,importantForAccessibility:void 0,tabIndex:void 0,onPress:void 0,onKeyPress:void 0,children:(0,n.jsx)(j.Caption,{accessibilityHidden:!1,children:y.getParts("ManageSearchInfoPanel.SearchResultsSecondaryExplanationSplitPolicySettings",{learnMoreLink:r})})})}),(0,n.jsx)(g.default,{})]})},this._onLearnMorePressedForSearch=()=>{const e=z.default.appendLanguageUrlParameter(c.default.getConfigSettingsNoSubscription().privacyUrl.splitSearchSuggestionsSettingsUrl);f.openUrlWithParams({origin:h.BrowserOrigin.SearchSuggestionsSettings,url:e,rootViewId:this._getRootViewId()})},this._onLearnMoreKeyPressed=(e,t)=>p.default.maybeHandleKeyPress(e,this._onLearnMorePressedForSearch),this._onLearnMorePressedForProfile=()=>{const e=z.default.appendLanguageUrlParameter(c.default.getConfigSettingsNoSubscription().privacyUrl.profileLearnMoreUrl);f.openUrlWithParams({origin:h.BrowserOrigin.PrivacyProfile,url:e,rootViewId:this._getRootViewId()})},this._onLearnMoreKeyPressedForProfile=e=>p.default.maybeHandleKeyPress(e,this._onLearnMorePressedForProfile)}_buildState(e,t){const i=s.default.getEntries(),o=v.default.getMsaIdFromSignIn(),n=c.default.getConfigSettings().msAccountContactInfoUrl.url,{searchable:r}=I.default.getIncludeMeInSearchPrivacyOption(t);return{entries:i,includeMeInSearchEnabled:r,isUserAMinor:q.default.isChild(),safeAreaHorizontalInsets:N.default.horizontalInsets(u.HorizontalInsetDefault),isFullScreenModal:x.default.isMobileScreenSize(this._getRootViewId()),microsoftAccountLink:o?n+"?username="+encodeURIComponent(o):n}}_getHeaderText(e){return y.getString("ManageSearchInfoPanel.PanelTitleContactsPrivacy")}render(){const e=[Q.listItemContainer.row];D.default.hasHorizontalSafeAreas(this.state.safeAreaHorizontalInsets)&&e.push(D.default.horizontalPaddingStyle(this.state.safeAreaHorizontalInsets));const t=[this._getPhoneAndMailSection(),this._getSearchTogglesSection(),this._getProfileSection()],{primaryBackgroundColorStyle:i}=W.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(a.View,{style:[Q.panel,i],children:[this._getHeader(),this._getManageAccountBanner(),(0,n.jsx)(a.ScrollView,{style:U.default.flexOne,children:(0,n.jsx)(a.View,{style:e,children:t})})]})}_getProfileSection(){return(0,n.jsxs)(a.View,{children:[this._getProfileHeader(),this._renderProfileVisibilityExplanation(),this._getProfileVisiblityButton()]},"profile")}_getPhoneAndMailSection(){return(0,n.jsxs)(a.View,{children:[this._getPhoneSection(),this._getEmailSection()]},"phoneMail")}_getPhoneSection(){if(this.state.isUserAMinor)return null;const e=this._getPhoneNumbers();return r.size(e)>0?(0,n.jsxs)(a.View,{children:[this._getPhoneHeader(),e]},"phone"):null}_getEmailSection(){const e=this._getEmails();return 0===r.size(e)?void 0:(0,n.jsxs)(a.View,{children:[this._getMailHeader(),e]},"email")}_getManageAccountBanner(){let e;const t=y.getString("ManageSearchInfoPanel.MicrosoftAccountLinkTitle"),i=this._getMicrosoftAccountLink(t),o=W.isUsingAccessibleTheme(this._getContext(),this.props.route.params.colorThemeOverride)?Q.bannerNoBackground:Q.bannerBackground;const{headerShadowBorderColorStyle:r}=W.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsx)(a.View,{children:(0,n.jsx)(a.View,{style:[Q.manageAccountBanner,r,o],accessibilityLabel:null==e?void 0:e.label,accessibilityTraits:null==e?void 0:e.traits,importantForAccessibility:void 0,onPress:this._onLinkPress,children:(0,n.jsx)(j.Caption,{accessibilityHidden:!1,numberOfLines:3,children:y.getParts("ManageSearchInfoPanel.PhoneNumberSectionEditLink",{microsoftAccountLink:i})})})})}_getMicrosoftAccountLink(e){return(0,n.jsx)(T.Link,{url:this.state.microsoftAccountLink,textElement:j.Caption,correctiveMargin:-3,children:e},"microsoftAccountLink")}_getPhoneHeader(){return(0,n.jsxs)(a.View,{style:U.default.flexOne,children:[(0,n.jsx)(M.SectionTitle,{title:y.getString("ManageSearchInfoPanel.PhoneNumberSectionSubtitleCaps")}),(0,n.jsx)(j.Caption,{numberOfLines:3,children:y.getString("ManageSearchInfoPanel.PhoneNumberSectionExplanation")})]})}_getPhoneNumbers(){const e=[];return r.each(this.state.entries,(t=>{t instanceof s.PhoneABCHEntry&&e.push((0,n.jsxs)(a.View,{children:[(0,n.jsx)($,{entry:t,canVerifyPhone:this.state.includeMeInSearchEnabled,isEditable:!0}),(0,n.jsx)(g.default,{})]},"phone"+t.Phone))})),e}_getAddPhoneNumber(){const{primaryIconColor:e}=W.themeColors(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(a.View,{children:[(0,n.jsxs)(a.Button,{onPress:this._onAddPhoneNumberPress,style:Q.entry.container,accessibilityLabel:y.getString("ManageSearchInfoPanel.AddMobileNumberLabel"),children:[(0,n.jsx)(j.BodyText,{bold:!0,accessibilityHidden:!0,children:y.getString("ManageSearchInfoPanel.AddMobileNumberLabel")}),(0,n.jsx)(m.default,{icon:V.SkypeIcon.Plus,size:V.IconSize.size24,color:e,style:Q.iconFont})]}),(0,n.jsx)(g.default,{})]})}_getEmails(){const e=[];return r.each(this.state.entries,(t=>{t instanceof s.EmailABCHEntry&&"Msa"!==t.Source&&e.push((0,n.jsxs)(a.View,{children:[(0,n.jsx)(J,{entry:t,isEditable:!1}),(0,n.jsx)(g.default,{})]},"email"+t.EmailAddress))})),e}_getMailHeader(){return(0,n.jsxs)(a.View,{style:U.default.flexOne,children:[(0,n.jsx)(M.SectionTitle,{title:y.getString("ManageSearchInfoPanel.EmailSectionSubtitleCaps")}),(0,n.jsx)(j.Caption,{numberOfLines:3,children:y.getString("ManageSearchInfoPanel.EmailSectionExplanation")})]})}_getSearchTogglesHeader(){return(0,n.jsx)(M.SectionTitle,{title:y.getString("ManageSearchInfoPanel.SearchResultsHeaderTitleCapsSplitPolicySettings")},"searchHeader")}_getProfileHeader(){return(0,n.jsx)(M.SectionTitle,{title:y.getString("ManageSearchInfoPanel.ProfileSectionHeaderCaps")},"profileHeader")}_getSearchTogglesSection(){return(0,n.jsxs)(a.View,{children:[this._getSearchTogglesHeader(),(0,n.jsxs)(a.View,{children:[this._getAppearInSearchResultsToggle(),this._renderAppearInSearchResultsExplanation()]})]},"toggles")}_renderProfileVisibilityExplanation(){let e;const t=y.getString("AudioVideoSettings.LearnMore"),i=(0,n.jsx)(T.Link,{url:z.default.appendLanguageUrlParameter(c.default.getConfigSettingsNoSubscription().privacyUrl.profileLearnMoreUrl),onPress:this._onLearnMorePressedForProfile,children:t},"profileLearnMoreLink ");return(0,n.jsx)(a.View,{children:(0,n.jsx)(a.View,{style:this.getExplanationStyles(),children:(0,n.jsx)(a.View,{style:Q.searchTextExplanationColumn,accessibilityLabel:e?e.label:void 0,accessibilityTraits:e?e.traits:void 0,importantForAccessibility:void 0,tabIndex:void 0,onPress:void 0,onKeyPress:void 0,children:(0,n.jsx)(j.Caption,{accessibilityHidden:!1,numberOfLines:3,children:y.getParts("ManageSearchInfoPanel.ProfileSectionExplanation",{learnMoreLink:i})})})})})}_getProfileVisiblityButton(){return(0,n.jsx)(K.WideButton,{label:y.getString("ManageSearchInfoPanel.ProfileVisiblityButton"),labelStyle:L.default.titleMediumSemiLarge,onPressed:this._onPressProfileVisiblityButton},"profileVisibility")}_getHeader(){if(this.props.navigation)return null;const e={closeButtonType:this.props.route.params.isAloneInNavStack?R.CloseButtonType.Close:R.CloseButtonType.Back},t=y.getString("ManageSearchInfoPanel.PanelTitleContactsPrivacy");return(0,n.jsx)(R.SimplePanelHeader,{panelName:t,leftButton:e,allowTextWrap:!0})}_getAppearInSearchResultsToggle(){return(0,n.jsx)(l.default,{style:Q.includeInSearch.row,isOn:!this.state.isUserAMinor&&this.state.includeMeInSearchEnabled,accessibilityLabel:y.getString("UserSettingsPanel.IncludeMeInSearchAndSuggestions"),onChange:this._onChangeIncludeMeInSearch,showSpinner:r.isUndefined(this.state.includeMeInSearchEnabled),disable:this.state.isUserAMinor,children:(0,n.jsx)(M.SwitchLabel,{title:y.getString("UserSettingsPanel.IncludeMeInSearchAndSuggestionsSplitPolicySettings"),subtitle:this.state.isUserAMinor?y.getString("UserSettingsPanel.DontIncludeMinorsInSearchAndSuggestions"):void 0})},"includeMeInSearchAndSuggestions")}}t.default=Y},72750:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(614080),a=o.__importStar(i(516778)),s=i(808467),l=i(154235),c=i(26703),d=o.__importDefault(i(960282)),u=o.__importDefault(i(117475)),p=i(375258),g=o.__importDefault(i(324254)),h=o.__importDefault(i(827361)),m=o.__importStar(i(972830)),S=(0,c.lazyProperties)({panel:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),listItem:()=>(0,c.lazyProperties)({itemDivider:()=>a.Styles.createViewStyle({height:1,marginRight:30,marginLeft:60}),itemDividerSmallScreen:()=>a.Styles.createViewStyle({marginRight:10}),rowItems:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch",flexDirection:"row",alignItems:"center"})})});class _ extends s.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._onBackButtonRef=e=>{this._headerBackButtonRef=e||void 0},this._onHandleItemPress=(e,t,i)=>{this._onItemPress(e,i,t)},this._renderItem=e=>{const{dividerColorStyle:t}=m.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),i=[S.listItem.itemDivider,t];this.state.isMobileScreenSize&&i.push(S.listItem.itemDividerSmallScreen);const o=e.key;return(0,n.jsxs)(a.View,{style:h.default.flexOne,children:[(0,n.jsx)(a.View,{style:S.listItem.rowItems,children:(0,n.jsx)(g.default,{userMri:o,itemHeight:55,hideBlockedOverlay:!0,renderAsListItem:!0,customRightButtonControl:this._getRightControlButton(o),onItemPress:this._onHandleItemPress})}),(0,n.jsx)(a.View,{style:i},"itemDivider")]},"mri"+o)}}_buildState(e,t){const i=this._getUsersMris(),o=[];i.forEach((e=>{o.push({key:e,height:56,template:"userListItem"})}));const n=this._getRootViewId();return{isMobileScreenSize:d.default.isMobileScreenSize(n),safeAreaHorizontalInsets:u.default.horizontalInsets(l.HorizontalInsetDefault),userItems:o}}render(){const e={closeButtonType:this.props.route.params.isAloneInNavStack?p.CloseButtonType.Close:p.CloseButtonType.Back,setButtonRef:this._onBackButtonRef},t=this._getHeaderText(this.state),i=this.props.navigation?void 0:(0,n.jsx)(p.SimplePanelHeader,{panelName:t,leftButton:e}),{primaryBackgroundColorStyle:o}=m.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(a.View,{style:[S.panel,o],children:[i,(0,n.jsx)(r.VirtualListView,{itemList:this.state.userItems,renderItem:this._renderItem,animateChanges:!0,horizontalPadding:this.state.safeAreaHorizontalInsets,accessibilityLabel:t})]})}_getRightControlButton(e){}}t.default=_},353145:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(808467),s=i(154235),l=i(26703),c=o.__importStar(i(704704)),d=o.__importDefault(i(765006)),u=o.__importDefault(i(942724)),p=i(375258),g=o.__importDefault(i(827361)),h=o.__importStar(i(972830)),m=(0,l.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),containerDesktop:()=>r.Styles.createViewStyle({marginHorizontal:20}),containerMobile:()=>r.Styles.createViewStyle({marginHorizontal:10})});class S extends a.BaseNavigationViewPresentedInModal{static getHeaderText(){return c.getString("UserSettingsPanel.ManageContactsTitle")}constructor(e){super(e),this._leftButton={closeButtonType:p.CloseButtonType.Back}}_buildState(e,t){return{isUsingStackNavigationContext:u.default.isUsingStackNavigationContext()}}render(){const e=this.state.isUsingStackNavigationContext?m.containerMobile:m.containerDesktop,{primaryBackgroundColorStyle:t}=h.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),i=this.props.navigation?void 0:(0,n.jsx)(p.SimplePanelHeader,{panelName:c.getString("UserSettingsPanel.ManageContactsTitle"),delayHeaderFocus:this._getContext().isPresentedByMobileStackNavigator,leftButton:this._leftButton});return(0,n.jsxs)(r.View,{style:[m.panel,t],children:[i,(0,n.jsx)(r.ScrollView,{style:g.default.flexOne,children:(0,n.jsx)(r.View,{style:e,children:(0,n.jsx)(d.default,{buttonStyles:this.state.isUsingStackNavigationContext?void 0:s.ListItem.small.shortHeightStyle})})})]})}_getHeaderText(e){return S.getHeaderText()}}t.default=S},307150:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(192478),s=i(154235),l=i(26703),c=o.__importStar(i(704704)),d=o.__importDefault(i(117475)),u=o.__importDefault(i(306189)),p=i(375258),g=i(928722),h=o.__importDefault(i(827361)),m=(0,l.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>r.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible"})});class S extends a.BaseNavigationView{_buildState(e,t){return{safeAreaHorizontalPaddingStyle:d.default.horizontalPaddingStyle(s.HorizontalInsetZero)}}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i)}render(){const e=[m.settingsBlockContainer];this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=(0,n.jsx)(r.ScrollView,{style:h.default.flexOne,children:(0,n.jsx)(r.View,{style:e,children:(0,n.jsx)(u.default,{})})});if(this.props.navigation)return t;const i={closeButtonType:this.props.route.params.navigationDirection===g.StackNavigationDirection.Present?p.CloseButtonType.Close:p.CloseButtonType.Back};return(0,n.jsxs)(r.View,{style:[m.panel,this._getContext().themeStyles.primaryBackgroundColorStyle],children:[(0,n.jsx)(p.SimplePanelHeader,{panelName:c.getString("UserSettingsPanel.SettingsTitle"),leftButton:i,delayHeaderFocus:this._getContext().isPresentedByMobileStackNavigator}),t]})}}t.default=S},601606:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(331654),a=o.__importStar(i(516778)),s=o.__importDefault(i(620742)),l=i(113002),c=i(186907),d=o.__importDefault(i(165505)),u=o.__importDefault(i(159184)),p=o.__importDefault(i(203502)),g=o.__importDefault(i(683395)),h=o.__importDefault(i(685734)),m=i(26703),S=i(192478),_=i(375258),f=i(483877),y=i(884853),C=o.__importDefault(i(827361)),v=o.__importStar(i(363091)),b=o.__importStar(i(185201)),T=i(342561),P=i(812822),k=o.__importDefault(i(377556)),A=o.__importDefault(i(150343)),I=o.__importDefault(i(740794)),w=o.__importDefault(i(960282)),x=o.__importDefault(i(117475)),N=o.__importDefault(i(421334)),D=o.__importStar(i(85385)),M=o.__importStar(i(704704)),L=i(154235),R=i(815146),E=i(16549),B=i(641400),O=i(331079),F=o.__importDefault(i(360095)),V=(i(135405),(0,m.lazyProperties)({panel:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),container:()=>a.Styles.createScrollViewStyle({marginTop:10,marginHorizontal:10}),sectionHeader:()=>a.Styles.createTextStyle({paddingTop:30,paddingBottom:10})}));class U extends S.BaseNavigationView{constructor(){super(...arguments),this._onScrollViewRef=e=>{this._scrollView=e||void 0},this._onUserCardRef=e=>{this._userCardRef=e||void 0},this._onScroll=(e,t)=>{const i=e>100;this.state.showHeader!==i&&this.setState({showHeader:i})},this._navigateToGroup=e=>{I.default.navigateToSettingsGroup(e,this._getRootViewId())},this._onHelpAndFeedbackButtonPressed=()=>{D.track(new b.NavigationHelpAndFeedback(l.NavigationSettingsItem.HelpAndFeedback,l.NavigationSettingsOrigin.MySettingsPanel)),I.default.navigateToSettingsGroup(P.SettingsGroup.HelpAndFeedback,this._getRootViewId())},this._goToPrivacy=()=>{if(this.state.userAccountType===v.UserAccountType.PhoneAuth)return D.warn(R.LogTraceArea.Navigation,"Skipping navigation to manage search info panel as user is phone-auth user without a linked MSA."),void I.default.navigateToLinkMsaToPhoneNumberAccountFlow("OtherWaysPeopleCanFindYouPanel",this._getContext().rootViewId);I.default.navigateToManageSearchInfoPanel(T.ManageSearchOrigin.ApplicationSettings,this._getRootViewId())},this._debugSettingsPress=()=>{this._navigateToGroup(P.SettingsGroup.Debug)}}_buildState(e,t){const i=h.default.getFullUserProfileByMri(v.default.getSkypeMri()),o=this._getRootViewId(),n=a.StatusBar.isOverlay()&&this._getContext().isPresentedByMobileStackNavigator&&w.default.getDeviceOrientation(o)===r.DeviceOrientation.Portrait,s={displayName:i.getDisplayName(),showScreenReaderHeader:N.default.isMobileScreenReaderEnabled(),gender:i&&i.gender||O.eGender.Unspecified,safeAreaHorizontalInsets:this._getContext().isPresentedInDesktopSubview?L.HorizontalInsetZero:x.default.horizontalInsets(L.HorizontalInsetDefault),leavePaddingForStatusBar:n,hugeEmoticonsFeatureEnabled:A.default.getS4LMessagingFeatures().singleEmoticonSize>=c.EmoticonSize.ExtraLarge,myUserStatus:g.default.getStatus(),statusBarHeight:n?x.default.statusBarHeight():0,enableRefreshedPalette:A.default.getS4LUiFeatures().enableRefreshedPalette,enableMsaPhoneNumber:v.default.getUserAccountType()!==v.UserAccountType.PhoneAuth&&U.showMSAPhoneNumberOnOther(),userAccountType:v.default.getUserAccountType()};return t&&(s.showHeader=!1),s}componentDidMount(){super.componentDidMount(),this._userCardRef&&this._userCardRef.requestFocus(),A.default.getS4LCommerceFeatures().offerStore.prefetch&&s.default.requestUpdate()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.statusBarHeight!==t.statusBarHeight&&!this.state.showHeader&&this._scrollView&&this._scrollView.setScrollTop(0)}render(){let{headerIconColor:e,iconHoverColor:t,iconPrimary:i}=this._getContext().themeColors;this.state.enableRefreshedPalette&&(e=i,t=i);const o=V.sectionHeader,r=this._isHeaderOpaqueStyle(),s=r?e:E.Color.white,l=r?t:E.Color.whiteOverlay80,c={closeButtonType:this.props.route.params.useCloseIcon?_.CloseButtonType.Close:_.CloseButtonType.Back,color:s,hoverColor:l},d=M.getString("UserSettingsPanel.MyProfileTitle"),g=(0,n.jsx)(_.SimplePanelHeader,{floating:!this.state.showScreenReaderHeader,panelName:r?d:void 0,useTransparentBackground:!r,hideBottomBorder:!r,leftButton:c,leavePaddingForStatusBar:this.state.leavePaddingForStatusBar,ignorePointerEvents:!r}),h=[C.default.flexOne,k.default.horizontalPaddingStyle(this.state.safeAreaHorizontalInsets)],m=[];return this.state.statusBarHeight&&!this.state.showScreenReaderHeader&&(h.push(k.default.marginTopStyle(this.state.statusBarHeight),C.default.overflowVisible),m.push(k.default.marginTopStyle(-1*this.state.statusBarHeight))),k.default.hasHorizontalSafeAreas(this.state.safeAreaHorizontalInsets)&&m.push(a.Styles.createViewStyle({marginLeft:-1*this.state.safeAreaHorizontalInsets.left,marginRight:-1*this.state.safeAreaHorizontalInsets.right},!1)),(0,n.jsxs)(a.View,{style:[V.panel,this._getContext().themeStyles.primaryBackgroundColorStyle],children:[g,(0,n.jsxs)(a.ScrollView,{ref:this._onScrollViewRef,style:h,onScroll:this._onScroll,scrollEventThrottle:32,keyboardShouldPersistTaps:!0,children:[(0,n.jsx)(a.View,{style:m,children:(0,n.jsx)(u.default,{ref:this._onUserCardRef,allowEditAvatar:!0,allowOpenAvatarInMediaViewer:!1,replaceHeader:!0,userMri:v.default.getSkypeMri()})}),(0,n.jsxs)(a.View,{style:V.container,children:[this._renderShareProfileOption(),this._getSectionTitle(M.getString("UserSettingsPanel.MyProfileTitleUpper"),"profile",o),(0,n.jsx)(p.default,{userMri:v.default.getSkypeMri()}),this._getHelpAndAbout()]})]})]})}_getHelpAndAbout(){return(0,n.jsxs)(a.View,{children:[this._getSectionTitle(M.getString("UserSettingsPanel.OtherUpperTitle"),"other",V.sectionHeader),this._getDebugSettings(),!!this.state.enableMsaPhoneNumber&&(0,n.jsx)(F.default,{}),(0,n.jsx)(f.WideButton,{icon:B.SkypeIcon.ContactGroup,label:M.getString("MyUserInfo.ManagePrivacyTitle"),onPressed:this._goToPrivacy}),(0,n.jsx)(f.WideButton,{icon:B.SkypeIcon.Info,label:M.getString("UserSettingsPanel.HelpAndAboutTitle"),onPressed:this._onHelpAndFeedbackButtonPressed})]})}_getSectionTitle(e,t,i){return(0,n.jsx)(y.SectionTitle,{title:e,titleStyles:i},t)}_renderShareProfileOption(){return(0,n.jsx)(d.default,{origin:R.ContactInviteOrigin.ShareProfile,desktop:!1})}_getDebugSettings(){}_isHeaderOpaqueStyle(){return this.state.showScreenReaderHeader||this.state.showHeader}static showMSAPhoneNumberOnOther(){return!1}}t.default=U},79727:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(428231)),s=i(808467),l=o.__importDefault(i(601976)),c=o.__importDefault(i(186325)),d=i(815146),u=i(26703),p=o.__importStar(i(704704)),g=o.__importDefault(i(363091)),h=i(859993),m=o.__importDefault(i(690051)),S=o.__importStar(i(848203)),_=i(884853),f=i(375258),y=o.__importDefault(i(20758)),C=o.__importDefault(i(827361)),v=i(262725),b=i(596648),T=o.__importStar(i(972830)),P=(0,u.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),content:()=>r.Styles.createViewStyle({flex:1,paddingHorizontal:20}),contentSection:()=>r.Styles.createViewStyle({paddingVertical:10}),visibilityTitle:()=>r.Styles.createViewStyle({paddingBottom:15}),visibilitySubtitle:()=>r.Styles.createViewStyle({paddingBottom:10}),avatarContainer:()=>r.Styles.createViewStyle({alignItems:"center",alignSelf:"center",padding:10}),radioButton:()=>r.Styles.createTextStyle({paddingVertical:10})});class k extends s.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._changeProfilePictureVisibility=e=>{e!==this.state.avatarPolicy&&m.default.setAvatarPolicy(e,d.AvatarPolicyChangeOrigin.ProfilePicturePanel)}}static getHeaderText(){return p.getString("UserSettingsPanel.ProfilePictureTitle")}_buildState(e,t){return{avatarPolicy:m.default.getAvatarPolicy(t),hasPhoto:!!l.default.getDisplayableProfile(g.default.getSkypeMri()).getAvatarUrl()}}render(){const e=this.state.hasPhoto?p.getString("UserSettingsPanel.ProfilePictureCaptionWithPhoto"):p.getString("UserSettingsPanel.ProfilePictureCaptionNoPhoto"),t=(0,n.jsxs)(r.View,{style:P.contentSection,children:[(0,n.jsx)(r.View,{children:(0,n.jsx)(_.SectionTitle,{title:e,titleStyles:C.default.flexOne,numberOfLines:2})}),(0,n.jsx)(a.default,{mri:g.default.getSkypeMri(),iconSize:b.UserIconSize.Size160,style:P.avatarContainer,accessibilityLabel:p.getString("MyProfilePanel.SelectAvatarAccessibilityLabel"),origin:d.AvatarPickerOrigin.ProfilePicturePanel,showUploadPictureButton:!0,showAltViewAsMediaIcon:!0})]}),i=[{key:h.OptionsServiceAvatarPolicyValueType.EVERYONE_CAN_SEE,text:p.getString("UserSettingsPanel.ProfilePicturePublicLabel"),secondaryText:p.getString("UserSettingsPanel.ProfilePicturePublicDescription"),disabled:!this.state.hasPhoto},{key:h.OptionsServiceAvatarPolicyValueType.BUDDIES_OR_AUTHORIZED_CAN_SEE,text:p.getString("UserSettingsPanel.ProfilePictureContactsOnlyLabel"),secondaryText:p.getString("UserSettingsPanel.ProfilePictureContactsOnlyDescription"),disabled:!this.state.hasPhoto}],o=T.currentTheme(this._getContext(),this.props.route.params.colorThemeOverride),{disabledTextColorStyle:s,primaryBackgroundColorStyle:l}=T.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),u=[y.default.bodyFontStyle(o)],m=[y.default.captionFontStyle(o)];this.state.hasPhoto||(u.push(s),m.push(s));const k=(0,n.jsxs)(r.View,{style:[P.contentSection],children:[(0,n.jsx)(_.SectionTitle,{title:p.getString("UserSettingsPanel.ProfilePictureVisibilitySubtitle"),titleStyles:P.visibilitySubtitle,numberOfLines:2}),(0,n.jsx)(S.default,{radioButtons:i,selectedKey:this.state.hasPhoto?this.state.avatarPolicy:void 0,rowStyle:P.radioButton,textStyle:u,secondaryTextStyle:m,dividerType:S.DividerType.None,onSelected:this._changeProfilePictureVisibility})]}),A=this.props.navigation?void 0:(0,n.jsx)(f.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:{closeButtonType:f.CloseButtonType.Back}});return(0,n.jsxs)(r.View,{style:[P.panel,l],children:[A,(0,n.jsx)(r.ScrollView,{style:C.default.flexOne,children:(0,n.jsxs)(r.View,{style:P.content,children:[t,(0,n.jsx)(v.BodyText,{style:P.visibilityTitle,children:p.getString("UserSettingsPanel.ProfilePictureVisibilityTitle")}),(0,n.jsx)(c.default,{}),k]})})]})}_getHeaderText(e){return k.getHeaderText()}}t.default=k},55706:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=o.__importStar(i(496486)),r=o.__importDefault(i(539097)),a=o.__importDefault(i(206483)),s=o.__importDefault(i(114818)),l=o.__importStar(i(704704)),c=o.__importDefault(i(201721));class d extends r.default{constructor(){super(...arguments),this._allowReset=!1,this._includeNumbers=!0}_getPanelName(){return"Raw app preferences"}_getSubscribedState(){const e=c.default.getUserPreferencesLocal(),t=c.default.internal_getUserPreferencesLocalDefaults();return{preferences:e,overrides:this._calculateOverrides(e,t)}}_calculateOverrides(e,t){const i={};return n.each(e,((e,o)=>{if(void 0===t[o])void 0!==e&&(i[o]=e);else if(n.isObject(e)){const r=this._calculateOverrides(e,t[o]);n.isEmpty(r)||(i[o]=r)}else(0,s.default)(e,t[o])||(i[o]=e)})),{MyUserPreferencesLocalStore:i}}_generateConfigItems(e){const t=[];n.each(e.preferences,((i,o)=>{this._generateListOfItemsRecursive(t,"MyUserPreferencesLocalStore",[o],i,e.overrides)}));const i=n.sortBy(t,"featureName");return i.unshift(this._createHeaderItem("MyUserPreferencesLocalStore")),i}_generateOverrideItems(e){const t=[];return n.each(e.overrides,((e,i)=>{t.push(this._createHeaderItem(i)),n.each(e,((e,o)=>{this._generateListOfItemsRecursive(t,i,[o],e)}))})),t}_onResetAll(){const e=[{text:l.getString("Global.CancelLabel"),isCancel:!0},{text:l.getString("Global.DeleteLabel"),onPress:()=>{c.default.reset()},style:"destructive",isSubmit:!0}],t="Are you sure you want to reset all local preferences?";a.default.showWithOptions({title:"Reset all preferences",dialogAccessibilityTitle:t,message:t,buttons:e,rootViewId:this._getRootViewId()})}_onListItemClickBuilder(e,t,i){return()=>{const e={};n.set(e,t,i),c.default.setUserPreferencesLocal(e)}}_onResetPressBuilder(e,t){return e=>{e.stopPropagation()}}}t.default=d},354445:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(808467),s=i(154235),l=o.__importDefault(i(255940)),c=i(26703),d=o.__importStar(i(372690)),u=o.__importStar(i(704704)),p=i(375258),g=o.__importDefault(i(660401)),h=i(16549),m=o.__importDefault(i(20758)),S=i(262725),_=o.__importStar(i(972830)),f=i(844086),y=20,C=(0,c.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),scrollContainer:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch",marginLeft:y,marginRight:y}),textHeader:()=>r.Styles.createTextStyle({paddingTop:y,paddingBottom:y}),textInputContainer:()=>r.Styles.createViewStyle({borderRadius:10,marginTop:10}),textInput:()=>r.Styles.createTextInputStyle({padding:6,borderRadius:10,font:m.default.font.uiDisplayRegular,fontSize:m.default.controlFontSize.body,wordBreak:"break-word",backgroundColor:h.Color.transparent,height:180,textAlignVertical:"top"}),buttonContainer:()=>r.Styles.createViewStyle({alignItems:"stretch",marginTop:y}),linksContainer:()=>r.Styles.createViewStyle({flex:1,alignItems:"flex-end",justifyContent:"center",flexDirection:"row",marginBottom:y,marginTop:50}),linkDivider:()=>r.Styles.createTextStyle({marginLeft:8,marginRight:8})});class v extends a.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._openTerms=()=>{d.openTerms()},this._openPrivacy=()=>{d.openPrivacy()},this._onChangeText=e=>{this.setState({userInput:e})},this._onSendButtonPressed=()=>{l.default.handleSubmitFeedbackIntent(void 0,!0,!1,this._getRootViewId(),this.state.userInput)}}static getHeaderText(){return u.getString("SendDiagnosticLogsDialog.SendDiagnosticLogs")}_buildState(e,t){const i={};return t&&(i.userInput=""),i}render(){const e=this.props.navigation?void 0:(0,n.jsx)(p.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:{closeButtonType:p.CloseButtonType.Back}}),{primaryBackgroundColorStyle:t,rowHighlightViewStyle:i,primaryTextColorStyle:o}=_.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),{secondaryTextColor:a}=_.themeColors(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(f.KeyboardAvoidingView,{style:[C.panel,t],children:[e,(0,n.jsx)(r.ScrollView,{children:(0,n.jsxs)(r.View,{style:C.scrollContainer,children:[(0,n.jsx)(S.Header,{size:4,style:C.textHeader,children:u.getString("SendDiagnosticLogsDialog.TextTitle")}),(0,n.jsx)(S.BodyText,{children:u.getString("SendDiagnosticLogsDialog.TextBody")}),(0,n.jsx)(r.View,{style:[C.textInputContainer,i],children:(0,n.jsx)(r.TextInput,{style:[C.textInput,o],value:this.state.userInput,onChangeText:this._onChangeText,autoCorrect:!0,multiline:!0,autoCapitalize:"sentences",placeholder:u.getString("SendDiagnosticLogsDialog.TextInputPlaceholder"),placeholderTextColor:a,maxLength:1e3,clearButtonMode:"never"})}),(0,n.jsx)(r.View,{style:C.buttonContainer,children:(0,n.jsx)(g.default,{buttonStyle:s.SXButtonStyle.ThemeFill,onPress:this._onSendButtonPressed,title:u.getString("SendDiagnosticLogsDialog.SendDiagnosticLogs"),disabled:0===this.state.userInput.length,allowTextWrap:!0})}),(0,n.jsxs)(r.View,{style:C.linksContainer,children:[(0,n.jsx)(r.Button,{onPress:this._openTerms,children:(0,n.jsx)(S.Subtitle,{children:u.getString("ReportAProblemDialog.TermsOfUseButton")})}),(0,n.jsx)(S.Subtitle,{style:C.linkDivider,children:"|"}),(0,n.jsx)(r.Button,{onPress:this._openPrivacy,children:(0,n.jsx)(S.Subtitle,{children:u.getString("ReportAProblemDialog.PrivacyAndCookiePolicyButton")})})]})]})})]})}_getHeaderText(e){return v.getHeaderText()}}t.default=v},654925:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsGroupPanel=N;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=i(667294),s=o.__importDefault(i(381432)),l=o.__importDefault(i(405853)),c=i(962234),d=o.__importDefault(i(555648)),u=o.__importDefault(i(4123)),p=o.__importDefault(i(822938)),g=i(413686),h=o.__importDefault(i(126068)),m=o.__importDefault(i(690657)),S=o.__importDefault(i(820842)),_=o.__importDefault(i(599133)),f=o.__importStar(i(704704)),y=o.__importDefault(i(305297)),C=i(812822),v=o.__importDefault(i(951212)),b=o.__importDefault(i(617067)),T=o.__importDefault(i(611905)),P=i(375258),k=i(928722),A=i(26703),I=i(736267),w=(0,A.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"})});function x(e){let t;switch(e){case C.SettingsGroup.Notifications:t=f.getString("UserSettingsPanel.NotificationsTitle");break;case C.SettingsGroup.Contacts:t=f.getString("UserSettingsPanel.ContactsTitle");break;case C.SettingsGroup.Privacy:t=f.getString("UserSettingsPanel.PrivacyHeader");break;case C.SettingsGroup.Chat:t=f.getString("UserSettingsPanel.MessagingAndChatsTitle");break;case C.SettingsGroup.HelpAndFeedback:t=f.getString("MyProfilePanel.HelpAndFeedbackButtonTitle");break;case C.SettingsGroup.MyAccountAndProfile:case C.SettingsGroup.AccountAndProfile:t=f.getString("UserSettingsPanel.MyAccountAndProfileTitle");break;case C.SettingsGroup.AudioVideoSettings:t=f.getString("UserSettingsPanel.AudioVideoSettingsTitle");break;case C.SettingsGroup.General:t=f.getString("UserSettingsPanel.GeneralTitle");break;case C.SettingsGroup.Debug:t="[Debug]";break;case C.SettingsGroup.HotKeys:t=f.getString("KeyboardShortcuts.Title2");break;case C.SettingsGroup.ReportProblem:t=f.getString("FeedbackMechanism.ReportAProblemDialogTitle");break;case C.SettingsGroup.ThemeSettings:t=f.getString("UserSettingsPanel.AppearanceButton")}return t}function N(e){let t,i;switch((0,a.useEffect)((()=>{var t;null===(t=e.navigation)||void 0===t||t.setOptions({title:x(e.route.params.group)})}),[e.route.params.group,e.navigation]),e.route.params.group){case C.SettingsGroup.Notifications:t=f.getString("UserSettingsPanel.NotificationsTitle"),i=(0,n.jsx)(v.default,{});break;case C.SettingsGroup.Contacts:t=f.getString("UserSettingsPanel.ContactsTitle"),i=(0,n.jsx)(u.default,{});break;case C.SettingsGroup.Privacy:t=f.getString("UserSettingsPanel.PrivacyHeader"),i=(0,n.jsx)(b.default,{});break;case C.SettingsGroup.Chat:t=f.getString("UserSettingsPanel.MessagingAndChatsTitle"),i=(0,n.jsx)(d.default,{});break;case C.SettingsGroup.HelpAndFeedback:t=f.getString("MyProfilePanel.HelpAndFeedbackButtonTitle"),i=(0,n.jsx)(S.default,{});break;case C.SettingsGroup.MyAccountAndProfile:t=f.getString("UserSettingsPanel.MyAccountAndProfileTitle"),i=(0,n.jsx)(y.default,{});break;case C.SettingsGroup.AccountAndProfile:t=f.getString("UserSettingsPanel.MyAccountAndProfileTitle"),i=(0,n.jsx)(s.default,{});break;case C.SettingsGroup.AudioVideoSettings:t=f.getString("UserSettingsPanel.AudioVideoSettingsTitle"),i=(0,n.jsx)(l.default,{settingsMode:c.SettingsMode.All});break;case C.SettingsGroup.General:t=f.getString("UserSettingsPanel.GeneralTitle"),i=(0,n.jsx)(m.default,{});break;case C.SettingsGroup.Debug:t="[Debug]",i=(0,n.jsx)(p.default,{});break;case C.SettingsGroup.HotKeys:t=f.getString("KeyboardShortcuts.Title2"),i=(0,n.jsx)(_.default,{});break;case C.SettingsGroup.ReportProblem:t=f.getString("FeedbackMechanism.ReportAProblemDialogTitle"),i=(0,n.jsx)(h.default,{});break;case C.SettingsGroup.ThemeSettings:t=f.getString("UserSettingsPanel.AppearanceButton"),i=(0,n.jsx)(T.default,{origin:g.DialogNavOrigin.Settings})}const o={closeButtonType:e.route.params.navigationDirection===k.StackNavigationDirection.Present?P.CloseButtonType.Close:P.CloseButtonType.Back},{themeStyles:A}=(0,I.useCommonContext)(),N=(0,I.useCommonContext)(),D=e.navigation?void 0:(0,n.jsx)(P.SimplePanelHeader,{panelName:t,leftButton:o,delayHeaderFocus:N.isPresentedByMobileStackNavigator});return(0,n.jsxs)(r.View,{style:[w.panel,A.primaryBackgroundColorStyle],children:[D,i]})}t.default=N},868794:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importStar(i(397691)),s=o.__importDefault(i(395298)),l=i(808467),c=o.__importDefault(i(369347)),d=i(619429),u=i(154235),p=i(26703),g=o.__importDefault(i(599526)),h=o.__importDefault(i(117475)),m=i(375258),S=i(641400),_=o.__importDefault(i(827361)),f=o.__importStar(i(972830)),y=(0,p.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>r.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible",flexGrow:1}),settingsBlockContainerDesktop:()=>r.Styles.createViewStyle({paddingHorizontal:20}),toggle:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:6})}),C=[{label:"Production",value:d.ConversationServiceUrlType.Prod},{label:"Dev",value:d.ConversationServiceUrlType.Dev}],v=[{label:"Production",value:d.UdpTransportUrlType.Prod},{label:"Dev",value:d.UdpTransportUrlType.Dev}],b=[{label:"Production",value:d.KeyDistributionUrlType.Prod},{label:"Dev",value:d.KeyDistributionUrlType.Dev}],T=[{label:"4",value:"4"},{label:"10",value:"10"},{label:"12",value:"12"},{label:"51",value:"51"}];class P extends l.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._onHeaderResetButtonClick=e=>{this._updateSlimcoreProperty(d.SlimcoreSetupKeys.ConversationServiceUrl,e?d.ConversationServiceUrlType.Prod:d.ConversationServiceUrlType.Dev,!1),this._updateSlimcoreProperty(d.SlimcoreSetupKeys.UdpTransportUrl,e?d.UdpTransportUrlType.Prod:d.UdpTransportUrlType.Dev,!1),this._updateSlimcoreProperty(d.SlimcoreSetupKeys.KeyDistributionUrl,e?d.KeyDistributionUrlType.Prod:d.KeyDistributionUrlType.Dev,!1),this._updateSlimcoreProperty(d.SlimcoreSetupKeys.EnableUdpCanary,e,!1),this._updateSlimcoreProperty(d.SlimcoreSetupKeys.UdpEnabled,e,!1),this.forceUpdate()},this._updateSlimcoreProperty=(e,t,i=!0)=>{const o="boolean"==typeof t?t?"1":"0":t;c.default.CallingStore.setupKey(e,o),i&&this.forceUpdate()}}_buildState(e,t){return{safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:h.default.horizontalPaddingStyle(u.HorizontalInsetZero)}}componentDidMount(){super.componentDidMount(),this._updateState()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._updateState()}_updateState(){const e=[c.default.CallingStore.getIntKey(d.SlimcoreSetupKeys.UdpEnabled),c.default.CallingStore.getIntKey(d.SlimcoreSetupKeys.MaxNrOfVideosVisibleInUI),c.default.CallingStore.getIntKey(d.SlimcoreSetupKeys.EnableDnsCache),c.default.CallingStore.getIntKey(d.SlimcoreSetupKeys.AdditionalVideoLinesForGroupCalls),c.default.CallingStore.getIntKey(d.SlimcoreSetupKeys.EnableEncryptedHttp),c.default.CallingStore.getIntKey(d.SlimcoreSetupKeys.EnableEncryptedHttpForBroker),c.default.CallingStore.getIntKey(d.SlimcoreSetupKeys.EnableUdpCanary),c.default.CallingStore.getIntKey(d.SlimcoreSetupKeys.AutoJoinOnConflict),c.default.CallingStore.getIntKey(d.SlimcoreSetupKeys.EnableEcoMode)];a.all(e).then((e=>{const[t,i,o,n,r,a,s,l,c]=e;this.setState({udpEnabled:1===t,maxNrOfVideosVisibleInUI:i,enableDnsCache:1===o,additionalVideoLinesForGroupCalls:1===n,enableEncryptedHttp:1===r,enableEncryptedHttpForBroker:1===a,enableUdpCanary:1===s,autoJoinOnConflict:1===l,enableEcoMode:1===c})}));const t=[c.default.CallingStore.getKey(d.SlimcoreSetupKeys.ConversationServiceUrl),c.default.CallingStore.getKey(d.SlimcoreSetupKeys.UdpTransportUrl),c.default.CallingStore.getKey(d.SlimcoreSetupKeys.KeyDistributionUrl)];a.all(t).then((e=>{const[t,i,o]=e;this.setState({conversationServiceUrl:t,udpTransportUrl:i,keyDistributionUrl:o})}))}render(){const e=[y.settingsBlockContainer];this._getContext().isPresentedInGenericDesktopModal&&e.push(y.settingsBlockContainerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?m.CloseButtonType.Close:m.CloseButtonType.Back},i=[{onPress:()=>this._onHeaderResetButtonClick(!1),icon:S.SkypeIcon.Bot,title:"Reset to Dev"},{onPress:()=>this._onHeaderResetButtonClick(!0),icon:S.SkypeIcon.TV,title:"Reset to Prod"}],o=(0,n.jsx)(m.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t,rightButtons:i}),{primaryBackgroundColorStyle:a}=f.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(r.View,{style:[y.panel,a],children:[o,(0,n.jsx)(r.ScrollView,{style:_.default.flexOne,children:(0,n.jsxs)(r.View,{style:e,children:[this._renderListPicker(d.SlimcoreSetupKeys.ConversationServiceUrl,C),this._renderListPicker(d.SlimcoreSetupKeys.UdpTransportUrl,v),this._renderListPicker(d.SlimcoreSetupKeys.KeyDistributionUrl,b),this._renderListPicker(d.SlimcoreSetupKeys.MaxNrOfVideosVisibleInUI,T),this._renderToggle(d.SlimcoreSetupKeys.UdpEnabled,this.state.udpEnabled),this._renderToggle(d.SlimcoreSetupKeys.EnableEcoMode,this.state.enableEcoMode),this._renderToggle(d.SlimcoreSetupKeys.EnableDnsCache,this.state.enableDnsCache),this._renderToggle(d.SlimcoreSetupKeys.AdditionalVideoLinesForGroupCalls,this.state.additionalVideoLinesForGroupCalls),this._renderToggle(d.SlimcoreSetupKeys.EnableEncryptedHttp,this.state.enableEncryptedHttp),this._renderToggle(d.SlimcoreSetupKeys.EnableEncryptedHttpForBroker,this.state.enableEncryptedHttpForBroker),this._renderToggle(d.SlimcoreSetupKeys.EnableUdpCanary,this.state.enableUdpCanary),this._renderToggle(d.SlimcoreSetupKeys.AutoJoinOnConflict,this.state.autoJoinOnConflict)]})})]})}_renderToggle(e,t){return(0,n.jsx)(s.default,{id:e,style:y.toggle,isOn:t,accessibilityLabel:e,onChange:(t,i)=>this._updateSlimcoreProperty(e,i),children:(0,n.jsx)(r.Text,{children:this._getTitle(e)})})}_renderListPicker(e,t){return(0,n.jsx)(g.default,{id:e,items:t,rowTitle:this._getTitle(e),isItemSelected:t=>this._isItemSelected(e,t),onHandleItemSelection:t=>this._updateSlimcoreProperty(e,t),selectedItemLabel:this._getSelectedItemLabel(e)})}_isItemSelected(e,t){switch(e){case d.SlimcoreSetupKeys.ConversationServiceUrl:return t===this.state.conversationServiceUrl;case d.SlimcoreSetupKeys.UdpTransportUrl:return t===this.state.udpTransportUrl;case d.SlimcoreSetupKeys.KeyDistributionUrl:return t===this.state.keyDistributionUrl;case d.SlimcoreSetupKeys.MaxNrOfVideosVisibleInUI:return t===this.state.maxNrOfVideosVisibleInUI;default:return!1}}_getSelectedItemLabel(e){switch(e){case d.SlimcoreSetupKeys.ConversationServiceUrl:return this.state.conversationServiceUrl===d.ConversationServiceUrlType.Dev?"Dev":"Production";case d.SlimcoreSetupKeys.UdpTransportUrl:return this.state.udpTransportUrl===d.UdpTransportUrlType.Dev?"Dev":"Production";case d.SlimcoreSetupKeys.KeyDistributionUrl:return this.state.keyDistributionUrl===d.KeyDistributionUrlType.Dev?"Dev":"Production";case d.SlimcoreSetupKeys.MaxNrOfVideosVisibleInUI:return this.state.maxNrOfVideosVisibleInUI+" participants";default:return""}}_getTitle(e){return Object.getOwnPropertyNames(d.SlimcoreSetupKeys).find((t=>d.SlimcoreSetupKeys[t]===e))}_getHeaderText(e){return"Manage Slimcore Flags"}}t.default=P},631362:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConsentPanel=void 0;const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(150343)),s=i(808467),l=i(815146),c=o.__importStar(i(85385)),d=o.__importStar(i(704704)),u=o.__importDefault(i(942724)),p=i(375258),g=o.__importDefault(i(316026)),h=o.__importDefault(i(827361)),m=o.__importDefault(i(300401)),S=o.__importDefault(i(760989)),_=o.__importDefault(i(514781)),f=o.__importStar(i(972830));class y extends s.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._onCloseButtonPress=e=>{e&&e.stopPropagation();const t=S.default.newCauseId();c.log(l.LogTraceArea.Navigation,"SpeechConsent panel close, causeId: "+t),this._goBack(t)},this._onContribute=()=>{g.default.setSpeechConsentValue(!0),this.setState({showReceipt:!0})},this._onDoNotContribute=()=>{g.default.setSpeechConsentValue(!1),this._onCloseButtonPress()}}_buildState(e,t){const i={isUsingStackNavigationContext:u.default.isUsingStackNavigationContext(),privacyStatementUrl:a.default.getConfigSettings().translator.privacyStatementUrl};return t&&(i.showReceipt=!1),i}_getHeaderText(e){return d.getString("SpeechConsentPanel.PanelTitle")}_getCloseButtonTitle(){return d.getString("Global.CloseButtonTitle")}render(){const{headerIconColor:e,iconHoverColor:t}=f.themeColors(this._getContext(),this.props.route.params.colorThemeOverride),i=this._getCloseButtonTitle(),o=this.state.isUsingStackNavigationContext?{closeButtonType:p.CloseButtonType.Close,color:e,title:i}:{closeButtonType:this.props.route.params.isAloneInNavStack?p.CloseButtonType.Close:p.CloseButtonType.Back,color:e,hoverColor:t,onPress:this._onCloseButtonPress,title:this.props.route.params.isAloneInNavStack?i:d.getString("Global.BackButtonTitle")},a=this.props.navigation?void 0:(0,n.jsx)(p.SimplePanelHeader,{useTransparentBackground:!0,hideBottomBorder:!0,leftButton:o});let s;s=this.state.showReceipt?(0,n.jsx)(m.default,{onDone:this._onCloseButtonPress}):(0,n.jsx)(_.default,{onContribute:this._onContribute,onDoNotContribute:this._onDoNotContribute});const{primaryBackgroundColorStyle:l}=f.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(r.View,{style:[h.default.flexOne,l],children:[a,s]})}}t.SpeechConsentPanel=y,t.default=y},148758:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(331654),a=o.__importDefault(i(150343)),s=i(808467),l=o.__importStar(i(94534)),c=o.__importStar(i(704704)),d=o.__importDefault(i(196634)),u=o.__importDefault(i(341994)),p=o.__importDefault(i(760989)),g=o.__importStar(i(85385)),h=i(815146),m=o.__importDefault(i(791384)),S=o.__importDefault(i(942724)),_=o.__importDefault(i(960282)),f=o.__importDefault(i(117475)),y=o.__importDefault(i(524526));class C extends s.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._setSpokenLanguage=e=>{let t=c.getString(e);if(this.props.route.params.action){const t=p.default.newCauseId();this.props.route.params.action(this.props.route.params.isLocal,e,t)}else e&&"reset-language-option"!==e?u.default.setCallTranslatorBotSpokenLanguageLocale(e):(l.resetLocaleToSystem(),t=c.getResetLanguageOptionString());m.default.maybeAnnounceForAccessibility(c.getString("SettingsLanguages.LanguageSelectedAnnouncement",{newLanguage:t}),1e3)},this._goBackUtil=()=>{const e=p.default.newCauseId();g.log(h.LogTraceArea.Navigation,"SpokenLanguagePickerPanel._goBackUtil,  causeId: "+e),this._goBack(e)},this._getHeaderText=()=>C.getHeaderText()}static getHeaderText(){return c.getString("LanguageAndTranslationSettingsPanel.SpokenLanguage")}_buildState(e,t){const i=a.default.getS4LCMCFeatures().callTranslatorBotConfig.languageSupport.speech||[];let o=u.default.getCallTranslatorBotSpokenLanguageLocale()||"";e.route.params.action&&(o=e.route.params.isLocal?y.default.getLocalPstnCallTranlatorBotSpokenLanguageLocale(e.route.params.conversationMri)||"":y.default.getOtherPstnCallTranlatorBotSpokenLanguageLocale(e.route.params.conversationMri)||"");let n=0;const s=[];i.forEach(((e,t)=>{const i=l.getLanguageTitle(e);e===o&&(n=t),s.push({item:null,label:i,key:e,index:t,separators:{highlight:()=>{},unhighlight:()=>{},updateProps:(e,t)=>{}}})}));return{languages:s,initialItemKey:o,initialItemIndex:n,isPortrait:_.default.getDeviceOrientation(this.context.rootViewId)===r.DeviceOrientation.Portrait,statusBarPadding:f.default.statusBarPadding(),isSmallDevice:_.default.isSmallDevice(this.context.rootViewId),isMobileScreenSize:_.default.isMobileScreenSize(this.context.rootViewId),isUsingStackNavigationContext:S.default.isUsingStackNavigationContext()}}render(){return(0,n.jsx)(d.default,{action:this._setSpokenLanguage,items:this.state.languages,initialItemKey:this.state.initialItemKey,initialItemIndex:this.state.initialItemIndex,headerText:c.getString("LanguageAndTranslationSettingsPanel.SpokenLanguage"),goBack:this._goBackUtil,isAloneInNavStack:this.props.route.params.isAloneInNavStack,searchEnabled:!0,isPortrait:this.state.isPortrait,statusBarPadding:this.state.statusBarPadding,isSmallDevice:this.state.isSmallDevice,isMobileScreenSize:this.state.isMobileScreenSize,isUsingStackNavigationContext:this.state.isUsingStackNavigationContext})}}t.default=C},454864:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(395298)),s=o.__importDefault(i(150343)),l=i(808467),c=i(465522),d=o.__importDefault(i(340724)),u=i(154235),p=o.__importDefault(i(186325)),g=o.__importDefault(i(524526)),h=i(26703),m=o.__importStar(i(704704)),S=o.__importDefault(i(341994)),_=o.__importDefault(i(117475)),f=i(375258),y=o.__importDefault(i(693881)),C=o.__importDefault(i(860640)),v=o.__importDefault(i(827361)),b=o.__importStar(i(972830)),T=(0,h.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),container:()=>r.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible",flexGrow:1}),containerDesktop:()=>r.Styles.createViewStyle({paddingHorizontal:20}),toggle:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:6})});class P extends l.BaseNavigationViewPresentedInModal{static getHeaderText(){return m.getString("CallingSettingsPanel.SubtitlesButtonLabel")}_buildState(e,t){const i=s.default.getS4LCMCFeatures();return{enableSubtitlesForAllCalls:S.default.getEnableSubtitlesForAllCalls(),enableOnlyShowSubtitlesForOtherParticipants:S.default.getOnlyShowSubtitlesForOtherParticipants(),enableMessageTranslation:i.enableMessageTranslation,callCaptionsHideSpokenLangInSettings:i.callCaptionsHideSpokenLangInSettings,safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:_.default.horizontalPaddingStyle(u.HorizontalInsetZero),isSpokenLanguageSupported:g.default.isDeviceLanguageSupportedForTranslation()}}render(){const e=[T.container];this._getContext().isPresentedInGenericDesktopModal&&e.push(T.containerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?f.CloseButtonType.Close:f.CloseButtonType.Back},i=this.props.navigation?void 0:(0,n.jsx)(f.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t}),{primaryBackgroundColorStyle:o}=b.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(r.View,{style:[T.panel,o],children:[i,(0,n.jsx)(r.ScrollView,{style:v.default.flexOne,children:(0,n.jsxs)(r.View,{style:e,children:[this._getSpokenLanguageSetting(),this._getSubtitleForAllCallsToggle(),this._getSubtitlesForOtherOnlyToggle(),this._getSubtitleSettingsMessage()]})})]})}_getHeaderText(e){return P.getHeaderText()}_getSpokenLanguageSetting(){if(!(!this.state.enableMessageTranslation||this.props.route.params.hideLangSelector&&this.state.callCaptionsHideSpokenLangInSettings))return this._wrapElementWithDivider((0,n.jsx)(y.default,{showRowTitle:!0,showCaption:!0,onHandleMenuCommand:e=>{S.default.setCallTranslatorBotSpokenLanguageLocale(e)}}))}_getSubtitleForAllCallsToggle(){const e=m.getString("SubtitlesSettingsPanel.EnableSubtitlesForAllCallsLabel"),t=m.getString("SubtitlesSettingsPanel.EnableSubtitlesForAllCallsExplanation");return this._wrapElementWithDivider((0,n.jsx)(a.default,{style:T.toggle,isOn:this.state.enableSubtitlesForAllCalls&&this.state.isSpokenLanguageSupported,disable:!this.state.isSpokenLanguageSupported,accessibilityLabel:d.default.combinedAccessibilityLabel(e,t),onChange:(e,t)=>{S.default.setEnableSubtitlesForAllCalls(t)},children:(0,c.renderLabels)(e,t,!this.state.isSpokenLanguageSupported)}))}_getSubtitlesForOtherOnlyToggle(){const e=m.getString("SubtitlesSettingsPanel.OnlyShowSubtitlesForOtherParticipantsLabel"),t=m.getString("SubtitlesSettingsPanel.OnlyShowSubtitlesForOtherParticipantsExplanation");return this._wrapElementWithDivider((0,n.jsx)(a.default,{style:T.toggle,isOn:this.state.enableOnlyShowSubtitlesForOtherParticipants&&this.state.isSpokenLanguageSupported,disable:!this.state.isSpokenLanguageSupported,accessibilityLabel:d.default.combinedAccessibilityLabel(e,t),onChange:(e,t)=>{S.default.setOnlyShowSubtitlesForOtherParticipants(t)},children:(0,c.renderLabels)(e,t,!this.state.isSpokenLanguageSupported)}))}_getSubtitleSettingsMessage(){if(!this.state.enableMessageTranslation)return(0,n.jsx)(C.default,{})}_wrapElementWithDivider(e){return(0,n.jsxs)(r.View,{children:[e,(0,n.jsx)(p.default,{marginTop:10})]})}}t.default=P},614986:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(614080),s=o.__importDefault(i(313649)),l=o.__importStar(i(516778)),c=i(808467),d=i(26703),u=o.__importStar(i(704704)),p=i(375258),g=i(16549),h=o.__importDefault(i(20758)),m=h.default.fontSize.size13Deprecated,S=(0,d.lazyProperties)({rootPanel:()=>l.Styles.createViewStyle({flex:1,alignSelf:"stretch",backgroundColor:g.Color.white}),thirdPartyNoticesText:()=>l.Styles.createTextInputStyle({paddingHorizontal:15,font:h.default.font.uiDisplayRegular,fontSize:m,color:g.Color.black})});class _ extends c.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._renderItem=(e,t)=>{const i=Number(e.key),o=this.state.legalParagraphs[i];return(0,n.jsx)(l.Text,{style:S.thirdPartyNoticesText,children:o})}}static getHeaderText(){return u.getString("ThirdPartyNoticesPanel.ThirdPartyNoticesTitle")}_buildState(e,t){const i={};return t&&(i.legalParagraphs=[],i.itemList=[]),i}componentDidMount(){super.componentDidMount(),s.default.getNotices().then((e=>{if(!this.isComponentMounted())return;const t=r.compact(e.split("\n")),i=r.map(t,((e,t)=>({key:t.toString(),measureHeight:!0,height:Math.max(Math.round(e.length*m/70),m),template:"legal"})));this.setState({legalParagraphs:t,itemList:i})}))}_getHeaderText(e){return _.getHeaderText()}render(){const e=this.props.navigation?void 0:(0,n.jsx)(p.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:{closeButtonType:this.props.route.params.isAloneInNavStack?p.CloseButtonType.Close:p.CloseButtonType.Back}});return(0,n.jsxs)(l.View,{style:S.rootPanel,children:[e,(0,n.jsx)(a.VirtualListView,{itemList:this.state.itemList,renderItem:this._renderItem})]})}}t.default=_},327263:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(667294)),a=i(344175),s=i(537180),l=o.__importDefault(i(150343)),c=i(154235),d=i(641400),u=o.__importStar(i(704704)),p=o.__importDefault(i(341994)),g=o.__importDefault(i(740794)),h=i(812822),m=i(206315),S=o.__importStar(i(252443)),_=i(375258),f=i(262725),y=o.__importDefault(i(827361)),C=o.__importDefault(i(660401)),v=i(483753),b=o.__importDefault(i(970035)),T=i(526849),P=s.StyleSheet.create({notificationInnerContainer:{flexDirection:"row",alignSelf:"stretch"},notificationInnerButtonsContainer:{flex:1,flexDirection:"row",alignSelf:"center"},notificationInnerButtonsContainerMargin:{marginTop:8},notificationButton:{alignItems:"center"},notificationConsentContainer:{flex:1,flexDirection:"column",alignSelf:"stretch",padding:34,paddingTop:10,minHeight:void 0},consentTextBox:{alignSelf:"center"},flexDirectionColumn:{flexDirection:"column"},scrollView:{flex:1},bulletMargin:{marginRight:5}}),k="size160";t.default=r.memo((0,T.WithResub)((({navigation:e,featureName:t,hasConsent:i,privacyLink:o})=>{const r=()=>{(null==e?void 0:e.canGoBack())?null==e||e.goBack():g.default.navigateToSettingsGroup(h.SettingsGroup.Privacy,c.MainRootViewId)},{textSecondary:l,iconOnAccent:p}=(0,m.useSkypeTheme)().themeColors,T=u.getString(i?"CallTranscriptionNotifications.TranslationConsentSettingDisable":"CallTranscriptionNotifications.TranslationConsentSettingEnable"),A=u.getString(i?"CallTranscriptionNotifications.TranslationConsentSettingKeep":"CallTranscriptionNotifications.TranslationConsentSettingCancel"),I={closeButtonType:_.CloseButtonType.Back},w=e?null:(0,n.jsx)(_.SimplePanelHeader,{useTransparentBackground:!0,hideBottomBorder:!0,leftButton:I}),x=s.StyleSheet.flatten([P.notificationInnerContainer,P.consentTextBox]),N=s.StyleSheet.flatten([y.default.flexOne,y.default.textAlignCenter]);let D;return(0,n.jsxs)(a.Box,{style:y.default.flexOneRN,children:[w,(0,n.jsxs)(a.Box,{style:P.notificationConsentContainer,children:[(0,n.jsxs)(s.ScrollView,{style:s.StyleSheet.flatten([P.flexDirectionColumn,P.scrollView]),children:[(0,n.jsx)(a.Box,{style:x,children:(0,n.jsx)(b.default,{icon:d.SkypeIcon.Translate,size:d.IconSize.size20,color:p})}),(0,n.jsx)(a.Box,{style:x,paddingTop:k,children:(0,n.jsx)(f.Header,{size:c.HeaderSize.h4,style:N,children:u.getString("CallTranscriptionNotifications.TranslationConsent")})}),(0,n.jsx)(a.Box,{style:x,paddingTop:k,children:(0,n.jsx)(f.Caption,{style:N,children:u.getString("CallTranscriptionNotifications.TranslationConsentSettingText",{featureName:t})})}),(0,n.jsxs)(a.Box,{style:[P.notificationInnerContainer,P.consentTextBox,P.flexDirectionColumn],paddingTop:k,paddingLeft:D,paddingRight:D,children:[(0,n.jsxs)(a.Box,{flexDirection:"row",children:[(0,n.jsx)(f.Caption,{style:P.bulletMargin,children:"• "}),(0,n.jsx)(f.Caption,{style:y.default.flexOne,children:u.getString("CallTranscriptionNotifications.TranslationConsentSettingSubtext1")})]}),(0,n.jsxs)(a.Box,{flexDirection:"row",children:[(0,n.jsx)(f.Caption,{style:P.bulletMargin,children:"• "}),(0,n.jsx)(f.Caption,{style:y.default.flexOne,children:u.getString("CallTranscriptionNotifications.TranslationConsentSettingSubtext2",{featureName:t})})]}),(0,n.jsxs)(a.Box,{flexDirection:"row",children:[(0,n.jsx)(f.Caption,{style:P.bulletMargin,children:"• "}),(0,n.jsx)(f.Caption,{style:y.default.flexOne,children:u.getString("CallTranscriptionNotifications.TranslationConsentSettingSubtext3")})]})]}),(0,n.jsx)(a.Box,{style:x,paddingTop:k,color:"iconOnAccent",children:(0,n.jsx)(f.Caption,{style:s.StyleSheet.flatten(N),children:(0,n.jsx)(v.AccessibleLink,{url:o,textElement:f.Caption,children:u.getString("CallTranscriptionNotifications.TranslationConsentSettingLearnMore")})})})]}),(0,n.jsxs)(a.Box,{style:s.StyleSheet.flatten([P.notificationInnerContainer,P.flexDirectionColumn]),paddingTop:k,children:[(0,n.jsx)(C.default,{buttonStyle:c.SXButtonStyle.GradientFill,buttonSize:c.SXButtonSize.Small,backgroundStyle:{marginBottom:8},title:T,style:P.notificationButton,onPress:i?()=>{S.resetTranslationConsent(),S.resetTruVoiceConsent(),S.truVoiceDisable(),r()}:()=>{S.giveTranslationConsent(),r()},children:T}),(0,n.jsx)(C.default,{buttonStyle:c.SXButtonStyle.ColorStroke,buttonSize:c.SXButtonSize.Small,buttonConfig:{textColor:l,borderColor:l},title:A,style:P.notificationButton,onPress:r,children:A})]})]})]})}),(e=>{const{translationFeatures:{truVoiceName:t},skypeTranslation:{privacyLink:i}}=l.default.getS4LCMCFeatures();return Object.assign(Object.assign({},e),{featureName:t,hasConsent:p.default.getCallTranslatorTranslationConsent(),privacyLink:i})})))},91963:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(150343)),s=i(808467),l=i(154235),c=o.__importDefault(i(186325)),d=i(477195),u=i(26703),p=o.__importStar(i(704704)),g=o.__importDefault(i(341994)),h=o.__importDefault(i(117475)),m=i(375258),S=o.__importDefault(i(693881)),_=o.__importDefault(i(740794)),f=o.__importDefault(i(978014)),y=o.__importDefault(i(827361)),C=o.__importDefault(i(712606)),v=o.__importStar(i(972830)),b=o.__importDefault(i(688794)),T=(0,u.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>r.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible",flexGrow:1}),settingsBlockContainerDesktop:()=>r.Styles.createViewStyle({paddingHorizontal:20})});class P extends s.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._renderNewPanel=()=>{const e=[T.settingsBlockContainer];this._getContext().isPresentedInGenericDesktopModal&&e.push(T.settingsBlockContainerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?m.CloseButtonType.Close:m.CloseButtonType.Back},i=this.props.navigation?void 0:(0,n.jsx)(m.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t}),{primaryBackgroundColorStyle:o}=v.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(r.View,{style:[T.panel,o],children:[i,(0,n.jsx)(r.ScrollView,{style:y.default.flexOne,children:(0,n.jsxs)(r.View,{style:e,children:[this._getTranslationSpokenLanguage(),(0,n.jsx)(c.default,{}),this._getTranslationVoice(),(0,n.jsx)(c.default,{})]})})]})},this._getTranslationSpokenLanguage=()=>(0,n.jsx)(b.default,{label:p.getString("LanguageAndTranslationSettingsPanel.SpokenLanguage"),captionText:p.getString("LanguageAndTranslationSettingsPanel.SpokenLanguageCaption"),activeLabel:this.state.currentLanguage,onPress:this._onLanguagePickerButtonPress,hideDivider:!0}),this._getTranslationVoice=()=>(0,n.jsx)(b.default,{label:p.getString("LanguageAndTranslationSettingsPanel.TranslationVoiceLabel"),captionText:p.getString("LanguageAndTranslationSettingsPanel.TranslationVoiceCaption"),activeLabel:this.state.currentVoice,onPress:this._onVoicePickerButtonPress,hideDivider:!0}),this._onLanguagePickerButtonPress=()=>{_.default.navigateToSpokenLanguagePicker(!1,this._getRootViewId(),!1,void 0)},this._onVoicePickerButtonPress=()=>{_.default.navigateToVoicePicker(!1,this._getRootViewId())},this._renderOldPanel=()=>{const e=[T.settingsBlockContainer];this._getContext().isPresentedInGenericDesktopModal&&e.push(T.settingsBlockContainerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?m.CloseButtonType.Close:m.CloseButtonType.Back},i=this.props.navigation?void 0:(0,n.jsx)(m.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t}),{primaryBackgroundColorStyle:o}=v.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(r.View,{style:[T.panel,o],children:[i,(0,n.jsx)(r.ScrollView,{style:y.default.flexOne,children:(0,n.jsxs)(r.View,{style:e,children:[this._getSpokenLanguagePicker(),this._getSubtitleLanguagePicker(),this._getTranslationVoicePicker()]})})]})},this._onSpokenLanguagePickerHandleMenuCommand=e=>{g.default.setCallTranslatorBotSpokenLanguageLocale(e)},this._onSubtitleLanguagePickerHandleMenuCommand=e=>{g.default.setCallTranslatorBotSubtitleLanguageLocale(e)}}static getHeaderText(){return p.getString("UserSettingsPanel.TranslationSettingsTitle")}_buildState(e,t){let i=p.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionFemale");switch(g.default.getCallTranslatorBotTranslationVoice()){case d.Gender.female.toLowerCase():i=p.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionFemale");break;case d.Gender.male.toLowerCase():i=p.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionMale")}return{enableSubtitlesForAllCalls:g.default.getEnableSubtitlesForAllCalls(),enableOnlyShowSubtitlesForOtherParticipants:g.default.getOnlyShowSubtitlesForOtherParticipants(),safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:h.default.horizontalPaddingStyle(l.HorizontalInsetZero),enableMessageTranslation:a.default.getS4LCMCFeatures().enableMessageTranslation,enableSpeechConsentFlow:a.default.getS4LCMCFeatures().enableSpeechConsentFlow,currentLanguage:g.default.getCallTranslatorBotSpokenLanguageLocale()||"en-US",currentVoice:i}}render(){return a.default.getS4LCMCFeaturesNoSubscription().enableNewLanguageSelectors?this._renderNewPanel():this._renderOldPanel()}_getHeaderText(e){return P.getHeaderText()}_getSpokenLanguagePicker(){return this._wrapElementWithDivider((0,n.jsx)(S.default,{showRowTitle:!0,showCaption:!0,onHandleMenuCommand:this._onSpokenLanguagePickerHandleMenuCommand}))}_getTranslationVoicePicker(){return this._wrapElementWithDivider((0,n.jsx)(C.default,{}))}_getSubtitleLanguagePicker(){if(!this.state.enableMessageTranslation)return this._wrapElementWithDivider((0,n.jsx)(f.default,{rowTitle:!0,caption:!0,onHandleMenuCommand:this._onSubtitleLanguagePickerHandleMenuCommand}))}_wrapElementWithDivider(e){return(0,n.jsxs)(r.View,{children:[e,(0,n.jsx)(c.default,{marginTop:10})]})}}t.default=P},361028:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(667294)),a=i(344175),s=i(537180),l=o.__importDefault(i(150343)),c=i(154235),d=i(641400),u=o.__importStar(i(704704)),p=o.__importDefault(i(341994)),g=o.__importDefault(i(740794)),h=i(812822),m=i(206315),S=o.__importStar(i(252443)),_=i(375258),f=o.__importDefault(i(827361)),y=o.__importDefault(i(970035)),C=i(262725),v=i(483753),b=o.__importDefault(i(660401)),T=i(526849),P=s.StyleSheet.create({notificationInnerContainer:{flexDirection:"row",alignSelf:"stretch"},notificationInnerButtonsContainer:{flex:1,flexDirection:"row",alignSelf:"center"},notificationInnerButtonsContainerMargin:{marginTop:8},notificationButton:{alignItems:"center"},notificationConsentContainer:{flex:1,flexDirection:"column",alignSelf:"stretch",padding:34,paddingTop:10,minHeight:void 0},consentTextBox:{alignSelf:"center"},flexDirectionColumn:{flexDirection:"column"},scrollView:{flex:1},bulletMargin:{marginRight:5}}),k="size160";t.default=r.memo((0,T.WithResub)((({featureName:e,hasConsent:t,navigation:i})=>{const o=()=>{(null==i?void 0:i.canGoBack())?null==i||i.goBack():g.default.navigateToSettingsGroup(h.SettingsGroup.Privacy,c.MainRootViewId)},{textSecondary:r,iconOnAccent:p}=(0,m.useSkypeTheme)().themeColors,T=u.getString(t?"CallTranscriptionNotifications.TruVoiceConsentSettingDisable":"CallTranscriptionNotifications.TruVoiceConsentSettingEnable"),A=u.getString(t?"CallTranscriptionNotifications.TruVoiceConsentSettingKeep":"CallTranscriptionNotifications.TruVoiceConsentSettingCancel"),I={closeButtonType:_.CloseButtonType.Back},w=i?null:(0,n.jsx)(_.SimplePanelHeader,{useTransparentBackground:!0,hideBottomBorder:!0,leftButton:I}),x=s.StyleSheet.flatten([P.notificationInnerContainer,P.consentTextBox]),N=s.StyleSheet.flatten([f.default.flexOne,f.default.textAlignCenter]);let D;return(0,n.jsxs)(a.Box,{style:f.default.flexOneRN,children:[w,(0,n.jsxs)(a.Box,{style:P.notificationConsentContainer,children:[(0,n.jsxs)(s.ScrollView,{style:s.StyleSheet.flatten([P.flexDirectionColumn,P.scrollView]),children:[(0,n.jsx)(a.Box,{style:x,children:(0,n.jsx)(y.default,{icon:d.SkypeIcon.MicrophoneSpark,size:d.IconSize.size20,color:p})}),(0,n.jsx)(a.Box,{style:x,paddingTop:k,children:(0,n.jsx)(C.Header,{size:c.HeaderSize.h4,style:N,children:u.getString("CallTranscriptionNotifications.TruVoiceFeatureNameAi",{featureName:e})})}),(0,n.jsx)(a.Box,{style:x,paddingTop:k,children:(0,n.jsx)(C.Caption,{style:N,children:u.getString("CallTranscriptionNotifications.TruVoiceConsentSettingText",{featureName:e})})}),(0,n.jsxs)(a.Box,{style:[P.notificationInnerContainer,P.consentTextBox,P.flexDirectionColumn],paddingTop:k,paddingLeft:D,paddingRight:D,children:[(0,n.jsxs)(a.Box,{flexDirection:"row",children:[(0,n.jsx)(C.Caption,{style:P.bulletMargin,children:"• "}),(0,n.jsx)(C.Caption,{style:f.default.flexOne,children:u.getString("CallTranscriptionNotifications.TruVoiceConsentSettingSubtext1",{featureName:e})})]}),(0,n.jsxs)(a.Box,{flexDirection:"row",children:[(0,n.jsx)(C.Caption,{style:P.bulletMargin,children:"• "}),(0,n.jsx)(C.Caption,{style:f.default.flexOne,children:u.getString("CallTranscriptionNotifications.TruVoiceConsentSettingSubtext2",{featureName:e})})]}),(0,n.jsxs)(a.Box,{flexDirection:"row",children:[(0,n.jsx)(C.Caption,{style:P.bulletMargin,children:"• "}),(0,n.jsx)(C.Caption,{style:f.default.flexOne,children:u.getString("CallTranscriptionNotifications.TruVoiceConsentSettingSubtext3",{featureName:e})})]})]}),(0,n.jsx)(a.Box,{style:x,paddingTop:k,color:"iconOnAccent",children:(0,n.jsx)(C.Caption,{style:N,children:(0,n.jsx)(v.AccessibleLink,{url:l.default.getS4LCMCFeaturesNoSubscription().skypeTranslation.privacyLink,textElement:C.Caption,children:u.getString("CallTranscriptionNotifications.TruVoiceConsentSettingLearnMore")})})})]}),(0,n.jsxs)(a.Box,{style:s.StyleSheet.flatten([P.notificationInnerContainer,P.flexDirectionColumn]),paddingTop:k,children:[(0,n.jsx)(b.default,{buttonStyle:c.SXButtonStyle.GradientFill,buttonSize:c.SXButtonSize.Small,backgroundStyle:{marginBottom:8},title:T,style:P.notificationButton,onPress:t?()=>{S.resetTruVoiceConsent(),S.truVoiceDisable(),o()}:()=>{S.giveTruVoiceConsent(),o()},children:T}),(0,n.jsx)(b.default,{buttonStyle:c.SXButtonStyle.ColorStroke,buttonSize:c.SXButtonSize.Small,buttonConfig:{textColor:r,borderColor:r},title:A,style:P.notificationButton,onPress:o,children:A})]})]})]})}),(e=>{const{translationFeatures:{truVoiceName:t}}=l.default.getS4LCMCFeatures();return Object.assign(Object.assign({},e),{featureName:t,hasConsent:p.default.getCallTranslatorTruVoiceConsent()})})))},213645:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=i(331654),a=i(808467),s=o.__importStar(i(704704)),l=o.__importDefault(i(196634)),c=o.__importDefault(i(341994)),d=i(477195),u=o.__importDefault(i(760989)),p=o.__importStar(i(85385)),g=i(815146),h=o.__importDefault(i(791384)),m=o.__importDefault(i(942724)),S=o.__importDefault(i(960282)),_=o.__importDefault(i(117475)),f=d.Gender.female;class y extends a.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._filter=e=>e===d.Gender.male.toLowerCase()?s.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionMale"):e===d.Gender.female.toLowerCase()?s.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionFemale"):"",this._setVoice=e=>{e&&c.default.setCallTranslatorBotTranslationVoice(e),h.default.maybeAnnounceForAccessibility(s.getString("ListSearchPickerPanel.ItemSelectedAnnouncement",{item:this._filter(e)}),1e3)},this._goBackUtil=()=>{const e=u.default.newCauseId();p.log(g.LogTraceArea.Navigation,"VoicePickerPanel._goBackUtil,  causeId: "+e),this._goBack(e)}}static getHeaderText(){return s.getString("LanguageAndTranslationSettingsPanel.TranslationVoiceLabel")}_buildState(e,t){const i=c.default.getCallTranslatorBotTranslationVoice()||f,o=[];return Object.keys(d.Gender).forEach(((e,t)=>{o.push({item:null,label:this._filter(e),key:e,index:t,separators:{highlight:()=>{},unhighlight:()=>{},updateProps:(e,t)=>{}}})})),{items:o,initialItemKey:i,isPortrait:S.default.getDeviceOrientation(this.context.rootViewId)===r.DeviceOrientation.Portrait,statusBarPadding:_.default.statusBarPadding(),isSmallDevice:S.default.isSmallDevice(this.context.rootViewId),isMobileScreenSize:S.default.isMobileScreenSize(this.context.rootViewId),isUsingStackNavigationContext:m.default.isUsingStackNavigationContext()}}render(){return(0,n.jsx)(l.default,{action:this._setVoice,items:this.state.items,initialItemKey:this.state.initialItemKey.toLowerCase(),initialItemIndex:0,headerText:this._getHeaderText(),goBack:this._goBackUtil,isAloneInNavStack:this.props.route.params.isAloneInNavStack,searchEnabled:!1,isPortrait:this.state.isPortrait,statusBarPadding:this.state.statusBarPadding,isSmallDevice:this.state.isSmallDevice,isMobileScreenSize:this.state.isMobileScreenSize,isUsingStackNavigationContext:this.state.isUsingStackNavigationContext})}_getHeaderText(){return y.getHeaderText()}}t.default=y},927164:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderSearch=t.CollapsibleHeaderSearch=void 0;const o=i(197582);var n=i(385855);Object.defineProperty(t,"CollapsibleHeaderSearch",{enumerable:!0,get:function(){return o.__importDefault(n).default}});var r=i(937771);Object.defineProperty(t,"HeaderSearch",{enumerable:!0,get:function(){return o.__importDefault(r).default}})},516914:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(192478),r=o.__importDefault(i(663011));t.default=(0,n.forNavigation)(r.default)},369704:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(192478),r=o.__importDefault(i(313065));t.default=(0,n.forNavigation)(r.default)},186597:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(192478),r=o.__importDefault(i(276654));t.default=(0,n.forNavigation)(r.default)},32816:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(331654),s=i(380157),l=o.__importStar(i(516778)),c=o.__importStar(i(317588)),d=o.__importStar(i(397691)),u=o.__importDefault(i(633958)),p=i(154235),g=i(413686),h=i(815146),m=o.__importDefault(i(326544)),S=o.__importDefault(i(560099)),_=o.__importStar(i(85385)),f=i(26703),y=o.__importStar(i(704704)),C=o.__importDefault(i(788980)),v=o.__importDefault(i(740794)),b=o.__importDefault(i(921691)),T=o.__importDefault(i(672481)),P=i(473711),k=o.__importDefault(i(399564)),A=i(740401),I=o.__importDefault(i(327400)),w=o.__importDefault(i(251733)),x=o.__importStar(i(960282)),N=i(967338),D=o.__importDefault(i(799585)),M=i(16549),L=o.__importDefault(i(20758)),R=i(641400),E=o.__importStar(i(179582)),B=i(331079),O=o.__importDefault(i(760989)),F=o.__importStar(i(972830)),V=i(192478),U=i(843890),j=i(571059),H=o.__importDefault(i(150343)),W=o.__importDefault(i(942724)),z=(0,f.lazyProperties)({fillFlex:()=>l.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center",backgroundColor:M.Color.black}),panel:()=>l.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center"}),imageContainer:()=>l.Styles.createViewStyle({flex:1,alignSelf:"stretch",justifyContent:"flex-end"}),imageContainerCompact:()=>l.Styles.createViewStyle({justifyContent:"flex-start"}),imageContainerV2:()=>l.Styles.createViewStyle({justifyContent:"flex-start"}),image:()=>l.Styles.createViewStyle({borderTopLeftRadius:20,borderTopRightRadius:20,width:300,height:356,backgroundColor:M.Color.transparent,alignSelf:"center",justifyContent:"center",borderColor:M.Color.transparent,borderWidth:0,paddingTop:20}),imageSmall:()=>l.Styles.createViewStyle({width:280,height:320,alignSelf:"center",justifyContent:"flex-start"}),permissionRow:()=>l.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",alignSelf:"stretch",paddingLeft:10,paddingRight:20,marginVertical:10}),fakeText:()=>l.Styles.createViewStyle({height:6,borderRadius:3,flex:1,backgroundColor:M.Color.gray200,marginHorizontal:10}),fakeTextDark:()=>l.Styles.createViewStyle({backgroundColor:M.Color.gray300}),descriptionText:()=>l.Styles.createTextStyle({marginHorizontal:50,textAlign:"center",lineHeight:21,color:M.Color.black}),darkThemeDescription:()=>l.Styles.createTextStyle({color:M.Color.white}),imageNew:()=>l.Styles.createImageStyle({alignSelf:"center",borderColor:M.Color.transparent,borderWidth:0,width:200,height:198}),imageContainerCentered:()=>l.Styles.createViewStyle({justifyContent:"center",flexGrow:0,marginVertical:64}),imageContainerCenteredSmall:()=>l.Styles.createViewStyle({justifyContent:"center",flexGrow:0,marginTop:30,marginBottom:38}),textLarge:()=>l.Styles.createTextStyle({fontSize:L.default.fontSize.size18})});class G extends V.BaseNavigationView{constructor(){super(...arguments),this._orientationLockKey=r.uniqueId("PromptPermissionDialog"),this._renderIllustrationContent=e=>{const t=(0,n.jsx)(j.IllustrationScreenHeader,{headerText:this._getHeaderText(),bodyText:e});return(0,n.jsx)(j.IllustrationScreen,{topSlot:t,emoticon:this.state.emoticonForOnboardingPermissionsTab})},this._onContentLayout=e=>{this.state.availableHeight!==e.height&&this.setState({availableHeight:e.height})},this._navigateToNext=()=>{if(this._sendTelemetryEvent(g.DialogNavExit.Submit),this.props.route.params.scenarioNavigator)return _.log(h.LogTraceArea.Onboarding,"PromptPermissionDialog navigateToNext - with scenario navigator"),void this.props.route.params.scenarioNavigator.goNext();_.log(h.LogTraceArea.Onboarding,"PromptPermissionDialog navigateToNext - no scenario navigator"),v.default.navigateToRecentsTab()},this._goBack=e=>(this._sendTelemetryEvent(g.DialogNavExit.Close),this.props.route.params.scenarioNavigator?(_.log(h.LogTraceArea.Onboarding,"PromptPermissionDialog goBack - with scenario navigator, causeId: "+e),this.props.route.params.scenarioNavigator.goBack(),!0):(_.log(h.LogTraceArea.Onboarding,"PromptPermissionDialog goBack - no scenario navigator, causeId: "+e),super._goBack(e))),this._onCloseButtonClicked=()=>{const e=O.default.newCauseId();_.log(h.LogTraceArea.Onboarding,"PromptPermissionDialog._onCloseButtonClicked,  causeId: "+e),this._goBack(e)},this._promptForPermissions=()=>{const e=w.default.systemPromptHasNotBeenDisplayed(B.PermissionType.Notifications),t=w.default.systemPromptHasNotBeenDisplayed(B.PermissionType.Microphone),i=w.default.systemPromptHasNotBeenDisplayed(B.PermissionType.Camera),o=U.UICapabilities.androidReadPhoneStatePermissionRequired()&&w.default.systemPromptHasNotBeenDisplayed(B.PermissionType.ReadPhoneState);d.Resolved().then((()=>{if(t)return this._requestPermission(B.PermissionType.Microphone)})).then((()=>{if(i&&!this.state.enableInContextCameraPermission)return this._requestPermission(B.PermissionType.Camera)})).then((()=>{if(o)return this._requestPermission(B.PermissionType.ReadPhoneState)})).then((()=>{if(e||!m.default.isSetupWizardCompleted(!1))return this._telemetryEvent&&this._telemetryEvent.markPermissionRequested(B.PermissionType.Notifications),b.default.initNotificationsAndRequestPermissions().then((e=>{this._telemetryEvent&&this._telemetryEvent.markPermissionGranted(B.PermissionType.Notifications,e===s.PermissionStatus.Granted),_.log(h.LogTraceArea.Onboarding,"PromptPermissionDialog notification permission: "+s.PermissionStatus[e]),w.default.setPermissionStatus(B.PermissionType.Notifications,e,e,s.PermissionOrigin.OnboardingPromptDialog)}))}),(()=>{this._telemetryEvent&&this._telemetryEvent.markNotificationPermissionRequestFailed(),_.log(h.LogTraceArea.Onboarding,"Notification permission request failed")})).finally((()=>{this._navigateToNext()}))}}_buildState(e,t){const i=this._getRootViewId(),o={animationIsPending:I.default.isAnimationPending(),deviceSize:x.default.deviceSize(i),showEmptyStateIllustration:W.default.isMobileEnvironmentWithStackNavigation(),emoticonForOnboardingPermissionsTab:H.default.getS4LMessagingFeatures().emoticonForOnboardingPermissionsTab};if(t){const t=(0,A.getOnboardingFeatures)(e.route.params.scenarioNavigator);o.enableInContextCameraPermission=t.enableInContextCameraPermission,o.learnMoreLink=t.features.userProfileScreen.learnMoreLink;const i=w.default.systemPromptHasNotBeenDisplayed(B.PermissionType.Notifications),n=w.default.systemPromptHasNotBeenDisplayed(B.PermissionType.Microphone);let r=!1;o.enableInContextCameraPermission||(r=w.default.systemPromptHasNotBeenDisplayed(B.PermissionType.Camera)),o.showUIPrompts=e.route.params.showUIPrompts&&(i||n||r),o.availableHeight=0,this._setupTelemetryEvent(e,i,n,r)}return o}componentDidMount(){super.componentDidMount(),C.default.addOrUpdateOrientationLock(this._orientationLockKey,a.DeviceOrientation.Portrait),this.state.animationIsPending||this.state.showUIPrompts||this._promptForPermissions()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.animationIsPending||!t.animationIsPending||this.state.showUIPrompts||this._promptForPermissions()}componentWillUnmount(){super.componentWillUnmount(),C.default.removeOrientationLock(this._orientationLockKey),this._sendTelemetryEvent(g.DialogNavExit.CancelOrBack)}render(){if(this.state.showUIPrompts){const e=this.state.deviceSize===x.DeviceSize.Small,t=this.state.deviceSize===x.DeviceSize.Large,i=e?320:356,o=[z.imageContainer,this.state.availableHeight<i?z.imageContainerCompact:void 0,z.imageContainerV2],r={imageSource:c.Collection.ONBOARDING_PERMISSIONS_VARIANT_DESKTOP,imageStyle:[z.imageNew]},a=[z.imageContainer,z.imageContainerCentered,z.imageContainerV2,e?z.imageContainerCenteredSmall:void 0],s=(0,n.jsx)(S.default,{style:a,children:(0,n.jsx)(l.Image,{style:r.imageStyle,resizeMode:"contain",source:r.imageSource},"imageHeaderAndDesc")}),d=[z.descriptionText,t?z.textLarge:void 0];F.isUsingDarkTheme(this._getContext())&&d.push(z.darkThemeDescription);const h=U.UICapabilities.androidReadPhoneStatePermissionRequired()?y.getString("PromptPermissionPanel.DescriptionText3"):y.getString("PromptPermissionPanel.DescriptionText2"),m=this.state.showEmptyStateIllustration?this._renderIllustrationContent(h):(0,n.jsx)(l.View,{style:z.panel,onLayout:this._onContentLayout,children:(0,n.jsxs)(l.View,{style:o,children:[s,(0,n.jsx)(l.Text,{style:d,children:h})]})}),_=this.props.route.params.origin===g.DialogNavOrigin.Onboarding?P.OnboardingDialogWizardNextButtonVariant.TextAndIcon:P.OnboardingDialogWizardNextButtonVariant.IconOnly;let f=this.props.route.params.origin===g.DialogNavOrigin.Onboarding?y.getString("Onboarding.WizardGenericStepContinueButton"):void 0;return this._isLastStepInSequence()&&(f=y.getString("PromptPermissionPanel.FinishButton")),(0,n.jsx)(u.default,{goBack:this._goBack,children:(0,n.jsx)(T.default,{headerText:this.state.showEmptyStateIllustration?"":this._getHeaderText(),hideCloseButton:this.props.route.params.hideCloseButton,hideSkipButton:!0,onNextButtonClicked:this._promptForPermissions,onSkipButtonClicked:this._navigateToNext,closeButtonIcon:E.backIcon(),nextButtonVariant:_,nextButtonTitle:f,disablePresentationAnimation:!0,onCloseButtonClicked:this._onCloseButtonClicked,showTopButtonsRowEvenIfEmpty:!this.state.showEmptyStateIllustration,nextButtonSize:p.SXButtonSize.Small,nextButtonIcon:R.SkypeIcon.Blank,isLargeDevice:t,enableDesignV2:!0,children:m})})}return(0,n.jsx)(u.default,{goBack:this._goBack,children:(0,n.jsx)(l.View,{style:z.fillFlex,children:(0,n.jsx)(D.default,{size:p.SXActivityIndicatorSize.Large,tintColor:M.Color.white})})})}_setupTelemetryEvent(e,t,i,o){let n,r;const a=(0,A.getTypedScenarioNavigator)(e.route.params.scenarioNavigator);a&&(n=a.getCurrentStep(),r=a.getTotalNumberOfSteps()),this._telemetryEvent=new N.PromptPermissionDialogEvent(e.route.params.origin,N.PromptPermissionDialogVersion.V1,n,r),this._telemetryEvent.markWhetherSystemPromptsHaveAlreadyBeenDisplayed(t,i,o)}_isLastStepInSequence(){const e=(0,A.getTypedScenarioNavigator)(this.props.route.params.scenarioNavigator);return!!e&&e.getCurrentStep()===e.getTotalNumberOfSteps()}_componentId(){return"PromptPermissionsDialog"}_requestPermission(e){return this._telemetryEvent&&this._telemetryEvent.markPermissionRequested(e),w.default.requestPermission(e,B.PermissionPromptOptions.SkipPrePrompt|B.PermissionPromptOptions.PromptAgainIfDenied,s.PermissionOrigin.OnboardingPromptDialog).then((t=>(this._telemetryEvent&&this._telemetryEvent.markPermissionGranted(e,t===s.PermissionStatus.Granted),d.Resolved())))}_sendTelemetryEvent(e){this._telemetryEvent&&(this._telemetryEvent.setExit(e),k.default.track(this._telemetryEvent),this._telemetryEvent=void 0)}_getHeaderText(){return y.getString("PromptPermissionPanel.HeaderText2")}}t.default=G},847811:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(516778)),a=o.__importDefault(i(395298)),s=o.__importDefault(i(179075)),l=o.__importDefault(i(150343)),c=i(808467),d=o.__importStar(i(361096)),u=i(815146),p=o.__importStar(i(971988)),g=o.__importStar(i(172134)),h=o.__importStar(i(44717)),m=o.__importDefault(i(555436)),S=i(375258),_=o.__importDefault(i(615364)),f=i(154235),y=o.__importStar(i(85385)),C=i(26703),v=(o.__importStar(i(50350)),o.__importStar(i(704704))),b=i(154235),T=o.__importDefault(i(740794)),P=o.__importDefault(i(942724)),k=o.__importDefault(i(20758)),A=o.__importDefault(i(121537)),I=o.__importDefault(i(117475)),w=o.__importDefault(i(791384)),x=i(375258),N=o.__importDefault(i(827361)),D=i(483877),M=o.__importDefault(i(705676)),L=o.__importDefault(i(685734)),R=o.__importDefault(i(760989)),E=o.__importDefault(i(377556)),B=o.__importStar(i(972830)),O=i(844086),F=i(262725),V=o.__importDefault(i(340724)),U=i(483753),j=i(717413),H=i(216678),W=i(641400),z=o.__importDefault(i(187250)),G=o.__importDefault(i(363091)),K=u.ReportCategory.Spam,q=(0,C.lazyProperties)({buttonStyle:()=>r.Styles.createTextStyle({borderTopWidth:1}),buttonTextStyle:()=>r.Styles.createTextStyle({paddingVertical:16,textAlign:"center"}),container:()=>r.Styles.createViewStyle({flex:1,flexDirection:"column"}),footerContainer:()=>r.Styles.createViewStyle({position:"absolute",bottom:0,left:0,right:0}),innerContainer:()=>r.Styles.createViewStyle({paddingHorizontal:30,paddingVertical:10}),reportReasonText:()=>r.Styles.createTextStyle({flex:-1,paddingRight:10}),selectReasonText:()=>r.Styles.createTextStyle({alignSelf:"center",marginVertical:16,font:k.default.font.uiDisplayBold}),scrollContainer:()=>r.Styles.createViewStyle({marginBottom:130}),toggleContainer:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",alignSelf:"stretch"}),toggleSection:()=>r.Styles.createViewStyle({paddingTop:20,paddingBottom:20})});class Q extends c.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._showReportAnonymouslyOption=()=>this.state.enableReportAnonymously&&this.state.reportConcern,this._generateReportUrl=()=>{var e;const{reportInfo:t}=this.props.route.params,{content:i}=t,o=this.state.isReportingAnonymously?"anonymous_report":G.default.getSkypeId();return this.state.reportExternallyPath.replace("%reportContext%",this.state.contextName).replace("%reporterMri%",o).replace("%spammerMri%",t.mriToBlock).replace("%messageRelatedDetails%",null!==(e=this._getMessageRelatedDetails(i))&&void 0!==e?e:"")},this._getMessageRelatedDetails=e=>{var t;if("message"===this.state.contextName&&e)return this.state.reportExternallyMessageDetailsPath.replace("%messagesHash%",null===(t=null==e?void 0:e.properties)||void 0===t?void 0:t.messagesHash).replace("%conversationId%",null==e?void 0:e.conversationId).replace("%messageTime%",null==e?void 0:e.composeTime.toString())},this._getReportUrlSection=()=>{if(!this.state.enableReportExternallyWithUrl)return;const e=this._generateReportUrl();return(0,n.jsx)(D.WideButton,{icon:W.SkypeIcon.Copy,label:this._getReportWithUrlButtonLabel(),labelBottom:e,labelBottomSingleLine:!0,onPressed:t=>{z.default.shareToClipboard(e)},hideArrow:!0},"copyReportUrlToClipboard")},this._getReportWithUrlButtonLabel=()=>this.state.hasCopiedReportUrlToClipboard?v.getString("BlockUnblockDialog.ShareCopiedUrlButtonLabel"):v.getString("BlockUnblockDialog.CopyReportUrlButtonLabel"),this._getActionLabel=()=>this.state.selectedReason===u.ReportCategory.Infringement||this.state.selectedReason===u.ReportCategory.NonConsensualIntimateImagery?this.state.blockContact?v.getString("ConfirmationDialog.BlockAndReportExternallyLabel"):v.getString("ConfirmationDialog.ReportExternallyLabel"):this.state.reportConcern&&this.state.blockContact?v.getString("ConfirmationDialog.BlockAndReportLabel"):this.props.route.params.reportInfo.isBlockingDialog?v.getString("ConfirmationDialog.BlockLabel"):v.getString("ConfirmationDialog.ReportLabel"),this._performAction=()=>{this.state.blockContact?this._blockIfNeeded():this._report()},this._cancelReport=()=>{this.props.route.params.afterReportActions&&this.props.route.params.afterReportActions.onCancelPress&&this.props.route.params.afterReportActions.onCancelPress(),this._closeModal()},this._closeModal=()=>{T.default.closeReportConcernModal(b.MainRootViewId,this._getContext())},this._onCloseButtonRef=e=>{this._closeButtonRef=e||void 0},this._updateReportReason=e=>{this.setState({selectedReason:e})},this._updateReportDetails=e=>{this.setState({reportDetails:e})},this._onLinkPress=()=>{0},this._report=()=>{switch(this.state.reportContext){case u.ReportContextListOptions.Message:case u.ReportContextListOptions.PictureMessage:case u.ReportContextListOptions.AudioMessage:case u.ReportContextListOptions.FileMessage:case u.ReportContextListOptions.VideoMessage:case u.ReportContextListOptions.BingImage:case u.ReportContextListOptions.ImageCreator:this._reportMessage();break;case u.ReportContextListOptions.ProfilePicture:this._reportAbuse()}},this._reportExternallyWithBrowser=()=>{r.Linking.openUrl(this._getLinkToReportExternally()).then((()=>{this._showConfirmationAfterSendingReport(),this._hideReportedMessage(this.props.route.params.reportInfo.content)})).catch((()=>{this._showInfoAboutFailWithSendingTheReport()}))},this._getLinkToReportExternally=e=>{switch(e||this.state.selectedReason){case u.ReportCategory.NonConsensualIntimateImagery:return this.state.linkToReportRevengePorn;case u.ReportCategory.Infringement:default:return this.state.linkToReportInfringement}},this._blockIfNeeded=()=>{this.state.blockContact&&(this.props.route.params.reportInfo.groupConversationId?this._blockGroupConversation():this._blockContact())},this._blockContact=()=>{y.log(u.LogTraceArea.Navigation,"BlockUnblockDialog._blockContact, causeId: "+this.state.causeId),this.state.isAgent&&y.track(new d.BotContactInteraction(u.BotsInteraction.BlockBot,h.stripMriNamespace(this.props.route.params.reportInfo.mriToBlock),this.state.agentDisplayName)),this.state.userDisplayName&&w.default.maybeAnnounceForAccessibility(v.getString("ConversationsListItem.BlockContactAccessibilityAnnouncement",{displayName:this.state.userDisplayName}),2500),m.default.blockContact(this.props.route.params.reportInfo.mriToBlock,this.state.contextName,!!this.state.isReportingAnonymously,this.state.reportConcern?this.state.selectedReason:void 0,this.props.route.params.afterReportActions?this.props.route.params.afterReportActions.declineInvite:void 0,this.state.reportDetails,this.props.route.params.source),(0,j.isMagicBotConversation)(this.props.route.params.reportInfo.mriToBlock)&&H.AIConsentService.revokeConsent(),this.props.route.params.afterReportActions&&this.props.route.params.afterReportActions.onBlocked&&this.props.route.params.afterReportActions.onBlocked(),this.props.route.params.afterReportActions&&this.props.route.params.afterReportActions.navigateAway&&(this.props.route.params.afterReportActions.declineInvite?this._navigateAfterDecline():T.default.navigateAfterBlock(this.props.route.params.reportInfo.mriToBlock,this.state.causeId,this._getContext())),this._closeModal()},this._blockGroupConversation=()=>{this.props.route.params.reportInfo.groupConversationId&&(m.default.blockGroupConversation(this.props.route.params.reportInfo.groupConversationId,this.props.route.params.reportInfo.mriToBlock,this.state.contextName,this.state.selectedReason,!!this.state.isReportingAnonymously),this._navigateAfterDecline()),this._closeModal()},this._onToggleBlockReport=(e,t)=>{this.props.route.params.reportInfo.isBlockingDialog?this.setState({reportConcern:t}):this.setState({blockContact:t})},this._onToggleReportAnonymously=(e,t)=>{this.setState({isReportingAnonymously:t})}}_buildState(e,t){var i;const{reportInfo:o}=e.route.params,n=o.groupConversationId?void 0:L.default.getDisplayableUserByMri(o.mriToBlock),r=o.reportContext?o.reportContext:o.content?this._getReportContextForMessage(o.content):void 0,a=h.isAgent(o.mriToBlock),c=a?s.default.getAgentDescriptionForMri(o.mriToBlock):void 0,d=o.conversationId&&h.isOneOnOneConversation(o.conversationId),u=l.default.getS4LMessagingFeatures(),p=l.default.getConfigSettings(),g={linkToServicesAgreement:p.skypeGoLinks.servicesAgreement,linkToReportInfringement:p.externalReportingUrl.infringement,linkToReportRevengePorn:p.externalReportingUrl.revengePorn,reportContext:r,contextName:this._getReportContextOptionValue(r),isAgent:a,agentDisplayName:c?c.displayName:"",userDisplayName:n?n.getDisplayName():void 0,isUsingStackNavigationContext:P.default.isUsingStackNavigationContext(),isAbleToHideMessage:u.hideReportedMessages,safeAreaHorizontalInsets:I.default.horizontalInsets(f.HorizontalInsetDefault),enableReportAnonymously:u.enableReportAnonymously&&!d,enableReportExternallyWithUrl:u.enableReportExternallyWithUrl,reportExternallyPath:u.reportExternallyPath,reportExternallyMessageDetailsPath:u.reportExternallyMessageDetailsPath,showSecondActionToggle:null===(i=e.route.params.reportInfo.showSecondActionToggle)||void 0===i||i};return t&&(g.causeId=R.default.newCauseId(),g.blockContact=!!o.isBlockingDialog,g.reportConcern=!o.isBlockingDialog,g.selectedReason=K,g.reportDetails=""),g}_getHeaderText(e){return Q.getHeaderText()}static getHeaderText(){return v.getString("BlockUnblockDialog.BlockBotConfirmationContent")}render(){const e=this._getReportDialogConfirmationTitle();let t;const i=[N.default.flexOne,q.innerContainer];E.default.hasHorizontalSafeAreas(this.state.safeAreaHorizontalInsets)&&(t=E.default.horizontalPaddingStyle(this.state.safeAreaHorizontalInsets),i.push(t));const{dividerColor:o}=B.themeColors(this._getContext(),this.props.route.params.colorThemeOverride),a=r.Styles.combine(q.buttonStyle,{borderColor:o}),s=(0,n.jsx)(D.WideButton,{label:v.getString("Global.CancelLabel"),hideArrow:!0,onPressed:this._cancelReport,labelStyle:q.buttonTextStyle,style:a}),l=(0,n.jsx)(D.WideButton,{label:this._getActionLabel(),hideArrow:!0,onPressed:this._performAction,labelStyle:q.buttonTextStyle}),{primaryBackgroundColorStyle:c}=B.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),d=(0,n.jsxs)(r.View,{style:this._showReportAnonymouslyOption()?void 0:q.footerContainer,children:[s,l]}),u=(0,n.jsxs)(r.View,{style:q.toggleSection,children:[this._getSecondActionToggle(),this._getReportAnonymouslyToggle()]}),p=r.Styles.combine(q.container,c),g=r.Styles.combine(N.default.flexOne,this._showReportAnonymouslyOption()?void 0:q.scrollContainer);return(0,n.jsxs)(O.KeyboardAvoidingView,{style:p,children:[(0,n.jsx)(x.SimplePanelHeader,{panelName:e,leftButton:{closeButtonType:S.CloseButtonType.Close,setButtonRef:this._onCloseButtonRef},useCenteredControls:!0}),(0,n.jsxs)(r.ScrollView,{style:g,keyboardShouldPersistTaps:!0,children:[(0,n.jsxs)(r.View,{style:i,children:[this._showReportAnonymouslyOption()?void 0:u,this._getLearnMoreNote(),this._getBlockReasons(),this._showReportAnonymouslyOption()?u:void 0,this._getReportUrlSection()]}),this._showReportAnonymouslyOption()?d:void 0]}),this._showReportAnonymouslyOption()?void 0:d]})}componentDidMount(){super.componentDidMount(),this._closeButtonRef&&this._closeButtonRef.requestFocus()}_getReportContextForMessage(e){switch(p.getMessageTypeGroup(e)){case p.MessageTypeGroups.UriFile:return u.ReportContextListOptions.FileMessage;case p.MessageTypeGroups.Picture:return u.ReportContextListOptions.PictureMessage;case p.MessageTypeGroups.Audio:return u.ReportContextListOptions.AudioMessage;case p.MessageTypeGroups.Video:return u.ReportContextListOptions.VideoMessage;case p.MessageTypeGroups.MediaAlbum:return u.ReportContextListOptions.BingImage;default:return u.ReportContextListOptions.Message}}_getReportContextOptionValue(e){switch(e){case u.ReportContextListOptions.Message:case u.ReportContextListOptions.PictureMessage:case u.ReportContextListOptions.AudioMessage:case u.ReportContextListOptions.VideoMessage:case u.ReportContextListOptions.FileMessage:case u.ReportContextListOptions.BingImage:case u.ReportContextListOptions.ImageCreator:return"message";case u.ReportContextListOptions.ProfilePicture:return"profile_image";case u.ReportContextListOptions.ContactRequest:return"contact_request";case u.ReportContextListOptions.DeleteContact:return"delete_contact";case u.ReportContextListOptions.BlockContact:return"block_contact";case u.ReportContextListOptions.Profile:return"profile";case u.ReportContextListOptions.SearchReportContextListOptions:return"search";default:return""}}_getReportDialogConfirmationTitle(){if(this.props.route.params.reportInfo.isBlockingDialog)return this.state.isAgent?v.getString("BlockUnblockDialog.BlockBotConfirmationContent"):v.getString("UserProfilePanel.BlockContactConfirmationContent");if(this.state.isAgent&&this.state.reportContext!==u.ReportContextListOptions.ImageCreator)return v.getString("BlockUnblockDialog.BlockBotConfirmationContent");switch(this.state.reportContext){case u.ReportContextListOptions.Message:return v.getString("BlockUnblockDialog.ReportMessageDialogTitle");case u.ReportContextListOptions.ProfilePicture:case u.ReportContextListOptions.PictureMessage:case u.ReportContextListOptions.BingImage:case u.ReportContextListOptions.ImageCreator:return v.getString("BlockUnblockDialog.ReportPictureDialogTitle");case u.ReportContextListOptions.AudioMessage:return v.getString("BlockUnblockDialog.ReportAudioDialogTitle");case u.ReportContextListOptions.VideoMessage:return v.getString("BlockUnblockDialog.ReportVideoDialogTitle");case u.ReportContextListOptions.FileMessage:return v.getString("BlockUnblockDialog.ReportFileDialogTitle");default:return v.getString("UserProfilePanel.BlockContactConfirmationContent")}}_getSecondActionToggle(){if(!this.state.showSecondActionToggle)return;const{primaryTextColor:e}=B.themeColors(this._getContext(),this.props.route.params.colorThemeOverride),t=r.Styles.createTextStyle({color:e},!1),i=r.Styles.combine(q.reportReasonText,t);return(0,n.jsx)(a.default,{style:q.toggleContainer,isOn:this.props.route.params.reportInfo.isBlockingDialog?this.state.reportConcern:this.state.blockContact,accessibilityLabel:this._getToggleQuestion(),onChange:this._onToggleBlockReport,children:(0,n.jsx)(r.Text,{style:i,children:this._getToggleQuestion()})})}_getReportAnonymouslyToggle(){if(!this._showReportAnonymouslyOption())return;const{primaryTextColor:e}=B.themeColors(this._getContext(),this.props.route.params.colorThemeOverride),t=r.Styles.createTextStyle({color:e},!1),i=v.getString("BlockUnblockDialog.ReportAnonymouslyQuestion"),o=r.Styles.combine(q.reportReasonText,t);return(0,n.jsx)(a.default,{style:q.toggleContainer,isOn:this.state.isReportingAnonymously,accessibilityLabel:i,onChange:this._onToggleReportAnonymously,children:(0,n.jsx)(r.Text,{style:o,children:i})})}_getBlockReasons(){return this.props.route.params.reportInfo.isBlockingDialog&&this.state.reportConcern||this.state.reportConcern?(0,n.jsx)(A.default,{reasonSelected:this._updateReportReason,onChangeDetails:this._updateReportDetails,modalHorizontalPadding:30,isMagicBotConversation:(0,j.isMagicBotConversation)(this.props.route.params.reportInfo.mriToBlock),isPictureMessage:this.state.reportContext===u.ReportContextListOptions.PictureMessage||this.state.reportContext===u.ReportContextListOptions.BingImage||this.state.reportContext===u.ReportContextListOptions.ImageCreator}):void 0}_getLearnMoreNote(){const e=this._getLearnMoreLink(),t=v.getParts("BlockUnblockDialog.TellUsYourConcernInfo",{learnMoreLink:e}),i=V.default.linkAccessibilityInfo(v.getString("BlockUnblockDialog.PersonalInformationDisplayText",{learnMoreLink:v.getString("BlockUnblockDialog.ConcernTermsOfServiceLearnMoreLink")}),!0);return(0,n.jsx)(r.View,{accessibilityLabel:null==i?void 0:i.label,accessibilityTraits:null==i?void 0:i.traits,importantForAccessibility:void 0,onPress:this._onLinkPress,style:q.reportReasonText,children:(0,n.jsx)(F.Caption,{style:N.default.flexOne,children:t})})}_getLearnMoreLink(){return(0,n.jsx)(U.Link,{url:this.state.linkToServicesAgreement,textElement:F.Caption,title:v.getString("BlockUnblockDialog.ConcernTermsOfServiceLearnMoreLink"),correctiveMargin:-3,children:v.getString("BlockUnblockDialog.ConcernTermsOfServiceLearnMoreLink")},"learnMore")}_reportAbuse(){y.log(u.LogTraceArea.Navigation,"ReportDialog._reportAbuse, causeId: "+this.state.causeId),(this._isReportedExternally()||this.state.isReportingAnonymously)&&this._blockIfNeeded(),this._isReportedExternally()?this._reportExternallyWithBrowser():this._reportAbuseToPCS(),this._closeModal()}_reportMessage(){y.log(u.LogTraceArea.Navigation,"ReportDialog._reportMessage, causeId: "+this.state.causeId),this.props.route.params.reportInfo.content&&((this._isReportedExternally()||this.state.isReportingAnonymously)&&this._blockIfNeeded(),this._isReportedExternally()?this._reportExternallyWithBrowser():this._reportMessageToPCS(),this._closeModal())}_reportMessageToPCS(){if(!this.props.route.params.reportInfo.content)return;const e=this.props.route.params.reportInfo.content;m.default.reportMessage(this.props.route.params.reportInfo.mriToBlock,this.state.selectedReason,!!this.state.blockContact,this.props.route.params.reportInfo.content,this.state.contextName,!!this.state.isReportingAnonymously,this.state.reportDetails).then((()=>{this._hideReportedMessage(e),this._showConfirmationAfterSendingReport(),this.state.blockContact&&T.default.navigateAfterBlock(this.props.route.params.reportInfo.mriToBlock,this.state.causeId,void 0)})).catch((()=>{this._showInfoAboutFailWithSendingTheReport()}))}_reportAbuseToPCS(){m.default.reportAbuse(this.props.route.params.reportInfo.mriToBlock,this.state.selectedReason,!!this.state.blockContact,this.state.contextName,!!this.state.isReportingAnonymously,this.state.reportDetails).then((()=>{this._showConfirmationAfterSendingReport(),this.state.blockContact&&T.default.navigateAfterBlock(this.props.route.params.reportInfo.mriToBlock,this.state.causeId,void 0)})).catch((()=>{this._showInfoAboutFailWithSendingTheReport()}))}_isReportedExternally(){return this.state.selectedReason===u.ReportCategory.Infringement||this.state.selectedReason===u.ReportCategory.NonConsensualIntimateImagery}_showConfirmationAfterSendingReport(){this._isReportedExternally()?M.default.scheduleTextMessage(v.getString("ConfirmationDialog.ReportExternallyMessage")):M.default.scheduleTextMessage(v.getString("ConfirmationDialog.ReportSuccessMessage"))}_showInfoAboutFailWithSendingTheReport(){M.default.scheduleTextMessage(v.getString("ConfirmationDialog.ReportFailMessage"))}_hideReportedMessage(e){e&&this.state.isAbleToHideMessage&&g.markMessageReported(e,!0)}_navigateAfterDecline(){const e=R.default.newCauseId();y.log(u.LogTraceArea.Navigation,"ReportConcernModal._navigateAfterDecline, causeId: "+e),this.state.isUsingStackNavigationContext?T.default.navigateAfterDecliningContactRequest(e,this._getContext()):T.default.navigateToConversation({convId:(0,_.default)().getMostRecentJoinedConversationId(this.props.route.params.reportInfo.mriToBlock),origin:u.NavigationConversationOrigin.CompositeNavRedirectToRecentConv,causeId:e})}_getToggleQuestion(){return this.props.route.params.reportInfo.isBlockingDialog?this.state.isAgent?v.getString("BlockUnblockDialog.ReportAbuseTitleForBot"):v.getString("BlockUnblockDialog.ReportAbuseTitleForUser"):this.state.isAgent?v.getString("BlockUnblockDialog.BlockBotConfirmationContent"):v.getString("UserProfilePanel.BlockContactConfirmationContent")}}t.default=Q},224548:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({route:{params:{withHeader:e}}}){const{rootViewId:t}=(0,g.useCommonContext)(),i=(0,r.useCallback)((()=>{p.default.navigateToSettingsGroup(d.SettingsGroup.ThemeSettings,t)}),[t]);return(0,n.jsxs)(a.SafeAreaView,{style:h.container,children:[e?(0,n.jsx)(c.HeaderWithBack,{title:"SX Playground",variant:"fixed",onBack:u.navigateBackToLeftStageRoot,ControlsSlot:(0,n.jsx)(s.IconButton,{icon:"settings",accessibilityLabel:"Theme Settings",onPress:i})}):null,(0,n.jsx)(l.default,{})]})};const o=i(197582),n=i(785893),r=i(667294),a=i(537180),s=i(344175),l=o.__importDefault(i(764427)),c=i(912871),d=i(812822),u=i(375576),p=o.__importDefault(i(740794)),g=i(736267);const h=a.StyleSheet.create({container:{flex:1}})},172814:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({route:{params:{screenId:e}}}){const t=T[e];return t?(0,n.jsx)(t,{}):null};const o=i(197582),n=i(785893),r=o.__importDefault(i(591496)),a=o.__importDefault(i(620685)),s=o.__importDefault(i(589193)),l=o.__importDefault(i(704427)),c=o.__importDefault(i(58327)),d=o.__importDefault(i(452290)),u=o.__importDefault(i(539001)),p=o.__importDefault(i(22853)),g=o.__importDefault(i(48338)),h=o.__importDefault(i(652786)),m=o.__importDefault(i(955309)),S=o.__importDefault(i(147235)),_=o.__importDefault(i(338585)),f=o.__importDefault(i(276766)),y=o.__importDefault(i(602251)),C=o.__importDefault(i(912805)),v=o.__importDefault(i(463823)),b=i(408441),T={[b.SXPlaygroundScreenId.Avatar]:r.default,[b.SXPlaygroundScreenId.Button]:a.default,[b.SXPlaygroundScreenId.Controls]:s.default,[b.SXPlaygroundScreenId.Gradient]:c.default,[b.SXPlaygroundScreenId.Grid]:d.default,[b.SXPlaygroundScreenId.Layout]:p.default,[b.SXPlaygroundScreenId.Icons]:u.default,[b.SXPlaygroundScreenId.ListItem]:g.default,[b.SXPlaygroundScreenId.SegmentedControl]:h.default,[b.SXPlaygroundScreenId.Theme]:m.default,[b.SXPlaygroundScreenId.Typography]:S.default,[b.SXPlaygroundScreenId.SkypeButtons]:f.default,[b.SXPlaygroundScreenId.SkypeAnimations]:_.default,[b.SXPlaygroundScreenId.SkypeIcons]:y.default,[b.SXPlaygroundScreenId.SkypeText]:v.default,[b.SXPlaygroundScreenId.SkypeLink]:C.default,[b.SXPlaygroundScreenId.SkypeEntityAvatars]:l.default}},21698:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(192478),r=o.__importDefault(i(692773));t.default=(0,n.forNavigation)(r.default)},372350:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=i(192478),l=i(815146),c=o.__importDefault(i(61784)),d=o.__importStar(i(85385)),u=i(26703),p=o.__importStar(i(704704)),g=o.__importDefault(i(942724)),h=i(375258),m=i(16549),S=o.__importStar(i(179582)),_=o.__importDefault(i(803123)),f=i(262725),y=o.__importDefault(i(760989)),C=(0,u.lazyProperties)({panel:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch",backgroundColor:m.Color.white}),panelContainer:()=>a.Styles.createViewStyle({flex:1,flexDirection:"column"}),rowContainer:()=>a.Styles.createTextStyle({flex:1,backgroundColor:m.Color.white,alignItems:"center",flexDirection:"row",margin:8,alignSelf:"stretch",justifyContent:"space-between"}),labelsContainer:()=>a.Styles.createTextStyle({flex:1,flexDirection:"column"}),bandwidthContainer:()=>a.Styles.createTextStyle({textAlign:"right",color:m.Color.gray400}),rowTitle:()=>a.Styles.createTextStyle({color:m.Color.black}),rowDescription:()=>a.Styles.createTextStyle({color:m.Color.gray400,marginTop:3}),delimeter:()=>a.Styles.createTextStyle({height:1,alignSelf:"stretch",backgroundColor:m.Color.gray100,marginHorizontal:8})});class v extends s.BaseNavigationView{constructor(){super(...arguments),this._closeModal=()=>{const e=y.default.newCauseId();d.log(l.LogTraceArea.Navigation,"TelemetryPerfPanel._closeModal,  causeId: "+e),this._goBack(e)}}_buildState(e,t){return{monitorEnabled:!0,isUsingStackNavigationContext:g.default.isUsingStackNavigationContext(),items:_.default.getSortedEventsStatistics()}}componentDidMount(){super.componentDidMount(),this._statisticsUpdatedSubscriptionToken=_.default.statisticsUpdated.subscribe((()=>{this.isComponentMounted()&&this.setState({items:_.default.getSortedEventsStatistics()})}))}componentWillUnmount(){super.componentWillUnmount(),this._statisticsUpdatedSubscriptionToken&&(this._statisticsUpdatedSubscriptionToken.unsubscribe(),this._statisticsUpdatedSubscriptionToken=void 0)}render(){const e=this.state.isUsingStackNavigationContext?{closeButtonType:h.CloseButtonType.Back}:{icon:S.backIcon(),title:p.getString("Global.BackButtonTitle"),onPress:this._closeModal},t=this.props.navigation?void 0:(0,n.jsx)(h.SimplePanelHeader,{panelName:"Telemetry Monitor",leftButton:e});return(0,n.jsxs)(a.View,{style:C.panel,children:[t,(0,n.jsx)(a.ScrollView,{style:C.panelContainer,children:this._renderEventsRows()})]})}_renderEventsRows(){const e=[];return this.state.items?(e.push(...this._renderTotalRow()),r.each(this.state.items,(t=>{const[i,o]=t;let n=o.numberOfEvents+" event";o.numberOfEvents>1&&(n+="s");const r=n+"  ·  sampling "+o.sampling,a=c.default.formatFileSize(o.numberOfBytes,1).formattedString;e.push(...this._renderEventRow(i,r,a))})),e):[]}_renderTotalRow(){let e=0,t=0;r.each(this.state.items,(i=>{const o=i[1];e+=o.numberOfBytes,t+=o.numberOfEvents}));const i=c.default.formatFileSize(e,1).formattedString;return this._renderEventRow("[ TOTAL ]",t+" events sent",i)}_renderEventRow(e,t,i){return[(0,n.jsxs)(a.View,{style:C.rowContainer,children:[(0,n.jsxs)(a.View,{style:C.labelsContainer,children:[(0,n.jsx)(f.BodyText,{bold:!0,size:f.BodyTextSize.BigDeprecated,style:C.rowTitle,children:e}),(0,n.jsx)(f.BodyText,{size:f.BodyTextSize.SmallDeprecated,style:C.rowDescription,children:t})]}),(0,n.jsx)(f.BodyText,{bold:!0,size:f.BodyTextSize.SmallDeprecated,style:C.bandwidthContainer,children:i})]},e),(0,n.jsx)(a.View,{style:C.delimeter},"line"+e)]}}t.default=v},617747:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=i(331654),s=o.__importStar(i(516778)),l=i(808467),c=o.__importDefault(i(633958)),d=o.__importStar(i(473483)),u=i(413686),p=i(815146),g=o.__importStar(i(85385)),h=i(26703),m=o.__importStar(i(704704)),S=o.__importDefault(i(788980)),_=o.__importDefault(i(252089)),f=o.__importDefault(i(672481)),y=i(473711),C=o.__importDefault(i(399564)),v=i(740401),b=o.__importDefault(i(960282)),T=o.__importDefault(i(421334)),P=i(967338),k=i(16549),A=i(641400),I=o.__importDefault(i(827361)),w=i(262725),x=i(206197),N=o.__importDefault(i(266872)),D=o.__importStar(i(262207)),M=o.__importStar(i(972830)),L=o.__importDefault(i(429955)),R=o.__importDefault(i(760989)),E=(0,h.lazyProperties)({panel:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center",overflow:"visible",marginTop:50}),panelSmall:()=>s.Styles.createViewStyle({marginTop:20}),newToggleButtonContainer:()=>s.Styles.createViewStyle({alignSelf:"center",alignItems:"center",width:320}),newToggleButtonContainerCompact:()=>s.Styles.createViewStyle({width:280}),newToggleButtonInnerContainer:()=>s.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",alignItems:"center",alignSelf:"stretch",padding:12}),highContrastToggle:()=>s.Styles.createViewStyle({alignSelf:"stretch",marginTop:20,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:12}),highContrastToggleText:()=>s.Styles.createTextStyle({color:k.Color.gray400})});class B extends l.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._orientationLockKey=r.uniqueId("ColorThemeDialog"),this._goBack=e=>(g.log(p.LogTraceArea.ConversationColorStore,"ThemeDialog._goBack causeId: "+e),this._sendTelemetryEvent(u.DialogNavExit.Close),this.props.route.params.scenarioNavigator?(this.props.route.params.scenarioNavigator.goBack(),!0):super._goBack(e)),this._onCloseButtonClicked=()=>{const e=R.default.newCauseId();g.log(p.LogTraceArea.ConversationColorStore,"ThemeDialog._onCloseButtonClicked causeId: "+e),this._goBack(e)},this._onNextButtonClicked=()=>{const e=R.default.newCauseId();g.log(p.LogTraceArea.ConversationColorStore,"ThemeDialog._onNextButtonClicked causeId: "+e),N.default.setTheme(this.state.currentTheme);const t=this._adjustedUserColor(this.state.currentTheme);t!==this.state.userColor&&_.default.setUserColor(t,e),this._sendTelemetryEvent(u.DialogNavExit.Submit),this._performNavigation()},this._onSkipButtonPressed=()=>{this._sendTelemetryEvent(u.DialogNavExit.Skip),this._performNavigation()},this._onLightTogglePressed=()=>this._onLightDarkTogglePressed(!1),this._onDarkTogglePressed=()=>this._onLightDarkTogglePressed(!0),this._onHighContrastTogglePress=()=>{const e=!this.state.useHighContrastTheme,t=m.getString(e?"ColorThemeDialog.SelectedHighContrastTitleAccessible":"ColorThemeDialog.DeselectedHighContrastTitleAccessible");this._updateThemeForSimpleLayout(this.state.isDarkTheme,e,(()=>{s.Accessibility.announceForAccessibility(t)}))}}static getHeaderText(){return m.getString("ColorThemeDialog.HeaderText")}_buildState(e,t){const i={userColor:_.default.getColorInfo(),selectedTheme:N.default.colorTheme()},o=this._getRootViewId();return t&&(i.useHighContrastTheme=N.default.isAccessibleTheme(),i.isMobileScreenReaderEnabled=T.default.isMobileScreenReaderEnabled(),i.originalTheme=i.selectedTheme,i.isSmallDevice=b.default.isSmallDevice(o),i.currentTheme=N.default.colorTheme(),i.isDarkTheme=N.default.isDarkTheme(),this._setupTelemetryEvent(e)),i}componentDidMount(){super.componentDidMount(),this._getContext().isPresentedInDesktopSubview||S.default.addOrUpdateOrientationLock(this._orientationLockKey,a.DeviceOrientation.Portrait)}componentWillUnmount(){super.componentWillUnmount(),S.default.removeOrientationLock(this._orientationLockKey),this._sendTelemetryEvent(u.DialogNavExit.CancelOrBack)}_componentId(){return"ThemeDialog"}_setupTelemetryEvent(e){let t,i;const o=(0,v.getTypedScenarioNavigator)(e.route.params.scenarioNavigator);o&&(t=o.getCurrentStep(),i=o.getTotalNumberOfSteps()),this._telemetryEvent=new P.ThemeDialogEvent(e.route.params.origin,t,i)}_onLightDarkTogglePressed(e){if(this.state.isDarkTheme===e)return;this._telemetryEvent&&this._telemetryEvent.markDidToggleLightDarkTab();this._updateThemeForSimpleLayout(e,this.state.useHighContrastTheme,(()=>{const t=this._getAccessibleTitleForLightOrDarkTheme(e,!0);t&&s.Accessibility.announceForAccessibility(t)}))}_updateThemeForSimpleLayout(e,t,i){const o=t?e?x.Theme.AccessibleDark:x.Theme.Accessible:e?x.Theme.DelphiDark:x.Theme.Delphi;this.setState({currentTheme:o,isDarkTheme:e,useHighContrastTheme:t},i)}_performNavigation(){const e=R.default.newCauseId();g.log(p.LogTraceArea.ConversationColorStore,"ThemeDialog._performNavigation causeId: "+e),this.props.route.params.scenarioNavigator?this.props.route.params.scenarioNavigator.goNext():this.props.route.params.onNextButtonPressed?this.props.route.params.onNextButtonPressed():this._getContext().isPresentedByMobileStackNavigator?this._isComponentVisible()&&this._goBack(e):this._goBack(e)}_getAccessibleTitleForLightOrDarkTheme(e,t){return t?m.getString(e?"ColorThemeDialog.SelectedDarkToggleTitleAccessible":"ColorThemeDialog.SelectedLightToggleTitleAccessible"):m.getString(e?"ColorThemeDialog.DarkToggleTitleAccessible":"ColorThemeDialog.LightToggleTitleAccessible")}_renderToggleButton(e,t){const i=this._getAccessibleTitleForLightOrDarkTheme(e,t&&!1),o=[s.Types.AccessibilityTrait.Button];return t&&o.push(s.Types.AccessibilityTrait.Selected),(0,n.jsx)(D.default,{size:D.ThumbnailSize.Small,dark:e,selected:t,compact:this.state.isSmallDevice,highContrast:this.state.useHighContrastTheme,accessibilityTraits:o,accessibilityLabel:i,onPress:e?this._onDarkTogglePressed:this._onLightTogglePressed},"thumb"+e)}_adjustedUserColor(e){const t=M.isMonoTheme(e),i=M.isClassicTheme(e);return(t||i)&&(t&&!M.isMonoTheme(this.state.selectedTheme)||i&&!M.isClassicTheme(this.state.selectedTheme))?d.getColorInfoForSerializedColor(d.SerializedColorByNumber.Mint):this.state.userColor}_sendTelemetryEvent(e){this._telemetryEvent&&(this._telemetryEvent.setExit(e),this.state.originalTheme!==this.state.currentTheme&&e===u.DialogNavExit.Submit&&this._telemetryEvent.markDidSelectNewTheme(),this._telemetryEvent.setFinalTheme(e===u.DialogNavExit.Submit?this.state.currentTheme:this.state.originalTheme),C.default.track(this._telemetryEvent),this._telemetryEvent=void 0)}_getHeaderText(e){return B.getHeaderText()}render(){const e=[E.panel];this.state.isSmallDevice,e.push(E.panelSmall);const t=[this._renderToggleButton(!1,!this.state.isDarkTheme),this._renderToggleButton(!0,this.state.isDarkTheme)],i=m.getString("ColorThemeDialog.HighContrastThemeTitle"),o=this.state.useHighContrastTheme?m.getString("Global.ItemSelectedAccessibilityLabel",{text:i}):i,r=[I.default.overflowVisible,E.newToggleButtonContainer];this.state.isSmallDevice&&r.push(E.newToggleButtonContainerCompact);const a=(0,n.jsxs)(s.View,{style:r,children:[(0,n.jsx)(s.View,{style:[I.default.overflowVisible,E.newToggleButtonInnerContainer],children:t}),(0,n.jsxs)(s.Button,{style:E.highContrastToggle,accessibilityLabel:o,activeOpacity:.8,onPress:this._onHighContrastTogglePress,children:[(0,n.jsx)(w.BodyText,{style:E.highContrastToggleText,numberOfLines:2,children:i}),(0,n.jsx)(L.default,{isOn:this.state.useHighContrastTheme})]})]}),l=this.props.route.params.origin===u.DialogNavOrigin.Onboarding?y.OnboardingDialogWizardNextButtonVariant.TextAndIcon:y.OnboardingDialogWizardNextButtonVariant.IconOnly,d=this.props.route.params.origin===u.DialogNavOrigin.Onboarding?m.getString("Onboarding.WizardGenericStepContinueButton"):void 0;return(0,n.jsx)(c.default,{goBack:this._goBack,children:(0,n.jsx)(f.default,{headerText:this.props.route.params.hideHeader?void 0:this._getHeaderText(this.state),descriptionElement:m.getString("ColorThemeDialog.DescriptionText"),onNextButtonClicked:this._onNextButtonClicked,onCloseButtonClicked:this._onCloseButtonClicked,onSkipButtonClicked:this.props.route.params.hideSkipButton?void 0:this._onSkipButtonPressed,showTopButtonsRowEvenIfEmpty:!0,hideSkipButton:this.props.route.params.hideSkipButton,hideCloseButton:this.props.route.params.hideCloseButton,hideNextButton:!1,closeButtonIcon:this.props.route.params.closeButtonIcon,nextButtonIcon:this.props.route.params.nextButtonIcon||A.SkypeIcon.Ok,nextButtonTheme:this.state.currentTheme,nextButtonUserColor:this._adjustedUserColor(this.state.currentTheme),nextButtonVariant:l,nextButtonTitle:d,disablePresentationAnimation:!0,disableContentFocusOnMount:this.props.route.params.hideHeader,scenarioNavigator:this.props.route.params.scenarioNavigator,isContentScrollable:!0,colorThemeOverride:x.Theme.Colorful,children:(0,n.jsx)(s.View,{style:e,children:a})})})}}t.default=B},408443:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(785893),r=o.__importStar(i(496486)),a=o.__importStar(i(516778)),s=o.__importDefault(i(218905)),l=i(808467),c=o.__importDefault(i(633958)),d=i(154235),u=i(413686),p=i(815146),g=o.__importStar(i(85385)),h=i(26703),m=o.__importStar(i(50350)),S=o.__importStar(i(704704)),_=o.__importDefault(i(855191)),f=o.__importDefault(i(341994)),y=o.__importDefault(i(363091)),C=o.__importDefault(i(672481)),v=i(473711),b=i(697091),T=o.__importDefault(i(399564)),P=i(740401),k=i(342561),A=o.__importStar(i(960282)),I=i(967338),w=o.__importDefault(i(655192)),x=o.__importDefault(i(660401)),N=i(16549),D=o.__importDefault(i(20758)),M=i(641400),L=o.__importStar(i(179582)),R=i(262725),E=o.__importDefault(i(601274)),B=o.__importDefault(i(159184)),O=i(596648),F=o.__importDefault(i(685734)),V=o.__importDefault(i(760989)),U=(0,h.lazyProperties)({container:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"flex-start",overflow:"visible",paddingTop:40}),containerSmall:()=>a.Styles.createViewStyle({paddingTop:0}),userCardContainer:()=>a.Styles.createViewStyle({alignSelf:"stretch",marginHorizontal:20}),privacyContainer:()=>a.Styles.createViewStyle({marginTop:30,marginHorizontal:50,flex:1,justifyContent:"flex-start"}),privacyContainerSmall:()=>a.Styles.createViewStyle({marginTop:15}),phoneEmailButtonsContainer:()=>a.Styles.createViewStyle({margin:30}),centeredText:()=>a.Styles.createTextStyle({textAlign:"center",lineHeight:21}),textLarge:()=>a.Styles.createTextStyle({fontSize:D.default.fontSize.size18}),actionButton:()=>a.Styles.createButtonStyle({marginBottom:15}),learnMoreContainer:()=>a.Styles.createTextStyle({textAlign:"center"}),learnMoreLink:()=>a.Styles.createTextStyle({color:N.Color.blue})});class j extends l.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._exitEditingModeTime=100,this._onProfileFocus=()=>{g.log(p.LogTraceArea.Onboarding,"_onProfileFocus"),this.setState({isEditing:!0})},this._onProfileBlur=()=>{g.log(p.LogTraceArea.Onboarding,"_onProfileBlur"),E.default.setTimeout((()=>{this.setState({isEditing:!1})}),this._exitEditingModeTime)},this._onPressLearnMore=()=>{m.openUrlWithParams({origin:p.BrowserOrigin.UserProfileOnboarding,url:this.state.userProfileScreen.learnMoreLink,rootViewId:this._getRootViewId()})},this._onUserCardRef=e=>{this._userCardRef=e||void 0},this._onNextButtonClicked=()=>{var e;const t=null===(e=this.state.userContacts)||void 0===e?void 0:e.phoneNumbersAndParts[0];t&&t.phoneParts&&t.source&&(this._showPhoneNumberInSearch(t.phoneParts,t.source),f.default.setOnboardingUserProfileScreenSeen(!0)),this._performNavigation()},this._onBackButtonClicked=()=>{const e=V.default.newCauseId();g.log(p.LogTraceArea.Onboarding,"UserProfileDialog._onBackButtonClicked causeId: "+e),this._sendTelemetryEvent(u.DialogNavExit.Close),_.default.redirectToLogout(p.LogoutReason.Onboarding)},this._goBack=e=>(g.log(p.LogTraceArea.Onboarding,"UserProfileDialog._goBack causeId: "+e),this._sendTelemetryEvent(u.DialogNavExit.CancelOrBack),this.props.route.params.scenarioNavigator?(this.props.route.params.scenarioNavigator.goBack(),!0):super._goBack(e))}_buildState(e,t){const i=(0,P.getOnboardingFeatures)(e.route.params.scenarioNavigator),o=F.default.getFullUserProfileByMri(y.default.getSkypeMri()),n=s.default.getParsedProfile(),r=this._getRootViewId(),a={userProfile:o,userProfileScreen:i.features.userProfileScreen,userContacts:n,isEditing:!1,deviceSize:A.default.deviceSize(r)};return t&&this._setupTelemetryEvent(e),a}componentDidMount(){super.componentDidMount(),this._userCardRef&&this._userCardRef.requestFocus()}componentWillUnmount(){super.componentWillUnmount(),this._sendTelemetryEvent(u.DialogNavExit.CancelOrBack)}_getHeaderText(){return j.getHeaderText()}static getHeaderText(){return S.getString("UserProfileDialog.HeaderText")}_setupTelemetryEvent(e){const t=(0,P.getTypedScenarioNavigator)(e.route.params.scenarioNavigator),i=null==t?void 0:t.getCurrentStep(),o=null==t?void 0:t.getTotalNumberOfSteps();this._telemetryEvent=new I.UserProfileDialogEvent(e.route.params.origin,i,o)}render(){let e=[];const t=this.state.deviceSize===A.DeviceSize.Small,i=this.state.deviceSize===A.DeviceSize.Large;if(this.state.userContacts&&this.state.userContacts.phoneNumbersAndParts){e=[...this.state.userContacts.phoneNumbersAndParts.map((e=>e.phoneNumber)),...this.state.userContacts.emails]}const o=S.getString("UserProfileDialog.PrivacyStatement",{source:e.join(", ")}),s=(0,n.jsx)(a.Link,{url:this.state.userProfileScreen.learnMoreLink,onPress:this._onPressLearnMore,style:U.learnMoreLink,children:S.getString("UserSettingsPanel.HotkeysLearnMoreLink")},"learnMore"),l=this._isHiddenContent(),u=y.default.getSkypeMri(),g=this.state.userProfileScreen.closeBackIconEnabled?L.closeIcon():L.backIcon(),h=[U.container,t?U.containerSmall:void 0],m=[U.privacyContainer,t?U.privacyContainerSmall:void 0],_=[U.centeredText,i?U.textLarge:void 0],f=[U.learnMoreContainer,i?U.textLarge:void 0];return(0,n.jsx)(c.default,{goBack:this._goBack,children:!r.isEmpty(this.state.userContacts)&&(0,n.jsx)(C.default,{headerText:this._getHeaderText(),onNextButtonClicked:this._onNextButtonClicked,onCloseButtonClicked:this._onBackButtonClicked,hideSkipButton:!0,closeButtonIcon:g,nextButtonVariant:v.OnboardingDialogWizardNextButtonVariant.TextAndIcon,nextButtonTitle:S.getString("Onboarding.WizardGenericStepContinueButton"),disablePresentationAnimation:!0,hideNextButton:l,nextButtonIcon:M.SkypeIcon.Blank,nextButtonSize:d.SXButtonSize.Small,isLargeDevice:i,enableDesignV2:!0,children:(0,n.jsxs)(a.View,{style:h,children:[(0,n.jsx)(a.View,{style:U.userCardContainer,children:(0,n.jsx)(B.default,{ref:this._onUserCardRef,origin:p.AvatarUpdateLocation.UserProfileOnboarding,userMri:u,allowOpenAvatarInMediaViewer:!1,allowEditAvatar:!0,replaceHeader:!0,hideGradientBackground:!0,hideUserStatus:!0,onProfileFocus:this._onProfileFocus,onProfileBlur:this._onProfileBlur,userIconSize:O.UserIconSize.Size120,enableDesignV2:!0})}),!l&&(0,n.jsxs)(a.View,{style:m,children:[(0,n.jsx)(R.BodyText,{style:_,children:o}),(0,n.jsx)(R.BodyText,{style:f,children:s}),this._getPhoneEmailButtons()]})]})})})}_isHiddenContent(){return!1}_getPhoneEmailButtons(){const e={style:U.actionButton,buttonStyle:d.SXButtonStyle.AgnosticGradientFill,agnosticGradientColor:N.AgnosticGradientFillButtonColors.blue,title:S.getString("UserProfileDialog.AddPhoneNumber"),buttonSize:d.SXButtonSize.Medium,onPress:this._onAddPhoneButtonClicked},t={style:U.actionButton,buttonStyle:d.SXButtonStyle.AgnosticGradientFill,agnosticGradientColor:N.AgnosticGradientFillButtonColors.blue,title:S.getString("UserProfileDialog.AddEmail"),buttonSize:d.SXButtonSize.Medium,onPress:this._onAddEmailButtonClicked},{enableAddPhone:i,enableAddEmail:o}=this.state.userProfileScreen||{};return this.state.userContacts?(0,n.jsxs)(a.View,{style:U.phoneEmailButtonsContainer,children:[i&&r.isEmpty(this.state.userContacts.phoneNumbersAndParts)&&(0,n.jsx)(x.default,Object.assign({},e)),o&&r.isEmpty(this.state.userContacts.emails)&&(0,n.jsx)(x.default,Object.assign({},t))]}):null}_onAddPhoneButtonClicked(){g.track(new b.UserProfileChange({origin:u.DialogNavOrigin.UserProfilePage,addPhoneNumber:!0}))}_onAddEmailButtonClicked(){g.track(new b.UserProfileChange({origin:u.DialogNavOrigin.UserProfilePage,addEmail:!0}))}_performNavigation(){const e=V.default.newCauseId();g.log(p.LogTraceArea.Onboarding,"UserProfileDialog._performNavigation causeId: "+e),this._sendTelemetryEvent(u.DialogNavExit.Submit),this.props.route.params.scenarioNavigator&&this.props.route.params.scenarioNavigator.goNext()}_showPhoneNumberInSearch(e,t){s.default.showPhoneNumberInSearch(e,t).then((()=>{g.track(new k.PhoneNumberDiscoverabilityPrivacyEvent(!0,k.PhoneDiscoverabilityOrigin.UserProfile))})).catch((e=>{g.track(new k.PhoneNumberDiscoverabilityPrivacyEvent(void 0,k.PhoneDiscoverabilityOrigin.UserProfile,{errorStatusCode:null==e?void 0:e.code,errorMessage:w.default.errorAsString(e)})),g.log(p.LogTraceArea.ManageSearchInfo,"Service error while trying to enable phone number for discoverability. Error: "+w.default.errorAsString(e))}))}_sendTelemetryEvent(e){this._telemetryEvent&&(this._telemetryEvent.setExit(e),T.default.track(this._telemetryEvent),this._telemetryEvent=void 0)}test_showPhoneNumberInSearch(e,t){return this._showPhoneNumberInSearch(e,t)}}t.default=j},676363:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserProfileDialog=t.TranslationSettingsPanel=t.ThirdPartyNoticesPanel=t.ThemeDialog=t.TelemetryPerfPanel=t.SubtitlesCallingSettingsPanel=t.SpeechConsentPanel=t.SplashScreenNavigation=t.SlimcoreFlagsPanel=t.SettingsGroupPanel=t.SendDiagnosticLogsPanel=t.ReportConcernModal=t.RawPreferences=t.PromptPermissionDialog=t.ProfilePicturePanel=t.PnvDebugNavigation=t.PnvEnterNumberNavigation=t.PnvEnterCodeNavigation=t.MySettingsPanel=t.MobileHubHeaderRight=t.MobileHubHeaderLeft=t.MobileHubV2=t.MobileHub=t.MobileSettingsPanel=t.ManageUsersSettingsPanel=t.ManageUsersListPanel=t.ManageSearchInfoPanel=t.VoicePickerPanel=t.SpokenLanguagePickerPanel=t.LanguagePickerPanelOld=t.LanguagePickerPanel=t.FeatureFlags=t.DiagnosticToolsPanel=t.DetailsPanel=t.ConnectedUsersListPanel=t.CaptivePortalQuestionnaire=t.CallingSettingsPanel=t.BlockedUsersListPanel=t.AlertsHubPanelNavigation=t.AdvancedCallingSettingsPanel=t.AbstractConfigList=t.AboutPanelNavigation=void 0;const o=i(197582);var n=i(462347);Object.defineProperty(t,"AboutPanelNavigation",{enumerable:!0,get:function(){return o.__importDefault(n).default}});var r=i(539097);Object.defineProperty(t,"AbstractConfigList",{enumerable:!0,get:function(){return o.__importDefault(r).default}});var a=i(427232);Object.defineProperty(t,"AdvancedCallingSettingsPanel",{enumerable:!0,get:function(){return o.__importDefault(a).default}});var s=i(340716);Object.defineProperty(t,"AlertsHubPanelNavigation",{enumerable:!0,get:function(){return o.__importDefault(s).default}});var l=i(504798);Object.defineProperty(t,"BlockedUsersListPanel",{enumerable:!0,get:function(){return o.__importDefault(l).default}});var c=i(465522);Object.defineProperty(t,"CallingSettingsPanel",{enumerable:!0,get:function(){return o.__importDefault(c).default}});var d=i(962220);Object.defineProperty(t,"CaptivePortalQuestionnaire",{enumerable:!0,get:function(){return o.__importDefault(d).default}});var u=i(183552);Object.defineProperty(t,"ConnectedUsersListPanel",{enumerable:!0,get:function(){return o.__importDefault(u).default}});var p=i(924906);Object.defineProperty(t,"DetailsPanel",{enumerable:!0,get:function(){return o.__importDefault(p).default}});var g=i(348495);Object.defineProperty(t,"DiagnosticToolsPanel",{enumerable:!0,get:function(){return o.__importDefault(g).default}});var h=i(872766);Object.defineProperty(t,"FeatureFlags",{enumerable:!0,get:function(){return o.__importDefault(h).default}});var m=i(82760);Object.defineProperty(t,"LanguagePickerPanel",{enumerable:!0,get:function(){return o.__importDefault(m).default}});var S=i(805180);Object.defineProperty(t,"LanguagePickerPanelOld",{enumerable:!0,get:function(){return o.__importDefault(S).default}});var _=i(148758);Object.defineProperty(t,"SpokenLanguagePickerPanel",{enumerable:!0,get:function(){return o.__importDefault(_).default}});var f=i(213645);Object.defineProperty(t,"VoicePickerPanel",{enumerable:!0,get:function(){return o.__importDefault(f).default}});var y=i(152378);Object.defineProperty(t,"ManageSearchInfoPanel",{enumerable:!0,get:function(){return o.__importDefault(y).default}});var C=i(72750);Object.defineProperty(t,"ManageUsersListPanel",{enumerable:!0,get:function(){return o.__importDefault(C).default}});var v=i(353145);Object.defineProperty(t,"ManageUsersSettingsPanel",{enumerable:!0,get:function(){return o.__importDefault(v).default}});var b=i(307150);Object.defineProperty(t,"MobileSettingsPanel",{enumerable:!0,get:function(){return o.__importDefault(b).default}});var T=i(871955);Object.defineProperty(t,"MobileHub",{enumerable:!0,get:function(){return o.__importDefault(T).default}});var P=i(479845);Object.defineProperty(t,"MobileHubV2",{enumerable:!0,get:function(){return P.MobileHub}});var k=i(130626);Object.defineProperty(t,"MobileHubHeaderLeft",{enumerable:!0,get:function(){return o.__importDefault(k).default}});var A=i(551728);Object.defineProperty(t,"MobileHubHeaderRight",{enumerable:!0,get:function(){return o.__importDefault(A).default}});var I=i(601606);Object.defineProperty(t,"MySettingsPanel",{enumerable:!0,get:function(){return o.__importDefault(I).default}});var w=i(369704);Object.defineProperty(t,"PnvEnterCodeNavigation",{enumerable:!0,get:function(){return o.__importDefault(w).default}});var x=i(186597);Object.defineProperty(t,"PnvEnterNumberNavigation",{enumerable:!0,get:function(){return o.__importDefault(x).default}});var N=i(516914);Object.defineProperty(t,"PnvDebugNavigation",{enumerable:!0,get:function(){return o.__importDefault(N).default}});var D=i(79727);Object.defineProperty(t,"ProfilePicturePanel",{enumerable:!0,get:function(){return o.__importDefault(D).default}});var M=i(32816);Object.defineProperty(t,"PromptPermissionDialog",{enumerable:!0,get:function(){return o.__importDefault(M).default}});var L=i(55706);Object.defineProperty(t,"RawPreferences",{enumerable:!0,get:function(){return o.__importDefault(L).default}});var R=i(847811);Object.defineProperty(t,"ReportConcernModal",{enumerable:!0,get:function(){return o.__importDefault(R).default}});var E=i(354445);Object.defineProperty(t,"SendDiagnosticLogsPanel",{enumerable:!0,get:function(){return o.__importDefault(E).default}});var B=i(654925);Object.defineProperty(t,"SettingsGroupPanel",{enumerable:!0,get:function(){return o.__importDefault(B).default}});var O=i(868794);Object.defineProperty(t,"SlimcoreFlagsPanel",{enumerable:!0,get:function(){return o.__importDefault(O).default}});var F=i(21698);Object.defineProperty(t,"SplashScreenNavigation",{enumerable:!0,get:function(){return o.__importDefault(F).default}});var V=i(631362);Object.defineProperty(t,"SpeechConsentPanel",{enumerable:!0,get:function(){return o.__importDefault(V).default}});var U=i(454864);Object.defineProperty(t,"SubtitlesCallingSettingsPanel",{enumerable:!0,get:function(){return o.__importDefault(U).default}});var j=i(372350);Object.defineProperty(t,"TelemetryPerfPanel",{enumerable:!0,get:function(){return o.__importDefault(j).default}});var H=i(617747);Object.defineProperty(t,"ThemeDialog",{enumerable:!0,get:function(){return o.__importDefault(H).default}});var W=i(614986);Object.defineProperty(t,"ThirdPartyNoticesPanel",{enumerable:!0,get:function(){return o.__importDefault(W).default}});var z=i(91963);Object.defineProperty(t,"TranslationSettingsPanel",{enumerable:!0,get:function(){return o.__importDefault(z).default}});var G=i(408443);Object.defineProperty(t,"UserProfileDialog",{enumerable:!0,get:function(){return o.__importDefault(G).default}})},91859:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582).__importStar(i(496486)),n=i(662783);class r extends n.GenericRestClient{constructor(){super(""),this._defaultOptions.priority=n.WebRequestPriority.DontCare,this._defaultOptions.acceptType="*/*",this._defaultOptions.contentType="application/bond-compact-binary"}sendTelemetryEvents(e,t,i,n,r){const a={headers:{"Client-Id":"NO_AUTH","SDK-Version":"AWT-Web-JS"}};return o.isString(t)&&(a.headers["Content-Encoding"]="base64"),a.excludeEndpointUrl=!0,this.performApiPostDetailed(e,t,a).then((e=>{r(e.statusCode,e.headers)}),(e=>{!0===e.timedOut?i(e.statusCode,e.headers):n(e.statusCode,e.headers)}))}}t.default=r},357377:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getValueBySearchAndRecommendationPair=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(397691)),a=o.__importDefault(i(150343)),s=i(859993),l=i(859993),c=i(654519),d=o.__importDefault(i(139221)),u=o.__importDefault(i(517518)),p=o.__importDefault(i(760989)),g="service-settings.skypegraph-search-policy";t.getValueBySearchAndRecommendationPair=({searchable:e,recommendable:t})=>e?t?s.SkypeGraphSearchPolicy.SEARCHABLE:s.SkypeGraphSearchPolicy.SEARCHABLE_NOT_RECOMMENDABLE:t?s.SkypeGraphSearchPolicy.NOT_SEARCHABLE_RECOMMENDABLE:s.SkypeGraphSearchPolicy.NOT_SEARCHABLE;class h extends c.SkypeRestClient{constructor(){super(a.default.getConfigSettingsNoSubscription().optionsService.productionHost),this._defaultOptions.mustHaveValidSkypeToken=!0,this._defaultOptions.acceptType="json"}_getHeaders(e){const t=super._getHeaders(e);return t["X-Skypetoken"]=u.default.getRawSkypeToken(),t["X-Skype-Version-ID"]=d.default.getUIVersion(),t["X-Microsoft-Skype-Chain-ID"]=p.default.newGuid(),t["X-Microsoft-Skype-Message-ID"]=p.default.newGuid(),t}getIncludeMeInSearchPrivacyOption(){return this.performApiGet(`v1/users/self/options/${g}`).then((e=>(e=>{switch(e){case s.SkypeGraphSearchPolicy.SEARCHABLE:return{searchable:!0,recommendable:!0};case s.SkypeGraphSearchPolicy.NOT_SEARCHABLE_RECOMMENDABLE:return{searchable:!1,recommendable:!0};case s.SkypeGraphSearchPolicy.SEARCHABLE_NOT_RECOMMENDABLE:return{searchable:!0,recommendable:!1};case s.SkypeGraphSearchPolicy.NOT_SEARCHABLE_NOT_RECOMMENDABLE:default:return{searchable:!1,recommendable:!1}}})(e?e.value:s.SkypeGraphSearchPolicy.NOT_SEARCHABLE_RECOMMENDABLE)))}setIncludeMeInSearchPrivacyOption({searchable:e,recommendable:i}){const o={value:(0,t.getValueBySearchAndRecommendationPair)({searchable:e,recommendable:i})};return this.performApiPut(`v1/users/self/options/${g}`,o)}getUiColorOption(){return this.performApiGet(`v1/users/self/options/${s.UiColorOptionName}`).then((e=>e&&e.value?e.value.color:void 0))}setUiColorOption(e){const t={value:{color:e}};return this.performApiPut(`v1/users/self/options/${s.UiColorOptionName}`,t)}getIsCallForwardingEnabledOption(){const e=this.performApiGet(`v1/users/self/options/${l.CallForwardingOptionName}`).then((e=>!(!e||!e.value)&&e.value.state===l.CallingOptionValues.Enabled)),t=this.performApiGet(`v1/users/self/options/${l.VoicemailOptionName}`).then((e=>!(!e||!e.value)&&e.value.state===l.CallingOptionValues.Enabled));return r.all([e,t]).then((e=>e[0]||e[1]))}getAvatarPolicy(){return this.performApiGet(`v1/users/self/options/${l.AvatarPolicyOptionName}`).then((e=>e?e.value:s.OptionsServiceAvatarPolicyValueType.BUDDIES_OR_AUTHORIZED_CAN_SEE))}setAvatarPolicy(e){const t={value:e};return this.performApiPutDetailed(`v1/users/self/options/${l.AvatarPolicyOptionName}`,t)}getProfileInformedUserData(){return this.performApiGet(`v1/users/self/options/${l.ProfileInformedUserOptionName}`)}setProfileInformedUserData(e){const t={value:e};return this.performApiPutDetailed(`v1/users/self/options/${l.ProfileInformedUserOptionName}`,t)}getEmailMissedContentOptions(){return this._getUserOptionsBatch(s.OptionServiceOptions.EmailMissedCallReminders,s.OptionServiceOptions.EmailMissedMessageReminders)}setEmailMissedContentOption(e,t){return this._setUserOption(e,t)}_getUserOptionsBatch(...e){const t=n.join(e,",");return this.performApiGet(`v1/users/self/options?names=${t}`)}_setUserOption(e,t){const i={value:t};return this.performApiPutDetailed(`v1/users/self/options/${e}`,i)}}t.default=new h},439345:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(197582),n=i(662783),r=o.__importStar(i(397691)),a=o.__importDefault(i(150343)),s=i(120695),l=o.__importStar(i(85385)),c=i(352549),d=o.__importDefault(i(815067)),u=i(654519),p=o.__importDefault(i(189776)),g=o.__importDefault(i(139221)),h=o.__importDefault(i(760989)),m=i(938827),S="X-Skype-Request-Id";class _ extends u.SkypeRestClient{constructor(){super(a.default.getConfigSettingsNoSubscription().rps.host),this._customErrorHandler=(e,t)=>{const i=t.requestOptions,o={statusCode:t.statusCode,statusText:t.statusText||"",date:t.headers.date||""};return 400===t.statusCode||401===t.statusCode||403===t.statusCode?(i.authTelemetry.failed("Request Failed",o),n.ErrorHandlingType.DoNotRetry):(i.authTelemetry.retry("Request Failed, will retry",o),n.ErrorHandlingType.RetryCountedWithBackoff)},this._defaultOptions.customErrorHandler=this._customErrorHandler,this._defaultOptions.priority=n.WebRequestPriority.Critical,this._defaultOptions.timeout=3e5,this._defaultOptions.retries=5}_getHeaders(e){const t=super._getHeaders(e);return t["X-Skype-Caller"]=g.default.getClientId(),t[S]=h.default.newGuid(),t}getSkypeAuthInfoFromRPSAccessToken(e,t=30*m.SECOND,i){const o={scopes:"client",clientVersion:g.default.getUIVersion(),access_token:e,site_name:"lw"},a={retries:5,timeout:t,priority:n.WebRequestPriority.Critical,authTelemetry:new d.default("RpsClient",c.ScenarioName.LoginAuth,{scenario:"skypeAuth",service:"RpsClient",subScenario:i})};return a.authTelemetry.begin(),this.performApiPostDetailed("rps/v1/rps/skypetoken",o,a).then((e=>{const t=e.body;if(!t){l.track(new s.FundamentalsDebugEmptyBodyEvent("RPS","getSkypeAuthInfoFromRPSAccessToken",e.requestHeaders[S],e.statusCode,e.statusText));const t={statusCode:e.statusCode||"",statusText:e.statusText||""};return a.authTelemetry.failed("Undefined response",t),r.Rejected(e)}return a.authTelemetry.succeeded(),{skypeId:t.skypeid,skypeToken:new p.default(t.skypetoken,Date.now()+1e3*t.expiresIn),signinName:t.signinname,anid:t.anid}}))}}t.default=new _},654519:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SkypeRestClient=void 0;const o=i(197582),n=o.__importStar(i(496486)),r=o.__importStar(i(516778)),a=i(662783),s=o.__importStar(i(397691)),l=o.__importDefault(i(150343)),c=o.__importDefault(i(532803)),d=i(815146),u=o.__importStar(i(85385)),p=o.__importDefault(i(163374)),g=o.__importDefault(i(517518));class h extends a.GenericRestClient{_blockRequestUntil(e){const t=l.default.getConfigSettingsNoSubscription().chat.maxSimultaneousRESTRequests;if(t){const e=p.default.getNetworkType(),i=t.maxRequestsByNetworkType&&t.maxRequestsByNetworkType[e]||t.defaultMaxRequests;i&&i!==a.SimpleWebRequestOptions.MaxSimultaneousRequests&&(a.SimpleWebRequestOptions.MaxSimultaneousRequests=i,u.log(d.LogTraceArea.GenericUnsafe,"Updated max simultaneous REST requests to "+i+" because current network type is "+r.Types.DeviceNetworkType[e]))}if(e.mustHaveValidSkypeToken&&!g.default.hasUsableSkypeToken())return u.log(d.LogTraceArea.GenericUnsafe,"Blocking GenericRestClient call until valid SkypeToken arrives..."),g.default.performWhenValidSkypeTokenArrives()}performRequest(e,t){const i={timeout:e.timeout,priority:e.priority,retries:e.retries};return this._performApiCall(e.path,e.method,e.passedData,n.extend(i,t))}_performApiCall(e,t,i,o){return super._performApiCall(e,t,i,o).then((e=>{if(null!==e.body)return e;const{checkCorruptNullBody:t}=l.default.getConfigSettingsNoSubscription().restClient;if(!t)return e;const i=e.headers["content-length"],o=Number(i);if(n.isNaN(o)||0===o||4===o)return e;if(24===o&&"gzip"===e.headers["content-encoding"])return e;let r=this.constructor.name;if(!r){const e=/function (.{1,})\(/.exec(this.constructor.toString());r=e&&e.length>1?e[1]:""}const a=Object.assign(Object.assign({},e),{timedOut:!1,canceled:!1,invalidNullBody:!0});return s.Rejected(a)}))}performRequestBackground(e,t,i,o){const r={timeout:i.timeout,priority:i.priority,retries:i.retries};return this._performApiCallBackground({backgroundType:e,backgroundContext:t,apiPath:i.path,action:i.method,postData:i.passedData,requestOptions:n.extend(r,o)})}_performApiCallBackground(e){const t=n.defaults({},e.requestOptions,this._defaultOptions);t.mustHaveValidSkypeToken&&(g.default.hasUsableSkypeToken()||u.error(d.LogTraceArea.GenericUnsafe,"API is supposed to have a valid skypetoken but does not"));const i=!t.overrideGetHeaders&&!t.headers,o=n.extend({},i?this._getHeaders(t):void 0,t.overrideGetHeaders,t.headers,t.augmentHeaders);t.contentType||(t.contentType=n.isString(e.postData)?"form":"json");const r=t.excludeEndpointUrl?e.apiPath:this._endpointUrl+e.apiPath,s={subscriberType:e.backgroundType,context:e.backgroundContext,action:e.action,url:r,headers:o,acceptType:a.SimpleWebRequest.mapContentType(t.acceptType||"json"),contentType:a.SimpleWebRequest.mapContentType(t.contentType),downloadToUri:e.downloadGetToUri,downloadToPublicFolder:!!e.downloadToPublicFolder,downloadPublicFolderUseSkypeFolder:!!e.downloadPublicFolderUseSkypeFolder,filename:e.filename,priority:t.priority,withCredentials:t.withCredentials,timeout:t.timeout,progressTimeout:t.progressTimeout,resumable:t.resumable,resumableUploadStatusUrl:t.resumableUploadStatusUrl,resumableAttemptsSoFar:t.resumableAttemptsSoFar,notificationId:e.notificationId};if(e.postData){const t=e.postData.uri;n.isObject(e.postData)&&t?s.postFileUri=t:s.postData=e.postData}return c.default.startTransfer(s)}}t.SkypeRestClient=h},500127:e=>{e.exports=JSON.parse('[{"name":"all_notifications_panel","required":true,"fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"ItemClicked","fields":["Type"],"required":true},{"name":"ItemLoaded","fields":["Type"],"required":true}]}},{"name":"billing_flow","required":true,"fields":["flowType","responseCode"],"extends":"telemetryeventbase"},{"name":"bing_auto_suggestion","required":true,"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Clicked","required":true},{"name":"Shown","required":true}]}},{"name":"bing_trending_search","required":true,"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Clicked","required":true},{"name":"Shown","required":true}]}},{"name":"bing_iab_header","required":true,"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Clicked","required":true},{"name":"Shown","required":true}]}},{"name":"bing_message_attribution","fields":["Type","Source"],"extends":"conversationtelemetrybase"},{"name":"bingasonchatlisttelemetryevents","fields":["Origin","Suggestion"],"extends":"bing_auto_suggestion"},{"name":"bing_search_history","required":true,"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Clicked","required":true},{"name":"Shown","required":true}]}},{"name":"bingimageclicknotificationtelemetry","required":true,"fields":["StatusCode"],"extends":"telemetryeventbase"},{"name":"all_bing_upsell","fields":["Action","Origin"],"extends":"telemetryeventbase"},{"name":"bing_web_search_history","required":true,"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Delete","required":true},{"name":"ClearAll","required":true}]}},{"name":"callbase","fields":["CallId","CallDurationSeconds","ParticipantId","ConversationId","ToggleCameraCount","LocalMuteCount","LocalUnmuteCount","Origin","CallConversationMriNamespace","CallConnectionDurationMilliseconds","PhotoSnapshotCount","DidUserPostPhotoSnapshot","PhotoSnapshotAudioCount","PhotoSnapshotVideoCount","PhotoSnapshotScreenShareCount","PhotoReactionCount","MuteMicButtonPressCount","MovedOwnPreviewCount","ResizedOwnPreviewCount","OutgoingCallNavigationFinishedDurationMs"],"extends":"telemetryeventbase"},{"name":"calling_call","required":true,"fields":["CallingStack","IsMeetNow","IsGroupCall","IsPSTNCall","IsCallCreator","IsTranslatedCall","StartCaptioningCount","StopCaptioningCount","StartPstnTranslationAttemptCount","StartSkypeTranslationAttemptCount","StopSkypeTranslationAttemptCount","SkypeTranslationStartedCount","SkypeTranslationStoppedCount","TranslationConsentChangeDate","TranslationTruvoiceConsentChangeDate","StartTruvoiceCount","StopTruvoiceCount","StartTranslationAutoDetectCount","StopTranslationAutoDetectCount","DidReceiveCaptions","DidRenderRemoteVideo","FirstCaptionReceivedLengthSeconds","FailedCaptioningConfigCount","ReceiverSetupCount","ConversationId","StartVideoCount","StartScreenSharingCount","StopScreenSharingCount","StartSoundSharingCount","CancelScreenSharingCount","ScreenSharingDroppedCount","StartRecordingCount","StopRecordingCount","StartNdiCount","StopNdiCount","ShowBlockedVideoBannerCount","MaxConnectedParticipants","ToggleVideoSuccessfulCount","StartBackgroundBlurCount","StopBackgroundBlurCount","StartBackgroundEffectBlurCount","StopBackgroundEffectBlurCount","StartBackgroundEffectImageCount","StopBackgroundEffectImageCount","BingBackgroundEffectCaptionClickCount","ScreenShareControlSentControlRequestCount","ScreenShareControlRequestAcceptedCount","ScreenShareControlRequestDeniedCount","ScreenShareControlGrantedCount","HadNativeIncomingCallNotificationsEnabled","AverageCallingStoreUpdateTime","Source","ZoomedInCount","ZoomedInDuration","ZoomedOutCount","ZoomDragUsed","ZoomUIControlsUsedCount","ZoomScrollWheelUsedCount","ZoomKeyboardUsedCount","ZoomTrackPadUsedCount","IsTwinCam","TwinCamShareIntentCount","DidRenderTwinCamEndpoint","CallNetworkErrorReason","CallManagerUsed","IsIgnoringBatteryOptimizations","CaptionsPositionModeChangeCount","LastCaptionsPositionMode","CaptionsStartingMessageClickedCount","DidShowReconnectUI","CallReconnectDuration","CallDurationAfterReconnect","CallDroppedDuringReconnect","DidShowPoorConnectionUI","FailedToggleMicCount","ToggleMicBestDuration","ToggleMicMedianDuration","ToggleMicWorstDuration","FailedHangUpCount","HangUpDuration.","FailedToggleVideoCount","ToggleVideoBestDuration","ToggleVideoMedianDuration","ToggleVideoWorstDuration","NoiseSuppressionAvailable","VoiceIsolationToggleCount","NoiseSuppressionMode","MusicModeEnabled","MusicModeSupported","MusicModeNotAvailable","DataChannelReactionsSupport","DataChannelOnlyReactionsSupport","DataChannelCaptionsSupport","DataChannelOnlyCaptionsSupport","DataChannelReactionsAllMessageCount","DataChannelReactionsMessageCount","DataChannelReactionsMessageDeliveryDeltaAverage","DataChannelCaptionsAllMessageCount","DataChannelCaptionsMessageCount","DataChannelCaptionsMessageDeliveryDeltaAverage","isDefaultMic","isDefaultSpeaker","MusicDetectedWithHighNSMode"],"extends":"callbase"},{"name":"mdsc_call_quality_feedback","required":true,"fields":["call_mos_score","call_mos_score_problem_tokens","call_max_connected_participants","call_id","participant_id","IsGroupCall","IsVideoCall","IsPstnCall"],"extends":"telemetryeventbase"},{"name":"calling_call_entry_point","required":true,"fields":["Origin","CallId","IsRejoiningCall","IsGroupCall","IsVideoCall","IsPstnCall","IsIncomingCall","ConversationId","CauseId"],"extends":"prioritytelemetryeventbase"},{"name":"calling_call_intention","required":true,"fields":["CallIntentionOrigin","IsGroupCall","IsVideoCall","IsPstnCall","ConversationId","CauseId"],"extends":"telemetryeventbase"},{"name":"calling_warm_call_notification","extends":"telemetryeventbase"},{"name":"calling_background_effects_settings","required":true,"fields":["EffectType","HasActiveCall","IsPredefinedImage","PredefinedImageName"],"extends":"telemetryeventbase"},{"name":"calling_background_effects_bing_click","extends":"telemetryeventbase"},{"name":"calling_bing_background_download_api","extends":"telemetryeventbase"},{"name":"callbackremindertapped","extends":"telemetryeventbase"},{"name":"calling_incoming_video_notification","extends":"telemetryeventbase"},{"name":"audiooutputdeviceswitcher","extends":"telemetryeventbase"},{"name":"calling_call_captions_notifications","fields":["Action","CallId","Type","Variant","ActionButton"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"NotificationDisplayed","required":true},{"name":"NotificationClicked","required":true}]}},{"name":"calling_action","fields":["Action","Reason"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"BackgroundBlurEvent","fields":["CallId","BlurSessionDuration"]},{"name":"BackgroundEffectEvent","fields":["CallId"]},{"name":"CallKitError","fields":["CallId","Operation","ErrorDomain","ErrorCode","Terminal"],"required":true},{"name":"CallKitSuccess"},{"name":"CallActionCalleeUserPresence"},{"name":"CallInitFailure","fields":["CauseId","CallInitOrigin"],"required":true},{"name":"IncomingCallNotificationFailure","fields":["CallId","EventType","CauseId","Reason","Details"],"required":true},{"name":"StartRinging","fields":["CallId","Origin"],"required":true},{"name":"StopRinging","fields":["CallId","Reason","RingingDuration","Details"],"required":true},{"name":"EnterFromCallCard"},{"name":"TouchBarButtonClick"},{"name":"CallManagerError","fields":["MethodName","CallId"],"required":true},{"name":"Error","fields":["CallId","CallFailureType","CallFailureTypeLabel","CallTerminatedReason","CallTerminatedReasonLabel","CallValidationFailureReason","ErrorMessage","CallAction","CauseId"],"required":true},{"name":"InviteFreeDecline"},{"name":"PushNotification","fields":["CallId","EventType","IsStarted","Source","TimeWaitingToProcess","ActivationState","StopRingReason","ParticipantId","IsDuplicate","RegistrationId","CauseId"],"required":true},{"name":"TokenRequested"},{"name":"CallAddPhotosEvent","extends":"CallAddPhotosBaseEvent"},{"name":"CallAddPhotosWithFabEvent","extends":"CallAddPhotosBaseEvent"},{"name":"AddToCallEvent"},{"name":"CallAudioSettingsPopup","fields":["CallId","DidChangeMicDevice","DidChangeSpeakerDevice","DidAdjustSpeakerVolume","DidAdjustMicVolume"],"required":true},{"name":"CallCaptioningEvent","fields":["Action","IsAutoJoin","CaptioningLengthSeconds","FistCaptionReceivedLengthSeconds","CallId","CaptioningSessionId","SpokenLanguage","SubtitleLanguage","OtherSpokenLanguage","FirstCaptionReceivedLengthSeconds","StartMessageClickedCount"],"required":true},{"name":"CallPstnTranslationLanguageChangeEvent","fields":["CallId","CaptioningSessionId","PrevLanguage","Language","IsLocal"],"required":true},{"name":"CallPstnTranslationSettingsOpened","fields":["CallId","CaptioningSessionId"]},{"name":"CallCrash","fields":["CallId","CallState","ParticipantId"],"required":true},{"name":"CallDataChannelEvent","fields":["CallDataChannelEventType","HandledValue","ErrorCode","ErrorSubCode","ErrorText","RetryAttempt","DataChannelId","CallId"],"required":true},{"name":"CallFullScreenBotError","fields":["CallId","ErrorCode","BotType"],"required":true},{"name":"CallAudienceEvent"},{"name":"CallGridViewEvent"},{"name":"CallMergeEvent"},{"name":"MuteEveryone"},{"name":"CallPreview"},{"name":"CallRecorderBotDebugEvent"},{"name":"CallRecordingEvent"},{"name":"InCallRosterSession"},{"name":"CallStageLayoutChange"},{"name":"CallTranslatorDebug"},{"name":"AddBotToCallInitiated","fields":["BotType","CallId"],"required":true},{"name":"AddBotToCallSucceeded","fields":["BotType","CallId","AddBotDurationInMs"],"required":true},{"name":"AddBotToCallFailed","fields":["BotType","CallId","AddBotDurationInMs","ErrorCode"],"required":true},{"name":"CallVideoSettingsPopup","fields":["CallId","DidChangeCameraDevice"],"required":true},{"name":"CallViewMenuAction"},{"name":"CancelPreheatedCallNotJoined"},{"name":"CanvasAndRibbonActionsEvent"},{"name":"EndCallPopupMenuEvent"},{"name":"FullChatUX"},{"name":"InCallActivity"},{"name":"InCallReaction"},{"name":"InCallUFD","fields":["CallId","UFDType","UFDActionType"],"required":true},{"name":"LocalVideoActionsEvent"},{"name":"MaybeEndCallFromAndroidBtScoDisconnect"},{"name":"MediaAction"},{"name":"MobileCallAnswerEvent"},{"name":"NdiBroadcastEvent"},{"name":"OverflowMenuOpened"},{"name":"RaiseHand"},{"name":"LowerMyHand"},{"name":"LowerOthersHand"},{"name":"RaisedHandListExpanded"},{"name":"RibbonSettingsMenuEvent"},{"name":"RingTheGroup"},{"name":"RinglessCallInterstitial"},{"name":"GetIcon"},{"name":"GetPreview"},{"name":"ScreenSharingStopped"},{"name":"SpeakerView"},{"name":"SystemHotKeyCall"},{"name":"TogetherModePanelAction"},{"name":"UnansweredCallActionEvent","fields":["CallId","CallingTerminatedReason","CallingFailureType","UcuxReason","UcuxAction"],"required":true},{"name":"CallReconnectSinceStarted","fields":["CallId","CauseId","TimeDurationInSeconds"],"required":true},{"name":"Zoomed"},{"name":"PinCallParticipant","fields":["CallId"],"required":true},{"name":"UnpinCallParticipant","fields":["CallId"],"required":true},{"name":"ToggleCallTray","fields":["CallId","WasHidden"],"required":true},{"name":"CallConnectedOnAnswer","fields":["CallId","Origin","ConnectedIn","IsTimedOut","CauseId"],"required":true},{"name":"CallParticipantRendererIsRenderingEvent","fields":["CallId","ParticipantId","Origin","RenderingEstablishmentTime","IsTimedOut"],"required":true},{"name":"InformedCallKit","fields":["CallId","CallAction","OngoingCallCount","CauseId"],"required":true},{"name":"AnswerOrJoinCall","fields":["CallId","CallAction","Origin"],"required":true},{"name":"IncomingCallScreenDisplayed","fields":["CallId","Duration","IsTimedOut"],"required":true},{"name":"LiveStateDetectionTimeout","fields":["CallId","OtherActiveCallId"],"required":true},{"name":"CallSlimCoreError","fields":["CallId","SlimCoreErrorType","CauseId","TerminatedReason","CurrentState","NewState"],"required":true},{"name":"CallUserAction","fields":["CallId","UserAction","CauseId","Origin"],"required":true},{"name":"CallManagerRequestComplete","fields":["MethodName","Duration"]},{"name":"CallAddPhotosBaseEvent"}]}},{"name":"calling_pstn_directory_item","fields":["Action","Target","EnableSendSms"],"extends":"telemetryeventbase"},{"name":"s4l_call_tabs","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"CallTabsSearch","fields":["origin"],"extends":"CallTabsBase","required":true},{"name":"CallTabsButtons","fields":["tab","button","event","userHasEntitlements"],"extends":"CallTabsBase","required":true},{"name":"CallTabsList","fields":["tab","event"],"extends":"CallTabsBase","required":true},{"name":"CallTabsBase","fields":["Action"]}]}},{"name":"captureactionbase","extends":"telemetryeventbase"},{"name":"navigationcapturescreen","extends":"captureactionbase"},{"name":"camera_action","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"CameraVisibleTime"},{"name":"MarkupAdded"},{"name":"VideoReencode"},{"name":"CameraFailure","extends":"CameraEventBase"},{"name":"CameraFirstFrame","extends":"CameraEventBase"},{"name":"MediaCaptured","fields":["MediaCount","Success","FailureReason"],"extends":"CameraEventBase","required":true},{"name":"QRCodeScan"},{"name":"ColorFilterFailure"},{"name":"ColorFilterRenderDuration"},{"name":"CameraEventBase","fields":["Source"]}]}},{"name":"office_lens_lenssdk_launchlensandroid","required":true,"fields":["SessionId","LensSdkVersion","TelemetryEventTimestamp","CurrentWorkFlowType","CameraXBindUsecasesToPreview","IsEmbeddedLaunch","RecoveryMode","IsDexModeEnabled","IsInterimCropEnabled","IsMultiWindowEnabled","IsTalkBackEnabled","SDKMode","CameraXBindUsecasesApi","LaunchPerf"],"extends":"telemetryeventbase"},{"name":"office_lens_lenssdk_savemediaandroid","required":true,"fields":["SessionId","LensSdkVersion","TelemetryEventTimestamp","CurrentWorkFlowType","MediaId","FileSizeBeforeCleanUp","ImageWidthBeforeCleanUp","ImageHeightBeforeCleanUp","FileSizeAfterCleanUp","ImageWidthAfterCleanUp","ImageHeightAfterCleanUp","Source","ProcessMode","Filter","FileSizeAfterSave","Reason","Duration","TrimmedDuration","OriginalVideoFileSize"],"extends":"telemetryeventbase"},{"name":"office_lens_lenssdk_launchlensios","required":true,"fields":["Lens_SessionId","version","currentWorkflowId","LensEventName","defaultWorkflow","imageDPI","isExistingUser","isFirstLaunch","isResumeSession","launchReason","launchWorkflowItem","mediaCompressionFactor"],"extends":"telemetryeventbase"},{"name":"office_lens_lenssdk_savemediaios","required":true,"fields":["Lens_SessionId","version","currentWorkflowId","LensEventName","mediaId","source","mode","filter","imageSize","imageDPI","sizeinPixel","Ink","TextSticker","orignalImageSize","processedImageSize","VideoEntity","duration"],"extends":"telemetryeventbase"},{"name":"office_lens_fallback_android","required":true,"fields":["Mode"],"extends":"telemetryeventbase"},{"name":"captureprovider","required":true,"fields":["Scenario","Provider","Success","UserCancelled","FailureReason","VideoCount","ImageCount"],"extends":"telemetryeventbase"},{"name":"platforms_onecamera_action","fields":["Scenario","OneCameraEventName"]},{"name":"all_clips","fields":["Action","SequenceId","Sequence"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"OpenedClipsGallery","required":true},{"name":"ClipsGalleryLoaded","required":true},{"name":"ShareButtonClicked"},{"name":"EditButtonClicked"},{"name":"MakePrivateClicked"},{"name":"MakePrivateConfirmed"},{"name":"MakePrivateCanceled"},{"name":"MakePrivateSuccess","required":true},{"name":"MakePrivateFailed","required":true},{"name":"MakePublicClicked"},{"name":"MakePublicConfirmed"},{"name":"MakePublicCanceled"},{"name":"MakePublicSuccess","required":true},{"name":"MakePublicFailed","required":true},{"name":"DeleteClicked"},{"name":"DeleteConfirmed"},{"name":"DeleteCanceled"},{"name":"DeleteSuccess","required":true},{"name":"DeleteFailed","required":true},{"name":"OpenVideoClicked"},{"name":"DownloadClicked"},{"name":"ExitGallery","required":true},{"name":"BeginRecord","fields":["Origin"],"required":true},{"name":"ReadyToRecord","required":true},{"name":"InitRecordStart","required":true},{"name":"CountdownStart"},{"name":"StartRecord"},{"name":"StopRecord"},{"name":"PauseRecord"},{"name":"ResumeRecord"},{"name":"MicrophoneChanged"},{"name":"CameraChanged"},{"name":"CameraDisabled"},{"name":"CameraEnabled"},{"name":"ScreenSelectionChanged"},{"name":"MuteRecord"},{"name":"UnmuteRecord"},{"name":"DiscardRecord"},{"name":"DiscardConfirm"},{"name":"DiscardCancel"},{"name":"ExitRecord","required":true},{"name":"RecordError","fields":["ErrorMessage"],"required":true},{"name":"UpsellClicked","fields":["Origin"],"required":true},{"name":"UpsellShown","fields":["Origin"],"required":true},{"name":"UpsellClosed","fields":["Origin"],"required":true}]}},{"name":"s4l_entitlement_experiments","fields":["Action","ExperimentName","ExperimentLocation","LayoutOption","UserEntitlementsSummary","IsFreeTrialAvailable","NavigateTo"],"extends":"telemetryeventbase"},{"name":"s4l_entitlement_ucux_cta","fields":["Action"],"extends":"telemetryeventbase"},{"name":"s4l_callerid","required":true,"fields":["Action","ActionClick","Location","TerminatedReasonName","Type","Attempt","TargetCountryCode"],"extends":"telemetryeventbase"},{"name":"s4l_kycverify","required":true,"fields":["Action","SkypeinId","SkypeinCountry","Type","Attempt","ErrorCode","ActivateNumber"],"extends":"telemetryeventbase"},{"name":"s4l_failure_screen","required":true,"fields":["Action","Location"],"extends":"telemetryeventbase"},{"name":"s4l_component","fields":["Action","Location","Component"],"extends":"telemetryeventbase"},{"name":"s4l_taster_call_ended","fields":["Action","CallDuration","TerminatedReason"],"extends":"telemetryeventbase"},{"name":"credit_upsell","fields":["Action"],"extends":"telemetryeventbase"},{"name":"messaging_sms","required":true,"fields":["Action","ClientMessageId","ErrorCategory","Status","CallerIdType","IsValidNumber","CallerCountry","FlowId","RequestId","CorrelationId","DestinationCountry","DestinationType","Source"],"extends":"telemetryeventbase"},{"name":"s4l_dialpad","required":true,"fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"NavigateToDialpad","fields":["NavigationSource","UsePrefilledNumber","SmsNewEntry"]},{"name":"PasteNumber"},{"name":"StartCall"},{"name":"EmergencyNumber"},{"name":"EmergencyCall","fields":["Action"],"required":true},{"name":"EmergencyCallFailed","fields":["Action"],"required":true},{"name":"EmergencyCallDefaultCountryChanged","fields":["Country"]},{"name":"DialerPanelComponentClick","fields":["Target","UserEntitlementsSummary","SmsNewEntry","WillGoToCallerIdWarning"]},{"name":"SaveContactButtonShow"},{"name":"SaveContactSuceeded"},{"name":"SaveContactCancelled"},{"name":"ContactSelected"},{"name":"DefaultCountryStored","fields":["CountryOld","CountryNew"]},{"name":"TasterImageShown"},{"name":"E911Acknowledgement","fields":["Action"],"required":true},{"name":"E911LocationConsent","fields":["Action","IsGranted"],"required":true},{"name":"E911LocationUpdate","fields":["Action"],"required":true},{"name":"E911EmergencyContent","fields":["Action"],"required":true},{"name":"E911BingMaps","fields":["Action","StatusCode"],"required":true},{"name":"RenderInvalidNotification","fields":["Action","ShowInvalidNumberNote","ShowInvalidNoteBeforeStartCall","OpenedOnInvalidNumberError"],"required":true},{"name":"StartPSTNCallWithInvalidNotification","fields":["Action","CauseId"],"required":true}]}},{"name":"monetization_ads","required":true,"fields":["Action","AdsElapsedTime","ErrorCode","ErrorMessage","PlacementId","PlacementName","NaExperimentName","AdsProvider","IsPersonalized","ImageLoaded","TrackerDomain","TrackerType","Origin","AdSessionId"],"extends":"telemetryeventbase"},{"name":"s4l_atu","fields":["Action"],"extends":"telemetryeventbase"},{"name":"adid_provisioning","fields":["ad_id","MSACID"],"extends":"telemetryeventbase"},{"name":"ads_personalization","required":true,"fields":["Status"],"extends":"telemetryeventbase"},{"name":"ads_rightpane","required":true,"fields":["SourceId","IsPaneOpen","Reason","Origin","Action","Count"],"extends":"telemetryeventbase"},{"name":"s4l_offers","required":true,"fields":["Action","StartOrderSessionId"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"PromotionDetailsReceived","fields":["OfferType","InAppAllowed","GoLink"]},{"name":"PurchaseContinuationPanelOpened","fields":["Action","OfferType","CampaignRef"]},{"name":"RecommendedSubscriptionsLoaded","fields":["Action","CardsToShowCount","TotalCardsCount"],"required":true},{"name":"SkypeNumberLoaded","required":true},{"name":"CreditProductsLoaded","fields":["Location"],"required":true},{"name":"CreditProductRequestFailed","fields":["IsNative"],"required":true},{"name":"ContinueButtonClicked","fields":["CardType","Location","OfferType","CampaignRef","CardsToShowCount","isDefaultOpened","OrderId","SkuId"]},{"name":"OffersIntroductionButtonClick","fields":["Step"]},{"name":"CreditOfferOptionClick","fields":["CreditOffer","IsStacked","CreditPickerSize"]},{"name":"BuyCreditOfferOptionClick","fields":["CreditOffer","ButtonType","Location"]},{"name":"CreditPickerRenderingError","fields":["Action"],"required":true},{"name":"CreditPickerNoOffersToRender","fields":["Action","Location"],"required":true},{"name":"CreditPickerNoOffersRetryClick","fields":["Location"]},{"name":"SkypeNumberPanelOpened","fields":["Location"],"required":true},{"name":"SkypeNumberPurchaseFlowClick","fields":["ButtonClicked","DefaultClick"]},{"name":"SkypeNumberPurchaseFlowOptionClick","fields":["SkypeNumberOption"]},{"name":"SkypeNumberPurchaseFlowOptionSelected","fields":["SkypeNumberOption","OptionSelectedCountryRegion","OptionSelectedArea","OptionSelectedPrefix"]},{"name":"LoadingFinished","fields":["Action","Duration","Location","ClosedBeforeLoadingFinish","IsNative"],"required":true},{"name":"SkypeNumberGetClicked"},{"name":"SkypeNumberProfileGetClicked","fields":["Location"]},{"name":"SkypeNumberMeControlGetClicked"},{"name":"SkypeNumberListEntryClicked"},{"name":"SkypeNumberListGetClicked"},{"name":"SkypeNumberInfoClicked"},{"name":"SkypeNumberInfoScreenContinueButtonClicked"},{"name":"SkypeNumberMeControlListEntryClicked"},{"name":"SkypeNumberProfileSectionViewed"},{"name":"SkypeNumberProfileSectionViewedNativeExperience"},{"name":"SkypeNumberProfileSectionClickedShowPurchaseFlow","fields":["Location"]},{"name":"SkypeNumberProfileSectionClickedShowListNumbers","fields":["Location"]},{"name":"SkypeNumberMeControlSectionViewed","required":true},{"name":"SkypeNumberMeControlSectionViewedNativeExperience","required":true},{"name":"SkypeNumberMeControlSectionClickedShowPurchaseFlow","fields":["Location"]},{"name":"SkypeNumberMeControlSectionClickedShowListNumbers","fields":["Location"]},{"name":"SkypeNumberPurchaseButtonClickedShowPurchaseFlow","fields":["Action","Location"]},{"name":"SkypeNumberRefreshedSkypeNumberTenTimes"},{"name":"SkypeNumberReservationSuceeded"},{"name":"SkypeNumberReservationFailed","fields":["Action"],"required":true},{"name":"SkypeNumberPurchaseEntryButtonShown","fields":["Location"]},{"name":"SkypeNumberLearnMoreButtonShown","fields":["Location"]},{"name":"SkypeNumberWebGetButtonShown","fields":["Location"]},{"name":"SkypeNumberFetchedAfterBuy","fields":["Action","FromBuyToFetchDuration"],"required":true},{"name":"SkypeNumberWasProvisioned","fields":["Action"],"required":true},{"name":"SkypeNumberCopyClicked"},{"name":"SkypeNumberDesktopShareClicked"},{"name":"SkypeNumberDesktopShareClickedOutlook"},{"name":"SkypeNumberDesktopShareClickedDefaultMail"},{"name":"SkypeNumberDesktopShareClickedGmail"},{"name":"SkypeNumberShareClicked"},{"name":"SkypeNumberShareError","fields":["Action"],"required":true},{"name":"SkypeNumberShareSuccess"},{"name":"SkypeNumberEmailClicked"},{"name":"SkypeNumberSettingsClicked"},{"name":"SkypeNumberManageClicked"},{"name":"SkypeNumberOverlayDisplayed"},{"name":"SkypeNumberPanelViewed"},{"name":"SkypeNumberDialogOpened"},{"name":"SkypeNumberActionClickedSettings"},{"name":"SkypeNumberActionClickedReactivate"},{"name":"SkypeNumberActionClickedExtend"},{"name":"SkypeNumberActionClickedIosSettings"},{"name":"SkypeNumberActionDialogClickedSettings"},{"name":"SkypeNumberActionDialogClickedReactivate"},{"name":"SkypeNumberActionDialogClickedExtend"},{"name":"SkypeNumberActionDialogClickedIosSettings"},{"name":"SkypeNumberCallerIdDisabled"},{"name":"SkypeNumberCallerIdEnabled"},{"name":"SkypeNumberCallerIdChanged"}]}},{"name":"s4l_stratus_commerce","required":true,"fields":["Action","ApiFunction","TimeSpent","Method","AcceptType","EndpointUrl","StatusCode","StratusStatusCode"],"extends":"telemetryeventbase"},{"name":"s4l_payments","required":true,"fields":["Action","StartOrderSessionId"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"gplay_step","fields":["step","supportsGooglePlay","supportsGooglePlaySubscriptions","errorCode","errorDomain","paymentStatus","product_id","product_price","product_currency","product_country","method","unexpectedCode","configuredProducts","receivedProducts","reinitializationCount","retryNumber","transactionId","orderId"],"required":true},{"name":"gpay_step","fields":["step","errorCode","errorMessage"],"required":true},{"name":"payment_step","fields":["step","product_id","productIdentifier","paymentStatus","error","errorCode","errorDomain","errorBody","method","product_price","product_currency","product_country","code","transactionId","configuredProducts","received","identifier","location","target","billingPeriods","status","retryNumber","orderId","skuid","skypeinCountry","skypeinId"],"required":true},{"name":"credit_payment_step","fields":["step","product_id","productIdentifier","paymentStatus","error","errorCode","errorDomain","errorBody","method","product_price","product_currency","product_country","code","transactionId","configuredProducts","received","identifier","location","target","billingPeriods","status","retryNumber","orderId","skuid","skypeinCountry","skypeinId"],"required":true},{"name":"skypephone_payment_step","fields":["step","product_id","productIdentifier","paymentStatus","error","errorCode","errorDomain","errorBody","method","product_price","product_currency","product_country","code","transactionId","configuredProducts","received","identifier","location","target","billingPeriods","status","retryNumber","orderId","skuid","skypeinCountry","skypeinId"],"required":true},{"name":"purchase_step","fields":["step"]},{"name":"buy_credit_click","extends":"PurchaseIntentBase","required":true},{"name":"buy_subscription_click","extends":"PurchaseIntentBase","required":true},{"name":"buy_skypenumber_click","fields":["CountryRegion","Area","Prefix"],"extends":"PurchaseIntentBase","required":true},{"name":"purchase_dialog_open","fields":["Action","DialogId","product_id"],"required":true},{"name":"purchase_dialog_click","fields":["Action","DialogId","ButtonType"],"required":true},{"name":"fetch_native_product","fields":["Duration","IsSuccess","Error"]},{"name":"send_credit","fields":["Step"],"required":true},{"name":"skype_order_create_success","fields":["order","SessionIdd","orderId"],"required":true},{"name":"skype_start_payment","required":true},{"name":"SkypeNumberLoadFailed","fields":["Error"],"required":true},{"name":"PurchaseIntentBase","fields":["IsNative","Product","ProductCurrency","AppStoreCountry","TimeSpent","ButtonType"]}]}},{"name":"s4l_entitlement","required":true,"fields":["Action","StartOrderSessionId"],"extends":"prioritytelemetryeventbase","variation":{"key":"Action","variants":[{"name":"RatesFetching","fields":["Action","Duration"],"required":true},{"name":"OrderPollNotificationReceived","fields":["Action","Reason"],"required":true},{"name":"OrderNotificationOrEntitlementsUpdated","fields":["Action","ConsumeTime","DidConsumeFail","DidBalanceUpdate","DidSubscriptionsUpdate","DidSkypeNumbersUpdate","Reason"],"required":true},{"name":"EntitlementIntegrationError","fields":["Action","Step","Description"],"required":true},{"name":"PushEtagExpired","fields":["Action","CurrentEtag","PushEtag","EtagDiff"],"required":true},{"name":"ReactivationStep","fields":["Step"]},{"name":"BalanceStateNavigation","fields":["NavigationSource","EntitlementsCombination","ContentShown"],"required":true},{"name":"BalanceStatePanelComponentClick","fields":["Target"]},{"name":"SubscriptionDetailsLinkClick","fields":["SubscriptionId"]},{"name":"SubscriptionUpgrade","fields":["Step","OriginSubscriptionId","UpgradeSubscriptionId","OriginSubscriptionMinutesLeft"]},{"name":"SubscriptionSearchComponentClick","fields":["Target","SearchedCountry"]},{"name":"SubscriptionSearchAction","fields":["SearchedCountry"]},{"name":"ManageSubscription","fields":["Step","SubscriptionId"]},{"name":"AADCPanelLoaded","fields":["navigationScreen","infoLinkClicked"],"required":true}]}},{"name":"s4l_entitlement_polling","fields":["Action"],"extends":"prioritytelemetryeventbase","variation":{"key":"Action","variants":[{"name":"ServicesFetching","fields":["Duration"]},{"name":"BalanceStatePollNotificationReceived","fields":["Reason"]},{"name":"BalanceStatePollNotificationConsumed","fields":["ConsumeTime","DidConsumeFail","DidBalanceUpdate","DidSubscriptionsUpdate","DidSkypeNumbersUpdate","Reason"]}]}},{"name":"s4l_channels","fields":["Action","cv"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"ChannelOpen","fields":["Origin"],"required":true},{"name":"ChannelPreview","fields":["Origin"],"extends":"ChannelEvent","required":true},{"name":"ChannelFollow","fields":["Origin"],"extends":"ChannelHealthEvent","required":true},{"name":"ChannelUnfollow","fields":["Origin"],"extends":"ChannelHealthEvent","required":true},{"name":"ChannelMute","fields":["Origin","IsSuccess"],"extends":"ChannelHealthEvent","required":true},{"name":"ChannelUnmute","fields":["Origin","IsSuccess"],"extends":"ChannelHealthEvent","required":true},{"name":"ChannelFavorite","fields":["Origin"],"extends":"ChannelHealthEvent","required":true},{"name":"ChannelUnfavorite","fields":["Origin"],"extends":"ChannelHealthEvent","required":true},{"name":"MarkLastViewedItem","extends":"ChannelHealthEvent","required":true},{"name":"FetchFREContent","extends":"ContentChannelsHealthEvent","required":true},{"name":"ChannelShare","extends":"ChannelEvent","required":true},{"name":"FREOpen","fields":["Origin"],"required":true},{"name":"FREComplete","fields":["Reason","IsSuccess","SubmittedChannels"],"required":true},{"name":"ArticleOpen","fields":["Origin"],"extends":"ChannelEvent","required":true},{"name":"ContentChannelExternalContentFetch","fields":["ContentType","Origin","IsSuccess"],"required":true},{"name":"ChannelCopyLink","fields":["Origin"],"required":true},{"name":"ChannelExternalShareLink","fields":["Origin"],"required":true},{"name":"ArticleShare","fields":["IsExternal"],"required":true},{"name":"ContentChannelCleanup","fields":["IsSuccess"],"required":true},{"name":"ImageLoad","fields":["IsSuccess"],"required":true},{"name":"ChannelRead","fields":["Origin"],"extends":"ChannelHealthEvent","required":true},{"name":"ChannelUnread","fields":["Origin"],"extends":"ChannelHealthEvent","required":true},{"name":"DismissUpsellCard","fields":["Origin"],"required":true},{"name":"FetchStoreContent","extends":"ContentChannelsHealthEvent","required":true},{"name":"FetchUpsellContent","extends":"ContentChannelsHealthEvent","required":true},{"name":"UnreadChannels","extends":"ContentChannelsHealthEvent","required":true},{"name":"FetchUserChannels","extends":"ContentChannelsHealthEvent","required":true},{"name":"ChannelInfoFetch","fields":["ShortId"],"extends":"ChannelHealthEvent","required":true},{"name":"ChannelEvent","fields":["ChannelId"]},{"name":"ChannelHealthEvent","fields":["IsSuccess","StatusCode","Market","Reason"]},{"name":"ContentChannelsHealthEvent","fields":["IsSuccess","StatusCode","Market","Reason"]}]}},{"name":"s4l_msn_market","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Fetch","fields":["IsSuccess"],"required":true},{"name":"Select","fields":["Market","Type"],"required":true}]}},{"name":"context_menu_event","required":true,"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"ContextMenuShown","required":true},{"name":"ContextMenuItemClicked","required":true},{"name":"MiniContextMenuShown","required":true},{"name":"MiniContextMenuItemClicked","required":true},{"name":"BottomSheetPanelShown"},{"name":"WebSearchEntryClicked"},{"name":"AnalyzedEntityShown"},{"name":"AnalyzedEntityClicked"}]}},{"name":"kpibase","fields":["DeviceInfo_Os_Version"],"extends":"telemetryeventbase"},{"name":"telemetryeventbase","fields":["Skype_InitiatingUser_IsGuest","Skype_InitiatingUser_Username","ShellType","PlatformType","Version","Platform_Id","Platform_Uiversion","session_id","ChatEndpointId","NetworkType","ecs_etag","AppInfo.ExperimentIds","DeviceInfo.Model","DeviceInfo.Make","UserType"],"extends":"ariabase"},{"name":"kpi_inapp_activity_start","required":true,"fields":["Entry_Point","IsUedEventProcessingEnabled"],"extends":"prioritykpibase"},{"name":"messagecorrelationkpibase","fields":["Message_Correlation_Id","Registration_Id","Endpoint_Id","Conversation_Id","Client_Message_Id","Server_Message_Id","MriNamespace","ThreadSuffix","MessageCorrelationIdV1"],"extends":"prioritykpibase"},{"name":"kpi_message_sent","required":true,"fields":["Sending_Time","Queue_Time","Blocked_Time","Retry_Count","Message_Type","Message_RawType","Character_Count","Bot_Conversation"],"extends":"messagecorrelationkpibase"},{"name":"kpi_message_delivered","required":true,"fields":["Message_Type","MessageRawType","CorrelationVector","Message_Origin","OriginsCount","MessageAlreadySeen","Delivery_Timestamp","DeliveryDelay","MessageStoreUsed","Bot_Conversation"],"extends":"messagecorrelationkpibase"},{"name":"ariabase","fields":["AppInfo.Version","AppInfo.Language","UserInfo.Language","UserInfo.TimeZone","UserInfo.Id","DeviceInfo.OsName","DeviceInfo.OsVersion","DeviceInfo.Id","DeviceInfo.BrowserName","DeviceInfo.BrowserVersion","EventInfo.Name","EventInfo.SdkVersion","EventInfo.Source","EventInfo.Time"]},{"name":"browser_calling_support","required":true,"fields":["Action","ErrorMessage"],"extends":"telemetryeventbase"},{"name":"fundamentals_database_error","required":true,"fields":["WebSQLCode","SQLiteCode","Message","isNewDAL"],"extends":"telemetryeventbase"},{"name":"fundamentals_db_debug","required":true,"fields":["ProviderName","TimeToOpen","IsNormalConnection"],"extends":"telemetryeventbase"},{"name":"fundamentals_empty_body_debug","required":true,"fields":["RestClient","Scenario","RequestId","StatusCode","StatusText"],"extends":"telemetryeventbase"},{"name":"all_notification_registration","required":true,"fields":["Action","Code","Message","NetworkConnectivityLevel","RegistrationAction"],"extends":"prioritytelemetryeventbase"},{"name":"all_reencode_session","required":true,"fields":["State","ReencodeDuration","OriginalAssetFetchDuration","HasOverlay","ErrorType","ErrorInfo","VideoDuration","SourceWidth","SourceHeight","SourceFileSize","OutputWidth","OutputHeight","OutputFileSize","EstimatedFileSize","TransactionID"],"extends":"telemetryeventbase"},{"name":"all_notification","required":true,"fields":["Action","EventType","EventTypeName","SignedIn","TimeToProcess","CorrelationVector"],"extends":"telemetryeventbase"},{"name":"push_notification","required":true,"fields":["EventType","EventCode","MessageId","ClientMessageId","IsMyMessage","Result","MessageCorrelationId","ErrorCode","CorrelationVector","EventDate","TelemetrySentFrom","InsertedMessageToDB","CreatedMessageFromNotification","UpdatedConversationFromNotification","UpdatedConversationFromCS"],"extends":"telemetryeventbase"},{"name":"awt_stats","required":true,"fields":["TenantId"],"extends":"ariabase"},{"name":"ecs_tsclient_fetch_config","required":true,"fields":["fetch_delay_ms","fetch_response_code","fetch_attempts","authenticated_user","url","fetch_duration_valid","cache_available","response_size","config_age","config_expired","fetch_start","fetch_end","is_user_config","fetched_etag","fetch_timed_out","fetch_response_parsing_error","fetch_error_message"]},{"name":"appcore_report_problem_dialog"},{"name":"ipad_cred_migiration","required":true,"fields":["isDone"],"extends":"telemetryeventbase"},{"name":"watch_connected","required":true,"fields":["isConnected"],"extends":"telemetryeventbase"},{"name":"siri","required":true,"fields":["Action"],"extends":"telemetryeventbase"},{"name":"calendar_extension","required":true,"fields":["Action"],"extends":"telemetryeventbase"},{"name":"notification_received","required":true,"fields":["timestamp","correlationId","cv","eventType"],"extends":"telemetryeventbase"},{"name":"notification_slimcore_completed","required":true,"fields":["result","callId","eventType"],"extends":"telemetryeventbase"},{"name":"notification_handling","required":true,"extends":"telemetryeventbase"},{"name":"notification_emitted_to_react","required":true,"fields":["timestamp","correlationId","cv"],"extends":"telemetryeventbase"},{"name":"all_settings","extends":"telemetryeventbase"},{"name":"prioritytelemetryeventbase","extends":"telemetryeventbase"},{"name":"prioritykpibase","fields":["DeviceInfo_Os_Version"],"extends":"prioritytelemetryeventbase"},{"name":"purposefulevent","required":true,"fields":["CorrelationId"],"extends":"telemetryeventbase"},{"name":"local_storage_usage","required":true,"extends":"telemetryeventbase"},{"name":"all_navigation","required":true,"fields":["NavigationType","NavigationTo","CallId"],"extends":"telemetryeventbase"},{"name":"fundamentals_service_worker","required":true,"fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"StateChanged","fields":["State"],"required":true},{"name":"ErrorCaught","fields":["Name","Error"],"required":true},{"name":"ServiceWorkerBaseEvent"}]}},{"name":"diagnosticevent","fields":["Diagnostic"],"extends":"telemetryeventbase"},{"name":"resub_callback_error","required":true,"fields":["Error","Callback","Arguments"],"extends":"diagnosticevent"},{"name":"engagementtelemetryeventbase","fields":["Action","CampaignId","T_CampaignId","T_VariantId","T_Iteration","PostMessageReason"],"extends":"telemetryeventbase"},{"name":"engagement_popcard_event","required":true,"extends":"engagementtelemetryeventbase","variation":{"key":"Action","variants":[{"name":"PopCardDelivered","fields":["DeliveryTime","SentTime","DeliveryDuration","MessageId","MessageCorrelationId"],"required":true},{"name":"PopCardReceived","required":true},{"name":"PopCardDisplay","required":true},{"name":"PopCardTapButton","fields":["buttonIndex"],"required":true},{"name":"PopCardParseError"},{"name":"PopCardBulkSizeExceeded"},{"name":"PopCardClientVersionMismatch"},{"name":"PopCardCompleted"},{"name":"PopCardDiscardedOnFirstRun"},{"name":"PopCardDiscardedForChild"},{"name":"PopCardDismiss"},{"name":"PopCardExpand"},{"name":"PopCardExperimentNotAllocated"},{"name":"PopCardExperimentVariantMismatch"},{"name":"PopCardExpired"},{"name":"PopCardInvalidPlaceholder"},{"name":"PopCardMissingContent"},{"name":"PopCardReceivedControl"},{"name":"PopCardSuppressed"},{"name":"PopCardTapCard"},{"name":"PopCardTimeout"},{"name":"PopCardUnsupportedValidForPeriod"},{"name":"PopCardUnsupportedDelayForPeriod"},{"name":"PopCardEnqueued"},{"name":"PopCardDequeued"},{"name":"PopCardWrongLanguage"},{"name":"PopCardWrongPlatform"}]}},{"name":"engagement_notice_event","required":true,"extends":"engagementtelemetryeventbase","variation":{"key":"Action","variants":[{"name":"NoticeDelivered","fields":["DeliveryTime","SentTime","DeliveryDuration","MessageId","MessageCorrelationId"],"required":true},{"name":"NoticeReceived","required":true},{"name":"NoticeTapCard","required":true},{"name":"NoticeTapButton"},{"name":"NoticeBulkSizeExceeded"},{"name":"NoticeClientVersionMismatch"},{"name":"NoticeCompleted"},{"name":"NoticeDiscardedOnFirstRun"},{"name":"NoticeDiscardedForChild"},{"name":"NoticeDismiss"},{"name":"NoticeExperimentNotAllocated"},{"name":"NoticeExperimentVariantMismatch"},{"name":"NoticeExpired"},{"name":"NoticeInvalidPlaceholder"},{"name":"NoticeMissingContent"},{"name":"NoticeParseError"},{"name":"NoticeReceivedControl"},{"name":"NoticeTimeout"},{"name":"NoticeUnsupportedContentType"},{"name":"NoticeUnsupportedValidForPeriod"},{"name":"NoticeUnsupportedDelayForPeriod"},{"name":"NoticeEnqueued"},{"name":"NoticeDequeued"},{"name":"NoticeWrongLanguage"}]}},{"name":"engagement_push_notification_event","required":true,"extends":"engagementtelemetryeventbase","variation":{"key":"Action","variants":[{"name":"PushNotificationDelivered","fields":["DeliveryTime","SentTime","DeliveryDuration","MessageId","MessageCorrelationId"],"required":true},{"name":"PushNotificationReceived","required":true},{"name":"PushNotificationDisplayed","required":true},{"name":"PushNotificationTap","required":true},{"name":"PushNotificationClientVersionMismatch"},{"name":"PushDiscardedForChild"},{"name":"PushNotificationDismissedDueToActivity"},{"name":"PushNotificationDismissedOnFeatureCategory"},{"name":"PushNotificationDisplayFailed"},{"name":"PushNotificationExperimentNotAllocated"},{"name":"PushNotificationExperimentVariantMismatch"},{"name":"PushNotificationParseError"},{"name":"PushNotificationReceivedControl"},{"name":"PushNotificationSuppressed"},{"name":"PushNotificationTimestampParsingError"},{"name":"PushNotificationWrongLanguage"}]}},{"name":"engagement_pull_request","required":true,"fields":["DidSucceed","Source","FailureReason","CampaignId","CampaignVariant","RequestDurationMs","ServerStatusCode","MessageCorrelationId"],"extends":"telemetryeventbase"},{"name":"engagement_guest_upsell","required":true,"fields":["Action","Type"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"UpsellPanelPresented","required":true},{"name":"SisuStarted","required":true},{"name":"SisuFinished","required":true},{"name":"MeetNowFlowStarted"},{"name":"UnknownAction"}]}},{"name":"engagement_banner","required":true,"fields":["Action","BannerType"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Displayed","required":true},{"name":"Clicked","required":true},{"name":"Dismissed"},{"name":"NotDisplayed"}]}},{"name":"engagement_tooltip","required":true,"fields":["Action","TooltipType"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Display","required":true}]}},{"name":"engagement_settings","required":true,"fields":["Source","IsToggled"],"extends":"telemetryeventbase"},{"name":"engagement_coach_mark_event","required":true,"fields":["Action","CoachMarkType","Error","ErrorDescription"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Open","required":true},{"name":"Close"},{"name":"Suppress","required":true}]}},{"name":"inviteuser","fields":["Status","Count"],"extends":"telemetryeventbase"},{"name":"contactinvite","fields":["Type","Origin"],"extends":"telemetryeventbase"},{"name":"engagement_feedback_event","extends":"engagementtelemetryeventbase"},{"name":"feedback_navigation","fields":["Target","IsFailure"],"extends":"telemetryeventbase"},{"name":"feedbackinitiated","extends":"telemetryeventbase"},{"name":"celebration_notification","fields":["Action","CampaignId","CardGuid","NumberOfTopContacts","DidIdentifyDifferentTopContacts","CelebratedUser"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"NotificationCreated"},{"name":"SelectedTopContactUserProfileIncomplete"},{"name":"PullCampaignContentServiceFailed"},{"name":"ContactCutOffLimitReached"},{"name":"NotificationAlreadyShown"}]}},{"name":"engagement_shareable_content","fields":["Action","CampaignId","TextInputEnabled","CarouselEnabled","OneClickSendEnabled","HasShareButton","SharesCount","HasUsedSearch","HasUsedCarousel","HasSharedTextMsg","CardsShareCount","CardsShared"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"OpenDialog"},{"name":"CloseDialog"},{"name":"DismissDialog"}]}},{"name":"engagement_message","fields":["Action","MessageType","MessageCorrelationId","MessageId","ConversationId"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"BotMessageServiceConvSyncFailBricked"},{"name":"BotMessageServiceConvSyncFailNoMeta"},{"name":"BotMessageServiceConvSyncFailNoProgress"},{"name":"BotMessageServiceUnsupportedMessageType"},{"name":"BotMessageServiceWaitingMessage"},{"name":"ChatServiceBlockedMessage"},{"name":"TelemetryObjectNotFound"},{"name":"InvalidPlatformListInPayload"},{"name":"InvalidClientVersionInPayload"}]}},{"name":"engagement_client_triggered_campaigns","fields":["Action","IsOfflineTargeted","CampaignId","CampaignVariant","CampaignVersion","NewCampaignsCount","UpdatedCampaignsCount","DeletedCampaignsCount","DurationInMs","Status","MessageCorrelationId"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"New"},{"name":"Update"},{"name":"Delete"},{"name":"Finished"},{"name":"LoadCampaign"},{"name":"LoadingCampaign"},{"name":"OpenCampaign"},{"name":"Reset"}]}},{"name":"all_prompt_app_rating","required":true,"fields":["Action","Metric"],"extends":"telemetryeventbase"},{"name":"intelligence_tonerewrite","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"SuggestionPress","fields":["Tone"],"required":true},{"name":"ToneChange","fields":["Tone"],"required":true},{"name":"MessageUpdate","fields":["Tone"],"required":true},{"name":"MessageCopy","fields":["Tone"],"required":true},{"name":"TonesMismatch","required":true},{"name":"LoadingDrop","required":true},{"name":"InstructionsRequest","fields":["TimeSpent"],"required":true},{"name":"InstructionsRequestError","fields":["TimeSpent","ErrorCode"],"required":true}]}},{"name":"intelligence_consent","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"AIConsentGiven","fields":["Origin"],"required":true}]}},{"name":"intelligence_image_generation","fields":["Action","Origin"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"OpenPanel","required":true},{"name":"ImageGenerationStarted","required":true},{"name":"ImageGenerationFailed","fields":["ErrorCode"],"required":true},{"name":"UseIdeaPrompt","required":true},{"name":"PreviewIdea","required":true},{"name":"RecreateClick","required":true},{"name":"SendImage","fields":["Source","ShareCount"],"required":true},{"name":"SendAllImages","fields":["Source","ShareCount"],"required":true},{"name":"CopyPrompt","fields":["Source","ShareCount"],"required":true},{"name":"CopyImage","fields":["Source","ShareCount"],"required":true},{"name":"ExpandImage","fields":["Source","ShareCount"],"required":true},{"name":"ForwardPrompt","fields":["Source","ShareCount"],"required":true},{"name":"UsePrompt","fields":["Source","ShareCount"],"required":true},{"name":"EditPrompt","fields":["Source","ShareCount"],"required":true}]}},{"name":"join_conversation","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"JoinGroupConversation","fields":["ExistingMember","IsMeetNowThread"],"extends":"JoinTelemetryEventBase","required":true},{"name":"AddMemberToThreadError","fields":["StatusCode","StatusText","ContextId","ErrorCode","ErrorMessage"],"extends":"JoinTelemetryEventBase","required":true},{"name":"JoinTelemetryEventBase","fields":["Action","JoinLinkOrigin","PreSisu","NavigationConversationOrigin","BrowserOrigin","ConversationId"]}]}},{"name":"join_guest","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"GuestCreationError","fields":["RequestId","TimedOut","StatusCode","Url"],"extends":"GuestJoinTelemetryEventBase","required":true},{"name":"GuestCreationSuccess","extends":"GuestJoinTelemetryEventBase","required":true},{"name":"GuestLoginAvailable","extends":"GuestJoinTelemetryEventBase","required":true},{"name":"GuestLoginAttempt","extends":"GuestJoinTelemetryEventBase","required":true},{"name":"GuestMeetingCreationServiceError","extends":"GuestCreationServiceErrorEvent","required":true},{"name":"GuestJoinTelemetryEventBase","fields":["Action"]},{"name":"GuestCreationServiceErrorEvent","fields":["RequestId","TimedOut","StatusCode","Url"]}]}},{"name":"join_link_resolution","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"JoinLinkResolutionError","fields":["ResolutionError"],"extends":"JoinLinkResolutionTelemetryEventBase","required":true},{"name":"ShortIdResolutionServiceSuccess","extends":"ShortIdResolutionServiceEventBase","required":true},{"name":"ShortIdResolutionServiceError","fields":["RequestId","TimedOut","StatusCode"],"extends":"ShortIdResolutionServiceEventBase","required":true},{"name":"JoinLinkResolutionTelemetryEventBase","fields":["Action"]},{"name":"ShortIdResolutionServiceEventBase","fields":["ShortId","ConversationId"],"extends":"JoinLinkResolutionTelemetryEventBase"}]}},{"name":"join_link_retrieval","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"JoinLinkRetrievalServiceSuccess","extends":"JoinLinkRetrievalServiceEventBase","required":true},{"name":"JoinLinkRetrievalServiceError","fields":["RequestId","IsTimedOut","StatusCode","Url"],"extends":"JoinLinkRetrievalServiceEventBase","required":true},{"name":"JoinLinkRetrievalServiceEventBase","fields":["ConversationId","ShortId"]}]}},{"name":"navigation_deeplink","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"OpenDeepLink","fields":["JoinLinkPath","UrlAction","TabName","UrlParamSource","LinkType"],"extends":"DeepLinkTelemetryEventBase","required":true},{"name":"DeepLinkTelemetryEventBase"}]}},{"name":"calling_meet_now","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MeetNowUriReceived","fields":["Origin","Partner"],"required":true},{"name":"MeetNowDeeplinkProcessed","fields":["Origin","Partner"],"required":true},{"name":"MeetNowError","fields":["MeetNowError","MeetNowErrorCode"],"required":true},{"name":"MeetNowClick","fields":["ClickType"],"required":true},{"name":"MeetNowLobbyMounted","fields":["Origin","Partner"],"required":true},{"name":"MeetNowRepeatedGuestLogin","required":true},{"name":"MeetNowClosePanel"},{"name":"MeetNowCreatedOnJoinLinkPanel"},{"name":"MeetNowJoinLinkPanelClosed"},{"name":"MeetNowAddSkypeContact"},{"name":"MeetNowMeetingNameManuallyChanged","required":true},{"name":"MeetNowUserNameChanged","required":true},{"name":"MeetNowAvatarPickerOpen","required":true},{"name":"MeetNowAvatarNotSelected","required":true},{"name":"MeetNowAvatarSelected","fields":["SelectedAvatarType","EmoticonsSelectedBeforeUpload","StickersSelectedBeforeUpload"],"required":true},{"name":"MeetNowTitleSelected","fields":["MeetingName","Category","WasSuggested"],"required":true},{"name":"MeetNowSharePopupCloseEvent"},{"name":"MeetNowJoinLinkInSearchBarEvent"},{"name":"ShareProfileQRCodeButtonClicked"},{"name":"ShareProfileQRCodeSuccess","required":true},{"name":"ShareProfileQRCodeFailure","required":true}]}},{"name":"conversationtelemetrybase","fields":["ConversationId","IsBotConversation","IsGroupConversation","IsEncryptedConversation","IsBookmarkConversation","IsMeetNowThread","MriNamespace","ThreadSuffix"],"extends":"prioritytelemetryeventbase"},{"name":"messagetelemetrybase","fields":["MessageCorrelationId","MessageType","MessageRawType","IsOwnMessage"],"extends":"conversationtelemetrybase"},{"name":"message_sent","required":true,"fields":["ReceiverMri","ReceiverUserId","ClientMessageId","EndpointId","RegistrationId","CharacterCount","PostSource","EmoticonCount","NativeEmojiCount","HasWikiMarkup","DirectMentionCount","HasAllMention","IsBingBotConversation","HasBingBotMention","QuotedMessageLength","Conversation_Members_Number","MessageCorrelationIdV1"],"extends":"messagetelemetrybase"},{"name":"message_read","required":true,"extends":"messagetelemetrybase","optionalFields":["MessageType"]},{"name":"message_received_read","required":true,"fields":["Bot_Conversation","Conversation_Id","MessageCount","Group_Conversation","Conversation_Members_Number","IsEncryptedConversation"],"extends":"messagetelemetrybase"},{"name":"message_typing","required":true,"fields":["EndpointId","RegistrationId"],"extends":"conversationtelemetrybase"},{"name":"message_consumed","required":true,"fields":["Clicked_Timestamp","Server_Message_Id","Action","Is_Quoted"],"extends":"messagetelemetrybase"},{"name":"reactionactiontelemetrybase","extends":"messagetelemetrybase","optionalFields":["IsOwnMessage"]},{"name":"messaging_send_delayed","required":true,"fields":["DelayTimeDuration"],"extends":"messagetelemetrybase"},{"name":"reaction_action","extends":"reactionactiontelemetrybase"},{"name":"reaction_summary_click","extends":"reactionactiontelemetrybase"},{"name":"messaging_reaction","fields":["Action"],"extends":"reactionactiontelemetrybase","variation":{"key":"Action","variants":[{"name":"ReactionAdded","fields":["Success","Origin"],"required":true},{"name":"ReactionRemoved","fields":["Success","Origin"],"required":true}]}},{"name":"chat_service_force_sync","required":true,"fields":["Reason","ForceSyncSuccess"],"extends":"telemetryeventbase"},{"name":"chat_service_failure","required":true,"fields":["scenario","mriType","StatusCode","StatusText","error_code","ErrorMessage","context_id","ServerTime","Connection_Type","Canceled","TimedOut","CorrelationVector","source","threadType","Partner","propKey","RetryAfter","MriNamespace"],"extends":"telemetryeventbase"},{"name":"chat_service_app_internal_failure","required":true,"fields":["NetworkType","WasNetworkingAvailable"],"extends":"chat_service_failure"},{"name":"chat_service_transformation_failure","required":true,"fields":["Message","ResourceType","CorrelationVector","Error","MriNamespace","ThreadSuffix"],"extends":"telemetryeventbase"},{"name":"chat_service_redirect","required":true,"fields":["Source","TargetEnvironment","PreviousEnvironment","TargetUrl","PreviousUrl"],"extends":"telemetryeventbase"},{"name":"ams_failure","required":true,"fields":["service_name","scenario","status_code","request_id","correlation_id","transaction_id"],"extends":"telemetryeventbase"},{"name":"download_service","required":true,"fields":["operation","failure_source","time_to_failure","number_retries","status_code","status_text","requestId","correlationId","transactionId"],"extends":"telemetryeventbase"},{"name":"file_sent","required":true,"fields":["Message_Type","Size","Source","Success","UploadDuration","Extension","NumOfConvs","Reason","ViewId","DocId","FinishedAttemptsCount","ResponseStatusCode"],"extends":"kpibase"},{"name":"file_received","required":true,"fields":["Success","DownloadDuration","Intent","MediaProfile","Extension","ViewId","DocId","FailureReason","Size","DownloadSpeed","FinishedAttemptsCount","ResponseStatusCode","ErrorInfo"],"extends":"kpibase"},{"name":"file_action","required":true,"fields":["file_type","action","file_size_bytes","version","network_type","auto_download"],"extends":"kpibase"},{"name":"basepostingfailure","fields":["failure_source","num_of_convs","post_source","conversation_origin","time_to_failure","number_retries","status_code","status_text","file_size","file_type","error_code","error_message","context_id","date","PostId","ClientMessageId","RequestId","MessageType","MriType","TriggerdBy","CorrelationId","Tcid"],"extends":"telemetryeventbase"},{"name":"send_failure","required":true,"fields":["is_permanent"],"extends":"basepostingfailure"},{"name":"send_recovered","required":true,"extends":"basepostingfailure"},{"name":"messaging_sms_post_success","required":true,"extends":"basepostingfailure"},{"name":"messaging_avatarpicker","fields":["Action","TriggeredBy"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"PESAvatarChanged","fields":["IsSuccess","IsUserAvatar","ErrorType","ErrorCode"],"required":true}]}},{"name":"messaging_pes","required":true,"fields":["BrowsingDuration"],"extends":"telemetryeventbase"},{"name":"messaging_pesitem","extends":"telemetryeventbase"},{"name":"messaging_pes_backgroundcolor","extends":"telemetryeventbase"},{"name":"people_syncaddressbookdialog","required":true,"fields":["DidPressNextOnValueProp","DidHavePermission","DidPromptBefore","DidRequestPermission","DidGrantPermission","DidStartSync","DidVisitPrivacyStatement","DidSeeLearnMoreButton","DidVisitLearnMorePopup"],"extends":"onboardingdialogevent"},{"name":"people_contacts_action","fields":["Action","Status"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"GetContacts","fields":["IsFromServer","ErrorCode"],"required":true}]}},{"name":"reportmessage","extends":"telemetryeventbase"},{"name":"reportmessagefailure","required":true,"fields":["ErrorCode"],"extends":"telemetryeventbase"},{"name":"settings_privacy","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"ManageSearchOpened"},{"name":"ReceiveContactSuggestions"},{"name":"AppearInSuggestionResults"},{"name":"AppearInSearchResults"},{"name":"PhoneDiscoverability"},{"name":"SendFullTelemetry","fields":["DidGrantPermission","Origin"],"required":true}]}},{"name":"randomlysampledkpibase","extends":"kpibase"},{"name":"kpi_longpoll_complete","required":true,"fields":["EventCountTotal","RequestDuration","ActiveTimeout"],"extends":"randomlysampledkpibase"},{"name":"kpi_longpoll_failed","required":true,"fields":["ResponseCode","RequestDuration","DidProcessEvents","ActiveTimeout"],"extends":"randomlysampledkpibase"},{"name":"chat_service_bundle_processing_failure","required":true,"fields":["description"],"extends":"telemetryeventbase"},{"name":"kpi_chatsync_failed","required":true,"fields":["response_code"],"extends":"randomlysampledkpibase"},{"name":"kpi_chatsync_complete","required":true,"fields":["sync_time","ran_in_background","synced_conversations","synced_messages","is_first_sync","is_full_sync"],"extends":"randomlysampledkpibase"},{"name":"messaging_e2ee","fields":["Action","Status","Reason"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Invite","fields":["Origin"]},{"name":"Accept","fields":["Origin"]},{"name":"Confirm","fields":["IsAutoConfirm"],"required":true},{"name":"Reject","fields":["RejectionReason"],"required":true},{"name":"Retry","fields":["RetryType"],"required":true},{"name":"EncryptionFailure","required":true},{"name":"DecryptionFailure","required":true}]}},{"name":"messaging_network","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"CaptivePortal","fields":["RequestSuccess","CheckResult","ConnectedBefore","CheckBefore","StatusText","IsTimeout"],"required":true},{"name":"CaptivePortalBrowserOpen"},{"name":"ConnectivityAlertShow","fields":["AlertType"]},{"name":"ConnectivityAlertDismiss","fields":["AlertType"]},{"name":"CaptivePortalQuestionnaire"}]}},{"name":"people_census","required":true,"fields":["ConversationsCountTotal","ConversationsCountDisplayable","ConversationsCountDisplayed","RecentListConversationsCount","RecentListSkype1on1ConversationsCount","RecentListSkypeGroupConversationsCount","RecentListSkypeBotConversationsCount","RecentListPstnConversationsCount","RecentListPrivateConversationsCount","RecentListConversationsWithTabsCount","RecentListOtherConversationsCount","Muted1on1ConversationsCount","MutedGroupConversationsCount","SmartMutedConversationsCount","TranslatedConversationsCount","ManuallyAddedContactsCount","BlockedContactsCount","BotsContactsCount","FavoritesContactsCount","AllNonBlockedContactsCount","OneWayShortCircuitContactsCount","TwoWayShortCircuitContactsCount","PstnContactsCount","EngagedContactsCount","AllShownContactsCount","RemovedAuthorizedContactsCount","FollowingChannelsCount","PhoneVerificationState"],"extends":"telemetryeventbase"},{"name":"messaging_toast","fields":["Action","ToastType","IsGroupConversation","ConversationId"],"extends":"telemetryeventbase"},{"name":"messaging_notification","required":true,"fields":["NotificationAction","IsSystemNotification"],"extends":"messaging_toast"},{"name":"messaging_search","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"OpenedMessageSearch"},{"name":"ClosedMessageSearch"},{"name":"TriggeredLoadMoreMessages"},{"name":"NavigatedToPrevResult"},{"name":"NavigatedToNextResult"}]}},{"name":"unsafe_domain","extends":"telemetryeventbase"},{"name":"messaging_share_to_skype","required":true,"fields":["Action","IsSharedToContact","ErrorCode","IsSendingVideo","IsSendingImage","Type","EntrySource"],"extends":"telemetryeventbase"},{"name":"invitestelemetryevents","fields":["Origin","InviteType"],"extends":"telemetryeventbase"},{"name":"people_invite_link_shared","extends":"invitestelemetryevents"},{"name":"people_invite_link_revoked","required":true,"fields":["InviteType","RequestDuration","ErrorCode","ErrorMessage","IsSuccess"],"extends":"invitestelemetryevents"},{"name":"profile","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MyMoodEdited","fields":["MoodCharCount","UpdateLocation","IsSuccess","ErrorCode","Duration"],"required":true},{"name":"ProfileFetchRequestEvent","fields":["IsSuccess","ErrorCode","IsGuestNameUpdate"],"required":true},{"name":"MyProfileFetch","fields":["IsSuccess","ErrorCode"],"required":true},{"name":"EditOrCopyLinkClicked","fields":["ClickType","ClickSource"]},{"name":"ProfileOpened","fields":["Type","Origin"]},{"name":"MediaGalleryButtonClicked"}]}},{"name":"messaging_action","fields":["Action","Origin","TimeToActionDuration","DocId","SearchSelectionUsedAfterHintShown"],"extends":"messagetelemetrybase","variation":{"key":"Action","variants":[{"name":"Forward","fields":["SkypeConversationCount","PrivateConversationCount","SmsConversationCount"],"required":true},{"name":"ShareFile","fields":["IsShared","Error","FileExtension"],"required":true},{"name":"Quote","extends":"QuotesEventTelemetry","required":true},{"name":"ClearQuote","extends":"QuotesEventTelemetry","required":true},{"name":"KeyboardCopy","extends":"KeyboardMessagesTelemetry","required":true},{"name":"KeyboardPaste","extends":"KeyboardMessagesTelemetry","required":true},{"name":"SelectMessages","extends":"SelectedMessagesTelemetry","required":true},{"name":"Cancel","required":true},{"name":"CancelRejected","required":true},{"name":"RetryFailed","required":true},{"name":"ShowReportedMessage","required":true},{"name":"Copy","required":true},{"name":"CopyLink","required":true},{"name":"Delete","required":true},{"name":"Edit","required":true},{"name":"MarkMessageUnread","required":true},{"name":"DismissActionMenu","required":true},{"name":"DragDropFromConversationToRecentLists","required":true},{"name":"AddBookmark","required":true},{"name":"RemoveBookmark","required":true},{"name":"SearchSelection","required":true},{"name":"QuickReply","fields":["IsQuickReply"],"required":true},{"name":"QuickReplyLoaded","required":true},{"name":"QuotesEventTelemetry","fields":["QuotesTriggerType","QuotesMessageType"]},{"name":"KeyboardMessagesTelemetry","fields":["MessagesCount"]},{"name":"SelectedMessagesTelemetry","fields":["SelectedMessagesCount","SelectedMessagesAction","ForwardToConversationCount","SelectedMessagesDisabledCopy","SelectedMessagesDisabledRemove","SelectedMessagesDisabledForward"]}]}},{"name":"conversation_action","fields":["Action","Conversation_NameSpace","Conversation_Id"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"conversation_marked_read","fields":["Consumption_Horizon"],"required":true},{"name":"conversation_archived","fields":["Origin","IsGroupConversation"],"required":true},{"name":"conversation_unarchived","fields":["Origin","IsGroupConversation"],"required":true},{"name":"conversation_deleted","fields":["Source","ConversationType"],"required":true},{"name":"conversation_deletion_failed","fields":["ErrorCode","Source","ConversationType"],"required":true},{"name":"conversation_deletion_canceled","fields":["ConversationType","Source"],"required":true},{"name":"conversation_list_item_clicked","fields":["Item_id","ConversationType"],"required":true},{"name":"translation_action","fields":["TranslationAction","FromLanguage","ToLanguage"],"required":true}]}},{"name":"people_user_actions","required":true,"fields":["Action","Duration","Scenario","IsFirstSuccessfulSearch"],"extends":"telemetryeventbase"},{"name":"notificationsprompt_action","fields":["Action","Origin"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"displayed","required":true},{"name":"opened","fields":["Enabled_Notifications"],"required":true},{"name":"closed","required":true},{"name":"prompt_displayed","required":true}]}},{"name":"messaging_gallery","fields":["Action","IsGroupConversation","IsEncryptedConversation"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Opened","required":true},{"name":"AddItemPanelOpened"},{"name":"AddItemViaDragAndDrop"},{"name":"CommandSelected","fields":["ItemType","Command"],"required":true},{"name":"ItemViewed","fields":["ItemType"],"required":true},{"name":"FilterSwitched","fields":["From","To"]}]}},{"name":"enhanced_history_search","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Reveal"},{"name":"Date"},{"name":"QuickLastImage"},{"name":"QuickLastLink"}]}},{"name":"messaging_translateone","fields":["Action","ToggleOrigin","MessageCorrelationId"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"TranslateOneMessage","required":true},{"name":"ShowOriginalMessage","required":true},{"name":"OpenTranslateMenu","required":true},{"name":"ChangeLanguageAndTranslateOneMessage","fields":["Lang"],"required":true}]}},{"name":"messaging_magicbot","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MagicBotPin","required":true},{"name":"MagicBotUnpin","required":true},{"name":"MagicBotMentionedByClick","required":true},{"name":"MagicBotConsentGivenOnSendAttempt","required":true},{"name":"MagicBotConsentGivenOnWelcome","required":true},{"name":"PreviewLabelClicked","required":true},{"name":"MagicBotAutoAddedByMention","required":true},{"name":"MagicBotOneOnOneMessageSent","required":true},{"name":"MagicBotOneOnOneToggle","fields":["Origin","Enabled"],"required":true},{"name":"ToolboxOpen","fields":["Origin","Target"],"required":true},{"name":"ToolboxSectionClick","fields":["SectionId"],"required":true},{"name":"ToolboxItemClick","fields":["SectionId","ItemId","Origin"],"required":true}]}},{"name":"people_contacts_panel","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Opened","extends":"ContactsPanelEvent"},{"name":"Closed","extends":"ContactsPanelEvent"},{"name":"TabsSwitched","extends":"ContactsPanelEvent"},{"name":"ShowActiveNow","extends":"ContactsPanelEvent"},{"name":"ShowAllMyContacts","extends":"ContactsPanelEvent"},{"name":"AddContactPanelOpened","fields":["Origin"]},{"name":"ContactsPanelEvent","fields":["Action","Tab"]}]}},{"name":"contactspanelbannerevent","fields":["BannerType"],"extends":"people_contacts_panel","variation":{"key":"Action","variants":[{"name":"Shown"},{"name":"Clicked"},{"name":"Dismissed"}]}},{"name":"caap_message_composer_overflow","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MessageOverflowOpenButtonClicked"},{"name":"MessageOverflowCloseButtonClicked"},{"name":"MessageOverflowMinimized"}]}},{"name":"integrationevent","fields":["IntegrationCorrelationId"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"IntegrationLaunched"},{"name":"IntegrationCloseButtonClicked"},{"name":"IntegrationSharePreviewLaunched"},{"name":"IntegrationShared"},{"name":"IntegrationShareCanceled"}]}},{"name":"integrationshareevent","fields":["ContentType","SessionCorrelationId","Origin"],"extends":"integrationevent"},{"name":"caap_bing","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"bing_location_permissions","fields":["Status","PermissionEntryPoint"],"required":true}]}},{"name":"caap_bot","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MessageBot","fields":["BotID"],"required":true},{"name":"DeleteBot","fields":["BotID"],"required":true},{"name":"BlockBot","fields":["BotID"],"required":true},{"name":"ClickChatWithBot","fields":["BotID"],"required":true},{"name":"ClickShareBot","fields":["BotID"],"required":true},{"name":"ViewBotProfile","fields":["BotID"],"required":true},{"name":"AutoAddBot","fields":["BotID"],"required":true},{"name":"ShareMagicBotLink"},{"name":"SearchIncorrectName","fields":["BotID"]}]}},{"name":"messaging_link_bing","extends":"conversationtelemetrybase"},{"name":"messaging_settings","fields":["Setting"],"extends":"telemetryeventbase","variation":{"key":"Setting","variants":[{"name":"ChatNotifications","fields":["DidEnable","ConversationId","Value","Source","ConversationType"],"required":true},{"name":"AutoDownloadFilesV2","fields":["Mode"],"required":true}]}},{"name":"messaging_mybot","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"FreHeadClose","fields":["NoMessage"],"required":true},{"name":"MyBotTooltipShow","required":true},{"name":"MyBotTooltipClose","fields":["CloseType"],"required":true},{"name":"QRDialogClose"},{"name":"QRImgClick","fields":["NoMessage"]}]}},{"name":"messagecomposercontrolevent","fields":["Action","Type"],"extends":"conversationtelemetrybase"},{"name":"messaging_share_panel","required":true,"fields":["EntryPoint","SharesCount"],"extends":"telemetryeventbase"},{"name":"richtexteditoreventbase","extends":"telemetryeventbase"},{"name":"messaging_rich_text_editor","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"FormatterConsumed"},{"name":"RichTextEditorActionEventBase","fields":["Source"]}]}},{"name":"mediaeventbase","fields":["Action"],"extends":"telemetryeventbase"},{"name":"all_media","required":true,"fields":["AudioDuration","PlaybackState","SpeedIndex","IsSuccess","TranscriptionDuration"],"extends":"mediaeventbase"},{"name":"conversation_created","required":true,"fields":["MriNamespace"],"extends":"telemetryeventbase"},{"name":"messaging_trouter","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"TrouterDisconnectedTooLong","fields":["TimeoutInMilliseconds"],"required":true}]}},{"name":"onboardingtelemetryeventbase","fields":["IsNewUser"],"extends":"telemetryeventbase"},{"name":"onboarding_setup","fields":["DialogOrigin"],"extends":"onboardingtelemetryeventbase","variation":{"key":"Action","variants":[{"name":"started","fields":["DialogOrigin","AppState","StepSequence","NotificationsPermission","CameraPermission","MicrophonePermission","ContactsPermission"],"extends":"SetupWizardEventBase","required":true},{"name":"avatar_changed","fields":["ChangeType","Success","Duration","DialogOrigin"],"extends":"SetupWizardEventBase","required":true},{"name":"failed","fields":["DialogOrigin"],"extends":"SetupWizardEventBase","required":true},{"name":"finished","fields":["Duration","DialogOrigin","Success","StepSequence"],"extends":"SetupWizardEventBase","required":true},{"name":"bugReportedInWizard","fields":["DialogOrigin"],"extends":"SetupWizardEventBase"},{"name":"clickedOutside","fields":["DialogOrigin"],"extends":"SetupWizardEventBase"},{"name":"user_profile_change","extends":"SetupWizardEventBase"},{"name":"SwitchAccount","extends":"SetupWizardEventBase"},{"name":"SetupWizardEventBase"}]}},{"name":"onboarding_user_status","required":true,"fields":["AvatarPolicy","AvatarState","SetupWizardCompletionTimestamp","UserIsNew","NotificationsPermission","CameraPermission","MicrophonePermission","ContactsPermission"],"extends":"telemetryeventbase"},{"name":"dialogevent","fields":["Origin","Duration","OnboardingDisplayOrder","OnboardingStepsCount","Exit","IsNewUser"],"extends":"telemetryeventbase"},{"name":"onboardingdialogevent","extends":"dialogevent"},{"name":"settings_avatarpickerdialog","fields":["DidHaveInitialAvatar","DidHaveFinalAvatar","DidSetNewAvatar","DidRemoveAvatar","AvatarSource","DidRequestCameraPermission","DidGrantCameraPermission","DidRequestCameraRollPermission","DidGrantCameraRollPermission","DidUseWAMAutoSignInFlow"],"extends":"onboardingdialogevent"},{"name":"settings_optionalwamautosigninwelcomedialog","extends":"onboardingdialogevent"},{"name":"settings_avsettingsdialog","fields":["DialogType","DidChangeCameraSetting","DidChangeMicSetting","DidChangeSpeakerSetting","DidChangeSpeakerVolume","DidChangeRingingDeviceSetting","DidAdjustMicrophone","DidChangeMicAutoAdjustment","ShouldAutoAdjustMic","DidPerformAudioTest","DidPerformTestCall"],"extends":"onboardingdialogevent"},{"name":"settings_promptpermissiondialog","fields":["DidAlreadyPropmptNotificationsPermission","DidAlreadyPropmptMicPermission","DidAlreadyPropmptCameraPermission","DidRequestNotificationsPermission","DidRequestMicPermission","DidRequestCameraPermission","DidRequestReadPhoneStatePermission","DidGrantNotificationsPermission","DidGrantMicPermission","DidGrantCameraPermission","DidGrantReadPhoneStatePermission","DidNotificationPermissionRequestFailed","DialogVersion"],"extends":"onboardingdialogevent"},{"name":"onboarding_postsetup","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"tutorialLaunched","fields":["Origin","IsRestarted"],"extends":"OnboardingPostSetupEventBase"},{"name":"emptyStateCtaDisplayed","fields":["Origin"],"extends":"OnboardingPostSetupEventBase"},{"name":"welcomeViewWithProfileUpdateDisplayed","extends":"OnboardingPostSetupEventBase"},{"name":"welcomeViewWithCardsDisplayed","extends":"OnboardingPostSetupEventBase"},{"name":"finishSetupPromptClicked","extends":"OnboardingPostSetupEventBase"},{"name":"activityDone","fields":["ActivityType"],"extends":"OnboardingPostSetupEventBase"},{"name":"SetupWizardEventBase"},{"name":"OnboardingPostSetupEventBase"}]}},{"name":"onboarding_homescreen","fields":["Action","IsNewUser"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"LandingPageShown","extends":"HomeScreenEventBase"},{"name":"StartNewConversationClicked","extends":"HomeScreenEventBase"},{"name":"SwitchAccountClick","extends":"CheckAccountSectionEventBase"},{"name":"CheckAccountSectionUnknownSignId","fields":["OriginalVariant"],"extends":"CheckAccountSectionEventBase"},{"name":"HomeScreenEventBase"},{"name":"CheckAccountSectionEventBase","fields":["Variant"],"extends":"HomeScreenEventBase"}]}},{"name":"onboarding_landing_page_with_cards","required":true,"fields":["Action","CardName","ActionPerformed"],"extends":"onboardingtelemetryeventbase"},{"name":"settings_themedialog","fields":["DidToggleLightDarkTab","DidSelectNewTheme","FinalTheme","UserColor","Mode"],"extends":"onboardingdialogevent"},{"name":"settings_optionaltelemetryconsentdialog","extends":"onboardingdialogevent"},{"name":"settings_permission_status","required":true,"fields":["Type","SubType","Status","Origin"],"extends":"telemetryeventbase","variation":{"key":"SubType","variants":[{"name":"NotificationPush","extends":"PermissionsStatusChangeBase"},{"name":"NotificationLocal","extends":"PermissionsStatusChangeBase"},{"name":"None","extends":"PermissionsStatusChangeBase"},{"name":"PermissionsStatusChangeBase"}]}},{"name":"onboarding_rewards_upsell","required":true,"fields":["TaskType"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Clicked","fields":["TaskType","ViewName"],"required":true},{"name":"Shown","fields":["TaskType","ViewName"],"required":true},{"name":"RewardsCampaign","fields":["TaskType","IsFirstRun","IsFromEagle"],"required":true},{"name":"RewardsTask","fields":["TaskType","CompletedTask","InProgress"],"required":true},{"name":"OnboardingUpsellEventBase"}]}},{"name":"free_call_sync_contacts","fields":["Action","PermissionGranted"],"extends":"telemetryeventbase"},{"name":"onboarding_upsell","required":true,"fields":["Action"],"extends":"telemetryeventbase"},{"name":"shortcircuitcontactsprocessed","required":true,"fields":["count","isInitialSync","duration","HashSentCount"],"extends":"telemetryeventbase"},{"name":"shortcircuitcontactserror","required":true,"fields":["error","isInitialSync","HashSentCount"],"extends":"telemetryeventbase"},{"name":"shortcircuitphonenumberregistration","required":true,"fields":["IsSuccess","Source","ErrorCode"],"extends":"telemetryeventbase"},{"name":"correct_local_address_book_phone_numbers","required":true,"fields":["shortPhoneNumbersCount","correctedPhoneNumbersCount"],"extends":"telemetryeventbase"},{"name":"contacts_visibility_ratio","required":true,"fields":["cvr"],"extends":"telemetryeventbase"},{"name":"sayhipopuptelemetryevent","required":true,"fields":["Action","IsNewUser","SkypeContactCount","ShortCircuitContactCount"],"extends":"telemetryeventbase"},{"name":"notifymyfriendsevent","required":true,"fields":["StatusCode","ShortCircuitContactCount"],"extends":"telemetryeventbase"},{"name":"perf","required":true,"fields":["Scenario","Duration","IsZeroTermSearch","Endpoint","SearchLimit","ErrorCode","ErrorMessage","WasNetworkAvailable","AdditionalLoading","QueryLength","Origin","SearchResultsListOrigin","RequestStepDuration","PublicDirectoryRequestDuration","MessageRequestDuration","IndexedDbRequestDuration","BotsRequestDuration","AllPeopleRequestDuration","FastContactsRequestDuration","MessageInConversationRequestDuration","ConfirmedGoodConnection","MessageCorrelationId","Interrupted","TimeTillInterruption","ActivationState","AppLaunchedFromBackground"],"extends":"prioritytelemetryeventbase"},{"name":"foreground_start_not_allowed","required":true,"fields":["CallId","TotalTimeDuration"],"extends":"telemetryeventbase"},{"name":"notif_perf","required":true,"fields":["Provider","NotificationInitializedJS","IncomingCallScreenDisplayed","Phase_Waiting_For_JS_Initialization","Phase_Initial_Native_Processing","Phase_JS_Processing","Phase_Native_Displaying","Phase_Total","NotificationProcessing","IsTimeout","ActivationState"],"extends":"telemetryeventbase"},{"name":"app_open_status","required":true,"fields":["AdvertisingId","UserHasActiveEntitlements","DwellTime","LifeCycle","LifeCycleChangeTimestamp"],"extends":"telemetryeventbase"},{"name":"install_attribution","required":true,"fields":["campaign","adid","trackerName","network","callbackPerf","initPerf"],"extends":"telemetryeventbase"},{"name":"pluginlessbaseevent","fields":["uiVersion","clientVersion","vdiVersion","userAgent","userType","UserRole","clientType","buildtime","appState","pageVisible","flights","theme","preferredLocales","locale","localeResolution","dbOpen","host","authType","sessionId","identitytype","rtlMode","MSACID","UserInfo_Id","AppInfo.Version","AppInfo.ExperimentIds","CorrelationId","DeviceInfo.OsVersion","DeviceInfo.BrowserName","DeviceInfo.BrowserVersion","DeviceInfo.OsName","DeviceInfo.Id","EventInfo.Name","EventInfo.SdkVersion","EventInfo.Source","EventInfo.Time","UserInfo.Language","UserInfo.TimeZone","UserInfo.Id"]},{"name":"mdsc_webrtc_session_initial","required":true,"fields":["TerminatedReason","TerminatedState","participant_id","endpoint_id","media_leg_id","ts_calling_version","Extensions_WebRTCStats_recvCounters_video","Extensions_WebRTCStats_recvCounters_sharing","Extensions_WebRTCStats_ssrc_audio_send_audioInputLevel","Extensions_WebRTCStats_ssrc_audio_send_googResidualEchoLikelihoodRecentMax","Extensions_WebRTCStats_ssrc_audio_send_googEchoCancellationEchoDelayMedian","Extensions_WebRTCStats_ssrc_audio_send_googEchoCancellationEchoDelayStdDev","Extensions_WebRTCStats_ssrc_audio_send_googEchoCancellationReturnLoss","Extensions_WebRTCStats_ssrc_audio_send_googCodecName","Extensions_WebRTCStats_ssrc_audio_send_totalAudioEnergy","Extensions_WebRTCStats_ssrc_audio_send_ssrc","Extensions_WebRTCStats_ssrc_audio_send_googTypingNoiseState","Extensions_WebRTCStats_ssrc_audio_send_googEchoCancellationReturnLossEnhancement","Extensions_WebRTCStats_ssrc_audio_send_packetsSent","Extensions_WebRTCStats_ssrc_audio_send_bytesSent","Extensions_WebRTCStats_ssrc_audio_send_totalSamplesDuration","Extensions_WebRTCStats_ssrc_audio_send_packetsLost","Extensions_WebRTCStats_ssrc_audio_send_googRtt","Extensions_WebRTCStats_ssrc_audio_send_jitter","Extensions_WebRTCStats_bweStat_googActualEncBitrate","Extensions_WebRTCStats_bweStat_googAvailableSendBandwidth","Extensions_WebRTCStats_ssrc_audio_send_googResidualEchoLikelihood","Extensions_WebRTCStats_bweStat_googAvailableReceiveBandwidth","Extensions_WebRTCStats_bweStat_googTargetEncBitrate","Extensions_WebRTCStats_bweStat_googBucketDelay","Extensions_WebRTCStats_bweStat_googTransmitBitrate","Extensions_WebRTCStats_bweStat_googRetransmitRate","Extensions_WebRTCStats_statsErrors","Extensions_WebRTCStats_ssrc_audio_recv_googCaptureStartNtpTimeMs","Extensions_WebRTCStats_ssrc_audio_recv_packetsLost","Extensions_WebRTCStats_ssrc_audio_recv_googSecondaryDecodedRate","Extensions_WebRTCStats_ssrc_audio_recv_googDecodingPLC","Extensions_WebRTCStats_ssrc_audio_recv_packetsReceived","Extensions_WebRTCStats_ssrc_audio_recv_jitter","Extensions_WebRTCStats_ssrc_audio_recv_googDecodingCNG","Extensions_WebRTCStats_ssrc_audio_recv_googPreferredJitterBufferMs","Extensions_WebRTCStats_ssrc_audio_recv_googSpeechExpandRate","Extensions_WebRTCStats_ssrc_audio_recv_totalSamplesDuration","Extensions_WebRTCStats_ssrc_audio_recv_totalAudioEnergy","Extensions_WebRTCStats_ssrc_audio_recv_googDecodingPLCCNG","Extensions_WebRTCStats_ssrc_audio_recv_googCodecName","Extensions_WebRTCStats_ssrc_audio_recv_googDecodingNormal","Extensions_WebRTCStats_ssrc_audio_recv_googSecondaryDiscardedRate","Extensions_WebRTCStats_ssrc_audio_recv_googAccelerateRate","Extensions_WebRTCStats_ssrc_audio_recv_bytesReceived","Extensions_WebRTCStats_ssrc_audio_recv_googCurrentDelayMs","Extensions_WebRTCStats_ssrc_audio_recv_googExpandRate","Extensions_WebRTCStats_ssrc_audio_recv_googPreemptiveExpandRate","Extensions_WebRTCStats_ssrc_audio_recv_googJitterBufferMs","Extensions_WebRTCStats_ssrc_audio_recv_googDecodingMuted","Extensions_WebRTCStats_ssrc_video_send_packetsSent","Extensions_WebRTCStats_ssrc_video_send_packetsLost","Extensions_WebRTCStats_ssrc_video_send_hugeFramesSent","Extensions_WebRTCStats_ssrc_video_send_framesEncoded","Extensions_WebRTCStats_ssrc_video_send_googCodecName","Extensions_WebRTCStats_ssrc_video_send_codecImplementationName","Extensions_WebRTCStats_ssrc_video_send_qpSum","Extensions_WebRTCStats_ssrc_video_send_googContentType","Extensions_WebRTCStats_ssrc_video_send_googFrameRateInput","Extensions_WebRTCStats_ssrc_video_send_googFrameRateSent","Extensions_WebRTCStats_ssrc_video_send_googFrameWidthInput","Extensions_WebRTCStats_ssrc_video_send_googFrameHeightInput","Extensions_WebRTCStats_ssrc_video_send_googFrameWidthSent","Extensions_WebRTCStats_ssrc_video_send_googFrameHeightSent","Extensions_WebRTCStats_ssrc_video_send_googNacksReceived","Extensions_WebRTCStats_ssrc_video_send_googEncodeUsagePercent","Extensions_WebRTCStats_ssrc_video_send_googAvgEncodeMs","Extensions_WebRTCStats_ssrc_video_send_googCpuLimitedResolution","Extensions_WebRTCStats_ssrc_video_send_googBandwidthLimitedResolution","Extensions_WebRTCStats_ssrc_video_send_googHasEnteredLowResolution","Extensions_WebRTCStats_ssrc_video_send_googAdaptationChanges","Extensions_WebRTCStats_ssrc_video_send_googPlisReceived","Extensions_WebRTCStats_ssrc_video_send_googFirsReceived","Extensions_WebRTCStats_ssrc_video_send_googRtt","Extensions_Video_send_DurationSeconds","Extensions_Video_send_QpAvg","Extensions_Video_send_frameRateAvg","Extensions_Video_send_bitrateAvg","Extensions_Video_send_bitrateMax","Extensions_Video_send_DelayCur","Extensions_Video_send_DelayAvg","Extensions_Video_send_TimeSinceLastEncodeStart","Extensions_Video_send_AllocateBWAvg","Extensions_Video_send_CaptureFramerateAvg","Extensions_Video_send_MaxCapabilities","Extensions_Video_send_CameraOpenWidth","Extensions_Video_send_CameraOpenHeight","Extensions_Video_send_OvershootEvents","Extensions_Video_send_OvershootDurations","Extensions_Video_send_FreezeIntervals","Extensions_Video_send_KeyFrameStats","Extensions_WebRTCStats_ssrc_video_recv_googContentType","Extensions_WebRTCStats_ssrc_video_recv_googCaptureStartNtpTimeMs","Extensions_WebRTCStats_ssrc_video_recv_googTargetDelayMs","Extensions_WebRTCStats_ssrc_video_recv_packetsLost","Extensions_WebRTCStats_ssrc_video_recv_googDecodeMs","Extensions_WebRTCStats_ssrc_video_recv_googFrameHeightReceived","Extensions_WebRTCStats_ssrc_video_recv_googFrameRateOutput","Extensions_WebRTCStats_ssrc_video_recv_packetsReceived","Extensions_WebRTCStats_ssrc_video_recv_googRenderDelayMs","Extensions_WebRTCStats_ssrc_video_recv_googMaxDecodeMs","Extensions_WebRTCStats_ssrc_video_recv_googFrameWidthReceived","Extensions_WebRTCStats_ssrc_video_recv_codecImplementationName","Extensions_WebRTCStats_ssrc_video_recv_googInterframeDelayMax","Extensions_WebRTCStats_ssrc_video_recv_googCodecName","Extensions_WebRTCStats_ssrc_video_recv_googFrameRateReceived","Extensions_WebRTCStats_ssrc_video_recv_framesDecoded","Extensions_WebRTCStats_ssrc_video_recv_googNacksSent","Extensions_WebRTCStats_ssrc_video_recv_googFirsSent","Extensions_WebRTCStats_ssrc_video_recv_bytesReceived","Extensions_WebRTCStats_ssrc_video_recv_googCurrentDelayMs","Extensions_WebRTCStats_ssrc_video_recv_googFrameRateDecoded","Extensions_WebRTCStats_ssrc_video_recv_googJitterBufferMs","Extensions_WebRTCStats_ssrc_video_recv_googPlisSent","Extensions_WebRTCStats_ssrc_video_recv_googFirstFrameReceivedToDecodedMs","Extensions_WebRTCStats_ssrc_video_recv_qpSum","Extensions_AudioTransportRecvBitrate","Extensions_AudioTransportSendBitrate","Extensions_AudioPayloadSendBitrate","Extensions_AudioPayloadRecvBitrate","Extensions_VideoPayloadSendBitrate","Extensions_VideoPayloadRecvBitrate","Extensions_TimerAudioTransportRecvBitrate","Extensions_TimerAudioTransportSendBitrate","Extensions_TimerVideoPayloadRecvBitrate","Extensions_TimerVideoPayloadSendBitrate","Extensions_StartTime","Extensions_EndTime","Extensions_MaxSessionBandwidth","Extensions_OfferedSrtp","Extensions_NegotiatedSrtp","Extensions_IceConnectionState","Extensions_IceConnectionStatePrevious","Extensions_SignalingState","Extensions_SignalingStatePrevious","Extensions_ReportedSendBWMin","Extensions_RelayCandidate","Extensions_Bandwidth_JumpsHistogram","Extensions_ReportedSendBWMax","Extensions_IceTransportPolicy","Extensions_IceServers","Extensions_FakeIceCandidate","Extensions_iceCandidateErrors","Extensions_BweType","Extensions_SdpSemantics","Extensions_BundlePolicy","Extensions_H264_available_profiles","Extensions_Video_recv_DurationSeconds","Extensions_Video_recv_QpAvg","Extensions_Video_recv_frameRateAvg","Extensions_Video_recv_bitrateAvg","Extensions_Video_recv_bitrateMax","Extensions_Video_recv_TimeSinceLastDecodeStart","Extensions_Video_recv_FreezeHistogram","Extensions_Video_recv_FreezeTimestamps","Extensions_Video_recv_LongestFreezeDuration","Extensions_Video_recv_RecvAvgFreezeDuration","Extensions_Video_recv_TotalFreezeDuration","Extensions_Video_recv_OngoingFreeze","Extensions_Video_recv_NumResolutionSwitches","Extensions_Video_recv_PreferredResolution","Extensions_Video_recv_ResolutionDurations","Extensions_Video_recv_StreamsMin","Extensions_Video_recv_StreamsMax","Extensions_Video_recv_StreamsMode","Extensions_WebRTCStats_ssrc_sharing_recv_transport_localCertificateId","Extensions_Video_SubscriptionEvents","metrics_SessionId","metrics_CallNumber","metrics_NoIceCandidatesBadEventCount","metrics_NoIceCandidatesGoodEventCount","metrics_NoRelayIceCandidatesBadEventCount","metrics_NoRelayIceCandidatesGoodEventCount","metrics_CameraInUseBadEventCount","metrics_CameraInUseGoodEventCount","metrics_MicrophoneInUseBadEventCount","metrics_MicrophoneInUseGoodEventCount","metrics_CameraFreezeStartEventCount","metrics_CameraFreezeEndEventCount","metrics_RetargetIncomingCount","metrics_RetargetOutgoingCount","metrics_RetargetCompletedCount","metrics_ReconnectAttemptedCount","metrics_EscalationRejectedCount","metrics_ScreenSharingIncomingDecoderFailureCount","metrics_ScreenSharingIncomingDecoderFailureRecoverDelta","metrics_ScreenSharingIncomingDecoderResetCount","metrics_CreationTime","metrics_InitTime","metrics_TerminationTime","metrics_CallDuration","metrics_InitialNegotiationType","metrics_InitialNegotiationCompleted","metrics_NegotiationCount","metrics_RejectedNegotiationCount","metrics_MediaLegId","metrics_MultiParty","metrics_ErrorType","metrics_ErrorDetail","metrics_TerminationReason_code","metrics_TerminationReason_subCode","metrics_TerminationReason_phrase","metrics_TerminationReason_remoteTerminated","metrics_TerminationReason_clientReasonSubCode","metrics_TerminationReason_resultCategories","metrics_IncompatibleOffer","metrics_DtmfSuccess","metrics_DtmfFailure","metrics_Relay","metrics_RelayManager","metrics_AllowedAudioSend","metrics_AllowedVideoSend","metrics_AllowedScreensharingSend","metrics_IceInitTime","metrics_FinalAnswerTime","metrics_IceConnectedStateTime","metrics_UsedMicrophone","metrics_UsedSpeaker","metrics_UsedCamera","metrics_DeviceSelectionChangeCount","metrics_DevicesChangeCount","metrics_DevicesPollChangeCount","metrics_DevicesCount","metrics_ETag","metrics_ConfigIds","metrics_AllowedSharingSend","metrics_CallMutedRatio","metrics_CallOsMuted","metrics_CallHwSilent","metrics_CallSwMuted","metrics_CallSpeakerMuted","metrics_CallIsSpeaking","metrics_NetworkRecvGood","metrics_NetworkRecvPoor","metrics_NetworkRecvBad","metrics_NetworkSendGood","metrics_NetworkSendPoor","metrics_NetworkSendBad","metrics_NetworkRecvGoodRatio","metrics_NetworkRecvPoorRatio","metrics_NetworkRecvBadRatio","metrics_NetworkSendGoodRatio","metrics_NetworkSendPoorRatio","metrics_NetworkSendBadRatio","metrics_DeviceEvents","metrics_DeviceList","metrics_DeviceListDebug","metrics_PermissionStates","metrics_ReconnectInProgress","metrics_TransportReconnectedCount","metrics_ReconnectAttempts","metrics_UFDs","metrics_MediaQosEnabled","metrics_PortRangeConfigured","metrics_RollbackNegotiation"],"extends":"pluginlessbaseevent"},{"name":"mdsc_webrtc_session","required":true,"fields":["Extensions_WebRTCStats_ssrc_sharing_send_packetsSent","Extensions_WebRTCStats_ssrc_sharing_send_bytesSent","Extensions_WebRTCStats_ssrc_sharing_send_transport_selectedCandidatePairId"],"extends":"mdsc_webrtc_session_initial"},{"name":"skypecosi_concore_web_csa_conversation_callmodality","required":true,"fields":["Type","ResultDetail","ResultValue","ParticipantId","EndpointId"],"extends":"pluginlessbaseevent","optionalFields":["theme","UserRole","uiVersion","sessionId","identitytype","host","authType","rtlMode","vdiVersion"]},{"name":"people_presence","required":true,"fields":["Origin","IsSuccess","RetriesCount","ErrorCode","ErrorMessage","ToPresence"],"extends":"telemetryeventbase"},{"name":"people_presence_error","required":true,"fields":["Origin"],"extends":"telemetryeventbase"},{"name":"people_presence_failure","required":true,"fields":["ServiceType","Scenario","StatusCode","StatusText","DidTimeOut","Url","Method","CorrelationId"],"extends":"telemetryeventbase"},{"name":"my_presence","required":true,"fields":["UpsStatus","CsStatus","CsCorrelationId","UpsCorrelationId","Scenario"],"extends":"telemetryeventbase"},{"name":"presence_for_mris","required":true,"fields":["Total","Same","CsCorrelationId","UpsCorrelationId"],"extends":"telemetryeventbase"},{"name":"pressaction","required":true,"fields":["scenario","origin","timeGap"],"extends":"telemetryeventbase"},{"name":"rewards_claim","required":true,"fields":["Action","StatusCode"],"extends":"telemetryeventbase"},{"name":"scenario","fields":["ScenarioName","ScenarioId"],"extends":"telemetryeventbase","variation":{"key":"ScenarioName","variants":[{"name":"LoginAuth","fields":["ScenarioAction_service","ScenarioAction_scenario","ScenarioAction_errorName","ScenarioAction_statusCode","ScenarioAction_correlationId","ScenarioAction_subScenario","ScenarioAction_ThirdPartyCookiesDisabled"],"extends":"RequestReliabilityTrackerBase","required":true},{"name":"AppStartup","fields":["ScenarioAction_currentIntent","ScenarioAction_intentBased","ScenarioAction_step_name_phase0","ScenarioAction_step_name_phase1","ScenarioAction_step_name_phase2","ScenarioAction_step_name_phase3","ScenarioAction_step_name_phase4","ScenarioAction_step_name_phase5"],"extends":"TelemetryScenarioTracker","required":true},{"name":"AppStartupIntent","fields":["ScenarioAction_AppState","ScenarioAction_StartupContext","ScenarioAction_ColdStartup","ScenarioAction_ColdStartup_step_duration","ScenarioAction_ColdStartup_total_duration","ScenarioAction_intentBased","ScenarioAction_reason","ScenarioAction_Phase0_step_duration","ScenarioAction_Phase0_total_duration","ScenarioAction_Phase1_step_duration","ScenarioAction_Phase1_total_duration","ScenarioAction_Phase2_step_duration","ScenarioAction_Phase2_total_duration","ScenarioAction_Phase3_step_duration","ScenarioAction_Phase3_total_duration","ScenarioAction_Phase4_step_duration","ScenarioAction_Phase4_total_duration","ScenarioAction_Phase5_step_duration","ScenarioAction_Phase5_total_duration","ScenarioAction_CheckAppState_step_duration","ScenarioAction_CheckAppState_total_duration","ScenarioAction_StartedProcessingLocalNotification_step_duration","ScenarioAction_StartedProcessingLocalNotification_total_duration","ScenarioAction_StartedProcessingPush_step_duration","ScenarioAction_StartedProcessingPush_total_duration","ScenarioAction_PushProcessingComplete_step_duration","ScenarioAction_PushProcessingComplete_total_duration","ScenarioAction_IncomingCallPush_step_duration","ScenarioAction_IncomingCallPush_total_duration","ScenarioAction_NotifyingCallee_step_duration","ScenarioAction_NotifyingCallee_total_duration","ScenarioAction_DisplayIncomingCallNotification_step_duration","ScenarioAction_DisplayIncomingCallNotification_total_duration","ScenarioAction_PresentIncomingRing_step_duration","ScenarioAction_PresentIncomingRing_total_duration","ScenarioAction_CallPanelRendered_step_duration","ScenarioAction_CallPanelRendered_total_duration","ScenarioAction_WillNavigateToRecents_step_duration","ScenarioAction_WillNavigateToRecents_total_duration","ScenarioAction_RecentsWillMount_step_duration","ScenarioAction_RecentsWillMount_total_duration","ScenarioAction_ConversationListPanelRendered_step_duration","ScenarioAction_ConversationListPanelRendered_total_duration","ScenarioAction_RecentsRendered_step_duration","ScenarioAction_RecentsRendered_total_duration","ScenarioAction_WillNavigateToChat_step_duration","ScenarioAction_WillNavigateToChat_total_duration","ScenarioAction_MessaggeStreamRendered_step_duration","ScenarioAction_MessaggeStreamRendered_total_duration","ScenarioAction_WillNavigateToDialpad_step_duration","ScenarioAction_WillNavigateToDialpad_total_duration","ScenarioAction_DialpadRendered_step_duration","ScenarioAction_DialpadRendered_total_duration"],"extends":"TelemetryScenarioTracker","required":true},{"name":"TimeToConnected","fields":["ScenarioAction_ConnectionType","ScenarioAction_ReasonForConnecting"],"extends":"TelemetryScenarioTracker","required":true},{"name":"AnswerCall","fields":["ScenarioName"],"extends":"TelemetryScenarioTracker","required":true},{"name":"HtmlNotification","extends":"TelemetryScenarioTracker","required":true},{"name":"Responsiveness","fields":["ScenarioAction_cause"],"extends":"TelemetryScenarioTracker","required":true},{"name":"ResponsivenessSelectHubTab","fields":["ScenarioAction_cause","ScenarioAction_tab"],"extends":"TelemetryScenarioTracker","required":true},{"name":"CreateMeetNow","fields":["ScenarioAction_EntryPoint","ScenarioAction_Partner","ScenarioAction_ConversationId","ScenarioAction_step_name_startnewmeetnow","ScenarioAction_step_name_meetnowpanelready","ScenarioAction_step_name_meetnowpanelclosed","ScenarioAction_step_name_startmeetnowbuttonclicked","ScenarioAction_step_name_callstarted","ScenarioAction_step_name_callmade"],"extends":"TelemetryScenarioTracker","required":true},{"name":"JoinMeetNow","fields":["ScenarioAction_Partner","ScenarioAction_EntryPoint","ScenarioAction_IsMeetNow","ScenarioAction_ConversationId","ScenarioAction_step_name_validjoinlinkentered","ScenarioAction_step_name_userisconversationparticipant","ScenarioAction_step_name_lobbynavigationstarted","ScenarioAction_step_name_meetnowpanelready","ScenarioAction_step_name_meetnowpanelclosed","ScenarioAction_step_name_startorjoinmeetnowbuttonclicked","ScenarioAction_step_name_callstarted","ScenarioAction_step_name_callmade"],"extends":"TelemetryScenarioTracker","required":true},{"name":"StreamFrom","fields":["ScenarioAction_origin","ScenarioAction_browserOrigin"],"extends":"TelemetryScenarioTracker","required":true},{"name":"NewGroupChat","fields":["ScenarioAction_NewGroupChatNavOrigin","ScenarioAction_AvatarSelected","ScenarioAction_ParticipantsCount","ScenarioAction_VisitedParticipantPicker","ScenarioAction_VisitedSetConvInfoPanel","ScenarioAction_ExistingConversationFound","ScenarioAction_WizardSteps","ScenarioAction_step_name_funnelcompleted","ScenarioAction_step_name_funneldropped","ScenarioAction_step_name_conversationcreated"],"extends":"TelemetryScenarioTracker","required":true},{"name":"EmoticonPesPickerOpen","fields":["ScenarioAction_step_name_finished_keyboard_seen","ScenarioAction_step_name_finished_first_item_load","ScenarioAction_step_name_finished_open","ScenarioAction_totalCount"],"extends":"TelemetryScenarioTracker","required":true},{"name":"EmergencyRestoreEndpoints","fields":["ScenarioAction_step_name_GotSkypeToken","ScenarioAction_step_name_MarkEndpointsMissing","ScenarioAction_step_name_EndpointRestored","ScenarioAction_step_name_PushSubscriptionRestored","ScenarioAction_step_name_TimedOut","ScenarioAction_step_name_Failed","ScenarioAction_step_name_Ignored"],"extends":"TelemetryScenarioTracker","required":true},{"name":"Search","fields":["ScenarioAction_step_name_ClickOnResult","ScenarioAction_step_name_ClickOnResultContextMenu","ScenarioAction_QueryLength","ScenarioAction_Origin","ScenarioAction_ResultType","ScenarioAction_Index"],"extends":"TelemetryScenarioTracker","required":true},{"name":"InvalidGrant","fields":["ScenarioAction_step_name_PreparingToShowMsaInterrupt","ScenarioAction_step_name_MsaInterruptResolved","ScenarioAction_step_name_MsaInterruptFailure","ScenarioAction_InvalidGrantErrorCode","ScenarioAction_InvalidGrantErrorCategory","ScenarioAction_IsOneAuthInterrupt"],"extends":"TelemetryScenarioTracker","required":true},{"name":"TokenStoreInitialization","fields":["ScenarioAction_step_name_InitializedWithOneAuthStarted","ScenarioAction_step_name_InitializedWithOneAuthFinished","ScenarioAction_step_name_InitializedWithOneAuthFailed","ScenarioAction_step_name_InitializedWithLegacyAuthStack","ScenarioAction_step_name_InitializedWithOneAuthFromLegacyAuthStack","ScenarioAction_step_name_MigrationToOneAuthStarted","ScenarioAction_step_name_MigrationToOneAuthFailed","ScenarioAction_step_name_MigrationToOneAuthFinished","ScenarioAction_step_name_MigrationToOneAuthRejected","ScenarioAction_step_name_MigrateBackToLegacyAuthStackStarted","ScenarioAction_step_name_MigrateBackToLegacyAuthStackFailed","ScenarioAction_step_name_MigrateBackToLegacyAuthStackFinished","ScenarioAction_step_name_ForceLogoutSet"],"extends":"TelemetryScenarioTracker","required":true},{"name":"GetAllDisplayableUsers","extends":"TelemetryScenarioTracker","required":true},{"name":"PutDisplayableUsers","extends":"TelemetryScenarioTracker","required":true},{"name":"GetMessagesForConversationAfterTime","extends":"TelemetryScenarioTracker","required":true},{"name":"GetMessagesForConversationAndTimeRange","extends":"TelemetryScenarioTracker","required":true},{"name":"RemoveMessages","extends":"TelemetryScenarioTracker","required":true},{"name":"PutMessages","extends":"TelemetryScenarioTracker","required":true},{"name":"GetAllConversationMetas","extends":"TelemetryScenarioTracker","required":true},{"name":"PutConversationMetas","extends":"TelemetryScenarioTracker","required":true},{"name":"RemoveConversationMetas","extends":"TelemetryScenarioTracker","required":true},{"name":"GetUserProfileByMri","extends":"TelemetryScenarioTracker","required":true},{"name":"GetUserProfilesByMris","extends":"TelemetryScenarioTracker","required":true},{"name":"PutUserProfiles","extends":"TelemetryScenarioTracker","required":true},{"name":"PhoneAuth","fields":["ScenarioAction_ResendCount","ScenarioAction_Source","ScenarioAction_WasCodeAutoFilled","ScenarioAction_QsoAccountCount","ScenarioAction_IsFromBackNavigation","ScenarioAction_WasPhoneNumberAutoFilled","ScenarioAction_IsSuccessful","ScenarioAction_IsSignUp","ScenarioAction_step_name_phoneverificationrequested","ScenarioAction_step_name_createaccountconfirmation","ScenarioAction_step_name_arkosechallenge","ScenarioAction_step_name_codeinput","ScenarioAction_step_name_codeverificationrequested","ScenarioAction_step_name_ageconfirmation","ScenarioAction_step_name_birthdateinput","ScenarioAction_step_name_profile","ScenarioAction_step_name_msafallbacksignin","ScenarioAction_step_name_msaflowstarted"],"extends":"TelemetryScenarioTracker","required":true},{"name":"PhoneVerification","fields":["ScenarioAction_ResendCount","ScenarioAction_IsSuccessful","ScenarioAction_step_name_phoneverificationrequested","ScenarioAction_step_name_arkosechallenge","ScenarioAction_step_name_codeinput","ScenarioAction_step_name_codeverificationrequested"],"extends":"TelemetryScenarioTracker","required":true},{"name":"PerfScenarioTracker","fields":["ScenarioAction_step_name_started","ScenarioAction_error_description"]},{"name":"TelemetryScenarioTracker","fields":["ScenarioAction_step_name","ScenarioAction_step_duration","ScenarioAction_total_duration","ScenarioAction_is_final","ScenarioAction_target_duration_ms"],"extends":"PerfScenarioTracker"},{"name":"RequestReliabilityTrackerBase","fields":["ScenarioAction_requestId","ScenarioAction_attempt"],"extends":"TelemetryScenarioTracker"}]}},{"name":"sisutelemetryeventbase","fields":["IsFirstTimeSignIn","ActivationState"],"extends":"telemetryeventbase"},{"name":"sisu_welcome_screen","required":true,"fields":["Action","IsMSASignUpWebViewLoaded","IsFromOneAuth","IsFromPhoneAuth"],"extends":"sisutelemetryeventbase","variation":{"key":"Action","variants":[{"name":"WelcomeScreenLoaded","required":true},{"name":"NeedHelpClicked"},{"name":"LoginFlowStarted","required":true},{"name":"CreateAccountFlowStarted","required":true}]}},{"name":"sisu_app_entry_start","required":true,"fields":["Method","IsFromOneAuth","MsaNavigationSource","IsFromPhoneAuth"],"extends":"sisutelemetryeventbase"},{"name":"sisu_app_entry","required":true,"fields":["Method","IsFromOneAuth","MsaNavigationSource","IsFromPhoneAuth"],"extends":"sisutelemetryeventbase"},{"name":"sisu_app_entry_finish","required":true,"fields":["Method","IsFromOneAuth","IsFromPhoneAuth"],"extends":"sisutelemetryeventbase"},{"name":"sisu_msa_signup_funnel","required":true,"fields":["FunnelPageName","ErrorCode"],"extends":"sisutelemetryeventbase"},{"name":"sisu_msa_signin_funnel","required":true,"fields":["FunnelPageName","ErrorCode"],"extends":"sisutelemetryeventbase"},{"name":"sisu_msa_interrupt_handler","required":true,"fields":["Action"],"extends":"sisutelemetryeventbase","variation":{"key":"Action","variants":[{"name":"RefreshTokenStored","required":true},{"name":"UserSwitchedAccounts","required":true},{"name":"UserSignedIn","required":true}]}},{"name":"sisu_sso_screen","required":true,"fields":["Action","IsFromOneAuth"],"extends":"sisutelemetryeventbase","variation":{"key":"Action","variants":[{"name":"SsoTokenSignIn","extends":"SsoTokenWithPackageIdBase","required":true},{"name":"SsoTokenAutoRefreshed","extends":"SsoTokenWithPackageIdBase","required":true},{"name":"SsoTokenInterrupted","extends":"SsoTokenWithPackageIdBase","required":true},{"name":"SsoTokenSignedIn","extends":"SsoTokenWithPackageIdBase","required":true},{"name":"SsoTokenWithPackageIdBase","fields":["ProviderPackageId"]}]}},{"name":"sisu_refreshtoken_error","required":true,"fields":["ErrorCode","TokenSource","ErrorName","ErrorMessage"],"extends":"sisutelemetryeventbase"},{"name":"sisu_auto_sign_in","required":true,"fields":["Action","IsFirstTimeSignIn"],"extends":"sisutelemetryeventbase","variation":{"key":"Action","variants":[{"name":"ExtraSignInStarted"},{"name":"WAMCacheInvalidated","required":true},{"name":"WAMLoginFailure","required":true},{"name":"WAMLoginCompleted","required":true},{"name":"WAMTokenRequested","extends":"WAMTokenEventBase","required":true},{"name":"WAMTokenRetrieved","extends":"WAMTokenEventBase","required":true},{"name":"WAMTokenRetrievalFailure","fields":["ErrorCode","ErrorMessage","HResult"],"extends":"WAMTokenEventBase","required":true},{"name":"WamAutoSignInStarted","fields":["IsSwitchAccountScenario"],"required":true},{"name":"WamAutoSignInCompleted","fields":["IsSwitchAccount","IsSecondTry"],"required":true},{"name":"WamAutoSignInFailed","fields":["IsSwitchAccountScenario","IsSecondTry","IsNoAccountFound","IsUserExplicitAutoSignIn"],"required":true},{"name":"WamAutoSignInSkiped","fields":["IsSwitchAccountScenario","AutoSignInSkipReason"],"required":true},{"name":"WAMTokenEventBase","fields":["IsRefreshRequest","SignInSource","WamCorrelationId"]}]}},{"name":"sisu_auth_background_refresh","required":true,"extends":"prioritytelemetryeventbase","variation":{"key":"Action","variants":[{"name":"RefreshScheduled","extends":"AuthBackgroundRefreshBaseEvent","required":true},{"name":"UpdateTriggered","extends":"AuthBackgroundRefreshBaseEvent","required":true},{"name":"HasValidToken","extends":"AuthBackgroundRefreshBaseEvent","required":true},{"name":"AuthBackgroundRefreshBaseEvent","fields":["Action"]}]}},{"name":"sisu_login_logout","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"RedirectToLogin","fields":["Reason","ErrorCode","TimeSinceLastRefresh","ErrorCorrelationId"],"extends":"LoginLogoutEventBase","required":true},{"name":"StartupError","fields":["Error","AppWakeupReason"],"extends":"LoginLogoutEventBase","required":true},{"name":"Logout","fields":["Reason","IsSaveCredentials"],"extends":"LoginLogoutEventBase","required":true},{"name":"KeychainFailure","fields":["Error","FailureType","TokenType"],"extends":"LoginLogoutEventBase","required":true},{"name":"TokenIssue","fields":["TokenType","TokenIssueType","Source"],"extends":"LoginLogoutEventBase","required":true},{"name":"PreSignOutPanelAction","extends":"LoginLogoutEventBase"},{"name":"LoginLogoutEventBase"}]}},{"name":"sisu_phone_verification","fields":["Stage","Error","CorrelationId","Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MsaPhoneAccrualStart","extends":"PnvTelemetryEventBase","required":true},{"name":"MsaPhoneAccrualVerified","extends":"PnvTelemetryEventBase","required":true},{"name":"MsaPhoneAccrualRegistered","extends":"PnvTelemetryEventBase","required":true},{"name":"MsaEmailAccrualVerified","extends":"PnvTelemetryEventBase","required":true},{"name":"MsaEmailAccrualRegistered","extends":"PnvTelemetryEventBase","required":true},{"name":"MsaPhoneAccrualCancelled","extends":"PnvTelemetryEventBase","required":true},{"name":"MsaPhoneAccrualError","extends":"PnvTelemetryEventBase","required":true},{"name":"NeedVerification","extends":"PnvTelemetryEventBase"},{"name":"SkypePhoneAccrualStart","extends":"PnvTelemetryEventBase"},{"name":"SkypePhoneAccrualCountryNotAllowed","extends":"PnvTelemetryEventBase"},{"name":"SkypePhoneAccrualPhoneVerified","extends":"PnvTelemetryEventBase"},{"name":"SkypePhoneAccrualCodeVerified","extends":"PnvTelemetryEventBase"},{"name":"PnvTelemetryEventBase","fields":["CorrelationId","Action"]}]}},{"name":"sisu_qso","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Started","extends":"QuickSignOnTelemetryBaseEvent","required":true},{"name":"AutoRefreshed","extends":"QuickSignOnTelemetryBaseEvent","required":true},{"name":"Interrupted","extends":"QuickSignOnTelemetryBaseEvent","required":true},{"name":"SignedIn","extends":"QuickSignOnTelemetryBaseEvent","required":true},{"name":"AccountListFetched","fields":["AccountListSize"],"extends":"QuickSignOnTelemetryBaseEvent","required":true},{"name":"QuickSignOnTelemetryBaseEvent","fields":["Action","IsFromPhoneAuth"]}]}},{"name":"sisu_guest_meetnow","required":true,"fields":["SisuPageName","IsPresentedAsMainCTAButton"],"extends":"sisutelemetryeventbase"},{"name":"sisu_msa_profile_fetch","required":true,"fields":["AgeGroup","ErrorStatus"],"extends":"telemetryeventbase"},{"name":"sisu_msa_qr_sign_in","required":true,"fields":["Action","QrShowType","ErrorType","ErrorStatus"],"extends":"sisutelemetryeventbase","variation":{"key":"Action","variants":[{"name":"QrSignInSuccessful","extends":"QrSignInEventBase","required":true},{"name":"QrSignInTokenExchangeFailed","extends":"QrSignInEventBase","required":true},{"name":"QrSignInQrCodeRenderedSuccessfully","extends":"QrSignInEventBase","required":true},{"name":"QrSignInQrCodeRenderFailed","extends":"QrSignInEventBase","required":true},{"name":"QrSignInNotAvailable","extends":"QrSignInEventBase","required":true},{"name":"QrSignInEventBase","fields":["Action"]}]}},{"name":"sisu_msix_background_task","required":true,"fields":["Action","IsSuccessful","CorrelationId","BackgroundTaskName","BackgroundTaskTriggerType","TimeTriggerInterval"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Register","required":true},{"name":"Unregister","required":true},{"name":"UnregisterAll","required":true}]}},{"name":"sisu_msa_interrupt_notification_clicked","required":true,"fields":["IsMsaInvalidGrantInterruptReminder"],"extends":"telemetryeventbase"},{"name":"sisu_migrated_t1_credentials","fields":["Type","Step","WLIDErrorCode","WebErrorStatusCode","WebErrorShortName"],"extends":"telemetryeventbase"},{"name":"sisu_converged_msa","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"CallInterruptAvoided","extends":"ConvergedMsaEventBase"},{"name":"NotificationInterruptAvoided","extends":"ConvergedMsaEventBase"},{"name":"BackgroundInterruptAvoided","extends":"ConvergedMsaEventBase"},{"name":"UnexpectedRetrySuccess","extends":"ConvergedMsaEventBase"},{"name":"ConvergedMsaEventBase"}]}},{"name":"sisu_network_error_debug","required":true,"fields":["RestClient","Scenario","StatusCode","StatusText","Error"],"extends":"telemetryeventbase"},{"name":"sisu_oneauth_action","required":true,"fields":["Action","IsError","ErrorType","ErrorOneAuthStatus","ErrorOneAuthSubStatus","ErrorReason","IsRefreshTokenFromQrCodeSignIn","Scope","IsQsoLogout","NumberOfAccountsFetched","isEmailAccrual","isPhoneAccrual","WithTokenToRenew"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"RefreshTokenMigration","required":true},{"name":"SignOut","required":true},{"name":"GetAvailableAccounts","required":true},{"name":"SignInOrSignUp","required":true},{"name":"AcquireCredentialsSilently","required":true},{"name":"AcquireCredentialsSilentlyWithUIFallback","required":true},{"name":"AcquireCredentialsInteractively","required":true}]}},{"name":"sisu_background_token_refresh_ios","required":true,"fields":["Action","CorrelationId","Success","FailureReason"]},{"name":"sisu_msa_username_validation","required":true,"fields":["Action","CorrelationId","UsernameType","IsFormattedCorrectly","ErrorCode","ErrorName"],"extends":"telemetryeventbase"},{"name":"sisu_phone_auth_client_error","required":true,"fields":["Action","CorrelationId","IsPhoneVerificationFlow","ErrorCode","ErrorDescription","PhoneNumberHash"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"PhoneVerification","required":true},{"name":"CodeVerification","required":true},{"name":"Provision","required":true},{"name":"Refresh","required":true},{"name":"GetActiveSessions","required":true},{"name":"SignOut","required":true},{"name":"SignOutFromAllDevices","required":true},{"name":"Delete","required":true},{"name":"ConvergenceStatus","required":true},{"name":"MsaLinking","required":true},{"name":"MsaConvergence","required":true}]}},{"name":"sisu_phone_auth_action","required":true,"fields":["Action","CorrelationId","NavigationSource","IsSuccessful","ErrorCode","Duration","IsReloginScenario"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MsaLinkingStarted","required":true},{"name":"MsaLinkingCancelled","required":true},{"name":"MsaLinkingCompleted","required":true},{"name":"ProfileDisplayNameUpdated","required":true},{"name":"ProfileAvatarUpdated","required":true},{"name":"UseExistingAccountPressed","required":true},{"name":"CodeInputFallbackToMsaLogin","required":true},{"name":"PhoneVerificationRequestSucceeded","required":true},{"name":"CodeVerificationRequestSucceeded","required":true},{"name":"PhoneAccountProvisioningRequestSucceeded","required":true}]}},{"name":"sisu_arkose_captcha","required":true,"fields":["Action","CaptchaWasShown","FailureReason","FailureDescription","CorrelationId","Attempt","IsPhoneVerificationFlow"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"ArkoseCaptchaPuzzleShown","required":true},{"name":"ArkoseCaptchaCompleted","required":true},{"name":"ArkoseCaptchaFailed","required":true}]}},{"name":"sisu_scoped_token_fetch","required":true,"fields":["Action","Scope","Source","IsSuccessful","ErrorCode","ErrorReason"],"extends":"sisutelemetryeventbase","variation":{"key":"Action","variants":[{"name":"ScopedTokenFetchStarted","required":true},{"name":"ScopedTokenFetchCompleted","required":true}]}},{"name":"sisu_account_switch","required":true,"fields":["Action","CorrelationId","EntryPoint","AccountType","TokenSource","IsSuccessful","ErrorReason","ErrorCode","IsAddAccountFlow"],"extends":"telemetryeventbase"},{"name":"sisu_account_list_size","required":true,"fields":["Action","AccountListSize","AccountListLocation","EntryPoint","OneAuthAccountCount","LegacyAccountCount","QsoAccountCount","SsoAccountCount"],"extends":"telemetryeventbase"},{"name":"s4l_today","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"TodayBridgeTelemetry","fields":["origin","channelScenario","errorType"],"extends":"TodayTabBase","required":true},{"name":"TodayWebView","fields":["stage","origin","isFirstLoad","loadDuration","code","description","statusCode","isRenderedOnLandingScreen"],"extends":"TodayTabBase","required":true},{"name":"TodayShareTelemetry","fields":["shareAction","origin"],"extends":"TodayTabBase","required":true},{"name":"TodayActionMenu","fields":["menuAction","origin"],"extends":"TodayTabBase","required":true},{"name":"TodayTabToggleSetting","fields":["DidEnable"],"extends":"TodayTabBase","required":true},{"name":"TodayArticleReaderTelemetry","fields":["action","origin"],"extends":"TodayTabBase","required":true},{"name":"TodayMarketChangeTelemetry","fields":["selectedMarket"],"extends":"TodayTabBase","required":true},{"name":"TodayInterestPageAvailabilityChangeTelemetry","fields":["isEnabled"],"extends":"TodayTabBase","required":true},{"name":"TodayFeedRefreshActionTelemetry","extends":"TodayTabBase","required":true},{"name":"TodayTabOpenNativeChannelStore","extends":"TodayTabBase","required":true},{"name":"TodayOnLandingScreenTelemetry","extends":"TodayTabBase","required":true},{"name":"TodayTabBase","fields":["Action"]}]}},{"name":"calling_twincam","fields":["Action","CallId"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"TwinCamShareIntent","fields":["origin"],"required":true},{"name":"TwinCamDeepLinkNavigate","required":true},{"name":"TwinCamLobbyMounted","required":true},{"name":"TwinCamLobbyStoppedLoading","fields":["loadingTime","closedBeforeLoadingFinished","isOneOnOne"],"required":true},{"name":"TwinCamStartButtonPressed","required":true},{"name":"TwinCamCallConnected","fields":["connectingTime","isOneOnOne"],"required":true},{"name":"TwinCamLobbyClosedBeforeConnectingFinished","fields":["connectingTime","isOneOnOne"],"required":true},{"name":"TwinCamCallDisconnected","required":true}]}}]')}}]);